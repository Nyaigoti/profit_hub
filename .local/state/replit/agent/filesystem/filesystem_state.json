{
    "file_contents": {
        "src/components/shared_ui/themed-scrollbars/index.ts": {
            "content": "import ThemedScrollbars from './themed-scrollbars';\nimport './themed-scrollbars.scss';\n\nexport default ThemedScrollbars;\n",
            "size_bytes": 121
        },
        "src/pages/tutorials/dbot-tours/bot-builder-tour/bot-builder-tour-mobile.tsx": {
            "content": "import React from 'react';\nimport { observer } from 'mobx-react-lite';\nimport ProgressBarTracker from '@/components/shared_ui/progress-bar-tracker';\nimport Text from '@/components/shared_ui/text';\nimport { useStore } from '@/hooks/useStore';\nimport { getSetting } from '@/utils/settings';\nimport { localize } from '@deriv-com/translations';\nimport TourButton from '../common/tour-button';\nimport TourStartDialog from '../common/tour-start-dialog';\nimport { BOT_BUILDER_MOBILE } from '../tour-content';\nimport { highlightLoadModalButton } from '../utils';\n\nconst BotBuilderTourMobile = observer(() => {\n    const { dashboard, load_modal, quick_strategy } = useStore();\n    const { toggleTourLoadModal } = load_modal;\n    const {\n        onTourEnd,\n        setTourActiveStep,\n        active_tour,\n        show_mobile_tour_dialog,\n        active_tab,\n        setShowMobileTourDialog,\n        setTourDialogVisibility,\n    } = dashboard;\n    const { is_open } = quick_strategy;\n    const [tour_step, setTourStep] = React.useState<number>(1);\n    const content_data = BOT_BUILDER_MOBILE.find(({ tour_step_key }) => {\n        return tour_step_key === tour_step;\n    });\n    const test_id = tour_step === 3 ? 'finish-bot-builder-tour' : 'next-bot-builder-tour';\n\n    React.useEffect(() => {\n        setTourActiveStep(tour_step);\n        //component does not rerender so calling this to highlight\n        !show_mobile_tour_dialog && highlightLoadModalButton(active_tour, tour_step);\n        if (tour_step === 2) toggleTourLoadModal(true);\n        else if (active_tour !== '') toggleTourLoadModal(false);\n        const token = getSetting('bot_builder_token');\n        if (!token && active_tab === 1) {\n            if (is_open) {\n                setTourDialogVisibility(false);\n            } else {\n                setTourDialogVisibility(true);\n            }\n            setShowMobileTourDialog(true);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [tour_step, show_mobile_tour_dialog]);\n\n    const tour_button_text = tour_step === 3 ? localize('Finish') : localize('Next');\n    const is_tour_active = active_tour === 'onboarding';\n    return (\n        <>\n            {show_mobile_tour_dialog && <TourStartDialog />}\n            {active_tour && !show_mobile_tour_dialog && (\n                <div data-testid='botbuilder-tour-mobile' className='dbot-slider dbot-slider__bot-builder-tour'>\n                    <div className='dbot-slider__label'>\n                        <Text as='span' size='xs' weight='bold'>\n                            {content_data?.header}\n                        </Text>\n                    </div>\n                    <div className='dbot-slider__content'>\n                        <Text as='span' lineHeight='s' size='xs'>\n                            {content_data?.content}\n                        </Text>\n                    </div>\n                    <div className='dbot-slider__status'>\n                        <div className='dbot-slider__progress-bar'>\n                            {\n                                <ProgressBarTracker\n                                    step={tour_step}\n                                    steps_list={BOT_BUILDER_MOBILE.map(v => v.tour_step_key.toString())}\n                                    onStepChange={setTourStep}\n                                />\n                            }\n                        </div>\n                        <div className='dbot-slider__button-group'>\n                            {tour_step !== 1 && (\n                                <TourButton\n                                    onClick={() => {\n                                        setTourStep(tour_step - 1);\n                                    }}\n                                    label={localize('Previous')}\n                                    data-testid='prev-bot-builder-tour'\n                                />\n                            )}\n                            <TourButton\n                                type='danger'\n                                onClick={() => {\n                                    setTourStep(tour_step + 1);\n                                    onTourEnd(tour_step, is_tour_active);\n                                }}\n                                label={tour_button_text}\n                                data-testid={test_id}\n                            />\n                        </div>\n                    </div>\n                </div>\n            )}\n        </>\n    );\n});\n\nexport default BotBuilderTourMobile;\n",
            "size_bytes": 4537
        },
        "src/components/notify-item/notify-item.tsx": {
            "content": "import { Icon } from '@/utils/tmp/dummy';\nimport Button from '../shared_ui/button';\nimport ExpansionPanel from '../shared_ui/expansion-panel';\n\nexport const getIcon = (type: string) => {\n    switch (type) {\n        case 'error':\n            return 'IcAlertDanger';\n        case 'warn':\n            return 'IcAlertWarning';\n        case 'info':\n            return 'IcAlertInfo';\n        default:\n            return 'IcAlertWarning';\n    }\n};\n\ntype TMessageWithButton = {\n    unique_id: string;\n    type: string;\n    message: string;\n    btn_text: string;\n    onClick: () => void;\n};\n\nexport const messageWithButton = ({ unique_id, type, message, btn_text, onClick }: TMessageWithButton) => (\n    <>\n        <div key={`${unique_id}_message`} className='notify__item-container'>\n            <Icon key={`${unique_id}_icon`} icon={getIcon(type)} size='22' />\n            <div key={`${unique_id}_text`} className='notify__item-message'>\n                {message}\n            </div>\n        </div>\n        <Button\n            key={`${unique_id}_btn`}\n            className='notify__item-button'\n            text={btn_text}\n            onClick={onClick}\n            has_effect\n            secondary\n        />\n    </>\n);\n\nexport const messageWithImage = (message: string, image: string) => (\n    <>\n        <div className='notify__item-message'>{message}</div>\n        <img src={image} style={{ width: '100%' }} />\n    </>\n);\n\n// eslint-disable-next-line react/display-name\nexport const arrayAsMessage = parsedArray => measure => <ExpansionPanel message={parsedArray} onResize={measure} />;\n",
            "size_bytes": 1583
        },
        "src/utils/help-content/help-strings/get_ohlc.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize('This block gives you a specific candle from within the selected time interval.'),\n        localize('In this example, the open price of a candle is assigned to the variable \"candle_open_price\".'),\n        localize(\n            'In the above example it is assumed that variable candle_open_price is processed somewhere within other blocks.'\n        ),\n    ],\n};\n",
            "size_bytes": 466
        },
        "src/lib/ai-predictor.ts": {
            "content": "// AI Predictor using pattern analysis (simplified approach for browser)\n// Note: Full LSTM would require training data and significant computation\n// This implementation uses statistical patterns and frequency analysis\n\nexport interface PredictionResult {\n  predictions: { digit: number; probability: number }[]\n  topPrediction: { digit: number; confidence: number }\n  secondPrediction: { digit: number; confidence: number }\n  explanation: string\n}\n\nexport class AIPredictor {\n  private sequenceLength = 10\n\n  predict(lastDigits: number[], digitFrequencies: Map<number, number>): PredictionResult {\n    if (lastDigits.length < this.sequenceLength) {\n      return this.getDefaultPrediction()\n    }\n\n    // Get recent sequence\n    const recentSequence = lastDigits.slice(-this.sequenceLength)\n\n    // Calculate predictions based on multiple factors\n    const predictions = this.calculatePredictions(recentSequence, digitFrequencies, lastDigits.length)\n\n    // Sort by probability\n    const sortedPredictions = predictions.sort((a, b) => b.probability - a.probability)\n\n    const topPrediction = sortedPredictions[0]\n    const secondPrediction = sortedPredictions[1]\n\n    const explanation = this.generateExplanation(topPrediction, secondPrediction, recentSequence)\n\n    return {\n      predictions: sortedPredictions,\n      topPrediction: { digit: topPrediction.digit, confidence: topPrediction.probability },\n      secondPrediction: { digit: secondPrediction.digit, confidence: secondPrediction.probability },\n      explanation,\n    }\n  }\n\n  private calculatePredictions(\n    recentSequence: number[],\n    digitFrequencies: Map<number, number>,\n    totalTicks: number,\n  ): { digit: number; probability: number }[] {\n    const predictions: { digit: number; probability: number }[] = []\n\n    for (let digit = 0; digit <= 9; digit++) {\n      let score = 0\n\n      // Factor 1: Overall frequency (30% weight)\n      const frequency = (digitFrequencies.get(digit) || 0) / totalTicks\n      score += frequency * 0.3\n\n      // Factor 2: Recent appearance (25% weight)\n      const recentAppearances = recentSequence.filter((d) => d === digit).length\n      score += (recentAppearances / this.sequenceLength) * 0.25\n\n      // Factor 3: Pattern continuation (20% weight)\n      // Check if digit follows common patterns\n      const lastDigit = recentSequence[recentSequence.length - 1]\n      const transitionScore = this.calculateTransitionProbability(lastDigit, digit, recentSequence)\n      score += transitionScore * 0.2\n\n      // Factor 4: Absence penalty (15% weight)\n      // Digits that haven't appeared recently are more likely\n      const lastAppearance = this.getLastAppearanceIndex(digit, recentSequence)\n      const absenceBonus = lastAppearance === -1 ? 0.15 : (lastAppearance / this.sequenceLength) * 0.15\n      score += absenceBonus\n\n      // Factor 5: Randomness factor (10% weight)\n      // Add slight randomness to simulate unpredictability\n      score += Math.random() * 0.1\n\n      predictions.push({\n        digit,\n        probability: Math.min(score * 100, 100),\n      })\n    }\n\n    // Normalize probabilities to sum to 100%\n    const totalProb = predictions.reduce((sum, p) => sum + p.probability, 0)\n    return predictions.map((p) => ({\n      ...p,\n      probability: (p.probability / totalProb) * 100,\n    }))\n  }\n\n  private calculateTransitionProbability(fromDigit: number, toDigit: number, sequence: number[]): number {\n    // Count how often fromDigit is followed by toDigit in the sequence\n    let transitions = 0\n    let totalFromDigit = 0\n\n    for (let i = 0; i < sequence.length - 1; i++) {\n      if (sequence[i] === fromDigit) {\n        totalFromDigit++\n        if (sequence[i + 1] === toDigit) {\n          transitions++\n        }\n      }\n    }\n\n    return totalFromDigit > 0 ? transitions / totalFromDigit : 0.1\n  }\n\n  private getLastAppearanceIndex(digit: number, sequence: number[]): number {\n    for (let i = sequence.length - 1; i >= 0; i--) {\n      if (sequence[i] === digit) {\n        return sequence.length - 1 - i\n      }\n    }\n    return -1\n  }\n\n  private generateExplanation(\n    topPrediction: { digit: number; probability: number },\n    secondPrediction: { digit: number; probability: number },\n    recentSequence: number[],\n  ): string {\n    const reasons: string[] = []\n\n    // Check for streaks\n    const lastDigit = recentSequence[recentSequence.length - 1]\n    const streak = this.countStreak(lastDigit, recentSequence)\n\n    if (streak >= 2) {\n      reasons.push(`Recent streak of ${streak}x digit ${lastDigit}`)\n    }\n\n    // Check for absence\n    const topAbsence = this.getLastAppearanceIndex(topPrediction.digit, recentSequence)\n    if (topAbsence > 5 || topAbsence === -1) {\n      reasons.push(`Digit ${topPrediction.digit} hasn't appeared recently`)\n    }\n\n    // Check for frequency\n    const topCount = recentSequence.filter((d) => d === topPrediction.digit).length\n    if (topCount >= 3) {\n      reasons.push(`Digit ${topPrediction.digit} has high recent frequency`)\n    }\n\n    // Default explanation\n    if (reasons.length === 0) {\n      reasons.push(\"Based on statistical pattern analysis\")\n    }\n\n    return `Model favors digit ${topPrediction.digit} at ${topPrediction.probability.toFixed(1)}% confidence. ${reasons.join(\". \")}.`\n  }\n\n  private countStreak(digit: number, sequence: number[]): number {\n    let streak = 0\n    for (let i = sequence.length - 1; i >= 0; i--) {\n      if (sequence[i] === digit) {\n        streak++\n      } else {\n        break\n      }\n    }\n    return streak\n  }\n\n  private getDefaultPrediction(): PredictionResult {\n    const predictions = Array.from({ length: 10 }, (_, i) => ({\n      digit: i,\n      probability: 10,\n    }))\n\n    return {\n      predictions,\n      topPrediction: { digit: 0, confidence: 10 },\n      secondPrediction: { digit: 1, confidence: 10 },\n      explanation: \"Insufficient data for prediction. Collecting more ticks...\",\n    }\n  }\n}\n",
            "size_bytes": 5934
        },
        "src/components/shared/utils/common-data.js": {
            "content": "/**\n * Common Data Utilities\n *\n * This file contains centralized data constants and utility functions\n * to improve maintainability and provide consistent data across components.\n */\n\n// Trading Times Data\nexport const TRADING_TIMES = {\n    // Trading times for major symbols\n    SYMBOLS: [\n        // Forex - 24/5 markets\n        'frxEURUSD',\n        'frxGBPUSD',\n        'frxUSDJPY',\n        'frxAUDUSD',\n        'frxUSDCAD',\n        'frxUSDCHF',\n        'frxNZDUSD',\n        'frxEURGBP',\n        // Indices - various hours\n        'OTC_AS51',\n        'OTC_AUS200',\n        'OTC_DJI',\n        'OTC_SPC',\n        'OTC_NDX',\n        'OTC_FTSE',\n        'OTC_N225',\n        'OTC_HSI',\n        // Commodities\n        'frxXAUUSD',\n        'frxXAGUSD',\n        'OTC_OIL_USD',\n        'OTC_GAS_USD',\n        // Volatility Indices - 24/7 (ordered to match dropdown structure)\n        '1HZ100V',\n        '1HZ10V',\n        '1HZ25V',\n        '1HZ50V',\n        '1HZ75V',\n        'R_10',\n        'R_100',\n        'R_25',\n        'R_50',\n        'R_75',\n        'RDBEAR',\n        'RDBULL',\n    ],\n\n    SYMBOL_DISPLAY_NAMES: {\n        // Forex\n        frxEURUSD: 'EUR/USD',\n        frxGBPUSD: 'GBP/USD',\n        frxUSDJPY: 'USD/JPY',\n        frxAUDUSD: 'AUD/USD',\n        frxUSDCAD: 'USD/CAD',\n        frxUSDCHF: 'USD/CHF',\n        frxNZDUSD: 'NZD/USD',\n        frxEURGBP: 'EUR/GBP',\n        frxXAUUSD: 'Gold/USD',\n        frxXAGUSD: 'Silver/USD',\n\n        // Indices\n        OTC_AS51: 'Australia 200',\n        OTC_AUS200: 'Australia 200',\n        OTC_DJI: 'Wall Street 30',\n        OTC_SPC: 'US 500',\n        OTC_NDX: 'US Tech 100',\n        OTC_FTSE: 'UK 100',\n        OTC_N225: 'Japan 225',\n        OTC_HSI: 'Hong Kong 50',\n\n        // Commodities\n        OTC_OIL_USD: 'Oil/USD',\n        OTC_GAS_USD: 'Gas/USD',\n        FRXXPDUSD: 'Palladium/USD',\n        FRXXPTUSD: 'Platinum/USD',\n        'XPD/USD': 'Palladium/USD',\n        'XPT/USD': 'Platinum/USD',\n        XPDUSD: 'Palladium/USD',\n        XPTUSD: 'Platinum/USD',\n\n        // Volatility Indices - ordered to match dropdown structure\n        '1HZ100V': 'Volatility 100 (1s) Index',\n        '1HZ10V': 'Volatility 10 (1s) Index',\n        '1HZ25V': 'Volatility 25 (1s) Index',\n        '1HZ50V': 'Volatility 50 (1s) Index',\n        '1HZ75V': 'Volatility 75 (1s) Index',\n        R_10: 'Volatility 10 Index',\n        R_100: 'Volatility 100 Index',\n        R_25: 'Volatility 25 Index',\n        R_50: 'Volatility 50 Index',\n        R_75: 'Volatility 75 Index',\n        RDBEAR: 'Bear Market Index',\n        RDBULL: 'Bull Market Index',\n    },\n};\n\n// Active Symbols Data\nexport const ACTIVE_SYMBOLS = [\n    // Volatility Indices - ordered to match dropdown structure\n    {\n        symbol: '1HZ100V',\n        underlying_symbol: '1HZ100V',\n        display_name: 'Volatility 100 (1s) Index',\n        market: 'synthetic_index',\n        market_display_name: 'Derived',\n        submarket: 'random_index',\n        submarket_display_name: 'Continuous Indices',\n        pip: 0.001,\n        pip_size: 0.001,\n        exchange_is_open: true,\n        is_trading_suspended: false,\n    },\n    {\n        symbol: '1HZ10V',\n        underlying_symbol: '1HZ10V',\n        display_name: 'Volatility 10 (1s) Index',\n        market: 'synthetic_index',\n        market_display_name: 'Derived',\n        submarket: 'random_index',\n        submarket_display_name: 'Continuous Indices',\n        pip: 0.001,\n        pip_size: 0.001,\n        exchange_is_open: true,\n        is_trading_suspended: false,\n    },\n    {\n        symbol: '1HZ25V',\n        underlying_symbol: '1HZ25V',\n        display_name: 'Volatility 25 (1s) Index',\n        market: 'synthetic_index',\n        market_display_name: 'Derived',\n        submarket: 'random_index',\n        submarket_display_name: 'Continuous Indices',\n        pip: 0.001,\n        pip_size: 0.001,\n        exchange_is_open: true,\n        is_trading_suspended: false,\n    },\n    {\n        symbol: '1HZ50V',\n        underlying_symbol: '1HZ50V',\n        display_name: 'Volatility 50 (1s) Index',\n        market: 'synthetic_index',\n        market_display_name: 'Derived',\n        submarket: 'random_index',\n        submarket_display_name: 'Continuous Indices',\n        pip: 0.001,\n        pip_size: 0.001,\n        exchange_is_open: true,\n        is_trading_suspended: false,\n    },\n    {\n        symbol: '1HZ75V',\n        underlying_symbol: '1HZ75V',\n        display_name: 'Volatility 75 (1s) Index',\n        market: 'synthetic_index',\n        market_display_name: 'Derived',\n        submarket: 'random_index',\n        submarket_display_name: 'Continuous Indices',\n        pip: 0.001,\n        pip_size: 0.001,\n        exchange_is_open: true,\n        is_trading_suspended: false,\n    },\n    {\n        symbol: 'R_10',\n        underlying_symbol: 'R_10',\n        display_name: 'Volatility 10 Index',\n        market: 'synthetic_index',\n        market_display_name: 'Derived',\n        submarket: 'random_index',\n        submarket_display_name: 'Continuous Indices',\n        pip: 0.001,\n        pip_size: 0.001,\n        exchange_is_open: true,\n        is_trading_suspended: false,\n    },\n    {\n        symbol: 'R_100',\n        underlying_symbol: 'R_100',\n        display_name: 'Volatility 100 Index',\n        market: 'synthetic_index',\n        market_display_name: 'Derived',\n        submarket: 'random_index',\n        submarket_display_name: 'Continuous Indices',\n        pip: 0.001,\n        pip_size: 0.001,\n        exchange_is_open: true,\n        is_trading_suspended: false,\n    },\n    {\n        symbol: 'R_25',\n        underlying_symbol: 'R_25',\n        display_name: 'Volatility 25 Index',\n        market: 'synthetic_index',\n        market_display_name: 'Derived',\n        submarket: 'random_index',\n        submarket_display_name: 'Continuous Indices',\n        pip: 0.001,\n        pip_size: 0.001,\n        exchange_is_open: true,\n        is_trading_suspended: false,\n    },\n    {\n        symbol: 'R_50',\n        underlying_symbol: 'R_50',\n        display_name: 'Volatility 50 Index',\n        market: 'synthetic_index',\n        market_display_name: 'Derived',\n        submarket: 'random_index',\n        submarket_display_name: 'Continuous Indices',\n        pip: 0.001,\n        pip_size: 0.001,\n        exchange_is_open: true,\n        is_trading_suspended: false,\n    },\n    {\n        symbol: 'R_75',\n        underlying_symbol: 'R_75',\n        display_name: 'Volatility 75 Index',\n        market: 'synthetic_index',\n        market_display_name: 'Derived',\n        submarket: 'random_index',\n        submarket_display_name: 'Continuous Indices',\n        pip: 0.001,\n        pip_size: 0.001,\n        exchange_is_open: true,\n        is_trading_suspended: false,\n    },\n\n    // Forex Major Pairs\n    {\n        symbol: 'frxEURUSD',\n        underlying_symbol: 'frxEURUSD',\n        display_name: 'EUR/USD',\n        market: 'forex',\n        submarket: 'major_pairs',\n        pip: 0.00001,\n    },\n    {\n        symbol: 'frxGBPUSD',\n        underlying_symbol: 'frxGBPUSD',\n        display_name: 'GBP/USD',\n        market: 'forex',\n        submarket: 'major_pairs',\n        pip: 0.00001,\n    },\n    {\n        symbol: 'frxUSDJPY',\n        underlying_symbol: 'frxUSDJPY',\n        display_name: 'USD/JPY',\n        market: 'forex',\n        submarket: 'major_pairs',\n        pip: 0.001,\n    },\n    {\n        symbol: 'frxAUDUSD',\n        underlying_symbol: 'frxAUDUSD',\n        display_name: 'AUD/USD',\n        market: 'forex',\n        submarket: 'major_pairs',\n        pip: 0.00001,\n    },\n\n    // Stock Indices\n    {\n        symbol: 'OTC_DJI',\n        underlying_symbol: 'OTC_DJI',\n        display_name: 'Wall Street 30',\n        market: 'indices',\n        submarket: 'american_indices',\n        pip: 0.01,\n    },\n    {\n        symbol: 'OTC_SPC',\n        underlying_symbol: 'OTC_SPC',\n        display_name: 'US 500',\n        market: 'indices',\n        submarket: 'american_indices',\n        pip: 0.01,\n    },\n    {\n        symbol: 'OTC_FTSE',\n        underlying_symbol: 'OTC_FTSE',\n        display_name: 'UK 100',\n        market: 'indices',\n        submarket: 'european_indices',\n        pip: 0.01,\n    },\n    {\n        symbol: 'OTC_GDAXI',\n        underlying_symbol: 'OTC_GDAXI',\n        display_name: 'Germany 40',\n        market: 'indices',\n        submarket: 'european_indices',\n        pip: 0.01,\n    },\n\n    // Cryptocurrencies\n    {\n        symbol: 'cryBTCUSD',\n        underlying_symbol: 'cryBTCUSD',\n        display_name: 'BTC/USD',\n        market: 'cryptocurrency',\n        submarket: 'non_stable_coin',\n        pip: 0.01,\n    },\n    {\n        symbol: 'cryETHUSD',\n        underlying_symbol: 'cryETHUSD',\n        display_name: 'ETH/USD',\n        market: 'cryptocurrency',\n        submarket: 'non_stable_coin',\n        pip: 0.01,\n    },\n\n    // Commodities\n    {\n        symbol: 'frxXAUUSD',\n        underlying_symbol: 'frxXAUUSD',\n        display_name: 'Gold/USD',\n        market: 'commodities',\n        submarket: 'metals',\n        pip: 0.01,\n    },\n    {\n        symbol: 'frxXAGUSD',\n        underlying_symbol: 'frxXAGUSD',\n        display_name: 'Silver/USD',\n        market: 'commodities',\n        submarket: 'metals',\n        pip: 0.001,\n    },\n];\n\n// Market and Submarket Mappings\nexport const MARKET_MAPPINGS = {\n    MARKET_DISPLAY_NAMES: new Map([\n        ['synthetic_index', 'Derived'],\n        ['forex', 'Forex'],\n        ['indices', 'Stock Indices'],\n        ['stocks', 'Stocks'],\n        ['commodities', 'Commodities'],\n        ['cryptocurrency', 'Cryptocurrencies'],\n        ['basket_index', 'Basket Indices'],\n        ['random_index', 'Derived'],\n    ]),\n\n    SUBMARKET_DISPLAY_NAMES: new Map([\n        // Derived submarkets\n        ['random_index', 'Continuous Indices'],\n        ['random_daily', 'Daily Reset Indices'],\n        ['crash_index', 'Crash/Boom'],\n        ['jump_index', 'Jump Indices'],\n        ['step_index', 'Step Indices'],\n        ['range_break', 'Range Break Indices'],\n\n        // Forex submarkets\n        ['major_pairs', 'Major Pairs'],\n        ['minor_pairs', 'Minor Pairs'],\n        ['exotic_pairs', 'Exotic Pairs'],\n        ['smart_fx', 'Smart FX'],\n        ['micro_pairs', 'Micro Pairs'],\n\n        // Basket indices\n        ['forex_basket', 'Forex Basket'],\n        ['commodity_basket', 'Commodity Basket'],\n        ['stock_basket', 'Stock Basket'],\n\n        // Commodities\n        ['metals', 'Metals'],\n        ['energy', 'Energy'],\n\n        // Cryptocurrencies submarkets\n        ['crypto_index', 'Crypto Index'],\n        ['non_stable_coin', 'Non-Stable Coins'],\n        ['stable_coin', 'Stable Coins'],\n        ['crypto_basket', 'Crypto Basket'],\n\n        // Stock indices submarkets\n        ['asian_indices', 'Asian Indices'],\n        ['american_indices', 'American Indices'],\n        ['european_indices', 'European Indices'],\n        ['otc_index', 'OTC Indices'],\n        ['europe_OTC', 'European Indices'],\n        ['asia_oceania_OTC', 'Asian Indices'],\n        ['americas_OTC', 'American Indices'],\n        ['european_OTC', 'European Indices'],\n        ['asia_OTC', 'Asian Indices'],\n        ['american_OTC', 'American Indices'],\n        ['otc_indices', 'OTC Indices'],\n        ['us_indices', 'US Indices'],\n        ['stock_indices', 'Stock Indices'],\n        ['indices', 'Indices'],\n    ]),\n};\n\n// Market Dropdown Options\nexport const MARKET_OPTIONS = [\n    ['Derived', 'synthetic_index'],\n    ['Forex', 'forex'],\n    ['Stock Indices', 'indices'],\n    ['Commodities', 'commodities'],\n    ['Cryptocurrencies', 'cryptocurrency'],\n];\n\n// Submarket Options by Market\nexport const SUBMARKET_OPTIONS = {\n    synthetic_index: [\n        ['Continuous Indices', 'random_index'],\n        ['Daily Reset Indices', 'random_daily'],\n        ['Crash/Boom', 'crash_index'],\n        ['Jump Indices', 'jump_index'],\n        ['Step Indices', 'step_index'],\n    ],\n    forex: [\n        ['Major Pairs', 'major_pairs'],\n        ['Minor Pairs', 'minor_pairs'],\n        ['Exotic Pairs', 'exotic_pairs'],\n        ['Smart FX', 'smart_fx'],\n    ],\n    indices: [\n        ['Asian Indices', 'asian_indices'],\n        ['American Indices', 'american_indices'],\n        ['European Indices', 'european_indices'],\n        ['OTC Indices', 'otc_index'],\n    ],\n    commodities: [\n        ['Metals', 'metals'],\n        ['Energy', 'energy'],\n    ],\n    cryptocurrency: [\n        ['Crypto Index', 'crypto_index'],\n        ['Non-Stable Coins', 'non_stable_coin'],\n        ['Stable Coins', 'stable_coin'],\n    ],\n};\n\n// Symbol Options by Submarket\nexport const SYMBOL_OPTIONS = {\n    random_index: [\n        ['Volatility 100 (1s) Index', '1HZ100V'],\n        ['Volatility 10 (1s) Index', '1HZ10V'],\n        ['Volatility 25 (1s) Index', '1HZ25V'],\n        ['Volatility 50 (1s) Index', '1HZ50V'],\n        ['Volatility 75 (1s) Index', '1HZ75V'],\n        ['Volatility 10 Index', 'R_10'],\n        ['Volatility 100 Index', 'R_100'],\n        ['Volatility 25 Index', 'R_25'],\n        ['Volatility 50 Index', 'R_50'],\n        ['Volatility 75 Index', 'R_75'],\n    ],\n    major_pairs: [\n        ['EUR/USD', 'frxEURUSD'],\n        ['GBP/USD', 'frxGBPUSD'],\n        ['USD/JPY', 'frxUSDJPY'],\n        ['USD/CHF', 'frxUSDCHF'],\n        ['AUD/USD', 'frxAUDUSD'],\n    ],\n    crash_index: [\n        ['Crash 300 Index', 'CRASH300'],\n        ['Crash 500 Index', 'CRASH500'],\n        ['Crash 1000 Index', 'CRASH1000'],\n        ['Boom 300 Index', 'BOOM300'],\n        ['Boom 500 Index', 'BOOM500'],\n        ['Boom 1000 Index', 'BOOM1000'],\n    ],\n    otc_index: [\n        ['Wall Street 30', 'OTC_DJI'],\n        ['US 500', 'OTC_SPC'],\n        ['US Tech 100', 'OTC_NDX'],\n        ['UK 100', 'OTC_FTSE'],\n        ['Germany 40', 'OTC_GDAXI'],\n        ['Euro 50', 'OTC_SX5E'],\n        ['Australia 200', 'OTC_AS51'],\n        ['Japan 225', 'OTC_N225'],\n    ],\n    american_indices: [\n        ['Wall Street 30', 'OTC_DJI'],\n        ['US 500', 'OTC_SPC'],\n        ['US Tech 100', 'OTC_NDX'],\n    ],\n    european_indices: [\n        ['UK 100', 'OTC_FTSE'],\n        ['Germany 40', 'OTC_GDAXI'],\n        ['Euro 50', 'OTC_SX5E'],\n    ],\n    asian_indices: [\n        ['Australia 200', 'OTC_AS51'],\n        ['Japan 225', 'OTC_N225'],\n    ],\n    metals: [\n        ['Gold/USD', 'frxXAUUSD'],\n        ['Silver/USD', 'frxXAGUSD'],\n        ['Palladium/USD', 'FRXXPDUSD'],\n        ['Platinum/USD', 'FRXXPTUSD'],\n        ['Gold Basket', 'WLDXAU'],\n    ],\n};\n\n// Account Limits Data\nexport const ACCOUNT_LIMITS = {\n    commodities: {\n        AUD: { max_payout: 77000, min_stake: 0.8 },\n        BTC: { max_payout: 0.440255, min_stake: 0.000005 },\n        ETH: { max_payout: 11, min_stake: 0.000117 },\n        EUR: { max_payout: 42000, min_stake: 0.5 },\n        GBP: { max_payout: 37000, min_stake: 0.4 },\n        LTC: { max_payout: 430, min_stake: 0.004327 },\n        USD: { max_payout: 50000, min_stake: 0.5 },\n        USDC: { max_payout: 5000, min_stake: 0.6 },\n        XRP: { max_payout: 17000, min_stake: 0.1723 },\n        eUSDT: { max_payout: 4900, min_stake: 0.5 },\n        tUSDT: { max_payout: 4900, min_stake: 0.5 },\n    },\n    cryptocurrency: {\n        AUD: { max_payout: 77000, min_stake: 0.8 },\n        BTC: { max_payout: 0.440255, min_stake: 0.000005 },\n        ETH: { max_payout: 11, min_stake: 0.000117 },\n        EUR: { max_payout: 42000, min_stake: 0.5 },\n        GBP: { max_payout: 37000, min_stake: 0.4 },\n        LTC: { max_payout: 430, min_stake: 0.004327 },\n        USD: { max_payout: 50000, min_stake: 0.5 },\n        USDC: { max_payout: 5000, min_stake: 0.6 },\n        XRP: { max_payout: 17000, min_stake: 0.1723 },\n        eUSDT: { max_payout: 4900, min_stake: 0.5 },\n        tUSDT: { max_payout: 4900, min_stake: 0.5 },\n    },\n    forex: {\n        AUD: { max_payout: 77000, min_stake: 0.8 },\n        BTC: { max_payout: 0.440255, min_stake: 0.000005 },\n        ETH: { max_payout: 11, min_stake: 0.000117 },\n        EUR: { max_payout: 42000, min_stake: 0.5 },\n        GBP: { max_payout: 37000, min_stake: 0.4 },\n        LTC: { max_payout: 430, min_stake: 0.004327 },\n        USD: { max_payout: 50000, min_stake: 0.5 },\n        USDC: { max_payout: 5000, min_stake: 0.6 },\n        XRP: { max_payout: 17000, min_stake: 0.1723 },\n        eUSDT: { max_payout: 4900, min_stake: 0.5 },\n        tUSDT: { max_payout: 4900, min_stake: 0.5 },\n    },\n    indices: {\n        AUD: { max_payout: 77000, min_stake: 0.8 },\n        BTC: { max_payout: 0.440255, min_stake: 0.000005 },\n        ETH: { max_payout: 11, min_stake: 0.000117 },\n        EUR: { max_payout: 42000, min_stake: 0.5 },\n        GBP: { max_payout: 37000, min_stake: 0.4 },\n        LTC: { max_payout: 430, min_stake: 0.004327 },\n        USD: { max_payout: 50000, min_stake: 0.5 },\n        USDC: { max_payout: 5000, min_stake: 0.6 },\n        XRP: { max_payout: 17000, min_stake: 0.1723 },\n        eUSDT: { max_payout: 4900, min_stake: 0.5 },\n        tUSDT: { max_payout: 4900, min_stake: 0.5 },\n    },\n    synthetic_index: {\n        AUD: { max_payout: 77000, min_stake: 0.6 },\n        BTC: { max_payout: 0.440255, min_stake: 0.000004 },\n        ETH: { max_payout: 11, min_stake: 0.000082 },\n        EUR: { max_payout: 42000, min_stake: 0.4 },\n        GBP: { max_payout: 37000, min_stake: 0.3 },\n        LTC: { max_payout: 430, min_stake: 0.003029 },\n        USD: { max_payout: 50000, min_stake: 0.35 },\n        USDC: { max_payout: 5000, min_stake: 0.4 },\n        XRP: { max_payout: 17000, min_stake: 0.1206 },\n        eUSDT: { max_payout: 4900, min_stake: 0.4 },\n        tUSDT: { max_payout: 4900, min_stake: 0.4 },\n    },\n};\n\n// Contract Types Data\nexport const CONTRACT_TYPES = {\n    // Contract options based on common trade types\n    callput: [\n        ['Rise', 'CALL'],\n        ['Fall', 'PUT'],\n    ],\n    callputequal: [\n        ['Rise Equals', 'CALLE'],\n        ['Fall Equals', 'PUTE'],\n    ],\n    higherlower: [\n        ['Higher', 'CALL'],\n        ['Lower', 'PUT'],\n    ],\n    touchnotouch: [\n        ['Touch', 'ONETOUCH'],\n        ['No Touch', 'NOTOUCH'],\n    ],\n    endsinout: [\n        ['Ends Between', 'EXPIRYRANGE'],\n        ['Ends Outside', 'EXPIRYMISS'],\n    ],\n    staysinout: [\n        ['Stays Between', 'RANGE'],\n        ['Goes Outside', 'UPORDOWN'],\n    ],\n    matchesdiffers: [\n        ['Matches', 'DIGITMATCH'],\n        ['Differs', 'DIGITDIFF'],\n    ],\n    evenodd: [\n        ['Even', 'DIGITEVEN'],\n        ['Odd', 'DIGITODD'],\n    ],\n    overunder: [\n        ['Over', 'DIGITOVER'],\n        ['Under', 'DIGITUNDER'],\n    ],\n    multiplier: [\n        ['Up', 'MULTUP'],\n        ['Down', 'MULTDOWN'],\n    ],\n    accumulator: [['Buy', 'ACCU']],\n    asians: [\n        ['Asian Up', 'ASIANU'],\n        ['Asian Down', 'ASIAND'],\n    ],\n    reset: [\n        ['Reset Call', 'RESETCALL'],\n        ['Reset Put', 'RESETPUT'],\n    ],\n    highlowticks: [\n        ['High Tick', 'TICKHIGH'],\n        ['Low Tick', 'TICKLOW'],\n    ],\n    runs: [\n        ['Only Ups', 'RUNHIGH'],\n        ['Only Downs', 'RUNLOW'],\n    ],\n    callputspread: [\n        ['Call Spread', 'CALLSPREAD'],\n        ['Put Spread', 'PUTSPREAD'],\n    ],\n\n    // Default fallback when no trade type matches\n    DEFAULT_FALLBACK: [\n        ['Rise', 'CALL'],\n        ['Fall', 'PUT'],\n        ['Rise Equals', 'CALLE'],\n        ['Fall Equals', 'PUTE'],\n        ['Higher', 'CALLSPREAD'],\n        ['Lower', 'PUTSPREAD'],\n    ],\n};\n\n// Duration Options\nexport const DURATIONS = [\n    { display: 'Ticks', unit: 't', min: 1, max: 10 },\n    { display: 'Seconds', unit: 's', min: 15, max: 3600 },\n    { display: 'Minutes', unit: 'm', min: 1, max: 1440 },\n    { display: 'Hours', unit: 'h', min: 1, max: 24 },\n    { display: 'Days', unit: 'd', min: 1, max: 365 },\n];\n\n// Trade Type Categories\nexport const TRADE_TYPE_CATEGORIES = [\n    ['Up/Down', 'callput'],\n    ['Touch/No Touch', 'touchnotouch'],\n    ['In/Out', 'inout'],\n    ['Digits', 'digits'],\n    ['Multipliers', 'multiplier'],\n];\n\n// Trade Types by Category\nexport const TRADE_TYPES = {\n    callput: [\n        ['Rise/Fall', 'callput'],\n        ['Rise Equals/Fall Equals', 'callputequal'],\n        ['Higher/Lower', 'higherlower'],\n    ],\n    touchnotouch: [['Touch/No Touch', 'touchnotouch']],\n    inout: [\n        ['Ends Between/Ends Outside', 'endsinout'],\n        ['Stays Between/Goes Outside', 'staysinout'],\n    ],\n    digits: [\n        ['Matches/Differs', 'matchesdiffers'],\n        ['Even/Odd', 'evenodd'],\n        ['Over/Under', 'overunder'],\n    ],\n    multiplier: [['Up/Down', 'multiplier']],\n    asian: [['Asian Up/Asian Down', 'asians']],\n    reset: [['Reset Call/Reset Put', 'reset']],\n    highlowticks: [['High Tick/Low Tick', 'highlowticks']],\n    runs: [['Only Ups/Only Downs', 'runs']],\n};\n\n// Chart Type and Interval Configurations\nexport const TRADE_URL_PARAMS_CONFIG = {\n    chartType: [\n        { text: 'area', value: 'line' },\n        { text: 'candle', value: 'candles' },\n        { text: 'hollow', value: 'hollow' },\n        { text: 'ohlc', value: 'ohlc' },\n    ],\n    interval: [\n        { text: '1t', value: '0' },\n        { text: '1m', value: '60' },\n        { text: '2m', value: '120' },\n        { text: '3m', value: '180' },\n        { text: '5m', value: '300' },\n        { text: '10m', value: '600' },\n        { text: '15m', value: '900' },\n        { text: '30m', value: '1800' },\n        { text: '1h', value: '3600' },\n        { text: '2h', value: '7200' },\n        { text: '4h', value: '14400' },\n        { text: '8h', value: '28800' },\n        { text: '1d', value: '86400' },\n    ],\n};\n\n// Symbol Pattern Mappings for Display Names\nexport const SYMBOL_PATTERNS = new Map([\n    // Step indices\n    [/^STPRNG$/i, () => 'Step 100 Index'],\n    [/^STPRNG(\\d+)$/i, match => `Step ${match[1]}00 Index`],\n    [/^stpRNG$/i, () => 'Step 100 Index'],\n    [/^stpRNG(\\d+)$/i, match => `Step ${match[1]}00 Index`],\n\n    // Volatility indices\n    [/^R_(\\d+)$/i, match => `Volatility ${match[1]} Index`],\n    [/^(\\d+)HZ(\\d+)V$/i, match => `Volatility ${match[2]} (${match[1]}s) Index`],\n\n    // Crash/Boom indices\n    [/^CRASH(\\d+)N?$/i, match => `Crash ${match[1]} Index`],\n    [/^BOOM(\\d+)N?$/i, match => `Boom ${match[1]} Index`],\n\n    // Jump indices\n    [/^JD(\\d+)$/i, match => `Jump ${match[1]} Index`],\n    [/^JMP(\\d+)$/i, match => `Jump ${match[1]} Index`],\n\n    // Range Break indices\n    [/^RB(\\d+)$/i, match => `Range Break ${match[1]} Index`],\n\n    // Bear/Bull indices\n    [/^RDBEAR$/i, () => 'Bear Market Index'],\n    [/^RDBULL$/i, () => 'Bull Market Index'],\n\n    // Forex pairs\n    [/^FRX([A-Z]{3})([A-Z]{3})$/i, match => `${match[1]}/${match[2]}`],\n    [/^([A-Z]{3})([A-Z]{3})$/i, match => `${match[1]}/${match[2]}`],\n\n    // Crypto\n    [/^CRY([A-Z]+)USD$/i, match => `${match[1]}/USD`],\n    [/^CRY([A-Z]{3})([A-Z]{3})$/i, match => `${match[1]}/${match[2]}`],\n\n    // Stock indices\n    [\n        /^OTC_([A-Z]+)$/i,\n        match => {\n            const index_names = new Map([\n                ['DJI', 'Wall Street 30'],\n                ['SPX', 'US 500'],\n                ['NDX', 'US Tech 100'],\n                ['FTSE', 'UK 100'],\n                ['GDAXI', 'Germany 40'],\n                ['FCHI', 'France 40'],\n                ['N225', 'Japan 225'],\n                ['HSI', 'Hong Kong 50'],\n                ['AS51', 'Australia 200'],\n                ['AEX', 'Netherlands 25'],\n                ['SSMI', 'Swiss 20'],\n                ['SX5E', 'Euro 50'],\n                ['IBEX35', 'Spain 35'],\n            ]);\n            return index_names.get(match[1]) || `${match[1]} Index`;\n        },\n    ],\n\n    // Metals\n    [\n        /^FRX(XAU|XAG|XPT|XPD)USD$/i,\n        match => {\n            const metals = new Map([\n                ['XAU', 'Gold'],\n                ['XAG', 'Silver'],\n                ['XPT', 'Platinum'],\n                ['XPD', 'Palladium'],\n            ]);\n            return `${metals.get(match[1]) || match[1]}/USD`;\n        },\n    ],\n\n    // Basket indices\n    [/^WLD([A-Z]{3})$/i, match => `${match[1]} Basket`],\n]);\n\n// Utility Functions\nexport const getTradingTimes = symbol => {\n    if (symbol.startsWith('R_') || symbol.startsWith('RDB')) {\n        // Volatility indices - 24/7\n        return {\n            is_open_all_day: true,\n            is_closed_all_day: false,\n            times: null,\n            is_opened: true,\n        };\n    } else if (symbol.startsWith('frx')) {\n        // Forex - 24/5 (closed weekends)\n        const now = new Date();\n        const dayOfWeek = now.getUTCDay(); // 0 = Sunday, 6 = Saturday\n        const isWeekend = dayOfWeek === 0 || dayOfWeek === 6;\n\n        return {\n            is_open_all_day: !isWeekend,\n            is_closed_all_day: isWeekend,\n            times: null,\n            is_opened: !isWeekend,\n        };\n    } else {\n        // Indices and commodities - assume open during business hours\n        const now = new Date();\n        const hour = now.getUTCHours();\n        const isBusinessHours = hour >= 6 && hour <= 22; // 6 AM to 10 PM UTC\n\n        return {\n            is_open_all_day: false,\n            is_closed_all_day: false,\n            times: [\n                {\n                    open: new Date(now.toISOString().substring(0, 11) + '06:00:00Z'),\n                    close: new Date(now.toISOString().substring(0, 11) + '22:00:00Z'),\n                },\n            ],\n            is_opened: isBusinessHours,\n        };\n    }\n};\n\nexport const getContractTypeOptions = (contract_type, trade_type) => {\n    // Handle 'na' or invalid trade types with default options\n    if (!trade_type || trade_type === 'na' || trade_type === '') {\n        if (contract_type !== 'both') {\n            return CONTRACT_TYPES.DEFAULT_FALLBACK.filter(option => option[1] === contract_type);\n        }\n        return CONTRACT_TYPES.DEFAULT_FALLBACK;\n    }\n\n    const options = CONTRACT_TYPES[trade_type.toLowerCase()] || CONTRACT_TYPES['callput'];\n\n    if (contract_type !== 'both') {\n        return options.filter(option => option[1] === contract_type);\n    }\n    return options;\n};\n\nexport const generateDisplayName = (symbol_code, symbol) => {\n    // Try to match against known patterns\n    for (const [pattern, generator] of SYMBOL_PATTERNS) {\n        const match = symbol_code.match(pattern);\n        if (match) {\n            return generator(match);\n        }\n    }\n\n    // If no pattern matches, create a basic display name\n    // Convert underscores to spaces and capitalize\n    let display_name = symbol_code.replace(/_/g, ' ');\n    display_name = display_name.replace(/\\b\\w/g, l => l.toUpperCase());\n\n    // Add context from submarket if available\n    if (symbol?.submarket) {\n        const submarket_display = MARKET_MAPPINGS.SUBMARKET_DISPLAY_NAMES.get(symbol.submarket);\n        if (submarket_display && !display_name.includes(submarket_display)) {\n            display_name = `${display_name} (${submarket_display})`;\n        }\n    }\n\n    return display_name;\n};\n\nexport const getParamTextByValue = (value, key) => {\n    return TRADE_URL_PARAMS_CONFIG[key].find(interval => interval.value === value.toString())?.text ?? '';\n};\n\nexport const getSymbolDisplayName = (active_symbols = [], symbol) => {\n    return (\n        active_symbols.find(\n            symbol_info =>\n                symbol_info.underlying_symbol?.toUpperCase() === symbol.toUpperCase() ||\n                symbol_info.symbol?.toUpperCase() === symbol.toUpperCase()\n        ) || {\n            display_name: '',\n        }\n    ).display_name;\n};\n\nexport const isMarketClosed = (active_symbols = [], symbol) => {\n    if (!active_symbols.length) return false;\n    // Handle both old and new field names for backward compatibility\n    const getSymbolField = item => item.underlying_symbol || item.symbol;\n    return active_symbols.filter(x => getSymbolField(x) === symbol)[0]\n        ? !active_symbols.filter(symbol_info => getSymbolField(symbol_info) === symbol)[0].exchange_is_open\n        : false;\n};\n\nexport const getAccountLimits = (currency = 'AUD', selected_market) => {\n    // Return the currency config for the selected market\n    const currency_config = ACCOUNT_LIMITS[selected_market];\n    return Promise.resolve(currency_config ? currency_config[currency] : {});\n};\n",
            "size_bytes": 28010
        },
        "src/hooks/useNewRowTransition.tsx": {
            "content": "import React from 'react';\n\nexport const useNewRowTransition = (is_new_row: boolean) => {\n    const [in_prop, setInProp] = React.useState(!is_new_row);\n\n    React.useEffect(() => {\n        if (is_new_row) setInProp(true);\n    }, [is_new_row]);\n\n    return { in_prop };\n};\n",
            "size_bytes": 272
        },
        "src/components/journal/index.ts": {
            "content": "import Journal from './journal';\nimport './journal.scss';\n\nexport default Journal;\n",
            "size_bytes": 83
        },
        "src/utils/settings.ts": {
            "content": "const getSettingsFromLocal = () => {\n    return JSON.parse(localStorage.getItem('dbot_settings'));\n};\n\nexport const getSetting = (key: string) => {\n    const settings = getSettingsFromLocal();\n    if (!settings) return null;\n    return settings[key];\n};\n\nexport const storeSetting = (key: string, value: any) => {\n    const settings = getSettingsFromLocal() || {};\n    settings[key] = value;\n    localStorage.setItem('dbot_settings', JSON.stringify(settings));\n};\n\nexport const removeKeyValue = (key: string) => {\n    const settings = getSettingsFromLocal() || {};\n    delete settings[key];\n\n    localStorage.setItem('dbot_settings', JSON.stringify(settings));\n};\n",
            "size_bytes": 664
        },
        "src/external/bot-skeleton/services/tradeEngine/trade/state/actions/index.js": {
            "content": "import * as constants from '../constants';\n\nconst dispatchIfScopeIs = ({ dispatch, getState, data, scope }) => {\n    const { scope: currentScope } = getState();\n    if (currentScope === scope) {\n        dispatch(data);\n    }\n};\n\nexport const start = () => (dispatch, getState) =>\n    dispatchIfScopeIs({ dispatch, getState, data: { type: constants.START }, scope: constants.STOP });\n\nexport const proposalsReady = () => ({ type: constants.PROPOSALS_READY });\n\nexport const clearProposals = () => ({ type: constants.CLEAR_PROPOSALS });\n\nconst dispatchIfScopeIsBeforePurchase = args => dispatchIfScopeIs({ ...args, scope: constants.BEFORE_PURCHASE });\n\nconst dispatchIfBeforePurchaseReady = args => {\n    const { getState } = args;\n    const { proposalsReady: beforePurchaseReady } = getState();\n\n    if (beforePurchaseReady) {\n        dispatchIfScopeIsBeforePurchase(args);\n    }\n\n    dispatchIfScopeIs({ ...args, scope: constants.BEFORE_PURCHASE });\n};\n\nexport const purchaseSuccessful = () => (dispatch, getState) =>\n    dispatchIfBeforePurchaseReady({ dispatch, getState, data: { type: constants.PURCHASE_SUCCESSFUL } });\n\nexport const openContractReceived = () => (dispatch, getState) => {\n    const { scope: currentScope } = getState();\n    if (currentScope === constants.DURING_PURCHASE) {\n        dispatch({ type: constants.OPEN_CONTRACT });\n    }\n    dispatchIfBeforePurchaseReady({ dispatch, getState, data: { type: constants.OPEN_CONTRACT } });\n};\n\nexport const sell = () => (dispatch, getState) =>\n    dispatchIfScopeIs({ dispatch, getState, data: { type: constants.SELL }, scope: constants.DURING_PURCHASE });\n",
            "size_bytes": 1621
        },
        "src/components/journal/journal-components/date-item.tsx": {
            "content": "import { TDateItemProps } from '../journal.types';\n\nconst DateItem = ({ date, time }: TDateItemProps) => (\n    <>\n        <span className='journal__text-date'>{date}</span> | <span className='journal__text-time'>{time}</span>\n    </>\n);\n\nexport default DateItem;\n",
            "size_bytes": 263
        },
        "src/pages/dashboard/stop-bot-modal-content.tsx": {
            "content": "import React from 'react';\nimport { standalone_routes } from '@/components/shared';\nimport Dialog from '@/components/shared_ui/dialog';\nimport StaticUrl from '@/components/shared_ui/static-url';\nimport Text from '@/components/shared_ui/text';\nimport { generateUrlWithRedirect } from '@/utils/url-redirect-utils';\nimport { Localize, localize } from '@deriv-com/translations';\n\nexport type TStopBotModalContent = {\n    is_running: boolean;\n    is_dialog_open: boolean;\n    is_contract_dialog_open: boolean;\n    is_stop_bot_dialog_open: boolean;\n    is_multiplier: boolean;\n    closeMultiplierContract: () => void;\n    onOkButtonClick: () => void;\n    toggleStopBotDialog: () => void;\n};\n\nconst StopBotModalContent = ({\n    is_running,\n    is_multiplier,\n    is_contract_dialog_open,\n    is_stop_bot_dialog_open,\n    closeMultiplierContract,\n    onOkButtonClick,\n    toggleStopBotDialog,\n}: TStopBotModalContent) => {\n    const confirm_button_text = is_running && is_multiplier ? localize('Keep my contract') : localize('Stop my bot');\n    const cancel_button_text = is_running && is_multiplier ? localize('Close my contract') : localize('Back');\n    const title_text =\n        is_running && is_multiplier ? localize('Keep your current contract?') : localize('Stop your current bot?');\n    const toggle_dialog_or_stop = is_running && is_multiplier ? closeMultiplierContract : toggleStopBotDialog;\n\n    return (\n        <React.Fragment>\n            <Dialog\n                portal_element_id='modal_root'\n                title={title_text}\n                is_visible={is_running ? is_stop_bot_dialog_open : is_contract_dialog_open}\n                confirm_button_text={confirm_button_text}\n                onConfirm={onOkButtonClick}\n                cancel_button_text={cancel_button_text}\n                onCancel={toggle_dialog_or_stop}\n                is_mobile_full_width={false}\n                className={'toolbar__dialog'}\n                has_close_icon\n            >\n                {is_running && is_multiplier ? (\n                    <>\n                        <Text as='p' lineHeight='s' size='xs' styles={{ paddingBottom: '2rem', paddingTop: '1rem' }}>\n                            <Localize i18n_default_text='Close your contract now or keep it running. If you decide to keep it running, you can check and close it later on the ' />\n                            <Text weight='bold' as='span' lineHeight='s' size='xs'>\n                                <StaticUrl\n                                    key={0}\n                                    className='link'\n                                    onClick={() =>\n                                        window.location.assign(generateUrlWithRedirect(standalone_routes.reports))\n                                    }\n                                >\n                                    <Localize i18n_default_text='Reports' />\n                                </StaticUrl>\n                            </Text>\n                            <Localize i18n_default_text=' page.' />\n                        </Text>\n                        <Text as='p' lineHeight='s' size='xs'>\n                            <Localize i18n_default_text='The Quick Strategy you just created will be loaded to the workspace.' />\n                        </Text>\n                    </>\n                ) : (\n                    <>\n                        <Text as='p' lineHeight='s' size='xs' styles={{ paddingBottom: '2rem', paddingTop: '1rem' }}>\n                            <Localize i18n_default_text='Stopping the current bot will load the Quick Strategy you just created to the workspace.' />\n                        </Text>\n                        <Text as='p' lineHeight='s' size='xs'>\n                            <Localize i18n_default_text='Any open contracts can be viewed on the ' />\n                            <Text weight='bold' as='span' lineHeight='s' size='xs'>\n                                <StaticUrl\n                                    key={0}\n                                    className='link'\n                                    onClick={() =>\n                                        window.location.assign(generateUrlWithRedirect(standalone_routes.reports))\n                                    }\n                                >\n                                    <Localize i18n_default_text='Reports' />\n                                </StaticUrl>\n                            </Text>\n                            <Text as='span' lineHeight='s' size='xs' styles={{ paddingInlineStart: '0.4rem' }}>\n                                <Localize i18n_default_text=' page.' />\n                            </Text>\n                        </Text>\n                    </>\n                )}\n            </Dialog>\n        </React.Fragment>\n    );\n};\n\nexport default StopBotModalContent;\n",
            "size_bytes": 4829
        },
        "analysis-tool/Benanalysistool-final-main/components/ui/tabs.tsx": {
            "content": "'use client'\n\nimport * as React from 'react'\nimport * as TabsPrimitive from '@radix-ui/react-tabs'\n\nimport { cn } from '@/lib/utils'\n\nfunction Tabs({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Root>) {\n  return (\n    <TabsPrimitive.Root\n      data-slot=\"tabs\"\n      className={cn('flex flex-col gap-2', className)}\n      {...props}\n    />\n  )\n}\n\nfunction TabsList({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.List>) {\n  return (\n    <TabsPrimitive.List\n      data-slot=\"tabs-list\"\n      className={cn(\n        'bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsTrigger({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\n  return (\n    <TabsPrimitive.Trigger\n      data-slot=\"tabs-trigger\"\n      className={cn(\n        \"data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Content>) {\n  return (\n    <TabsPrimitive.Content\n      data-slot=\"tabs-content\"\n      className={cn('flex-1 outline-none', className)}\n      {...props}\n    />\n  )\n}\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n",
            "size_bytes": 1971
        },
        "src/hooks/useDebounce.ts": {
            "content": "import React from 'react';\nimport debounce from 'debounce';\n\nexport const useDebounce = (callback: () => void, timeout: number) => {\n    const debouncedCallback = React.useMemo(\n        () => debounce(callback, timeout),\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        []\n    );\n\n    React.useEffect(() => {\n        return debouncedCallback.cancel;\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return debouncedCallback;\n};\n",
            "size_bytes": 483
        },
        "src/pages/chart/chart-modal/index.ts": {
            "content": "import ChartModal from './chart-modal';\nimport './chart-modal.scss';\n\nexport default ChartModal;\n",
            "size_bytes": 97
        },
        "analysis-tool/Benanalysistool-final-main/components/ui/command.tsx": {
            "content": "'use client'\n\nimport * as React from 'react'\nimport { Command as CommandPrimitive } from 'cmdk'\nimport { SearchIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog'\n\nfunction Command({\n  className,\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive>) {\n  return (\n    <CommandPrimitive\n      data-slot=\"command\"\n      className={cn(\n        'bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CommandDialog({\n  title = 'Command Palette',\n  description = 'Search for a command to run...',\n  children,\n  className,\n  showCloseButton = true,\n  ...props\n}: React.ComponentProps<typeof Dialog> & {\n  title?: string\n  description?: string\n  className?: string\n  showCloseButton?: boolean\n}) {\n  return (\n    <Dialog {...props}>\n      <DialogHeader className=\"sr-only\">\n        <DialogTitle>{title}</DialogTitle>\n        <DialogDescription>{description}</DialogDescription>\n      </DialogHeader>\n      <DialogContent\n        className={cn('overflow-hidden p-0', className)}\n        showCloseButton={showCloseButton}\n      >\n        <Command className=\"[&_[cmdk-group-heading]]:text-muted-foreground **:data-[slot=command-input-wrapper]:h-12 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group]]:px-2 [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nfunction CommandInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive.Input>) {\n  return (\n    <div\n      data-slot=\"command-input-wrapper\"\n      className=\"flex h-9 items-center gap-2 border-b px-3\"\n    >\n      <SearchIcon className=\"size-4 shrink-0 opacity-50\" />\n      <CommandPrimitive.Input\n        data-slot=\"command-input\"\n        className={cn(\n          'placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50',\n          className,\n        )}\n        {...props}\n      />\n    </div>\n  )\n}\n\nfunction CommandList({\n  className,\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive.List>) {\n  return (\n    <CommandPrimitive.List\n      data-slot=\"command-list\"\n      className={cn(\n        'max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CommandEmpty({\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive.Empty>) {\n  return (\n    <CommandPrimitive.Empty\n      data-slot=\"command-empty\"\n      className=\"py-6 text-center text-sm\"\n      {...props}\n    />\n  )\n}\n\nfunction CommandGroup({\n  className,\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive.Group>) {\n  return (\n    <CommandPrimitive.Group\n      data-slot=\"command-group\"\n      className={cn(\n        'text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CommandSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive.Separator>) {\n  return (\n    <CommandPrimitive.Separator\n      data-slot=\"command-separator\"\n      className={cn('bg-border -mx-1 h-px', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CommandItem({\n  className,\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive.Item>) {\n  return (\n    <CommandPrimitive.Item\n      data-slot=\"command-item\"\n      className={cn(\n        \"data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CommandShortcut({\n  className,\n  ...props\n}: React.ComponentProps<'span'>) {\n  return (\n    <span\n      data-slot=\"command-shortcut\"\n      className={cn(\n        'text-muted-foreground ml-auto text-xs tracking-widest',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n",
            "size_bytes": 4824
        },
        "src/components/shared_ui/button/button.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\n\nimport { Icon } from '@/utils/tmp/dummy';\n\nimport Text from '../text';\n\nimport ButtonLoading from './button_loading';\n\nexport type TButtonCommonProps = {\n    alternate: boolean;\n    black: boolean;\n    blue: boolean;\n    green: boolean;\n    has_effect: boolean;\n    is_button_toggle: boolean;\n    is_circular: boolean;\n    is_circle: boolean;\n    is_disabled: boolean;\n    is_loading: boolean;\n    is_plus: boolean;\n    is_submit_success: boolean;\n    large: boolean;\n    medium: boolean;\n    primary: boolean;\n    primary_light: boolean;\n    rounded: boolean;\n    secondary: boolean;\n    small: boolean;\n    tertiary: boolean;\n    text: string;\n    transparent: boolean;\n};\nexport type TButtonProps = React.PropsWithChildren<React.ButtonHTMLAttributes<HTMLButtonElement>> &\n    TButtonCommonProps & {\n        classNameSpan: string;\n        icon: React.ReactNode;\n        renderText: (param: React.ReactNode) => React.ReactNode;\n        type: 'button' | 'submit' | 'reset';\n        wrapperClassName: string;\n    };\n\nexport type TButtonGroupProps = {\n    children: React.ReactNode | React.ReactNode[];\n    className?: string;\n};\n\nconst ButtonGroup = ({ children, className }: TButtonGroupProps) => (\n    <div className={classNames('dc-btn__group', className)}>{children}</div>\n);\nconst Button = ({\n    black,\n    blue,\n    children,\n    className = '',\n    classNameSpan,\n    green,\n    has_effect,\n    icon,\n    id,\n    is_disabled,\n    is_loading,\n    is_submit_success,\n    is_button_toggle,\n    is_circle,\n    is_circular,\n    is_plus,\n    large,\n    medium,\n    onClick,\n    rounded,\n    tabIndex = 0,\n    text,\n    wrapperClassName,\n    type,\n    primary,\n    primary_light,\n    secondary,\n    alternate,\n    transparent,\n    small,\n    tertiary,\n    renderText,\n    ...props\n}: Partial<TButtonProps>) => {\n    const classes = classNames(\n        'dc-btn',\n        {\n            'dc-btn__effect': has_effect,\n            'dc-btn--primary': primary,\n            'dc-btn--black': black,\n            'dc-btn--blue': blue,\n            'dc-btn--secondary': secondary,\n            'dc-btn--tertiary': tertiary,\n            'dc-btn--primary__light': primary_light,\n            'dc-btn--primary__blue': blue && primary,\n            'dc-btn--tertiary__blue': blue && tertiary,\n            'dc-btn--alternate': alternate,\n            'dc-btn--green': green,\n            'dc-btn__rounded': rounded,\n            'dc-btn__large': large,\n            'dc-btn__medium': medium,\n            'dc-btn__small': small,\n            'dc-btn__toggle': is_button_toggle,\n            'dc-btn--plus': is_plus,\n            'dc-btn--circle': is_circle,\n            'dc-btn--circular': is_circular,\n            'dc-btn--transparent': transparent,\n        },\n        className\n    );\n    const button = (\n        <button\n            id={id}\n            className={classes}\n            onClick={onClick}\n            disabled={is_disabled}\n            tabIndex={tabIndex}\n            type={is_submit_success ? 'button' : type || 'submit'}\n            {...props}\n        >\n            {icon && <div className={classNames('dc-btn__icon', { 'dc-btn__icon--circle': is_circle })}>{icon}</div>}\n            {text &&\n                !(is_loading || is_submit_success) &&\n                ((typeof renderText === 'function' && renderText(text[0].toUpperCase() + text.substr(1))) || (\n                    <Text size='xs' weight='bold' align='center' className={classNames('dc-btn__text', classNameSpan)}>\n                        {text[0].toUpperCase() + text.substr(1)}\n                    </Text>\n                ))}\n            {is_loading && <ButtonLoading />}\n            {is_submit_success && <Icon icon='IcCheckmark' color='active' size={24} />}\n            {is_plus && <Icon icon='IcAddBold' color='black' size={18} />}\n            {!text && !is_loading && children && (\n                <Text size='xs' weight='bold' align='center' className={classNames('dc-btn__text', classNameSpan)}>\n                    {children}\n                </Text>\n            )}\n        </button>\n    );\n    const wrapper = <div className={wrapperClassName}>{button}</div>;\n\n    return wrapperClassName ? wrapper : button;\n};\n\nButton.Group = ButtonGroup;\n\nexport default Button;\n",
            "size_bytes": 4292
        },
        "analysis-tool/Benanalysistool-final-main/components/connection-logs.tsx": {
            "content": "\"use client\"\n\nimport { useState } from \"react\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Copy, Trash2 } from \"lucide-react\"\nimport type { ConnectionLog } from \"@/lib/deriv-websocket\"\n\ninterface ConnectionLogsProps {\n  logs: ConnectionLog[]\n  onClear?: () => void\n}\n\nexport function ConnectionLogs({ logs, onClear }: ConnectionLogsProps) {\n  const [copied, setCopied] = useState(false)\n\n  const copyLogs = () => {\n    const logText = logs\n      .map((log) => `[${log.type.toUpperCase()}] ${log.timestamp.toLocaleTimeString()} - ${log.message}`)\n      .join(\"\\n\")\n    navigator.clipboard.writeText(logText)\n    setCopied(true)\n    setTimeout(() => setCopied(false), 2000)\n  }\n\n  const stats = {\n    total: logs.length,\n    errors: logs.filter((l) => l.type === \"error\").length,\n    warnings: logs.filter((l) => l.type === \"warning\").length,\n    info: logs.filter((l) => l.type === \"info\").length,\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <Card className=\"bg-gradient-to-br from-[#0f1629]/80 to-[#1a2235]/80 border-blue-500/20\">\n        <CardHeader>\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <CardTitle className=\"text-white\">Connection Logs</CardTitle>\n              <CardDescription>Real-time WebSocket connection events and API responses</CardDescription>\n            </div>\n            <div className=\"flex gap-2\">\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={copyLogs}\n                className=\"border-blue-500/30 text-white hover:bg-blue-500/10 bg-transparent\"\n              >\n                <Copy className=\"h-4 w-4 mr-2\" />\n                {copied ? \"Copied!\" : \"Copy\"}\n              </Button>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={onClear}\n                className=\"border-red-500/30 text-red-400 hover:bg-red-500/10 bg-transparent\"\n              >\n                <Trash2 className=\"h-4 w-4 mr-2\" />\n                Clear\n              </Button>\n            </div>\n          </div>\n        </CardHeader>\n        <CardContent>\n          <div className=\"bg-[#0a0e27] rounded-lg p-4 max-h-[400px] overflow-y-auto space-y-2\">\n            {logs.length === 0 ? (\n              <div className=\"text-center text-gray-400 py-8\">No logs yet</div>\n            ) : (\n              logs.map((log, index) => (\n                <div key={index} className=\"flex items-start gap-3 text-sm\">\n                  <Badge\n                    className={`${\n                      log.type === \"error\"\n                        ? \"bg-red-500/20 text-red-400 border-red-500/30\"\n                        : log.type === \"warning\"\n                          ? \"bg-yellow-500/20 text-yellow-400 border-yellow-500/30\"\n                          : \"bg-blue-500/20 text-blue-400 border-blue-500/30\"\n                    }`}\n                  >\n                    {log.type.toUpperCase()}\n                  </Badge>\n                  <span className=\"text-gray-400 text-xs\">{log.timestamp.toLocaleTimeString()}</span>\n                  <span className=\"text-white flex-1\">{log.message}</span>\n                </div>\n              ))\n            )}\n          </div>\n        </CardContent>\n      </Card>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <Card className=\"bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border-blue-500/30\">\n          <CardContent className=\"pt-6 text-center\">\n            <div className=\"text-4xl font-bold text-blue-400 mb-2\">{stats.total}</div>\n            <div className=\"text-sm text-gray-400\">Total Events</div>\n          </CardContent>\n        </Card>\n        <Card className=\"bg-gradient-to-br from-red-500/10 to-pink-500/10 border-red-500/30\">\n          <CardContent className=\"pt-6 text-center\">\n            <div className=\"text-4xl font-bold text-red-400 mb-2\">{stats.errors}</div>\n            <div className=\"text-sm text-gray-400\">Errors</div>\n          </CardContent>\n        </Card>\n        <Card className=\"bg-gradient-to-br from-yellow-500/10 to-orange-500/10 border-yellow-500/30\">\n          <CardContent className=\"pt-6 text-center\">\n            <div className=\"text-4xl font-bold text-yellow-400 mb-2\">{stats.warnings}</div>\n            <div className=\"text-sm text-gray-400\">Warnings</div>\n          </CardContent>\n        </Card>\n        <Card className=\"bg-gradient-to-br from-cyan-500/10 to-blue-500/10 border-cyan-500/30\">\n          <CardContent className=\"pt-6 text-center\">\n            <div className=\"text-4xl font-bold text-cyan-400 mb-2\">{stats.info}</div>\n            <div className=\"text-sm text-gray-400\">Info</div>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  )\n}\n",
            "size_bytes": 4897
        },
        "src/components/shared_ui/contract-card/contract-card-items/tick-counter-bar.tsx": {
            "content": "import React from 'react';\nimport Text from '../../text';\n\ntype TTickCounterBar = {\n    current_tick?: number;\n    label: string;\n};\nconst TickCounterBar = ({ current_tick, label }: TTickCounterBar) => (\n    <div className='dc-tick-counter-bar__container'>\n        <div className='dc-tick-counter-bar__track'>\n            <Text size='xxs' weight='bold' align='center' color='profit-success' className='dc-tick-counter-bar__text'>\n                {`${current_tick} ${label}`}\n            </Text>\n        </div>\n    </div>\n);\n\nexport default React.memo(TickCounterBar);\n",
            "size_bytes": 568
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/After Purchase/trade_again.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.trade_again = {\n    init() {\n        this.jsonInit(this.definition());\n\n        // Ensure one of this type per statement-stack\n        this.setNextStatement(false);\n    },\n    definition() {\n        return {\n            message0: localize('Trade again'),\n            colour: window.Blockly.Colours.Special1.colour,\n            colourSecondary: window.Blockly.Colours.Special1.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Special1.colourTertiary,\n            previousStatement: null,\n            tooltip: localize('These blocks transfer control to the Purchase conditions block.'),\n            category: window.Blockly.Categories.After_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Trade again'),\n            description: localize(\n                'This block will transfer the control back to the Purchase conditions block, enabling you to purchase another contract.'\n            ),\n            key_words: localize('restart'),\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    restricted_parents: ['after_purchase'],\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.trade_again = () => {\n    const code = `\n        Bot.isTradeAgain(true);\\n\n        return true;\\n\n    `;\n\n    return code;\n};\n",
            "size_bytes": 1442
        },
        "src/app/CoreStoreProvider.tsx": {
            "content": "import { useCallback, useEffect, useMemo, useRef } from 'react';\nimport Cookies from 'js-cookie';\nimport { observer } from 'mobx-react-lite';\nimport { toMoment } from '@/components/shared';\nimport { FORM_ERROR_MESSAGES } from '@/components/shared/constants/form-error-messages';\nimport { initFormErrorMessages } from '@/components/shared/utils/validation/declarative-validation-rules';\nimport { api_base } from '@/external/bot-skeleton';\nimport { useOauth2 } from '@/hooks/auth/useOauth2';\nimport { useApiBase } from '@/hooks/useApiBase';\nimport { useStore } from '@/hooks/useStore';\nimport { TSocketResponseData } from '@/types/api-types';\nimport { clearInvalidTokenParams } from '@/utils/url-utils';\nimport { useTranslations } from '@deriv-com/translations';\n\ntype TClientInformation = {\n    loginid?: string;\n    email?: string;\n    currency?: string;\n    residence?: string | null;\n    first_name?: string;\n    last_name?: string;\n    preferred_language?: string | null;\n    user_id?: number | string;\n};\nconst CoreStoreProvider: React.FC<{ children: React.ReactNode }> = observer(({ children }) => {\n    const currentDomain = useMemo(() => '.' + window.location.hostname.split('.').slice(-2).join('.'), []);\n    const { isAuthorizing, isAuthorized, connectionStatus, accountList, activeLoginid } = useApiBase();\n\n    const appInitialization = useRef(false);\n    const accountInitialization = useRef(false);\n    const timeInterval = useRef<NodeJS.Timeout | null>(null);\n    const msg_listener = useRef<{ unsubscribe: () => void } | null>(null);\n    const { client, common } = useStore() ?? {};\n\n    const { currentLang } = useTranslations();\n\n    const { oAuthLogout } = useOauth2({ handleLogout: async () => client.logout(), client });\n\n    const isLoggedOutCookie = Cookies.get('logged_state') === 'false';\n\n    useEffect(() => {\n        if (isLoggedOutCookie && client?.is_logged_in) {\n            oAuthLogout();\n        }\n    }, [isLoggedOutCookie, oAuthLogout, client?.is_logged_in]);\n\n    const activeAccount = useMemo(\n        () => accountList?.find(account => account.loginid === activeLoginid),\n        [activeLoginid, accountList]\n    );\n\n    useEffect(() => {\n        if (client && activeAccount && isAuthorized) {\n            client?.setLoginId(activeLoginid);\n            client?.setAccountList(accountList);\n            client?.setIsLoggedIn(true);\n        } else if (client && !isAuthorized) {\n            // Ensure client shows as not logged in until authorization is complete\n            client?.setIsLoggedIn(false);\n        }\n    }, [accountList, activeAccount, activeLoginid, client, isAuthorized]);\n\n    useEffect(() => {\n        initFormErrorMessages(FORM_ERROR_MESSAGES());\n\n        return () => {\n            if (timeInterval.current) {\n                clearInterval(timeInterval.current);\n            }\n        };\n    }, []);\n\n    useEffect(() => {\n        if (common && currentLang) {\n            common.setCurrentLanguage(currentLang);\n        }\n    }, [currentLang, common]);\n\n    useEffect(() => {\n        if (client && !isAuthorizing && !appInitialization.current) {\n            if (!api_base?.api) return;\n            appInitialization.current = true;\n\n            // Update server time every 10 seconds\n            timeInterval.current = setInterval(() => {\n                api_base.api\n                    ?.time()\n                    .then((res: TSocketResponseData<'time'>) => {\n                        common.setServerTime(toMoment(res.time), false);\n                    })\n                    .catch(() => {\n                        common.setServerTime(toMoment(Date.now()), true);\n                    });\n            }, 10000);\n        }\n    }, [client, common, isAuthorizing]);\n\n    const handleMessages = useCallback(\n        async (res: Record<string, unknown>) => {\n            if (!res) return;\n            const data = res.data as TSocketResponseData<'balance'>;\n            const { msg_type, error } = data;\n\n            if (\n                error?.code === 'AuthorizationRequired' ||\n                error?.code === 'DisabledClient' ||\n                error?.code === 'InvalidToken'\n            ) {\n                // Clear all URL query parameters for these auth errors\n                clearInvalidTokenParams();\n                await oAuthLogout();\n            }\n\n            if (msg_type === 'balance' && data && !error) {\n                const balance = data.balance;\n                if (balance && typeof balance.balance === 'number') {\n                    client.setBalance(balance.balance.toString());\n\n                    if (balance.currency) {\n                        client.setCurrency(balance.currency);\n                    }\n                }\n            }\n        },\n        [client, oAuthLogout]\n    );\n\n    useEffect(() => {\n        if (!isAuthorizing && client) {\n            const subscription = api_base?.api?.onMessage().subscribe(handleMessages);\n            msg_listener.current = { unsubscribe: subscription?.unsubscribe };\n        }\n\n        return () => {\n            if (msg_listener.current) {\n                msg_listener.current.unsubscribe?.();\n            }\n        };\n    }, [connectionStatus, handleMessages, isAuthorizing, isAuthorized, client]);\n\n    useEffect(() => {\n        if (!isAuthorizing && isAuthorized && !accountInitialization.current && client) {\n            accountInitialization.current = true;\n            const client_information: TClientInformation = {\n                loginid: activeAccount?.loginid,\n                email: '',\n                currency: client?.currency,\n                residence: '',\n                first_name: '',\n                last_name: '',\n                preferred_language: '',\n                user_id:\n                    (api_base.account_info &&\n                    typeof api_base.account_info === 'object' &&\n                    'user_id' in api_base.account_info\n                        ? (api_base.account_info as { user_id: number }).user_id\n                        : null) || activeLoginid,\n            };\n\n            Cookies.set('client_information', JSON.stringify(client_information), {\n                domain: currentDomain,\n            });\n        }\n    }, [isAuthorizing, isAuthorized, client, activeAccount?.loginid, activeLoginid, currentDomain]);\n\n    return <>{children}</>;\n});\n\nexport default CoreStoreProvider;\n",
            "size_bytes": 6366
        },
        "src/components/shared_ui/progress-slider-mobile/progress-slider-mobile.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { getTimePercentage } from '@/components/shared';\nimport CircularProgress from '../circular-progress';\nimport RemainingTime from '../remaining-time';\nimport Text from '../text';\nimport { TGetCardLables } from '../types';\nimport ProgressTicksMobile from './progress-ticks-mobile';\n\ntype TProgressSliderMobileProps = {\n    className?: string;\n    current_tick?: number | null;\n    expiry_time?: number;\n    is_loading?: boolean;\n    server_time: moment.Moment;\n    start_time?: number;\n    ticks_count?: number;\n    getCardLabels: TGetCardLables;\n};\n\nconst ProgressSliderMobile = ({\n    className,\n    current_tick,\n    getCardLabels,\n    is_loading,\n    start_time,\n    expiry_time,\n    server_time,\n    ticks_count,\n}: TProgressSliderMobileProps) => {\n    const percentage = getTimePercentage(server_time, Number(start_time), Number(expiry_time));\n    return (\n        <div className={classNames('dc-progress-slider-mobile', className)}>\n            {ticks_count ? (\n                <ProgressTicksMobile\n                    current_tick={current_tick}\n                    getCardLabels={getCardLabels}\n                    ticks_count={ticks_count}\n                />\n            ) : (\n                <React.Fragment>\n                    <Text size='xxs'>\n                        <RemainingTime end_time={expiry_time} getCardLabels={getCardLabels} start_time={server_time} />\n                    </Text>\n                    {is_loading || percentage < 1 ? (\n                        <div className='dc-progress-slider-mobile__infinite-loader'>\n                            <div className='dc-progress-slider-mobile__infinite-loader--indeterminate' />\n                        </div>\n                    ) : (\n                        <CircularProgress\n                            className='dc-progress-slider-mobile__timer'\n                            danger_limit={20}\n                            progress={percentage}\n                            warning_limit={50}\n                        />\n                    )}\n                </React.Fragment>\n            )}\n        </div>\n    );\n};\n\nexport default ProgressSliderMobile;\n",
            "size_bytes": 2197
        },
        "src/components/layout/header/common/no-non-eu-accounts.tsx": {
            "content": "import { standalone_routes } from '@/components/shared';\nimport { useFirebaseCountriesConfig } from '@/hooks/firebase/useFirebaseCountriesConfig';\nimport { handleTraderHubRedirect } from '@/utils/traders-hub-redirect';\nimport { Localize, localize } from '@deriv-com/translations';\nimport { AccountSwitcher as UIAccountSwitcher, Button } from '@deriv-com/ui';\nimport { TNoNonEuAccounts } from './types';\nimport { AccountSwitcherDivider, no_account } from './utils';\n\ntype TNoNonEuAccountsWithResidence = TNoNonEuAccounts & {\n    residence?: string;\n};\n\nconst NoNonEuAccounts = ({ isVirtual, tabs_labels, is_low_risk_country, residence }: TNoNonEuAccountsWithResidence) => {\n    const { hubEnabledCountryList } = useFirebaseCountriesConfig();\n\n    // Check if the account is a demo account from both isVirtual prop and URL parameter\n    const urlParams = new URLSearchParams(window.location.search);\n    const account_param = urlParams.get('account');\n    const is_demo = isVirtual || account_param === 'demo' || false;\n\n    if (!is_low_risk_country) {\n        return null;\n    }\n    return (\n        <UIAccountSwitcher.AccountsPanel\n            isOpen\n            title={localize('Non-Eu Deriv account')}\n            className='account-switcher-panel'\n            key={!isVirtual ? tabs_labels?.demo?.toLowerCase() : tabs_labels?.real?.toLowerCase()}\n        >\n            <div className='account-switcher-panel__no-eu-accounts'>\n                <UIAccountSwitcher.AccountsItem account={no_account} onSelectAccount={() => {}} />\n                <AccountSwitcherDivider />\n                <Button\n                    id='add-button'\n                    className='add-button'\n                    onClick={() => {\n                        // Get the redirect URL from handleTraderHubRedirect\n                        const redirectParams = {\n                            product_type: 'tradershub' as const,\n                            has_wallet: false,\n                            is_virtual: is_demo,\n                            residence,\n                            hubEnabledCountryList,\n                        };\n                        let redirect_url_str = handleTraderHubRedirect(redirectParams) || standalone_routes.traders_hub;\n\n                        // Add the account parameter to the URL\n                        try {\n                            const redirect_url = new URL(redirect_url_str);\n                            if (is_demo) {\n                                // For demo accounts, set the account parameter to 'demo'\n                                redirect_url.searchParams.set('account', 'demo');\n                            }\n                            redirect_url_str = redirect_url.toString();\n                        } catch (error) {\n                            console.error('Error parsing redirect URL:', error);\n                        }\n\n                        location.replace(redirect_url_str);\n                    }}\n                >\n                    <Localize i18n_default_text='Add' />\n                </Button>\n            </div>\n        </UIAccountSwitcher.AccountsPanel>\n    );\n};\n\nexport default NoNonEuAccounts;\n",
            "size_bytes": 3163
        },
        "src/components/transactions/transactions.tsx": {
            "content": "import React from 'react';\nimport classnames from 'classnames';\nimport { observer } from 'mobx-react-lite';\nimport Download from '@/components/download';\nimport Button from '@/components/shared_ui/button';\nimport DataList from '@/components/shared_ui/data-list';\nimport Text from '@/components/shared_ui/text';\nimport { TContractInfo } from '@/components/summary/summary-card.types';\nimport { contract_stages } from '@/constants/contract-stage';\nimport { transaction_elements } from '@/constants/transactions';\nimport { useStore } from '@/hooks/useStore';\nimport { DerivLightEmptyCardboardBoxIcon } from '@deriv/quill-icons/Illustration';\nimport { Localize } from '@deriv-com/translations';\nimport { useDevice } from '@deriv-com/ui';\nimport ThemedScrollbars from '../shared_ui/themed-scrollbars';\nimport Transaction from './transaction';\n\ntype TTransactions = {\n    is_drawer_open: boolean;\n};\n\ntype TTransactionItem = {\n    row: {\n        type: string;\n        data: TContractInfo;\n    };\n    onClickTransaction?: (transaction_id: null | number) => void;\n    active_transaction_id?: number | null;\n};\n\nconst TransactionItem = ({ row = false, onClickTransaction, active_transaction_id }: TTransactionItem) => {\n    switch (row.type) {\n        case transaction_elements.CONTRACT: {\n            const { data: contract } = row;\n            return (\n                <Transaction\n                    contract={contract}\n                    onClickTransaction={onClickTransaction}\n                    active_transaction_id={active_transaction_id}\n                />\n            );\n        }\n        case transaction_elements.DIVIDER: {\n            return (\n                <div className='transactions__divider'>\n                    <div className='transactions__divider-line' />\n                </div>\n            );\n        }\n        default: {\n            return null;\n        }\n    }\n};\n\nconst Transactions = observer(({ is_drawer_open }: TTransactions) => {\n    const [active_transaction_id, setActiveTransactionId] = React.useState<number | null>(null);\n    const { run_panel, transactions } = useStore();\n    const { contract_stage } = run_panel;\n    const { transactions: transaction_list, toggleTransactionDetailsModal, recoverPendingContracts } = transactions;\n    const { isDesktop } = useDevice();\n\n    React.useEffect(() => {\n        window.addEventListener('click', onClickOutsideTransaction);\n        recoverPendingContracts();\n        return () => {\n            window.removeEventListener('click', onClickOutsideTransaction);\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    React.useEffect(() => {\n        if (active_transaction_id) {\n            setActiveTransactionId(null);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [transaction_list?.length]);\n\n    const onClickOutsideTransaction = (event: PointerEvent | MouseEvent | TouchEvent) => {\n        const path: EventTarget[] = event?.composedPath() || [];\n        const is_transaction_click = path.some(el =>\n            (el as HTMLElement).classList?.contains('transactions__item-wrapper')\n        );\n        if (!is_transaction_click) {\n            setActiveTransactionId(null);\n        }\n    };\n\n    const onClickTransaction = (transaction_id: null | number) => {\n        // Toggle transaction popover if passed transaction_id is the same.\n        if (transaction_id && active_transaction_id === transaction_id) {\n            setActiveTransactionId(null);\n        } else {\n            setActiveTransactionId(transaction_id);\n        }\n    };\n\n    return (\n        <div\n            className={classnames('transactions', {\n                'run-panel-tab__content': isDesktop,\n                'run-panel-tab__content--mobile': !isDesktop && is_drawer_open,\n            })}\n        >\n            <div className='download__container transaction-details__button-container'>\n                <Download tab='transactions' />\n                <Button\n                    id='download__container__view-detail-button'\n                    className='download__container__view-detail-button'\n                    disabled={!transaction_list?.length}\n                    onClick={() => {\n                        toggleTransactionDetailsModal(true);\n                    }}\n                    secondary\n                >\n                    <Localize i18n_default_text='View Detail' />\n                </Button>\n            </div>\n            <div className='transactions__header'>\n                <span className='transactions__header-column transactions__header-type'>\n                    <Localize i18n_default_text='Type' />\n                </span>\n                <span className='transactions__header-column transactions__header-spot'>\n                    <Localize i18n_default_text='Entry/Exit spot' />\n                </span>\n                <span className='transactions__header-column transactions__header-profit'>\n                    <Localize i18n_default_text='Buy price and P/L' />\n                </span>\n            </div>\n            <div\n                className={classnames({\n                    transactions__content: isDesktop,\n                    'transactions__content--mobile': !isDesktop,\n                })}\n            >\n                <div className='transactions__scrollbar'>\n                    {transaction_list?.length ? (\n                        <DataList\n                            className='transactions'\n                            data_source={transaction_list}\n                            rowRenderer={props => (\n                                <TransactionItem\n                                    onClickTransaction={onClickTransaction}\n                                    active_transaction_id={active_transaction_id}\n                                    {...props}\n                                />\n                            )}\n                            keyMapper={row => {\n                                switch (row.type) {\n                                    case transaction_elements.CONTRACT: {\n                                        return row.data.transaction_ids.buy;\n                                    }\n                                    case transaction_elements.DIVIDER: {\n                                        return row.data;\n                                    }\n                                    default: {\n                                        return null;\n                                    }\n                                }\n                            }}\n                            getRowSize={({ index }) => {\n                                const row = transaction_list?.[index];\n                                switch (row.type) {\n                                    case transaction_elements.CONTRACT: {\n                                        return 50;\n                                    }\n                                    case transaction_elements.DIVIDER: {\n                                        return 21;\n                                    }\n                                    default: {\n                                        return 0;\n                                    }\n                                }\n                            }}\n                        />\n                    ) : (\n                        <>\n                            {contract_stage >= contract_stages.STARTING ? (\n                                <Transaction contract={null} />\n                            ) : (\n                                <ThemedScrollbars>\n                                    <div className='transactions-empty-box'>\n                                        <div className='transactions-empty'>\n                                            <div className='transactions-empty__icon-box'>\n                                                <DerivLightEmptyCardboardBoxIcon\n                                                    height='64px'\n                                                    width='64px'\n                                                    className='transactions-empty__icon icon-general-fill-g-path'\n                                                    color='secondary'\n                                                    fill='var(--text-general)'\n                                                />\n                                            </div>\n                                            <Text\n                                                as='h4'\n                                                size='xs'\n                                                weight='bold'\n                                                align='center'\n                                                color='less-prominent'\n                                                lineHeight='xxs'\n                                                className='transactions-empty__header'\n                                            >\n                                                <Localize i18n_default_text='There are no transactions to display' />\n                                            </Text>\n                                            <div className='transactions-empty__message'>\n                                                <Text size='xxs' color='less-prominent'>\n                                                    <Localize i18n_default_text='Here are the possible reasons:' />\n                                                </Text>\n                                                <ul className='transactions-empty__list'>\n                                                    <li>\n                                                        <Text size='xs' color='less-prominent'>\n                                                            <Localize i18n_default_text='The bot is not running' />\n                                                        </Text>\n                                                    </li>\n                                                    <li>\n                                                        <Text size='xs' color='less-prominent'>\n                                                            <Localize i18n_default_text='The stats are cleared' />\n                                                        </Text>\n                                                    </li>\n                                                </ul>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </ThemedScrollbars>\n                            )}\n                        </>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n});\n\nexport default Transactions;\n",
            "size_bytes": 10772
        },
        "src/components/flyout/flyout-block.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { observer } from 'mobx-react-lite';\nimport { useStore } from '@/hooks/useStore';\n\ntype FlyoutBlockProps = {\n    block_node: Element;\n    should_hide_display_name?: boolean;\n};\n\nconst FlyoutBlock = observer(({ block_node, should_hide_display_name }: FlyoutBlockProps) => {\n    const { flyout } = useStore();\n    const { initBlockWorkspace } = flyout;\n\n    let el_block_workspace = React.useRef();\n\n    React.useEffect(() => {\n        initBlockWorkspace(el_block_workspace, block_node);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return (\n        <div\n            ref={el => (el_block_workspace = el)}\n            className={classNames({\n                'flyout__block-workspace--center': should_hide_display_name,\n                'flyout__block-workspace--top': !should_hide_display_name,\n            })}\n            data-testid='flyout-block-workspace'\n        />\n    );\n});\n\nexport default FlyoutBlock;\n",
            "size_bytes": 1014
        },
        "src/components/data-list/index.ts": {
            "content": "import DataList from './data-list';\nimport './data-list.scss';\n\nexport default DataList;\n",
            "size_bytes": 89
        },
        "src/utils/help-content/help-strings/totimestamp.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize(\n            'This block converts the date and time to the number of seconds since the Unix Epoch (1970-01-01 00:00:00).'\n        ),\n        localize('Example:'),\n        localize('In this example, a Rise contract will be purchased at midnight on 1 August 2019.'),\n    ],\n};\n",
            "size_bytes": 380
        },
        "src/external/bot-skeleton/scratch/blocks/Advanced/Functions/procedures_defreturn.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { plusIconDark } from '../../images';\n\nwindow.Blockly.Blocks.procedures_defreturn = {\n    init() {\n        this.arguments = [];\n        this.argument_var_models = [];\n\n        this.jsonInit(this.definition());\n\n        if (window.Blockly.Msg.PROCEDURES_DEFNORETURN_COMMENT) {\n            this.setCommentText(window.Blockly.Msg.PROCEDURES_DEFNORETURN_COMMENT);\n        }\n\n        // Enforce unique procedure names\n        const nameField = this.getField('NAME');\n        nameField.setValidator(window.Blockly.Procedures.rename);\n\n        // Render a -icon for adding parameters\n        const fieldImage = new window.Blockly.FieldImage(plusIconDark, 24, 24, '+', () => this.onAddClick());\n\n        const dropdown_path = `${this.workspace.options.pathToMedia}dropdown-arrow.svg`;\n        // Render a v-icon for adding parameters\n        const fieldImageCollapse = new window.Blockly.FieldImage(\n            dropdown_path,\n            16,\n            16,\n            'v',\n            () => this.toggleCollapseWithDelay(true),\n            false,\n            true\n        );\n\n        this.appendDummyInput('ADD_ICON').appendField(fieldImage);\n        this.moveInputBefore('ADD_ICON', 'RETURN');\n        this.appendDummyInput('COLLAPSED_INPUT').appendField(fieldImageCollapse);\n        this.moveInputBefore('COLLAPSED_INPUT', 'RETURN');\n\n        this.setStatements(true);\n    },\n    definition() {\n        return {\n            message0: localize('function {{ function_name }} {{ function_params }} {{ dummy }}', {\n                function_name: '%1',\n                function_params: '%2',\n                dummy: '%3',\n            }),\n            message1: 'return %1',\n            args0: [\n                {\n                    type: 'field_input',\n                    name: 'NAME',\n                    text: '',\n                },\n                {\n                    type: 'field_label',\n                    name: 'PARAMS',\n                    text: '',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_value',\n                    name: 'RETURN',\n                    check: null,\n                },\n            ],\n            inputsInline: true,\n            colour: window.Blockly.Colours.Special2.colour,\n            colourSecondary: window.Blockly.Colours.Special2.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Special2.colourTertiary,\n            tooltip: localize('Function that returns a value'),\n            category: window.Blockly.Categories.Functions,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Function that returns a value'),\n            description: localize(\n                'This block is similar to the one above, except that this returns a value. The returned value can be assigned to a variable of your choice.'\n            ),\n        };\n    },\n    onAddClick: window.Blockly.Blocks.procedures_defnoreturn.onAddClick,\n    onchange: window.Blockly.Blocks.procedures_defnoreturn.onchange,\n    setStatements: window.Blockly.Blocks.procedures_defnoreturn.setStatements,\n    updateParams: window.Blockly.Blocks.procedures_defnoreturn.updateParams,\n    mutationToDom: window.Blockly.Blocks.procedures_defnoreturn.mutationToDom,\n    domToMutation: window.Blockly.Blocks.procedures_defnoreturn.domToMutation,\n    /**\n     * Return the signature of this procedure definition.\n     * @return {!Array} Tuple containing three elements:\n     *     - the name of the defined procedure,\n     *     - a list of all its arguments,\n     *     - that it DOES have a return value.\n     * @this window.Blockly.Block\n     */\n    getProcedureDef() {\n        return [this.getFieldValue('NAME'), this.arguments, true];\n    },\n    getProcedureCallers: window.Blockly.Blocks.procedures_defnoreturn.getProcedureCallers,\n    getVars: window.Blockly.Blocks.procedures_defnoreturn.getVars,\n    getVarModels: window.Blockly.Blocks.procedures_defnoreturn.getVarModels,\n    renameVarById: window.Blockly.Blocks.procedures_defnoreturn.renameVarById,\n    displayRenamedVar: window.Blockly.Blocks.procedures_defnoreturn.displayRenamedVar,\n    customContextMenu: window.Blockly.Blocks.procedures_defnoreturn.customContextMenu,\n    registerWorkspaceListener: window.Blockly.Blocks.procedures_defnoreturn.registerWorkspaceListener,\n    callType: 'procedures_callreturn',\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.procedures_defreturn =\n    window.Blockly.JavaScript.javascriptGenerator.forBlock.procedures_defnoreturn;\n",
            "size_bytes": 4670
        },
        "src/hooks/useLocalStorageSync.ts": {
            "content": "import { useEffect, useRef, useState } from 'react';\nimport {\n    removeSessionToken as removeSessionTokenUtil,\n    setSessionToken as setSessionTokenUtil,\n} from '@/utils/session-token-utils';\nimport { useStore } from './useStore';\n\n/**\n * Custom hook to sync localStorage changes across tabs\n * Specifically monitors 'session_token' changes from other tabs and refreshes the page\n *\n * How it works:\n * - The 'storage' event only fires on other tabs/windows when localStorage is modified\n * - It does NOT fire on the tab that made the change\n * - This is perfect for detecting session token changes from other tabs\n * - If bot is running, shows a modal instead of immediate reload\n * - Temporarily disables beforeunload prompt to avoid Chrome's native dialog\n *\n * Usage:\n * - Import and call this hook in your main App component\n * - When another tab changes the session_token, this tab will automatically refresh or show modal\n * - Changes made by the current tab will not trigger a refresh\n */\nexport const useLocalStorageSync = () => {\n    const isOwnChange = useRef(false);\n    const store = useStore();\n    const [showAccountChangeModal, setShowAccountChangeModal] = useState(false);\n\n    const handleReload = () => {\n        // Temporarily disable prompt handler during refresh to prevent Chrome's native dialog\n        if (store?.ui?.setPromptHandler) {\n            store.ui.setPromptHandler(false);\n        }\n\n        setTimeout(() => {\n            window.location.reload();\n        }, 100);\n    };\n\n    const handleModalClose = () => {\n        setShowAccountChangeModal(false);\n    };\n\n    useEffect(() => {\n        const handleStorageChange = (event: StorageEvent) => {\n            // Only handle session_token changes\n            if (event.key !== 'session_token') {\n                return;\n            }\n\n            // Check if bot is running\n            const isBotRunning = store?.run_panel?.is_running;\n\n            if (isBotRunning) {\n                setShowAccountChangeModal(true);\n            } else {\n                handleReload();\n            }\n        };\n\n        // Listen for localStorage changes from other tabs\n        window.addEventListener('storage', handleStorageChange);\n\n        return () => {\n            window.removeEventListener('storage', handleStorageChange);\n        };\n    }, [store?.run_panel?.is_running, store?.ui]);\n\n    /**\n     * Wrapper function to set session_token in localStorage and cookies\n     * This prevents the storage event from firing on the current tab\n     *\n     * @param token - The session token to store\n     */\n    const setSessionToken = (token: string) => {\n        isOwnChange.current = true;\n        setSessionTokenUtil(token);\n\n        // Reset the flag after a short delay\n        setTimeout(() => {\n            isOwnChange.current = false;\n        }, 50);\n    };\n\n    /**\n     * Wrapper function to remove session_token from localStorage and cookies\n     */\n    const removeSessionToken = () => {\n        isOwnChange.current = true;\n        removeSessionTokenUtil();\n\n        // Reset the flag after a short delay\n        setTimeout(() => {\n            isOwnChange.current = false;\n        }, 50);\n    };\n\n    return {\n        setSessionToken,\n        removeSessionToken,\n        showAccountChangeModal,\n        handleReload,\n        handleModalClose,\n    };\n};\n",
            "size_bytes": 3339
        },
        "src/hooks/useThemeSwitcher.tsx": {
            "content": "import { useCallback } from 'react';\nimport { useStore } from './useStore';\n\nconst useThemeSwitcher = () => {\n    const { ui } = useStore() ?? {\n        ui: {\n            setDarkMode: () => {},\n            is_dark_mode_on: false,\n        },\n    };\n    const { setDarkMode, is_dark_mode_on } = ui;\n\n    const toggleTheme = useCallback(() => {\n        const body = document.querySelector('body');\n        if (!body) return;\n        if (body.classList.contains('theme--dark')) {\n            localStorage.setItem('theme', 'light');\n            body.classList.remove('theme--dark');\n            body.classList.add('theme--light');\n            setDarkMode(false);\n        } else {\n            localStorage.setItem('theme', 'dark');\n            body.classList.remove('theme--light');\n            body.classList.add('theme--dark');\n            setDarkMode(true);\n        }\n    }, [setDarkMode]);\n\n    return {\n        toggleTheme,\n        is_dark_mode_on,\n        setDarkMode,\n    };\n};\n\nexport default useThemeSwitcher;\n",
            "size_bytes": 1013
        },
        "src/pages/dashboard/run-strategy.tsx": {
            "content": "import TradeAnimation from '@/components/trade-animation';\n\nconst RunStrategy = () => (\n    <div className='toolbar__section' data-testid='dt_run_strategy'>\n        <TradeAnimation className='toolbar__animation' />\n    </div>\n);\n\nexport default RunStrategy;\n",
            "size_bytes": 258
        },
        "src/hooks/useStore.tsx": {
            "content": "import { createContext, useContext, useEffect, useRef, useState } from 'react';\nimport RootStore from '@/stores/root-store';\nimport { TWebSocket } from '@/Types';\nimport Bot from '../external/bot-skeleton/scratch/dbot';\n\nconst StoreContext = createContext<null | RootStore>(null);\n\ntype TStoreProvider = {\n    children: React.ReactNode;\n    mockStore?: RootStore;\n};\n\nconst StoreProvider: React.FC<TStoreProvider> = ({ children, mockStore }) => {\n    const [store, setStore] = useState<RootStore | null>(null);\n    const initializingStore = useRef(false);\n\n    useEffect(() => {\n        const initializeStore = async () => {\n            const rootStore = new RootStore(Bot);\n            setStore(rootStore);\n        };\n\n        if (!store && !initializingStore.current) {\n            initializingStore.current = true;\n            // If the store is mocked for testing purposes, then return the mocked value.\n            if (mockStore) {\n                setStore(mockStore);\n            } else {\n                initializeStore();\n            }\n        }\n    }, [store, mockStore]);\n\n    if (!store && mockStore) return null;\n\n    return <StoreContext.Provider value={store}>{children}</StoreContext.Provider>;\n};\n\nconst useStore = () => {\n    const store = useContext(StoreContext);\n\n    return store as RootStore;\n};\n\nexport { StoreProvider, useStore };\n\nexport const mockStore = (ws: TWebSocket) => new RootStore(Bot, ws);\n",
            "size_bytes": 1425
        },
        "src/utils/help-content/help-strings/text_print.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize(\n            'This block displays a dialog box with a customised message. When the dialog box is displayed, your strategy is paused and will only resume after you click \"OK\".'\n        ),\n    ],\n};\n",
            "size_bytes": 302
        },
        "src/external/bot-skeleton/scratch/blocks/images.js": {
            "content": "export const defineContract =\n    // 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYAgMAAACdGdVrAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAlQTFRFAAAAMzMzMzMzaARWNQAAAAN0Uk5TAID/7PezGAAAACFJREFUeJxjYEAFUqtWLQFSCgwMHDipplXUF0ShoI5ABgDTPwulgF1l+wAAAABJRU5ErkJggg==';\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAAGXcA1uAAAAAXNSR0IArs4c6QAAAK9JREFUSA3tVUkOgCAMROP/f4PfU4iOaWQKLYmBg71AOksXTAyhGkeKKuECjTSDUwcFxVdNawNgQ10omJNKROqiJbMJsKJZgKgEouuESRYVFVxO35JTnxGDvk9aWQ5GCXfSPbRbsLHysr0lBeMESaKE3hkmbKk230SY9Ulky5rG/SVJU8udPrMU5s7w9bEugUlN886MWiJN86/o2dywFQ17g10b+dlJefH9X0t9X+YETM6gfmoeI+MAAAAASUVORK5CYII=';\n\nexport const blueInfo =\n    // 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAEAAAAAA0VXHyAAABOUlEQVQ4EaVTu07DQBDcOVuUpEaEUEETiY9IYYnHLyAaGlq+IF9AF9HQIEV8AQjJBR+BlAYqQhA1lCj2smPrEMFrIsQVPt3uzO6sbw7yY/WOXvs6L45FNFNFj2lAp/bNkSYX08u1yXcK4qE/1JX3x9mZCk5ENcT4wg6UED1f3eqeTob4YK4qQPLbw8utdR0sEFoPuOtsr++ySNWJnT1yksh+EnDQrKODmmMKOHM5L+492SwgChSlXjeK2DghTXbS6oe1zFwUcmPKGtwqYBxybQTNPAS7z6424I8QGZqFeFUxFPe6u8jTuGsq/EWuf10+3o2G2iRubmmQXFOAfCmyFYA80J7m1bIV05agK40b6G3a08NtHj7vMe7dBDk11wD/tjI9TW8DMvp1HMo2THwHVPf1Gnng+utz/gS/LY1YxBZd7wAAAABJRU5ErkJggg==';\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAWBJREFUOI2dk81KQmEQhp/5zgHRjhtz0apMXBUSdAcVLWrnxhswsHARSLcRhYm00CvIRbugrCtIaJHtIqlFQUsPBeY50yINM7WfZzV8M+/MOzCfMED8wE2q0Q0VVgSJASjaNEJNoHy7Fb7ur5dekChooGO7ewJZwAw27uIBh6Gok2+kpf3ZIFHQgG+7JwpLI4RfULiYiDprjbS0DYBvu/u/FXenLr88u7sAEj9wk2rp1TDb1VQQXyF9/Dp0HctnwajRjWFiAF9BRxuxOpZmJF5qNRTmfmt/gGujMD0qW00FOUoFxzWYsRnjcnHK+smBGoGHn6rGcG8Qzv6v11MjUObjwr5Rf/K4fByaAvA8IxUBmC21ikDub8Mp3OXC2wYgFHXyCOd/kNcitrMD3QNqpKUdmnTWUYqMWKdnG6UQsZz1elbeoO839kgUW/MdSzOisgrEus9N0FPPSOV+M3zTX/8O8E9xAaZDaSsAAAAASUVORK5CYII=';\n\nexport const purchase =\n    // 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAIRQTFRFAAAAMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzxeXsBQAAACx0Uk5TAAG7tbYCR//Y2a15rhj7+hmse95G391Iehd4tNIy0bJSsZJykXFRMRLxEbk1pp94AAAA7UlEQVR4nO2R2RaCMAxEi1VHQXBfAUXcQP7//xSOgC2J1Vd1Htq0J7dJOkL89auyWrIM263OG0AXvTLso/sGYMMpQwcDc77reW4VD72REXBg14cxJqZ8a/rc9wxz09j3FOsJX2BpAMZYqQ0axl5rY+rnhjb6i/zYEi8lPwV8okaAkC4eYkve7xDRQIQ9eR/jQAMHHJn7mAZinJjKu2KXUlnyXs8kECIodkBZ8t+4kECClAZSXOleUyQUUD7U1MMIHeBsqIyQvrKwNrBGcDawRnA21EY0OqVtqI3QxNmQ/x8jxgYhMjo/4/L/+mbdAKHBEAKASOAzAAAAAElFTkSuQmCC';\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAAEgBckRAAAAAXNSR0IArs4c6QAAAvlJREFUaAXtmU1u00AUxxPEGoluKMcgJ8gCARsW9CZ0ReEU5BwFiYpWqtgYiQuQFSygJ2CRLV2E39+ZZ42dGc84XxIwT3p9X//34VfbsZPRaGNaQkpGPNu4yGESGfHUOtnYte0b6G8NdABJu7NoG4KXmi1GwUTACwtYomzp5r9ripP3/KB8zj7q4P4t0z9o9PfJowM0NhD6D9NN+sFm1xb05Rjybe171nKkDBLqfw6yt1Oqjjo3F4XArbli1dfmT7YpgOQGWPanLgjfFXyn6x9sU+QMfhdKxL/1OfSAGreh4vIR643H8pQ4hydRQCAAPv9owJ7AF1YH/bKr+z7FsPMbdBP8ZNNNOuwE+6v0bPILpJLAXsAvUrgSLxsoG4hsgAtoDDe3CoPhW7uFW8yXOffzcxK++ElOfxzwDXcxafAmhvscfjO8opdBgSfwjedqVPxaXbB5A0op5P+GH8ZwqXgwj6RtaO1kiDYJBiJOJop+HuScRZGyLfcUq2p5nJHVgAnrQzepXF/HnMIVnEckt84Os02qSkdfYN/Pq75KnpPQPFVYMZOBBq2B/EaxFVWApga0x2WT8vu64UIyq0EoMdfXeuC3JFZxhP7L7ByZe0Q5tQqmbKBsoGygbOCv2wAfHU/1SQp9Sw0P5nuNJCeFPUicYY7hW8fHqaYOr4dR5UQfSFN1dhJnAD1a/4RF2RsFq8d10Q0ce+LYyYy9RWiulw/R615gIEiOvuASpb/IDeRv7aLxq7r9FgOQbwvY7g2s72ho0vurgjuIfYmPfbMNijGhvsoSnQxKHABW7brDcvkhN23IBVS5otPc4hvgrHa1QW5/CpvR26loHkKuQuuvc/L7+BDO4sT0tiZ6ZL6dSgrr/VGkd54WrdzpYUM4FVJNF1u0CieM7g90CfjoM4Dn8BTu3v6u8LW2jZ3rA1rXlKz0Zy/Ehk7dlma7bkDdmav9cte1m3o0mLgmweugAW6gUHfuau/n/LeZaHLtGu1DXFufIssGygb+kw38ARimnBqQbBHiAAAAAElFTkSuQmCC';\n\nexport const sellContract =\n    // 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAMZQTFRFAAAAMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzsMQO9wAAAEJ0Uk5TAEnj/xnzWcgSZVrxvQFt9AlD34If9dBpcPij0X7mSLyziAyl7H1k3dYbAu2qn6eA1LGN6G66uPucBP23ERPXJIPGaDxgqAAAAQdJREFUeJztlFlvwjAQhBeP4yQlKVfvg7acvQ+g90H5/3+qViWSjQ2RLfGYebC0q/k2sTw2UaVKG1RNwEGilgFOfk1kAKAXiWDdHwSQSxcDFMJ1QAhlA5FAzDxbdVbEEJEBSCWQpMyz3WjmRZpAKFkAtBKZO1ptoNHJB8jk38KAIIzZ/J1d1PeAffaNOAzMTTMd4DCiIxwXuyXACU5T6p6dOwNd4KJHpkoA6gODoYmUATQaA5dXHgBdqxvcOgN39zqYDxg4A494IppgWgIUD24GPL+84i3vWAdXjMb75EM3Pr+yhh0NM3zf/Z85m2+Hz4r374IVK+JN/hfI64p6PwLez0ylShvQHzxCDnS9VqsZAAAAAElFTkSuQmCC';\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAAEgBckRAAAAAXNSR0IArs4c6QAAA45JREFUaAXtWDFrFUEQzoU0QhpjFVRs/Cc2Sf6AxD4BQSF/QBFtbPwDYici2ImFIqaVlBEEK7FICBaxCFEQRM/v29vZzO7O3dv3uGCEXdg3M998M7O7d7e37+bmZmpt2y4xEPLITABHazpOC0wLwt5wtVKHDGBeFJEg7og+okTaVY5hUgslSQwGFJhb2tZ6mARI3XQ77x/YbzQR9mlMTpc4u3rDoWEFomXtGe5+0zSXg28oCL69IT8r/kwJYocLF0p1yi2ITwl2YiL6+MTq5iQZiUNvtO24GaAywLc+5FfUqp7tFdCXUeulo0bMMfoy+WY8QdUcMU0O/xfPuZ/6fOJtyZH56chABcC94oMXFWyqOlffs2YFXge4hi3gu05gEU3Mj24ZklvDtkUCfgHdfMiBu+cXMnos3QbGZHDsQVyyEs+CYaYh9yzxNaauQF2BWVaATzL6WG01GwMzE4TgfhSdGzKyAUi8z5HvzEKA5Ez08TOkA34jGInCeDT5H2EX6Di9O+k17+d2nW1kwDjz0JL6Pa85xfKRS5BP0T8oV6aSWwYqFoPQHiqoVyUxc5pgwgLnM3loFxNXZJIQATRMULHgf+5596AfKlemmrkIou2gZxfQJ6b/Lfov9CdZVgDAN9B5fLFnANy9TyH7ijyD72pPch5ZeIu7uynjwOGqQrDI1H+zJJ6Jtb6gK2mH1jVnSFcx+0O86qsrUFegrkBdgboC/9MKZK91vPBG/ac88mLEnxmt5Hxjs2kfTDnHTH3M0HlKdNTioYxtXfM7KB6X9gddiJA8OHHgPESx8UCVXbEQaCjg30bnMf+c4TYh1kCX702szTFwLK6ZQRoUIiSPllwNHjOLBw7uFfQf6GxH6LtO635u6lpDOuicCGtzDO6YCxndGWY8SWymswBE6F2XoG0PIN3EIVfQ36G/KkhhUhDrmunUYDFRByU6cvBsL+0Qyh30iV8QkzSRKcki0DKKiVZwgiHXPDrv4W8+74uEUmz6+Ml3RjGxpzTiP/ocL4UC+5HHvgo2rfTx5ROQAC+5K5hfsNOBgLeAzgH/RtftNYzzKd+yweOuIzuRzlE+AUmMaH6QkK3U/Owi3FQi7gH6+xQfssHnzsPGmu5zDfkOwc9QrPNZRGCyD0/9YWpiwYSAWrJlRlfcGhdDo//dPtca5GMGeFuLxR5cc8bSuQ3rXPwvv6mBqtcVqCtQV+Dfr8BfZ6VurZP8obgAAAAASUVORK5CYII=';\n\nexport const finishSign =\n    // 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAABJQTFRFAAAAMzMzMzMzMzMzMzMzMzMzbxxq5QAAAAZ0Uk5TALX/40m0LpdrJAAAADpJREFUeJxjYBi0QBCXhBJOCTRggktCGVkCQiE4g0ACWRTZwwMrMTjDCl/UYk8MDDjAyJUQxSUx6AAAWjIi1ZSdqFYAAAAASUVORK5CYII=';\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAAEgBckRAAAAAXNSR0IArs4c6QAAAa5JREFUaAXtV1tywzAIdDq5Rg/Ui/SGzYl8j1brzqYYidHDYWw60g/iIWABKc6yGOsG+XdaSr/uFLe0dkZkNC25Wt6U7zq7C05zJMH9FofBd0IymZIKR4qYWAyh95LfbCgAxYLwd/e3h+yJm0YQWiurk2V4cXkzaALO5owKAJV7E7gsr9zzQBaBiirVXaV3KYeTbtDVyNOgUIFU9q+CeFj0bBs9sL/k5fhJnSXHOakbnzxmUKH3kl5m0JK1ZQ/fxQBHncqk3Uskg217mX2mHBC4I3APMAB6HglfgXQPXvqaZgXBRTu4PqTT+M+1+00uPtfW+94rRy/cEbgHKJYIY8pRGykLz/7jEkmIslwt8mSzSrtsbznMDBsF7lM0A1Q74V6iagbTYFZgVsC7Ani7sbzjjPrPPhu1o4skv6YPj3edG/jDAOQXjQxgAe+1p0/rXPhfgvAAih+9bJukVgtfNSq9/plb+A6EB9A8QmePCkdG0/AdCA+geYR068hbo0W9pr326Tz+p35qP+SbAVjPHB2dRcOP0ARw1ugwbvgOtFziR0J72T807MSkswKDFfgBlTxsE+QpCHoAAAAASUVORK5CYII=';\n\nexport const caution = `data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAABsklEQV\nRoQ+1YS07DMBB9VlG2tJuWZVDYU04CN6BHKCfAnACOADcoJyHsiZRtu0m7rYiMItIFldqZ2ONaEc7Wo5d5n7ETK/T8UT3vH5FAaA\ndZDlQ6TbcYPBtgqqBSn00bmFIBeYL6YaTLknoXSaBt/gNQQwpMdt2sE9Q3FAmSwPIxW0CpW9nmmGjGvE+eirtj1TQBnVWnV/+35S\nZOF7q4dCRwZZh6eSmb6K+jIjMc+KcE9pVbajshgjkQCbQTFR2Qyq4Uzv5W520XijMQZ6BVQCq7UjhxBrgfPHGIQw8x1ymqLthJTD\nXGXY8EbLc/rsJUXTAH4i4UeheKDoR2gBpO7rr7EPf9Yqu9WswBdc5VTabObBLUU+erxaaZlU6nBmevAK5lmiNRPhW+Z2Nd5lQl+U\nu5A6h0Otxi8AKoewrUbd28JajnI12uOThsAjuwlc5mBmiICEfKbBQwH+uicZr9dCbgKVLsyHT+IzskhVykukVGjIB7pOwiI07AMl\nLWkfFCoAHlR8otMt4I0JGSiYx3AgciJRaZkxD4Gymgy8HEPgDaQqtzoOtLfNZHAj7V5WD33oEfb0MpQATTN7IAAAAASUVORK5CYI\nI=`;\n\nexport const plusIconDark =\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAQAAABIkb+zAAAC+0lEQVR4Ae2bA4xeURCFp7bdoGvjv3OC2m1Q24xW0cZJ3caqzdhJ3Vi1bdu2po1T3v95Nvu+E/N+z5hDMf4RExMTE4N0HmkqsZS34RAu4iG+8kd+hEs4xNuw1FTySKSTRvIbYyLW4xbEHr7JG8z47CakBVOMlXgHcRZ+w6tRSNGCOmY874e4D+83E1CHoqCwBWbzI4gPuY85hS0oVGrwDDyD+JgnZibVoHDgXByCBJBDnBvG8kfiPSSgvOfBFCg1sRASbHhRYIdSSn3eDgk+vD2lPvlPfks+AgknfCS/pd8XzTRchYSYq4Vp5B/ogNuQkHPbdPTv4LkMiSCXclr5curiOCSinMivS17hZZAIs5S8YfpDIs5Ack9OKzyJWoAfozW5BVsgCrKF3GG6QHQk0ZVcUBsXIe5Dv+FJ4aKLlx6UQtQICEodb3++qUmAb1BtcgJPh2gSgGAaOQEX1QlcouQxPSHqBMT0dH791yDg/H5Q1Ig/qhT4UNSIksGMgqgUEDPK+fOnKgFeRsmAM1oFcCap9y+IWgFJ4mXf9NMsYPqRDZRpFkCZXWCJaoElZIP3aBbgPWQDp50v0D2OBU+TDb6pWYBv2gWeqxZ4bhf4rlrgm13gk2qBT2QDTzUL4CnZ4BuaBfhGNbiM6r6R7SYbWFrVHyUqNAtwOdnAQM0CiQFkI7uJZoH8xmSHT2kV4FOUDFiqVQBLq8dnlaJG+KBRgD8WNaLkwGaVApsoWbiHSoEe1eDzuuIfHDzd6S+me6oE7lNtcgZXaBLgchczoZp+s1Jtck6iK0RHTJdqOWrwE7Tmx5CI8wStyT0YGLWA6V+lB554mR8jZ8ciEzjmywRpTitcUj30Z8d0VD52aSeREvbgayIlHj3+83TmbaEsf1tK/eCaG4uUj9/bSQzDO9UFCDucy/sC2fb7ODe8EtB0/0tA4dew5uivYdlfeibyAW9FOJ6EOpFXEXk1v1VeRbR/0zYTHJdBNZLI/KOO+4kf4RIfDqKOGxMTExMT8wNOZdb6YlKT2wAAAABJRU5ErkJggg==';\n\nexport const plusIconLight =\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAQAAABIkb+zAAAC+0lEQVR4Ae2bA4xeURCFp7bdoGvjv3OC2m1Q24xW0cZJ3caqzdhJ3Vi1bdu2po1T3v95Nvu+E/N+z5hDMf4RExMTE4N0HmkqsZS34RAu4iG+8kd+hEs4xNuw1FTySKSTRvIbYyLW4xbEHr7JG8z47CakBVOMlXgHcRZ+w6tRSNGCOmY874e4D+83E1CHoqCwBWbzI4gPuY85hS0oVGrwDDyD+JgnZibVoHDgXByCBJBDnBvG8kfiPSSgvOfBFCg1sRASbHhRYIdSSn3eDgk+vD2lPvlPfks+AgknfCS/pd8XzTRchYSYq4Vp5B/ogNuQkHPbdPTv4LkMiSCXclr5curiOCSinMivS17hZZAIs5S8YfpDIs5Ack9OKzyJWoAfozW5BVsgCrKF3GG6QHQk0ZVcUBsXIe5Dv+FJ4aKLlx6UQtQICEodb3++qUmAb1BtcgJPh2gSgGAaOQEX1QlcouQxPSHqBMT0dH791yDg/H5Q1Ig/qhT4UNSIksGMgqgUEDPK+fOnKgFeRsmAM1oFcCap9y+IWgFJ4mXf9NMsYPqRDZRpFkCZXWCJaoElZIP3aBbgPWQDp50v0D2OBU+TDb6pWYBv2gWeqxZ4bhf4rlrgm13gk2qBT2QDTzUL4CnZ4BuaBfhGNbiM6r6R7SYbWFrVHyUqNAtwOdnAQM0CiQFkI7uJZoH8xmSHT2kV4FOUDFiqVQBLq8dnlaJG+KBRgD8WNaLkwGaVApsoWbiHSoEe1eDzuuIfHDzd6S+me6oE7lNtcgZXaBLgchczoZp+s1Jtck6iK0RHTJdqOWrwE7Tmx5CI8wStyT0YGLWA6V+lB554mR8jZ8ciEzjmywRpTitcUj30Z8d0VD52aSeREvbgayIlHj3+83TmbaEsf1tK/eCaG4uUj9/bSQzDO9UFCDucy/sC2fb7ODe8EtB0/0tA4dew5uivYdlfeibyAW9FOJ6EOpFXEXk1v1VeRbR/0zYTHJdBNZLI/KOO+4kf4RIfDqKOGxMTExMT8wNOZdb6YlKT2wAAAABJRU5ErkJggg==';\n\nexport const minusIconDark =\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAQAAABIkb+zAAAC6ElEQVR4Ae2bA6weURCFp7bd4NnaOyeo3Qa1zaiKXpzUbazajJ3UjVXbtm1rGqO6u/sv5uXf74t91nfvHEpISEhISAgO5PAwU4nlvANHcBmP8Z0/8xNcwRHegeWmkochhzRS0hDjsBF3IHb5Nm8yYwoakRZMBVbjA8Sb/I7XooziBbXMGD4I8S8fNGNRi+KgrBnm8hNIAD7EvLJmFCnVeCpeQAL0mZlG1SgauAhHICF4hIsofHgYPkJC8iMPoFCpjsWQcOUloV1KmXV5JyR8eWdmXQqekuZ8DBKNfKykOQVLWTauQyL0elk2BQfa4S4kYu+a9sFdPFchMXilsEUgty5OQmLyVEltShVeAYnR5ZQapg8kZvuRfwpb4FncAfgpWpJfsA2iwG3kD9MRokOnE/mgJi5DlHjZx6IHMyCKnOH5+PNtTQH4FtUkL/AUiDInkxdwWV2AK+Qe0w2iT9NN//M/mPdBeQP+rDLAp/IG5AYzHKJTM1z796dFXkFuwDmIUs+5Wn9B9OpisW96aw5gepMNzIQodqY9wDLVAZaRDd6nOQDvIxs4C3EjBYzLCGfJBt/WHIBv2wO8VB3gpT3AT9UBftgDfFEd4AvZwHPNAfCcbPAtzQH4Vho8RnW/yPaSDSyv6p8SszUH4FlkA/00B3D6ko2CRqoXNA3JDp+B6JTPkAXtt/Hy9PitUt4AnyD65M/lDcgd2KoywBZyC3dVGaBrGvxeV7zBwVO8bjE9UBXgIdUkb/Bs7d9AFlBL0zYr1STvOJ20BDAd03PUgAgt+SkkZp9Zhj20rw5Mnyo98MQrghg5OxFbgBOBTJAWtsAV7UN/Fkx7/WOXFpzMqAdfncxk9Pgvw987IOHLOzLrhtfcWKJ//N6CMxgftBcgLHARHwjl2B/gouhKQFOCLwFFX8Oap7+GZV/0jONDqRXheDxqxV5F5LX8XnkV0f5P24xVXAZ1j5P3Rx33Cz/BFT4aRh03ISEhISHhF9FSCRjypNzcAAAAAElFTkSuQmCC';\n\nexport const lockIconDark =\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAQAAABIkb+zAAACxklEQVR4Ae2aA4wdURSGT223Udf7Gizn/ieo2zg1Yqe23aC2jag2Yie7QW3bto2pMfehO53duTPJ+f54+A0vDgmCUPzkJamuWMM32P6Z61iruuYlUfBRqbyQz7EdJ+d4gUqloJJWEVPwlu3EwVuelFaRgge34etsFzHXrdZBu/Zr2HYXrAnMfcithQNsuw8O5NYi82SXxx62/y/YHalApon38OAT9mAjz/6a9diDT3EkVpNZVLeYJ3+V+3Bdxytel/vgVKx1VTcyh1WTn7Ot5QOmxHswrA58l20tzw2+CVjMtpaHVuOEL3wGburbYDGZgevinXYyd6y0f26Vwnc0gXeqHpkAU7TTf428Im2Xx6+192AqGaA0P9Su5EgqIjxIU39ApclvVCP96XfxZy2DC86tVSPyGx6jXf/xrrYeqOmPIb/BNucp5OWQC6wGmsBW8hs+6TiBG+QSre16gvxGe4ULyCUodL5B5Df47DiBDa633+hsOZHfaK/wCtcCK517CLaACIiACIiACOQkYwQK+SnbJZynKMSInGQqTrKr8k58Ztu/4DPvzK5KxUOkAo6x7X9wzMOokf60mglWkncQwSdjAp8QIa/wNLYNZhp5BUdNCuAYeYXfmBTgV94FbLMJpYAIiIAIiIAIiIAIiMB1zFItrJpf0xKz+HqoBPACnamUYzel0BkvQiKAtyqfYmBZeBsKAdWb4oBeYRC4lmDKtDSuBl4AYykBGBt4AQYlIF8FXiBSnRIQqV7SAiKQrygBlhV4gcRFAzwmDJ/RshSPsnwt1D8y1TskTQlGzD0Bb0PTmOOOemOOO+JFyJrTPFs157pc11xzWnpkIiACIiACIiACIiACz40KPJdSA8wwKjCDvKJSTZbbcAp5BytCWPCklZwdDV/JmVb0hx1+F/1hh9eiPw1O4eH+lF1yAQ8v2rMvCIIgCF8Av9j925HZ5hYAAAAASUVORK5CYII=';\n",
            "size_bytes": 12382
        },
        "src/components/shared_ui/page-overlay/page-overlay.tsx": {
            "content": "import React, { MouseEventHandler } from 'react';\nimport classNames from 'classnames';\nimport ReactDOM from 'react-dom';\nimport { CSSTransition } from 'react-transition-group';\nimport { LabelPairedArrowLeftCaptionFillIcon } from '@deriv/quill-icons/LabelPaired';\nimport { LegacyClose1pxIcon } from '@deriv/quill-icons/Legacy';\n\ntype TPageOverlay = {\n    header?: React.ReactNode;\n    id?: string;\n    is_from_app?: boolean;\n    is_open?: boolean;\n    onClickClose?: (event: MouseEvent) => void;\n    portal_id?: string;\n    header_classname?: string;\n    has_return_icon?: boolean;\n    onReturn?: () => void;\n};\n\nconst PageOverlay = ({\n    children,\n    header,\n    id,\n    is_from_app = false,\n    is_open,\n    onClickClose,\n    portal_id,\n    header_classname,\n    has_return_icon,\n    onReturn,\n}: React.PropsWithChildren<TPageOverlay>) => {\n    const page_overlay_ref = React.useRef<HTMLDivElement>(null);\n\n    const el_page_overlay = (\n        <div\n            ref={page_overlay_ref}\n            id={id}\n            className={classNames('dc-page-overlay', {\n                'dc-page-overlay-portal': !!portal_id,\n            })}\n        >\n            {header && (\n                <div className={classNames('dc-page-overlay__header', { 'dc-page-app__header ': is_from_app })}>\n                    <div className='dc-page-overlay__header-wrapper'>\n                        <div className={classNames('dc-page-overlay__header-title', header_classname)}>\n                            {has_return_icon && (\n                                <LabelPairedArrowLeftCaptionFillIcon\n                                    onClick={onReturn}\n                                    className='dc-modal-header__icon'\n                                />\n                            )}\n                            {header}\n                        </div>\n                        {!is_from_app && (\n                            <div\n                                data-testid='dt_page_overlay_header_close'\n                                className='dc-page-overlay__header-close'\n                                onClick={\n                                    (onClickClose as unknown as MouseEventHandler<HTMLDivElement>) ||\n                                    window.history.back\n                                }\n                            >\n                                <LegacyClose1pxIcon height='20px' width='20px' />\n                            </div>\n                        )}\n                    </div>\n                </div>\n            )}\n            <div className='dc-page-overlay__content'>{children}</div>\n        </div>\n    );\n\n    if (portal_id) {\n        return ReactDOM.createPortal(\n            <CSSTransition\n                appear\n                in={is_open}\n                timeout={250}\n                classNames={{\n                    appear: 'dc-page-overlay--enter',\n                    enter: 'dc-page-overlay--enter',\n                    enterDone: 'dc-page-overlay--enter-done',\n                    exit: 'dc-page-overlay--exit',\n                }}\n                unmountOnExit\n            >\n                {el_page_overlay}\n            </CSSTransition>,\n            document.getElementById(portal_id) as HTMLElement\n        );\n    }\n\n    return <React.Fragment>{el_page_overlay}</React.Fragment>;\n};\n\nexport default PageOverlay;\n",
            "size_bytes": 3346
        },
        "src/components/shared_ui/contract-card/contract-card-items/multiplier-close-actions.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { isValidToCancel } from '@/components/shared';\nimport { TContractInfo } from '@/components/shared/utils/contract/contract-types';\nimport { Button } from '@deriv-com/ui';\nimport RemainingTime from '../../remaining-time';\nimport { TGetCardLables } from '../../types';\n\nexport type TMultiplierCloseActionsProps = {\n    className?: string;\n    contract_info: TContractInfo;\n    getCardLabels: TGetCardLables;\n    is_sell_requested: boolean;\n    onClickCancel: (contract_id?: number) => void;\n    onClickSell: (contract_id?: number) => void;\n    server_time: moment.Moment;\n};\n\nconst MultiplierCloseActions = ({\n    className,\n    contract_info,\n    getCardLabels,\n    is_sell_requested,\n    onClickCancel,\n    onClickSell,\n    server_time,\n}: TMultiplierCloseActionsProps) => {\n    const { contract_id, cancellation: { date_expiry: cancellation_date_expiry } = {}, profit } = contract_info;\n\n    const is_valid_to_cancel = isValidToCancel(contract_info);\n\n    return (\n        <React.Fragment>\n            <Button\n                id={`dc_contract_card_${contract_id}_button`}\n                className={classNames(className, {\n                    'dc-btn--loading': is_sell_requested,\n                })}\n                disabled={is_sell_requested || (Number(profit) < 0 && is_valid_to_cancel)}\n                onClick={ev => {\n                    onClickSell(contract_id);\n                    ev.stopPropagation();\n                    ev.preventDefault();\n                }}\n                variant='outlined'\n            >\n                {getCardLabels().CLOSE}\n            </Button>\n            {is_valid_to_cancel && (\n                <Button\n                    id={`dc_contract_card_${contract_id}_cancel_button`}\n                    className='dc-btn--cancel'\n                    disabled={Number(profit) >= 0}\n                    onClick={ev => {\n                        onClickCancel(contract_id);\n                        ev.stopPropagation();\n                        ev.preventDefault();\n                    }}\n                    variant='outlined'\n                >\n                    {getCardLabels().CANCEL}\n                    {cancellation_date_expiry && (\n                        <RemainingTime\n                            end_time={cancellation_date_expiry}\n                            format='mm:ss'\n                            getCardLabels={getCardLabels}\n                            start_time={server_time}\n                        />\n                    )}\n                </Button>\n            )}\n        </React.Fragment>\n    );\n};\n\nexport default MultiplierCloseActions;\n",
            "size_bytes": 2668
        },
        "src/external/bot-skeleton/scratch/blocks/Advanced/List/lists_indexOf.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.lists_indexOf = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize(\n                'in list {{ input_list }} find {{ first_or_last }} occurence of item {{ input_value }}',\n                {\n                    input_list: '%1',\n                    first_or_last: '%2',\n                    input_value: '%3',\n                }\n            ),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'END',\n                    options: [\n                        [localize('first'), 'FIRST'],\n                        [localize('last'), 'LAST'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'FIND',\n                },\n            ],\n            output: 'Number',\n            inputsInline: true,\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block gives you the position of an item in a given list.'),\n            category: window.Blockly.Categories.List,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('List item position'),\n            description: localize('This block gives you the position of an item in a given list.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            VALUE: null,\n            FIND: null,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.lists_indexOf = block => {\n    const operator = block.getFieldValue('END') === 'FIRST' ? 'indexOf' : 'lastIndexOf';\n    const item =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'FIND',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_NONE\n        ) || \"''\";\n    const list =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'VALUE',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_MEMBER\n        ) || \"''\";\n\n    const code = `${list}.${operator}(${item})`;\n\n    if (block.workspace.options.oneBasedIndex) {\n        return [`${code} + 1`, window.Blockly.JavaScript.javascriptGenerator.ORDER_ADDITION];\n    }\n\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_FUNCTION_CALL];\n};\n",
            "size_bytes": 2857
        },
        "src/components/error-component/error-component.tsx": {
            "content": "import PropTypes from 'prop-types';\nimport { localize } from '@deriv-com/translations';\nimport PageErrorContainer from '../page-error-container';\nimport { standalone_routes } from '../shared';\n\ntype TErrorComponent = {\n    header: JSX.Element | string;\n    message: JSX.Element | string;\n    redirect_label: string;\n    redirectOnClick: (() => void) | null;\n    should_show_refresh: boolean;\n    should_clear_error_on_click: boolean;\n    setError: (has_error: boolean, error: any) => void;\n    redirect_to: string;\n    should_redirect: boolean;\n};\n\nconst ErrorComponent = ({\n    header,\n    message,\n    redirect_label,\n    redirectOnClick = null,\n    should_clear_error_on_click,\n    setError,\n    redirect_to = standalone_routes.trade,\n    should_redirect = true,\n}: Partial<TErrorComponent>) => {\n    return (\n        <PageErrorContainer\n            error_header={header ?? ''}\n            error_messages={message ? [message, ''] : []}\n            redirect_urls={[redirect_to]}\n            redirect_labels={(!redirect_label && []) || [redirect_label || localize('Refresh')]}\n            buttonOnClick={redirectOnClick || (() => window.location.reload())}\n            should_clear_error_on_click={should_clear_error_on_click}\n            setError={setError}\n            should_redirect={should_redirect}\n        />\n    );\n};\n\nErrorComponent.propTypes = {\n    header: PropTypes.string,\n    message: PropTypes.oneOfType([PropTypes.node, PropTypes.string, PropTypes.object]),\n    redirectOnClick: PropTypes.func || PropTypes.object,\n    redirect_label: PropTypes.string,\n    setError: PropTypes.func,\n    should_clear_error_on_click: PropTypes.bool,\n    should_redirect: PropTypes.bool,\n    redirect_to: PropTypes.string,\n    should_show_refresh: PropTypes.bool,\n};\n\nexport default ErrorComponent;\n",
            "size_bytes": 1797
        },
        "src/pages/tutorials/common/search-input/index.tsx": {
            "content": "import React from 'react';\nimport debounce from 'debounce';\nimport { observer } from 'mobx-react-lite';\nimport { DEBOUNCE_INTERVAL_TIME } from '@/constants/bot-contents';\nimport { useStore } from '@/hooks/useStore';\nimport { localize } from '@deriv-com/translations';\nimport { rudderStackSendTutorialSearchEvent } from '../../../../analytics/rudderstack-tutorials';\n\ntype TSearchInput = {\n    faq_value: string;\n    setFaqSearchContent: (value: string) => void;\n    prev_active_tutorials: number;\n};\n\nconst SearchInput = observer(({ faq_value, setFaqSearchContent, prev_active_tutorials }: TSearchInput) => {\n    const { dashboard } = useStore();\n    const input_ref = React.useRef(null);\n    const { setActiveTabTutorial, filterTuotrialTab } = dashboard;\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    const debounceChange = React.useCallback(\n        debounce(\n            value => {\n                filterTuotrialTab(value);\n                setActiveTabTutorial(3);\n                rudderStackSendTutorialSearchEvent({ search_term: value });\n                if (value === '') {\n                    setActiveTabTutorial(prev_active_tutorials);\n                }\n            },\n            DEBOUNCE_INTERVAL_TIME,\n            {\n                trailing: true,\n                leading: false,\n            }\n        ),\n        []\n    );\n    const onSearch = (event: React.ChangeEvent<HTMLInputElement>) => {\n        setFaqSearchContent(event.target.value);\n        debounceChange(event.target.value);\n    };\n\n    return (\n        <>\n            <input\n                ref={input_ref}\n                data-testid='id-test-input-search'\n                type='text'\n                placeholder={localize('Search')}\n                className='dc-tabs__wrapper__group__search-input'\n                onChange={(event: React.ChangeEvent<HTMLInputElement>) => onSearch(event)}\n                value={faq_value}\n            />\n        </>\n    );\n});\n\nexport default SearchInput;\n",
            "size_bytes": 1987
        },
        "src/types/blockly.types.ts": {
            "content": "export type TBlocklyEvents = {\n    type: string;\n    element: string;\n    group: string;\n    oldValue: string;\n    blockId: string;\n};\n\n// Define Blockly types for consistent usage across the application\nexport interface BlocklyBlock {\n    type: string;\n    getFieldValue: (fieldName: string) => string;\n    setFieldValue: (value: string, fieldName: string) => void;\n    getChildByType: (type: string) => BlocklyBlock | null;\n}\n\nexport interface BlocklyWorkspace {\n    getAllBlocks: () => BlocklyBlock[];\n    addChangeListener: (listener: (event: BlocklyEvent) => void) => void;\n    removeChangeListener: (listener: (event: BlocklyEvent) => void) => void;\n    render: () => void;\n}\n\nexport interface BlocklyEvent {\n    type: string;\n    element?: string;\n    name?: string;\n    oldValue?: string;\n    newValue?: string;\n}\n\nexport interface BlocklyEvents {\n    BlockChange: new (\n        block: BlocklyBlock,\n        element: string,\n        name: string,\n        oldValue: string,\n        newValue: string\n    ) => BlocklyEvent;\n    fire: (event: BlocklyEvent) => void;\n    setGroup: (group: string) => void;\n    getGroup: () => string;\n}\n\n// Extend the Window interface to include Blockly types\ndeclare global {\n    interface Window {\n        Blockly: {\n            derivWorkspace?: BlocklyWorkspace;\n            Events: BlocklyEvents;\n        };\n    }\n}\n",
            "size_bytes": 1356
        },
        "analysis-tool/Benanalysistool-final-main/styles/globals.css": {
            "content": "@import 'tailwindcss';\n@import 'tw-animate-css';\n\n@custom-variant dark (&:is(.dark *));\n\n:root {\n  --background: oklch(1 0 0);\n  --foreground: oklch(0.145 0 0);\n  --card: oklch(1 0 0);\n  --card-foreground: oklch(0.145 0 0);\n  --popover: oklch(1 0 0);\n  --popover-foreground: oklch(0.145 0 0);\n  --primary: oklch(0.205 0 0);\n  --primary-foreground: oklch(0.985 0 0);\n  --secondary: oklch(0.97 0 0);\n  --secondary-foreground: oklch(0.205 0 0);\n  --muted: oklch(0.97 0 0);\n  --muted-foreground: oklch(0.556 0 0);\n  --accent: oklch(0.97 0 0);\n  --accent-foreground: oklch(0.205 0 0);\n  --destructive: oklch(0.577 0.245 27.325);\n  --destructive-foreground: oklch(0.577 0.245 27.325);\n  --border: oklch(0.922 0 0);\n  --input: oklch(0.922 0 0);\n  --ring: oklch(0.708 0 0);\n  --chart-1: oklch(0.646 0.222 41.116);\n  --chart-2: oklch(0.6 0.118 184.704);\n  --chart-3: oklch(0.398 0.07 227.392);\n  --chart-4: oklch(0.828 0.189 84.429);\n  --chart-5: oklch(0.769 0.188 70.08);\n  --radius: 0.625rem;\n  --sidebar: oklch(0.985 0 0);\n  --sidebar-foreground: oklch(0.145 0 0);\n  --sidebar-primary: oklch(0.205 0 0);\n  --sidebar-primary-foreground: oklch(0.985 0 0);\n  --sidebar-accent: oklch(0.97 0 0);\n  --sidebar-accent-foreground: oklch(0.205 0 0);\n  --sidebar-border: oklch(0.922 0 0);\n  --sidebar-ring: oklch(0.708 0 0);\n}\n\n.dark {\n  --background: oklch(0.145 0 0);\n  --foreground: oklch(0.985 0 0);\n  --card: oklch(0.145 0 0);\n  --card-foreground: oklch(0.985 0 0);\n  --popover: oklch(0.145 0 0);\n  --popover-foreground: oklch(0.985 0 0);\n  --primary: oklch(0.985 0 0);\n  --primary-foreground: oklch(0.205 0 0);\n  --secondary: oklch(0.269 0 0);\n  --secondary-foreground: oklch(0.985 0 0);\n  --muted: oklch(0.269 0 0);\n  --muted-foreground: oklch(0.708 0 0);\n  --accent: oklch(0.269 0 0);\n  --accent-foreground: oklch(0.985 0 0);\n  --destructive: oklch(0.396 0.141 25.723);\n  --destructive-foreground: oklch(0.637 0.237 25.331);\n  --border: oklch(0.269 0 0);\n  --input: oklch(0.269 0 0);\n  --ring: oklch(0.439 0 0);\n  --chart-1: oklch(0.488 0.243 264.376);\n  --chart-2: oklch(0.696 0.17 162.48);\n  --chart-3: oklch(0.769 0.188 70.08);\n  --chart-4: oklch(0.627 0.265 303.9);\n  --chart-5: oklch(0.645 0.246 16.439);\n  --sidebar: oklch(0.205 0 0);\n  --sidebar-foreground: oklch(0.985 0 0);\n  --sidebar-primary: oklch(0.488 0.243 264.376);\n  --sidebar-primary-foreground: oklch(0.985 0 0);\n  --sidebar-accent: oklch(0.269 0 0);\n  --sidebar-accent-foreground: oklch(0.985 0 0);\n  --sidebar-border: oklch(0.269 0 0);\n  --sidebar-ring: oklch(0.439 0 0);\n}\n\n@theme inline {\n  --font-sans: var(--font-geist-sans);\n  --font-mono: var(--font-geist-mono);\n  --color-background: var(--background);\n  --color-foreground: var(--foreground);\n  --color-card: var(--card);\n  --color-card-foreground: var(--card-foreground);\n  --color-popover: var(--popover);\n  --color-popover-foreground: var(--popover-foreground);\n  --color-primary: var(--primary);\n  --color-primary-foreground: var(--primary-foreground);\n  --color-secondary: var(--secondary);\n  --color-secondary-foreground: var(--secondary-foreground);\n  --color-muted: var(--muted);\n  --color-muted-foreground: var(--muted-foreground);\n  --color-accent: var(--accent);\n  --color-accent-foreground: var(--accent-foreground);\n  --color-destructive: var(--destructive);\n  --color-destructive-foreground: var(--destructive-foreground);\n  --color-border: var(--border);\n  --color-input: var(--input);\n  --color-ring: var(--ring);\n  --color-chart-1: var(--chart-1);\n  --color-chart-2: var(--chart-2);\n  --color-chart-3: var(--chart-3);\n  --color-chart-4: var(--chart-4);\n  --color-chart-5: var(--chart-5);\n  --radius-sm: calc(var(--radius) - 4px);\n  --radius-md: calc(var(--radius) - 2px);\n  --radius-lg: var(--radius);\n  --radius-xl: calc(var(--radius) + 4px);\n  --color-sidebar: var(--sidebar);\n  --color-sidebar-foreground: var(--sidebar-foreground);\n  --color-sidebar-primary: var(--sidebar-primary);\n  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);\n  --color-sidebar-accent: var(--sidebar-accent);\n  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);\n  --color-sidebar-border: var(--sidebar-border);\n  --color-sidebar-ring: var(--sidebar-ring);\n}\n\n@layer base {\n  * {\n    @apply border-border outline-ring/50;\n  }\n  body {\n    @apply bg-background text-foreground;\n  }\n}\n",
            "size_bytes": 4337
        },
        "src/utils/mock/contract.ts": {
            "content": "export const mock_contract = {\n    transaction_ids: { buy: 123, sell: 6789 },\n    underlying: 'EURUSD',\n    underlying_symbol: 'EURUSD',\n    entry_spot: 1.2345,\n    exit_spot: 1.6789,\n    entry_spot_time: '2023-12-01 17:00:00',\n    entry_tick_time: '5pm',\n    exit_tick_time: '6pm',\n    date_start: 10,\n    tick_count: 100,\n    buy_price: 50,\n    currency: 'USD',\n    profit: 30,\n    barrier: '3',\n    is_completed: true,\n    contract_type: 'CALL',\n    shortcode: 'CALL_BARRIER',\n};\n",
            "size_bytes": 483
        },
        "src/stores/common-store.ts": {
            "content": "import { action, makeObservable, observable } from 'mobx';\nimport moment from 'moment';\nimport { toMoment } from '@/utils/time';\n\nconst UPDATE_TIME_INTERVAL = 1000;\n\ntype Error = {\n    type: string;\n    header: string;\n    message: string;\n    redirect_label: string;\n    redirectOnClick: () => void;\n    should_show_refresh: boolean;\n    redirect_to: string;\n    should_clear_error_on_click: boolean;\n    should_redirect: boolean;\n};\n\nexport default class CommonStore {\n    server_time = toMoment();\n    update_time_interval: NodeJS.Timeout | undefined;\n    current_language = '';\n    is_socket_opened = false;\n    error: Partial<Error> | undefined;\n    has_error = false;\n\n    constructor() {\n        makeObservable(this, {\n            current_language: observable,\n            server_time: observable,\n            is_socket_opened: observable,\n            error: observable,\n            has_error: observable,\n            setServerTime: action,\n            updateServerTime: action,\n            setCurrentLanguage: action,\n            setSocketOpened: action,\n            setError: action,\n            showError: action,\n        });\n    }\n\n    setCurrentLanguage = (lang: string) => {\n        this.current_language = lang;\n    };\n\n    setServerTime = (time: moment.Moment, error: boolean) => {\n        if (error) return;\n\n        this.server_time = time;\n\n        if (this.update_time_interval) {\n            clearInterval(this.update_time_interval);\n        }\n\n        this.update_time_interval = setInterval(() => this.updateServerTime(), UPDATE_TIME_INTERVAL);\n    };\n\n    updateServerTime = () => {\n        this.server_time = moment(this.server_time).add(UPDATE_TIME_INTERVAL, 'milliseconds');\n    };\n\n    setSocketOpened = (opened: boolean) => {\n        this.is_socket_opened = opened;\n    };\n\n    setError = (has_error: boolean, error: Partial<Error>) => {\n        this.has_error = has_error;\n        this.error = has_error\n            ? {\n                  type: error ? error.type : 'info',\n                  ...(error && {\n                      header: error.header,\n                      message: error.message,\n                      redirect_label: error.redirect_label,\n                      redirectOnClick: error.redirectOnClick,\n                      should_show_refresh: error.should_show_refresh,\n                      redirect_to: error.redirect_to,\n                      should_clear_error_on_click: error.should_clear_error_on_click,\n                      should_redirect: error.should_redirect,\n                      setError: this.setError,\n                  }),\n              }\n            : undefined;\n    };\n\n    showError = ({\n        message,\n        header,\n        redirect_label,\n        redirectOnClick,\n        should_show_refresh,\n        redirect_to,\n        should_clear_error_on_click,\n        should_redirect,\n    }: Partial<Error>) => {\n        this.setError(true, {\n            header,\n            message,\n            redirect_label,\n            redirectOnClick,\n            should_show_refresh,\n            redirect_to,\n            should_clear_error_on_click,\n            type: 'error',\n            should_redirect,\n        });\n    };\n}\n",
            "size_bytes": 3182
        },
        "src/components/shared_ui/data-list/data-list.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { TransitionGroup } from 'react-transition-group';\nimport {\n    AutoSizer as _AutoSizer,\n    type AutoSizerProps,\n    CellMeasurer as _CellMeasurer,\n    CellMeasurerCache,\n    CellMeasurerProps,\n    IndexRange,\n    List as _List,\n    ListProps,\n    ListRowProps,\n} from 'react-virtualized';\nimport { MeasuredCellParent } from 'react-virtualized/dist/es/CellMeasurer';\nimport { isDesktop, isForwardStartingBuyTransaction, isMobile } from '@/components/shared';\nimport ThemedScrollbars from '../themed-scrollbars';\nimport { TPassThrough, TRow, TTableRowItem } from '../types/common.types';\nimport DataListCell from './data-list-cell';\nimport DataListRow, { TRowRenderer } from './data-list-row';\n\nconst List = _List as unknown as React.FC<ListProps>;\nconst AutoSizer = _AutoSizer as unknown as React.FC<AutoSizerProps>;\nconst CellMeasurer = _CellMeasurer as unknown as React.FC<CellMeasurerProps>;\n\nexport type TDataList = {\n    className?: string;\n    data_source: TRow[];\n    footer?: TRow;\n    getRowAction?: (row: TRow) => TTableRowItem;\n    getRowSize?: (params: { index: number }) => number;\n    keyMapper?: (row: TRow) => number | string;\n    onRowsRendered?: (params: IndexRange) => void;\n    onScroll?: React.UIEventHandler<HTMLDivElement>;\n    passthrough?: TPassThrough;\n    row_gap?: number;\n    setListRef?: (ref: MeasuredCellParent) => void;\n    rowRenderer: TRowRenderer;\n    children?: React.ReactNode;\n    overscanRowCount?: number;\n};\ntype GetContentType = { measure?: () => void | undefined };\n\nconst DataList = React.memo(\n    ({\n        children,\n        className,\n        data_source,\n        footer,\n        getRowSize,\n        keyMapper,\n        onRowsRendered,\n        onScroll,\n        setListRef,\n        overscanRowCount,\n        ...other_props\n    }: TDataList) => {\n        const [is_loading, setLoading] = React.useState(true);\n        const [is_scrolling, setIsScrolling] = React.useState(false);\n        const [scroll_top, setScrollTop] = React.useState(0);\n\n        const cache = React.useRef<CellMeasurerCache>();\n        const list_ref = React.useRef<MeasuredCellParent | null>(null);\n        const items_transition_map_ref = React.useRef<{ [key: string]: boolean }>({});\n        const data_source_ref = React.useRef<TRow[] | null>(null);\n        data_source_ref.current = data_source;\n\n        const is_dynamic_height = !getRowSize;\n\n        const trackItemsForTransition = React.useCallback(() => {\n            data_source.forEach((item: TRow, index: number) => {\n                const row_key: string | number = keyMapper?.(item) || `${index}-0`;\n                items_transition_map_ref.current[row_key] = true;\n            });\n        }, [data_source, keyMapper]);\n\n        React.useEffect(() => {\n            if (is_dynamic_height) {\n                cache.current = new CellMeasurerCache({\n                    fixedWidth: true,\n                    keyMapper: row_index => {\n                        if (data_source_ref?.current && row_index < data_source_ref?.current.length)\n                            return keyMapper?.(data_source_ref.current[row_index]) || row_index;\n                        return row_index;\n                    },\n                });\n            }\n            trackItemsForTransition();\n            setLoading(false);\n        }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n        React.useEffect(() => {\n            if (is_dynamic_height) {\n                list_ref.current?.recomputeGridSize?.({ columnIndex: 0, rowIndex: 0 });\n            }\n            trackItemsForTransition();\n        }, [data_source, is_dynamic_height, trackItemsForTransition]);\n\n        const footerRowRenderer = () => {\n            return <React.Fragment>{other_props.rowRenderer({ row: footer, is_footer: true })}</React.Fragment>;\n        };\n\n        const rowRenderer = ({ style, index, key, parent }: ListRowProps) => {\n            const { getRowAction, passthrough, row_gap } = other_props;\n            let row = data_source[index];\n            const { action_type, shortcode, purchase_time, transaction_time, id } = row;\n            if (isForwardStartingBuyTransaction(action_type, shortcode, purchase_time || transaction_time)) {\n                const is_sold = !!data_source?.find(\n                    transaction => transaction.action_type === 'sell' && transaction.id === id\n                );\n                row = { ...row, is_sold };\n            }\n            const action = getRowAction && getRowAction(row);\n            const destination_link = typeof action === 'string' ? action : undefined;\n            const action_desc = typeof action === 'object' ? action : undefined;\n            const row_key = keyMapper?.(row) || key;\n\n            const getContent = ({ measure }: GetContentType = {}) => (\n                <DataListRow\n                    //@ts-expect-error needs refactor\n                    action_desc={action_desc}\n                    destination_link={destination_link}\n                    is_new_row={!items_transition_map_ref.current[row_key]}\n                    is_scrolling={is_scrolling}\n                    measure={measure}\n                    passthrough={passthrough}\n                    row_gap={row_gap}\n                    row_key={row_key}\n                    row={row}\n                    rowRenderer={other_props.rowRenderer}\n                    is_dynamic_height={is_dynamic_height}\n                />\n            );\n\n            return is_dynamic_height && cache.current ? (\n                <CellMeasurer cache={cache.current} columnIndex={0} key={row_key} rowIndex={index} parent={parent}>\n                    {({ measure }) => <div style={style}>{getContent({ measure })}</div>}\n                </CellMeasurer>\n            ) : (\n                <div key={row_key} style={style}>\n                    {getContent()}\n                </div>\n            );\n        };\n\n        const handleScroll = (ev: Partial<React.UIEvent<HTMLDivElement>>) => {\n            // eslint-disable-next-line prefer-const\n            let timeout;\n\n            clearTimeout(timeout);\n            if (!is_scrolling) {\n                setIsScrolling(true);\n            }\n            timeout = setTimeout(() => {\n                if (!is_loading) {\n                    setIsScrolling(false);\n                }\n            }, 200);\n\n            setScrollTop((ev.target as HTMLElement).scrollTop);\n            if (typeof onScroll === 'function') {\n                onScroll(ev as React.UIEvent<HTMLDivElement>);\n            }\n        };\n\n        const setRef = (ref: MeasuredCellParent) => {\n            list_ref.current = ref;\n            setListRef?.(ref);\n        };\n\n        if (is_loading) {\n            return <div />;\n        }\n        return (\n            <div\n                data-testid='dt_data_list'\n                className={classNames(className, 'data-list', {\n                    [`${className}__data-list`]: className,\n                })}\n            >\n                <div className='data-list__body-wrapper'>\n                    <div className={classNames('data-list__body', { [`${className}__data-list-body`]: className })}>\n                        <AutoSizer>\n                            {({ width, height }) => (\n                                // Don't remove `TransitionGroup`. When `TransitionGroup` is removed, transition life cycle events like `onEntered` won't be fired sometimes on it's `CSSTransition` children\n                                <TransitionGroup style={{ height, width }}>\n                                    <ThemedScrollbars onScroll={handleScroll} autohide is_bypassed={isMobile()}>\n                                        <List\n                                            className={className}\n                                            deferredMeasurementCache={cache?.current}\n                                            height={height}\n                                            onRowsRendered={onRowsRendered}\n                                            overscanRowCount={overscanRowCount || 1}\n                                            ref={(ref: MeasuredCellParent) => setRef(ref)}\n                                            rowCount={data_source.length}\n                                            rowHeight={\n                                                is_dynamic_height && cache?.current?.rowHeight\n                                                    ? cache?.current?.rowHeight\n                                                    : getRowSize || 0\n                                            }\n                                            rowRenderer={rowRenderer}\n                                            scrollingResetTimeInterval={0}\n                                            width={width}\n                                            {...(isDesktop()\n                                                ? { scrollTop: scroll_top, autoHeight: true }\n                                                : {\n                                                      onScroll: target =>\n                                                          handleScroll({ target } as unknown as Partial<\n                                                              React.UIEvent<HTMLDivElement>\n                                                          >),\n                                                  })}\n                                        />\n                                    </ThemedScrollbars>\n                                </TransitionGroup>\n                            )}\n                        </AutoSizer>\n                    </div>\n                    {children}\n                </div>\n                {footer && (\n                    <div\n                        className={classNames('data-list__footer', {\n                            [`${className}__data-list-footer`]: className,\n                        })}\n                    >\n                        {footerRowRenderer()}\n                    </div>\n                )}\n            </div>\n        );\n    }\n) as React.MemoExoticComponent<(props: TDataList) => JSX.Element> & { Cell: typeof DataListCell };\n\nDataList.displayName = 'DataList';\nDataList.Cell = DataListCell;\n\nexport default DataList;\n",
            "size_bytes": 10265
        },
        "src/utils/help-content/help-strings/read_ohlc_obj.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize(\n            'This block gives you the selected candle value such as open price, close price, high price, low price, and open time. It requires a candle as an input parameter.'\n        ),\n        localize('In the example below, the open price is assigned to the variable \"op\".'),\n    ],\n};\n",
            "size_bytes": 395
        },
        "src/components/shared/utils/string/string_util.ts": {
            "content": "export const toTitleCase = (str: string) =>\n    (str || '').replace(/\\w[^\\s/\\\\]*/g, txt => txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase());\n\nexport const padLeft = (txt: string, len: number, char: string) => {\n    const text = String(txt || '');\n    return text.length >= len ? text : `${Array(len - text.length + 1).join(char)}${text}`;\n};\n\nexport const compareBigUnsignedInt = (a: number, b?: number | string | null) => {\n    let first_num = numberToString(a);\n    let second_num = numberToString(b);\n    if (!first_num || !second_num) {\n        return '';\n    }\n    const max_length = Math.max(first_num.length, second_num.length);\n    first_num = padLeft(first_num, max_length, '0');\n    second_num = padLeft(second_num, max_length, '0');\n\n    // lexicographical comparison\n    let order = 0;\n    if (first_num !== second_num) {\n        order = first_num > second_num ? 1 : -1;\n    }\n\n    return order;\n};\n\nexport const matchStringByChar = (s: string, p: string) => {\n    if (p?.length < 1) return true;\n    const z = p.split('').reduce((a, b) => `${a}[^${b}]*${b}`, '');\n    return RegExp(z, 'i').test(s);\n};\n\nexport const numberToString = (n?: number | string | null) => (typeof n === 'number' ? String(n) : n);\n\nexport const getKebabCase = (str?: string) => {\n    if (!str) return str;\n    return str\n        .replace(/([a-z0-9])([A-Z])/g, '$1-$2') // get all lowercase letters that are near to uppercase ones\n        .replace(/[\\s]+/g, '-') // replace all spaces and low dash\n        .toLowerCase();\n};\n\n// Automatically formats input string with separators based on example format argument.\nexport const formatInput = (example_format: string, input_string: string, separator: string) => {\n    const separator_index = example_format.indexOf(separator);\n    const format_count = getCharCount(example_format, separator);\n    const input_count = getCharCount(input_string, separator);\n\n    if (separator_index !== -1 && input_count < format_count && input_string.length - 1 >= separator_index) {\n        return input_string.slice(0, separator_index) + separator + input_string.slice(separator_index);\n    }\n\n    return input_string;\n};\n\nexport const getCharCount = (target_string: string, char: string | RegExp) =>\n    target_string.match(new RegExp(char, 'g'))?.length || 0;\n\nexport const capitalizeFirstLetter = (target_string: string) =>\n    target_string && target_string[0].toUpperCase() + target_string.slice(1);\n\nexport const getEnglishCharacters = (input: string) =>\n    input\n        .normalize('NFD')\n        .split('')\n        .filter(char => /^[a-z ]*$/i.test(char))\n        .join('');\n",
            "size_bytes": 2614
        },
        "src/components/shared/utils/helpers/portfolio-notifications.tsx": {
            "content": "import Money from '@/components/shared_ui/money';\nimport { Localize, localize } from '@deriv-com/translations';\n\nexport const contractSold = (currency: string, sold_for: number | string, Money: React.ElementType) => ({\n    key: 'contract_sold',\n    header: localize('Contract sold'),\n    message: (\n        <Localize\n            i18n_default_text='Contract was sold for <0 />.'\n            components={[<Money key={sold_for} amount={sold_for} currency={currency} show_currency />]}\n        />\n    ),\n    type: 'contract_sold',\n    size: 'small',\n    should_hide_close_btn: true,\n    is_auto_close: true,\n});\n\nexport const contractCancelled = () => ({\n    key: 'contract_sold',\n    header: localize('Contract cancelled'),\n    message: (\n        <Localize\n            i18n_default_text='Contract was cancelled.'\n            components={[<Money key={sold_for} amount={sold_for} currency={currency} />]}\n        />\n    ),\n    type: 'contract_sold',\n    size: 'small',\n    should_hide_close_btn: true,\n    is_auto_close: true,\n});\n",
            "size_bytes": 1026
        },
        "src/components/trade-type-confirmation-modal/trade-type-confirmation-modal.tsx": {
            "content": "import React from 'react';\nimport { observer } from 'mobx-react-lite';\nimport Dialog from '@/components/shared_ui/dialog';\nimport { useStore } from '@/hooks/useStore';\nimport { removeTradeTypeFromUrl } from '@/utils/blockly-url-param-handler';\nimport { getSetting } from '@/utils/settings';\nimport { applyTradeTypeDropdownChanges } from '@/utils/trade-type-modal-handler';\nimport { getTradeTypeFromCurrentUrl } from '@/utils/url-trade-type-handler';\nimport { Localize } from '@deriv-com/translations';\nimport './trade-type-confirmation-modal.scss';\n\ninterface TradeTypeConfirmationModalProps {\n    is_visible: boolean;\n    trade_type_display_name: string;\n    current_trade_type: string;\n    current_trade_type_display_name?: string;\n    onConfirm: () => void;\n    onCancel: () => void;\n}\n\nconst TradeTypeConfirmationModal: React.FC<TradeTypeConfirmationModalProps> = observer(\n    ({\n        is_visible,\n        trade_type_display_name,\n        current_trade_type,\n        current_trade_type_display_name,\n        onConfirm,\n        onCancel,\n    }) => {\n        const { dashboard } = useStore();\n        const { is_tour_dialog_visible } = dashboard;\n        const [display_name, setDisplayName] = React.useState(trade_type_display_name);\n\n        // Check if user is seeing the tour (first time user)\n        const isFirstTimeUser = React.useMemo(() => {\n            const botBuilderToken = getSetting('bot_builder_token');\n            return !botBuilderToken;\n        }, []);\n        // Force re-render when trade_type_display_name changes\n        React.useEffect(() => {\n            setDisplayName(trade_type_display_name);\n        }, [trade_type_display_name, display_name]);\n\n        // Handle first-time users - apply changes silently without showing modal\n        React.useEffect(() => {\n            if (is_visible && (isFirstTimeUser || is_tour_dialog_visible)) {\n                const tradeTypeFromUrl = getTradeTypeFromCurrentUrl();\n\n                if (tradeTypeFromUrl && tradeTypeFromUrl.isValid) {\n                    // Remove URL parameter immediately for tour users - don't apply changes\n                    removeTradeTypeFromUrl();\n\n                    // Call onConfirm to indicate processing is complete\n                    onConfirm();\n                }\n            }\n        }, [is_visible, isFirstTimeUser, is_tour_dialog_visible, onConfirm]);\n\n        // Don't show modal if tour is visible or if it's a first-time user\n        if (is_tour_dialog_visible || isFirstTimeUser) return null;\n        return (\n            <Dialog\n                title={<Localize i18n_default_text='Change Trade Type?' />}\n                is_visible={is_visible}\n                confirm_button_text='Yes, Change'\n                cancel_button_text='No, Keep Current'\n                onConfirm={() => {\n                    // Apply the dropdown changes when user confirms\n                    const tradeTypeFromUrl = getTradeTypeFromCurrentUrl();\n                    if (tradeTypeFromUrl && tradeTypeFromUrl.isValid) {\n                        applyTradeTypeDropdownChanges(tradeTypeFromUrl.tradeTypeCategory, tradeTypeFromUrl.tradeType);\n                    }\n                    // Remove URL parameter\n                    removeTradeTypeFromUrl();\n\n                    onConfirm();\n                }}\n                onCancel={() => {\n                    // Remove URL parameter even when cancelled\n                    removeTradeTypeFromUrl();\n\n                    // Call the original onCancel callback\n                    onCancel();\n                }}\n                onClose={onCancel}\n                has_close_icon\n                is_mobile_full_width={false}\n                portal_element_id='modal_root'\n                className='trade-type-confirmation-modal'\n                login={() => {}} // Not needed for this modal\n            >\n                <div className='trade-type-confirmation-modal__content'>\n                    <p>\n                        <Localize\n                            i18n_default_text='You have selected a new trade type on the homepage: <0>{{trade_type_name}}</0>.'\n                            values={{ trade_type_name: display_name }}\n                            components={[<strong key={0} />]}\n                        />\n                    </p>\n                    <p>\n                        <Localize\n                            i18n_default_text='Your current selection is: <0>{{current_trade_type}}</0>.'\n                            values={{ current_trade_type: current_trade_type_display_name || current_trade_type }}\n                            components={[<strong key={0} />]}\n                        />\n                    </p>\n                    <p>\n                        <Localize i18n_default_text='Would you like to switch to the new trade type for this strategy?' />\n                    </p>\n                </div>\n            </Dialog>\n        );\n    }\n);\n\nTradeTypeConfirmationModal.displayName = 'TradeTypeConfirmationModal';\n\nexport default TradeTypeConfirmationModal;\n",
            "size_bytes": 5043
        },
        "src/components/shared_ui/checkbox/checkbox.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { LabelPairedCheckCaptionFillIcon } from '@deriv/quill-icons/LabelPaired';\nimport Text from '../text';\n\ntype TCheckBoxProps = Omit<React.HTMLProps<HTMLInputElement>, 'value' | 'label'> & {\n    className?: string;\n    classNameLabel?: string;\n    defaultChecked?: boolean;\n    disabled?: boolean;\n    greyDisabled?: boolean;\n    id?: string;\n    label: string | React.ReactElement;\n    label_font_size?: string;\n    onChange?: (e: React.ChangeEvent<HTMLInputElement> | React.KeyboardEvent<HTMLSpanElement>) => void;\n    value?: boolean;\n    withTabIndex?: number;\n    has_error?: boolean;\n    label_lineHeight?: string;\n};\n\nconst Checkbox = React.forwardRef<HTMLInputElement, TCheckBoxProps>(\n    (\n        {\n            className,\n            classNameLabel,\n            disabled = false,\n            id,\n            label,\n            label_font_size = 'xs',\n            label_lineHeight = 'unset',\n            defaultChecked,\n            onChange, // This needs to be here so it's not included in `otherProps`\n            value = false,\n            withTabIndex = 0,\n            greyDisabled = false,\n            has_error = false,\n            ...otherProps\n        },\n        ref\n    ) => {\n        const [checked, setChecked] = React.useState(defaultChecked || value);\n        React.useEffect(() => {\n            setChecked(defaultChecked || value);\n        }, [value, defaultChecked]);\n\n        const onInputChange: React.ChangeEventHandler<HTMLInputElement> = e => {\n            e.persist();\n            setChecked(!checked);\n            onChange?.(e);\n        };\n\n        const handleKeyDown: React.KeyboardEventHandler<HTMLSpanElement> = e => {\n            // Enter or space\n            if (!disabled && (e.key === 'Enter' || e.keyCode === 32)) {\n                onChange?.(e);\n                setChecked(!checked);\n            }\n        };\n\n        return (\n            <label\n                htmlFor={id}\n                onClick={e => e.stopPropagation()}\n                className={classNames('dc-checkbox', className, {\n                    'dc-checkbox--disabled': disabled,\n                })}\n            >\n                <span>\n                    <input\n                        className='dc-checkbox__input'\n                        type='checkbox'\n                        id={id}\n                        ref={ref}\n                        disabled={disabled}\n                        onChange={onInputChange}\n                        checked={checked}\n                        {...otherProps}\n                    />\n                    <span\n                        className={classNames('dc-checkbox__box', {\n                            'dc-checkbox__box--active': checked,\n                            'dc-checkbox__box--disabled': disabled,\n                            'dc-checkbox--grey-disabled': disabled && greyDisabled,\n                        })}\n                        tabIndex={withTabIndex}\n                        onKeyDown={handleKeyDown}\n                    >\n                        {!!checked && <LabelPairedCheckCaptionFillIcon />}\n                    </span>\n                </span>\n                <Text\n                    size={label_font_size}\n                    lineHeight={label_lineHeight}\n                    className={classNames('dc-checkbox__label', classNameLabel, {\n                        'dc-checkbox__label--error': has_error,\n                    })}\n                >\n                    {label}\n                </Text>\n            </label>\n        );\n    }\n);\n\nCheckbox.displayName = 'Checkbox';\n\nexport default Checkbox;\n",
            "size_bytes": 3645
        },
        "src/components/load-modal/google-drive/google-drive.tsx": {
            "content": "import React from 'react';\nimport classnames from 'classnames';\nimport { observer } from 'mobx-react-lite';\nimport Button from '@/components/shared_ui/button';\nimport StaticUrl from '@/components/shared_ui/static-url';\nimport { useStore } from '@/hooks/useStore';\nimport { DerivLightGoogleDriveIcon } from '@deriv/quill-icons/Illustration';\nimport { Localize } from '@deriv-com/translations';\nimport { useDevice } from '@deriv-com/ui';\nimport {\n    rudderStackSendGoogleDriveConnectEvent,\n    rudderStackSendGoogleDriveDisconnectEvent,\n} from '../../../analytics/rudderstack-common-events';\nimport './google-drive.scss';\n\nconst GoogleDrive: React.FC = observer(() => {\n    const { google_drive, load_modal } = useStore();\n    const { is_authorised, signIn, signOut } = google_drive;\n    const { is_open_button_loading, onDriveOpen } = load_modal;\n    const { isDesktop } = useDevice();\n    const icon_size = isDesktop ? '128' : '96';\n\n    return (\n        <div className='load-strategy__container' data-testid='dt_google_drive'>\n            <div className='load-strategy__google-drive'>\n                <DerivLightGoogleDriveIcon\n                    className={classnames('load-strategy__google-drive-icon', {\n                        'load-strategy__google-drive-icon--disabled': !is_authorised,\n                    })}\n                    height={icon_size}\n                    width={icon_size}\n                />\n                <div className='load-strategy__google-drive-connected-text'>\n                    {is_authorised ? (\n                        <Localize i18n_default_text='You are connected to Google Drive' />\n                    ) : (\n                        'Google Drive'\n                    )}\n                </div>\n                {is_authorised ? (\n                    <Button.Group>\n                        <Button\n                            onClick={() => {\n                                signOut();\n                                rudderStackSendGoogleDriveDisconnectEvent();\n                            }}\n                            has_effect\n                            secondary\n                            large\n                        >\n                            <Localize i18n_default_text='Disconnect' />\n                        </Button>\n                        <Button\n                            onClick={() => {\n                                onDriveOpen();\n                            }}\n                            is_loading={is_open_button_loading}\n                            has_effect\n                            primary\n                            large\n                        >\n                            <Localize i18n_default_text='Open' />\n                        </Button>\n                    </Button.Group>\n                ) : (\n                    <React.Fragment>\n                        <div className='load-strategy__google-drive-terms'>\n                            <div className='load-strategy__google-drive-text'>\n                                <Localize i18n_default_text=\"To import your bot from your Google Drive, you'll need to sign in to your Google account.\" />\n                            </div>\n                            <div className='load-strategy__google-drive-text'>\n                                <Localize\n                                    i18n_default_text='To know how Google Drive handles your data, please review Derivs <0>Privacy policy.</0>'\n                                    components={[\n                                        <StaticUrl\n                                            key={0}\n                                            className='link'\n                                            href='tnc/security-and-privacy.pdf'\n                                            is_document\n                                        />,\n                                    ]}\n                                />\n                            </div>\n                        </div>\n                        <Button\n                            onClick={() => {\n                                signIn();\n                                rudderStackSendGoogleDriveConnectEvent();\n                            }}\n                            has_effect\n                            primary\n                            large\n                        >\n                            <Localize i18n_default_text='Sign in' />\n                        </Button>\n                    </React.Fragment>\n                )}\n            </div>\n        </div>\n    );\n});\n\nexport default GoogleDrive;\n",
            "size_bytes": 4564
        },
        "src/components/load-modal/recent-workspace.tsx": {
            "content": "import React from 'react';\nimport classnames from 'classnames';\nimport { observer } from 'mobx-react-lite';\nimport { timeSince } from '@/external/bot-skeleton';\nimport { save_types } from '@/external/bot-skeleton/constants/save-type';\nimport { useStore } from '@/hooks/useStore';\nimport { DerivLightGoogleDriveIcon, DerivLightMyComputerIcon } from '@deriv/quill-icons/Illustration';\nimport { LegacyReportsIcon } from '@deriv/quill-icons/Legacy';\n\ntype TRecentWorkspaceProps = {\n    workspace: { [key: string]: any };\n};\ntype TIcons = {\n    [key: string]: React.ReactElement;\n};\n\n//export const getRecentFileIcon = (save_type: string, class_name: string = ''): React.ReactElement => {\nexport const getRecentFileIcon = (save_type: string): React.ReactElement => {\n    if (!save_type && typeof save_type !== 'string')\n        return <LegacyReportsIcon iconSize='xs' fill='var(--text-general)' />;\n\n    const icons: TIcons = {\n        [save_types.UNSAVED]: (\n            <LegacyReportsIcon iconSize='xs' fill='var(--text-general)' className='icon-general-fill-g-path' />\n        ),\n        [save_types.LOCAL]: <DerivLightMyComputerIcon height='16px' width='16px' fill='var(--text-general)' />,\n        [save_types.GOOGLE_DRIVE]: <DerivLightGoogleDriveIcon height='16px' width='16px' fill='var(--text-general)' />,\n    };\n    return icons[save_type as string] as React.ReactElement;\n};\n\nconst RecentWorkspace = observer(({ workspace }: TRecentWorkspaceProps) => {\n    const { load_modal, blockly_store } = useStore();\n    const { setLoading } = blockly_store;\n    const { getSaveType, loadStrategyOnModalRecentPreview, selected_strategy_id, updateXmlValuesOnStrategySelection } =\n        load_modal;\n\n    const onRecentWorkspaceClick = () => {\n        if (selected_strategy_id === workspace.id) return;\n        setLoading(true);\n        loadStrategyOnModalRecentPreview(workspace.id);\n        updateXmlValuesOnStrategySelection();\n    };\n\n    return (\n        <div\n            className={classnames('load-strategy__recent-item', {\n                'load-strategy__recent-item--selected': selected_strategy_id === workspace.id,\n            })}\n            key={workspace.id}\n            onClick={onRecentWorkspaceClick}\n            data-testid='dt_recent_workspace_item'\n        >\n            <div className='load-strategy__recent-item-text'>\n                <div className='load-strategy__recent-item-title' title={workspace.name}>\n                    {workspace.name}\n                </div>\n                <div className='load-strategy__recent-item-time'>{timeSince(workspace.timestamp)}</div>\n            </div>\n            <div className='load-strategy__recent-item-location'>\n                {getRecentFileIcon(workspace.save_type)}\n                <div className='load-strategy__recent-item-saved'>{getSaveType(workspace.save_type)}</div>\n            </div>\n        </div>\n    );\n});\n\nexport default RecentWorkspace;\n",
            "size_bytes": 2917
        },
        "src/components/shared_ui/radio-group/index.ts": {
            "content": "import RadioGroup from './radio-group';\nimport './radio-group.scss';\n\nexport default RadioGroup;\n",
            "size_bytes": 97
        },
        "analysis-tool/Benanalysistool-final-main/components/help-panel.tsx": {
            "content": "\"use client\"\n\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Accordion, AccordionContent, AccordionItem, AccordionTrigger } from \"@/components/ui/accordion\"\nimport { Button } from \"@/components/ui/button\"\nimport { Mail, Phone, MessageCircle } from \"lucide-react\"\n\nexport function HelpPanel() {\n  const openWhatsApp = () => {\n    window.open(\"https://wa.me/254757722344\", \"_blank\")\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <Card className=\"bg-gradient-to-br from-[#0f1629]/80 to-[#1a2235]/80 border-blue-500/20\">\n        <CardHeader>\n          <CardTitle className=\"text-white\">Signal Types & Entry Rules</CardTitle>\n          <CardDescription>Understanding different trading signals</CardDescription>\n        </CardHeader>\n        <CardContent>\n          <Accordion type=\"single\" collapsible className=\"w-full\">\n            <AccordionItem value=\"even-odd\" className=\"border-blue-500/20\">\n              <AccordionTrigger className=\"text-white hover:text-cyan-400\">Even/Odd Signals</AccordionTrigger>\n              <AccordionContent className=\"text-gray-400\">\n                <p className=\"mb-2\">\n                  <strong className=\"text-white\">Entry Rule:</strong> Wait for 2+ consecutive opposite digits, then\n                  trade the favored direction.\n                </p>\n                <p>\n                  <strong className=\"text-white\">Example:</strong> If Even is at 60%, wait for 2+ Odd digits, then trade\n                  Even.\n                </p>\n              </AccordionContent>\n            </AccordionItem>\n\n            <AccordionItem value=\"over-under\" className=\"border-blue-500/20\">\n              <AccordionTrigger className=\"text-white hover:text-cyan-400\">Over/Under Signals</AccordionTrigger>\n              <AccordionContent className=\"text-gray-400\">\n                <p className=\"mb-2\">\n                  <strong className=\"text-white\">Entry Rule:</strong> Trade when the strongest digit appears and\n                  over/under bias is strong (62%+).\n                </p>\n                <p>\n                  <strong className=\"text-white\">Example:</strong> If Over 4.5 is at 65% and digit 7 is strongest, trade\n                  Over when 7 appears.\n                </p>\n              </AccordionContent>\n            </AccordionItem>\n\n            <AccordionItem value=\"matches\" className=\"border-blue-500/20\">\n              <AccordionTrigger className=\"text-white hover:text-cyan-400\">Matches Signals</AccordionTrigger>\n              <AccordionContent className=\"text-gray-400\">\n                <p className=\"mb-2\">\n                  <strong className=\"text-white\">Entry Rule:</strong> Trade immediately when the most frequent digit\n                  appears (15%+ frequency).\n                </p>\n                <p>\n                  <strong className=\"text-white\">Example:</strong> If digit 3 appears 18% of the time, trade Matches 3\n                  when it appears.\n                </p>\n              </AccordionContent>\n            </AccordionItem>\n\n            <AccordionItem value=\"differs\" className=\"border-blue-500/20\">\n              <AccordionTrigger className=\"text-white hover:text-cyan-400\">Differs Signals</AccordionTrigger>\n              <AccordionContent className=\"text-gray-400\">\n                <p className=\"mb-2\">\n                  <strong className=\"text-white\">Entry Rule:</strong> Wait for the least frequent digit to appear\n                  (&lt;9%), then trade Differs immediately.\n                </p>\n                <p>\n                  <strong className=\"text-white\">Example:</strong> If digit 5 appears only 6% of the time, trade Differs\n                  5 when it appears.\n                </p>\n              </AccordionContent>\n            </AccordionItem>\n\n            <AccordionItem value=\"rise-fall\" className=\"border-blue-500/20\">\n              <AccordionTrigger className=\"text-white hover:text-cyan-400\">Rise/Fall Signals</AccordionTrigger>\n              <AccordionContent className=\"text-gray-400\">\n                <p className=\"mb-2\">\n                  <strong className=\"text-white\">Entry Rule:</strong> Trade based on Bollinger Bands & CCI indicators\n                  with 60%+ confidence.\n                </p>\n                <p>\n                  <strong className=\"text-white\">Example:</strong> If price is trending up with 65% confidence, trade\n                  Rise.\n                </p>\n              </AccordionContent>\n            </AccordionItem>\n          </Accordion>\n        </CardContent>\n      </Card>\n\n      <Card className=\"bg-gradient-to-br from-[#0f1629]/80 to-[#1a2235]/80 border-blue-500/20\">\n        <CardHeader>\n          <CardTitle className=\"text-white\">Strategies</CardTitle>\n          <CardDescription>Pro trading strategies for higher win rates</CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-4 text-gray-400\">\n          <div>\n            <h4 className=\"text-white font-semibold mb-2\">Pro Even/Odd Strategy</h4>\n            <p className=\"text-sm\">\n              Requires 55%+ Even (or 70%+ Odd) with 2+ high-percentage digits. Wait for 3+ consecutive opposite digits\n              before entering.\n            </p>\n          </div>\n          <div>\n            <h4 className=\"text-white font-semibold mb-2\">Pro Over/Under Strategy</h4>\n            <p className=\"text-sm\">\n              Over 1: Requires digits 0 and 1 &lt;10%, with 90%+ Over rate. Under 8: Requires digits 8 and 9 &lt;10%,\n              with 90%+ Under rate.\n            </p>\n          </div>\n          <div>\n            <h4 className=\"text-white font-semibold mb-2\">Pro Differs Strategy</h4>\n            <p className=\"text-sm\">\n              Target digits with &lt;9% frequency for 88%+ win rate. Wait for the target digit to appear, then trade\n              Differs immediately.\n            </p>\n          </div>\n        </CardContent>\n      </Card>\n\n      <Card className=\"bg-gradient-to-br from-[#0f1629]/80 to-[#1a2235]/80 border-blue-500/20\">\n        <CardHeader>\n          <CardTitle className=\"text-white\">About This Application</CardTitle>\n        </CardHeader>\n        <CardContent className=\"text-gray-400 space-y-3\">\n          <p>\n            Bena Analysis Tool is a real-time market analysis platform for Deriv trading. It provides advanced\n            statistical analysis and trading signals based on digit patterns and market trends.\n          </p>\n          <p className=\"text-sm\">\n            <strong className=\"text-white\">Disclaimer:</strong> This tool is for educational purposes only. Trading\n            involves risk, and past performance does not guarantee future results.\n          </p>\n        </CardContent>\n      </Card>\n\n      <Card className=\"bg-gradient-to-br from-green-500/10 to-emerald-500/10 border-green-500/30\">\n        <CardHeader>\n          <CardTitle className=\"text-white\">Contact & Support</CardTitle>\n          <CardDescription>Get in touch with us</CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-3\">\n          <div className=\"flex items-center gap-3 text-white\">\n            <Phone className=\"h-5 w-5 text-green-400\" />\n            <span>+254757722344</span>\n          </div>\n          <div className=\"flex items-center gap-3 text-white\">\n            <Mail className=\"h-5 w-5 text-blue-400\" />\n            <span>mbuguabenson2020@gmail.com</span>\n          </div>\n          <Button onClick={openWhatsApp} className=\"w-full bg-green-500 hover:bg-green-600 text-white\">\n            <MessageCircle className=\"h-4 w-4 mr-2\" />\n            Chat on WhatsApp\n          </Button>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n",
            "size_bytes": 7681
        },
        "src/external/bot-skeleton/scratch/blocks/Advanced/Functions/index.js": {
            "content": "import './procedures_defnoreturn';\nimport './procedures_defreturn';\nimport './procedures_callnoreturn';\nimport './procedures_callreturn';\nimport './procedures_ifreturn';\n",
            "size_bytes": 170
        },
        "src/components/shared/utils/validation/index.ts": {
            "content": "export * from './declarative-validation-rules';\nexport * from './regex-validation';\n",
            "size_bytes": 84
        },
        "src/external/bot-skeleton/scratch/hooks/workspace.js": {
            "content": "import PendingPromise from '../../utils/pending-promise';\nimport DBotStore from '../dbot-store';\n\nwindow.Blockly.Workspace.prototype.wait_events = [];\n/**\n * Clear the undo/redo stacks.\n * deriv-bot: Sync undo/redo stack with our toolbar store.\n */\nwindow.Blockly.Workspace.prototype.clearUndo = function () {\n    this.undoStack_.length = 0;\n    this.redoStack_.length = 0;\n\n    const { toolbar } = DBotStore.instance;\n\n    toolbar.setHasRedoStack();\n    toolbar.setHasUndoStack();\n\n    // Stop any events already in the firing queue from being undoable.\n    window.Blockly.Events.clearPendingUndo();\n};\n\n/**\n * Fire a change event.\n * deriv-bot: Sync undo/redo stack with our toolbar store.\n * @param {!window.Blockly.Events.Abstract} event Event to fire.\n */\nwindow.Blockly.Workspace.prototype.fireChangeListener = function (event) {\n    if (event.recordUndo) {\n        this.undoStack_.push(event);\n        this.redoStack_.length = 0;\n\n        if (this.undoStack_.length > this.MAX_UNDO) {\n            this.undoStack_.unshift();\n        }\n\n        const { toolbar } = DBotStore.instance;\n\n        toolbar.setHasRedoStack();\n        toolbar.setHasUndoStack();\n    }\n\n    // Copy listeners in case a listener attaches/detaches itself.\n    const current_listeners = this.listeners.slice();\n\n    current_listeners.forEach(listener => {\n        listener(event);\n    });\n    /**\n     * Gets a trade definition block instance and returns it.\n     * @returns {window.Blockly.Block|null} The trade definition or null.\n     */\n};\n\nwindow.Blockly.Workspace.prototype.getTradeDefinitionBlock = function () {\n    return this.getAllBlocks(true).find(b => b.type === 'trade_definition');\n};\n\nwindow.Blockly.Workspace.prototype.waitForBlockEvent = function (block_id, opt_event_type = null) {\n    const event_promise = new PendingPromise();\n\n    if (!this.wait_events.some(event => event.blockId === block_id && event.type === opt_event_type)) {\n        this.wait_events.push({\n            blockId: block_id,\n            promise: event_promise,\n            type: opt_event_type,\n        });\n    }\n\n    return event_promise;\n};\n\nwindow.Blockly.Workspace.prototype.waitForBlockEvent = function (options) {\n    const { block_type, event_type, timeout } = options;\n    const promise = new PendingPromise();\n\n    this.wait_events.push({ block_type, event_type, promise });\n\n    if (timeout) {\n        setTimeout(() => {\n            if (promise.isPending) {\n                promise.reject();\n            }\n        }, timeout);\n    }\n\n    return promise;\n};\n\nwindow.Blockly.Workspace.prototype.dispatchBlockEventEffects = function (event) {\n    this.wait_events.forEach((wait_event, idx) => {\n        if (!event.blockId) {\n            return;\n        }\n\n        const block = this.getBlockById(event.blockId);\n\n        if (block) {\n            const is_same_block_type = wait_event.block_type === block.type;\n            const is_same_event_type = wait_event.event_type === null || wait_event.event_type === event.type;\n\n            if (is_same_block_type && is_same_event_type) {\n                setTimeout(() => {\n                    wait_event.promise.resolve();\n                    this.wait_events.splice(idx, 1);\n                }, 500);\n            }\n        }\n    });\n};\n\nwindow.Blockly.Workspace.prototype.getAllFields = function (is_ordered) {\n    return this.getAllBlocks(is_ordered).reduce((fields, block) => {\n        block.inputList.forEach(input => fields.push(...input.fieldRow));\n        return fields;\n    }, []);\n};\n\n/* eslint-disble */\n/**\n * Create a main workspace and add it to the SVG.\n * @param {!Element} svg SVG element with pattern defined.\n * @param {!window.Blockly.Options} options Dictionary of options.\n * @param {!window.Blockly.BlockDragSurfaceSvg} blockDragSurface Drag surface SVG\n *     for the blocks.\n * @param {!window.Blockly.WorkspaceDragSurfaceSvg} workspaceDragSurface Drag surface\n *     SVG for the workspace.\n * @return {!window.Blockly.Workspace} Newly created main workspace.\n * @private\n */\n\nwindow.Blockly.createVirtualWorkspace_ = function (fragment, options, blockDragSurface, workspaceDragSurface) {\n    options.parentWorkspace = null;\n    const mainWorkspace = new window.Blockly.WorkspaceSvg(options, blockDragSurface, workspaceDragSurface);\n    mainWorkspace.scale = options.zoomOptions.startScale;\n    fragment.appendChild(mainWorkspace.createDom('blocklyMainBackground'));\n\n    return mainWorkspace;\n};\n",
            "size_bytes": 4442
        },
        "src/pages/tutorials/dbot-tours/bot-builder-tour/index.tsx": {
            "content": "import React from 'react';\nimport { observer } from 'mobx-react-lite';\nimport BotBuilderTourDesktop from './bot-builder-tour-desktop';\nimport BotBuilderTourMobile from './bot-builder-tour-mobile';\n\ntype TBotBuilderTourHandler = {\n    is_mobile: boolean;\n};\n\nconst BotBuilderTourHandler: React.FC<TBotBuilderTourHandler> = observer(({ is_mobile }) => {\n    return <>{is_mobile ? <BotBuilderTourMobile /> : <BotBuilderTourDesktop />}</>;\n});\n\nexport default BotBuilderTourHandler;\n",
            "size_bytes": 479
        },
        "src/components/layout/header/index.ts": {
            "content": "import Header from './header';\n\nexport default Header;\n",
            "size_bytes": 55
        },
        "src/app/index.ts": { "content": "import App from './App';\n\nexport default App;\n", "size_bytes": 46 },
        "src/external/bot-skeleton/utils/error-config.js": {
            "content": "import { localize } from '@deriv-com/translations';\n\nconst generateErrorMessage = (block_type, missing_space = 'workspace') => {\n    return {\n        missing: localize('The {{block_type}} block is mandatory and cannot be deleted/disabled.', {\n            block_type,\n        }),\n        misplaced: localize('The {{block_type}} block is misplaced from {{missing_space}}.', {\n            block_type,\n            missing_space,\n        }),\n        disabled: localize('The {{block_type}} block is mandatory and cannot be deleted/disabled.', {\n            block_type,\n        }),\n        default: localize('The {{block_type}} block is mandatory and cannot be deleted/disabled.', {\n            block_type,\n        }),\n    };\n};\n\nexport const error_message_map = () => ({\n    trade_definition: generateErrorMessage('Trade parameters'),\n    trade_parameters: generateErrorMessage('Trade parameters'),\n    before_purchase: generateErrorMessage('Purchase conditions'),\n    purchase_conditions: generateErrorMessage('Purchase conditions'),\n    purchase: generateErrorMessage('Purchase', 'purchase conditions'),\n    trade_definition_tradeoptions: generateErrorMessage('Trade options', 'trade parameters'),\n    trade_definition_multiplier: generateErrorMessage('Trade options multipliers', 'trade parameters'),\n    trade_definition_accumulator: generateErrorMessage('Trade options accumulators', 'trade parameters'),\n});\n",
            "size_bytes": 1408
        },
        "src/pages/tutorials/guide-content/guide-content.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport Dialog from '@/components/shared_ui/dialog';\nimport Text from '@/components/shared_ui/text';\nimport { DBOT_TABS } from '@/constants/bot-contents';\nimport { useStore } from '@/hooks/useStore';\nimport { removeKeyValue } from '@/utils/settings';\nimport { LegacyPlay1pxIcon } from '@deriv/quill-icons/Legacy';\nimport { Localize, localize } from '@deriv-com/translations';\nimport { useDevice } from '@deriv-com/ui';\n\ntype TGuideList = {\n    content?: string;\n    id: number;\n    src?: string;\n    subtype?: string;\n    type: string;\n    url?: string;\n    imageclass?: string;\n};\n\ntype TGuideContent = {\n    guide_tab_content: TGuideList[];\n    video_tab_content: TGuideList[];\n    is_dialog_open: boolean;\n};\n\nconst GuideContent = ({ guide_tab_content, video_tab_content, is_dialog_open }: TGuideContent) => {\n    const { isDesktop } = useDevice();\n    const { dashboard } = useStore();\n    const {\n        dialog_options,\n        onCloseDialog: onOkButtonClick,\n        setActiveTab,\n        setTourDialogVisibility,\n        showVideoDialog,\n        setActiveTour,\n        setShowMobileTourDialog,\n    } = dashboard;\n\n    const triggerTour = (type: string) => {\n        if (type === 'OnBoard') {\n            removeKeyValue('onboard_tour_token');\n            setActiveTab(DBOT_TABS.DASHBOARD);\n            if (!isDesktop) setActiveTour('onboarding');\n            setTourDialogVisibility(true);\n            setTimeout(() => {\n                const dbotDashboardSection = document.getElementById('id-dbot-dashboard');\n                if (dbotDashboardSection) {\n                    dbotDashboardSection.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\n                }\n            }, 100);\n        } else {\n            setActiveTab(DBOT_TABS.BOT_BUILDER);\n            if (!isDesktop) setActiveTour('bot_builder');\n            setTourDialogVisibility(true);\n            if (!isDesktop) setShowMobileTourDialog(true);\n            setTimeout(() => {\n                const botBuilderSection = document.getElementById('id-bot-builder');\n                if (botBuilderSection) {\n                    botBuilderSection.scrollIntoView({ behavior: 'smooth', inline: 'center', block: 'nearest' });\n                }\n            }, 100);\n        }\n    };\n\n    const handleKeyboardEvent = (e: KeyboardEvent) => {\n        if (e.key === 'Enter') triggerTour('OnBoard');\n    };\n\n    const has_guide_content = guide_tab_content.length > 0 || video_tab_content.length > 0;\n\n    return React.useMemo(\n        () =>\n            has_guide_content && (\n                <div className='tutorials-wrap'>\n                    {guide_tab_content && guide_tab_content.length > 0 && (\n                        <div className='tutorials-wrap__group'>\n                            <div className='tutorials-wrap__group__title'>\n                                <Text\n                                    align='left'\n                                    weight='bold'\n                                    color='prominent'\n                                    lineHeight='s'\n                                    size={isDesktop ? 's' : 'xs'}\n                                >\n                                    <Localize i18n_default_text='Step-by-step guides' />\n                                </Text>\n                            </div>\n                            <div className='tutorials-wrap__group__guides'>\n                                {guide_tab_content?.map(({ id, content, src, subtype }) => {\n                                    return (\n                                        <div className='tutorials-wrap__group__cards' key={id}>\n                                            <div\n                                                className='tutorials-wrap--tour'\n                                                onClick={() => triggerTour(subtype)}\n                                                onKeyDown={handleKeyboardEvent}\n                                            >\n                                                <div\n                                                    className={classNames('tutorials-wrap__placeholder__tours', {\n                                                        'tutorials-wrap__placeholder--disabled': !src,\n                                                    })}\n                                                    style={{\n                                                        backgroundImage: `url(${src})`,\n                                                    }}\n                                                />\n                                            </div>\n                                            <Text\n                                                align='center'\n                                                color='prominent'\n                                                lineHeight='s'\n                                                size={isDesktop ? 's' : 'xs'}\n                                            >\n                                                {content}\n                                            </Text>\n                                        </div>\n                                    );\n                                })}\n                            </div>\n                        </div>\n                    )}\n\n                    {video_tab_content && video_tab_content.length > 0 && (\n                        <div className='tutorials-wrap__group'>\n                            <div className='tutorials-wrap__group__title'>\n                                <Text\n                                    align='left'\n                                    weight='bold'\n                                    color='prominent'\n                                    lineHeight='s'\n                                    size={isDesktop ? 's' : 'xs'}\n                                >\n                                    <Localize i18n_default_text='Videos on Deriv Bot' />\n                                </Text>\n                            </div>\n\n                            <div className='tutorials-wrap__group__guides'>\n                                {video_tab_content?.map(({ content, src, url, id }) => {\n                                    return (\n                                        <div className='tutorials-wrap__group__cards' key={id}>\n                                            <div\n                                                className={classNames('tutorials-wrap__placeholder', {\n                                                    'tutorials-wrap__placeholder--disabled': !url,\n                                                })}\n                                                style={{\n                                                    backgroundImage: `url(${src})`,\n                                                }}\n                                            >\n                                                <div className='tutorials-wrap__placeholder__button-group'>\n                                                    <LegacyPlay1pxIcon\n                                                        className='tutorials-wrap__placeholder__button-group--play'\n                                                        width='42px'\n                                                        height='42px'\n                                                        onClick={() =>\n                                                            showVideoDialog({\n                                                                type: 'url',\n                                                                url,\n                                                            })\n                                                        }\n                                                    />\n                                                </div>\n                                            </div>\n                                            <div className='tutorials-wrap__placeholder__description'>\n                                                <Text\n                                                    align='left'\n                                                    color='prominent'\n                                                    lineHeight='s'\n                                                    size={isDesktop ? 's' : 'xs'}\n                                                >\n                                                    {content}\n                                                </Text>\n                                            </div>\n                                        </div>\n                                    );\n                                })}\n                            </div>\n                        </div>\n                    )}\n\n                    <Dialog\n                        title={dialog_options.title}\n                        is_visible={is_dialog_open}\n                        cancel_button_text={localize('Cancel')}\n                        onCancel={onOkButtonClick}\n                        confirm_button_text={localize('OK')}\n                        onConfirm={onOkButtonClick}\n                        is_mobile_full_width\n                        className={'dc-dialog'}\n                        has_close_icon\n                        onClose={onOkButtonClick}\n                    >\n                        <iframe width='100%' height='100%' src={dialog_options.url} frameBorder='0' allowFullScreen />\n                    </Dialog>\n                </div>\n            ),\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [guide_tab_content, video_tab_content, is_dialog_open]\n    );\n};\n\nexport default GuideContent;\n",
            "size_bytes": 9717
        },
        "src/components/logout-success-modal/index.ts": {
            "content": "import LogoutSuccessModal from './logout-success-modal';\n\nexport default LogoutSuccessModal;\n",
            "size_bytes": 93
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Tools/Candle/is_candle_black.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../../utils';\n\nwindow.Blockly.Blocks.is_candle_black = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Is candle {{ input_candle }} black?', { input_candle: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'OHLCOBJ',\n                    check: 'Candle',\n                },\n            ],\n            output: 'Boolean',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns \"True\" if the given candle is black'),\n            category: window.Blockly.Categories.Candle,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Is candle black?'),\n            description: localize(\n                'This block returns True if the last candle is black. It can be placed anywhere on the canvas except within the Trade parameters root block.'\n            ),\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    getRequiredValueInputs() {\n        return {\n            OHLCOBJ: null,\n        };\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.is_candle_black = block => {\n    const ohlcObj =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'OHLCOBJ',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC\n        ) || '{}';\n\n    const code = `Bot.isCandleBlack(${ohlcObj})`;\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC];\n};\n",
            "size_bytes": 1897
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Trade Definition/trade_definition_contracttype.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { config } from '../../../../constants/config';\nimport { getContractTypeOptions } from '../../../shared';\nimport { excludeOptionFromContextMenu, modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.trade_definition_contracttype = {\n    init() {\n        this.jsonInit({\n            message0: localize('Contract Type: {{ contract_type }}', { contract_type: '%1' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'TYPE_LIST',\n                    options: [['', '']],\n                },\n            ],\n            colour: window.Blockly.Colours.Special1.colour,\n            colourSecondary: window.Blockly.Colours.Special1.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Special1.colourTertiary,\n            tooltip: localize(\n                'If the contract type is Both, then the Purchase Conditions should include both Rise and Fall using the Conditional Block\"'\n            ),\n            previousStatement: null,\n            nextStatement: null,\n        });\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange(event) {\n        if (!this.workspace || window.Blockly.derivWorkspace.isFlyoutVisible || this.workspace.isDragging()) {\n            return;\n        }\n\n        this.enforceLimitations();\n\n        const is_load_event = /^dbot-load/.test(event.group);\n\n        if (event.type === window.Blockly.Events.BLOCK_CHANGE) {\n            if (event.name === 'TRADETYPE_LIST') {\n                const trade_type = event.newValue;\n                const contract_type_list = this.getField('TYPE_LIST');\n                const contract_type_options = [];\n\n                const trade_types = getContractTypeOptions('both', trade_type);\n\n                if (trade_types.length > 1) {\n                    contract_type_options.push([localize('Both'), 'both']);\n                }\n\n                contract_type_options.push(...trade_types);\n\n                if (contract_type_options.length === 0) {\n                    contract_type_options.push(...config().NOT_AVAILABLE_DROPDOWN_OPTIONS);\n                }\n\n                contract_type_list.updateOptions(contract_type_options, {\n                    event_group: event.group,\n                    default_value: is_load_event ? contract_type_list.getValue() : undefined,\n                });\n            }\n        }\n    },\n    customContextMenu(menu) {\n        const menu_items = [localize('Enable Block'), localize('Disable Block')];\n        excludeOptionFromContextMenu(menu, menu_items);\n        modifyContextMenu(menu);\n    },\n    enforceLimitations: window.Blockly.Blocks.trade_definition_market.enforceLimitations,\n};\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.trade_definition_contracttype = () => '';\n",
            "size_bytes": 2864
        },
        "src/external/bot-skeleton/services/tradeEngine/utils/helpers.js": {
            "content": "import { findValueByKeyRecursively, formatTime, getRoundedNumber, isEmptyObject } from '@/components/shared';\nimport { config } from '@/external/bot-skeleton/constants';\nimport { localize } from '@deriv-com/translations';\nimport { observer as globalObserver } from '../../../utils/observer';\nimport { error as logError } from './broadcast';\n\nexport const tradeOptionToProposal = (trade_option, purchase_reference) =>\n    trade_option.contractTypes.map(type => {\n        const proposal = {\n            amount: trade_option.amount,\n            basis: trade_option.basis,\n            contract_type: type,\n            currency: trade_option.currency,\n            duration: trade_option.duration,\n            duration_unit: trade_option.duration_unit,\n            multiplier: trade_option.multiplier,\n            passthrough: {\n                contract_type: type,\n                purchase_reference,\n            },\n            proposal: 1,\n            underlying_symbol: trade_option.symbol,\n        };\n        if (trade_option.prediction !== undefined) {\n            proposal.selected_tick = trade_option.prediction;\n        }\n        if (!['TICKLOW', 'TICKHIGH'].includes(type) && trade_option.prediction !== undefined) {\n            proposal.barrier = trade_option.prediction;\n        } else if (trade_option.barrierOffset !== undefined) {\n            proposal.barrier = trade_option.barrierOffset;\n        }\n        if (trade_option.secondBarrierOffset !== undefined) {\n            proposal.barrier2 = trade_option.secondBarrierOffset;\n        }\n        if (['MULTUP', 'MULTDOWN'].includes(type)) {\n            proposal.duration = undefined;\n            proposal.duration_unit = undefined;\n        }\n        if (!isEmptyObject(trade_option.limit_order)) {\n            proposal.limit_order = trade_option.limit_order;\n        }\n        return proposal;\n    });\n\nexport const tradeOptionToBuy = (contract_type, trade_option) => {\n    const buy = {\n        buy: '1',\n        price: trade_option.amount,\n        parameters: {\n            amount: trade_option.amount,\n            basis: trade_option.basis,\n            contract_type,\n            currency: trade_option.currency,\n            duration: trade_option.duration,\n            duration_unit: trade_option.duration_unit,\n            multiplier: trade_option.multiplier,\n            underlying_symbol: trade_option.symbol,\n        },\n    };\n    if (trade_option.prediction !== undefined) {\n        buy.parameters.selected_tick = trade_option.prediction;\n    }\n    if (!['TICKLOW', 'TICKHIGH'].includes(contract_type) && trade_option.prediction !== undefined) {\n        buy.parameters.barrier = trade_option.prediction;\n    } else if (trade_option.barrierOffset !== undefined) {\n        buy.parameters.barrier = trade_option.barrierOffset;\n    }\n    if (trade_option.secondBarrierOffset !== undefined) {\n        buy.parameters.barrier2 = trade_option.secondBarrierOffset;\n    }\n    if (!isEmptyObject(trade_option.app_markup_percentage)) {\n        buy.parameters.app_markup_percentage = trade_option.app_markup_percentage;\n    }\n    if (!isEmptyObject(trade_option.barrier_range)) {\n        buy.parameters.barrier_range = trade_option.barrier_range;\n    }\n    if (!isEmptyObject(trade_option.date_expiry)) {\n        buy.parameters.date_expiry = trade_option.date_expiry;\n    }\n    if (!isEmptyObject(trade_option.date_start)) {\n        buy.parameters.date_start = trade_option.date_start;\n    }\n    if (!isEmptyObject(trade_option.product_type)) {\n        buy.parameters.product_type = trade_option.product_type;\n    }\n    if (!isEmptyObject(trade_option.trading_period_start)) {\n        buy.parameters.trading_period_start = trade_option.trading_period_start;\n    }\n    // This will be required only in the case of multiplier & accumulator contracts\n    if (!isEmptyObject(trade_option.limit_order)) {\n        buy.parameters.limit_order = trade_option.limit_order;\n    }\n    // This will be required only in the case of multiplier contracts\n    if (['MULTUP', 'MULTDOWN'].includes(contract_type)) {\n        buy.parameters.duration = undefined;\n        buy.parameters.duration_unit = undefined;\n\n        buy.parameters.multiplier = trade_option.multiplier;\n    }\n    // This will be required only in the case of accumulator contracts\n    if (['ACCU'].includes(contract_type)) {\n        buy.parameters.duration = undefined;\n        buy.parameters.duration_unit = undefined;\n        buy.parameters.growth_rate = trade_option.growth_rate;\n    }\n    return buy;\n};\n\nexport const getDirection = ticks => {\n    const { length } = ticks;\n    const [tickOld, tickNew] = ticks.slice(-2);\n\n    let direction = '';\n    if (length >= 2) {\n        direction = tickOld.quote < tickNew.quote ? 'rise' : direction;\n        direction = tickOld.quote > tickNew.quote ? 'fall' : direction;\n    }\n\n    return direction;\n};\n\nexport const getLastDigit = tick => {\n    let number_string = tick;\n    if (typeof number_string === 'number') {\n        number_string = String(number_string);\n    }\n    return Number(number_string[number_string.length - 1]);\n};\n\nexport const getLastDigitForList = (tick, pip_size = 0) => {\n    const value = Number(tick).toFixed(pip_size);\n    return value[value.length - 1];\n};\n\nconst getBackoffDelayInMs = (error_obj, delay_index) => {\n    const base_delay = 2.5;\n    const max_delay = 15;\n    const next_delay_in_seconds = Math.min(base_delay * delay_index, max_delay);\n\n    const { error = {}, msg_type = '', echo_req = {} } = error_obj;\n    const { code = '', message = '' } = error;\n    let message_to_print = '';\n    const trade_type_block = Blockly.derivWorkspace\n        .getAllBlocks(true)\n        .find(block => block.type === 'trade_definition_tradetype');\n    const selected_trade_type = trade_type_block?.getFieldValue('TRADETYPECAT_LIST') || '';\n    const { TRADE_TYPE_CATEGORY_NAMES } = config();\n\n    if (code) {\n        switch (code) {\n            case 'RateLimit':\n                message_to_print = localize(\n                    'You are rate limited for: {{ message_type }}, retrying in {{ delay }}s (ID: {{ request }})',\n                    {\n                        message_type: error.msg_type,\n                        delay: next_delay_in_seconds,\n                        request: echo_req?.req_id,\n                    }\n                );\n\n                break;\n            case 'DisconnectError':\n                message_to_print = localize('You are disconnected, retrying in {{ delay }}s', {\n                    delay: next_delay_in_seconds,\n                });\n                break;\n            case 'MarketIsClosed':\n                message_to_print = localize('{{ message }}, retrying in {{ delay }}s', {\n                    message: message || localize('The market is closed'),\n                    delay: next_delay_in_seconds,\n                });\n                break;\n            case 'OpenPositionLimitExceeded':\n                message_to_print = localize(\n                    'You already have an open position for {{ trade_type }} contract type, retrying in {{ delay }}s',\n                    {\n                        delay: next_delay_in_seconds,\n                        trade_type: TRADE_TYPE_CATEGORY_NAMES?.[selected_trade_type] ?? '',\n                    }\n                );\n                break;\n            default:\n                message_to_print = localize('Request failed for: {{ message_type }}, retrying in {{ delay }}s', {\n                    message_type: msg_type || localize('unknown'),\n                    delay: next_delay_in_seconds,\n                });\n                break;\n        }\n    } else {\n        message_to_print = localize('Request failed for: {{ message_type }}, retrying in {{ delay }}s', {\n            message_type: msg_type || localize('unknown'),\n            delay: next_delay_in_seconds,\n        });\n    }\n\n    logError(message_to_print);\n\n    return next_delay_in_seconds * 1000;\n};\n\nexport const updateErrorMessage = error => {\n    if (error.error?.code === 'InputValidationFailed') {\n        if (error.error.details?.duration) {\n            error.error.message = localize('Duration must be a positive integer');\n        }\n        if (error.error.details?.amount) {\n            error.error.message = localize('Amount must be a positive number.');\n        }\n    }\n};\n\nexport const shouldThrowError = (error, errors_to_ignore = []) => {\n    if (!error.error) {\n        return false;\n    }\n\n    const default_errors_to_ignore = [\n        'CallError',\n        'WrongResponse',\n        'GetProposalFailure',\n        'RateLimit',\n        'DisconnectError',\n        'MarketIsClosed',\n        'OpenPositionLimitExceeded',\n    ];\n    updateErrorMessage(error);\n    const is_ignorable_error = errors_to_ignore\n        .concat(default_errors_to_ignore)\n        .includes(error?.error?.code ?? error?.name);\n\n    if (error.error?.code === 'OpenPositionLimitExceeded') globalObserver.emit('bot.recoverOpenPositionLimitExceeded');\n    return !is_ignorable_error;\n};\n\nexport const recoverFromError = (promiseFn, recoverFn, errors_to_ignore, delay_index, api_base) => {\n    return new Promise((resolve, reject) => {\n        const promise = promiseFn();\n\n        if (promise) {\n            promise.then(resolve).catch(error => {\n                /**\n                 * if bot is not running there is no point of recovering from error\n                 * `!api_base.is_running` will check the bot status if it is not running it will kick out the control from loop\n                 */\n                if (shouldThrowError(error, errors_to_ignore) || (api_base && !api_base.is_running)) {\n                    reject(error);\n                    return;\n                }\n                recoverFn(\n                    error?.error?.code ?? error?.name,\n                    () =>\n                        new Promise(recoverResolve => {\n                            const getGlobalTimeouts = () => globalObserver.getState('global_timeouts') ?? [];\n\n                            const timeout = setTimeout(\n                                () => {\n                                    const global_timeouts = getGlobalTimeouts();\n                                    delete global_timeouts[timeout];\n                                    globalObserver.setState(global_timeouts);\n                                    recoverResolve();\n                                },\n                                getBackoffDelayInMs(error, delay_index)\n                            );\n\n                            const global_timeouts = getGlobalTimeouts();\n                            const cancellable_timeouts = ['buy'];\n                            const msg_type = findValueByKeyRecursively(error, 'msg_type');\n\n                            global_timeouts[timeout] = {\n                                is_cancellable: cancellable_timeouts.includes(msg_type),\n                                msg_type,\n                            };\n\n                            globalObserver.setState({ global_timeouts });\n                        })\n                );\n            });\n        } else {\n            resolve();\n        }\n    });\n};\n\n/**\n * @param {*} promiseFn api call - it could be api call or subscription\n * @param {*} errors_to_ignore list of errors to ignore\n * @param {*} api_base instance of APIBase class to check if the bot is running or not\n * @returns a new promise\n */\nexport const doUntilDone = (promiseFn, errors_to_ignore, api_base) => {\n    let delay_index = 1;\n\n    return new Promise((resolve, reject) => {\n        const recoverFn = (error_code, makeDelay) => {\n            delay_index++;\n            makeDelay().then(repeatFn);\n        };\n\n        const repeatFn = () => {\n            recoverFromError(promiseFn, recoverFn, errors_to_ignore, delay_index, api_base).then(resolve).catch(reject);\n        };\n\n        repeatFn();\n    });\n};\n\nexport const createDetails = contract => {\n    const { sell_price: sellPrice, buy_price: buyPrice, currency } = contract;\n    const profit = getRoundedNumber(sellPrice - buyPrice, currency);\n    const result = profit < 0 ? 'loss' : 'win';\n\n    return [\n        contract.transaction_ids.buy,\n        +contract.buy_price,\n        +contract.sell_price,\n        profit,\n        contract.contract_type,\n        formatTime(parseInt(`${contract.entry_tick_time}000`), 'HH:mm:ss'),\n        +contract.entry_tick,\n        formatTime(parseInt(`${contract.exit_tick_time}000`), 'HH:mm:ss'),\n        +contract.exit_tick,\n        +(contract.barrier ? contract.barrier : 0),\n        result,\n    ];\n};\n\nexport const getUUID = () => `${new Date().getTime() * Math.random()}`;\n\nconst hasBlockOfType = (targetType, workspace) => {\n    const allBlocks = workspace.getAllBlocks();\n    return allBlocks.some(block => block.type === targetType && !!block.parentBlock_);\n};\n\nexport const checkBlocksForProposalRequest = () => {\n    const workspace = window.Blockly.derivWorkspace;\n    const has_payout_block = hasBlockOfType('payout', workspace);\n\n    // Code for the future for case when basis: 'payout':\n    // * Since basis : '${block.type === 'trade_definition_tradeoptions' ? 'stake' : 'payout'}'\n    // * basis: 'payout' when contract_type: \"MULTUP\"\n    // Uncomment next line later:\n    // const is_basis_payout = !hasBlockOfType('trade_definition_tradeoptions', workspace);\n\n    return {\n        has_payout_block,\n        is_basis_payout: false,\n    };\n};\n\nexport const socket_state = {\n    [WebSocket.CONNECTING]: 'Connecting',\n    [WebSocket.OPEN]: 'Connected',\n    [WebSocket.CLOSING]: 'Closing',\n    [WebSocket.CLOSED]: 'Closed',\n};\n",
            "size_bytes": 13576
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Indicators/macda_statement.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { config } from '../../../../constants/config';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.macda_statement = {\n    protected_statements: ['STATEMENT'],\n    required_child_blocks: ['input_list', 'fast_ema_period', 'slow_ema_period', 'signal_ema_period'],\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to MACD Array {{ dropdown }} {{ dummy }}', {\n                variable: '%1',\n                dropdown: '%2',\n                dummy: '%3',\n            }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: 'macda',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'MACDFIELDS_LIST',\n                    options: config().macdFields,\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STATEMENT',\n                    check: null,\n                },\n            ],\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Calculates Moving Average Convergence Divergence (MACD) from a list'),\n            previousStatement: null,\n            nextStatement: null,\n            category: window.Blockly.Categories.Indicators,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    meta() {\n        return {\n            display_name: localize('Moving Average Convergence Divergence'),\n            description: localize(\n                'MACD is calculated by subtracting the long-term EMA (26 periods) from the short-term EMA (12 periods). If the short-term EMA is greater or lower than the long-term EMA than theres a possibility of a trend reversal.'\n            ),\n        };\n    },\n\n    onchange: window.Blockly.Blocks.bb_statement.onchange,\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.macda_statement = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = window.Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        window.Blockly.Variables.CATEGORY_NAME\n    );\n    const macd_field = block.getFieldValue('MACDFIELDS_LIST');\n    const input = block.childValueToCode('input_list', 'INPUT_LIST');\n    const fast_ema_period = block.childValueToCode('fast_ema_period', 'FAST_EMA_PERIOD');\n    const slow_ema_period = block.childValueToCode('slow_ema_period', 'SLOW_EMA_PERIOD');\n    const signal_ema_period = block.childValueToCode('signal_ema_period', 'SIGNAL_EMA_PERIOD');\n    const code = `${var_name} = Bot.macda(${input}, { \n        fastEmaPeriod: ${fast_ema_period},\n        slowEmaPeriod: ${slow_ema_period},\n        signalEmaPeriod: ${signal_ema_period},\n    }, ${macd_field});\\n`;\n\n    return code;\n};\n",
            "size_bytes": 3256
        },
        "src/utils/help-content/help-strings/check_direction.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize(\n            'This block is used to determine if the market price moves in the selected direction or not. It gives you a value of \"True\" or \"False\".'\n        ),\n        localize('Examples:'),\n        localize(\n            '1. If the selected direction is \"Rise\", and the previous tick value is less than the current tick value, the output will be \"True\". Otherwise, the output will be an empty string.'\n        ),\n        localize(\n            '2. If the selected direction is \"Fall\", and the previous tick value is more than the current tick value, the output will be \"True\". Otherwise, the output will be an empty string.'\n        ),\n    ],\n};\n",
            "size_bytes": 751
        },
        "src/components/shared/utils/loader-handler/loader-handler.ts": {
            "content": "export const moduleLoader = (lazyComponent: () => Promise<unknown>, attempts = 2, interval = 1500) => {\n    return new Promise((resolve, reject) => {\n        lazyComponent()\n            .then(resolve)\n            .catch((error: unknown) => {\n                // let us retry after 1500 ms\n                setTimeout(() => {\n                    if (attempts === 1) {\n                        reject(error);\n                        return;\n                    }\n                    moduleLoader(lazyComponent, attempts - 1, interval).then(resolve, reject);\n                }, interval);\n            });\n    });\n};\n",
            "size_bytes": 610
        },
        "src/components/error-component/error-boundary.js": {
            "content": "import React from 'react';\nimport PropTypes from 'prop-types';\nimport ErrorComponent from './index';\n\nclass ErrorBoundary extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = { hasError: false };\n    }\n\n    componentDidCatch = (error, info) => {\n        if (window.TrackJS) window.TrackJS.console.log(this.props.root_store);\n\n        this.setState({\n            hasError: true,\n            error,\n            info,\n        });\n    };\n    render = () => (this.state.hasError ? <ErrorComponent should_show_refresh={true} /> : this.props.children);\n}\n\nErrorBoundary.propTypes = {\n    root_store: PropTypes.object,\n    children: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n};\n\nexport default ErrorBoundary;\n",
            "size_bytes": 792
        },
        "src/utils/help-content/help-content.config.ts": {
            "content": "export const help_content_types = {\n    TEXT: 'text',\n    VIDEO: 'video',\n    IMAGE: 'image',\n    BLOCK: 'block',\n    EXAMPLE: 'example',\n};\n\nconst { TEXT, IMAGE, BLOCK, EXAMPLE } = help_content_types;\n\nexport const help_content_config = (public_path: string) => {\n    window.__webpack_public_path__ = public_path;\n    return {\n        //= ================= Functions ==================\n        procedures_ifreturn: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'if-return' },\n        ],\n        //= ================= Math ==================\n        math_arithmetic: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n        ],\n        math_single: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n        ],\n        math_constrain: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'constrain' },\n        ],\n        // math_number: [\n        //     { type: VIDEO, url: 'https://www.youtube.com/embed/Bb0HnaYNUx4' },\n        //     { type: TEXT },\n        //     { type: IMAGE, url: 'https://d2.alternativeto.net/dist/s/scratch_830736_full.png?format=jpg&width=1600&height=1600&mode=min&upscale=false' },\n        //     { type: VIDEO, url: 'https://www.youtube.com/embed/mi18spqE7R4?controls=0' },\n        //     { type: BLOCK },\n        //     { type: TEXT },\n        //     { type: IMAGE, url: 'https://d2.alternativeto.net/dist/s/scratch_830736_full.png?format=jpg&width=1600&height=1600&mode=min&upscale=false' },\n        // ],\n        //= ================= Text ==================\n        text_print: [{ type: TEXT }, { type: BLOCK }, { type: TEXT }],\n        text_prompt_ext: [{ type: TEXT }, { type: BLOCK }, { type: TEXT }],\n        //= ================= Tick analysis ==================\n        tick_analysis: [{ type: TEXT }, { type: BLOCK }],\n        read_details: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n        ],\n        last_digit: [{ type: TEXT }, { type: BLOCK }],\n        read_ohlc: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'in_candle_list_read' },\n        ],\n        read_ohlc_obj: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'read_candle_value' },\n        ],\n        check_direction: [{ type: TEXT }, { type: BLOCK }, { type: TEXT }, { type: TEXT }, { type: TEXT }],\n        get_ohlc: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'get_candle' },\n            { type: TEXT },\n        ],\n        ohlc: [{ type: TEXT }, { type: BLOCK }, { type: TEXT }, { type: EXAMPLE, example_id: 'candle_list_1' }],\n        ohlc_values: [{ type: TEXT }, { type: BLOCK }, { type: TEXT }, { type: EXAMPLE, example_id: 'candle_list' }],\n        is_candle_black: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: IMAGE, width: '100%', url: `${window.__webpack_public_path__}assets/media/is_candle_black.jpeg` },\n            { type: TEXT },\n            { type: IMAGE, width: '100%', url: `${window.__webpack_public_path__}assets/media/is_candle_black_1.jpeg` },\n            { type: TEXT },\n        ],\n        ohlc_values_in_list: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'candle_list_1' },\n        ],\n        //= ================= Variables ==================\n        variables_gets: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n        ],\n        variables_set: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: IMAGE, width: '100%', url: `${window.__webpack_public_path__}assets/media/create_variable.jpg` },\n            { type: TEXT },\n            { type: IMAGE, width: '100%', url: `${window.__webpack_public_path__}assets/media/set_variable.png` },\n        ],\n        // =============== Time blocks ============\n        epoch: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'epoch' },\n        ],\n        todatetime: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'todatetime' },\n            { type: TEXT },\n        ],\n        totimestamp: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'totimestamp' },\n            { type: TEXT },\n        ],\n        // =============== Notifications blocks ============\n        notify_telegram: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'notify_telegram' },\n        ],\n        // =============== Misc blocks ============\n        console: [{ type: TEXT }, { type: TEXT }, { type: TEXT }, { type: TEXT }, { type: TEXT }, { type: TEXT }],\n        balance: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n        ],\n        // =============== Indicators blocks ============\n        sma_statement: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: IMAGE, width: '60%', url: `${window.__webpack_public_path__}assets/media/sma_formula.png` },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: IMAGE, width: '100%', url: `${window.__webpack_public_path__}assets/media/sma_chart_1.png` },\n            { type: TEXT },\n            { type: IMAGE, width: '100%', url: `${window.__webpack_public_path__}assets/media/sma_chart_2.png` },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'sma_block_example' },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'sma_block_example_1' },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'sma_array' },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            {\n                type: IMAGE,\n                width: '100%',\n                url: `${window.__webpack_public_path__}assets/media/sma_array_explanation.jpeg`,\n            },\n        ],\n        // =============== Root blocks ============\n        trade_definition: [\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: BLOCK },\n        ],\n        trade_definition_tradeoptions: [{ type: TEXT }, { type: BLOCK }],\n        trade_definition_multiplier: [{ type: TEXT }, { type: TEXT }, { type: TEXT }, { type: TEXT }],\n        before_purchase: [{ type: TEXT }, { type: BLOCK }, { type: TEXT }],\n        during_purchase: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'sell_available' },\n        ],\n        sell_at_market: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'sell_available' },\n        ],\n        after_purchase: [{ type: TEXT }, { type: BLOCK }, { type: TEXT }],\n        trade_again: [{ type: TEXT }, { type: BLOCK }, { type: TEXT }, { type: EXAMPLE, example_id: 'trade_again' }],\n        // =============== Contract ============\n        contract_check_result: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'check_result' },\n        ],\n        sell_price: [{ type: TEXT }, { type: BLOCK }, { type: TEXT }, { type: EXAMPLE, example_id: 'sell_pl' }],\n        // =============== Logic ============\n        controls_if: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'controls_if' },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'compare_logic' },\n            { type: EXAMPLE, example_id: 'compare_logic_1' },\n        ],\n        logic_operation: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: IMAGE, width: '40%', url: `${window.__webpack_public_path__}assets/media/logic.png` },\n        ],\n        // =============== Loops ============\n        controls_whileUntil: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'repeat_while' },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'repeat_until' },\n        ],\n        controls_for: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'controls_for' },\n            { type: TEXT },\n            { type: TEXT },\n        ],\n        controls_forEach: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'controls_forEach' },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n        ],\n        controls_flow_statements: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'break_out' },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'continue' },\n        ],\n    };\n};\n",
            "size_bytes": 12022
        },
        "src/components/bot-stopped.tsx": {
            "content": "import React from 'react';\nimport { observer } from 'mobx-react-lite';\nimport Text from '@/components/shared_ui/text';\nimport { useStore } from '@/hooks/useStore';\nimport { generateUrlWithRedirect } from '@/utils/url-redirect-utils';\nimport { LegacyClose1pxIcon } from '@deriv/quill-icons/Legacy';\nimport { Localize, localize } from '@deriv-com/translations';\nimport Dialog from './shared_ui/dialog';\nimport { standalone_routes } from './shared';\n\nconst BotStopped = observer(() => {\n    const { dashboard } = useStore();\n    const { is_web_socket_intialised } = dashboard;\n    const onClickClose = () => {\n        location.reload();\n    };\n    return (\n        <Dialog\n            is_visible={!is_web_socket_intialised}\n            is_mobile_full_width\n            className={'dc-dialog bot-stopped-dialog'}\n            cancel_button_text={localize('Go to Reports')}\n            confirm_button_text={localize('Back to Bot')}\n            onCancel={() => (window.location.href = generateUrlWithRedirect(standalone_routes.positions))}\n            onConfirm={() => location.reload()}\n        >\n            <div className='dc-dialog__content__header'>\n                <Text data-testid='data-title' weight='bold' as='p' align='left' size='s' color='prominent'>\n                    <Localize i18n_default_text=\"You're back online\" />\n                </Text>\n                <div\n                    data-testid='data-close-button'\n                    onClick={onClickClose}\n                    onKeyDown={(e: React.KeyboardEvent) => {\n                        if (e.key === 'Enter') {\n                            onClickClose();\n                        }\n                    }}\n                    tabIndex={0}\n                >\n                    <LegacyClose1pxIcon height='20px' width='20px' fill='var(--text-general)' />\n                </div>\n            </div>\n            <Text as='p' align='left' size='xs' color='prominent'>\n                <Localize i18n_default_text='The bot has stopped, but your trade may still be running. You can check it on the Reports page.' />\n            </Text>\n        </Dialog>\n    );\n});\n\nexport default BotStopped;\n",
            "size_bytes": 2151
        },
        "src/external/bot-skeleton/scratch/blocks/Logic/logic_negate.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../utils';\n\nwindow.Blockly.Blocks.logic_negate = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('not {{ boolean }}', { boolean: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'BOOL',\n                },\n            ],\n            inputsInline: true,\n            output: 'Boolean',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Converts a given True or False to the opposite value'),\n            category: window.Blockly.Categories.Logic,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    meta() {\n        return {\n            display_name: localize('Logic negation'),\n            description: localize('This block converts the boolean value (true or false) to its opposite.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            BOOL: null,\n        };\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.logic_negate = block => {\n    const order = window.Blockly.JavaScript.javascriptGenerator.ORDER_LOGICAL_NOT;\n    const argument0 = window.Blockly.JavaScript.javascriptGenerator.valueToCode(block, 'BOOL', order) || 'true';\n\n    const code = `!${argument0}`;\n    return [code, order];\n};\n",
            "size_bytes": 1660
        },
        "src/utils/help-content/help-strings/sma_statement.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize(\n            'SMA adds the market price in a list of ticks or candles for a number of time periods, and divides the sum by that number of time periods.'\n        ),\n        localize('The formula for SMA is:'),\n        localize('where n is the number of periods.'),\n        '',\n        localize('What SMA tells you'),\n        localize(\n            'SMA serves as an indicator of the trend. If the SMA points up then the market price is increasing and vice versa. The larger the period number, the smoother SMA line is.'\n        ),\n        localize(\n            'In this example, each point of the SMA line is an arithmetic average of close prices for the last 10 days.'\n        ),\n        localize(\n            'In this example, each point of the SMA line is an arithmetic average of close prices for the last 50 days.'\n        ),\n        '',\n        localize('How to use the SMA block'),\n        localize('Input list accepts a list of ticks or candles, while period is the specified time period.'),\n        localize('Example:'),\n        localize('This will display the SMA for the specified period, using a candle list.'),\n        localize('SMA places equal weight to the entire distribution of values.'),\n        localize('This is the same as the above example, using a tick list.'),\n        localize(\n            'You may compare SMA values calculated on every bot run to identify the market trend direction. Alternatively, you may also use a variation of the SMA block, the Simple Moving Average Array block. '\n        ),\n        localize('This block returns the entire SMA line, containing a list of all values for a given period.'),\n        localize(\n            'If a period of 10 is entered, the Simple Moving Average Array block will return a list of SMA values calculated based on period of 10.'\n        ),\n        localize('The below image illustrates how Simple Moving Average Array block works:'),\n    ],\n};\n",
            "size_bytes": 2024
        },
        "analysis-tool/Benanalysistool-final-main/components/tabs/ai-analysis-tab.tsx": {
            "content": "\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Input } from \"@/components/ui/input\"\nimport { Switch } from \"@/components/ui/switch\"\nimport { Label } from \"@/components/ui/label\"\nimport type { AnalysisResult } from \"@/lib/analysis-engine\"\n\ninterface AIAnalysisTabProps {\n  analysis: AnalysisResult | null\n  currentDigit: number | null\n  currentPrice: number | null\n  symbol: string\n  theme?: \"light\" | \"dark\"\n}\n\ninterface AISignalResult {\n  bestMarket: string\n  bestStrategy: string\n  entryPoint: string | number\n  tradeValidity: number\n  confidence: number\n  signal: \"TRADE NOW\" | \"WAIT\" | \"NEUTRAL\"\n  reasoning: string\n}\n\nexport function AIAnalysisTab({ analysis, currentDigit, currentPrice, symbol, theme = \"dark\" }: AIAnalysisTabProps) {\n  const [selectedMarket, setSelectedMarket] = useState<string>(symbol)\n  const [selectedTradeType, setSelectedTradeType] = useState<string>(\"all\")\n  const [autoAnalysisMode, setAutoAnalysisMode] = useState(false)\n  const [ticksToAnalyze, setTicksToAnalyze] = useState<number>(50)\n  const [isAnalyzing, setIsAnalyzing] = useState(false)\n  const [aiSignalResult, setAiSignalResult] = useState<AISignalResult | null>(null)\n\n  const scanAllStrategies = (): AISignalResult => {\n    if (!analysis) {\n      return {\n        bestMarket: selectedMarket,\n        bestStrategy: \"None\",\n        entryPoint: \"-\",\n        tradeValidity: 5,\n        confidence: 0,\n        signal: \"NEUTRAL\",\n        reasoning: \"Insufficient data for analysis\",\n      }\n    }\n\n    const strategies = [\n      {\n        name: \"Under4/Over5\",\n        confidence: Math.max(analysis.lowPercentage, analysis.highPercentage),\n        signal: analysis.lowPercentage >= 60 ? \"UNDER 4\" : analysis.highPercentage >= 60 ? \"OVER 5\" : \"NEUTRAL\",\n        entryPoint: analysis.lowPercentage >= 60 ? analysis.powerIndex.strongest : analysis.powerIndex.strongest,\n      },\n      {\n        name: \"Over2/Under7\",\n        confidence: calculateOver2Under7Confidence(analysis),\n        signal: calculateOver2Under7Signal(analysis),\n        entryPoint: analysis.powerIndex.strongest,\n      },\n      {\n        name: \"Even/Odd\",\n        confidence: Math.max(analysis.evenPercentage, analysis.oddPercentage),\n        signal: analysis.evenPercentage >= 60 ? \"EVEN\" : analysis.oddPercentage >= 60 ? \"ODD\" : \"NEUTRAL\",\n        entryPoint: analysis.evenPercentage >= 60 ? \"Even\" : \"Odd\",\n      },\n      {\n        name: \"Differs\",\n        confidence: 100 - (analysis.digitFrequencies.sort((a, b) => a.percentage - b.percentage)[0]?.percentage || 10),\n        signal: \"DIFFERS\",\n        entryPoint: analysis.digitFrequencies.sort((a, b) => a.percentage - b.percentage)[0]?.digit || 0,\n      },\n      {\n        name: \"Matches\",\n        confidence: analysis.digitFrequencies[analysis.powerIndex.strongest]?.percentage || 0,\n        signal: \"MATCHES\",\n        entryPoint: analysis.powerIndex.strongest,\n      },\n      {\n        name: \"Rise/Fall\",\n        confidence: 50,\n        signal: \"NEUTRAL\",\n        entryPoint: \"-\",\n      },\n    ]\n\n    const filteredStrategies =\n      selectedTradeType === \"all\"\n        ? strategies\n        : strategies.filter((strategy) => strategy.name.toLowerCase() === selectedTradeType)\n\n    const bestStrategy = filteredStrategies.reduce((best, current) => {\n      return current.confidence > best.confidence ? current : best\n    })\n\n    const tradeSignal = bestStrategy.confidence >= 70 ? \"TRADE NOW\" : bestStrategy.confidence >= 55 ? \"WAIT\" : \"NEUTRAL\"\n\n    return {\n      bestMarket: selectedMarket,\n      bestStrategy: bestStrategy.name,\n      entryPoint: bestStrategy.entryPoint,\n      tradeValidity: 5,\n      confidence: bestStrategy.confidence,\n      signal: tradeSignal,\n      reasoning: `${bestStrategy.name} shows ${bestStrategy.confidence.toFixed(1)}% confidence with ${bestStrategy.signal} signal`,\n    }\n  }\n\n  const calculateOver2Under7Confidence = (analysis: AnalysisResult): number => {\n    const digits012 = [0, 1, 2].map((d) => analysis.digitFrequencies[d])\n    const digits789 = [7, 8, 9].map((d) => analysis.digitFrequencies[d])\n\n    const below10_012 = digits012.filter((d) => d.percentage < 10).length\n    const below10_789 = digits789.filter((d) => d.percentage < 10).length\n\n    if (below10_012 >= 2) return 85\n    if (below10_789 >= 2) return 85\n    return 50\n  }\n\n  const calculateOver2Under7Signal = (analysis: AnalysisResult): string => {\n    const digits012 = [0, 1, 2].map((d) => analysis.digitFrequencies[d])\n    const digits789 = [7, 8, 9].map((d) => analysis.digitFrequencies[d])\n\n    const below10_012 = digits012.filter((d) => d.percentage < 10).length\n    const below10_789 = digits789.filter((d) => d.percentage < 10).length\n\n    if (below10_012 >= 2) return \"OVER 2\"\n    if (below10_789 >= 2) return \"UNDER 7\"\n    return \"NEUTRAL\"\n  }\n\n  const handleAnalyze = () => {\n    setIsAnalyzing(true)\n    setTimeout(() => {\n      const result = scanAllStrategies()\n      setAiSignalResult(result)\n      setIsAnalyzing(false)\n    }, 1500)\n  }\n\n  useEffect(() => {\n    if (autoAnalysisMode && analysis) {\n      const interval = setInterval(() => {\n        const result = scanAllStrategies()\n        setAiSignalResult(result)\n      }, 3000)\n      return () => clearInterval(interval)\n    }\n  }, [autoAnalysisMode, analysis])\n\n  return (\n    <div className=\"space-y-6\">\n      <div\n        className={`rounded-xl p-4 sm:p-6 border ${\n          theme === \"dark\"\n            ? \"bg-gradient-to-br from-[#0f1629]/80 to-[#1a2235]/80 border-blue-500/20 shadow-[0_0_30px_rgba(59,130,246,0.2)]\"\n            : \"bg-white border-gray-200 shadow-lg\"\n        }`}\n      >\n        <h2\n          className={`text-xl sm:text-2xl md:text-3xl font-bold mb-4 sm:mb-6 text-center ${theme === \"dark\" ? \"bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent\" : \"text-gray-900\"}`}\n        >\n          AI Signal Analyzer\n        </h2>\n\n        <div className=\"flex items-center justify-center gap-3 mb-6\">\n          <Switch id=\"auto-analysis\" checked={autoAnalysisMode} onCheckedChange={setAutoAnalysisMode} />\n          <Label htmlFor=\"auto-analysis\" className={theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}>\n            Auto Analysis Mode\n          </Label>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6 mb-4 sm:mb-6\">\n          <div className=\"space-y-2\">\n            <label\n              className={`text-xs sm:text-sm font-semibold ${theme === \"dark\" ? \"text-gray-300\" : \"text-gray-700\"}`}\n            >\n              Market\n            </label>\n            <Select value={selectedMarket} onValueChange={setSelectedMarket}>\n              <SelectTrigger\n                className={`${theme === \"dark\" ? \"bg-[#0f1629]/50 border-blue-500/30 text-white\" : \"bg-white border-gray-300\"}`}\n              >\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent className={theme === \"dark\" ? \"bg-[#0a0e27] border-blue-500/30\" : \"bg-white\"}>\n                <SelectItem value=\"1HZ10V\">Volatility 10 (1s) Index</SelectItem>\n                <SelectItem value=\"1HZ15V\">Volatility 15 (1s) Index</SelectItem>\n                <SelectItem value=\"1HZ25V\">Volatility 25 (1s) Index</SelectItem>\n                <SelectItem value=\"1HZ30V\">Volatility 30 (1s) Index</SelectItem>\n                <SelectItem value=\"1HZ50V\">Volatility 50 (1s) Index</SelectItem>\n                <SelectItem value=\"1HZ75V\">Volatility 75 (1s) Index</SelectItem>\n                <SelectItem value=\"1HZ90V\">Volatility 90 (1s) Index</SelectItem>\n                <SelectItem value=\"1HZ100V\">Volatility 100 (1s) Index</SelectItem>\n                <SelectItem value=\"R_10\">Volatility 10 Index</SelectItem>\n                <SelectItem value=\"R_25\">Volatility 25 Index</SelectItem>\n                <SelectItem value=\"R_50\">Volatility 50 Index</SelectItem>\n                <SelectItem value=\"R_75\">Volatility 75 Index</SelectItem>\n                <SelectItem value=\"R_100\">Volatility 100 Index</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n\n          <div className=\"space-y-2\">\n            <label\n              className={`text-xs sm:text-sm font-semibold ${theme === \"dark\" ? \"text-gray-300\" : \"text-gray-700\"}`}\n            >\n              Trade Type\n            </label>\n            <Select value={selectedTradeType} onValueChange={setSelectedTradeType}>\n              <SelectTrigger\n                className={`${theme === \"dark\" ? \"bg-[#0f1629]/50 border-blue-500/30 text-white\" : \"bg-white border-gray-300\"}`}\n              >\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent className={theme === \"dark\" ? \"bg-[#0a0e27] border-blue-500/30\" : \"bg-white\"}>\n                <SelectItem value=\"all\">All Strategies</SelectItem>\n                <SelectItem value=\"under4/over5\">Under4/Over5</SelectItem>\n                <SelectItem value=\"over2/under7\">Over2/Under7</SelectItem>\n                <SelectItem value=\"even/odd\">Even/Odd</SelectItem>\n                <SelectItem value=\"differs\">Differs</SelectItem>\n                <SelectItem value=\"matches\">Matches</SelectItem>\n                <SelectItem value=\"rise/fall\">Rise/Fall</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n\n          <div className=\"space-y-2\">\n            <label\n              className={`text-xs sm:text-sm font-semibold ${theme === \"dark\" ? \"text-gray-300\" : \"text-gray-700\"}`}\n            >\n              Ticks to Analyze\n            </label>\n            <Input\n              type=\"number\"\n              value={ticksToAnalyze}\n              onChange={(e) => setTicksToAnalyze(Number.parseInt(e.target.value))}\n              min={10}\n              max={500}\n              className={`${theme === \"dark\" ? \"bg-[#0f1629]/50 border-blue-500/30 text-white\" : \"bg-white border-gray-300\"}`}\n            />\n          </div>\n        </div>\n\n        <div\n          className={`rounded-lg p-3 sm:p-4 mb-4 sm:mb-6 border ${theme === \"dark\" ? \"bg-blue-500/10 border-blue-500/30\" : \"bg-blue-50 border-blue-200\"}`}\n        >\n          <div className=\"grid grid-cols-2 gap-4 text-center\">\n            <div>\n              <div className={`text-xs sm:text-sm ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>\n                Latest Tick:\n              </div>\n              <div className={`text-lg sm:text-2xl font-bold ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}>\n                {currentPrice?.toFixed(5) || \"---\"}\n              </div>\n            </div>\n            <div>\n              <div className={`text-xs sm:text-sm ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>\n                Last Digit:\n              </div>\n              <div\n                className={`text-lg sm:text-2xl font-bold ${theme === \"dark\" ? \"text-orange-400\" : \"text-orange-600\"}`}\n              >\n                {currentDigit !== null ? currentDigit : \"0\"}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {!autoAnalysisMode && (\n          <Button\n            onClick={handleAnalyze}\n            disabled={isAnalyzing}\n            className={`w-full py-4 sm:py-6 text-base sm:text-lg font-bold ${\n              isAnalyzing\n                ? \"bg-gray-500\"\n                : \"bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 shadow-[0_0_20px_rgba(34,211,238,0.5)]\"\n            }`}\n          >\n            {isAnalyzing ? \"Analyzing...\" : \"Scan All Strategies\"}\n          </Button>\n        )}\n\n        {autoAnalysisMode && (\n          <div className=\"text-center\">\n            <Badge className=\"bg-emerald-500 text-white text-lg px-6 py-2 animate-pulse\">\n              Auto Analysis Active - Scanning every 3 seconds\n            </Badge>\n          </div>\n        )}\n      </div>\n\n      {aiSignalResult && (\n        <div\n          className={`rounded-xl p-4 sm:p-6 border ${\n            theme === \"dark\"\n              ? \"bg-gradient-to-br from-[#0f1629]/80 to-[#1a2235]/80 border-blue-500/20 shadow-[0_0_30px_rgba(59,130,246,0.2)]\"\n              : \"bg-white border-gray-200 shadow-lg\"\n          }`}\n        >\n          <h3\n            className={`text-lg sm:text-xl font-bold mb-4 text-center ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}\n          >\n            AI Recommendation\n          </h3>\n\n          <div className=\"space-y-4\">\n            <div className=\"text-center\">\n              <Badge\n                className={`text-base sm:text-lg px-4 sm:px-6 py-2 ${\n                  aiSignalResult.signal === \"TRADE NOW\"\n                    ? \"bg-emerald-500 text-white shadow-[0_0_20px_rgba(16,185,129,0.6)] animate-pulse\"\n                    : aiSignalResult.signal === \"WAIT\"\n                      ? \"bg-amber-500 text-white shadow-[0_0_20px_rgba(245,158,11,0.6)]\"\n                      : \"bg-slate-500 text-white\"\n                }`}\n              >\n                {aiSignalResult.signal}\n              </Badge>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div\n                className={`rounded-lg p-4 border ${theme === \"dark\" ? \"bg-cyan-500/10 border-cyan-500/30\" : \"bg-cyan-50 border-cyan-200\"}`}\n              >\n                <div className={`text-xs sm:text-sm mb-2 ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>\n                  Best Market\n                </div>\n                <div className={`text-lg sm:text-xl font-bold ${theme === \"dark\" ? \"text-cyan-400\" : \"text-cyan-600\"}`}>\n                  {aiSignalResult.bestMarket}\n                </div>\n              </div>\n\n              <div\n                className={`rounded-lg p-4 border ${theme === \"dark\" ? \"bg-blue-500/10 border-blue-500/30\" : \"bg-blue-50 border-blue-200\"}`}\n              >\n                <div className={`text-xs sm:text-sm mb-2 ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>\n                  Best Strategy\n                </div>\n                <div className={`text-lg sm:text-xl font-bold ${theme === \"dark\" ? \"text-blue-400\" : \"text-blue-600\"}`}>\n                  {aiSignalResult.bestStrategy}\n                </div>\n              </div>\n\n              <div\n                className={`rounded-lg p-4 border ${theme === \"dark\" ? \"bg-orange-500/10 border-orange-500/30\" : \"bg-orange-50 border-orange-200\"}`}\n              >\n                <div className={`text-xs sm:text-sm mb-2 ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>\n                  Entry Point\n                </div>\n                <div\n                  className={`text-2xl sm:text-3xl font-bold ${theme === \"dark\" ? \"text-orange-400\" : \"text-orange-600\"}`}\n                >\n                  {aiSignalResult.entryPoint}\n                </div>\n              </div>\n\n              <div\n                className={`rounded-lg p-4 border ${theme === \"dark\" ? \"bg-purple-500/10 border-purple-500/30\" : \"bg-purple-50 border-purple-200\"}`}\n              >\n                <div className={`text-xs sm:text-sm mb-2 ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>\n                  Confidence\n                </div>\n                <div\n                  className={`text-2xl sm:text-3xl font-bold ${theme === \"dark\" ? \"text-purple-400\" : \"text-purple-600\"}`}\n                >\n                  {aiSignalResult.confidence.toFixed(1)}%\n                </div>\n              </div>\n            </div>\n\n            <div\n              className={`rounded-lg p-4 border ${theme === \"dark\" ? \"bg-emerald-500/10 border-emerald-500/30\" : \"bg-emerald-50 border-emerald-200\"}`}\n            >\n              <div className={`text-xs sm:text-sm mb-2 ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>\n                Trade Validity\n              </div>\n              <div\n                className={`text-lg sm:text-xl font-bold ${theme === \"dark\" ? \"text-emerald-400\" : \"text-emerald-600\"}`}\n              >\n                {aiSignalResult.tradeValidity} ticks\n              </div>\n            </div>\n\n            <div\n              className={`rounded-lg p-4 border ${theme === \"dark\" ? \"bg-blue-500/10 border-blue-500/30\" : \"bg-blue-50 border-blue-200\"}`}\n            >\n              <div className={`text-xs sm:text-sm mb-2 ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>\n                AI Reasoning\n              </div>\n              <div className={`text-sm sm:text-base ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}>\n                {aiSignalResult.reasoning}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n",
            "size_bytes": 16780
        },
        "src/hooks/useFullScreen.ts": {
            "content": "import { MouseEvent, useCallback, useEffect, useState } from 'react';\n\nconst fullScreenControls = {\n    exit: ['exitFullscreen', 'webkitExitFullscreen', 'mozCancelFullScreen', 'msExitFullscreen'],\n    request: ['requestFullscreen', 'webkitRequestFullscreen', 'mozRequestFullScreen', 'msRequestFullscreen'],\n    screenChange: ['fullscreenchange', 'webkitfullscreenchange', 'mozfullscreenchange', 'MSFullscreenChange'],\n    screenElement: ['fullscreenElement', 'webkitFullscreenElement', 'mozFullScreenElement', 'msFullscreenElement'],\n} as const;\n\nconst useFullScreen = () => {\n    const [isInFullScreenMode, setFullScreenMode] = useState(false);\n    const { exit, request, screenChange, screenElement } = fullScreenControls;\n\n    const onFullScreen = useCallback(\n        () => setFullScreenMode(screenElement.some(element => document[element as keyof Document])),\n        [screenElement]\n    );\n\n    useEffect(() => {\n        screenChange.forEach(event => {\n            document.addEventListener(event, onFullScreen, false);\n        });\n\n        return () => {\n            screenChange.forEach(event => {\n                document.removeEventListener(event, onFullScreen, false);\n            });\n        };\n    }, [onFullScreen, screenChange]);\n\n    const toggleFullScreenMode = (event?: MouseEvent<HTMLButtonElement>) => {\n        event?.stopPropagation();\n\n        const exitFullScreen = exit.find(method => document[method as keyof Document]);\n        const requestFullScreen = request.find(method => document.documentElement[method as keyof HTMLElement]);\n\n        if (isInFullScreenMode && exitFullScreen) {\n            (document[exitFullScreen as keyof Document] as Document['exitFullscreen'])();\n        } else if (requestFullScreen) {\n            (document.documentElement[requestFullScreen as keyof HTMLElement] as HTMLElement['requestFullscreen'])();\n        } else {\n            setFullScreenMode(false); // fullscreen API is not enabled\n        }\n    };\n\n    return { toggleFullScreenMode };\n};\n\nexport default useFullScreen;\n",
            "size_bytes": 2038
        },
        "src/components/page-error-container/page-error-container.tsx": {
            "content": "import React from 'react';\nimport ErrorModal from '../error-modal';\nimport PageError from '../page-error';\nimport UnhandledErrorModal from '../unhandled-error-modal';\n\ntype TPageErrorContainer = {\n    buttonOnClick?: () => void;\n    error_header?: React.ReactNode;\n    error_messages?: Array<{ message: string; has_html?: boolean } | React.ReactNode>;\n    redirect_labels: string[];\n    redirect_urls?: string[];\n    setError?: (has_error: boolean, error: React.ReactNode) => void;\n    should_clear_error_on_click?: boolean;\n    should_redirect?: boolean;\n};\n\nconst PageErrorContainer = ({ error_header, error_messages, ...props }: TPageErrorContainer) => {\n    if (error_header && error_messages) {\n        return <PageError header={error_header} messages={error_messages} {...props} />;\n    }\n    // If there are error messages from the backend, show an error modal with the messages\n    else if (error_messages) {\n        return <ErrorModal messages={error_messages} />;\n    }\n    return <UnhandledErrorModal />;\n};\n\nexport default PageErrorContainer;\n",
            "size_bytes": 1055
        },
        "src/pages/dashboard/cards.tsx": {
            "content": "//kept sometihings commented beacuse of mobx to integrate popup functionality here\nimport React from 'react';\nimport classNames from 'classnames';\nimport { observer } from 'mobx-react-lite';\nimport GoogleDrive from '@/components/load-modal/google-drive';\nimport Dialog from '@/components/shared_ui/dialog';\nimport MobileFullPageModal from '@/components/shared_ui/mobile-full-page-modal';\nimport Text from '@/components/shared_ui/text';\nimport { DBOT_TABS } from '@/constants/bot-contents';\nimport { useStore } from '@/hooks/useStore';\nimport {\n    DerivLightBotBuilderIcon,\n    DerivLightGoogleDriveIcon,\n    DerivLightLocalDeviceIcon,\n    DerivLightMyComputerIcon,\n    DerivLightQuickStrategyIcon,\n} from '@deriv/quill-icons/Illustration';\nimport { Localize, localize } from '@deriv-com/translations';\nimport { useDevice } from '@deriv-com/ui';\nimport { rudderStackSendOpenEvent } from '../../analytics/rudderstack-common-events';\nimport { rudderStackSendDashboardClickEvent } from '../../analytics/rudderstack-dashboard';\nimport DashboardBotList from './bot-list/dashboard-bot-list';\n\ntype TCardProps = {\n    has_dashboard_strategies: boolean;\n    is_mobile: boolean;\n};\n\ntype TCardArray = {\n    id: string;\n    icon: React.ReactElement;\n    content: React.ReactElement;\n    callback: () => void;\n};\n\nconst Cards = observer(({ is_mobile, has_dashboard_strategies }: TCardProps) => {\n    const { dashboard, load_modal, quick_strategy } = useStore();\n    const { toggleLoadModal, setActiveTabIndex } = load_modal;\n    const { isDesktop } = useDevice();\n    const { onCloseDialog, dialog_options, is_dialog_open, setActiveTab, setPreviewOnPopup } = dashboard;\n    const { setFormVisibility } = quick_strategy;\n\n    const openFileLoader = () => {\n        toggleLoadModal();\n        setActiveTabIndex(is_mobile ? 0 : 1);\n        setActiveTab(DBOT_TABS.BOT_BUILDER);\n    };\n\n    const openGoogleDriveDialog = () => {\n        const google_drive_tab_index = isDesktop ? 2 : 1;\n        toggleLoadModal();\n        setActiveTabIndex(google_drive_tab_index); // Google Drive tab index\n        setActiveTab(DBOT_TABS.BOT_BUILDER);\n    };\n\n    const actions: TCardArray[] = [\n        {\n            id: 'my-computer',\n            icon: is_mobile ? (\n                <DerivLightLocalDeviceIcon height='48px' width='48px' />\n            ) : (\n                <DerivLightMyComputerIcon height='48px' width='48px' />\n            ),\n            content: is_mobile ? <Localize i18n_default_text='Local' /> : <Localize i18n_default_text='My computer' />,\n            callback: () => {\n                openFileLoader();\n                rudderStackSendOpenEvent({\n                    subpage_name: 'bot_builder',\n                    subform_source: 'dashboard',\n                    subform_name: 'load_strategy' as any,\n                    load_strategy_tab: 'local' as any,\n                } as any);\n            },\n        },\n        {\n            id: 'google-drive',\n            icon: <DerivLightGoogleDriveIcon height='48px' width='48px' />,\n            content: <Localize i18n_default_text='Google Drive' />,\n            callback: () => {\n                openGoogleDriveDialog();\n                rudderStackSendOpenEvent({\n                    subpage_name: 'bot_builder',\n                    subform_source: 'dashboard',\n                    subform_name: 'load_strategy' as any,\n                    load_strategy_tab: 'google drive' as any,\n                } as any);\n            },\n        },\n        {\n            id: 'bot-builder',\n            icon: <DerivLightBotBuilderIcon height='48px' width='48px' />,\n            content: <Localize i18n_default_text='Bot builder' />,\n            callback: () => {\n                setActiveTab(DBOT_TABS.BOT_BUILDER);\n                rudderStackSendDashboardClickEvent({\n                    dashboard_click_name: 'bot_builder' as any,\n                    subpage_name: 'bot_builder',\n                } as any);\n            },\n        },\n        {\n            id: 'quick-strategy',\n            icon: <DerivLightQuickStrategyIcon height='48px' width='48px' />,\n            content: <Localize i18n_default_text='Quick strategy' />,\n            callback: () => {\n                setActiveTab(DBOT_TABS.BOT_BUILDER);\n                setFormVisibility(true);\n                rudderStackSendOpenEvent({\n                    subpage_name: 'bot_builder',\n                    subform_source: 'dashboard',\n                    subform_name: 'quick_strategy',\n                });\n            },\n        },\n    ];\n\n    return React.useMemo(\n        () => (\n            <div\n                className={classNames('tab__dashboard__table', {\n                    'tab__dashboard__table--minimized': has_dashboard_strategies && is_mobile,\n                })}\n            >\n                <div\n                    className={classNames('tab__dashboard__table__tiles', {\n                        'tab__dashboard__table__tiles--minimized': has_dashboard_strategies && is_mobile,\n                    })}\n                    id='tab__dashboard__table__tiles'\n                >\n                    {actions.map(icons => {\n                        const { icon, content, callback, id } = icons;\n                        return (\n                            <div\n                                key={id}\n                                className={classNames('tab__dashboard__table__block', {\n                                    'tab__dashboard__table__block--minimized': has_dashboard_strategies && is_mobile,\n                                })}\n                            >\n                                <div\n                                    className={classNames('tab__dashboard__table__images', {\n                                        'tab__dashboard__table__images--minimized': has_dashboard_strategies,\n                                    })}\n                                    width='8rem'\n                                    height='8rem'\n                                    icon={icon}\n                                    id={id}\n                                    onClick={() => {\n                                        callback();\n                                    }}\n                                >\n                                    {icon}\n                                </div>\n                                <Text color='prominent' size={is_mobile ? 'xxs' : 'xs'}>\n                                    {content}\n                                </Text>\n                            </div>\n                        );\n                    })}\n\n                    {!isDesktop ? (\n                        <Dialog\n                            title={dialog_options.title}\n                            is_visible={is_dialog_open}\n                            onCancel={onCloseDialog}\n                            is_mobile_full_width\n                            className='dc-dialog__wrapper--google-drive'\n                            has_close_icon\n                        >\n                            <GoogleDrive />\n                        </Dialog>\n                    ) : (\n                        <MobileFullPageModal\n                            is_modal_open={is_dialog_open}\n                            className='load-strategy__wrapper'\n                            header={localize('Load strategy')}\n                            onClickClose={() => {\n                                setPreviewOnPopup(false);\n                                onCloseDialog();\n                            }}\n                            height_offset='80px'\n                        >\n                            <div label='Google Drive' className='google-drive-label'>\n                                <GoogleDrive />\n                            </div>\n                        </MobileFullPageModal>\n                    )}\n                </div>\n                <DashboardBotList />\n            </div>\n        ),\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [is_dialog_open, has_dashboard_strategies]\n    );\n});\n\nexport default Cards;\n",
            "size_bytes": 8064
        },
        "src/external/bot-skeleton/services/tradeEngine/trade/index.js": {
            "content": "import { applyMiddleware, createStore } from 'redux';\nimport { thunk } from 'redux-thunk';\nimport { localize } from '@deriv-com/translations';\nimport { createError } from '../../../utils/error';\nimport { observer as globalObserver } from '../../../utils/observer';\nimport { api_base } from '../../api/api-base';\nimport { checkBlocksForProposalRequest, doUntilDone } from '../utils/helpers';\nimport { expectInitArg } from '../utils/sanitize';\nimport { proposalsReady, start } from './state/actions';\nimport * as constants from './state/constants';\nimport rootReducer from './state/reducers';\nimport Balance from './Balance';\nimport OpenContract from './OpenContract';\nimport Proposal from './Proposal';\nimport Purchase from './Purchase';\nimport Sell from './Sell';\nimport Ticks from './Ticks';\nimport Total from './Total';\n\nconst watchBefore = store =>\n    watchScope({\n        store,\n        stopScope: constants.DURING_PURCHASE,\n        passScope: constants.BEFORE_PURCHASE,\n        passFlag: 'proposalsReady',\n    });\n\nconst watchDuring = store =>\n    watchScope({\n        store,\n        stopScope: constants.STOP,\n        passScope: constants.DURING_PURCHASE,\n        passFlag: 'openContract',\n    });\n\n/* The watchScope function is called randomly and resets the prevTick\n * which leads to the same problem we try to solve. So prevTick is isolated\n */\nlet prevTick;\nconst watchScope = ({ store, stopScope, passScope, passFlag }) => {\n    // in case watch is called after stop is fired\n    if (store.getState().scope === stopScope) {\n        return Promise.resolve(false);\n    }\n    return new Promise(resolve => {\n        const unsubscribe = store.subscribe(() => {\n            const newState = store.getState();\n\n            if (newState.newTick === prevTick) return;\n            prevTick = newState.newTick;\n\n            if (newState.scope === passScope && newState[passFlag]) {\n                unsubscribe();\n                resolve(true);\n            }\n\n            if (newState.scope === stopScope) {\n                unsubscribe();\n                resolve(false);\n            }\n        });\n    });\n};\n\nexport default class TradeEngine extends Balance(Purchase(Sell(OpenContract(Proposal(Ticks(Total(class {}))))))) {\n    constructor($scope) {\n        super();\n        this.observer = $scope.observer;\n        this.$scope = $scope;\n        this.observe();\n        this.data = {\n            contract: {},\n            proposals: [],\n        };\n        this.subscription_id_for_accumulators = null;\n        this.is_proposal_requested_for_accumulators = false;\n        this.store = createStore(rootReducer, applyMiddleware(thunk));\n    }\n\n    init(...args) {\n        const [token, options] = expectInitArg(args);\n        const { symbol } = options;\n\n        this.initArgs = args;\n        this.options = options;\n        this.startPromise = this.loginAndGetBalance(token);\n\n        if (!this.checkTicksPromiseExists()) this.watchTicks(symbol);\n    }\n\n    start(tradeOptions) {\n        if (!this.options) {\n            throw createError('NotInitialized', localize('Bot.init is not called'));\n        }\n\n        globalObserver.emit('bot.running');\n\n        const validated_trade_options = this.validateTradeOptions(tradeOptions);\n\n        this.tradeOptions = { ...validated_trade_options, symbol: this.options.symbol };\n        this.store.dispatch(start());\n        this.checkLimits(validated_trade_options);\n\n        this.makeDirectPurchaseDecision();\n    }\n\n    loginAndGetBalance(token) {\n        if (this.token === token) {\n            return Promise.resolve();\n        }\n        // for strategies using total runs, GetTotalRuns function is trying to get loginid and it gets called before Proposals calls.\n        // the below required loginid to be set in Proposal calls where loginAndGetBalance gets resolved.\n        // Earlier this used to happen as soon as we get ticks_history response and by the time GetTotalRuns gets called we have required info.\n        this.accountInfo = api_base.account_info;\n        this.token = api_base.token;\n        return new Promise(resolve => {\n            // Try to recover from a situation where API doesn't give us a correct response on\n            // \"proposal_open_contract\" which would make the bot run forever. When there's a \"sell\"\n            // event, wait a couple seconds for the API to give us the correct \"proposal_open_contract\"\n            // response, if there's none after x seconds. Send an explicit request, which _should_\n            // solve the issue. This is a backup!\n            const subscription = api_base.api.onMessage().subscribe(({ data }) => {\n                if (data.msg_type === 'transaction' && data.transaction.action === 'sell') {\n                    this.transaction_recovery_timeout = setTimeout(() => {\n                        const { contract } = this.data;\n                        const is_same_contract = contract.contract_id === data.transaction.contract_id;\n                        const is_open_contract = contract.status === 'open';\n                        if (is_same_contract && is_open_contract) {\n                            doUntilDone(() => {\n                                api_base.api.send({ proposal_open_contract: 1, contract_id: contract.contract_id });\n                            }, ['PriceMoved']);\n                        }\n                    }, 1500);\n                }\n                resolve();\n            });\n            api_base.pushSubscription(subscription);\n        });\n    }\n\n    observe() {\n        this.observeOpenContract();\n        this.observeBalance();\n        this.observeProposals();\n    }\n\n    watch(watchName) {\n        if (watchName === 'before') {\n            return watchBefore(this.store);\n        }\n        return watchDuring(this.store);\n    }\n\n    makeDirectPurchaseDecision() {\n        const { has_payout_block, is_basis_payout } = checkBlocksForProposalRequest();\n        this.is_proposal_subscription_required = has_payout_block || is_basis_payout;\n\n        if (this.is_proposal_subscription_required) {\n            this.makeProposals({ ...this.options, ...this.tradeOptions });\n            this.checkProposalReady();\n        } else {\n            this.store.dispatch(proposalsReady());\n        }\n    }\n}\n",
            "size_bytes": 6243
        },
        "src/components/shared_ui/currency-badge/index.ts": {
            "content": "import CurrencyBadge from './currency-badge';\nimport './currency-badge.scss';\n\nexport default CurrencyBadge;\n",
            "size_bytes": 109
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/During Purchase/sell_price.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.sell_price = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Sell profit/loss'),\n            output: 'Number',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the profit/loss from selling at market price'),\n            category: window.Blockly.Categories.During_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Profit/loss from selling'),\n            description: localize(\n                'This block gives you the potential profit or loss if you decide to sell your contract.'\n            ),\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    restricted_parents: ['during_purchase'],\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.sell_price = () => {\n    const code = 'Bot.getSellPrice()';\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC];\n};\n",
            "size_bytes": 1337
        },
        "src/components/shared_ui/fade-wrapper/index.ts": {
            "content": "import FadeWrapper from './fade-wrapper';\nimport './fade-wrapper.scss';\n\nexport default FadeWrapper;\n",
            "size_bytes": 101
        },
        "src/hooks/useComponentVisibility.tsx": {
            "content": "import React from 'react';\n\nexport const useComponentVisibility = (ref: React.RefObject<HTMLInputElement>) => {\n    const [is_dropdown_visible, setDropdownVisibility] = React.useState(false);\n\n    const handleHideDropdown = (event: KeyboardEvent) => {\n        if (event.key.toUpperCase() === 'ESCAPE') {\n            setDropdownVisibility(false);\n        }\n    };\n\n    const handleClickOutside = (event: Event) => {\n        if (!ref?.current?.contains(event.target as Node)) {\n            setDropdownVisibility(false);\n        }\n    };\n\n    React.useEffect(() => {\n        document.addEventListener('keydown', handleHideDropdown, true);\n        document.addEventListener('click', handleClickOutside, true);\n        return () => {\n            document.removeEventListener('keydown', handleHideDropdown, true);\n            document.removeEventListener('click', handleClickOutside, true);\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return {\n        is_dropdown_visible,\n        setDropdownVisibility,\n    };\n};\n",
            "size_bytes": 1056
        },
        "src/external/bot-skeleton/services/api/server_time.js": {
            "content": "/* eslint-disable no-confusing-arrow */\nimport PendingPromise from '../../utils/pending-promise';\n\nconst ServerTime = (() => {\n    let clock_started = false;\n    const pending = new PendingPromise();\n    let common_store;\n\n    const init = store => {\n        if (!clock_started) {\n            common_store = store;\n            pending.resolve(common_store.server_time);\n            clock_started = true;\n        }\n    };\n\n    const get = () => (clock_started && common_store.server_time ? common_store.server_time.clone() : undefined);\n\n    return {\n        init,\n        get,\n        timePromise: () => (clock_started ? Promise.resolve(common_store.server_time) : pending.promise),\n    };\n})();\n\nexport default ServerTime;\n",
            "size_bytes": 724
        },
        "src/constants/button-status.ts": {
            "content": "export const button_status = Object.freeze({\n    NORMAL: 0,\n    LOADING: 1,\n    COMPLETED: 2,\n});\n",
            "size_bytes": 98
        },
        "src/external/bot-skeleton/scratch/blockly.js": {
            "content": "import * as BlocklyJavaScript from 'blockly/javascript';\nimport { localize } from '@deriv-com/translations';\nimport { setColors } from './hooks/colours.js';\nimport goog from './goog.js';\n\nwindow.goog = goog;\n\nconst modifyBlocklyWorkSpaceContextMenu = () => {\n    const exclude_item = ['blockInline'];\n    exclude_item.forEach(item_id => {\n        const option = window.Blockly.ContextMenuRegistry.registry.getItem(item_id);\n        option.preconditionFn = () => 'hidden';\n    });\n\n    const items_to_localize = {\n        undoWorkspace: localize('Undo'),\n        redoWorkspace: localize('Redo'),\n        cleanWorkspace: localize('Clean up Blocks'),\n        collapseWorkspace: localize('Collapse Blocks'),\n        expandWorkspace: localize('Expand Blocks'),\n        workspaceDelete: localize('Delete All Blocks'),\n    };\n\n    Object.keys(items_to_localize).forEach(item_id => {\n        const option = window.Blockly.ContextMenuRegistry.registry.getItem(item_id);\n        option.displayText = localize(items_to_localize[item_id]);\n    });\n};\n\nexport const loadBlockly = async isDarkMode => {\n    const BlocklyModule = await import('blockly');\n    window.Blockly = BlocklyModule.default;\n    window.Blockly.Colours = {};\n    const BlocklyGenerator = new window.Blockly.Generator('code');\n    const BlocklyJavaScriptGenerator = {\n        ...BlocklyJavaScript,\n        ...BlocklyGenerator,\n    };\n    window.Blockly.JavaScript = BlocklyJavaScriptGenerator;\n    window.Blockly.Themes.zelos_renderer = window.Blockly.Theme.defineTheme('zelos_renderer', {\n        base: window.Blockly.Themes.Zelos,\n        componentStyles: {},\n    });\n    modifyBlocklyWorkSpaceContextMenu();\n    setColors(isDarkMode);\n    await import('./hooks/index.js');\n    await import('./blocks');\n};\n",
            "size_bytes": 1766
        },
        "analysis-tool/Benanalysistool-final-main/components/tabs/even-odd-tab.tsx": {
            "content": "\"use client\"\n\nimport { Badge } from \"@/components/ui/badge\"\nimport { Button } from \"@/components/ui/button\"\nimport { LastDigitsDisplay } from \"@/components/last-digits-display\"\nimport type { Signal, AnalysisResult } from \"@/lib/analysis-engine\"\n\ninterface EvenOddTabProps {\n  analysis: AnalysisResult | null\n  signals: Signal[]\n  currentDigit: number | null\n  currentPrice: number | null\n  recentDigits: number[]\n  theme?: \"light\" | \"dark\"\n}\n\nexport function EvenOddTab({\n  analysis,\n  signals,\n  currentDigit,\n  currentPrice,\n  recentDigits,\n  theme = \"dark\",\n}: EvenOddTabProps) {\n  const evenOddSignal = signals?.find((s) => s.type === \"even_odd\")\n\n  if (!analysis) {\n    return (\n      <div className=\"text-center py-16\">\n        <p className={theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}>Loading analysis...</p>\n      </div>\n    )\n  }\n\n  const last10Digits = recentDigits.slice(-10)\n  const last20Digits = recentDigits.slice(-20)\n\n  const evenInLast10 = last10Digits.filter((d) => d % 2 === 0).length\n  const evenInLast20 = last20Digits.filter((d) => d % 2 === 0).length\n  const oddInLast10 = last10Digits.filter((d) => d % 2 === 1).length\n  const oddInLast20 = last20Digits.filter((d) => d % 2 === 1).length\n\n  const evenPercentLast10 = (evenInLast10 / last10Digits.length) * 100\n  const evenPercentLast20 = (evenInLast20 / last20Digits.length) * 100\n  const oddPercentLast10 = (oddInLast10 / last10Digits.length) * 100\n  const oddPercentLast20 = (oddInLast20 / last20Digits.length) * 100\n\n  const evenIncreasing = evenPercentLast10 > evenPercentLast20\n  const oddIncreasing = oddPercentLast10 > oddPercentLast20\n\n  let consecutiveEven = 0\n  let consecutiveOdd = 0\n  for (let i = recentDigits.length - 1; i >= 0; i--) {\n    if (recentDigits[i] % 2 === 0) {\n      if (consecutiveOdd === 0) consecutiveEven++\n      else break\n    } else {\n      if (consecutiveEven === 0) consecutiveOdd++\n      else break\n    }\n  }\n\n  let signalStatus: \"TRADE NOW\" | \"WAIT\" | \"NEUTRAL\" = \"NEUTRAL\"\n  let signalMessage = \"\"\n  let entryMessage = \"\"\n\n  if (analysis.evenPercentage >= 60 && evenIncreasing) {\n    if (consecutiveOdd >= 2) {\n      signalStatus = \"TRADE NOW\"\n      signalMessage = `EVEN at ${analysis.evenPercentage.toFixed(1)}% and increasing - ${consecutiveOdd} consecutive ODD detected!`\n      entryMessage = \"Trade EVEN immediately after next even digit appears\"\n    } else {\n      signalStatus = \"WAIT\"\n      signalMessage = `EVEN at ${analysis.evenPercentage.toFixed(1)}% and increasing`\n      entryMessage = \"Wait for 2+ consecutive ODD digits, then one EVEN to trade EVEN\"\n    }\n  } else if (analysis.oddPercentage >= 60 && oddIncreasing) {\n    if (consecutiveEven >= 2) {\n      signalStatus = \"TRADE NOW\"\n      signalMessage = `ODD at ${analysis.oddPercentage.toFixed(1)}% and increasing - ${consecutiveEven} consecutive EVEN detected!`\n      entryMessage = \"Trade ODD immediately after next odd digit appears\"\n    } else {\n      signalStatus = \"WAIT\"\n      signalMessage = `ODD at ${analysis.oddPercentage.toFixed(1)}% and increasing`\n      entryMessage = \"Wait for 2+ consecutive EVEN digits, then one ODD to trade ODD\"\n    }\n  } else if (analysis.evenPercentage >= 55 || analysis.oddPercentage >= 55) {\n    signalStatus = \"WAIT\"\n    const favored = analysis.evenPercentage > analysis.oddPercentage ? \"EVEN\" : \"ODD\"\n    signalMessage = `${favored} at ${Math.max(analysis.evenPercentage, analysis.oddPercentage).toFixed(1)}% - threshold met but not increasing`\n    entryMessage = \"Wait for percentage to reach 60%+ and show increasing trend\"\n  } else {\n    signalStatus = \"NEUTRAL\"\n    signalMessage = \"No clear bias detected\"\n    entryMessage = \"Wait for threshold of 55%+ to be reached\"\n  }\n\n  // Calculate pattern metrics\n  const changeRate =\n    recentDigits.length > 1\n      ? (recentDigits.filter((d, i) => i > 0 && d % 2 !== recentDigits[i - 1] % 2).length / recentDigits.length) * 100\n      : 0\n\n  const reversalRate =\n    recentDigits.length > 1\n      ? (recentDigits.filter((d, i) => i > 0 && d % 2 !== recentDigits[i - 1] % 2).length / (recentDigits.length - 1)) *\n        100\n      : 0\n\n  return (\n    <div className=\"space-y-6\">\n      <div\n        className={`rounded-xl p-4 border text-center ${\n          theme === \"dark\"\n            ? \"bg-gradient-to-br from-[#0f1629]/80 to-[#1a2235]/80 border-blue-500/20 shadow-[0_0_30px_rgba(59,130,246,0.2)]\"\n            : \"bg-white border-gray-200 shadow-lg\"\n        }`}\n      >\n        <div className={`text-sm mb-2 font-semibold ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-700\"}`}>\n          Current Digit:\n        </div>\n        {currentDigit !== null ? (\n          <div\n            className={`text-4xl font-bold animate-pulse ${\n              theme === \"dark\"\n                ? \"bg-gradient-to-r from-orange-400 via-red-400 to-pink-400 bg-clip-text text-transparent\"\n                : \"text-orange-600\"\n            }`}\n          >\n            {currentDigit}\n          </div>\n        ) : (\n          <div className={`text-4xl font-bold ${theme === \"dark\" ? \"text-gray-600\" : \"text-gray-400\"}`}>-</div>\n        )}\n        <div className={`text-xl mt-2 font-bold ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}>\n          Price: {currentPrice?.toFixed(5) || \"---\"}\n        </div>\n      </div>\n\n      <div\n        className={`rounded-xl p-8 border ${\n          theme === \"dark\"\n            ? \"bg-gradient-to-br from-[#0f1629]/80 to-[#1a2235]/80 border-blue-500/20 shadow-[0_0_30px_rgba(59,130,246,0.2)]\"\n            : \"bg-white border-gray-200 shadow-lg\"\n        }`}\n      >\n        <div className=\"text-center mb-6\">\n          <h2 className={`text-3xl font-bold mb-3 ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}>\n            Even vs Odd Analysis\n          </h2>\n          <Badge\n            className={`text-lg px-4 py-2 ${\n              signalStatus === \"TRADE NOW\"\n                ? theme === \"dark\"\n                  ? \"bg-green-500/20 text-green-400 border-green-500/30 shadow-[0_0_15px_rgba(34,197,94,0.3)]\"\n                  : \"bg-green-100 text-green-700 border-green-300\"\n                : signalStatus === \"WAIT\"\n                  ? theme === \"dark\"\n                    ? \"bg-slate-500/20 text-slate-300 border-slate-500/30 shadow-[0_0_15px_rgba(100,116,139,0.3)]\"\n                    : \"bg-slate-100 text-slate-700 border-slate-300\"\n                  : theme === \"dark\"\n                    ? \"bg-gray-500/20 text-gray-400 border-gray-500/30\"\n                    : \"bg-gray-100 text-gray-600 border-gray-300\"\n            }`}\n          >\n            {signalStatus}\n          </Badge>\n        </div>\n\n        <div\n          className={`rounded-lg p-4 mb-6 ${theme === \"dark\" ? \"bg-blue-500/10 border border-blue-500/30\" : \"bg-blue-50 border border-blue-200\"}`}\n        >\n          <h3 className={`text-lg font-bold mb-2 ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}>\n            Overall Summary\n          </h3>\n          <p className={`text-sm font-medium ${theme === \"dark\" ? \"text-gray-300\" : \"text-gray-800\"}`}>\n            {signalMessage}\n          </p>\n          <p className={`text-sm mt-2 font-semibold ${theme === \"dark\" ? \"text-cyan-400\" : \"text-cyan-700\"}`}>\n            Consecutive: {consecutiveEven > 0 ? `${consecutiveEven} EVEN` : `${consecutiveOdd} ODD`}\n          </p>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8\">\n          <div\n            className={`text-center rounded-lg p-6 border ${\n              theme === \"dark\"\n                ? \"bg-blue-500/10 border-blue-500/30 shadow-[0_0_15px_rgba(59,130,246,0.2)]\"\n                : \"bg-blue-50 border-blue-200\"\n            }`}\n          >\n            <div className={`text-5xl font-bold mb-2 ${theme === \"dark\" ? \"text-blue-400\" : \"text-blue-600\"}`}>\n              {analysis.evenPercentage.toFixed(1)}%\n            </div>\n            <div className={`text-sm mb-2 font-semibold ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-700\"}`}>\n              Even (0,2,4,6,8) {evenIncreasing ? \"\" : \"\"}\n            </div>\n            <div className={`w-full rounded-full h-4 ${theme === \"dark\" ? \"bg-gray-700\" : \"bg-gray-200\"}`}>\n              <div\n                className={`h-4 rounded-full transition-all ${\n                  theme === \"dark\"\n                    ? \"bg-gradient-to-r from-blue-500 to-cyan-500 shadow-[0_0_10px_rgba(59,130,246,0.5)]\"\n                    : \"bg-gradient-to-r from-blue-400 to-cyan-400\"\n                }`}\n                style={{ width: `${analysis.evenPercentage}%` }}\n              />\n            </div>\n            <div className={`text-sm mt-2 font-medium ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-700\"}`}>\n              Count: {analysis.evenCount}\n            </div>\n          </div>\n\n          <div\n            className={`text-center rounded-lg p-6 border ${\n              theme === \"dark\"\n                ? \"bg-pink-500/10 border-pink-500/30 shadow-[0_0_15px_rgba(236,72,153,0.2)]\"\n                : \"bg-pink-50 border-pink-200\"\n            }`}\n          >\n            <div className={`text-5xl font-bold mb-2 ${theme === \"dark\" ? \"text-pink-400\" : \"text-pink-600\"}`}>\n              {analysis.oddPercentage.toFixed(1)}%\n            </div>\n            <div className={`text-sm mb-2 font-semibold ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-700\"}`}>\n              Odd (1,3,5,7,9) {oddIncreasing ? \"\" : \"\"}\n            </div>\n            <div className={`w-full rounded-full h-4 ${theme === \"dark\" ? \"bg-gray-700\" : \"bg-gray-200\"}`}>\n              <div\n                className={`h-4 rounded-full transition-all ${\n                  theme === \"dark\"\n                    ? \"bg-gradient-to-r from-pink-500 to-red-500 shadow-[0_0_10px_rgba(236,72,153,0.5)]\"\n                    : \"bg-gradient-to-r from-pink-400 to-red-400\"\n                }`}\n                style={{ width: `${analysis.oddPercentage}%` }}\n              />\n            </div>\n            <div className={`text-sm mt-2 font-medium ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-700\"}`}>\n              Count: {analysis.oddCount}\n            </div>\n          </div>\n        </div>\n\n        <div\n          className={`rounded-xl p-8 text-center border ${\n            signalStatus === \"TRADE NOW\"\n              ? theme === \"dark\"\n                ? \"bg-green-500/20 border-green-500/50 shadow-[0_0_25px_rgba(34,197,94,0.5)]\"\n                : \"bg-green-100 border-green-300\"\n              : theme === \"dark\"\n                ? \"bg-slate-500/10 border-slate-500/30 shadow-[0_0_15px_rgba(100,116,139,0.2)]\"\n                : \"bg-slate-50 border-slate-200\"\n          }`}\n        >\n          <div className={`text-xl font-semibold mb-3 ${theme === \"dark\" ? \"text-gray-300\" : \"text-gray-800\"}`}>\n            Entry Condition:\n          </div>\n          {signalStatus === \"TRADE NOW\" ? (\n            <>\n              <Button\n                size=\"lg\"\n                className=\"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white px-8 py-6 text-xl font-bold shadow-[0_0_30px_rgba(34,197,94,0.7)] animate-pulse mb-4\"\n              >\n                {analysis.evenPercentage > analysis.oddPercentage ? \"TRADE EVEN NOW\" : \"TRADE ODD NOW\"}\n              </Button>\n              <div className={`text-lg font-medium ${theme === \"dark\" ? \"text-green-400\" : \"text-green-700\"}`}>\n                {entryMessage}\n              </div>\n            </>\n          ) : (\n            <>\n              <div className={`text-2xl font-medium mb-4 ${theme === \"dark\" ? \"text-slate-300\" : \"text-slate-700\"}`}>\n                {entryMessage}\n              </div>\n              <div className={`text-base font-medium ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-700\"}`}>\n                Current Status: {signalMessage}\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n\n      {recentDigits.length > 0 && (\n        <div\n          className={`rounded-xl p-6 border ${\n            theme === \"dark\"\n              ? \"bg-gradient-to-br from-[#0f1629]/80 to-[#1a2235]/80 border-blue-500/20 shadow-[0_0_30px_rgba(59,130,246,0.2)]\"\n              : \"bg-white border-gray-200 shadow-lg\"\n          }`}\n        >\n          <h3 className={`text-lg font-bold mb-4 ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}>\n            Last 40 Digits\n          </h3>\n          <LastDigitsDisplay digits={recentDigits} currentDigit={currentDigit} mode=\"even-odd\" theme={theme} />\n        </div>\n      )}\n\n      <div\n        className={`rounded-xl p-6 border ${\n          theme === \"dark\"\n            ? \"bg-gradient-to-br from-[#0f1629]/80 to-[#1a2235]/80 border-blue-500/20 shadow-[0_0_30px_rgba(59,130,246,0.2)]\"\n            : \"bg-white border-gray-200 shadow-lg\"\n        }`}\n      >\n        <h3 className={`text-lg font-bold mb-4 ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}>\n          Pattern Recognition\n        </h3>\n        <div\n          className={`rounded-lg p-4 mb-4 ${theme === \"dark\" ? \"bg-purple-500/10 border border-purple-500/30\" : \"bg-purple-50 border border-purple-200\"}`}\n        >\n          <p className={`text-sm font-medium ${theme === \"dark\" ? \"text-gray-300\" : \"text-gray-800\"}`}>\n            <strong>Explanation:</strong> Pattern recognition analyzes the behavior of even and odd digits over time. A\n            high change rate indicates frequent alternation between even and odd, while a high reversal rate shows the\n            tendency to switch after consecutive same-type digits. Use this data to identify optimal entry points.\n          </p>\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <div className={`p-4 rounded-lg ${theme === \"dark\" ? \"bg-blue-500/10\" : \"bg-blue-50\"}`}>\n            <div className={`text-sm mb-1 font-semibold ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-700\"}`}>\n              Pattern Type\n            </div>\n            <div className={`text-lg font-bold ${theme === \"dark\" ? \"text-blue-400\" : \"text-blue-600\"}`}>\n              {analysis.entropy > 3 ? \"Unpredictable\" : \"Consistent\"}\n            </div>\n          </div>\n          <div className={`p-4 rounded-lg ${theme === \"dark\" ? \"bg-purple-500/10\" : \"bg-purple-50\"}`}>\n            <div className={`text-sm mb-1 font-semibold ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-700\"}`}>\n              Change Rate\n            </div>\n            <div className={`text-lg font-bold ${theme === \"dark\" ? \"text-purple-400\" : \"text-purple-600\"}`}>\n              {changeRate.toFixed(1)}%\n            </div>\n          </div>\n          <div className={`p-4 rounded-lg ${theme === \"dark\" ? \"bg-green-500/10\" : \"bg-green-50\"}`}>\n            <div className={`text-sm mb-1 font-semibold ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-700\"}`}>\n              Reversal Rate\n            </div>\n            <div className={`text-lg font-bold ${theme === \"dark\" ? \"text-green-400\" : \"text-green-600\"}`}>\n              {reversalRate.toFixed(1)}%\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n",
            "size_bytes": 15045
        },
        "src/external/bot-skeleton/services/tradeEngine/trade/Proposal.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { api_base } from '../../api/api-base';\nimport { doUntilDone, tradeOptionToProposal } from '../utils/helpers';\nimport { clearProposals, proposalsReady } from './state/actions';\n\nexport default Engine =>\n    class Proposal extends Engine {\n        makeProposals(trade_option) {\n            if (!this.isNewTradeOption(trade_option)) {\n                return;\n            }\n\n            // Generate a purchase reference when trade options are different from previous trade options.\n            // This will ensure the bot doesn't mistakenly purchase the wrong proposal.\n            this.regeneratePurchaseReference();\n            this.trade_option = trade_option;\n            this.proposal_templates = tradeOptionToProposal(trade_option, this.getPurchaseReference());\n            this.renewProposalsOnPurchase();\n        }\n\n        selectProposal(contract_type) {\n            const { proposals } = this.data;\n\n            if (proposals.length === 0) {\n                throw Error(localize('Proposals are not ready'));\n            }\n\n            const to_buy = proposals.find(proposal => {\n                if (\n                    proposal.contract_type === contract_type &&\n                    proposal.purchase_reference === this.getPurchaseReference()\n                ) {\n                    // Below happens when a user has had one of the proposals return\n                    // with a ContractBuyValidationError. We allow the logic to continue\n                    // to here cause the opposite proposal may still be valid. Only once\n                    // they attempt to purchase the errored proposal we will intervene.\n                    if (proposal.error) {\n                        throw proposal.error;\n                    }\n\n                    return proposal;\n                }\n\n                return false;\n            });\n\n            if (!to_buy) {\n                throw new Error(localize('Selected proposal does not exist'));\n            }\n\n            return {\n                id: to_buy.id,\n                askPrice: to_buy.ask_price,\n            };\n        }\n\n        renewProposalsOnPurchase() {\n            this.data.proposals = [];\n            this.store.dispatch(clearProposals());\n            this.requestProposals();\n        }\n\n        requestProposals() {\n            // Since there are two proposals (in most cases), an error may be logged twice, to avoid this\n            // flip this boolean on error.\n            let has_informed_error = false;\n\n            Promise.all(\n                this.proposal_templates.map(proposal => {\n                    doUntilDone(() => api_base.api.send(proposal)).catch(error => {\n                        // We intercept ContractBuyValidationError as user may have specified\n                        // e.g. a DIGITUNDER 0 or DIGITOVER 9, while one proposal may be invalid\n                        // the other is valid. We will error on Purchase rather than here.\n\n                        if (error?.error?.code === 'ContractBuyValidationError') {\n                            this.data.proposals.push({\n                                ...error.error.echo_req,\n                                ...error.echo_req.passthrough,\n                                error,\n                            });\n\n                            return null;\n                        }\n                        if (!has_informed_error) {\n                            has_informed_error = true;\n                            this.$scope.observer.emit('Error', error.error);\n                        }\n                        return null;\n                    });\n                })\n            );\n        }\n\n        observeProposals() {\n            if (!api_base.api) return;\n            const subscription = api_base.api.onMessage().subscribe(response => {\n                if (response.data.msg_type === 'proposal') {\n                    const { passthrough, proposal } = response.data;\n                    if (proposal && this.data.proposals.findIndex(p => p.id === proposal.id) === -1) {\n                        // Add proposals based on the ID returned by the API.\n                        this.data.proposals.push({ ...proposal, ...passthrough });\n                        this.checkProposalReady();\n                    }\n                }\n            });\n            api_base.pushSubscription(subscription);\n        }\n\n        checkProposalReady() {\n            // Proposals are considered ready when the proposals in our memory match the ones\n            // we've requested from the API, we determine this by checking the passthrough of the response.\n            const { proposals } = this.data;\n\n            if (proposals.length > 0 && this.proposal_templates) {\n                const has_equal_proposals = this.proposal_templates.every(template => {\n                    return (\n                        proposals.findIndex(proposal => {\n                            return (\n                                proposal.purchase_reference === template.passthrough.purchase_reference &&\n                                proposal.contract_type === template.contract_type\n                            );\n                        }) !== -1\n                    );\n                });\n\n                if (has_equal_proposals) {\n                    this.startPromise.then(() => this.store.dispatch(proposalsReady()));\n                }\n            }\n        }\n\n        isNewTradeOption(trade_option) {\n            if (!this.trade_option) {\n                this.trade_option = trade_option;\n                return true;\n            }\n\n            // Compare incoming \"trade_option\" argument with \"this.trade_option\", if any\n            // of the values is different, this is a new tradeOption and new proposals\n            // should be generated.\n            return [\n                'amount',\n                'barrierOffset',\n                'basis',\n                'duration',\n                'duration_unit',\n                'prediction',\n                'secondBarrierOffset',\n                'underlying_symbol',\n            ].some(value => this.trade_option[value] !== trade_option[value]);\n        }\n    };\n",
            "size_bytes": 6196
        },
        "src/components/flyout/index.ts": {
            "content": "import Flyout from './flyout';\nimport './flyout.scss';\n\nexport default Flyout;\n",
            "size_bytes": 79
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Tick Analysis/tick.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.tick = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Last Tick'),\n            output: 'Number',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the value of the last tick'),\n            category: window.Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Last tick'),\n            description: localize('This block gives you the value of the last tick.'),\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.Blocks.tick_string = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Last Tick String'),\n            output: 'String',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the value of the latest tick in string format'),\n            category: window.Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Tick value'),\n            description: localize('Tick value Description'),\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    onchange: window.Blockly.Blocks.tick.onchange,\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.tick = block => {\n    const parent = block.getParent();\n    const type_list = ['notify', 'text_print'];\n    return [\n        `Bot.getLastTick(false, ${type_list.includes(parent?.type)})`,\n        window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC,\n    ];\n};\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.tick_string = () => [\n    'Bot.getLastTick(false, true)',\n    window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC,\n];\n",
            "size_bytes": 2413
        },
        "src/external/bot-skeleton/services/api/index.js": {
            "content": "export { default as ActiveSymbols } from './active-symbols';\nexport { api_base } from './api-base';\nexport { default as ApiHelpers } from './api-helpers';\nexport { default as ContractsFor } from './contracts-for';\nexport { default as NetworkMonitor } from './network_monitor';\nexport { default as ServerTime } from './server_time';\nexport { default as TradingTimes } from './trading-times';\n",
            "size_bytes": 391
        },
        "src/components/shared_ui/expansion-panel/index.ts": {
            "content": "import ExpansionPanel from './expansion-panel';\nimport './expansion-panel.scss';\n\nexport default ExpansionPanel;\n",
            "size_bytes": 113
        },
        "src/components/shared/utils/promise/make-cancellable-promise.ts": {
            "content": "export const makeCancellablePromise = (listener: Promise<unknown>) => {\n    let done = false;\n    let cancel: () => boolean | void = () => (done = true);\n    const promise = new Promise((resolve, reject) => {\n        cancel = () => {\n            // If it is already done, don't do anything.\n            if (!done) {\n                done = true;\n                reject(new Error('Cancelled'));\n            }\n        };\n        listener\n            .then(result => {\n                if (done) {\n                    // Promise is canceled or done.\n                    reject(result);\n                }\n                done = true;\n                resolve(result);\n            })\n            .catch((error: Error) => {\n                done = true;\n                reject(error);\n            });\n    });\n    return { promise, cancel };\n};\n",
            "size_bytes": 834
        },
        "src/components/layout/main-body/index.tsx": {
            "content": "import { useEffect } from 'react';\nimport { useStore } from '@/hooks/useStore';\nimport { useDevice } from '@deriv-com/ui';\nimport './main-body.scss';\n\ntype TMainBodyProps = {\n    children: React.ReactNode;\n};\n\nconst MainBody: React.FC<TMainBodyProps> = ({ children }) => {\n    const current_theme = localStorage.getItem('theme') ?? 'light';\n    const { ui } = useStore() ?? {\n        ui: {\n            setDevice: () => {},\n        },\n    };\n    const { setDevice } = ui;\n    const { isDesktop, isMobile, isTablet } = useDevice();\n\n    useEffect(() => {\n        const body = document.querySelector('body');\n        if (!body) return;\n        if (current_theme === 'light') {\n            body.classList.remove('theme--dark');\n            body.classList.add('theme--light');\n        } else {\n            body.classList.remove('theme--light');\n            body.classList.add('theme--dark');\n        }\n    }, [current_theme]);\n\n    useEffect(() => {\n        if (isMobile) {\n            setDevice('mobile');\n        } else if (isTablet) {\n            setDevice('tablet');\n        } else {\n            setDevice('desktop');\n        }\n    }, [isDesktop, isMobile, isTablet, setDevice]);\n\n    return <div className='main-body'>{children}</div>;\n};\n\nexport default MainBody;\n",
            "size_bytes": 1265
        },
        "src/components/shared_ui/mobile-full-page-modal/mobile-full-page-modal.tsx": {
            "content": "import * as React from 'react';\nimport classNames from 'classnames';\nimport Text from '@/components/shared_ui/text';\nimport { LabelPairedArrowLeftCaptionFillIcon } from '@deriv/quill-icons/LabelPaired';\nimport Div100vhContainer from '../div100vh-container';\nimport FadeWrapper from '../fade-wrapper';\nimport PageOverlay from '../page-overlay/page-overlay';\n\ntype TMobileFullPageModal = {\n    className?: string;\n    container_children?: React.ReactNode;\n    header?: string;\n    header_background_color?: string;\n    height_offset?: string;\n    is_flex?: boolean;\n    is_modal_open: boolean;\n    onClickClose?: (event: MouseEvent) => void;\n    pageHeaderReturnFn?: () => void;\n    renderPageFooterChildren?: () => React.ReactNode;\n    page_footer_className?: string;\n    page_header_className?: string;\n    page_header_text?: string;\n    renderPageHeaderElement?: JSX.Element;\n    renderPageHeaderTrailingIcon?: () => React.ReactNode;\n    should_header_stick_body?: boolean;\n    body_className?: string;\n    is_popup?: boolean;\n    page_footer_parent?: React.ReactNode;\n    renderPageHeader?: () => React.ReactNode;\n    page_footer_parent_className?: string;\n};\n\nconst MobileFullPageModal = ({\n    body_className,\n    className,\n    should_header_stick_body,\n    header,\n    header_background_color,\n    height_offset = '0px',\n    is_flex,\n    is_popup,\n    is_modal_open,\n    onClickClose,\n    renderPageFooterChildren,\n    page_footer_className,\n    page_footer_parent,\n    page_footer_parent_className,\n    page_header_className,\n    page_header_text,\n    renderPageHeaderTrailingIcon,\n    pageHeaderReturnFn,\n    renderPageHeader,\n    renderPageHeaderElement,\n    // opt-in for backward compatibility.\n    children,\n    container_children,\n}: React.PropsWithChildren<TMobileFullPageModal>) => (\n    <FadeWrapper\n        is_visible={is_modal_open}\n        className={classNames('dc-mobile-full-page-modal', className)}\n        keyname={`${className}__wrapper`}\n    >\n        <PageOverlay header={header} onClickClose={onClickClose}>\n            <Div100vhContainer\n                className={classNames('dc-mobile-full-page-modal', {\n                    'dc-mobile-full-page-modal--flex': is_flex,\n                    'dc-mobile-full-page-modal--popup': is_popup,\n                })}\n                height_offset={height_offset}\n            >\n                {(renderPageHeader || page_header_text || renderPageHeaderElement) && (\n                    <div\n                        className={classNames('dc-mobile-full-page-modal__header', {\n                            'dc-mobile-full-page-modal__header--border-bottom': !should_header_stick_body,\n                            ...(page_header_className ? { [page_header_className]: !!page_header_className } : {}),\n                        })}\n                        style={{\n                            background: header_background_color,\n                        }}\n                    >\n                        {pageHeaderReturnFn && (\n                            <div className='dc-mobile-full-page-modal__header-return'>\n                                <LabelPairedArrowLeftCaptionFillIcon\n                                    onClick={pageHeaderReturnFn}\n                                    data-testid='dt_mobile_full_page_return_icon'\n                                />\n                            </div>\n                        )}\n                        {renderPageHeader && renderPageHeader()}\n                        <div className='dc-mobile-full-page-modal__header-text'>\n                            {renderPageHeaderElement ?? (\n                                <Text as='p' color='prominent' lineHeight='m' size='s' weight='bold'>\n                                    {page_header_text}\n                                </Text>\n                            )}\n                        </div>\n                        {renderPageHeaderTrailingIcon && (\n                            <div className='dc-mobile-full-page-modal__header-trailing-icon'>\n                                {renderPageHeaderTrailingIcon()}\n                            </div>\n                        )}\n                    </div>\n                )}\n                <div className={classNames('dc-mobile-full-page-modal__body', body_className)}>{children}</div>\n                {renderPageFooterChildren && (\n                    <React.Fragment>\n                        {page_footer_parent && (\n                            <div\n                                className={classNames(\n                                    'dc-mobile-full-page-modal__footer-parent',\n                                    page_footer_parent_className\n                                )}\n                            >\n                                {page_footer_parent}\n                            </div>\n                        )}\n                        <div className={classNames('dc-mobile-full-page-modal__footer', page_footer_className)}>\n                            {renderPageFooterChildren()}\n                        </div>\n                    </React.Fragment>\n                )}\n                {container_children}\n            </Div100vhContainer>\n        </PageOverlay>\n    </FadeWrapper>\n);\n\nexport default MobileFullPageModal;\n",
            "size_bytes": 5248
        },
        "src/external/bot-skeleton/utils/workspace.js": {
            "content": "import { config } from '../constants/config';\n\nexport const hasAllRequiredBlocks = () => {\n    const blocks_in_workspace = window.Blockly.derivWorkspace.getAllBlocks();\n    const { mandatoryMainBlocks } = config();\n    const required_block_types = ['trade_definition_tradeoptions', ...mandatoryMainBlocks];\n    const all_block_types = blocks_in_workspace.map(block => block.type);\n    const has_all_required_blocks = required_block_types.every(required_block_type =>\n        all_block_types.includes(required_block_type)\n    );\n\n    return has_all_required_blocks;\n};\n\nexport const onWorkspaceResize = () => {\n    const workspace = window.Blockly.derivWorkspace;\n    if (workspace) {\n        // kept this commented to fix slow rendering issue\n        //workspace.getAllFields().forEach(field => field.forceRerender());\n\n        const el_scratch_div = document.getElementById('scratch_div');\n        if (el_scratch_div) {\n            window.Blockly.svgResize(workspace);\n        }\n    }\n};\n\nexport const removeLimitedBlocks = (workspace, block_types) => {\n    const types = Array.isArray(block_types) ? block_types : [block_types];\n\n    types.forEach(block_type => {\n        if (config().single_instance_blocks.includes(block_type)) {\n            workspace.getAllBlocks().forEach(ws_block => {\n                if (ws_block.type === block_type) {\n                    ws_block.dispose();\n                }\n            });\n        }\n    });\n};\n\nexport const isDbotRTL = () => {\n    const htmlElement = document.documentElement;\n    const dirValue = htmlElement.getAttribute('dir');\n    return dirValue === 'rtl';\n};\n",
            "size_bytes": 1612
        },
        "src/pages/tutorials/dbot-tours/tour-content.tsx": {
            "content": "import { getImageLocation } from '../../../public-path';\nimport React from 'react';\nimport Text from '@/components/shared_ui/text';\nimport { isDbotRTL } from '@/external/bot-skeleton/utils/workspace';\nimport { LabelPairedCircleCheckMdFillIcon } from '@deriv/quill-icons/LabelPaired';\nimport { Localize, localize } from '@deriv-com/translations';\nimport TourSteps from './common/tour-steps';\n\ntype TJoyrideConfig = Record<\n    'showProgress' | 'spotlightClicks' | 'disableBeacon' | 'disableOverlay' | 'disableCloseOnEsc',\n    boolean\n> & {\n    placement?: 'bottom' | 'top' | 'left' | 'right';\n};\n\nconst joyride_props: TJoyrideConfig = {\n    showProgress: false,\n    spotlightClicks: false,\n    disableBeacon: true,\n    disableOverlay: true,\n    disableCloseOnEsc: true,\n};\n\nexport const DBOT_ONBOARDING = [\n    {\n        target: '#id-bot-builder',\n        content: (\n            <TourSteps\n                label={<Localize i18n_default_text='Build from scratch' />}\n                content={[\n                    <>\n                        <Localize i18n_default_text='Create your bot using our drag-and-drop blocks or click Quick Strategy to choose from the ready-to-use bot templates.' />\n                    </>,\n                    <>\n                        <Localize i18n_default_text='We also provide a guide on the Tutorial tab to show you how you can build and execute a simple strategy.' />\n                    </>,\n                ]}\n                media={'/assets/videos/dbot-onboarding-tour-step-1.mp4'}\n                step_index={1}\n            />\n        ),\n        ...joyride_props,\n        disableOverlay: false,\n    },\n    {\n        target: '#id-charts',\n        content: (\n            <TourSteps\n                label={<Localize i18n_default_text='Monitor the market' />}\n                content={[\n                    <Localize\n                        key='view the market'\n                        i18n_default_text='View the market price of your favourite assets.'\n                    />,\n                ]}\n                media={'/assets/videos/dbot-onboarding-tour-step-2.mp4'}\n                step_index={2}\n            />\n        ),\n        ...joyride_props,\n        disableOverlay: false,\n    },\n    {\n        target: '#id-tutorials',\n        content: (\n            <TourSteps\n                label={<Localize i18n_default_text='Learn more with our tutorials' />}\n                content={[\n                    <Localize\n                        key='explore tutorials'\n                        i18n_default_text='Explore the video guides and FAQs to build your bot in the tutorials tab.'\n                    />,\n                ]}\n                media={'/assets/videos/dbot-onboarding-tour-step-3.mp4'}\n                step_index={3}\n            />\n        ),\n        ...joyride_props,\n        disableOverlay: false,\n    },\n    {\n        target: '#tab__dashboard__table__tiles',\n        content: (\n            <TourSteps\n                label={<Localize i18n_default_text='Use these shortcuts' />}\n                content={[\n                    <Localize\n                        key='use shortcuts'\n                        i18n_default_text='You can also import or build your bot using any of these shortcuts.'\n                    />,\n                ]}\n                step_index={4}\n            />\n        ),\n        placement: isDbotRTL() ? 'left' : 'right',\n        ...joyride_props,\n        disableOverlay: false,\n    },\n    {\n        target: '.dc-drawer__container',\n        content: (\n            <TourSteps\n                label={<Localize i18n_default_text='Check your bots performance' />}\n                content={[\n                    <Localize\n                        key='check bot performance'\n                        i18n_default_text='See how your bot is doing in real-time.'\n                    />,\n                ]}\n                media={'/assets/videos/dbot-onboarding-tour-step-5.mp4'}\n                step_index={5}\n            />\n        ),\n        placement: isDbotRTL() ? 'right' : 'left',\n        ...joyride_props,\n        disableOverlay: false,\n    },\n    {\n        target: '.animation__wrapper',\n        content: (\n            <TourSteps\n                label={<Localize i18n_default_text='Run your bot' />}\n                content={[\n                    <Localize\n                        key='run your bot'\n                        i18n_default_text='Click <0>Run</0> when you want to start trading, and click <0>Stop</0> when you want to stop.'\n                        components={[<strong key={0} />]}\n                    />,\n                ]}\n                media={'/assets/videos/dbot-onboarding-tour-step-6.mp4'}\n                step_index={6}\n            />\n        ),\n        ...joyride_props,\n        disableOverlay: false,\n    },\n    {\n        target: '#id-tutorials',\n        content: (\n            <TourSteps\n                label={<Localize i18n_default_text='Want to retake the tour?' />}\n                content={[\n                    <Text key={`${0}-id-tutorials`} as='p'>\n                        <Localize i18n_default_text={`Head to the Tutorials tab to do so.`} />\n                    </Text>,\n                ]}\n                step_index={7}\n                show_actions={false}\n                has_localize_component\n            />\n        ),\n        locale: { last: localize('Got it, thanks!') },\n        ...joyride_props,\n        hideBackButton: true,\n        disableOverlay: false,\n    },\n];\n\nconst Step1 = ({ show_label = false }) => (\n    <div className='joyride-content'>\n        {show_label && (\n            <div className='joyride-content__left'>\n                <Localize i18n_default_text='Step 1 :' />\n            </div>\n        )}\n        <div className='joyride-content__left'>\n            <Localize\n                i18n_default_text={'First, set the <0>Trade parameters</0> block.'}\n                components={[<strong key={0} />]}\n            />\n        </div>\n        <div className='joyride-content__left joyride-content__sub-title'>\n            <Localize i18n_default_text='<0>1. Trade parameters:<0>' components={[<strong key={0} />]} />\n        </div>\n        <div className='joyride-content__left'>\n            <ul>\n                <li>\n                    <Localize\n                        i18n_default_text='First, set <0>Market</0> to Derived > Continuous Indices > Volatility 100 (1s) Index.'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n                <li>\n                    <Localize\n                        i18n_default_text='Then, set <0>Trade type</0> to Up/Down > Rise/Fall.'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n                <li>\n                    <Localize\n                        i18n_default_text='For <0>Contract type,</0> set it to Both.'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n                <li>\n                    <Localize\n                        i18n_default_text='For <0>Default candle interval,</0> set it to 1 minute'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n            </ul>\n        </div>\n    </div>\n);\n\nconst Step1A = () => (\n    <div className='joyride-content'>\n        <div className='joyride-content__left'>\n            <Localize\n                i18n_default_text='For <0>Trade options</0>, set it as below:'\n                components={[<strong key={0} />]}\n            />\n        </div>\n        <div className='joyride-content__left'>\n            <ul>\n                <li>\n                    <Localize i18n_default_text='<0>Duration</0>: Ticks 1' components={[<strong key={0} />]} />\n                </li>\n                <li>\n                    <Localize\n                        i18n_default_text='<0>Stake: USD</0> 10 (min: 0.35 - max: 50000)'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n            </ul>\n        </div>\n    </div>\n);\n\nconst Step2 = ({ show_label = false }) => (\n    <div className='joyride-content'>\n        {show_label && (\n            <div className='joyride-content__left'>\n                <Localize i18n_default_text='Step 2 :' />\n            </div>\n        )}\n\n        <div className='joyride-content__left'>\n            <Localize\n                i18n_default_text='Then, set the <0>Purchase conditions</0> block.'\n                components={[<strong key={0} />]}\n            />\n        </div>\n        <div className='joyride-content__left joyride-content__sub-title'>\n            <Localize i18n_default_text='<0>2. Purchase conditions</0>:' components={[<strong key={0} />]} />\n        </div>\n        <div className='joyride-content__left'>\n            <ul>\n                <li>\n                    <Localize i18n_default_text='<0>Purchase</0>: Rise' components={[<strong key={0} />]} />\n                </li>\n            </ul>\n        </div>\n    </div>\n);\n\nconst Step3 = ({ show_label = false }) => (\n    <div className='joyride-content'>\n        {show_label && (\n            <div className='joyride-content__left joyride-content__left__step-three'>\n                <Localize i18n_default_text='Step 3 :' />\n            </div>\n        )}\n\n        <div className='joyride-content__left'>\n            <Localize\n                i18n_default_text='The third block is <0>optional</0>. You may use this block if you want to sell your contract before it expires. For now, leave the block as it is. '\n                components={[<strong key={0} />]}\n            />\n        </div>\n    </div>\n);\n\nconst Step4 = ({ show_label = false }) => (\n    <div className='joyride-content'>\n        {show_label && (\n            <div className='joyride-content__left'>\n                <Localize i18n_default_text='Step 4 :' />\n            </div>\n        )}\n\n        <div className='joyride-content__left'>\n            <Localize\n                i18n_default_text='Next, go to <0>Utility tab</0> under the Blocks menu. Tap the drop-down arrow and hit <0>Loops</0>.'\n                components={[<strong key={0} />]}\n            />\n        </div>\n        <div className='joyride-content__left'>\n            <ul>\n                <li>\n                    <Localize\n                        i18n_default_text='Look for the <0>Repeat While/Until</0>, and click the + icon to add the block to the workspace area.'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n                <li>\n                    <Localize\n                        i18n_default_text='Choose <0>until</0> as the repeat option.'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n            </ul>\n            <div className='joyride-content__left joyride-content__with-icon'>\n                <div className='joyride-content__with-icon__left'>\n                    <LabelPairedCircleCheckMdFillIcon className='db-contract-card__result-icon' fill='#4bb4b3' />\n                </div>\n                <div className='joyride-content__with-icon__right'>\n                    <Localize\n                        i18n_default_text='Pro tip: You can also click and drag out the desired block'\n                        components={[<strong key={0} />]}\n                    />\n                </div>\n            </div>\n        </div>\n        <div>\n            <video autoPlay loop controls playsInline preload='auto' disablePictureInPicture controlsList='nodownload'>\n                <source src={'/assets/videos/bot-builder-tour-step-4.mp4'} type='video/mp4' />\n            </video>\n        </div>\n    </div>\n);\n\nconst Step5 = ({ show_label = false }) => (\n    <div className='joyride-content'>\n        {show_label && (\n            <div className='joyride-content__left'>\n                <Localize i18n_default_text='Step 5 :' />\n            </div>\n        )}\n\n        <div className='joyride-content__left'>\n            <Localize\n                i18n_default_text='Now, tap the <0>Analysis</0> drop-down arrow and hit <0>Contract</0>.'\n                components={[<strong key={0} />]}\n            />\n        </div>\n        <div className='joyride-content__left'>\n            <ul>\n                <li>\n                    <Localize\n                        i18n_default_text='Go to the <0>Last trade result</0> block and click + icon to add the <0>Result is Win</0> block to the workspace.'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n                <li>\n                    <Localize\n                        i18n_default_text='Then, drag the <0>Result is win</0> into the empty slot next to <0>repeat until</0> block.'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n                <li>\n                    <Localize\n                        i18n_default_text='Now, go to the <0>Restart trading conditions</0> block.'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n                <li>\n                    <Localize\n                        i18n_default_text='Drag the <0>Trade again</0> block and add it into the <0>do</0> part of the <0>Repeat until</0> block.'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n            </ul>\n        </div>\n        <div>\n            <video autoPlay loop controls playsInline preload='auto' disablePictureInPicture controlsList='nodownload'>\n                <source src={'/assets/videos/bot-builder-tour-step-5.mp4'} type='video/mp4' />\n            </video>\n        </div>\n    </div>\n);\n\nconst Step6 = ({ show_label = false }) => (\n    <div className='joyride-content'>\n        {show_label && (\n            <div className='joyride-content__left'>\n                <Localize i18n_default_text='Step 6 :' />\n            </div>\n        )}\n\n        <div className='joyride-content__left'>\n            <Localize\n                i18n_default_text='Finally, drag and add the whole <0>Repeat</0> block to the <0>Restart trading conditions</0> block.'\n                components={[<strong key={0} />]}\n            />\n        </div>\n    </div>\n);\n\nexport const BOT_BUILDER_TOUR = [\n    {\n        target: '.animation__wrapper',\n        content: <Step1 show_label />,\n        placement: isDbotRTL() ? 'bottom' : 'right',\n        ...joyride_props,\n    },\n    {\n        target: '.animation__wrapper',\n        content: <Step1A />,\n        placement: isDbotRTL() ? 'bottom' : 'right',\n\n        ...joyride_props,\n    },\n    {\n        target: '.animation__wrapper',\n        content: <Step2 show_label />,\n        placement: isDbotRTL() ? 'bottom' : 'right',\n\n        ...joyride_props,\n    },\n    {\n        target: '.animation__wrapper',\n        content: <Step3 show_label />,\n        placement: isDbotRTL() ? 'bottom' : 'right',\n\n        ...joyride_props,\n    },\n    {\n        target: '.animation__wrapper',\n        content: <Step4 show_label />,\n        placement: isDbotRTL() ? 'bottom' : 'right',\n\n        ...joyride_props,\n    },\n    {\n        target: '.animation__wrapper',\n        content: <Step5 show_label />,\n        placement: isDbotRTL() ? 'bottom' : 'right',\n\n        ...joyride_props,\n    },\n    {\n        target: '.animation__wrapper',\n        content: <Step6 show_label />,\n        locale: { last: localize('Next') },\n        ...joyride_props,\n    },\n];\n\nexport type TMobileTourConfig = {\n    header: React.ReactElement;\n    content: Array<React.ReactElement>;\n    tour_step_key: number;\n    img?: string;\n    media?: string;\n};\n\nexport const BOT_BUILDER_MOBILE: TMobileTourConfig[] = [\n    {\n        header: <Localize i18n_default_text='Step 1' />,\n        content: [\n            <span key='step-1-wrapper'>\n                <Localize key='step-1' i18n_default_text={`First, click the Import icon on the tool bar.`} />\n            </span>,\n        ],\n        tour_step_key: 1,\n    },\n    {\n        header: <Localize i18n_default_text='Step 2' />,\n        content: [\n            <span key='step-2-wrapper'>\n                <Localize\n                    key='step-2'\n                    i18n_default_text={`Next, import your bot directly from your mobile device or from Google Drive.`}\n                />\n            </span>,\n        ],\n        tour_step_key: 2,\n    },\n    {\n        header: <Localize i18n_default_text='Step 3' />,\n        content: [\n            <span key='step-3-wrapper'>\n                <Localize\n                    key='step-3'\n                    i18n_default_text={`Once imported, you will see a preview of the bot on the workspace. Click run to start trading with this bot.`}\n                />\n            </span>,\n        ],\n        tour_step_key: 3,\n    },\n];\n\nexport const DBOT_ONBOARDING_MOBILE: TMobileTourConfig[] = [\n    {\n        header: <Localize i18n_default_text='Welcome to Deriv Bot' />,\n        content: [\n            <span key='get-started-on-deriv-bot-wrapper'>\n                <Localize\n                    key='get-started-on-deriv-bot'\n                    i18n_default_text='Lets take a quick tour to discover how Deriv Bot works. Press <0>Start</0> to begin.'\n                    components={[<strong key={0} />]}\n                />\n            </span>,\n        ],\n        tour_step_key: 1,\n    },\n    {\n        header: <Localize i18n_default_text='Import or choose your bot' />,\n        content: [\n            <span key='import-or-choose-your-bot-wrapper'>\n                <Localize\n                    key='import-or-choose-your-bot'\n                    i18n_default_text='Import your bot or tap Quick Strategies to choose from the ready-to-use bot templates.'\n                />\n            </span>,\n        ],\n        media: '/assets/videos/dbot-mobile-onboarding-step-1.mp4',\n        tour_step_key: 2,\n    },\n    {\n        header: <Localize i18n_default_text='Monitor the market' />,\n        content: [\n            <span key='monitor-the-market-wrapper'>\n                <Localize\n                    key='monitor-the-market'\n                    i18n_default_text='View the market price of your favourite assets.'\n                />\n            </span>,\n        ],\n        media: '/assets/videos/dbot-mobile-onboarding-step-2.mp4',\n        tour_step_key: 3,\n    },\n    {\n        header: <Localize i18n_default_text='Learn more with our tutorials' />,\n        content: [\n            <span key='learn-more-with-our-tutorials-wrapper'>\n                <Localize\n                    key='learn-more-with-our-tutorials'\n                    i18n_default_text='Explore the video guides and FAQs to build your bot in the tutorials tab.'\n                />\n            </span>,\n        ],\n        media: '/assets/videos/dbot-mobile-onboarding-step-3.mp4',\n        tour_step_key: 4,\n    },\n    {\n        header: <Localize i18n_default_text='Use these shortcuts' />,\n        img: getImageLocation('dbot-mobile-onboarding-step-4.png'),\n        content: [\n            <span key='use-these-shortcuts-wrapper'>\n                <Localize\n                    key='use-these-shortcuts'\n                    i18n_default_text='You can also import or build your bot using any of these shortcuts.'\n                />\n            </span>,\n        ],\n        tour_step_key: 5,\n    },\n    {\n        header: <Localize i18n_default_text='Check your bots performance' />,\n        media: '/assets/videos/dbot-mobile-onboarding-step-5.mp4',\n        content: [\n            <span key='check-your-bots-performance-wrapper'>\n                <Localize\n                    key='check-your-bots-performance'\n                    i18n_default_text='See how your bot is doing in real-time.'\n                />\n                ,\n            </span>,\n        ],\n        tour_step_key: 6,\n    },\n    {\n        header: <Localize i18n_default_text='Run your bot' />,\n        media: '/assets/videos/dbot-mobile-onboarding-step-6.mp4',\n        content: [\n            <span key='run-your-bot-wrapper'>\n                <Localize\n                    key='run-your-bot'\n                    i18n_default_text='Click <0>Run</0> when you want to start trading, and click <0>Stop</0> when you want to stop.'\n                    components={[<strong key={0} />]}\n                />\n            </span>,\n        ],\n        tour_step_key: 7,\n    },\n    {\n        header: <Localize i18n_default_text='Want to retake the tour?' />,\n        img: getImageLocation('dbot-mobile-onboarding-step-7.png'),\n        content: [\n            <span key='want-to-retake-the-tour-wrapper'>\n                <Localize key='want-to-retake-the-tour' i18n_default_text='Head to the Tutorials tab to do so.' />\n            </span>,\n        ],\n        tour_step_key: 8,\n    },\n];\n\nexport const getTourDialogInfo = (is_mobile: boolean) => {\n    return is_mobile ? (\n        <Localize\n            key='tour-dialog-info-mobile'\n            i18n_default_text='Heres a quick guide on how to use Deriv Bot on the go.'\n        />\n    ) : (\n        <Localize key='tour-dialog-info-desktop' i18n_default_text='Learn how to build a bot with a simple strategy.' />\n    );\n};\n\nexport const getTourDialogAction = (is_mobile: boolean) => {\n    if (is_mobile) {\n        return (\n            <Localize\n                key='tour-dialog-action-mobile'\n                i18n_default_text='You can import a bot from your mobile device or from Google drive, see a preview in the bot builder, and start trading by running the bot.'\n            />\n        );\n    }\n    return '';\n};\n\nexport const onboarding_tour_header = (\n    <Localize key='onboarding-tour-header' i18n_default_text='Welcome to Deriv Bot' />\n);\n\nexport const getBotBuilderTourHeader = (is_mobile: boolean) => {\n    if (is_mobile) {\n        return <Localize key='tour_header-mobile' i18n_default_text='Bot Builder guide' />;\n    }\n    return <Localize key='tour_header-desktop' i18n_default_text=\"Let's build a Bot!\" />;\n};\n",
            "size_bytes": 22028
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Trade Definition/multiplier_take_profit.js": {
            "content": "import { getCurrencyDisplayCode } from '@/components/shared';\nimport { localize } from '@deriv-com/translations';\nimport { config } from '../../../../constants/config';\nimport { modifyContextMenu, setCurrency } from '../../../utils';\n\nconst description = localize(\n    'Your contract is closed automatically when your profit is more than or equals to this amount. This block can only be used with the multipliers trade type.'\n);\n\nwindow.Blockly.Blocks.multiplier_take_profit = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Take Profit: {{ currency }} {{ take_profit }}', {\n                currency: '%1',\n                take_profit: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_label',\n                    name: 'CURRENCY_LIST',\n                    text: getCurrencyDisplayCode(config().lists.CURRENCY[0]),\n                },\n                {\n                    type: 'input_value',\n                    name: 'AMOUNT',\n                    check: 'Number',\n                },\n            ],\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: description,\n            category: window.Blockly.Categories.Trade_Definition,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    meta() {\n        return {\n            display_name: localize('Take Profit (Multiplier)'),\n            description,\n        };\n    },\n    onchange(event) {\n        if (!this.workspace || window.Blockly.derivWorkspace.isFlyoutVisible || this.workspace.isDragging()) {\n            return;\n        }\n        if (\n            (event.type === window.Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id)) ||\n            (event.type === window.Blockly.Events.BLOCK_DRAG && !event.isStart) ||\n            (event.type === window.Blockly.Events.BLOCK_CHANGE && !event.isStart)\n        ) {\n            setCurrency(this);\n        }\n    },\n    restricted_parents: ['trade_definition_multiplier'],\n    getRequiredValueInputs() {\n        const field_input = this.getInput('AMOUNT');\n        if (field_input.connection.targetBlock()) {\n            return {\n                AMOUNT: input => {\n                    const input_number = Number(input);\n                    this.error_message = localize('Take profit must be a positive number.');\n                    return !isNaN(input_number) && input_number <= 0;\n                },\n            };\n        }\n        return {};\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.multiplier_take_profit = () => {};\n",
            "size_bytes": 2856
        },
        "src/components/shared/utils/constants/barriers.ts": {
            "content": "//Configures which trade types have barrier rendered when selected\nexport const CONTRACT_SHADES = {\n    ACCU: 'NONE_DOUBLE',\n    CALL: 'ABOVE',\n    PUT: 'BELOW',\n    CALLE: 'ABOVE',\n    PUTE: 'BELOW',\n    EXPIRYRANGE: 'BETWEEN',\n    EXPIRYMISS: 'OUTSIDE',\n    RANGE: 'BETWEEN',\n    UPORDOWN: 'OUTSIDE',\n    ONETOUCH: 'NONE_SINGLE', // no shade\n    NOTOUCH: 'NONE_SINGLE', // no shade\n    ASIANU: 'ABOVE',\n    ASIAND: 'BELOW',\n    MULTUP: 'ABOVE',\n    MULTDOWN: 'BELOW',\n    TURBOSLONG: 'NONE_SINGLE',\n    TURBOSSHORT: 'NONE_SINGLE',\n    VANILLALONGCALL: 'NONE_SINGLE',\n    VANILLALONGPUT: 'NONE_SINGLE',\n    RESETCALL: 'ABOVE',\n    RESETPUT: 'BELOW',\n    LBFLOATPUT: 'NONE_SINGLE',\n    LBFLOATCALL: 'NONE_SINGLE',\n    LBHIGHLOW: 'NONE_DOUBLE',\n} as const;\n\n// Default non-shade according to number of barriers\nexport const DEFAULT_SHADES = {\n    1: 'NONE_SINGLE',\n    2: 'NONE_DOUBLE',\n};\n\nexport const BARRIER_COLORS = {\n    GREEN: '#4bb4b3',\n    RED: '#ec3f3f',\n    ORANGE: '#ff6444',\n    BLUE: '#377cfc',\n};\n\nexport const BARRIER_LINE_STYLES = {\n    DASHED: 'dashed',\n    DOTTED: 'dotted',\n    SOLID: 'solid',\n};\n",
            "size_bytes": 1116
        },
        "src/components/shared/utils/digital-options/index.ts": {
            "content": "export * from './digital-options';\n",
            "size_bytes": 35
        },
        "src/analytics/rudderstack-tutorials.ts": {
            "content": "import { Analytics, TEvents } from '@deriv-com/analytics';\nimport { ACTION, form_name, TSelectedStrategy } from './constants';\nimport { getRsStrategyType } from './utils';\n\nexport const rudderStackSendSelectQsStrategyGuideEvent = ({ selected_strategy }: TSelectedStrategy) => {\n    Analytics.trackEvent('ce_bot_form', {\n        action: ACTION.SELECT_QUICK_STRATEGY_GUIDE,\n        form_name,\n        subpage_name: 'tutorials',\n        strategy_name: getRsStrategyType(selected_strategy),\n    });\n};\n\nexport const rudderStackSendTutorialSearchEvent = ({ search_term }: TEvents['ce_bot_form']) => {\n    Analytics.trackEvent('ce_bot_form', {\n        action: 'search',\n        form_name: 'ce_bot_form',\n        subpage_name: 'tutorials',\n        search_term,\n    });\n};\n",
            "size_bytes": 765
        },
        "src/components/shared_ui/tabs/tab.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { Icon } from '@/utils/tmp/dummy';\nimport Counter from '../counter';\n\ntype TTabProps = {\n    active_icon_color?: string;\n    active_tab_ref?: React.RefObject<HTMLLIElement> | null;\n    bottom?: boolean;\n    className?: string;\n    count: number;\n    header_content: React.ReactElement;\n    header_fit_content?: boolean;\n    icon_color?: string;\n    icon_size?: number;\n    icon: string;\n    id?: string;\n    is_active: boolean;\n    is_label_hidden?: boolean;\n    is_scrollable?: boolean;\n    label: string;\n    onClick: React.MouseEventHandler<HTMLLIElement>;\n    setActiveLineStyle: () => void;\n    top: boolean;\n};\n\nconst Tab = ({\n    active_icon_color = '',\n    active_tab_ref,\n    bottom = false,\n    className = '',\n    count,\n    header_content,\n    header_fit_content = false,\n    icon_color = '',\n    icon_size = 0,\n    icon,\n    id = '',\n    is_active,\n    is_label_hidden,\n    is_scrollable,\n    label,\n    onClick,\n    setActiveLineStyle,\n    top,\n}: TTabProps) => {\n    React.useEffect(() => {\n        setActiveLineStyle();\n    }, [count, label, header_content, setActiveLineStyle]);\n\n    const classes = classNames('dc-tabs__item', {\n        'dc-tabs__active': is_active,\n        [`dc-tabs__active--${className}`]: className && is_active,\n        'dc-tabs__item--top': top,\n        'dc-tabs__item--bottom': bottom,\n        'dc-tabs__item--header-fit-content': header_fit_content,\n        'dc-tabs__item--is-hidden': is_label_hidden,\n        [`dc-tabs__item--${className}`]: className,\n        'dc-tabs__item--is-scrollable-and-active': is_scrollable && is_active,\n    });\n    const title_color = is_active ? active_icon_color : icon_color;\n    return (\n        <li id={id} className={classes} style={{ color: title_color }} onClick={onClick} ref={active_tab_ref}>\n            {icon && <Icon icon={icon} size={icon_size} custom_color={title_color} className='dc-tabs__item__icon' />}\n            {header_content || label}\n            {!!count && <Counter className='dc-tabs__item__counter' count={count} />}\n        </li>\n    );\n};\n\nexport default Tab;\n",
            "size_bytes": 2136
        },
        "src/utils/help-content/help-strings/read_details.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize('This block gives you information about your last contract.'),\n        localize('You can choose to see one of the following:'),\n        localize('- Deal reference ID: the reference ID of the contract'),\n        localize('- Purchase price: the purchase price (stake) of the contract'),\n        localize('- Payout: the payout of the contract'),\n        localize('- Profit: the profit youve earned'),\n        localize('- Contract type: the name of the contract type such as Rise, Fall, Touch, No Touch, et.'),\n        localize('- Entry time: the starting time of the contract'),\n        localize('- Entry value: the value of the first tick of the contract'),\n        localize('- Exit time: the contract expiration time'),\n        localize('- Exit value: the value of the last tick of the contract'),\n        localize(\n            '- Barrier: the barrier value of the contract (applicable to barrier-based trade types such as stays in/out, touch/no touch, etc.)'\n        ),\n        localize('- Result: the result of the last contract: \"win\" or \"loss\"'),\n    ],\n};\n",
            "size_bytes": 1170
        },
        "src/components/shared/utils/helpers/active-symbols.ts": {
            "content": "import { ActiveSymbols } from '@deriv/api-types';\nimport { WS } from '../../services';\nimport { LocalStore } from '../storage';\n\ntype TIsSymbolOpen = {\n    exchange_is_open: 0 | 1;\n};\n\n// eslint-disable-next-line default-param-last\nexport const isMarketClosed = (active_symbols: ActiveSymbols = [], symbol: string) => {\n    if (!active_symbols.length) return false;\n    // Handle both old and new field names for backward compatibility\n    const getSymbolField = (item: any) => item.underlying_symbol || item.symbol;\n    return active_symbols.filter(x => getSymbolField(x) === symbol)[0]\n        ? !active_symbols.filter(symbol_info => getSymbolField(symbol_info) === symbol)[0].exchange_is_open\n        : false;\n};\n\nexport const pickDefaultSymbol = async (active_symbols: ActiveSymbols = []) => {\n    if (!active_symbols.length) return '';\n    const fav_open_symbol = await getFavoriteOpenSymbol(active_symbols);\n    if (fav_open_symbol) return fav_open_symbol;\n    const default_open_symbol = await getDefaultOpenSymbol(active_symbols);\n    return default_open_symbol;\n};\n\nconst getFavoriteOpenSymbol = async (active_symbols: ActiveSymbols) => {\n    try {\n        const chart_favorites = LocalStore.get('cq-favorites');\n        if (!chart_favorites) return undefined;\n        const client_favorite_markets: string[] = JSON.parse(chart_favorites)['chartTitle&Comparison'];\n\n        const client_favorite_list = client_favorite_markets.map(client_fav_symbol =>\n            active_symbols.find(\n                symbol_info =>\n                    (symbol_info as any).underlying_symbol === client_fav_symbol ||\n                    symbol_info.symbol === client_fav_symbol\n            )\n        );\n        if (client_favorite_list) {\n            const client_first_open_symbol = client_favorite_list.filter(symbol => symbol).find(isSymbolOpen);\n            if (client_first_open_symbol) {\n                const symbolField =\n                    (client_first_open_symbol as any).underlying_symbol || client_first_open_symbol.symbol;\n                const is_symbol_offered = await isSymbolOffered(symbolField);\n                if (is_symbol_offered) return symbolField;\n            }\n        }\n        return undefined;\n    } catch (error) {\n        return undefined;\n    }\n};\n\nconst getDefaultOpenSymbol = async (active_symbols: ActiveSymbols) => {\n    const default_open_symbol =\n        (await findSymbol(active_symbols, '1HZ100V')) ||\n        (await findFirstSymbol(active_symbols, /random_index/)) ||\n        (await findFirstSymbol(active_symbols, /major_pairs/));\n    if (default_open_symbol) {\n        return (default_open_symbol as any).underlying_symbol || default_open_symbol.symbol;\n    }\n    const majorPairsSymbol = active_symbols.find(symbol_info => symbol_info.submarket === 'major_pairs');\n    return majorPairsSymbol ? (majorPairsSymbol as any).underlying_symbol || majorPairsSymbol.symbol : undefined;\n};\n\nconst findSymbol = async (active_symbols: ActiveSymbols, symbol: string) => {\n    const first_symbol = active_symbols.find(\n        symbol_info =>\n            ((symbol_info as any).underlying_symbol === symbol || symbol_info.symbol === symbol) &&\n            isSymbolOpen(symbol_info)\n    );\n    if (first_symbol) {\n        const symbolField = (first_symbol as any).underlying_symbol || first_symbol.symbol;\n        const is_symbol_offered = await isSymbolOffered(symbolField);\n        if (is_symbol_offered) return first_symbol;\n    }\n    return undefined;\n};\n\nconst findFirstSymbol = async (active_symbols: ActiveSymbols, pattern: RegExp) => {\n    const first_symbol = active_symbols.find(\n        symbol_info => pattern.test(symbol_info.submarket) && isSymbolOpen(symbol_info)\n    );\n    if (first_symbol) {\n        const symbolField = (first_symbol as any).underlying_symbol || first_symbol.symbol;\n        const is_symbol_offered = await isSymbolOffered(symbolField);\n        if (is_symbol_offered) return first_symbol;\n    }\n    return undefined;\n};\n\ntype TFindFirstOpenMarket = { category?: string; subcategory?: string } | undefined;\n\nexport const findFirstOpenMarket = async (\n    active_symbols: ActiveSymbols,\n    markets: string[]\n): Promise<TFindFirstOpenMarket> => {\n    const market = markets.shift();\n    const first_symbol = active_symbols.find(symbol_info => market === symbol_info.market && isSymbolOpen(symbol_info));\n    if (first_symbol) {\n        const symbolField = (first_symbol as any).underlying_symbol || first_symbol.symbol;\n        const is_symbol_offered = await isSymbolOffered(symbolField);\n        if (is_symbol_offered) return { category: first_symbol?.market, subcategory: first_symbol?.submarket };\n    }\n    if (markets.length > 0) return findFirstOpenMarket(active_symbols, markets);\n    return undefined;\n};\n\nconst isSymbolOpen = (symbol?: TIsSymbolOpen) => symbol?.exchange_is_open === 1;\n\nconst isSymbolOffered = async (symbol?: string) => {\n    const r = await WS.storage.contractsFor(symbol);\n    return !['InvalidSymbol', 'InputValidationFailed'].includes(r.error?.code);\n};\n\nexport type TActiveSymbols = {\n    symbol?: string; // Keep for backward compatibility\n    underlying_symbol?: string; // New field name\n    display_name: string;\n}[];\n\n// eslint-disable-next-line default-param-last\nexport const getSymbolDisplayName = (active_symbols: TActiveSymbols = [], symbol: string) =>\n    (\n        active_symbols.find(\n            symbol_info =>\n                symbol_info.underlying_symbol?.toUpperCase() === symbol.toUpperCase() ||\n                symbol_info.symbol?.toUpperCase() === symbol.toUpperCase()\n        ) || {\n            display_name: '',\n        }\n    ).display_name;\n",
            "size_bytes": 5652
        },
        "src/components/shared_ui/currency-badge/currency-badge.tsx": {
            "content": "import { getCurrencyDisplayCode } from '@/components/shared';\nimport Text from '../text';\n\ntype TCurrencyBadgeProps = {\n    currency: string;\n};\n\nconst CurrencyBadge = ({ currency }: TCurrencyBadgeProps) => (\n    <Text className='dc-currency-badge' color='colored-background' lineHeight='unset' size='xxxs' weight='bold'>\n        {getCurrencyDisplayCode(currency)}\n    </Text>\n);\n\nexport default CurrencyBadge;\n",
            "size_bytes": 411
        },
        "src/components/shared_ui/toggle-switch/index.ts": {
            "content": "import ToggleSwitch from './toggle-switch';\nimport './toggle-switch.scss';\n\nexport default ToggleSwitch;\n",
            "size_bytes": 105
        },
        "analysis-tool/Benanalysistool-final-main/components/loading-screen.tsx": {
            "content": "\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Progress } from \"@/components/ui/progress\"\n\nexport function LoadingScreen({ onComplete }: { onComplete: () => void }) {\n  const [progress, setProgress] = useState(0)\n\n  useEffect(() => {\n    const timer = setInterval(() => {\n      setProgress((prev) => {\n        if (prev >= 100) {\n          clearInterval(timer)\n          setTimeout(() => onComplete(), 500)\n          return 100\n        }\n        return prev + 2\n      })\n    }, 30)\n\n    return () => clearInterval(timer)\n  }, [onComplete])\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-[#0a0e27] via-[#0f1629] to-[#1a1f3a]\">\n      <div className=\"w-full max-w-md px-6\">\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-blue-400 to-cyan-400 bg-clip-text text-transparent\">\n            Bena Analysis Tool\n          </h1>\n          <p className=\"text-gray-400 text-lg mb-2\">Advanced Trading Analysis Platform</p>\n          <p className=\"text-gray-500 text-sm\">Loading your trading dashboard...</p>\n        </div>\n\n        <div className=\"space-y-4 mb-8\">\n          <Progress value={progress} className=\"h-3\" />\n          <div className=\"text-center\">\n            <span className=\"text-2xl font-bold text-cyan-400\">{progress}%</span>\n          </div>\n        </div>\n\n        <div className=\"bg-gradient-to-br from-[#0f1629]/80 to-[#1a2235]/80 border border-blue-500/20 rounded-xl p-6 shadow-[0_0_30px_rgba(59,130,246,0.2)]\">\n          <h3 className=\"text-lg font-bold text-white mb-4 text-center\">Contact Information</h3>\n          <div className=\"space-y-3 text-sm\">\n            <div className=\"flex items-center justify-between\">\n              <span className=\"text-gray-400\">Email:</span>\n              <span className=\"text-cyan-400 font-medium\">mbuguabenson2020@gmail.com</span>\n            </div>\n            <div className=\"flex items-center justify-between\">\n              <span className=\"text-gray-400\">WhatsApp:</span>\n              <span className=\"text-cyan-400 font-medium\">+254757722344</span>\n            </div>\n            <div className=\"flex items-center justify-between\">\n              <span className=\"text-gray-400\">Support:</span>\n              <span className=\"text-emerald-400 font-medium\">24/7 Available</span>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"mt-6 text-center\">\n          <p className=\"text-xs text-gray-500\"> 2025 Bena Analysis Tool. All rights reserved.</p>\n        </div>\n      </div>\n    </div>\n  )\n}\n",
            "size_bytes": 2630
        },
        "src/components/shared_ui/mobile-dialog/index.ts": {
            "content": "import MobileDialog from './mobile-dialog';\nimport './mobile-dialog.scss';\n\nexport default MobileDialog;\n",
            "size_bytes": 105
        },
        "jest.config.ts": {
            "content": "/**\n * For a detailed explanation regarding each configuration property, visit:\n * https://jestjs.io/docs/configuration\n */\n\nimport type { Config } from 'jest';\n\nconst config: Config = {\n    // All imported modules in your tests should be mocked automatically\n    // automock: false,\n\n    // Stop running tests after `n` failures\n    // bail: 0,\n\n    // The directory where Jest should store its cached dependency information\n    // cacheDirectory: \"/private/var/folders/sb/ck126x0n5zgf7g12_nb8gm0h0000gn/T/jest_dx\",\n\n    // Automatically clear mock calls, instances, contexts and results before every test\n    clearMocks: true,\n\n    // Indicates whether the coverage information should be collected while executing the test\n    collectCoverage: true,\n\n    // An array of glob patterns indicating a set of files for which coverage information should be collected\n    // collectCoverageFrom: undefined,\n\n    // The directory where Jest should output its coverage files\n    coverageDirectory: 'coverage',\n\n    // An array of regexp pattern strings used to skip coverage collection\n    coveragePathIgnorePatterns: ['/node_modules/'],\n\n    // Indicates which provider should be used to instrument code for coverage\n    // coverageProvider: \"babel\",\n\n    // A list of reporter names that Jest uses when writing coverage reports\n    // coverageReporters: [\n    //   \"json\",\n    //   \"text\",\n    //   \"lcov\",\n    //   \"clover\"\n    // ],\n\n    // An object that configures minimum threshold enforcement for coverage results\n    // coverageThreshold: undefined,\n\n    // A path to a custom dependency extractor\n    // dependencyExtractor: undefined,\n\n    // Make calling deprecated APIs throw helpful error messages\n    // errorOnDeprecated: false,\n\n    // The default configuration for fake timers\n    // fakeTimers: {\n    //   \"enableGlobally\": false\n    // },\n\n    // Force coverage collection from ignored files using an array of glob patterns\n    // forceCoverageMatch: [],\n\n    // A path to a module which exports an async function that is triggered once before all test suites\n    // globalSetup: undefined,\n\n    // A path to a module which exports an async function that is triggered once after all test suites\n    // globalTeardown: undefined,\n\n    // A set of global variables that need to be available in all test environments\n    // globals: {},\n\n    // The maximum amount of workers used to run your tests. Can be specified as % or a number. E.g. maxWorkers: 10% will use 10% of your CPU amount + 1 as the maximum worker number. maxWorkers: 2 will use a maximum of 2 workers.\n    // maxWorkers: \"50%\",\n\n    // An array of directory names to be searched recursively up from the requiring module's location\n    moduleDirectories: ['node_modules', 'bower_components', 'shared'],\n\n    // An array of file extensions your modules use\n    moduleFileExtensions: ['js', 'mjs', 'cjs', 'jsx', 'ts', 'tsx', 'json', 'node'],\n\n    // A map from regular expressions to module names or to arrays of module names that allow to stub out resources with a single module\n    moduleNameMapper: {\n        '\\\\.(css|less|scss)$': '<rootDir>/__mocks__/styleMock.js',\n        '\\\\.(gif|ttf|eot|svg)$': '<rootDir>/__mocks__/fileMock.js',\n        'react-dom/server': '<rootDir>/__mocks__/react-dom-server.js',\n        '@deriv-com/translations': '<rootDir>/__mocks__/translation.mock.js',\n        '@deriv-com/ui': '<rootDir>/node_modules/@deriv-com/ui',\n        '@deriv-com/auth-client': '<rootDir>/node_modules/@deriv-com/auth-client',\n        '^@/external/(.*)$': '<rootDir>/src/external/$1',\n        '^@/utils/(.*)$': '<rootDir>/src/utils/$1',\n        '^@/components/(.*)$': '<rootDir>/src/components/$1',\n        '^@/constants/(.*)$': '<rootDir>/src/constants/$1',\n        '^@/hooks/(.*)$': '<rootDir>/src/hooks/$1',\n        '^@/stores/(.*)$': '<rootDir>/src/stores/$1',\n        '^@/pages/(.*)$': '<rootDir>/src/pages/$1',\n    },\n\n    // An array of regexp pattern strings, matched against all module paths before considered 'visible' to the module loader\n    // modulePathIgnorePatterns: [],\n\n    // Activates notifications for test results\n    // notify: false,\n\n    // An enum that specifies notification mode. Requires { notify: true }\n    // notifyMode: \"failure-change\",\n\n    // A preset that is used as a base for Jest's configuration\n    preset: 'ts-jest',\n\n    // Run tests from one or more projects\n    // projects: undefined,\n\n    // Use this configuration option to add custom reporters to Jest\n    // reporters: undefined,\n\n    // Automatically reset mock state before every test\n    // resetMocks: false,\n\n    // Reset the module registry before running each individual test\n    // resetModules: false,\n\n    // A path to a custom resolver\n    // resolver: undefined,\n\n    // Automatically restore mock state and implementation before every test\n    // restoreMocks: false,\n\n    // The root directory that Jest should scan for tests and modules within\n    rootDir: __dirname,\n\n    // A list of paths to directories that Jest should use to search for files in\n    // roots: [\n    //   \"<rootDir>\"\n    // ],\n\n    // Allows you to use a custom runner instead of Jest's default test runner\n    // runner: \"jest-runner\",\n\n    // The paths to modules that run some code to configure or set up the testing environment before each test\n    // setupFiles: ['<rootDir>/jest.setup.ts'],\n\n    // A list of paths to modules that run some code to configure or set up the testing framework before each test\n    setupFilesAfterEnv: ['<rootDir>/jest.setup.ts'],\n\n    // The number of seconds after which a test is considered as slow and reported as such in the results.\n    // slowTestThreshold: 5,\n\n    // A list of paths to snapshot serializer modules Jest should use for snapshot testing\n    // snapshotSerializers: [],\n\n    // The test environment that will be used for testing\n    testEnvironment: 'jsdom',\n\n    // Options that will be passed to the testEnvironment\n    // testEnvironmentOptions: {},\n\n    // Adds a location field to test results\n    // testLocationInResults: false,\n\n    // The glob patterns Jest uses to detect test files\n    testMatch: ['**/__tests__/**/*.[jt]s?(x)', '**/?(*.)+(spec|test).[tj]s?(x)'],\n\n    // An array of regexp pattern strings that are matched against all test paths, matched tests are skipped\n    // testPathIgnorePatterns: [\n    //   \"/node_modules/\"\n    // ],\n\n    // The regexp pattern or array of patterns that Jest uses to detect test files\n    // testRegex: [],\n\n    // This option allows the use of a custom results processor\n    // testResultsProcessor: undefined,\n\n    // This option allows use of a custom test runner\n    // testRunner: \"jest-circus/runner\",\n\n    // A map from regular expressions to paths to transformers\n    transform: {\n        '^.+\\\\.(js|jsx)$': 'babel-jest',\n        '^.+\\\\.tsx?$': 'babel-jest',\n        '^.+\\\\.xml$': 'jest-transform-stub',\n    },\n\n    // An array of regexp pattern strings that are matched against all source file paths, matched files will skip transformation\n    transformIgnorePatterns: ['/node_modules/(?!@deriv-com/ui|@deriv-com/auth-client).+\\\\.js$'],\n\n    // An array of regexp pattern strings that are matched against all modules before the module loader will automatically return a mock for them\n    // unmockedModulePathPatterns: undefined,\n\n    // Indicates whether each individual test should be reported during the run\n    // verbose: undefined,\n\n    // An array of regexp patterns that are matched against all source file paths before re-running tests in watch mode\n    // watchPathIgnorePatterns: [],\n\n    // Whether to use watchman for file crawling\n    // watchman: true,\n};\n\nexport default config;\n",
            "size_bytes": 7682
        },
        "src/external/bot-skeleton/services/api/network_monitor.js": {
            "content": "export default class NetworkMonitor {\n    constructor(apiInstance, parentElement) {\n        this.api = apiInstance;\n        this.parentElement = parentElement;\n        this.addEvents();\n    }\n\n    addEvents() {\n        if ('onLine' in navigator) {\n            window.addEventListener('online', () => this.setStatus());\n            window.addEventListener('offline', () => this.setStatus());\n        } else {\n            navigator.onLine = true;\n            setInterval(() => this.setStatus(), 10000);\n        }\n        this.setStatus();\n    }\n\n    setStatus() {\n        if (navigator.onLine) {\n            this.parentElement.html(\"<span class='connecting'></span>\");\n            this.api.send({ ping: '1' }).then(() => {\n                this.parentElement.html(\"<span class='online'></span>\");\n            });\n        } else {\n            this.parentElement.html(\"<span class='offline'></span>\");\n        }\n    }\n}\n",
            "size_bytes": 915
        },
        "src/components/trade-animation/circular-wrapper.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\n\ntype TCircularWrapper = {\n    className?: string;\n};\n\nconst CircularWrapper: React.FC<TCircularWrapper> = ({ className }) => (\n    <div className={classNames('circular-wrapper', className)}>\n        <span className='static-circle' />\n        <span className='dynamic-circle' />\n    </div>\n);\n\nexport default CircularWrapper;\n",
            "size_bytes": 390
        },
        "src/components/shared/utils/loader/index.ts": {
            "content": "export * from './lazy-load';\n",
            "size_bytes": 29
        },
        "src/components/unhandled-error-modal/unhandled-error-modal.tsx": {
            "content": "import React from 'react';\nimport { DerivLightUserErrorIcon } from '@deriv/quill-icons/Illustration';\nimport { getDefaultError } from '../shared/utils/constants';\nimport Button from '../shared_ui/button';\nimport DesktopWrapper from '../shared_ui/desktop-wrapper';\nimport MobileDialog from '../shared_ui/mobile-dialog';\nimport MobileWrapper from '../shared_ui/mobile-wrapper';\nimport Modal from '../shared_ui/modal';\nimport Text from '../shared_ui/text';\n\nconst ModalContent = () => (\n    <div className='unhandled-error'>\n        <DerivLightUserErrorIcon height='120px' width='120px' />\n\n        <Text\n            className='da-icon-with-message__text'\n            as='p'\n            size='s'\n            color='general'\n            lineHeight='xxl'\n            align='center'\n            weight='bold'\n        >\n            {getDefaultError().header}\n        </Text>\n        <Text\n            className='da-icon-with-message__text__desc'\n            as='p'\n            size='xs'\n            color='general'\n            lineHeight='xxs'\n            align='center'\n        >\n            {getDefaultError().description}\n        </Text>\n        <Button onClick={() => location.reload()} has_effect primary large text={getDefaultError().cta_label} />\n    </div>\n);\n\nconst UnhandledErrorModal = () => {\n    const [is_page_error_modal_open, setPageErrorModalOpen] = React.useState<boolean>(false);\n\n    React.useEffect(() => {\n        setPageErrorModalOpen(true);\n    }, []);\n\n    const togglePageErrorModal = () => {\n        setPageErrorModalOpen(!is_page_error_modal_open);\n    };\n\n    return (\n        <Modal\n            has_close_icon\n            width='440px'\n            height='284px'\n            is_open={is_page_error_modal_open}\n            toggleModal={togglePageErrorModal}\n        >\n            <DesktopWrapper>\n                <Modal.Body>\n                    <ModalContent />\n                </Modal.Body>\n            </DesktopWrapper>\n            <MobileWrapper>\n                <MobileDialog\n                    portal_element_id='modal_root'\n                    has_close_icon\n                    visible={is_page_error_modal_open}\n                    onClose={togglePageErrorModal}\n                >\n                    <Modal.Body>\n                        <ModalContent />\n                    </Modal.Body>\n                </MobileDialog>\n            </MobileWrapper>\n        </Modal>\n    );\n};\n\nexport default UnhandledErrorModal;\n",
            "size_bytes": 2446
        },
        "src/external/bot-skeleton/scratch/blocks/Math/index.js": {
            "content": "import './math_change';\nimport './math_constant';\nimport './math_constrain';\nimport './math_modulo';\nimport './math_number';\nimport './math_number_positive';\nimport './math_number_property';\nimport './math_on_list';\nimport './math_random_float';\nimport './math_random_int';\nimport './math_round';\nimport './math_arithmetic';\nimport './math_single';\nimport './math_trig';\n",
            "size_bytes": 371
        },
        "src/external/bot-skeleton/scratch/blocks/Math/math_number.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../utils';\n\nwindow.Blockly.Blocks.math_number = {\n    init() {\n        this.jsonInit(this.definition());\n\n        const fieldInput = this.getField('NUM');\n        fieldInput.setValidator(input => this.numberValidator(input));\n    },\n    definition() {\n        return {\n            message0: '%1',\n            args0: [\n                {\n                    type: 'field_number',\n                    name: 'NUM',\n                    value: 0,\n                },\n            ],\n            output: 'Number',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Please use `.` as a decimal separator for fractional numbers.'),\n            category: window.Blockly.Categories.Mathematical,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    meta() {\n        return {\n            display_name: localize('Number'),\n            description: localize(\n                'Enter an integer or fractional number into this block. Please use `.` as a decimal separator for fractional numbers.'\n            ),\n        };\n    },\n    numberValidator(input) {\n        if (/^-?([0][.]|[0-9]+[.])?([0]|[1-9]){1,}$/.test(input) && input < Number.MAX_SAFE_INTEGER) {\n            return undefined;\n        }\n        return null;\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.math_number = block => {\n    const code = block?.getFieldValue('NUM');\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC];\n};\n",
            "size_bytes": 1794
        },
        "src/components/shared_ui/data-list/index.ts": {
            "content": "import DataList from './data-list';\nimport './data-list.scss';\n\nexport default DataList;\n",
            "size_bytes": 89
        },
        "src/components/contract-card-loading/__tests__/contract-card-running-bot.spec.tsx": {
            "content": "import { render, screen } from '@testing-library/react';\nimport ContractCardRunningBot, { message_running_bot } from '../contract-card-running-bot';\n\njest.mock('@/external/bot-skeleton/scratch/dbot.js', () => ({}));\n\ndescribe('ContractCardRunningBot', () => {\n    it('renders ContractCardRunningBot with the Icon component with correct props', () => {\n        const { container } = render(<ContractCardRunningBot />);\n        const svg = container.getElementsByTagName('svg')[0];\n        expect(svg).toBeInTheDocument();\n        expect(svg).toHaveAttribute('id', 'rotate-icon');\n        expect(svg).toHaveAttribute('height', '24');\n        expect(svg).toHaveAttribute('width', '16');\n    });\n\n    it('renders ContractCardRunningBot with the Text component with the correct text and styles', () => {\n        render(<ContractCardRunningBot />);\n        const text = screen.getByText(message_running_bot);\n        expect(text).toBeInTheDocument();\n        expect(text).toHaveClass('dc-contract-card-message');\n    });\n});\n",
            "size_bytes": 1019
        },
        "src/external/bot-skeleton/constants/index.ts": {
            "content": "export { config } from './config';\nexport { ErrorTypes, LogTypes, MessageTypes, unrecoverable_errors } from './messages';\nexport { save_types } from './save-type';\n",
            "size_bytes": 164
        },
        "src/app/app-root.tsx": {
            "content": "import { lazy, Suspense, useEffect, useRef, useState } from 'react';\nimport { observer } from 'mobx-react-lite';\nimport ErrorBoundary from '@/components/error-component/error-boundary';\nimport ErrorComponent from '@/components/error-component/error-component';\nimport ChunkLoader from '@/components/loader/chunk-loader';\nimport LogoutSuccessModal from '@/components/logout-success-modal';\nimport { api_base } from '@/external/bot-skeleton';\nimport { useStore } from '@/hooks/useStore';\nimport { localize } from '@deriv-com/translations';\nimport './app-root.scss';\n\nconst AppContent = lazy(() => import('./app-content'));\n\nconst AppRootLoader = () => {\n    return <ChunkLoader message={localize('Loading...')} />;\n};\n\nconst ErrorComponentWrapper = observer(() => {\n    const { common } = useStore();\n\n    if (!common.error) return null;\n\n    return (\n        <ErrorComponent\n            header={common.error?.header}\n            message={common.error?.message}\n            redirect_label={common.error?.redirect_label}\n            redirectOnClick={common.error?.redirectOnClick}\n            should_clear_error_on_click={common.error?.should_clear_error_on_click}\n            setError={common.setError}\n            redirect_to={common.error?.redirect_to}\n            should_redirect={common.error?.should_redirect}\n        />\n    );\n});\n\nconst AppRoot = () => {\n    const store = useStore();\n    const api_base_initialized = useRef(false);\n    const [is_api_initialized, setIsApiInitialized] = useState(false);\n\n    // Initialize API\n    useEffect(() => {\n        const timeoutId = setTimeout(() => {\n            if (!is_api_initialized) {\n                setIsApiInitialized(true);\n            }\n        }, 5000);\n\n        const initializeApi = async () => {\n            if (!api_base_initialized.current) {\n                try {\n                    await api_base.init();\n                    api_base_initialized.current = true;\n                } catch (error) {\n                    console.error('API initialization failed:', error);\n                    api_base_initialized.current = false;\n                } finally {\n                    setIsApiInitialized(true);\n                    clearTimeout(timeoutId); // Clear timeout if API init completes\n                }\n            }\n        };\n\n        initializeApi();\n        return () => clearTimeout(timeoutId);\n    }, []);\n\n    if (!store || !is_api_initialized) return <AppRootLoader />;\n\n    return (\n        <Suspense fallback={<AppRootLoader />}>\n            <ErrorBoundary root_store={store}>\n                <ErrorComponentWrapper />\n                <LogoutSuccessModal />\n                <AppContent />\n            </ErrorBoundary>\n        </Suspense>\n    );\n};\n\nexport default AppRoot;\n",
            "size_bytes": 2750
        },
        "src/components/flyout/help-contents/flyout-help-base.tsx": {
            "content": "import React from 'react';\nimport { observer } from 'mobx-react-lite';\nimport { useStore } from '@/hooks/useStore';\nimport { help_content_config, help_content_types } from '@/utils/help-content/help-content.config';\nimport { LabelPairedArrowLeftCaptionRegularIcon } from '@deriv/quill-icons/LabelPaired';\nimport { localize } from '@deriv-com/translations';\nimport Button from '../../shared_ui/button';\nimport Text from '../../shared_ui/text';\nimport FlyoutBlock from '../flyout-block';\nimport FlyoutImage from './flyout-img';\nimport FlyoutText from './flyout-text';\nimport FlyoutVideo from './flyout-video';\n\nconst HelpBase = observer(() => {\n    const { flyout, flyout_help } = useStore();\n    const {\n        block_node,\n        block_type,\n        examples,\n        help_string,\n        onBackClick,\n        onSequenceClick,\n        should_next_disable,\n        should_previous_disable,\n        title,\n    } = flyout_help;\n    const { is_search_flyout } = flyout;\n\n    const block_help_component = help_string && help_content_config(window.__webpack_public_path__)[block_type];\n    let text_count = 0;\n\n    return (\n        <React.Fragment>\n            <div className='flyout__help-header' data-testid='dt_flyout_help_base'>\n                <button className='dc-btn flyout__button-back' onClick={onBackClick}>\n                    <LabelPairedArrowLeftCaptionRegularIcon height='16px' width='16px' fill='var(--text-general)' />\n                </button>\n                <Text weight='bold' className='flyout__help-title'>\n                    {title}\n                </Text>\n                <div className='flyout__item-buttons'>\n                    <Button\n                        className='flyout__button-add'\n                        has_effect\n                        id={`db-flyout-help__add--${block_type}`}\n                        onClick={() => window.Blockly.derivWorkspace.addBlockNode(block_node)}\n                        primary\n                        text={localize('Add')}\n                        type='button'\n                    />\n                </div>\n            </div>\n            <div className='flyout__help-content'>\n                {block_help_component &&\n                    block_help_component.map((component, index) => {\n                        const { type, width, url, example_id } = component;\n                        const { text } = help_string;\n                        const example_node = examples.find(example => example.id === example_id);\n                        switch (type) {\n                            case help_content_types.TEXT:\n                                if (text_count < text.length) {\n                                    return <FlyoutText key={`${block_type}_${index}`} text={text[text_count++]} />;\n                                }\n                                return null;\n                            case help_content_types.VIDEO:\n                                return <FlyoutVideo key={`${block_type}_${index}`} url={url} />;\n                            case help_content_types.IMAGE:\n                                return <FlyoutImage key={`${block_type}_${index}`} width={width} url={url} />;\n                            case help_content_types.BLOCK: {\n                                return <FlyoutBlock key={`${block_type}_${index}`} block_node={block_node} />;\n                            }\n                            case help_content_types.EXAMPLE:\n                                if (example_node) {\n                                    return (\n                                        <FlyoutBlock\n                                            key={`${block_type}_${index}`}\n                                            block_node={example_node.childNodes[0]}\n                                        />\n                                    );\n                                }\n                                return null;\n                            default:\n                                return null;\n                        }\n                    })}\n            </div>\n            {!is_search_flyout && !(should_previous_disable && should_next_disable) && (\n                <div className='flyout__help-footer'>\n                    <Button\n                        className='flyout__button-previous'\n                        secondary\n                        onClick={() => onSequenceClick(false)}\n                        text={localize('Previous')}\n                        type='button'\n                        is_disabled={should_previous_disable}\n                        renderText={text =>\n                            should_previous_disable && (\n                                <Text size='xs' weight='bold' align='center' color='disabled'>\n                                    {text}\n                                </Text>\n                            )\n                        }\n                    />\n                    <Button\n                        className='flyout__button-next'\n                        secondary\n                        onClick={() => onSequenceClick(true)}\n                        text={localize('Next')}\n                        type='button'\n                        is_disabled={should_next_disable}\n                        renderText={text =>\n                            should_next_disable && (\n                                <Text size='xs' weight='bold' align='center' color='disabled'>\n                                    {text}\n                                </Text>\n                            )\n                        }\n                    />\n                </div>\n            )}\n        </React.Fragment>\n    );\n});\n\nexport default HelpBase;\n",
            "size_bytes": 5666
        },
        "src/pages/bot-builder/toolbox/toolbox.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { observer } from 'mobx-react-lite';\nimport Text from '@/components/shared_ui/text';\nimport { useStore } from '@/hooks/useStore';\nimport { LabelPairedChevronDownMdFillIcon } from '@deriv/quill-icons/LabelPaired';\nimport { localize } from '@deriv-com/translations';\nimport { useDevice } from '@deriv-com/ui';\nimport { rudderStackSendOpenEvent } from '../../../analytics/rudderstack-common-events';\nimport ToolbarButton from '../toolbar/toolbar-button';\nimport SearchBox from './search-box';\nimport { ToolboxItems } from './toolbox-items';\n\nconst Toolbox = observer(() => {\n    const { isDesktop } = useDevice();\n    const { toolbox, flyout, quick_strategy } = useStore();\n    const {\n        hasSubCategory,\n        is_search_loading,\n        onMount,\n        onSearch,\n        onSearchBlur,\n        onSearchClear,\n        onSearchKeyUp,\n        onToolboxItemClick,\n        onToolboxItemExpand,\n        onUnmount,\n        sub_category_index,\n        toolbox_dom,\n    } = toolbox;\n\n    const { setFormVisibility } = quick_strategy;\n    const { setVisibility, selected_category } = flyout;\n\n    const toolbox_ref = React.useRef(ToolboxItems());\n    const [is_open, setOpen] = React.useState(true);\n    const [pending_selection] = React.useState<string | null>(null);\n\n    React.useEffect(() => {\n        onMount(toolbox_ref);\n        return () => onUnmount();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const handleQuickStrategyOpen = () => {\n        setFormVisibility(true);\n        // send to rs if quick strategy is opened from bot builder (desktop)\n        rudderStackSendOpenEvent({\n            subpage_name: 'bot_builder',\n            subform_source: 'bot_builder',\n            subform_name: 'quick_strategy',\n        });\n    };\n\n    if (isDesktop) {\n        return (\n            <div className='db-toolbox' data-testid='dashboard__toolbox'>\n                <ToolbarButton\n                    popover_message={localize('Click here to start building your Deriv Bot.')}\n                    button_id='db-toolbar__get-started-button'\n                    button_classname='toolbar__btn toolbar__btn--icon toolbar__btn--start'\n                    buttonOnClick={handleQuickStrategyOpen}\n                    button_text={localize('Quick strategy')}\n                />\n                <div id='gtm-toolbox' className='db-toolbox__content'>\n                    <div className='db-toolbox__header'>\n                        <div\n                            className='db-toolbox__title'\n                            data-testid='db-toolbox__title'\n                            onClick={() => {\n                                setOpen(!is_open);\n                                setVisibility(false);\n                            }}\n                        >\n                            {localize('Blocks menu')}\n                            <span\n                                className={classNames('db-toolbox__title__chevron', {\n                                    'db-toolbox__title__chevron--active': is_open,\n                                })}\n                            >\n                                <LabelPairedChevronDownMdFillIcon fill='var(--text-general)' />\n                            </span>\n                        </div>\n                    </div>\n                    <div\n                        className={classNames('db-toolbox__content-wrapper', { active: is_open })}\n                        data-testid='db-toolbox__content-wrapper'\n                    >\n                        <SearchBox\n                            is_search_loading={is_search_loading}\n                            onSearch={onSearch}\n                            onSearchBlur={onSearchBlur}\n                            onSearchClear={onSearchClear}\n                            onSearchKeyUp={onSearchKeyUp}\n                        />\n                        <div className='db-toolbox__category-menu'>\n                            {toolbox_dom &&\n                                Array.from(toolbox_dom.childNodes as HTMLElement[]).map((category, index) => {\n                                    if (category.tagName.toUpperCase() === 'CATEGORY') {\n                                        const has_sub_category = hasSubCategory(category.children);\n                                        const is_sub_category_open = sub_category_index.includes(index);\n                                        return (\n                                            <div\n                                                key={`db-toolbox__row--${category.getAttribute('id')}`}\n                                                className={classNames('db-toolbox__row', {\n                                                    'db-toolbox__row--active':\n                                                        selected_category?.getAttribute('id') === category?.id,\n                                                    'db-toolbox__row--pending':\n                                                        pending_selection === category?.getAttribute('id'),\n                                                })}\n                                            >\n                                                <div\n                                                    className='db-toolbox__item'\n                                                    onClick={() => {\n                                                        // eslint-disable-next-line no-unused-expressions\n                                                        has_sub_category\n                                                            ? onToolboxItemExpand(index)\n                                                            : onToolboxItemClick(category);\n                                                    }}\n                                                >\n                                                    <div className='db-toolbox__category-text'>\n                                                        <div className='db-toolbox__label'>\n                                                            {localize(category.getAttribute('name') as string)}\n                                                        </div>\n                                                        {has_sub_category && (\n                                                            <div\n                                                                className={classNames('db-toolbox__category-arrow', {\n                                                                    'db-toolbox__category-arrow--active':\n                                                                        is_sub_category_open,\n                                                                })}\n                                                            >\n                                                                <LabelPairedChevronDownMdFillIcon fill='var(--text-general)' />\n                                                            </div>\n                                                        )}\n                                                    </div>\n                                                </div>\n                                                {has_sub_category &&\n                                                    is_sub_category_open &&\n                                                    (Array.from(category.childNodes) as HTMLElement[]).map(\n                                                        subCategory => {\n                                                            return (\n                                                                <div\n                                                                    key={`db-toolbox__sub-category-row--${subCategory.getAttribute(\n                                                                        'id'\n                                                                    )}`}\n                                                                    className={classNames(\n                                                                        'db-toolbox__sub-category-row',\n                                                                        {\n                                                                            'db-toolbox__sub-category-row--active':\n                                                                                selected_category?.getAttribute(\n                                                                                    'id'\n                                                                                ) === subCategory?.id,\n                                                                            'db-toolbox__sub-category-row--pending':\n                                                                                pending_selection ===\n                                                                                subCategory?.getAttribute('id'),\n                                                                        }\n                                                                    )}\n                                                                    onClick={() => {\n                                                                        onToolboxItemClick(subCategory);\n                                                                    }}\n                                                                >\n                                                                    <Text size='xxs'>\n                                                                        {subCategory.getAttribute('name') as string}\n                                                                    </Text>\n                                                                </div>\n                                                            );\n                                                        }\n                                                    )}\n                                            </div>\n                                        );\n                                    }\n                                    return null;\n                                })}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n    return null;\n});\n\nexport default Toolbox;\n",
            "size_bytes": 10353
        },
        "src/pages/chart/toolbar-widgets.tsx": {
            "content": "import { memo } from 'react';\nimport { ChartMode, DrawTools, Share, StudyLegend, ToolbarWidget, Views } from '@deriv-com/derivatives-charts';\n\ntype TToolbarWidgetsProps = {\n    updateChartType: (chart_type: string) => void;\n    updateGranularity: (updateGranularity: number) => void;\n    position?: string | null;\n    isDesktop?: boolean;\n};\n\nconst ToolbarWidgets = ({ updateChartType, updateGranularity, position, isDesktop }: TToolbarWidgetsProps) => {\n    const validPosition = position === 'top' || position === 'bottom' ? position : 'top';\n\n    return (\n        <ToolbarWidget position={validPosition}>\n            <ChartMode portalNodeId='modal_root' onChartType={updateChartType} onGranularity={updateGranularity} />\n            {isDesktop && (\n                <>\n                    <StudyLegend portalNodeId='modal_root' searchInputClassName='data-hj-whitelist' />\n                    <Views\n                        portalNodeId='modal_root'\n                        onChartType={updateChartType}\n                        onGranularity={updateGranularity}\n                        searchInputClassName='data-hj-whitelist'\n                    />\n                    <DrawTools portalNodeId='modal_root' />\n                    <Share portalNodeId='modal_root' />\n                </>\n            )}\n        </ToolbarWidget>\n    );\n};\n\nexport default memo(ToolbarWidgets);\n",
            "size_bytes": 1375
        },
        "__mocks__/fileMock.js": { "content": "module.exports = 'test-file-stub';\n", "size_bytes": 35 },
        "src/types/global.d.ts": {
            "content": "declare global {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let google: any;\n    interface Window {\n        sendRequestsStatistic: (is_running: boolean) => void;\n    }\n}\n\nexport {};\n",
            "size_bytes": 210
        },
        "src/components/localStorage-sync-wrapper/localStorage-sync-wrapper.tsx": {
            "content": "import React from 'react';\nimport AccountChangeModal from '@/components/account-change-modal';\nimport { useLocalStorageSync } from '@/hooks/useLocalStorageSync';\n\nconst LocalStorageSyncWrapper: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n    const { showAccountChangeModal, handleReload, handleModalClose } = useLocalStorageSync();\n\n    return (\n        <>\n            <AccountChangeModal isOpen={showAccountChangeModal} onReload={handleReload} onClose={handleModalClose} />\n            {children}\n        </>\n    );\n};\n\nexport default LocalStorageSyncWrapper;\n",
            "size_bytes": 579
        },
        "src/external/bot-skeleton/scratch/hooks/colours.js": {
            "content": "const lightMode = () => {\n    const workspace = Blockly;\n    workspace.Colours.RootBlock = {\n        colour: '#064e72',\n        colourSecondary: '#064e72',\n        colourTertiary: '#6d7278',\n    };\n\n    workspace.Colours.Base = {\n        colour: '#e5e5e5',\n        colourSecondary: '#ffffff',\n        colourTertiary: '#6d7278',\n    };\n\n    workspace.Colours.Special1 = {\n        colour: '#e5e5e5',\n        colourSecondary: '#ffffff',\n        colourTertiary: '#6d7278',\n    };\n\n    workspace.Colours.Special2 = {\n        colour: '#e5e5e5',\n        colourSecondary: '#ffffff',\n        colourTertiary: '#6d7278',\n    };\n\n    workspace.Colours.Special3 = {\n        colour: '#e5e5e5',\n        colourSecondary: '#ffffff',\n        colourTertiary: '#6d7278',\n    };\n\n    workspace.Colours.Special4 = {\n        colour: '#e5e5e5',\n        colourSecondary: '#000000',\n        colourTertiary: '#0e0e0e',\n    };\n};\n\nexport const setColors = () => lightMode();\n",
            "size_bytes": 947
        },
        "src/utils/clone.js": {
            "content": "/* eslint-disable */\n// Copied from github.com/pvorb/clone to fix an inheritance issue.\n// Line 156-158 was added to address https://github.com/pvorb/clone/issues/58\nconst clone = (function () {\n    function _instanceof(obj, type) {\n        return type != null && obj instanceof type;\n    }\n\n    let nativeMap;\n    try {\n        nativeMap = Map;\n    } catch (_) {\n        // maybe a reference error because no `Map`. Give it a dummy value that no\n        // value will ever be an instanceof.\n        nativeMap = function () {};\n    }\n\n    let nativeSet;\n    try {\n        nativeSet = Set;\n    } catch (_) {\n        nativeSet = function () {};\n    }\n\n    let nativePromise;\n    try {\n        nativePromise = Promise;\n    } catch (_) {\n        nativePromise = function () {};\n    }\n\n    /**\n     * Clones (copies) an Object using deep copying.\n     *\n     * This function supports circular references by default, but if you are certain\n     * there are no circular references in your object, you can save some CPU time\n     * by calling clone(obj, false).\n     *\n     * Caution: if `circular` is false and `parent` contains circular references,\n     * your program may enter an infinite loop and crash.\n     *\n     * @param `parent` - the object to be cloned\n     * @param `circular` - set to true if the object to be cloned may contain\n     *    circular references. (optional - true by default)\n     * @param `depth` - set to a number if the object is only to be cloned to\n     *    a particular depth. (optional - defaults to Infinity)\n     * @param `prototype` - sets the prototype to be used when cloning an object.\n     *    (optional - defaults to parent prototype).\n     * @param `includeNonEnumerable` - set to true if the non-enumerable properties\n     *    should be cloned as well. Non-enumerable properties on the prototype\n     *    chain will be ignored. (optional - false by default)\n     */\n    function clone(parent, circular, depth, prototype, includeNonEnumerable) {\n        if (typeof circular === 'object') {\n            depth = circular.depth;\n            prototype = circular.prototype;\n            includeNonEnumerable = circular.includeNonEnumerable;\n            circular = circular.circular;\n        }\n        // maintain two arrays for circular references, where corresponding parents\n        // and children have the same index\n        const allParents = [];\n        const allChildren = [];\n\n        const useBuffer = typeof Buffer !== 'undefined';\n\n        if (typeof circular === 'undefined') circular = true;\n\n        if (typeof depth === 'undefined') depth = Infinity;\n\n        // recurse this function so we don't reset allParents and allChildren\n        function _clone(parent, depth) {\n            // cloning null always returns null\n            if (parent === null) return null;\n\n            if (depth === 0) return parent;\n\n            let child, proto;\n            if (typeof parent !== 'object') {\n                return parent;\n            }\n\n            if (_instanceof(parent, nativeMap)) {\n                child = new nativeMap();\n            } else if (_instanceof(parent, nativeSet)) {\n                child = new nativeSet();\n            } else if (_instanceof(parent, nativePromise)) {\n                child = new nativePromise(function (resolve, reject) {\n                    parent.then(\n                        function (value) {\n                            resolve(_clone(value, depth - 1));\n                        },\n                        function (err) {\n                            reject(_clone(err, depth - 1));\n                        }\n                    );\n                });\n            } else if (clone.__isArray(parent)) {\n                child = [];\n            } else if (clone.__isRegExp(parent)) {\n                child = new RegExp(parent.source, __getRegExpFlags(parent));\n                if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n            } else if (clone.__isDate(parent)) {\n                child = new Date(parent.getTime());\n            } else if (useBuffer && Buffer.isBuffer(parent)) {\n                if (Buffer.from) {\n                    // Node.js >= 5.10.0\n                    child = Buffer.from(parent);\n                } else {\n                    // Older Node.js versions\n                    child = new Buffer(parent.length);\n                    parent.copy(child);\n                }\n                return child;\n            } else if (_instanceof(parent, Error)) {\n                child = Object.create(parent);\n            } else if (typeof prototype === 'undefined') {\n                proto = Object.getPrototypeOf(parent);\n                child = Object.create(proto);\n            } else {\n                child = Object.create(prototype);\n                proto = prototype;\n            }\n\n            if (circular) {\n                const index = allParents.indexOf(parent);\n\n                if (index != -1) {\n                    return allChildren[index];\n                }\n                allParents.push(parent);\n                allChildren.push(child);\n            }\n\n            if (_instanceof(parent, nativeMap)) {\n                parent.forEach(function (value, key) {\n                    const keyChild = _clone(key, depth - 1);\n                    const valueChild = _clone(value, depth - 1);\n                    child.set(keyChild, valueChild);\n                });\n            }\n            if (_instanceof(parent, nativeSet)) {\n                parent.forEach(function (value) {\n                    const entryChild = _clone(value, depth - 1);\n                    child.add(entryChild);\n                });\n            }\n\n            for (var i in parent) {\n                const attrs = Object.getOwnPropertyDescriptor(parent, i);\n                if (attrs) {\n                    // https://github.com/pvorb/clone/issues/58\n                    if (Object.keys(parent).indexOf(i) < 0) {\n                        continue;\n                    }\n\n                    child[i] = _clone(parent[i], depth - 1);\n                }\n\n                try {\n                    const objProperty = Object.getOwnPropertyDescriptor(parent, i);\n                    if (objProperty.set === 'undefined') {\n                        // no setter defined. Skip cloning this property\n                        continue;\n                    }\n                    child[i] = _clone(parent[i], depth - 1);\n                } catch (e) {\n                    if (e instanceof TypeError) {\n                        // when in strict mode, TypeError will be thrown if child[i] property only has a getter\n                        // we can't do anything about this, other than inform the user that this property cannot be set.\n                        continue;\n                    } else if (e instanceof ReferenceError) {\n                        // this may happen in non strict mode\n                        continue;\n                    }\n                }\n            }\n\n            if (Object.getOwnPropertySymbols) {\n                const symbols = Object.getOwnPropertySymbols(parent);\n                for (var i = 0; i < symbols.length; i++) {\n                    // Don't need to worry about cloning a symbol because it is a primitive,\n                    // like a number or string.\n                    const symbol = symbols[i];\n                    var descriptor = Object.getOwnPropertyDescriptor(parent, symbol);\n                    if (descriptor && !descriptor.enumerable && !includeNonEnumerable) {\n                        continue;\n                    }\n                    child[symbol] = _clone(parent[symbol], depth - 1);\n                    Object.defineProperty(child, symbol, descriptor);\n                }\n            }\n\n            if (includeNonEnumerable) {\n                const allPropertyNames = Object.getOwnPropertyNames(parent);\n                for (var i = 0; i < allPropertyNames.length; i++) {\n                    const propertyName = allPropertyNames[i];\n                    var descriptor = Object.getOwnPropertyDescriptor(parent, propertyName);\n                    if (descriptor && descriptor.enumerable) {\n                        continue;\n                    }\n                    child[propertyName] = _clone(parent[propertyName], depth - 1);\n                    Object.defineProperty(child, propertyName, descriptor);\n                }\n            }\n\n            return child;\n        }\n\n        return _clone(parent, depth);\n    }\n\n    /**\n     * Simple flat clone using prototype, accepts only objects, usefull for property\n     * override on FLAT configuration object (no nested props).\n     *\n     * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n     * works.\n     */\n    clone.clonePrototype = function clonePrototype(parent) {\n        if (parent === null) return null;\n\n        const c = function () {};\n        c.prototype = parent;\n        return new c();\n    };\n\n    // private utility functions\n\n    function __objToStr(o) {\n        return Object.prototype.toString.call(o);\n    }\n    clone.__objToStr = __objToStr;\n\n    function __isDate(o) {\n        return typeof o === 'object' && __objToStr(o) === '[object Date]';\n    }\n    clone.__isDate = __isDate;\n\n    function __isArray(o) {\n        return typeof o === 'object' && __objToStr(o) === '[object Array]';\n    }\n    clone.__isArray = __isArray;\n\n    function __isRegExp(o) {\n        return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\n    }\n    clone.__isRegExp = __isRegExp;\n\n    function __getRegExpFlags(re) {\n        let flags = '';\n        if (re.global) flags += 'g';\n        if (re.ignoreCase) flags += 'i';\n        if (re.multiline) flags += 'm';\n        return flags;\n    }\n    clone.__getRegExpFlags = __getRegExpFlags;\n\n    return clone;\n})();\n\nexport default clone;\n/* eslint-enable */\n",
            "size_bytes": 9846
        },
        "src/pages/bot-builder/quick-strategy/selects/duration-type.tsx": {
            "content": "import React, { useEffect } from 'react';\nimport classNames from 'classnames';\nimport { Field, FieldProps, useFormikContext } from 'formik';\nimport Autocomplete from '@/components/shared_ui/autocomplete';\nimport { TItem } from '@/components/shared_ui/dropdown-list';\nimport { ApiHelpers } from '@/external/bot-skeleton';\nimport { useStore } from '@/hooks/useStore';\nimport { TApiHelpersInstance, TDurationUnitItem, TFormData } from '../types';\n\ntype TDurationUnit = {\n    attached?: boolean;\n};\n\nconst DurationUnit: React.FC<TDurationUnit> = ({ attached }: TDurationUnit) => {\n    const [list, setList] = React.useState<TDurationUnitItem[]>([]);\n    const [prevSymbol, setPrevSymbol] = React.useState('');\n    const [prevTradeType, setPrevTradeType] = React.useState('');\n    const { quick_strategy } = useStore();\n    const { setValue, setCurrentDurationMinMax, current_duration_min_max } = quick_strategy;\n    const { setFieldValue, validateForm, values } = useFormikContext<TFormData>();\n    const { symbol, tradetype } = values;\n\n    React.useEffect(() => {\n        if (tradetype && symbol) {\n            const getDurationUnits = async () => {\n                const { contracts_for } = (ApiHelpers?.instance as unknown as TApiHelpersInstance) ?? {};\n                const durations = await contracts_for?.getDurations?.(symbol, tradetype);\n                const duration_units = durations?.map(duration => ({\n                    text: duration.display ?? '',\n                    value: duration.unit ?? '',\n                    min: duration.min,\n                    max: duration.max,\n                }));\n                setList(duration_units);\n                const selected = values?.durationtype;\n                const has_selected = duration_units?.some(duration => duration.value === selected);\n                if (!has_selected || prevSymbol !== symbol || prevTradeType !== tradetype) {\n                    setCurrentDurationMinMax(durations?.[0]?.min, durations?.[0]?.max);\n                    setFieldValue?.('durationtype', durations?.[0]?.unit, true);\n                    setFieldValue?.('duration', durations?.[0]?.min, true);\n                    setValue('durationtype', durations?.[0]?.unit ?? '');\n                } else {\n                    const duration = duration_units?.find((duration: TDurationUnitItem) => duration.value === selected);\n                    setCurrentDurationMinMax(duration?.min, duration?.max);\n                }\n                setPrevSymbol(symbol as string);\n                setPrevTradeType(tradetype as string);\n            };\n            getDurationUnits();\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [symbol, tradetype]);\n\n    useEffect(() => {\n        validateForm();\n    }, [current_duration_min_max, validateForm]);\n\n    return (\n        <div\n            className={classNames('qs__form__field qs__form__field__input', {\n                'no-top-border-radius': attached,\n            })}\n        >\n            <Field name='durationtype' key='durationtype' id='durationtype'>\n                {({ field }: FieldProps) => {\n                    const selected_item = list?.find(item => item.value === field.value);\n                    return (\n                        <Autocomplete\n                            {...field}\n                            readOnly\n                            inputMode='none'\n                            data-testid='dt_qs_durationtype'\n                            autoComplete='off'\n                            className='qs__select'\n                            value={selected_item?.text || ''}\n                            list_items={list}\n                            onItemSelection={(item: TItem) => {\n                                const { value, min, max } = item as TDurationUnitItem;\n                                if (value) {\n                                    setCurrentDurationMinMax(min, max);\n                                    setFieldValue?.('durationtype', value);\n                                    setValue('durationtype', value);\n                                    setFieldValue?.('duration', min).then(() => {\n                                        validateForm();\n                                    });\n                                    setValue('duration', min);\n                                }\n                            }}\n                        />\n                    );\n                }}\n            </Field>\n        </div>\n    );\n};\n\nexport default DurationUnit;\n",
            "size_bytes": 4522
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Tools/Misc/total_runs.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../../utils';\n\nwindow.Blockly.Blocks.total_runs = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Number of runs'),\n            output: 'Number',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the number of runs'),\n            category: window.Blockly.Categories.Miscellaneous,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    meta() {\n        return {\n            display_name: localize('Number of runs'),\n            description: localize(\n                'This block gives you the total number of times your bot has run. You can reset this by clicking Clear stats on the Transaction Stats window, or by refreshing this page in your browser.'\n            ),\n        };\n    },\n    onchange: window.Blockly.Blocks.total_profit.onchange,\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.total_runs = () => [\n    'Bot.getTotalRuns()',\n    window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC,\n];\n",
            "size_bytes": 1390
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Trade Definition/trade_definition_tradetype.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { excludeOptionFromContextMenu, modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.trade_definition_tradetype = {\n    init() {\n        this.jsonInit({\n            message0: localize('Trade Type: {{ trade_type_category }} > {{ trade_type }}', {\n                trade_type_category: '%1',\n                trade_type: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'TRADETYPECAT_LIST',\n                    options: [['', '']],\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'TRADETYPE_LIST',\n                    options: [['', '']],\n                },\n            ],\n            colour: window.Blockly.Colours.Special1.colour,\n            colourSecondary: window.Blockly.Colours.Special1.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Special1.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    customContextMenu(menu) {\n        const menu_items = [localize('Enable Block'), localize('Disable Block')];\n        excludeOptionFromContextMenu(menu, menu_items);\n        modifyContextMenu(menu);\n    },\n    enforceLimitations: window.Blockly.Blocks.trade_definition_market.enforceLimitations,\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.trade_definition_tradetype = () => {};\n",
            "size_bytes": 1547
        },
        "src/hooks/useBlockscroll.ts": {
            "content": "import React, { RefObject } from 'react';\n\nexport const useBlockScroll = (target_ref?: RefObject<HTMLElement>) => {\n    React.useEffect(() => {\n        if (!target_ref) return undefined;\n\n        const getScrollableParentElement: (prop: HTMLElement | null) => HTMLElement | null = (\n            elem: HTMLElement | null\n        ) => {\n            if (!elem) return null;\n            if (elem.classList.contains('dc-themed-scrollbars') && elem.scrollHeight > elem.clientHeight) return elem;\n            return getScrollableParentElement(elem.parentElement);\n        };\n\n        const scrollable_parent = getScrollableParentElement(target_ref.current);\n        const is_firefox_browser = navigator.userAgent.indexOf('Firefox') > -1;\n        // No width offset is necessary in Firefox Browsers\n        const content_width_style = is_firefox_browser ? '100%' : 'calc(100% - 5px)';\n\n        if (scrollable_parent) {\n            scrollable_parent.style.overflow = 'hidden';\n            scrollable_parent.style.width = content_width_style;\n        }\n\n        return () => {\n            if (!scrollable_parent) return;\n            scrollable_parent.style.removeProperty('overflow');\n            scrollable_parent.style.removeProperty('width');\n        };\n    }, [target_ref]);\n};\n",
            "size_bytes": 1272
        },
        "src/utils/help-content/help-strings/procedures_ifreturn.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize('Used within a function block, this block returns a value when a specific condition is true.'),\n        localize('Example:'),\n    ],\n};\n",
            "size_bytes": 241
        },
        "src/stores/chart-store.ts": {
            "content": "import { action, computed, makeObservable, observable, reaction } from 'mobx';\nimport { LocalStore } from '@/components/shared';\nimport { api_base } from '@/external/bot-skeleton';\nimport RootStore from './root-store';\n\ntype TSubscription = {\n    id: string | null;\n    subscriber: null | { unsubscribe: () => void };\n};\n\nexport default class ChartStore {\n    root_store: RootStore;\n    constructor(root_store: RootStore) {\n        makeObservable(this, {\n            symbol: observable,\n            is_chart_loading: observable,\n            chart_type: observable,\n            granularity: observable,\n            is_contract_ended: computed,\n            updateSymbol: action,\n            onSymbolChange: action,\n            updateGranularity: action,\n            updateChartType: action,\n            setChartStatus: action,\n            restoreFromStorage: action,\n            chart_subscription_id: observable,\n            setChartSubscriptionId: action,\n        });\n\n        this.root_store = root_store;\n        const { run_panel } = root_store;\n\n        reaction(\n            () => run_panel.is_running,\n            () => (run_panel.is_running ? this.onStartBot() : this.onStopBot())\n        );\n\n        this.restoreFromStorage();\n    }\n\n    subscription: TSubscription = {\n        id: null,\n        subscriber: null,\n    };\n    chart_subscription_id = '';\n\n    symbol: string | undefined;\n    is_chart_loading: boolean | undefined;\n    chart_type: string | undefined;\n    granularity: number | undefined;\n\n    get is_contract_ended() {\n        const { transactions } = this.root_store;\n\n        return transactions.contracts.length > 0 && transactions.contracts[0].is_ended;\n    }\n\n    onStartBot = () => {\n        this.updateSymbol();\n    };\n\n    // eslint-disable-next-line\n    onStopBot = () => {\n        // const { main_content } = this.root_store;\n        // main_content.setActiveTab(tabs_title.WORKSPACE);\n    };\n\n    updateSymbol = () => {\n        const workspace = window.Blockly.derivWorkspace;\n        const market_block = workspace?.getAllBlocks().find((block: window.Blockly.Block) => {\n            return block.type === 'trade_definition_market';\n        });\n\n        const symbol =\n            market_block?.getFieldValue('SYMBOL_LIST') ??\n            (api_base?.active_symbols[0]\n                ? (api_base.active_symbols[0] as any).underlying_symbol || (api_base.active_symbols[0] as any).symbol\n                : undefined);\n        this.symbol = symbol;\n    };\n\n    onSymbolChange = (symbol: string) => {\n        this.symbol = symbol;\n        this.saveToLocalStorage();\n    };\n\n    updateGranularity = (granularity: number) => {\n        this.granularity = granularity;\n        this.saveToLocalStorage();\n    };\n\n    updateChartType = (chart_type: string) => {\n        this.chart_type = chart_type;\n        this.saveToLocalStorage();\n    };\n\n    setChartStatus = (status: boolean) => {\n        this.is_chart_loading = status;\n    };\n\n    saveToLocalStorage = () => {\n        LocalStore.set(\n            'bot.chart_props',\n            JSON.stringify({\n                symbol: this.symbol,\n                granularity: this.granularity,\n                chart_type: this.chart_type,\n            })\n        );\n    };\n\n    restoreFromStorage = () => {\n        try {\n            const props = LocalStore.get('bot.chart_props');\n\n            if (props) {\n                const { symbol, granularity, chart_type } = JSON.parse(props);\n                this.symbol = symbol;\n                this.granularity = granularity;\n                this.chart_type = chart_type;\n            } else {\n                this.granularity = 0;\n                this.chart_type = 'line';\n            }\n        } catch {\n            LocalStore.remove('bot.chart_props');\n        }\n    };\n\n    getMarketsOrder = (active_symbols: any[]) => {\n        const synthetic_index = 'synthetic_index';\n\n        if (!active_symbols || !Array.isArray(active_symbols)) {\n            return [synthetic_index];\n        }\n\n        const has_synthetic_index = !!active_symbols.find(s => s.market === synthetic_index);\n\n        // Define the exact order we want for volatility indices (Bot Builder UI pattern)\n        // const VOLATILITY_ORDER = [\n        //     'Volatility 10 (1s) Index',\n        //     'Volatility 10 Index',\n        //     'Volatility 15 (1s) Index',\n        //     'Volatility 25 (1s) Index',\n        //     'Volatility 25 Index',\n        //     'Volatility 30 (1s) Index',\n        //     'Volatility 50 (1s) Index',\n        //     'Volatility 50 Index',\n        //     'Volatility 75 (1s) Index',\n        //     'Volatility 75 Index',\n        //     'Volatility 90 (1s) Index',\n        //     'Volatility 100 (1s) Index',\n        //     'Volatility 100 Index',\n        // ];\n\n        return (\n            active_symbols\n                // .slice()\n                // .sort((a, b) => {\n                //     const aDisplayName = a.display_name || '';\n                //     const bDisplayName = b.display_name || '';\n\n                //     // Check if both are volatility indices\n                //     const aIsVolatility = VOLATILITY_ORDER.includes(aDisplayName);\n                //     const bIsVolatility = VOLATILITY_ORDER.includes(bDisplayName);\n\n                //     if (aIsVolatility && bIsVolatility) {\n                //         // Both are volatility indices, sort by predefined order\n                //         const aIndex = VOLATILITY_ORDER.indexOf(aDisplayName);\n                //         const bIndex = VOLATILITY_ORDER.indexOf(bDisplayName);\n                //         return aIndex - bIndex;\n                //     } else if (aIsVolatility && !bIsVolatility) {\n                //         // a is volatility, b is not - volatility indices come first in their section\n                //         return -1;\n                //     } else if (!aIsVolatility && bIsVolatility) {\n                //         // b is volatility, a is not - volatility indices come first in their section\n                //         return 1;\n                //     } else {\n                //         // Neither is volatility, use alphabetical sorting\n                //         return aDisplayName.localeCompare(bDisplayName);\n                //     }\n                // })\n                .map(s => s.market)\n                .reduce(\n                    (arr, market) => {\n                        if (arr.indexOf(market) === -1) arr.push(market);\n                        return arr;\n                    },\n                    has_synthetic_index ? [synthetic_index] : []\n                )\n        );\n    };\n\n    // /**\n    //  * Apply chart-specific symbol filtering\n    //  * @param {Array} symbols - Original active symbols\n    //  * @returns {Array} Filtered symbols for chart\n    //  */\n    // getChartFilteredSymbols = (symbols: any[]) => {\n    //     if (!symbols || !Array.isArray(symbols)) {\n    //         return [];\n    //     }\n\n    //     // Chart-specific symbol exclusions\n    //     const CHART_EXCLUDED_SYMBOLS = ['OTC_IBEX35']; // Spain 35\n\n    //     // Create a copy and filter out excluded symbols\n    //     const filtered_symbols = symbols.filter(symbol => {\n    //         const symbol_code = symbol.underlying_symbol || symbol.symbol;\n    //         return !CHART_EXCLUDED_SYMBOLS.includes(symbol_code);\n    //     });\n\n    //     // Ensure new 1s volatility indices are included for chart\n    //     const required_1s_symbols = ['1HZ15V', '1HZ30V', '1HZ90V'];\n\n    //     required_1s_symbols.forEach(required_symbol => {\n    //         const exists = filtered_symbols.some(symbol => {\n    //             const symbol_code = symbol.underlying_symbol || symbol.symbol;\n    //             return symbol_code === required_symbol;\n    //         });\n\n    //         if (!exists) {\n    //             // Add the missing 1s volatility index\n    //             const symbol_config: Record<string, any> = {\n    //                 '1HZ15V': {\n    //                     symbol: '1HZ15V',\n    //                     underlying_symbol: '1HZ15V',\n    //                     display_name: 'Volatility 15 (1s) Index',\n    //                     market: 'synthetic_index',\n    //                     market_display_name: 'Derived',\n    //                     submarket: 'random_index',\n    //                     submarket_display_name: 'Continuous Indices',\n    //                     pip: 0.001,\n    //                     pip_size: 0.001,\n    //                     exchange_is_open: true,\n    //                     is_trading_suspended: false,\n    //                 },\n    //                 '1HZ30V': {\n    //                     symbol: '1HZ30V',\n    //                     underlying_symbol: '1HZ30V',\n    //                     display_name: 'Volatility 30 (1s) Index',\n    //                     market: 'synthetic_index',\n    //                     market_display_name: 'Derived',\n    //                     submarket: 'random_index',\n    //                     submarket_display_name: 'Continuous Indices',\n    //                     pip: 0.001,\n    //                     pip_size: 0.001,\n    //                     exchange_is_open: true,\n    //                     is_trading_suspended: false,\n    //                 },\n    //                 '1HZ90V': {\n    //                     symbol: '1HZ90V',\n    //                     underlying_symbol: '1HZ90V',\n    //                     display_name: 'Volatility 90 (1s) Index',\n    //                     market: 'synthetic_index',\n    //                     market_display_name: 'Derived',\n    //                     submarket: 'random_index',\n    //                     submarket_display_name: 'Continuous Indices',\n    //                     pip: 0.001,\n    //                     pip_size: 0.001,\n    //                     exchange_is_open: true,\n    //                     is_trading_suspended: false,\n    //                 },\n    //             };\n\n    //             if (symbol_config[required_symbol]) {\n    //                 filtered_symbols.push(symbol_config[required_symbol]);\n    //             }\n    //         }\n    //     });\n\n    //     return filtered_symbols;\n    // };\n    setChartSubscriptionId = (chartSubscriptionId: string) => {\n        this.chart_subscription_id = chartSubscriptionId;\n    };\n}\n",
            "size_bytes": 10291
        },
        "src/hooks/useIsomorphicLayoutEffect.ts": {
            "content": "import { useEffect, useLayoutEffect } from 'react';\n\nconst useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\n\nexport default useIsomorphicLayoutEffect;\n",
            "size_bytes": 191
        },
        "analysis-tool/Benanalysistool-final-main/components/charts/last-digits-line-chart.tsx": {
            "content": "\"use client\"\n\nimport { useEffect, useRef } from \"react\"\n\ninterface LastDigitsLineChartProps {\n  digits: number[]\n}\n\nexport function LastDigitsLineChart({ digits }: LastDigitsLineChartProps) {\n  const canvasRef = useRef<HTMLCanvasElement>(null)\n\n  useEffect(() => {\n    const canvas = canvasRef.current\n    if (!canvas) return\n\n    const ctx = canvas.getContext(\"2d\")\n    if (!ctx) return\n\n    // Set canvas size\n    const dpr = window.devicePixelRatio || 1\n    const rect = canvas.getBoundingClientRect()\n    canvas.width = rect.width * dpr\n    canvas.height = rect.height * dpr\n    ctx.scale(dpr, dpr)\n\n    ctx.fillStyle = \"#e5e7eb\"\n    ctx.fillRect(0, 0, rect.width, rect.height)\n\n    if (digits.length === 0) return\n\n    // Calculate dimensions\n    const padding = 40\n    const chartWidth = rect.width - padding * 2\n    const chartHeight = rect.height - padding * 2\n    const pointSpacing = chartWidth / (digits.length - 1 || 1)\n\n    ctx.beginPath()\n    ctx.strokeStyle = \"#8b5cf6\"\n    ctx.lineWidth = 2\n    ctx.lineCap = \"round\"\n    ctx.lineJoin = \"round\"\n\n    digits.forEach((digit, index) => {\n      const x = padding + index * pointSpacing\n      const y = padding + chartHeight - (digit / 9) * chartHeight\n\n      if (index === 0) {\n        ctx.moveTo(x, y)\n      } else {\n        const prevX = padding + (index - 1) * pointSpacing\n        const prevY = padding + chartHeight - (digits[index - 1] / 9) * chartHeight\n\n        const cp1x = prevX + (x - prevX) / 2.5\n        const cp1y = prevY\n        const cp2x = prevX + (1.5 * (x - prevX)) / 2.5\n        const cp2y = y\n\n        ctx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y)\n      }\n    })\n\n    ctx.stroke()\n\n    digits.forEach((digit, index) => {\n      const x = padding + index * pointSpacing\n      const y = padding + chartHeight - (digit / 9) * chartHeight\n\n      const squareSize = 6\n      ctx.fillStyle = \"#8b5cf6\"\n      ctx.fillRect(x - squareSize / 2, y - squareSize / 2, squareSize, squareSize)\n\n      ctx.strokeStyle = \"#ffffff\"\n      ctx.lineWidth = 1.5\n      ctx.strokeRect(x - squareSize / 2, y - squareSize / 2, squareSize, squareSize)\n\n      ctx.fillStyle = \"#8b5cf6\"\n      ctx.font = \"bold 16px sans-serif\"\n      ctx.textAlign = \"center\"\n      ctx.fillText(digit.toString(), x, y - 15)\n    })\n  }, [digits])\n\n  return (\n    <div className=\"w-full h-48 sm:h-56 md:h-64 bg-gray-200 dark:bg-gray-800/50 rounded-lg p-4\">\n      <canvas ref={canvasRef} className=\"w-full h-full\" style={{ width: \"100%\", height: \"100%\" }} />\n    </div>\n  )\n}\n",
            "size_bytes": 2508
        },
        "src/hooks/use-previous.ts": {
            "content": "import React from 'react';\n\nexport const usePrevious = <T>(value: T) => {\n    const ref = React.useRef<T | undefined>();\n    React.useEffect(() => {\n        ref.current = value;\n    }, [value]);\n    return ref.current;\n};\n",
            "size_bytes": 222
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Tick Analysis/index.js": {
            "content": "import './tick';\nimport './ticks';\nimport './ohlc';\nimport './ohlc_values';\nimport './readOhlc';\nimport './get_ohlc';\nimport './check_direction';\nimport './tick_analysis';\nimport './last_digit';\nimport './lastDigitList';\nimport './stat';\nimport './stat_list';\n",
            "size_bytes": 260
        },
        "src/external/bot-skeleton/scratch/blocks/Advanced/Loops/controls_repeat_ext.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.controls_repeat_ext = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('repeat {{ number }} times', { number: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'TIMES',\n                    check: 'Number',\n                },\n            ],\n            message1: localize('do %1'),\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'DO',\n                },\n            ],\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            inputsInline: true,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Repeats inside instructions specified number of times'),\n            category: window.Blockly.Categories.Loop,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Repeat (2)'),\n            description: localize(\n                'This block is similar to the block above, except that the number of times it repeats is determined by a given variable.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            TIMES: null,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.controls_repeat_ext = block => {\n    let repeats;\n    if (block.getField('TIMES')) {\n        repeats = String(Number(block.getFieldValue('TIMES')));\n    } else {\n        repeats =\n            window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n                block,\n                'TIMES',\n                window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC\n            ) || '0';\n    }\n\n    const branch = window.Blockly.JavaScript.javascriptGenerator.statementToCode(block, 'DO');\n    let code = '';\n\n    // eslint-disable-next-line no-underscore-dangle\n    const loopVar = window.Blockly.JavaScript.variableDB_.getDistinctName(\n        'count',\n        window.Blockly.Variables.CATEGORY_NAME\n    );\n    let endVar = repeats;\n\n    if (!repeats.match(/^\\w+$/) && !window.Blockly.isNumber(repeats)) {\n        // eslint-disable-next-line no-underscore-dangle\n        endVar = window.Blockly.JavaScript.variableDB_.getDistinctName(\n            'repeat_end',\n            window.Blockly.Variables.CATEGORY_NAME\n        );\n        code += `var ${endVar} = ${repeats};\\n`;\n    }\n\n    code += `\n    for (var ${loopVar} = 0; ${loopVar} < ${endVar}; ${loopVar}++) {\n        ${branch}\n    }\\n`;\n    return code;\n};\n",
            "size_bytes": 2955
        },
        "src/components/shared_ui/remaining-time/index.ts": {
            "content": "import RemainingTime from './remaining-time';\n\nexport default RemainingTime;\n",
            "size_bytes": 77
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Trade Definition/trade_definition_accumulator.js": {
            "content": "import { getCurrencyDisplayCode, getDecimalPlaces } from '@/components/shared';\nimport { localize } from '@deriv-com/translations';\nimport { config } from '../../../../constants/config';\nimport ApiHelpers from '../../../../services/api/api-helpers';\nimport { handleProposalRequestForAccumulators } from '../../../accumulators-proposal-handler';\nimport DBotStore from '../../../dbot-store';\nimport {\n    excludeOptionFromContextMenu,\n    modifyContextMenu,\n    runGroupedEvents,\n    runIrreversibleEvents,\n    setCurrency,\n} from '../../../utils';\n\nwindow.Blockly.Blocks.trade_definition_accumulator = {\n    init() {\n        this.jsonInit(this.definition());\n\n        // Ensure one of this type per statement-stack\n        this.setNextStatement(false);\n    },\n    definition() {\n        return {\n            message0: localize('Growth Rate: {{ accumulator }}', {\n                accumulator: '%1',\n            }),\n            message1: `${localize('Stake')}: %1 %2`,\n            message2: '%1',\n            message3: '%1',\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'GROWTHRATE_LIST',\n                    options: [['', '']],\n                },\n            ],\n            args1: [\n                {\n                    type: 'field_label',\n                    name: 'CURRENCY_LIST',\n                    text: getCurrencyDisplayCode(config().lists.CURRENCY[0]),\n                },\n                {\n                    type: 'input_value',\n                    name: 'AMOUNT',\n                    check: 'Number',\n                },\n            ],\n            args2: [\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args3: [\n                {\n                    type: 'input_statement',\n                    name: 'ACCUMULATOR_PARAMS',\n                },\n            ],\n            colour: window.Blockly.Colours.Special1.colour,\n            colourSecondary: window.Blockly.Colours.Special1.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Special1.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Define your trade options, such as accumulator and stake.'),\n            category: window.Blockly.Categories.Trade_Definition,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Accumulator trade options'),\n            description: localize(\n                'Define your trade options such as accumulator and stake. This block can only be used with the accumulator trade type. If you select another trade type, this block will be replaced with the Trade options block.'\n            ),\n        };\n    },\n    validateBlocksInStatement() {\n        // Enforce only accumulator_<type> blocks in ACCUMULATOR_PARAMS statement.\n        const blocks_in_accumulator = this.getBlocksInStatement('ACCUMULATOR_PARAMS');\n\n        if (blocks_in_accumulator.length > 0) {\n            const block_types_in_accumulator = [];\n            blocks_in_accumulator.forEach(block => {\n                block_types_in_accumulator.push(block.type);\n\n                const block_accumulator_take_profit = block.childValueToCode('accumulator_take_profit', 'AMOUNT');\n\n                if (block_accumulator_take_profit <= 0) {\n                    block.setDisabled(true);\n                }\n\n                if (block.type === 'accumulator_take_profit' && block_accumulator_take_profit > 0) {\n                    block.setDisabled(false);\n                }\n\n                if (\n                    !/^accumulator_.+$/.test(block.type) ||\n                    new Set(block_types_in_accumulator).size !== block_types_in_accumulator.length\n                ) {\n                    runIrreversibleEvents(() => {\n                        block.unplug(true);\n                    });\n                }\n            });\n        }\n    },\n    onchange(event) {\n        if (!this.workspace || window.Blockly.derivWorkspace.isFlyoutVisible || this.workspace.isDragging()) {\n            return;\n        }\n\n        handleProposalRequestForAccumulators(this);\n        const trade_definition_block = this.workspace\n            .getAllBlocks(true)\n            .find(block => block.type === 'trade_definition');\n        if (!trade_definition_block) {\n            return;\n        }\n\n        const market_block = trade_definition_block.getChildByType('trade_definition_market');\n        const trade_type_block = trade_definition_block.getChildByType('trade_definition_tradetype');\n\n        if (!market_block || !trade_type_block) {\n            return;\n        }\n\n        this.selected_symbol = market_block.getFieldValue('SYMBOL_LIST');\n        this.selected_market = market_block.getFieldValue('MARKET_LIST');\n        this.selected_trade_type_category = trade_type_block.getFieldValue('TRADETYPECAT_LIST');\n        this.selected_trade_type = trade_type_block.getFieldValue('TRADETYPE_LIST');\n        this.selected_growth_rate = this.getFieldValue('GROWTHRATE_LIST');\n\n        const is_load_event = /^dbot-load/.test(event.group);\n\n        if (event.type === window.Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id)) {\n            setCurrency(this);\n            if (is_load_event) {\n                // Do NOT touch any values when a strategy is being loaded.\n                this.updateAccumulatorInput(false);\n            } else {\n                this.updateAccumulatorInput(true);\n            }\n            return;\n        }\n\n        if (event.type === window.Blockly.Events.BLOCK_CHANGE) {\n            setCurrency(this);\n            this.validateBlocksInStatement();\n            if (is_load_event) {\n                if (event.name === 'TRADETYPE_LIST') {\n                    this.updateAccumulatorInput(false);\n                }\n            } else if (event.blockId === this.id) {\n                switch (event.name) {\n                    case 'GROWTHRATE_LIST': {\n                        this.updateAccumulatorInput(false);\n                        break;\n                    }\n                    default:\n                        break;\n                }\n            } else if (event.name === 'SYMBOL_LIST' || event.name === 'TRADETYPE_LIST') {\n                this.updateAccumulatorInput(true);\n            }\n            return;\n        }\n\n        if (event.type === window.Blockly.Events.BLOCK_DRAG && !event.isStart) {\n            this.validateBlocksInStatement();\n            if (event.blockId === this.id) {\n                // Ensure this block is populated after initial drag from flyout.\n                if (!this.selected_growth_rate) {\n                    const fake_creation_event = new window.Blockly.Events.Create(this);\n                    fake_creation_event.recordUndo = false;\n                    window.Blockly.Events.fire(fake_creation_event);\n                } else if (this.selected_trade_type !== 'accumulator') {\n                    this.updateAccumulatorInput(true);\n                }\n            }\n        }\n    },\n    updateAmountLimits: window.Blockly.Blocks.trade_definition_tradeoptions.updateAmountLimits,\n    updateAccumulatorInput(should_use_default_value) {\n        const { contracts_for } = ApiHelpers?.instance ?? {};\n\n        if (this.selected_trade_type === 'accumulator') {\n            contracts_for?.getAccumulationRange?.()?.then(accumulator_range => {\n                if (accumulator_range.length > 0) {\n                    const accumulator_list_dropdown = this.getField('GROWTHRATE_LIST');\n                    const accumulator_options = accumulator_range.map(value => {\n                        const option = value.toString();\n                        return [`${option * 100}%`, option];\n                    });\n\n                    accumulator_list_dropdown?.updateOptions(accumulator_options, {\n                        default_value: should_use_default_value ? undefined : accumulator_list_dropdown.getValue(),\n                    });\n                }\n            });\n            return;\n        }\n\n        if (this.isDescendantOf('trade_definition')) {\n            runIrreversibleEvents(() => {\n                runGroupedEvents(false, () => {\n                    const {\n                        workspaces: {\n                            indentWorkspace: { x, y },\n                        },\n                    } = config();\n\n                    const duration_block = this.workspace.newBlock('trade_definition_tradeoptions');\n                    duration_block.initSvg();\n                    duration_block.render();\n\n                    const trade_definition_block = this.workspace.getTradeDefinitionBlock();\n                    const parent_connection = trade_definition_block.getInput('SUBMARKET').connection;\n                    const child_connection = duration_block.previousConnection;\n                    parent_connection.connect(child_connection);\n\n                    const duration_input = duration_block.getInput('DURATION');\n\n                    const duration_shadow_block = this.workspace.newBlock('math_number_positive');\n                    duration_shadow_block.setShadow(true);\n                    duration_shadow_block.outputConnection.connect(duration_input.connection);\n                    duration_shadow_block.initSvg();\n                    duration_shadow_block.render(true);\n\n                    const stake_input = duration_block.getInput('AMOUNT');\n\n                    const stake_shadow_block = this.workspace.newBlock('math_number_positive');\n                    stake_shadow_block.setShadow(true);\n                    stake_shadow_block.setFieldValue(1, 'NUM');\n                    stake_shadow_block.outputConnection.connect(stake_input.connection);\n                    stake_shadow_block.initSvg();\n                    stake_shadow_block.render(true);\n\n                    this.dispose();\n                    window.Blockly.derivWorkspace.cleanUp(x, y);\n                });\n            });\n        }\n    },\n    customContextMenu(menu) {\n        const menu_items = [localize('Enable Block'), localize('Disable Block')];\n        excludeOptionFromContextMenu(menu, menu_items);\n        modifyContextMenu(menu);\n    },\n    restricted_parents: ['trade_definition'],\n    getRequiredValueInputs() {\n        return {\n            AMOUNT: input => {\n                const input_number = Number(input);\n                const max_payout = this.amount_limits?.max_payout;\n                const min_stake = this.amount_limits?.min_stake;\n                if (min_stake && input_number < min_stake) {\n                    this.error_message = localize(\"Please enter a stake amount that's at least {{min_stake}}.\", {\n                        min_stake,\n                    });\n                    return input_number < min_stake;\n                }\n                if (max_payout && input_number > max_payout) {\n                    this.error_message = localize(\"Please enter a payout amount that's lower than {{max_payout}}.\", {\n                        max_payout,\n                    });\n                    return input_number > max_payout;\n                }\n                this.error_message = localize('Amount must be a positive number.');\n                return !isNaN(input_number) && input_number <= 0;\n            },\n        };\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.trade_definition_accumulator = block => {\n    const amount =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'AMOUNT',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC\n        ) || '0';\n    const { currency } = DBotStore.instance.client;\n    const { setContractUpdateConfig } = DBotStore.instance;\n    const growth_rate = block.getFieldValue('GROWTHRATE_LIST') || '1';\n    const take_profit =\n        !block.getChildByType('accumulator_take_profit')?.disabled &&\n        block.childValueToCode('accumulator_take_profit', 'AMOUNT');\n\n    const limit_order = {\n        take_profit: take_profit ? `+(Number(${take_profit}).toFixed(2))` : undefined,\n    };\n\n    setContractUpdateConfig(undefined, take_profit);\n    // Determine decimal places for rounding the stake, this is done so Martingale accumulators\n    // are not affected by fractional values e.g. USD 12.232323 will become 12.23.\n    const decimal_places = getDecimalPlaces(currency);\n    const stake_amount = `+(Number(${amount}).toFixed(${decimal_places}))`;\n\n    const code = `\n        Bot.start({\n            limitations        : BinaryBotPrivateLimitations,\n            growth_rate        : ${growth_rate},\n            currency           : '${currency}',\n            amount             : ${stake_amount},\n            limit_order        : ${JSON.stringify(limit_order)},\n            basis              : 'stake',\n            take_profit          : ${limit_order.take_profit},\n        });\n        BinaryBotPrivateHasCalledTradeOptions = true;\n    `;\n\n    return code;\n};\n",
            "size_bytes": 12968
        },
        "src/utils/multiplier.ts": {
            "content": "import { getLimitOrderAmount } from '@/components/shared';\nimport { ContractUpdate, ProposalOpenContract } from '@deriv/api-types';\n\ntype TContractUpdateConfig = (ContractUpdate & ProposalOpenContract['limit_order']) | undefined;\n/**\n * Set contract update form initial values\n * @param {object} contract_update - contract_update response\n * @param {object} limit_order - proposal_open_contract.limit_order response\n */\nexport const getContractUpdateConfig = (contract_update_config: TContractUpdateConfig) => {\n    const { stop_loss, take_profit } = getLimitOrderAmount(contract_update_config);\n\n    return {\n        // convert stop_loss, take_profit value to string for validation to work\n        contract_update_stop_loss: stop_loss ? Math.abs(stop_loss).toString() : '',\n        contract_update_take_profit: take_profit ? take_profit.toString() : '',\n        has_contract_update_stop_loss: !!stop_loss,\n        has_contract_update_take_profit: !!take_profit,\n    };\n};\n",
            "size_bytes": 973
        },
        "src/components/shared/utils/object/clone.js": {
            "content": "/* eslint-disable */\n// Copied from github.com/pvorb/clone to fix an inheritance issue.\n// Line 156-158 was added to address https://github.com/pvorb/clone/issues/58\nconst clone = (function () {\n    function _instanceof(obj, type) {\n        return type != null && obj instanceof type;\n    }\n\n    let nativeMap;\n    try {\n        nativeMap = Map;\n    } catch (_) {\n        // maybe a reference error because no `Map`. Give it a dummy value that no\n        // value will ever be an instanceof.\n        nativeMap = function () {};\n    }\n\n    let nativeSet;\n    try {\n        nativeSet = Set;\n    } catch (_) {\n        nativeSet = function () {};\n    }\n\n    let nativePromise;\n    try {\n        nativePromise = Promise;\n    } catch (_) {\n        nativePromise = function () {};\n    }\n\n    /**\n     * Clones (copies) an Object using deep copying.\n     *\n     * This function supports circular references by default, but if you are certain\n     * there are no circular references in your object, you can save some CPU time\n     * by calling clone(obj, false).\n     *\n     * Caution: if `circular` is false and `parent` contains circular references,\n     * your program may enter an infinite loop and crash.\n     *\n     * @param `parent` - the object to be cloned\n     * @param `circular` - set to true if the object to be cloned may contain\n     *    circular references. (optional - true by default)\n     * @param `depth` - set to a number if the object is only to be cloned to\n     *    a particular depth. (optional - defaults to Infinity)\n     * @param `prototype` - sets the prototype to be used when cloning an object.\n     *    (optional - defaults to parent prototype).\n     * @param `includeNonEnumerable` - set to true if the non-enumerable properties\n     *    should be cloned as well. Non-enumerable properties on the prototype\n     *    chain will be ignored. (optional - false by default)\n     */\n    function clone(parent, circular, depth, prototype, includeNonEnumerable) {\n        if (typeof circular === 'object') {\n            depth = circular.depth;\n            prototype = circular.prototype;\n            includeNonEnumerable = circular.includeNonEnumerable;\n            circular = circular.circular;\n        }\n        // maintain two arrays for circular references, where corresponding parents\n        // and children have the same index\n        const allParents = [];\n        const allChildren = [];\n\n        const useBuffer = typeof Buffer !== 'undefined';\n\n        if (typeof circular === 'undefined') circular = true;\n\n        if (typeof depth === 'undefined') depth = Infinity;\n\n        // recurse this function so we don't reset allParents and allChildren\n        function _clone(parent, depth) {\n            // cloning null always returns null\n            if (parent === null) return null;\n\n            if (depth === 0) return parent;\n\n            let child, proto;\n            if (typeof parent !== 'object') {\n                return parent;\n            }\n\n            if (_instanceof(parent, nativeMap)) {\n                child = new nativeMap();\n            } else if (_instanceof(parent, nativeSet)) {\n                child = new nativeSet();\n            } else if (_instanceof(parent, nativePromise)) {\n                child = new nativePromise(function (resolve, reject) {\n                    parent.then(\n                        function (value) {\n                            resolve(_clone(value, depth - 1));\n                        },\n                        function (err) {\n                            reject(_clone(err, depth - 1));\n                        }\n                    );\n                });\n            } else if (clone.__isArray(parent)) {\n                child = [];\n            } else if (clone.__isRegExp(parent)) {\n                child = new RegExp(parent.source, __getRegExpFlags(parent));\n                if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n            } else if (clone.__isDate(parent)) {\n                child = new Date(parent.getTime());\n            } else if (useBuffer && Buffer.isBuffer(parent)) {\n                if (Buffer.from) {\n                    // Node.js >= 5.10.0\n                    child = Buffer.from(parent);\n                } else {\n                    // Older Node.js versions\n                    child = new Buffer(parent.length);\n                    parent.copy(child);\n                }\n                return child;\n            } else if (_instanceof(parent, Error)) {\n                child = Object.create(parent);\n            } else if (typeof prototype === 'undefined') {\n                proto = Object.getPrototypeOf(parent);\n                child = Object.create(proto);\n            } else {\n                child = Object.create(prototype);\n                proto = prototype;\n            }\n\n            if (circular) {\n                const index = allParents.indexOf(parent);\n\n                if (index != -1) {\n                    return allChildren[index];\n                }\n                allParents.push(parent);\n                allChildren.push(child);\n            }\n\n            if (_instanceof(parent, nativeMap)) {\n                parent.forEach(function (value, key) {\n                    const keyChild = _clone(key, depth - 1);\n                    const valueChild = _clone(value, depth - 1);\n                    child.set(keyChild, valueChild);\n                });\n            }\n            if (_instanceof(parent, nativeSet)) {\n                parent.forEach(function (value) {\n                    const entryChild = _clone(value, depth - 1);\n                    child.add(entryChild);\n                });\n            }\n\n            for (var i in parent) {\n                const attrs = Object.getOwnPropertyDescriptor(parent, i);\n                if (attrs) {\n                    // https://github.com/pvorb/clone/issues/58\n                    if (Object.keys(parent).indexOf(i) < 0) {\n                        continue;\n                    }\n\n                    child[i] = _clone(parent[i], depth - 1);\n                }\n\n                try {\n                    const objProperty = Object.getOwnPropertyDescriptor(parent, i);\n                    if (objProperty.set === 'undefined') {\n                        // no setter defined. Skip cloning this property\n                        continue;\n                    }\n                    child[i] = _clone(parent[i], depth - 1);\n                } catch (e) {\n                    if (e instanceof TypeError) {\n                        // when in strict mode, TypeError will be thrown if child[i] property only has a getter\n                        // we can't do anything about this, other than inform the user that this property cannot be set.\n                        continue;\n                    } else if (e instanceof ReferenceError) {\n                        // this may happen in non strict mode\n                        continue;\n                    }\n                }\n            }\n\n            if (Object.getOwnPropertySymbols) {\n                const symbols = Object.getOwnPropertySymbols(parent);\n                for (var i = 0; i < symbols.length; i++) {\n                    // Don't need to worry about cloning a symbol because it is a primitive,\n                    // like a number or string.\n                    const symbol = symbols[i];\n                    var descriptor = Object.getOwnPropertyDescriptor(parent, symbol);\n                    if (descriptor && !descriptor.enumerable && !includeNonEnumerable) {\n                        continue;\n                    }\n                    child[symbol] = _clone(parent[symbol], depth - 1);\n                    Object.defineProperty(child, symbol, descriptor);\n                }\n            }\n\n            if (includeNonEnumerable) {\n                const allPropertyNames = Object.getOwnPropertyNames(parent);\n                for (var i = 0; i < allPropertyNames.length; i++) {\n                    const propertyName = allPropertyNames[i];\n                    var descriptor = Object.getOwnPropertyDescriptor(parent, propertyName);\n                    if (descriptor && descriptor.enumerable) {\n                        continue;\n                    }\n                    child[propertyName] = _clone(parent[propertyName], depth - 1);\n                    Object.defineProperty(child, propertyName, descriptor);\n                }\n            }\n\n            return child;\n        }\n\n        return _clone(parent, depth);\n    }\n\n    /**\n     * Simple flat clone using prototype, accepts only objects, usefull for property\n     * override on FLAT configuration object (no nested props).\n     *\n     * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n     * works.\n     */\n    clone.clonePrototype = function clonePrototype(parent) {\n        if (parent === null) return null;\n\n        const c = function () {};\n        c.prototype = parent;\n        return new c();\n    };\n\n    // private utility functions\n\n    function __objToStr(o) {\n        return Object.prototype.toString.call(o);\n    }\n    clone.__objToStr = __objToStr;\n\n    function __isDate(o) {\n        return typeof o === 'object' && __objToStr(o) === '[object Date]';\n    }\n    clone.__isDate = __isDate;\n\n    function __isArray(o) {\n        return typeof o === 'object' && __objToStr(o) === '[object Array]';\n    }\n    clone.__isArray = __isArray;\n\n    function __isRegExp(o) {\n        return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\n    }\n    clone.__isRegExp = __isRegExp;\n\n    function __getRegExpFlags(re) {\n        let flags = '';\n        if (re.global) flags += 'g';\n        if (re.ignoreCase) flags += 'i';\n        if (re.multiline) flags += 'm';\n        return flags;\n    }\n    clone.__getRegExpFlags = __getRegExpFlags;\n\n    return clone;\n})();\n\nif (typeof module === 'object' && module.exports) {\n    module.exports = clone;\n}\n\nexport default clone;\n/* eslint-enable */\n",
            "size_bytes": 9929
        },
        "src/components/shared/utils/helpers/duration.ts": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { toMoment } from '../date';\n\ntype TContract = {\n    max_contract_duration: string;\n    min_contract_duration: string;\n    expiry_type: string;\n    start_type?: string; // Field may not be available in API response anymore\n};\n\ntype TMaxMin = {\n    min: number;\n    max: number;\n};\n\ntype TUnit = {\n    text: string;\n    value: string;\n};\n\nexport type TDurations = {\n    min_max: {\n        spot: Partial<Record<'tick' | 'intraday' | 'daily', TMaxMin>>;\n        forward: Partial<Record<'intraday', TMaxMin>>;\n    };\n    units_display: Partial<Record<'spot' | 'forward', TUnit[]>>;\n};\n\ntype TDurationMinMax = {\n    [key: string]: {\n        max: string | number;\n        min: string | number;\n    };\n};\n\nconst getDurationMaps = () => ({\n    t: { display: localize('Ticks'), order: 1, to_second: null },\n    s: { display: localize('Seconds'), order: 2, to_second: 1 },\n    m: { display: localize('Minutes'), order: 3, to_second: 60 },\n    h: { display: localize('Hours'), order: 4, to_second: 60 * 60 },\n    d: { display: localize('Days'), order: 5, to_second: 60 * 60 * 24 },\n});\n\nexport const buildDurationConfig = (\n    contract: TContract,\n    durations: TDurations = { min_max: { spot: {}, forward: {} }, units_display: {} }\n) => {\n    type TDurationMaps = keyof typeof duration_maps;\n\n    // Default to 'spot' if start_type is not available (field deprecated in API)\n    const start_type = contract.start_type || 'spot';\n\n    durations.units_display[start_type as keyof typeof durations.units_display] =\n        durations.units_display[start_type as keyof typeof durations.units_display] || [];\n\n    const duration_min_max = durations.min_max[start_type as keyof typeof durations.min_max];\n    const obj_min = getDurationFromString(contract.min_contract_duration);\n    const obj_max = getDurationFromString(contract.max_contract_duration);\n\n    durations.min_max[start_type as keyof typeof durations.min_max][\n        contract.expiry_type as keyof typeof duration_min_max\n    ] = {\n        min: convertDurationUnit(obj_min.duration, obj_min.unit, 's') || 0,\n        max: convertDurationUnit(obj_max.duration, obj_max.unit, 's') || 0,\n    };\n\n    const arr_units: string[] = [];\n    durations?.units_display?.[start_type as keyof typeof durations.units_display]?.forEach?.(obj => {\n        arr_units.push(obj.value);\n    });\n\n    const duration_maps = getDurationMaps();\n\n    if (/^(?:tick|daily)$/.test(contract.expiry_type)) {\n        if (arr_units.indexOf(obj_min.unit) === -1) {\n            arr_units.push(obj_min.unit);\n        }\n    } else {\n        Object.keys(duration_maps).forEach(u => {\n            if (\n                u !== 'd' && // when the expiray_type is intraday, the supported units are seconds, minutes and hours.\n                arr_units.indexOf(u) === -1 &&\n                duration_maps[u as TDurationMaps].order >= duration_maps[obj_min.unit as TDurationMaps].order &&\n                duration_maps[u as TDurationMaps].order <= duration_maps[obj_max.unit as TDurationMaps].order\n            ) {\n                arr_units.push(u);\n            }\n        });\n    }\n\n    durations.units_display[start_type as keyof typeof durations.units_display] = arr_units\n        .sort((a, b) => (duration_maps[a as TDurationMaps].order > duration_maps[b as TDurationMaps].order ? 1 : -1))\n        .reduce((o, c) => [...o, { text: duration_maps[c as TDurationMaps].display, value: c }], [] as TUnit[]);\n    return durations;\n};\n\nexport const convertDurationUnit = (value: number, from_unit: string, to_unit: string) => {\n    if (!value || !from_unit || !to_unit || isNaN(value)) {\n        return null;\n    }\n\n    const duration_maps = getDurationMaps();\n\n    if (from_unit === to_unit || duration_maps[from_unit as keyof typeof duration_maps].to_second === null) {\n        return value;\n    }\n\n    return (\n        (value * (duration_maps[from_unit as keyof typeof duration_maps]?.to_second ?? 1)) /\n        (duration_maps[to_unit as keyof typeof duration_maps]?.to_second ?? 1)\n    );\n};\n\nconst getDurationFromString = (duration_string: string) => {\n    const duration = duration_string.toString().match(/[a-zA-Z]+|[0-9]+/g) || '';\n    return {\n        duration: +duration[0], // converts string to numbers\n        unit: duration[1],\n    };\n};\n\n// TODO will change this after the global stores types get ready\nexport const getExpiryType = (store: any) => {\n    const { duration_unit, expiry_date, expiry_type, duration_units_list } = store;\n    const server_time = store.root_store.common.server_time;\n\n    const duration_is_day = expiry_type === 'duration' && duration_unit === 'd';\n    const expiry_is_after_today =\n        expiry_type === 'endtime' &&\n        ((toMoment(expiry_date) as unknown as moment.Moment).isAfter(\n            toMoment(server_time) as unknown as moment.MomentInput,\n            'day'\n        ) ||\n            !hasIntradayDurationUnit(duration_units_list));\n\n    let contract_expiry_type = 'daily';\n    if (!duration_is_day && !expiry_is_after_today) {\n        contract_expiry_type = duration_unit === 't' ? 'tick' : 'intraday';\n    }\n\n    return contract_expiry_type;\n};\n\nexport const convertDurationLimit = (value: number, unit: string) => {\n    if (!(value >= 0) || !unit || !Number.isInteger(value)) {\n        return null;\n    }\n\n    if (unit === 'm') {\n        const minute = value / 60;\n        return minute >= 1 ? Math.floor(minute) : 1;\n    } else if (unit === 'h') {\n        const hour = value / (60 * 60);\n        return hour >= 1 ? Math.floor(hour) : 1;\n    } else if (unit === 'd') {\n        const day = value / (60 * 60 * 24);\n        return day >= 1 ? Math.floor(day) : 1;\n    }\n\n    return value;\n};\n\nexport const hasIntradayDurationUnit = (duration_units_list: TUnit[]) => {\n    return duration_units_list.some(unit => ['m', 'h'].indexOf(unit.value) !== -1);\n};\n/**\n * On switching symbols, end_time value of volatility indices should be set to today\n *\n * @param {String} symbol\n * @param {String | null} expiry_type\n * @returns {*}\n */\nexport const resetEndTimeOnVolatilityIndices = (symbol: string, expiry_type: string | null) =>\n    /^R_/.test(symbol) && expiry_type === 'endtime' ? toMoment(null).format('DD MMM YYYY') : null;\n\nexport const getDurationMinMaxValues = (\n    duration_min_max: TDurationMinMax,\n    contract_expiry_type: string,\n    duration_unit: string\n) => {\n    if (!duration_min_max[contract_expiry_type]) return [];\n    const max_value = convertDurationLimit(+duration_min_max[contract_expiry_type].max, duration_unit);\n    const min_value = convertDurationLimit(+duration_min_max[contract_expiry_type].min, duration_unit);\n\n    return [min_value, max_value];\n};\n\nconst formatDisplayedTime = (time_unit: number) => (time_unit < 10 ? `0${time_unit}` : time_unit);\n\nexport const formatDurationTime = (time?: number) => {\n    if (time && !isNaN(time)) {\n        const minutes = Math.floor(time / 60);\n        const format_minutes = formatDisplayedTime(minutes);\n        const seconds = Math.floor(time % 60);\n        const format_seconds = formatDisplayedTime(seconds);\n        return `${format_minutes}:${format_seconds}`;\n    }\n\n    return '00:00';\n};\n",
            "size_bytes": 7185
        },
        "src/utils/help-content/help-strings/controls_forEach.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize(\n            'This block uses the variable \"i\" to control the iterations. With each iteration, the value of \"i\" is determined by the items in a given list.'\n        ),\n        localize('Example:'),\n        localize(\n            'In this example, the loop will repeat three times, as that is the number of items in the given list. During each iteration, the variable \"i\" will be assigned a value from the list. '\n        ),\n        localize('Please note that changing the value of \"i\" won\\'t change the value of the original item in the list'),\n    ],\n};\n",
            "size_bytes": 659
        },
        "src/components/shared_ui/toggle-switch/toggle-switch.tsx": {
            "content": "import * as React from 'react';\nimport classNames from 'classnames';\n\ntype TToggleSwitch = {\n    className?: string;\n    classNameButton?: string;\n    classNameLabel?: string;\n    handleToggle: () => void;\n    id: string;\n    is_enabled: boolean;\n    name?: string;\n};\n\nconst ToggleSwitch = ({\n    className,\n    classNameButton,\n    classNameLabel,\n    handleToggle,\n    id,\n    is_enabled,\n    name = 'toggle_switch',\n}: TToggleSwitch) => {\n    return (\n        <React.Fragment>\n            <input\n                aria-label={name}\n                className={classNames('dc-toggle-switch', className)}\n                id={id}\n                type='checkbox'\n                checked={is_enabled}\n                onChange={handleToggle}\n            />\n            <label className={classNames('dc-toggle-switch__label', classNameLabel)} htmlFor={id}>\n                <span className={classNames('dc-toggle-switch__button', classNameButton)} />\n            </label>\n        </React.Fragment>\n    );\n};\n\nexport default ToggleSwitch;\n",
            "size_bytes": 1031
        },
        "src/pages/bot-builder/quick-strategy/form-wrappers/form-tabs.tsx": {
            "content": "import React, { KeyboardEvent } from 'react';\nimport classNames from 'classnames';\nimport { observer } from 'mobx-react-lite';\nimport Text from '@/components/shared_ui/text';\nimport { FORM_TABS } from '../config';\nimport { TDescriptionItem } from '../types';\n\ntype TFormTabs = {\n    active_tab: string;\n    onChange: (tab: string) => void;\n    description?: TDescriptionItem[] | string;\n};\n\nconst FormTabs: React.FC<TFormTabs> = observer(({ active_tab, onChange, description }) => (\n    <div className='qs__body__content__head'>\n        <div className='qs__body__content__head__tabs'>\n            {FORM_TABS().map((tab, index) => {\n                const active = tab.value === active_tab;\n                const cs = 'qs__body__content__head__tabs__tab';\n                return (\n                    <span\n                        tabIndex={index}\n                        className={classNames(cs, {\n                            active,\n                            disabled: !description ? tab?.disabled : false,\n                        })}\n                        key={tab.value}\n                        onClick={() => onChange(tab.value)}\n                        onKeyDown={(e: KeyboardEvent) => {\n                            if (e.key === 'Enter') {\n                                onChange(tab.value);\n                            }\n                        }}\n                    >\n                        <Text size='xs' weight={active ? 'bold' : 'lighter'}>\n                            {tab.label}\n                        </Text>\n                    </span>\n                );\n            })}\n        </div>\n    </div>\n));\n\nexport default FormTabs;\n",
            "size_bytes": 1651
        },
        "src/pages/bot-builder/quick-strategy/form-wrappers/strategy-tab-content.tsx": {
            "content": "import React, { useState } from 'react';\nimport { observer } from 'mobx-react-lite';\nimport { useStore } from '@/hooks/useStore';\nimport { STRATEGIES } from '../config';\nimport { TDescription, TDescriptionItem } from '../types';\nimport AccordionStrategyGroup from './accordion-strategy-group';\nimport './strategy-accordion.scss';\n\ntype TStrategyDescription = Partial<{\n    formfields: React.ReactNode;\n    active_tab: string;\n    tutorial_selected_strategy: string;\n}>;\n\ntype TExpandedSubtitlesStorageDefault = {\n    [key: string]: boolean;\n};\n\nexport type TDataGroupedObjectsByTitle = {\n    type: string;\n    content: string[];\n};\n\nconst StrategyTabContent: React.FC<TStrategyDescription> = observer(\n    ({ formfields, active_tab, tutorial_selected_strategy }) => {\n        const { quick_strategy } = useStore();\n        const { selected_strategy } = quick_strategy;\n\n        const expanded_subtitles_storage_default: TExpandedSubtitlesStorageDefault = {};\n        const [expanded_subtitles_storage, setExpandedSubtitlesStorage] = useState(expanded_subtitles_storage_default);\n\n        const strategy = STRATEGIES()[tutorial_selected_strategy || (selected_strategy as keyof typeof STRATEGIES)];\n\n        const makeGroupedObjectsByTitle = () => {\n            return strategy?.description?.reduce((acc: TDescription, obj: TDescriptionItem, idx) => {\n                const is_subtitle = obj.type === 'subtitle_italic' || obj.type === 'subtitle';\n                if (is_subtitle) {\n                    acc.push([]);\n\n                    const generateStorageKey = (obj: TDataGroupedObjectsByTitle, selected_strategy: string): string => {\n                        return `${obj.content[0]}__${selected_strategy}`.split(' ').join('_').toLowerCase();\n                    };\n\n                    expanded_subtitles_storage_default[\n                        generateStorageKey(obj as TDataGroupedObjectsByTitle, selected_strategy)\n                    ] = obj?.expanded ?? false;\n                }\n\n                (acc[acc.length - 1] as TDescriptionItem[]).push({ ...obj, id: idx });\n                return acc;\n            }, []);\n        };\n\n        const grouped_objects_by_title: TDescription = Array.isArray(strategy?.description)\n            ? makeGroupedObjectsByTitle()\n            : [{ type: 'text', content: [strategy?.description] }];\n\n        return (\n            <>\n                {active_tab === 'TRADE_PARAMETERS' ? (\n                    <div className='qs__body__content__form'>{formfields}</div>\n                ) : (\n                    <div className='qs__body__content__description'>\n                        <AccordionStrategyGroup\n                            tutorial_selected_strategy={tutorial_selected_strategy}\n                            grouped_objects_by_title={grouped_objects_by_title}\n                            expanded_subtitles_storage={expanded_subtitles_storage}\n                            setExpandedSubtitlesStorage={setExpandedSubtitlesStorage}\n                        />\n                    </div>\n                )}\n            </>\n        );\n    }\n);\n\nexport default StrategyTabContent;\n",
            "size_bytes": 3124
        },
        "src/external/bot-skeleton/scratch/blocks/Text/text_prompt_ext.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { emptyTextValidator, modifyContextMenu } from '../../utils';\n\nwindow.Blockly.Blocks.text_prompt_ext = {\n    init() {\n        this.jsonInit(this.definition());\n        const typeField = this.getField('TYPE');\n        typeField.setValidator(value => {\n            if (value === 'TEXT') {\n                this.setOutput(true, 'String');\n            } else if (value === 'NUMBER') {\n                this.setOutput(true, 'Number');\n            }\n            this.initSvg();\n            this.renderEfficiently();\n            return undefined;\n        });\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    definition() {\n        return {\n            message0: localize('prompt for {{ string_or_number }} with message {{ input_text }}', {\n                string_or_number: '%1',\n                input_text: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'TYPE',\n                    options: [\n                        [localize('string'), 'TEXT'],\n                        [localize('number'), 'NUMBER'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'TEXT',\n                },\n            ],\n            output:\n                typeof this.getFieldValue === 'function' && this.getFieldValue('TYPE') === 'TEXT' ? 'String' : 'Number',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Special3.colour,\n            colourSecondary: window.Blockly.Colours.Special3.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Special3.colourTertiary,\n            tooltip: localize('Request an input'),\n            category: window.Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Request an input'),\n            description: localize(\n                'This block displays a dialog box that uses a customised message to prompt for an input. The input can be either a string of text or a number and can be assigned to a variable. When the dialog box is displayed, your strategy is paused and will only resume after you enter a response and click \"OK\".'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            TEXT: emptyTextValidator,\n        };\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.text_prompt_ext = block => {\n    let msg, code;\n\n    if (block.getField('TEXT')) {\n        // Internal message\n        // eslint-disable-next-line no-underscore-dangle\n        msg = window.Blockly.JavaScript.javascriptGenerator.quote_(block.getFieldValue('TEXT'));\n    } else {\n        // External message\n        msg =\n            window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n                block,\n                'TEXT',\n                window.Blockly.JavaScript.javascriptGenerator.ORDER_NONE\n            ) || \"''\";\n    }\n\n    if (block.getFieldValue('TYPE') === 'NUMBER') {\n        code = `parseFloat(window.prompt(${msg}))`;\n    } else {\n        code = `window.prompt(${msg})`;\n    }\n\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_FUNCTION_CALL];\n};\n",
            "size_bytes": 3304
        },
        "src/pages/dashboard/bot-list/dashboard-bot-list.tsx": {
            "content": "import React from 'react';\nimport { observer } from 'mobx-react-lite';\nimport Text from '@/components/shared_ui/text';\nimport { getSavedWorkspaces } from '@/external/bot-skeleton';\nimport { useStore } from '@/hooks/useStore';\nimport { Localize, localize } from '@deriv-com/translations';\nimport { useDevice } from '@deriv-com/ui';\nimport DeleteDialog from './delete-dialog';\nimport RecentWorkspace from './recent-workspace';\nimport './index.scss';\n\ntype THeader = {\n    label: string;\n    className: string;\n};\n\nconst HEADERS: THeader[] = [\n    {\n        label: localize('Bot name'),\n        className: 'bot-list__header__label',\n    },\n    {\n        label: localize('Last modified'),\n        className: 'bot-list__header__time-stamp',\n    },\n    {\n        label: localize('Status'),\n        className: 'bot-list__header__load-type',\n    },\n];\n\nconst DashboardBotList = observer(() => {\n    const { load_modal, dashboard } = useStore();\n    const { setDashboardStrategies, dashboard_strategies } = load_modal;\n    const { setStrategySaveType, strategy_save_type } = dashboard;\n    const { isDesktop } = useDevice();\n    const get_first_strategy_info = React.useRef(false);\n    const get_instacee = React.useRef(false);\n\n    React.useEffect(() => {\n        setStrategySaveType('');\n        const getStrategies = async () => {\n            const recent_strategies = await getSavedWorkspaces();\n            setDashboardStrategies(recent_strategies);\n            if (!get_instacee.current) {\n                get_instacee.current = true;\n            }\n        };\n        getStrategies();\n        //this dependency is used when we use the save modal popup\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [strategy_save_type]);\n\n    React.useEffect(() => {\n        if (!dashboard_strategies?.length && !get_first_strategy_info.current) {\n            get_first_strategy_info.current = true;\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    if (!dashboard_strategies?.length) return null;\n    return (\n        <div className='bot-list__container'>\n            <div className='bot-list__wrapper'>\n                <div className='bot-list__title'>\n                    <Text size={isDesktop ? 's' : 'xs'} weight='bold'>\n                        <Localize i18n_default_text='Your bots:' />\n                    </Text>\n                </div>\n                <div className='bot-list__header'>\n                    {HEADERS.map(({ label, className }) => {\n                        return (\n                            <div className={className} key={label}>\n                                <Text size={isDesktop ? 'xs' : 'xxs'} weight='bold'>\n                                    {label}\n                                </Text>\n                            </div>\n                        );\n                    })}\n                </div>\n                <div className='bot-list__table'>\n                    {dashboard_strategies.map(workspace => (\n                        <RecentWorkspace key={workspace.id} workspace={workspace} />\n                    ))}\n                </div>\n            </div>\n            <DeleteDialog />\n        </div>\n    );\n});\n\nexport default DashboardBotList;\n",
            "size_bytes": 3233
        },
        "src/utils/help-content/help-strings/balance.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize('This block returns current account balance.'),\n        localize(\n            'The only input parameter determines how block output is going to be formatted. In case if the input parameter is \"string\" then the account currency will be added.'\n        ),\n        localize('Example output of the below example will be:'),\n        localize('1. for \"string\": 1325.68 USD'),\n        localize('2. for \"number\": 1325.68'),\n    ],\n};\n",
            "size_bytes": 531
        },
        "src/external/bot-skeleton/scratch/hooks/tooltip.js": {
            "content": "import { blueInfo } from '../blocks/images';\n\nwindow.Blockly.Tooltip.HOVER_MS = 50;\n\nwindow.Blockly.Tooltip.show_ = () => {\n    let params;\n    window.Blockly.Tooltip.DIV =\n        ((window.Blockly.Tooltip.poisonedElement_ = window.Blockly.Tooltip.element_), window.Blockly.Tooltip.DIV);\n    if (!window.Blockly.Tooltip.blocked_) {\n        window.Blockly.Tooltip.DIV.innerHTML = '';\n        for (params = window.Blockly.Tooltip.element_.tooltip; typeof params === 'function'; ) params = params();\n        params = window.Blockly.utils.string.wrap(params, window.Blockly.Tooltip.LIMIT);\n        params = params.split('\\n');\n\n        params.forEach((param, index) => {\n            const div = document.createElement('div');\n            const text_span = document.createElement('span');\n\n            text_span.appendChild(document.createTextNode(param));\n            text_span.style.verticalAlign = 'middle';\n            window.Blockly.Tooltip.DIV.appendChild(div);\n\n            if (!index) {\n                const img = document.createElement('img');\n                const img_span = document.createElement('span');\n                img.src = blueInfo;\n                img.style.paddingRight = '8px';\n                img.style.verticalAlign = 'middle';\n                div.appendChild(img_span);\n                img_span.appendChild(img);\n            } else {\n                text_span.style.paddingLeft = '24px';\n            }\n\n            div.appendChild(text_span);\n        });\n\n        const direction = window.Blockly.Tooltip.element_.RTL;\n        const client_width = document.documentElement.clientWidth;\n        const client_height = document.documentElement.clientHeight;\n        if (window.Blockly.Tooltip.DIV) {\n            window.Blockly.Tooltip.DIV.style.direction = direction ? 'rtl' : 'ltr';\n        }\n        window.Blockly.Tooltip.DIV.style.display = 'block';\n        window.Blockly.Tooltip.visible = true;\n        let last_x = window.Blockly.Tooltip.lastX_;\n        last_x = direction\n            ? last_x - (window.Blockly.Tooltip.OFFSET_X + window.Blockly.Tooltip.DIV.offsetWidth)\n            : last_x + window.Blockly.Tooltip.OFFSET_X;\n        let last_y = window.Blockly.Tooltip.lastY_ + window.Blockly.Tooltip.OFFSET_Y;\n        if (last_y + window.Blockly.Tooltip.DIV.offsetHeight > client_height + window.scrollY) {\n            last_y -= window.Blockly.Tooltip.DIV.offsetHeight + 2 * window.Blockly.Tooltip.OFFSET_Y;\n        }\n        if (direction) {\n            last_x = Math.max(window.Blockly.Tooltip.MARGINS - window.scrollX, last_x);\n        }\n        if (\n            last_x + window.Blockly.Tooltip.DIV.offsetWidth >\n            client_width + window.scrollX - 2 * window.Blockly.Tooltip.MARGINS\n        ) {\n            last_x = client_width - window.Blockly.Tooltip.DIV.offsetWidth - 2 * window.Blockly.Tooltip.MARGINS;\n        }\n        window.Blockly.Tooltip.DIV.style.top = `${last_y}px`;\n        window.Blockly.Tooltip.DIV.style.left = `${last_x}px`;\n    }\n};\n\nwindow.Blockly.Tooltip.hide = () => {\n    if (window.Blockly.Tooltip.visible && window.Blockly.Tooltip.DIV) {\n        window.Blockly.Tooltip.visible = false;\n        setTimeout(() => (window.Blockly.Tooltip.DIV.style.display = 'none'), window.Blockly.Tooltip.HOVER_MS);\n    }\n    if (window.Blockly.Tooltip.showPid_) {\n        clearTimeout(window.Blockly.Tooltip.showPid_);\n    }\n\n    /// For hiding tooltip next to the platform name.\n    if (!window.Blockly.Tooltip.DIV?.style.direction) {\n        window.Blockly.Tooltip.visible = false;\n        window.Blockly.Tooltip.DIV.style.display = 'none';\n    }\n};\n",
            "size_bytes": 3602
        },
        "src/stores/data-collection-store.ts": {
            "content": "import crc32 from 'crc-32/crc32';\nimport { action, makeObservable, observable, reaction } from 'mobx';\nimport { cloneObject, isProduction } from '@/components/shared';\nimport { convertStrategyToIsDbot, DBot } from '@/external/bot-skeleton';\nimport { TStores } from '@deriv/stores/types';\nimport RootStore from './root-store';\n\nexport default class DataCollectionStore {\n    root_store: RootStore;\n    core: TStores;\n    constructor(root_store: RootStore, core: TStores) {\n        makeObservable(this, {\n            IS_PENDING: observable,\n            IS_PROCESSED: observable,\n            endpoint: observable,\n            run_id: observable,\n            run_start: observable,\n            should_post_xml: observable,\n            strategy_content: observable,\n            transaction_ids: observable,\n            trackRun: action.bound,\n            trackTransaction: action.bound,\n            setRunId: action.bound,\n            setRunStart: action.bound,\n            setStrategyContent: action.bound,\n            cleanXmlDom: action.bound,\n            getHash: action.bound,\n        });\n        this.root_store = root_store;\n        this.core = core;\n        if (isProduction() || /(.*?)\\.binary.sx$/.test(window.location.hostname)) {\n            this.root_store = root_store;\n\n            reaction(\n                () => this.root_store.run_panel.is_running,\n                () => (this.root_store.run_panel.is_running ? this.trackRun() : undefined)\n            );\n            reaction(\n                () => this.root_store.transactions.transactions,\n                transactions => {\n                    if (this.run_id) this.trackTransaction(transactions);\n                }\n            );\n        }\n    }\n\n    // Constants\n    IS_PENDING = false;\n    IS_PROCESSED = true;\n\n    endpoint = 'https://dbot-conf-dot-deriv-bi-reporting.as.r.appspot.com/dbotconf';\n    run_id = '';\n    run_start = 0;\n    should_post_xml = true;\n    strategy_content = '';\n    transaction_ids: Record<string, unknown> = {};\n\n    async trackRun() {\n        const converted_workspace_to_dom = this.cleanXmlDom(\n            window.Blockly.Xml.workspaceToDom(DBot.workspace, /* opt_noId */ true)\n        );\n        const xml_dom = convertStrategyToIsDbot(converted_workspace_to_dom);\n        const xml_string = window.Blockly.Xml.domToText(xml_dom);\n        const xml_hash = this.getHash(xml_string);\n\n        if (this.getHash(this.strategy_content) !== xml_hash) {\n            this.should_post_xml = true;\n            this.setStrategyContent(xml_string);\n        }\n\n        this.setRunId(this.getHash(xml_hash + this.core.client.loginid + Math.random()));\n        this.setRunStart(this.core.common.server_time.unix());\n    }\n\n    async trackTransaction(\n        contracts: {\n            data: {\n                transaction_ids: {\n                    buy: number;\n                };\n            };\n        }[]\n    ) {\n        const pako = await import(/* webpackChunkName: \"dbot-collection\" */ 'pako');\n        const contract = contracts[0]; // Most recent contract.\n\n        if (!contract) {\n            return;\n        }\n\n        const { buy: transaction_id } = contract.data.transaction_ids;\n        const is_known_transaction = Object.keys(this.transaction_ids).includes(transaction_id.toString());\n\n        if (!is_known_transaction) {\n            this.transaction_ids[transaction_id] = this.IS_PENDING;\n\n            const getPayload = () => {\n                const content = pako.gzip(this.strategy_content);\n                return {\n                    body: content,\n                    headers: {\n                        'Content-Encoding': 'gzip',\n                        'Content-Type': 'application/xml',\n                        Referer: window.location.hostname,\n                    },\n                };\n            };\n\n            fetch(\n                `${this.endpoint}/${this.run_id}/${transaction_id}/${this.run_start}/${this.getHash(\n                    this.strategy_content\n                )}`,\n                {\n                    ...(this.should_post_xml ? getPayload() : {}),\n                    method: 'POST',\n                    mode: 'no-cors',\n                }\n            )\n                .then(() => {\n                    this.should_post_xml = false;\n                    this.transaction_ids[transaction_id] = this.IS_PROCESSED;\n                })\n                .catch(() => {\n                    delete this.transaction_ids[transaction_id];\n                });\n        }\n    }\n\n    setRunId(run_id: string) {\n        this.run_id = run_id;\n    }\n\n    setRunStart(timestamp: number) {\n        this.run_start = timestamp;\n    }\n\n    setStrategyContent(strategy_content: string) {\n        this.strategy_content = strategy_content;\n    }\n\n    cleanXmlDom = (xml_dom: XMLDocument) => {\n        const useless_attributes = ['x', 'y', 'id'];\n        const updated_dom = cloneObject(xml_dom);\n        const removeAttributesRecursively = (element: Element) => {\n            useless_attributes.forEach(useless_attribute => element.removeAttribute(useless_attribute));\n            Array.from(element.children).forEach(child => removeAttributesRecursively(child));\n        };\n\n        removeAttributesRecursively(updated_dom);\n        return updated_dom;\n    };\n\n    getHash = (string: string) => btoa(String(crc32.str(string)));\n}\n",
            "size_bytes": 5336
        },
        "src/components/shared_ui/tooltip/index.ts": {
            "content": "import Tooltip from './tooltip';\nimport './tooltip.scss';\n\nexport default Tooltip;\n",
            "size_bytes": 83
        },
        "src/stores/transactions-store.ts": {
            "content": "import { action, computed, makeObservable, observable, reaction } from 'mobx';\nimport { formatDate, isEnded } from '@/components/shared';\nimport { LogTypes } from '@/external/bot-skeleton';\nimport { ProposalOpenContract } from '@deriv/api-types';\nimport { TPortfolioPosition, TStores } from '@deriv/stores/types';\nimport { TContractInfo } from '../components/summary/summary-card.types';\nimport { transaction_elements } from '../constants/transactions';\nimport { getStoredItemsByKey, getStoredItemsByUser, setStoredItemsByKey } from '../utils/session-storage';\nimport RootStore from './root-store';\n\ntype TTransaction = {\n    type: string;\n    data?: string | TContractInfo;\n};\n\ntype TElement = {\n    [key: string]: TTransaction[];\n};\n\nexport default class TransactionsStore {\n    root_store: RootStore;\n    core: TStores;\n    disposeReactionsFn: () => void;\n\n    constructor(root_store: RootStore, core: TStores) {\n        this.root_store = root_store;\n        this.core = core;\n        this.is_transaction_details_modal_open = false;\n        this.disposeReactionsFn = this.registerReactions();\n\n        makeObservable(this, {\n            elements: observable,\n            active_transaction_id: observable,\n            recovered_completed_transactions: observable,\n            recovered_transactions: observable,\n            is_called_proposal_open_contract: observable,\n            is_transaction_details_modal_open: observable,\n            transactions: computed,\n            onBotContractEvent: action.bound,\n            pushTransaction: action.bound,\n            clear: action.bound,\n            registerReactions: action.bound,\n            recoverPendingContracts: action.bound,\n            updateResultsCompletedContract: action.bound,\n            sortOutPositionsBeforeAction: action.bound,\n            recoverPendingContractsById: action.bound,\n        });\n    }\n    TRANSACTION_CACHE = 'transaction_cache';\n\n    elements: TElement = getStoredItemsByUser(this.TRANSACTION_CACHE, this.core?.client?.loginid, []);\n    active_transaction_id: null | number = null;\n    recovered_completed_transactions: number[] = [];\n    recovered_transactions: number[] = [];\n    is_called_proposal_open_contract = false;\n    is_transaction_details_modal_open = false;\n\n    get transactions(): TTransaction[] {\n        if (this.core?.client?.loginid) return this.elements[this.core?.client?.loginid] ?? [];\n        return [];\n    }\n\n    get statistics() {\n        let total_runs = 0;\n        // Filter out only contract transactions and remove dividers\n        const trxs = this.transactions.filter(\n            trx => trx.type === transaction_elements.CONTRACT && typeof trx.data === 'object'\n        );\n        const statistics = trxs.reduce(\n            (stats, { data }) => {\n                const contract = data as TContractInfo;\n                const profit = Number(contract.profit) || 0;\n                const is_completed = contract.is_completed || false;\n                const buy_price = Number(contract.buy_price) || 0;\n                const payout = Number(contract.payout) || Number(contract.bid_price) || 0;\n                const bid_price = Number(contract.bid_price) || 0;\n\n                if (is_completed) {\n                    if (profit > 0) {\n                        stats.won_contracts += 1;\n                        stats.total_payout += payout ?? bid_price ?? 0;\n                    } else {\n                        stats.lost_contracts += 1;\n                    }\n                    stats.total_profit += profit;\n                    stats.total_stake += buy_price;\n                    total_runs += 1;\n                }\n                return stats;\n            },\n            {\n                lost_contracts: 0,\n                number_of_runs: 0,\n                total_profit: 0,\n                total_payout: 0,\n                total_stake: 0,\n                won_contracts: 0,\n            }\n        );\n        statistics.number_of_runs = total_runs;\n        return statistics;\n    }\n\n    toggleTransactionDetailsModal = (is_open: boolean) => {\n        this.is_transaction_details_modal_open = is_open;\n    };\n\n    onBotContractEvent(data: TContractInfo) {\n        this.pushTransaction(data);\n    }\n\n    pushTransaction(data: TContractInfo) {\n        const is_completed = isEnded(data as ProposalOpenContract);\n        const { run_id } = this.root_store.run_panel;\n        const current_account = this.core?.client?.loginid as string;\n\n        const contract: TContractInfo = {\n            ...data,\n            is_completed,\n            run_id,\n            date_start: formatDate(data.date_start, 'YYYY-M-D HH:mm:ss [GMT]'),\n            entry_tick: data.entry_spot,\n            entry_tick_time: data.entry_tick_time && formatDate(data.entry_tick_time, 'YYYY-M-D HH:mm:ss [GMT]'),\n            exit_tick: (data as any).exit_spot || data.exit_tick,\n            exit_tick_time: data.exit_tick_time && formatDate(data.exit_tick_time, 'YYYY-M-D HH:mm:ss [GMT]'),\n            profit: is_completed ? data.profit : 0,\n        };\n\n        if (!this.elements[current_account]) {\n            this.elements = {\n                ...this.elements,\n                [current_account]: [],\n            };\n        }\n\n        const same_contract_index = this.elements[current_account]?.findIndex(c => {\n            if (typeof c.data === 'string') return false;\n            return (\n                c.type === transaction_elements.CONTRACT &&\n                c.data?.transaction_ids &&\n                c.data.transaction_ids.buy === data.transaction_ids?.buy\n            );\n        });\n\n        if (same_contract_index === -1) {\n            // Render a divider if the \"run_id\" for this contract is different.\n            if (this.elements[current_account]?.length > 0) {\n                const temp_contract = this.elements[current_account]?.[0];\n                const is_contract = temp_contract.type === transaction_elements.CONTRACT;\n                const is_new_run =\n                    is_contract &&\n                    typeof temp_contract.data === 'object' &&\n                    contract.run_id !== temp_contract?.data?.run_id;\n\n                if (is_new_run) {\n                    this.elements[current_account]?.unshift({\n                        type: transaction_elements.DIVIDER,\n                        data: contract.run_id,\n                    });\n                }\n            }\n\n            this.elements[current_account]?.unshift({\n                type: transaction_elements.CONTRACT,\n                data: contract,\n            });\n        } else {\n            // If data belongs to existing contract in memory, update it.\n            this.elements[current_account]?.splice(same_contract_index, 1, {\n                type: transaction_elements.CONTRACT,\n                data: contract,\n            });\n        }\n\n        this.elements = { ...this.elements }; // force update\n    }\n\n    clear() {\n        if (this.elements && this.elements[this.core?.client?.loginid as string]?.length > 0) {\n            this.elements[this.core?.client?.loginid as string] = [];\n        }\n        this.recovered_completed_transactions = this.recovered_completed_transactions?.slice(0, 0);\n        this.recovered_transactions = this.recovered_transactions?.slice(0, 0);\n        this.is_transaction_details_modal_open = false;\n    }\n\n    registerReactions() {\n        const { client } = this.core;\n\n        // Write transactions to session storage on each change in transaction elements.\n        const disposeTransactionElementsListener = reaction(\n            () => this.elements[client?.loginid as string],\n            elements => {\n                const stored_transactions = getStoredItemsByKey(this.TRANSACTION_CACHE, {});\n                stored_transactions[client.loginid as string] = elements?.slice(0, 5000) ?? [];\n                setStoredItemsByKey(this.TRANSACTION_CACHE, stored_transactions);\n            }\n        );\n\n        // User could've left the page mid-contract. On initial load, try\n        // to recover any pending contracts so we can reflect accurate stats\n        // and transactions.\n        const disposeRecoverContracts = reaction(\n            () => this.transactions.length,\n            () => this.recoverPendingContracts()\n        );\n\n        return () => {\n            disposeTransactionElementsListener();\n            disposeRecoverContracts();\n        };\n    }\n\n    recoverPendingContracts(contract = null) {\n        this.transactions.forEach(({ data: trx }) => {\n            if (\n                typeof trx === 'string' ||\n                trx?.is_completed ||\n                !trx?.contract_id ||\n                this.recovered_transactions.includes(trx?.contract_id)\n            )\n                return;\n            this.recoverPendingContractsById(trx.contract_id, contract);\n        });\n    }\n\n    updateResultsCompletedContract(contract: ProposalOpenContract) {\n        const { journal, summary_card } = this.root_store;\n        const { contract_info } = summary_card;\n        const { currency, profit } = contract;\n\n        if (contract.contract_id !== contract_info?.contract_id) {\n            this.onBotContractEvent(contract);\n\n            if (contract.contract_id && !this.recovered_transactions.includes(contract.contract_id)) {\n                this.recovered_transactions.push(contract.contract_id);\n            }\n            if (\n                contract.contract_id &&\n                !this.recovered_completed_transactions.includes(contract.contract_id) &&\n                isEnded(contract)\n            ) {\n                this.recovered_completed_transactions.push(contract.contract_id);\n\n                journal.onLogSuccess({\n                    log_type: profit && profit > 0 ? LogTypes.PROFIT : LogTypes.LOST,\n                    extra: { currency, profit },\n                });\n            }\n        }\n    }\n\n    sortOutPositionsBeforeAction(positions: TPortfolioPosition[], element_id?: number) {\n        positions?.forEach(position => {\n            if (!element_id || (element_id && position.id === element_id)) {\n                const contract_details = position.contract_info;\n                this.updateResultsCompletedContract(contract_details);\n            }\n        });\n    }\n\n    async recoverPendingContractsById(contract_id: number, contract: ProposalOpenContract | null = null) {\n        // TODO: need to fix as the portfolio is not available now\n        // const positions = this.core.portfolio.positions;\n        const positions: unknown[] = [];\n\n        if (contract) {\n            this.is_called_proposal_open_contract = true;\n            if (contract.contract_id === contract_id) {\n                this.updateResultsCompletedContract(contract);\n            }\n        }\n\n        if (!this.is_called_proposal_open_contract) {\n            if (this.core?.client?.loginid) {\n                const current_account = this.core?.client?.loginid;\n                if (!this.elements[current_account]?.length) {\n                    this.sortOutPositionsBeforeAction(positions);\n                }\n\n                const elements = this.elements[current_account];\n                const [element = null] = elements;\n                if (typeof element?.data === 'object' && !element?.data?.profit) {\n                    const element_id = element.data.contract_id;\n                    this.sortOutPositionsBeforeAction(positions, element_id);\n                }\n            }\n        }\n    }\n}\n",
            "size_bytes": 11452
        },
        "src/pages/bot-builder/toolbox/search-box/search-icon.tsx": {
            "content": "import { observer } from 'mobx-react-lite';\nimport { LabelPairedSearchCaptionRegularIcon } from '@deriv/quill-icons/LabelPaired';\nimport { LegacyCloseCircle1pxBlackIcon } from '@deriv/quill-icons/Legacy';\n\ntype TSearchIcon = {\n    search: string;\n    is_search_loading: boolean;\n    onClick: () => void;\n};\n\nconst SearchIcon = observer(({ search, is_search_loading, onClick }: TSearchIcon) => {\n    if (!search) return <LabelPairedSearchCaptionRegularIcon height='20px' width='20px' fill='var(--text-general)' />;\n    if (is_search_loading) return <div className='loader' data-testid='loader' />;\n    return <LegacyCloseCircle1pxBlackIcon onClick={onClick} height='18px' width='18px' fill='var(--text-general)' />;\n});\n\nexport default SearchIcon;\n",
            "size_bytes": 747
        },
        "src/components/layout/header/mobile-menu/use-mobile-menu-config.tsx": {
            "content": "import { ComponentProps, ReactNode, useEffect, useMemo, useState } from 'react';\nimport { useFirebaseCountriesConfig } from '@/hooks/firebase/useFirebaseCountriesConfig';\nimport useThemeSwitcher from '@/hooks/useThemeSwitcher';\nimport RootStore from '@/stores/root-store';\nimport { handleTraderHubRedirect } from '@/utils/traders-hub-redirect';\nimport { LegacyLogout1pxIcon, LegacyReportsIcon, LegacyTheme1pxIcon } from '@deriv/quill-icons/Legacy';\nimport { useTranslations } from '@deriv-com/translations';\nimport { ToggleSwitch } from '@deriv-com/ui';\n\nexport type TSubmenuSection = 'accountSettings' | 'cashier' | 'reports';\n\n//IconTypes\ntype TMenuConfig = {\n    LeftComponent: React.ElementType;\n    RightComponent?: ReactNode;\n    as: 'a' | 'button';\n    href?: string;\n    label: ReactNode;\n    onClick?: () => void;\n    removeBorderBottom?: boolean;\n    submenu?: TSubmenuSection;\n    target?: ComponentProps<'a'>['target'];\n    isActive?: boolean;\n}[];\n\nconst useMobileMenuConfig = (client?: RootStore['client'], onLogout?: () => void) => {\n    const { localize } = useTranslations();\n    const { is_dark_mode_on, toggleTheme } = useThemeSwitcher();\n    const { hubEnabledCountryList } = useFirebaseCountriesConfig();\n\n    const [redirect_url_str, setRedirectUrlStr] = useState<null | string>(null);\n\n    // Get current account information for dependency tracking\n    const is_virtual = client?.is_virtual;\n    const currency = client?.getCurrency?.();\n    const is_logged_in = client?.is_logged_in;\n    const client_residence = client?.residence;\n\n    useEffect(() => {\n        if (client?.is_logged_in) {\n            const redirectParams = {\n                product_type: 'tradershub' as const,\n                has_wallet: false,\n                is_virtual: client?.is_virtual,\n                residence: client?.residence,\n                hubEnabledCountryList,\n            };\n            setRedirectUrlStr(handleTraderHubRedirect(redirectParams));\n        }\n    }, [client?.is_virtual, client?.residence, hubEnabledCountryList, client?.is_logged_in]);\n\n    const menuConfig = useMemo((): TMenuConfig[] => {\n        return [\n            [\n                client?.is_logged_in && {\n                    as: 'button',\n                    label: localize('Reports'),\n                    LeftComponent: LegacyReportsIcon,\n                    submenu: 'reports',\n                    onClick: () => {},\n                },\n                {\n                    as: 'button',\n                    label: localize('Dark theme'),\n                    LeftComponent: LegacyTheme1pxIcon,\n                    RightComponent: <ToggleSwitch value={is_dark_mode_on} onChange={toggleTheme} />,\n                },\n            ].filter(Boolean) as TMenuConfig,\n            [\n                client?.is_logged_in &&\n                    onLogout && {\n                        as: 'button',\n                        label: localize('Log out'),\n                        LeftComponent: LegacyLogout1pxIcon,\n                        onClick: onLogout,\n                        removeBorderBottom: true,\n                    },\n            ].filter(Boolean) as TMenuConfig,\n        ].filter(section => section.length > 0);\n    }, [\n        is_virtual,\n        currency,\n        is_logged_in,\n        client_residence,\n        client,\n        onLogout,\n        is_dark_mode_on,\n        toggleTheme,\n        localize,\n        redirect_url_str,\n        hubEnabledCountryList,\n    ]);\n\n    return {\n        config: menuConfig,\n    };\n};\n\nexport default useMobileMenuConfig;\n",
            "size_bytes": 3546
        },
        "src/components/layout/header/mobile-menu/mobile-menu.tsx": {
            "content": "import { useState } from 'react';\nimport useModalManager from '@/hooks/useModalManager';\nimport { getActiveTabUrl } from '@/utils/getActiveTabUrl';\nimport { FILTERED_LANGUAGES } from '@/utils/languages';\nimport { useTranslations } from '@deriv-com/translations';\nimport { Drawer, MobileLanguagesDrawer, useDevice } from '@deriv-com/ui';\nimport NetworkStatus from './../../footer/NetworkStatus';\nimport ServerTime from './../../footer/ServerTime';\nimport BackButton from './back-button';\nimport MenuContent from './menu-content';\nimport MenuHeader from './menu-header';\nimport ReportsSubmenu from './reports-submenu';\nimport ToggleButton from './toggle-button';\nimport './mobile-menu.scss';\n\ntype TMobileMenuProps = {\n    onLogout?: () => void;\n};\n\nconst MobileMenu = ({ onLogout }: TMobileMenuProps) => {\n    const [isDrawerOpen, setIsDrawerOpen] = useState(false);\n    const [activeSubmenu, setActiveSubmenu] = useState<string | null>(null);\n    const { currentLang = 'EN', localize, switchLanguage } = useTranslations();\n    const { hideModal, isModalOpenFor, showModal } = useModalManager();\n    const { isDesktop } = useDevice();\n\n    const openDrawer = () => setIsDrawerOpen(true);\n    const closeDrawer = () => {\n        setIsDrawerOpen(false);\n        setActiveSubmenu(null);\n    };\n\n    const openSubmenu = (submenu: string) => setActiveSubmenu(submenu);\n    const closeSubmenu = () => setActiveSubmenu(null);\n    const openLanguageSetting = () => showModal('MobileLanguagesDrawer');\n    const isLanguageSettingVisible = Boolean(isModalOpenFor('MobileLanguagesDrawer'));\n\n    if (isDesktop) return null;\n    return (\n        <div className='mobile-menu'>\n            <div className='mobile-menu__toggle'>\n                <ToggleButton onClick={openDrawer} />\n            </div>\n\n            <Drawer isOpen={isDrawerOpen} onCloseDrawer={closeDrawer} width='29.5rem'>\n                <Drawer.Header onCloseDrawer={closeDrawer}>\n                    <MenuHeader\n                        hideLanguageSetting={isLanguageSettingVisible}\n                        openLanguageSetting={openLanguageSetting}\n                    />\n                </Drawer.Header>\n\n                <Drawer.Content>\n                    {isLanguageSettingVisible ? (\n                        <>\n                            <div className='mobile-menu__back-btn'>\n                                <BackButton buttonText={localize('Language')} onClick={hideModal} />\n                            </div>\n\n                            <MobileLanguagesDrawer\n                                isOpen\n                                languages={FILTERED_LANGUAGES}\n                                onClose={hideModal}\n                                onLanguageSwitch={code => {\n                                    try {\n                                        switchLanguage(code);\n                                        hideModal();\n                                        // Page reload is necessary because Blockly is outside React lifecycle\n                                        // and won't re-render with new language without full page refresh\n                                        window.location.replace(getActiveTabUrl());\n                                        window.location.reload();\n                                    } catch (error) {\n                                        console.error('Failed to switch language:', error);\n                                        hideModal();\n                                    }\n                                }}\n                                selectedLanguage={currentLang}\n                                wrapperClassName='mobile-menu__language-drawer'\n                            />\n                        </>\n                    ) : activeSubmenu === 'reports' ? (\n                        <>\n                            <div className='mobile-menu__back-btn'>\n                                <BackButton buttonText={localize('Reports')} onClick={closeSubmenu} />\n                            </div>\n                            <ReportsSubmenu />\n                        </>\n                    ) : (\n                        <MenuContent\n                            onOpenSubmenu={openSubmenu}\n                            onLogout={() => {\n                                closeDrawer();\n                                onLogout?.();\n                            }}\n                        />\n                    )}\n                </Drawer.Content>\n\n                <Drawer.Footer className='mobile-menu__footer'>\n                    <ServerTime />\n                    <NetworkStatus />\n                </Drawer.Footer>\n            </Drawer>\n        </div>\n    );\n};\n\nexport default MobileMenu;\n",
            "size_bytes": 4722
        },
        "src/utils/mock/mock-local-storage.ts": {
            "content": "// to use this localStorage mock, add the following import statement to the test file:\n// import '@/utils/mock/mock-local-storage';\n\nlet store: Record<string, string> = {};\n\nexport const mockLocalStorage = (() => {\n    return {\n        getItem(key: string) {\n            return store[key] || null;\n        },\n        setItem(key: string, value: string) {\n            store[key] = value.toString();\n        },\n        clear() {\n            store = {};\n        },\n        removeItem(key: string) {\n            delete store[key];\n        },\n    };\n})();\n",
            "size_bytes": 551
        },
        "src/components/shared_ui/fade-wrapper/fade-wrapper.tsx": {
            "content": "import { ReactNode } from 'react';\nimport { motion } from 'framer-motion';\n\ntype TFadeWrapperProps = {\n    children: ReactNode;\n    is_visible: boolean;\n    keyname?: string;\n    type?: 'top' | 'bottom';\n    className?: string;\n};\n\nconst FadeInFromTopDiv = {\n    initial: {\n        y: -50,\n        opacity: 0,\n    },\n    animate: {\n        y: 0,\n        opacity: 1,\n    },\n\n    transition: { duration: 250, delay: 0.3 },\n};\n\nconst FadeInFromBottomDiv = {\n    initial: {\n        y: 50,\n        opacity: 0,\n    },\n    animate: {\n        y: 0,\n        opacity: 1,\n    },\n\n    transition: { duration: 0.25, delay: 0.3 },\n};\n\nconst FadeInOnlyDiv = {\n    initial: {\n        opacity: 0,\n    },\n    animate: {\n        opacity: 1,\n    },\n\n    transition: { duration: 0.3 },\n};\n\n// `flipMove={false}` is necessary to fix react-pose bug: https://github.com/Popmotion/popmotion/issues/805\nconst FadeWrapper = ({ children, className, is_visible, keyname, type }: TFadeWrapperProps) => {\n    if (type === 'top') {\n        return (\n            <>\n                {is_visible && (\n                    <motion.div\n                        animate={FadeInFromTopDiv.animate}\n                        initial={FadeInFromTopDiv.initial}\n                        transition={FadeInFromTopDiv.transition}\n                        className={className}\n                        key={keyname}\n                    >\n                        {children}\n                    </motion.div>\n                )}\n            </>\n        );\n    }\n    if (type === 'bottom') {\n        return (\n            <>\n                {is_visible && (\n                    <motion.div\n                        animate={FadeInFromBottomDiv.animate}\n                        initial={FadeInFromBottomDiv.initial}\n                        transition={FadeInFromBottomDiv.transition}\n                        className={className}\n                        key={keyname}\n                    >\n                        {children}\n                    </motion.div>\n                )}\n            </>\n        );\n    }\n    return (\n        <>\n            {is_visible && (\n                <motion.div\n                    animate={FadeInOnlyDiv.animate}\n                    initial={FadeInOnlyDiv.initial}\n                    transition={FadeInOnlyDiv.transition}\n                    className={className}\n                    key={keyname}\n                >\n                    {children}\n                </motion.div>\n            )}\n        </>\n    );\n};\n\nexport default FadeWrapper;\n",
            "size_bytes": 2516
        },
        "src/lib/analysis-engine.ts": {
            "content": "// Analysis engine for processing tick data and generating signals\nexport interface TickData {\n  epoch: number\n  quote: number\n  symbol: string\n  pipSize?: number\n}\n\nexport interface DigitFrequency {\n  digit: number\n  count: number\n  percentage: number\n}\n\nexport interface AnalysisResult {\n  digitFrequencies: DigitFrequency[]\n  evenCount: number\n  oddCount: number\n  evenPercentage: number\n  oddPercentage: number\n  highCount: number // 5-9\n  lowCount: number // 0-4\n  highPercentage: number\n  lowPercentage: number\n  entropy: number\n  powerIndex: { strongest: number; weakest: number; gap: number }\n  missingDigits: number[]\n  streaks: { digit: number; count: number }[]\n  totalTicks: number\n}\n\nexport interface Signal {\n  type:\n    | \"even_odd\"\n    | \"over_under\"\n    | \"matches\"\n    | \"differs\"\n    | \"rise_fall\"\n    | \"pro_even_odd\"\n    | \"pro_over_under\"\n    | \"pro_differs\"\n  status: \"TRADE NOW\" | \"WAIT\" | \"NEUTRAL\"\n  probability: number\n  recommendation: string\n  entryCondition: string\n  targetDigit?: number\n}\n\nexport class AnalysisEngine {\n  private ticks: TickData[] = []\n  private maxTicks = 100\n  private digitCounts: Map<number, number> = new Map()\n  private lastDigits: number[] = []\n  private pipSize = 2\n\n  constructor(maxTicks = 100) {\n    this.maxTicks = maxTicks\n    // Initialize digit counts\n    for (let i = 0; i <= 9; i++) {\n      this.digitCounts.set(i, 0)\n    }\n  }\n\n  setPipSize(pipSize: number): void {\n    this.pipSize = pipSize\n  }\n\n  addTick(tick: TickData): void {\n    const lastDigit = this.extractLastDigit(tick.quote, tick.pipSize || this.pipSize)\n\n    // Add to ticks array\n    this.ticks.push(tick)\n    this.lastDigits.push(lastDigit)\n\n    // Maintain rolling window\n    if (this.ticks.length > this.maxTicks) {\n      const removedTick = this.ticks.shift()!\n      const removedDigit = this.lastDigits.shift()!\n      const count = this.digitCounts.get(removedDigit) || 0\n      this.digitCounts.set(removedDigit, Math.max(0, count - 1))\n    }\n\n    // Update digit count\n    const count = this.digitCounts.get(lastDigit) || 0\n    this.digitCounts.set(lastDigit, count + 1)\n  }\n\n  private extractLastDigit(quote: number, pipSize = 2): number {\n    // Format with pip_size decimal places, then extract last character\n    const formatted = quote.toFixed(pipSize)\n    const lastChar = formatted.charAt(formatted.length - 1)\n    const digit = Number.parseInt(lastChar, 10)\n\n    return isNaN(digit) ? 0 : digit\n  }\n\n  getAnalysis(): AnalysisResult {\n    const totalTicks = this.lastDigits.length\n\n    if (totalTicks === 0) {\n      return this.getEmptyAnalysis()\n    }\n\n    // Calculate digit frequencies\n    const digitFrequencies: DigitFrequency[] = []\n    for (let i = 0; i <= 9; i++) {\n      const count = this.digitCounts.get(i) || 0\n      digitFrequencies.push({\n        digit: i,\n        count,\n        percentage: (count / totalTicks) * 100,\n      })\n    }\n\n    // Calculate even/odd\n    let evenCount = 0\n    let oddCount = 0\n    this.lastDigits.forEach((digit) => {\n      if (digit % 2 === 0) evenCount++\n      else oddCount++\n    })\n\n    // Calculate high/low (over/under 4.5)\n    let highCount = 0\n    let lowCount = 0\n    this.lastDigits.forEach((digit) => {\n      if (digit >= 5) highCount++\n      else lowCount++\n    })\n\n    // Calculate entropy\n    const entropy = this.calculateEntropy(digitFrequencies, totalTicks)\n\n    // Calculate power index\n    const sortedByCount = [...digitFrequencies].sort((a, b) => b.count - a.count)\n    const strongest = sortedByCount[0]\n    const weakest = sortedByCount[sortedByCount.length - 1]\n    const powerIndex = {\n      strongest: strongest.digit,\n      weakest: weakest.digit,\n      gap: strongest.percentage - weakest.percentage,\n    }\n\n    // Find missing digits\n    const missingDigits = digitFrequencies.filter((d) => d.count === 0).map((d) => d.digit)\n\n    // Detect streaks\n    const streaks = this.detectStreaks()\n\n    return {\n      digitFrequencies,\n      evenCount,\n      oddCount,\n      evenPercentage: (evenCount / totalTicks) * 100,\n      oddPercentage: (oddCount / totalTicks) * 100,\n      highCount,\n      lowCount,\n      highPercentage: (highCount / totalTicks) * 100,\n      lowPercentage: (lowCount / totalTicks) * 100,\n      entropy,\n      powerIndex,\n      missingDigits,\n      streaks,\n      totalTicks,\n    }\n  }\n\n  private calculateEntropy(frequencies: DigitFrequency[], total: number): number {\n    let entropy = 0\n    frequencies.forEach((freq) => {\n      if (freq.count > 0) {\n        const p = freq.count / total\n        entropy -= p * Math.log2(p)\n      }\n    })\n    return entropy\n  }\n\n  private detectStreaks(): { digit: number; count: number }[] {\n    const streaks: Map<number, number> = new Map()\n    let currentDigit = -1\n    let currentStreak = 0\n\n    this.lastDigits.forEach((digit) => {\n      if (digit === currentDigit) {\n        currentStreak++\n      } else {\n        if (currentStreak >= 2) {\n          streaks.set(currentDigit, Math.max(streaks.get(currentDigit) || 0, currentStreak))\n        }\n        currentDigit = digit\n        currentStreak = 1\n      }\n    })\n\n    // Check final streak\n    if (currentStreak >= 2) {\n      streaks.set(currentDigit, Math.max(streaks.get(currentDigit) || 0, currentStreak))\n    }\n\n    return Array.from(streaks.entries())\n      .map(([digit, count]) => ({ digit, count }))\n      .sort((a, b) => b.count - a.count)\n  }\n\n  generateSignals(): Signal[] {\n    const analysis = this.getAnalysis()\n    const signals: Signal[] = []\n\n    // Even/Odd Signal\n    signals.push(this.generateEvenOddSignal(analysis))\n\n    // Over/Under Signal\n    signals.push(this.generateOverUnderSignal(analysis))\n\n    // Matches Signal\n    signals.push(this.generateMatchesSignal(analysis))\n\n    // Differs Signal\n    signals.push(this.generateDiffersSignal(analysis))\n\n    // Rise/Fall Signal\n    signals.push(this.generateRiseFallSignal(analysis))\n\n    return signals\n  }\n\n  private generateEvenOddSignal(analysis: AnalysisResult): Signal {\n    const { evenPercentage, oddPercentage } = analysis\n    const maxPercentage = Math.max(evenPercentage, oddPercentage)\n    const favored = evenPercentage > oddPercentage ? \"even\" : \"odd\"\n\n    if (maxPercentage >= 60) {\n      return {\n        type: \"even_odd\",\n        status: \"TRADE NOW\",\n        probability: maxPercentage,\n        recommendation: `Strong ${favored} bias detected`,\n        entryCondition: `Wait for 2+ consecutive ${favored === \"even\" ? \"odd\" : \"even\"} digits, then trade ${favored}`,\n      }\n    } else if (maxPercentage >= 55) {\n      return {\n        type: \"even_odd\",\n        status: \"WAIT\",\n        probability: maxPercentage,\n        recommendation: `Moderate ${favored} bias`,\n        entryCondition: \"Monitor for stronger signal or entry condition\",\n      }\n    }\n\n    return {\n      type: \"even_odd\",\n      status: \"NEUTRAL\",\n      probability: maxPercentage,\n      recommendation: \"No clear even/odd bias\",\n      entryCondition: \"Wait for clearer signal\",\n    }\n  }\n\n  private generateOverUnderSignal(analysis: AnalysisResult): Signal {\n    const { highPercentage, lowPercentage, powerIndex } = analysis\n    const maxPercentage = Math.max(highPercentage, lowPercentage)\n    const favored = highPercentage > lowPercentage ? \"over\" : \"under\"\n\n    if (maxPercentage >= 62 && powerIndex.gap >= 15) {\n      return {\n        type: \"over_under\",\n        status: \"TRADE NOW\",\n        probability: maxPercentage,\n        recommendation: `Strong ${favored} 4.5 signal with ${powerIndex.gap.toFixed(1)}% gap`,\n        entryCondition: `Trade when digit ${powerIndex.strongest} appears`,\n      }\n    } else if (maxPercentage >= 58) {\n      return {\n        type: \"over_under\",\n        status: \"WAIT\",\n        probability: maxPercentage,\n        recommendation: `Moderate ${favored} 4.5 bias`,\n        entryCondition: \"Wait for power gap to increase\",\n      }\n    }\n\n    return {\n      type: \"over_under\",\n      status: \"NEUTRAL\",\n      probability: maxPercentage,\n      recommendation: \"No clear over/under bias\",\n      entryCondition: \"Wait for clearer signal\",\n    }\n  }\n\n  private generateMatchesSignal(analysis: AnalysisResult): Signal {\n    const { digitFrequencies, powerIndex } = analysis\n    const topDigit = digitFrequencies.find((d) => d.digit === powerIndex.strongest)!\n\n    if (topDigit.percentage >= 15) {\n      return {\n        type: \"matches\",\n        status: \"TRADE NOW\",\n        probability: topDigit.percentage,\n        recommendation: `Digit ${topDigit.digit} has strong power at ${topDigit.percentage.toFixed(1)}%`,\n        entryCondition: `Trade immediately when digit ${topDigit.digit} appears`,\n        targetDigit: topDigit.digit,\n      }\n    } else if (topDigit.percentage >= 12) {\n      return {\n        type: \"matches\",\n        status: \"WAIT\",\n        probability: topDigit.percentage,\n        recommendation: `Digit ${topDigit.digit} showing moderate frequency`,\n        entryCondition: \"Wait for frequency to increase\",\n        targetDigit: topDigit.digit,\n      }\n    }\n\n    return {\n      type: \"matches\",\n      status: \"NEUTRAL\",\n      probability: topDigit.percentage,\n      recommendation: \"No dominant digit pattern\",\n      entryCondition: \"Wait for clearer pattern\",\n    }\n  }\n\n  private generateDiffersSignal(analysis: AnalysisResult): Signal {\n    const { digitFrequencies } = analysis\n    const sorted = [...digitFrequencies].sort((a, b) => a.count - b.count)\n    const leastAppearing = sorted.slice(0, 3) // Get 3 least appearing digits\n\n    const leastDigit = leastAppearing[0]\n\n    if (leastDigit.percentage < 9 && leastDigit.percentage >= 0) {\n      return {\n        type: \"differs\",\n        status: \"TRADE NOW\",\n        probability: 100 - leastDigit.percentage,\n        recommendation: `Digit ${leastDigit.digit} appears only ${leastDigit.percentage.toFixed(1)}% - Strong differs signal`,\n        entryCondition: `Wait for digit ${leastDigit.digit} to appear, then trade DIFFERS immediately`,\n        targetDigit: leastDigit.digit,\n      }\n    }\n\n    return {\n      type: \"differs\",\n      status: \"NEUTRAL\",\n      probability: 50,\n      recommendation: \"No clear differs pattern\",\n      entryCondition: \"Wait for a digit with <9% frequency\",\n    }\n  }\n\n  private generateRiseFallSignal(analysis: AnalysisResult): Signal {\n    const { entropy } = analysis\n\n    // Use entropy and recent trend to predict rise/fall\n    const recentTicks = this.ticks.slice(-10)\n    if (recentTicks.length < 2) {\n      return {\n        type: \"rise_fall\",\n        status: \"NEUTRAL\",\n        probability: 50,\n        recommendation: \"Insufficient data for trend analysis\",\n        entryCondition: \"Wait for more ticks\",\n      }\n    }\n\n    const trend = recentTicks[recentTicks.length - 1].quote - recentTicks[0].quote\n    const trendDirection = trend > 0 ? \"rise\" : \"fall\"\n    const confidence = Math.min(60 + Math.abs(trend) * 100, 75)\n\n    if (confidence >= 60) {\n      return {\n        type: \"rise_fall\",\n        status: \"TRADE NOW\",\n        probability: confidence,\n        recommendation: `${trendDirection.toUpperCase()} trend detected with ${confidence.toFixed(1)}% confidence`,\n        entryCondition: `Trade ${trendDirection} based on current trend`,\n      }\n    }\n\n    return {\n      type: \"rise_fall\",\n      status: \"NEUTRAL\",\n      probability: confidence,\n      recommendation: \"No clear directional trend\",\n      entryCondition: \"Wait for stronger trend\",\n    }\n  }\n\n  private getEmptyAnalysis(): AnalysisResult {\n    return {\n      digitFrequencies: Array.from({ length: 10 }, (_, i) => ({\n        digit: i,\n        count: 0,\n        percentage: 0,\n      })),\n      evenCount: 0,\n      oddCount: 0,\n      evenPercentage: 0,\n      oddPercentage: 0,\n      highCount: 0,\n      lowCount: 0,\n      highPercentage: 0,\n      lowPercentage: 0,\n      entropy: 0,\n      powerIndex: { strongest: 0, weakest: 0, gap: 0 },\n      missingDigits: [],\n      streaks: [],\n      totalTicks: 0,\n    }\n  }\n\n  getTicks(): TickData[] {\n    return [...this.ticks]\n  }\n\n  getLastDigits(): number[] {\n    return [...this.lastDigits]\n  }\n\n  getCurrentDigit(): number | null {\n    return this.lastDigits.length > 0 ? this.lastDigits[this.lastDigits.length - 1] : null\n  }\n\n  setMaxTicks(max: number): void {\n    this.maxTicks = max\n    // Trim if necessary\n    while (this.ticks.length > this.maxTicks) {\n      const removedTick = this.ticks.shift()!\n      const removedDigit = this.lastDigits.shift()!\n      const count = this.digitCounts.get(removedDigit) || 0\n      this.digitCounts.set(removedDigit, Math.max(0, count - 1))\n    }\n  }\n\n  clear(): void {\n    this.ticks = []\n    this.lastDigits = []\n    for (let i = 0; i <= 9; i++) {\n      this.digitCounts.set(i, 0)\n    }\n  }\n\n  getRecentDigits(count = 20): number[] {\n    return this.lastDigits.slice(-count)\n  }\n\n  generateProSignals(): Signal[] {\n    const analysis = this.getAnalysis()\n    const signals: Signal[] = []\n    const recentDigits = this.getRecentDigits(20)\n\n    // Pro Even/Odd Signal\n    signals.push(this.generateProEvenOddSignal(analysis, recentDigits))\n\n    // Pro Over/Under Signal\n    signals.push(this.generateProOverUnderSignal(analysis, recentDigits))\n\n    // Pro Differs Signal\n    signals.push(this.generateProDiffersSignal(analysis))\n\n    signals.push(this.generateUnder7Signal(analysis))\n\n    signals.push(this.generateOver2Signal(analysis))\n\n    return signals.filter((s) => s.status !== \"NEUTRAL\")\n  }\n\n  private generateProEvenOddSignal(analysis: AnalysisResult, recentDigits: number[]): Signal {\n    const { evenPercentage, oddPercentage, digitFrequencies } = analysis\n\n    // Check for EVEN strategy conditions\n    if (evenPercentage >= 55) {\n      const evenDigits = digitFrequencies.filter((d) => d.digit % 2 === 0)\n      const highPercentageEvens = evenDigits.filter((d) => d.percentage >= 11).length\n      const hasGreenEven = evenDigits.some((d) => d.digit === analysis.powerIndex.strongest)\n\n      // Check last 20 digits for even dominance\n      const last20 = recentDigits.slice(-20)\n      const evenInLast20 = last20.filter((d) => d % 2 === 0).length\n\n      if (highPercentageEvens >= 2 && hasGreenEven && evenInLast20 >= 11) {\n        // Check for 3+ consecutive odds\n        let consecutiveOdds = 0\n        for (let i = recentDigits.length - 1; i >= 0; i--) {\n          if (recentDigits[i] % 2 === 1) {\n            consecutiveOdds++\n          } else {\n            break\n          }\n        }\n\n        if (consecutiveOdds >= 3) {\n          return {\n            type: \"pro_even_odd\",\n            status: \"TRADE NOW\",\n            probability: evenPercentage,\n            recommendation: `EVEN STRATEGY: ${consecutiveOdds} consecutive odds detected - Enter EVEN now!`,\n            entryCondition: \"Enter EVEN immediately after first even digit appears\",\n          }\n        }\n\n        return {\n          type: \"pro_even_odd\",\n          status: \"WAIT\",\n          probability: evenPercentage,\n          recommendation: \"EVEN conditions met - Waiting for 3+ consecutive ODD digits\",\n          entryCondition: \"Wait for 3+ consecutive ODD digits, then enter EVEN\",\n        }\n      }\n    }\n\n    // Check for ODD strategy conditions\n    if (oddPercentage >= 70) {\n      const oddDigits = digitFrequencies.filter((d) => d.digit % 2 === 1)\n      const highPercentageOdds = oddDigits.filter((d) => d.percentage >= 11).length\n      const hasGreenOdd = oddDigits.some((d) => d.digit === analysis.powerIndex.strongest)\n\n      const last20 = recentDigits.slice(-20)\n      const oddInLast20 = last20.filter((d) => d % 2 === 1).length\n\n      if (highPercentageOdds >= 2 && hasGreenOdd && oddInLast20 >= 14) {\n        let consecutiveEvens = 0\n        for (let i = recentDigits.length - 1; i >= 0; i--) {\n          if (recentDigits[i] % 2 === 0) {\n            consecutiveEvens++\n          } else {\n            break\n          }\n        }\n\n        if (consecutiveEvens >= 3) {\n          return {\n            type: \"pro_even_odd\",\n            status: \"TRADE NOW\",\n            probability: oddPercentage,\n            recommendation: `ODD STRATEGY: ${consecutiveEvens} consecutive evens detected - Enter ODD now!`,\n            entryCondition: \"Enter ODD immediately after first odd digit appears\",\n          }\n        }\n\n        return {\n          type: \"pro_even_odd\",\n          status: \"WAIT\",\n          probability: oddPercentage,\n          recommendation: \"ODD conditions met - Waiting for 3+ consecutive EVEN digits\",\n          entryCondition: \"Wait for 3+ consecutive EVEN digits, then enter ODD\",\n        }\n      }\n    }\n\n    return {\n      type: \"pro_even_odd\",\n      status: \"NEUTRAL\",\n      probability: Math.max(evenPercentage, oddPercentage),\n      recommendation: \"Pro Even/Odd conditions not met\",\n      entryCondition: \"Wait for stronger signal\",\n    }\n  }\n\n  private generateProOverUnderSignal(analysis: AnalysisResult, recentDigits: number[]): Signal {\n    const { digitFrequencies, highPercentage, lowPercentage } = analysis\n\n    // Over 1 Strategy\n    const digit0 = digitFrequencies[0]\n    const digit1 = digitFrequencies[1]\n    const digits2to9 = digitFrequencies.slice(2)\n\n    if (digit0.percentage < 10 && digit1.percentage < 10) {\n      const highPercentageDigits = digits2to9.filter((d) => d.percentage >= 11).length\n      const hasLeastIn01 = digit0.digit === analysis.powerIndex.weakest || digit1.digit === analysis.powerIndex.weakest\n\n      if (highPercentageDigits >= 3 && hasLeastIn01 && highPercentage >= 90) {\n        const last20 = recentDigits.slice(-20)\n        const overInLast20 = last20.filter((d) => d > 1).length\n\n        if (overInLast20 >= 18) {\n          return {\n            type: \"pro_over_under\",\n            status: \"TRADE NOW\",\n            probability: highPercentage,\n            recommendation: \"OVER 1 STRATEGY: Strong signal - 90%+ win rate detected!\",\n            entryCondition: \"Wait for 1+ UNDER digits, then enter OVER 1 immediately\",\n          }\n        }\n      }\n    }\n\n    // Under 8 Strategy\n    const digit8 = digitFrequencies[8]\n    const digit9 = digitFrequencies[9]\n    const digits0to7 = digitFrequencies.slice(0, 8)\n\n    if (digit8.percentage < 10 && digit9.percentage < 10) {\n      const highPercentageDigits = digits0to7.filter((d) => d.percentage >= 11).length\n      const hasLeastIn89 = digit8.digit === analysis.powerIndex.weakest || digit9.digit === analysis.powerIndex.weakest\n\n      if (highPercentageDigits >= 3 && hasLeastIn89 && lowPercentage >= 90) {\n        const last20 = recentDigits.slice(-20)\n        const underInLast20 = last20.filter((d) => d < 8).length\n\n        if (underInLast20 >= 18) {\n          return {\n            type: \"pro_over_under\",\n            status: \"TRADE NOW\",\n            probability: lowPercentage,\n            recommendation: \"UNDER 8 STRATEGY: Strong signal - 90%+ win rate detected!\",\n            entryCondition: \"Wait for 1+ OVER digits, then enter UNDER 8 immediately\",\n          }\n        }\n      }\n    }\n\n    return {\n      type: \"pro_over_under\",\n      status: \"NEUTRAL\",\n      probability: Math.max(highPercentage, lowPercentage),\n      recommendation: \"Pro Over/Under conditions not met\",\n      entryCondition: \"Wait for stronger signal\",\n    }\n  }\n\n  private generateProDiffersSignal(analysis: AnalysisResult): Signal {\n    const { digitFrequencies } = analysis\n    const sorted = [...digitFrequencies].sort((a, b) => a.count - b.count)\n    const leastDigit = sorted[0]\n\n    if (leastDigit.percentage < 9) {\n      const differsWinRate = 100 - leastDigit.percentage\n\n      if (differsWinRate >= 88) {\n        return {\n          type: \"pro_differs\",\n          status: \"TRADE NOW\",\n          probability: differsWinRate,\n          recommendation: `PRO DIFFERS: Digit ${leastDigit.digit} at ${leastDigit.percentage.toFixed(1)}% - ${differsWinRate.toFixed(1)}% win rate!`,\n          entryCondition: `Wait for digit ${leastDigit.digit} to appear, then trade DIFFERS immediately`,\n          targetDigit: leastDigit.digit,\n        }\n      }\n    }\n\n    return {\n      type: \"pro_differs\",\n      status: \"NEUTRAL\",\n      probability: 50,\n      recommendation: \"Pro Differs conditions not met\",\n      entryCondition: \"Wait for digit with <9% frequency and 88%+ differs win rate\",\n    }\n  }\n\n  private generateUnder7Signal(analysis: AnalysisResult): Signal {\n    const { digitFrequencies } = analysis\n\n    // Check digits 7,8,9 - if 2+ are less than 10%, use the one >10% as entry\n    const digit7 = digitFrequencies[7]\n    const digit8 = digitFrequencies[8]\n    const digit9 = digitFrequencies[9]\n\n    const digits789 = [digit7, digit8, digit9]\n    const below10 = digits789.filter((d) => d.percentage < 10)\n    const above10 = digits789.filter((d) => d.percentage > 10)\n\n    // Strategy: 2+ digits in 7,8,9 < 10%, use digit >10% as entry\n    if (below10.length >= 2 && above10.length > 0) {\n      const entryDigit = above10.sort((a, b) => b.percentage - a.percentage)[0]\n      const probability = 100 - entryDigit.percentage\n\n      if (probability >= 85) {\n        return {\n          type: \"pro_over_under\",\n          status: \"TRADE NOW\",\n          probability,\n          recommendation: `UNDER 7 STRATEGY: Digit ${entryDigit.digit} at ${entryDigit.percentage.toFixed(1)}% - Enter UNDER 7!`,\n          entryCondition: `Trade UNDER 7 when digit ${entryDigit.digit} appears`,\n          targetDigit: entryDigit.digit,\n        }\n      }\n    }\n\n    return {\n      type: \"pro_over_under\",\n      status: \"NEUTRAL\",\n      probability: 50,\n      recommendation: \"Under 7 conditions not met\",\n      entryCondition: \"Wait for 2+ digits in 7,8,9 to be <10%\",\n    }\n  }\n\n  private generateOver2Signal(analysis: AnalysisResult): Signal {\n    const { digitFrequencies } = analysis\n\n    // Check digits 0,1,2 - if 2+ are less than 10%, use the one >10% as entry\n    const digit0 = digitFrequencies[0]\n    const digit1 = digitFrequencies[1]\n    const digit2 = digitFrequencies[2]\n\n    const digits012 = [digit0, digit1, digit2]\n    const below10 = digits012.filter((d) => d.percentage < 10)\n    const above10 = digits012.filter((d) => d.percentage > 10)\n\n    // Strategy: 2+ digits in 0,1,2 < 10%, use digit >10% as entry\n    if (below10.length >= 2 && above10.length > 0) {\n      const entryDigit = above10.sort((a, b) => b.percentage - a.percentage)[0]\n      const probability = entryDigit.percentage + 75\n\n      if (probability >= 85) {\n        return {\n          type: \"pro_over_under\",\n          status: \"TRADE NOW\",\n          probability: Math.min(probability, 95),\n          recommendation: `OVER 2 STRATEGY: Digit ${entryDigit.digit} at ${entryDigit.percentage.toFixed(1)}% - Enter OVER 2!`,\n          entryCondition: `Trade OVER 2 when digit ${entryDigit.digit} appears`,\n          targetDigit: entryDigit.digit,\n        }\n      }\n    }\n\n    return {\n      type: \"pro_over_under\",\n      status: \"NEUTRAL\",\n      probability: 50,\n      recommendation: \"Over 2 conditions not met\",\n      entryCondition: \"Wait for 2+ digits in 0,1,2 to be <10%\",\n    }\n  }\n}\n",
            "size_bytes": 22935
        },
        "analysis-tool/Benanalysistool-final-main/components/tabs/bot-tab.tsx": {
            "content": "\"use client\"\n\nimport type React from \"react\"\n\nimport { useState } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Download, Upload, FileText, Bot } from \"lucide-react\"\n\ninterface BotTabProps {\n  theme?: \"light\" | \"dark\"\n}\n\ninterface BotFile {\n  id: string\n  name: string\n  description: string\n  uploadDate: string\n  downloads: number\n  type: \"bot\" | \"strategy\"\n}\n\nexport function BotTab({ theme = \"dark\" }: BotTabProps) {\n  const [isAdmin] = useState(false) // Set to true for admin access\n  const [selectedFile, setSelectedFile] = useState<File | null>(null)\n  const [uploadType, setUploadType] = useState<\"bot\" | \"strategy\">(\"bot\")\n\n  // Mock data - replace with actual API calls\n  const [bots] = useState<BotFile[]>([\n    {\n      id: \"1\",\n      name: \"Auto Smart Trader 2025\",\n      description: \"Advanced automated trading bot with smart entry and exit strategies for volatility indices\",\n      uploadDate: \"2025-01-15\",\n      downloads: 245,\n      type: \"bot\",\n    },\n    {\n      id: \"2\",\n      name: \"AUTOTRADER\",\n      description: \"Fully automated trading system with built-in risk management and profit optimization\",\n      uploadDate: \"2025-01-14\",\n      downloads: 312,\n      type: \"bot\",\n    },\n    {\n      id: \"3\",\n      name: \"Spfx Bot\",\n      description: \"Specialized bot for high-frequency trading on synthetic indices with precision timing\",\n      uploadDate: \"2025-01-13\",\n      downloads: 189,\n      type: \"bot\",\n    },\n    {\n      id: \"4\",\n      name: \"DIFFERS AUTO X\",\n      description: \"Expert bot for Differs digit trading with advanced pattern recognition algorithms\",\n      uploadDate: \"2025-01-12\",\n      downloads: 276,\n      type: \"bot\",\n    },\n    {\n      id: \"5\",\n      name: \"Updated Bena Speedbot V6\",\n      description: \"Lightning-fast trading bot optimized for quick entries and exits on volatility markets\",\n      uploadDate: \"2025-01-11\",\n      downloads: 198,\n      type: \"bot\",\n    },\n    {\n      id: \"6\",\n      name: \"Maziwaa AI\",\n      description: \"AI-powered trading bot with adaptive learning and intelligent trade management\",\n      uploadDate: \"2025-01-10\",\n      downloads: 334,\n      type: \"bot\",\n    },\n    {\n      id: \"7\",\n      name: \"SMART BOT 2025\",\n      description: \"Next-generation smart bot with over/under digit prediction and martingale strategy\",\n      uploadDate: \"2025-01-09\",\n      downloads: 421,\n      type: \"bot\",\n    },\n    {\n      id: \"8\",\n      name: \"LAS VEGAS PRO ENGLISH\",\n      description: \"Professional-grade bot with take profit and stop loss features for disciplined trading\",\n      uploadDate: \"2025-01-08\",\n      downloads: 367,\n      type: \"bot\",\n    },\n    {\n      id: \"9\",\n      name: \"360 Robot Brand V2\",\n      description: \"Comprehensive all-around trading bot with multiple strategies and market coverage\",\n      uploadDate: \"2025-01-07\",\n      downloads: 289,\n      type: \"bot\",\n    },\n  ])\n\n  const [strategies] = useState<BotFile[]>([\n    {\n      id: \"3\",\n      name: \"Over/Under Strategy Guide\",\n      description: \"Complete guide for Over/Under 4.5 trading\",\n      uploadDate: \"2025-01-12\",\n      downloads: 312,\n      type: \"strategy\",\n    },\n    {\n      id: \"4\",\n      name: \"Rise/Fall Advanced Strategy\",\n      description: \"Professional Rise/Fall trading techniques\",\n      uploadDate: \"2025-01-08\",\n      downloads: 267,\n      type: \"strategy\",\n    },\n  ])\n\n  const handleFileSelect = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0]\n    if (file) {\n      setSelectedFile(file)\n    }\n  }\n\n  const handleUpload = () => {\n    if (!selectedFile) return\n    // Implement upload logic here\n    console.log(\"Uploading:\", selectedFile.name, \"Type:\", uploadType)\n    alert(`${uploadType === \"bot\" ? \"Bot\" : \"Strategy\"} uploaded successfully!`)\n    setSelectedFile(null)\n  }\n\n  const handleDownload = (item: BotFile) => {\n    const botFileMap: Record<string, string> = {\n      \"1\": \"/bots/auto-smart-trader-2025.xml\",\n      \"2\": \"/bots/autotrader.xml\",\n      \"3\": \"/bots/spfx.xml\",\n      \"4\": \"/bots/differs-auto-x.xml\",\n      \"5\": \"/bots/updated-bena-speedbot-v6.xml\",\n      \"6\": \"/bots/maziwaa-ai.xml\",\n      \"7\": \"/bots/smart-bot-2025.xml\",\n      \"8\": \"/bots/las-vegas-pro-english.xml\",\n      \"9\": \"/bots/360-robot-brand-v2.xml\",\n    }\n\n    if (item.type === \"bot\" && botFileMap[item.id]) {\n      const link = document.createElement(\"a\")\n      link.href = botFileMap[item.id]\n      link.download = item.name.replace(/\\s+/g, \"-\").toLowerCase() + \".xml\"\n      document.body.appendChild(link)\n      link.click()\n      document.body.removeChild(link)\n    } else {\n      console.log(\"Downloading:\", item.name)\n      alert(`Downloading ${item.name}...`)\n    }\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Admin Upload Section */}\n      {isAdmin && (\n        <Card\n          className={\n            theme === \"dark\"\n              ? \"bg-gradient-to-br from-purple-500/10 to-pink-500/10 border-purple-500/30\"\n              : \"bg-purple-50 border-purple-200\"\n          }\n        >\n          <CardHeader>\n            <CardTitle className={theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}>Admin Upload</CardTitle>\n            <CardDescription className={theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}>\n              Upload new bots (XML) or strategies (PDF)\n            </CardDescription>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div className=\"flex gap-4\">\n              <Button\n                variant={uploadType === \"bot\" ? \"default\" : \"outline\"}\n                onClick={() => setUploadType(\"bot\")}\n                className={uploadType === \"bot\" ? \"bg-blue-500 hover:bg-blue-600\" : \"\"}\n              >\n                <Bot className=\"w-4 h-4 mr-2\" />\n                Bot (XML)\n              </Button>\n              <Button\n                variant={uploadType === \"strategy\" ? \"default\" : \"outline\"}\n                onClick={() => setUploadType(\"strategy\")}\n                className={uploadType === \"strategy\" ? \"bg-green-500 hover:bg-green-600\" : \"\"}\n              >\n                <FileText className=\"w-4 h-4 mr-2\" />\n                Strategy (PDF)\n              </Button>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"file-upload\" className={theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}>\n                Select File\n              </Label>\n              <Input\n                id=\"file-upload\"\n                type=\"file\"\n                accept={uploadType === \"bot\" ? \".xml\" : \".pdf\"}\n                onChange={handleFileSelect}\n                className={theme === \"dark\" ? \"bg-gray-800 border-gray-700 text-white\" : \"\"}\n              />\n              {selectedFile && (\n                <p className={`text-sm ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>\n                  Selected: {selectedFile.name}\n                </p>\n              )}\n            </div>\n\n            <Button\n              onClick={handleUpload}\n              disabled={!selectedFile}\n              className=\"w-full bg-purple-500 hover:bg-purple-600\"\n            >\n              <Upload className=\"w-4 h-4 mr-2\" />\n              Upload {uploadType === \"bot\" ? \"Bot\" : \"Strategy\"}\n            </Button>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Bots Section */}\n      <Card\n        className={\n          theme === \"dark\"\n            ? \"bg-gradient-to-br from-[#0f1629]/80 to-[#1a2235]/80 border-blue-500/20\"\n            : \"bg-white border-gray-200\"\n        }\n      >\n        <CardHeader>\n          <CardTitle className={theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}>TRADING BOTS UPDATED 2025</CardTitle>\n          <CardDescription className={theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}>\n            Download trading bots as XML files for Deriv Bot\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n            {bots.map((bot) => (\n              <div\n                key={bot.id}\n                className={`p-4 rounded-lg border ${\n                  theme === \"dark\"\n                    ? \"bg-blue-500/10 border-blue-500/30 hover:bg-blue-500/20\"\n                    : \"bg-blue-50 border-blue-200 hover:bg-blue-100\"\n                } transition-all cursor-pointer`}\n              >\n                <div className=\"flex items-start justify-between mb-2\">\n                  <div className=\"flex items-center gap-2\">\n                    <Bot className={`w-5 h-5 ${theme === \"dark\" ? \"text-blue-400\" : \"text-blue-600\"}`} />\n                    <h3 className={`font-bold text-sm ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}>\n                      {bot.name}\n                    </h3>\n                  </div>\n                  <Badge variant=\"outline\" className=\"text-xs\">\n                    XML\n                  </Badge>\n                </div>\n                <p className={`text-xs mb-3 ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>\n                  {bot.description}\n                </p>\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"text-xs text-gray-500\">\n                    <div>Uploaded: {bot.uploadDate}</div>\n                    <div>Downloads: {bot.downloads}</div>\n                  </div>\n                  <Button\n                    size=\"sm\"\n                    onClick={() => handleDownload(bot)}\n                    className=\"bg-blue-500 hover:bg-blue-600 text-white\"\n                  >\n                    <Download className=\"w-4 h-4 mr-1\" />\n                    Download\n                  </Button>\n                </div>\n              </div>\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Strategies Section */}\n      <Card\n        className={\n          theme === \"dark\"\n            ? \"bg-gradient-to-br from-[#0f1629]/80 to-[#1a2235]/80 border-green-500/20\"\n            : \"bg-white border-gray-200\"\n        }\n      >\n        <CardHeader>\n          <CardTitle className={theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}>Trading Strategies</CardTitle>\n          <CardDescription className={theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}>\n            Download strategy guides and documentation as PDF files\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            {strategies.map((strategy) => (\n              <div\n                key={strategy.id}\n                className={`p-4 rounded-lg border ${\n                  theme === \"dark\"\n                    ? \"bg-green-500/10 border-green-500/30 hover:bg-green-500/20\"\n                    : \"bg-green-50 border-green-200 hover:bg-green-100\"\n                } transition-all cursor-pointer`}\n              >\n                <div className=\"flex items-start justify-between mb-2\">\n                  <div className=\"flex items-center gap-2\">\n                    <FileText className={`w-5 h-5 ${theme === \"dark\" ? \"text-green-400\" : \"text-green-600\"}`} />\n                    <h3 className={`font-bold ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}>\n                      {strategy.name}\n                    </h3>\n                  </div>\n                  <Badge variant=\"outline\" className=\"text-xs\">\n                    PDF\n                  </Badge>\n                </div>\n                <p className={`text-sm mb-3 ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>\n                  {strategy.description}\n                </p>\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"text-xs text-gray-500\">\n                    <div>Uploaded: {strategy.uploadDate}</div>\n                    <div>Downloads: {strategy.downloads}</div>\n                  </div>\n                  <Button\n                    size=\"sm\"\n                    onClick={() => handleDownload(strategy)}\n                    className=\"bg-green-500 hover:bg-green-600 text-white\"\n                  >\n                    <Download className=\"w-4 h-4 mr-1\" />\n                    Download\n                  </Button>\n                </div>\n              </div>\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n",
            "size_bytes": 12595
        },
        "src/pages/tutorials/dbot-tours/utils.ts": {
            "content": "import { storeSetting } from '@/utils/settings';\n\ntype TTourStatus = {\n    key: string;\n    toggle: string;\n    type: string;\n};\n\ntype TTourList = {\n    [key: number]: string;\n};\n\nexport const tour_type: TTourType = {\n    key: 'onboard_tour',\n};\n\nexport const tour_status_ended: TTourStatus = {\n    key: '',\n    toggle: '',\n    type: `${tour_type.key}_status`,\n};\n\nexport type TTourType = Pick<TTourStatus, 'key'>;\n\nexport const setTourType = (param: string) => {\n    tour_type.key = param;\n};\n\nexport const highlightLoadModalButton = (tour_active: string, step: number) => {\n    const el_ref = document.querySelector('#db-toolbar__import-button');\n    if (tour_active && step === 1) {\n        el_ref?.classList.add('dbot-tour-blink');\n    } else {\n        el_ref?.classList.remove('dbot-tour-blink');\n    }\n};\n\nexport const setTourSettings = (param: number, type: string) => {\n    return storeSetting(type, param);\n};\n\nexport const tour_list: TTourList = Object.freeze({\n    0: 'onboarding',\n    1: 'bot_builder',\n});\n",
            "size_bytes": 1019
        },
        "src/utils/help-content/help-strings/is_candle_black.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize(\n            'This block returns \"True\" if the last candle is black. It can be placed anywhere on the canvas except within the Trade parameters root block.'\n        ),\n        localize(\n            'The term \"candle\" refers to each bar on the candlestick chart. Each candle represents four market prices for the selected time interval:'\n        ),\n        localize('Each candlestick on the chart represents 4 market prices for the selected time interval:'),\n        localize('- Open price: the opening price'),\n        localize('- High price: the highest price'),\n        localize('- Low price: the lowest price'),\n        localize('- Close price: the closing price'),\n        localize(\n            'A black (or red) candle indicates that the open price is higher than the close price. This represents a downward movement of the market price.'\n        ),\n        localize(\n            'A white (or green) candle indicates that the open price is lower than the close price. This represents an upward movement of the market price.'\n        ),\n        localize('The time interval for each candle can be set from one minute to one day.'),\n    ],\n};\n",
            "size_bytes": 1250
        },
        "src/external/bot-skeleton/examples/cli-examples/speed-test.js": {
            "content": "const token = 'Replace with your own token';\n\n// console.log('Starting bot...');\n\nwindow.Bot.init(token, {\n    symbol: 'R_100',\n    candleInterval: 60,\n    contractTypes: ['CALL', 'PUT'],\n});\n\n// eslint-disable-next-line no-constant-condition\nwhile (true) {\n    window.Bot.start({\n        amount: 1,\n        currency: 'USD',\n        duration: 2,\n        duration_unit: 'h',\n        basis: 'stake',\n    });\n\n    // console.log('Preparing Proposals');\n\n    window.watch('before');\n\n    window.Bot.purchase('CALL');\n\n    // console.log('Purchased:', 'CALL');\n\n    while (window.watch('during')) {\n        if (window.Bot.isSellAvailable()) {\n            window.Bot.sellAtMarket();\n            // console.log('Contract Sold');\n        }\n    }\n\n    // console.log('Purchase finished:', window.Bot.readDetails(1));\n\n    window.sleep(1); // Prevent max sell alert because of trading too fast\n}\n",
            "size_bytes": 886
        },
        "analysis-tool/Benanalysistool-final-main/components/ui/card.tsx": {
            "content": "import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold text-center', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm text-center', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n",
            "size_bytes": 2016
        },
        "src/utils/time.ts": {
            "content": "import moment, { Moment } from 'moment';\nimport { TLocalize } from 'types';\n\n/**\n * Function that converts a numerical epoch value into a Moment instance\n */\nexport const epochToMoment = (epoch: number) => moment.unix(epoch).utc();\n\n/**\n * Function that takes a primitive type and converts it into a Moment instance\n */\nexport const toMoment = (value?: moment.MomentInput): moment.Moment => {\n    if (!value || !moment(value).isValid()) return moment().utc(); // returns 'now' moment object\n    if (moment.isMoment(value) && value.isValid() && value.isUTC()) return value; // returns if already a moment object\n    if (typeof value === 'number') return epochToMoment(value); // returns epochToMoment() if not a date\n\n    return moment.utc(value);\n};\n\n/**\n * return the number of days since the date specified\n * @param  {String} date   the date to calculate number of days since\n * @return {Number} an integer of the number of days\n */\nexport const daysSince = (date: string): number =>\n    toMoment().startOf('day').diff(toMoment(date).startOf('day'), 'days');\n\n/**\n * The below function is used to format the display the time given in minutes to hours and minutes\n * e.g. 90 minutes will be displayed as 1 hour 30 minutes\n * @param {number} minutes - The time in minutes (convert to epoch time before passing)\n * @returns {string} formatted time string e.g. 1 hour 30 minutes\n */\nexport const formatTime = (minutes: number, localize: TLocalize) => {\n    if (!minutes) return '';\n    const timeInMinutes = minutes / 60;\n    const hours = Math.floor(timeInMinutes / 60);\n    const remainingMinutes = timeInMinutes % 60;\n    const hoursText = hours === 1 ? localize('hour') : localize('hours');\n    const minutesText = remainingMinutes === 1 ? localize('minute') : localize('minutes');\n\n    if (hours === 0) {\n        return `${remainingMinutes} ${minutesText}`;\n    }\n\n    if (remainingMinutes === 0) {\n        return `${hours} ${hoursText}`;\n    }\n\n    return `${hours} ${hoursText} ${remainingMinutes} ${minutesText}`;\n};\n\n/**\n * Gets the formatted date string in the format \"DD MMM YYYY HH:mm:ss\". e.g.: \"01 Jan 1970 21:01:11\"\n * or \"MMM DD YYYY HH:mm:ss\" for local time. e.g.: \"Jan 01 1970 21:01:11\" or without seconds if\n * hasSeconds is false. e.g.: \"01 Jan 1970 21:01\" or \"Jan 01 1970 21:01\".\n *\n * @param {Date} dateObj - The date object to format.\n * @param {boolean} isLocal - Whether to use local time or UTC time.\n * @param {boolean} hasSeconds - Whether to include seconds in the time.\n * @returns {String} The formatted date string.\n */\nexport const getFormattedDateString = (\n    dateObj: Date,\n    isLocal = false,\n    hasSeconds = false,\n    onlyDate = false\n): string => {\n    const dateString = isLocal ? dateObj.toString().split(' ') : dateObj.toUTCString().split(' ');\n    // eslint-disable-next-line no-unused-vars, @typescript-eslint/no-unused-vars\n    const [_, day, month, year, time] = dateString;\n    const times = time.split(':');\n\n    // Return time in the format \"HH:mm:ss\". e.g.: \"01 Jan 1970 21:01:11\"\n    if (!hasSeconds) {\n        times.pop();\n    }\n\n    if (onlyDate) {\n        return `${month} ${day} ${year}`;\n    }\n\n    const timeWithoutSec = times.join(':');\n\n    // Return in the format \"DD MMM YYYY HH:mm\". e.g.: \"01 Jan 1970 21:01\"\n    return `${day} ${month} ${year}, ${timeWithoutSec}`;\n};\n\n/**\n * Converts the epoch time to milliseconds.\n * @param {Number} epoch - The epoch time to convert.\n * @returns {Number} The epoch time in milliseconds.\n */\nexport const convertToMillis = (epoch: number): number => {\n    const milliseconds = epoch * 1000;\n    return milliseconds;\n};\n\n/**\n * Converts a number to double digits.\n * @param {Number} number - The number to convert.\n * @returns {String} The number in double digits.\n */\nconst toDoubleDigits = (number: number): string => number.toString().padStart(2, '0');\n\n/**\n * Converts the distance in milliseconds to a timer string in the format \"HH:MM:SS\". e.g.: \"00:00:00\"\n * @param {Number} distance - The distance in milliseconds.\n * @returns {String} The timer string.\n */\nexport const millisecondsToTimer = (distance: number): string => {\n    const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));\n    const seconds = Math.floor((distance % (1000 * 60)) / 1000);\n\n    return `${toDoubleDigits(hours)}:${toDoubleDigits(minutes)}:${toDoubleDigits(seconds)}`;\n};\n\n/**\n * Get the distance to the server time.\n * @param {Number} compareTime - The time to compare to the server time.\n * @param {Moment} serverTime - The server time.\n * @returns {Number} The distance to the server time.\n */\nexport const getDistanceToServerTime = (compareTime: number, serverTime?: Moment): number => {\n    const time = moment(compareTime);\n    const distance = time.diff(serverTime, 'milliseconds');\n    return distance;\n};\n\n/**\n * Formats milliseconds into a string according to the specified format.\n * @param {Number} miliseconds miliseconds\n * @param {String} strFormat formatting using moment e.g - YYYY-MM-DD HH:mm\n */\nexport const formatMilliseconds = (miliseconds: moment.MomentInput, strFormat: string, isLocalTime = false) => {\n    if (isLocalTime) {\n        return moment(miliseconds).format(strFormat);\n    }\n    return moment.utc(miliseconds).format(strFormat);\n};\n\n/**\n * Gets the date string after the given number of hours.\n * @param {Number} initialEpoch - The initial epoch time.\n * @param {Number} hours - The number of hours to add.\n * @returns {String} The date string after the given number of hours.\n */\nexport const getDateAfterHours = (initialEpoch: number, hours: number): string => {\n    const milliseconds = hours * 60 * 60 * 1000;\n    const initialDayMilliseconds = convertToMillis(initialEpoch);\n    const totalMilliseconds = initialDayMilliseconds + milliseconds;\n\n    return getFormattedDateString(new Date(totalMilliseconds));\n};\n\n/**\n * Converts an epoch timestamp to a formatted UTC string.\n *\n * @param {number} time - The epoch timestamp in seconds.\n * @param {string} format - The desired output format of the date and time.\n *                          This format string follows the conventions used by the moment.js library.\n * @returns {string} The formatted date and time string in UTC.\n *\n * @example\n * // Convert epoch timestamp to UTC date string in 'YYYY-MM-DD HH:mm:ss' format\n * const formattedDate = epochToUTC(1609459200, 'YYYY-MM-DD HH:mm:ss');\n * console.log(formattedDate); // Output: '2021-01-01 00:00:00'\n */\nexport const epochToUTC = (time: number, format: string) => moment.unix(time).utc().format(format);\n\n/**\n * Converts an epoch timestamp to a formatted local time string.\n *\n * @param {number} time - The epoch timestamp in seconds.\n * @param {string} format - The desired output format of the date and time.\n *                          This format string follows the conventions used by the moment.js library.\n * @returns {string} The formatted date and time string in local time.\n *\n * @example\n * // Convert epoch timestamp to local date string in 'YYYY-MM-DD HH:mm:ss' format\n * const formattedDate = epochToLocal(1609459200, 'YYYY-MM-DD HH:mm:ss');\n * console.log(formattedDate); // Output will vary depending on the local timezone, e.g., '2020-12-31 19:00:00' for EST\n */\nexport const epochToLocal = (time: number, format: string) => moment.unix(time).utc().local().format(format);\n\nexport const DATE_TIME_FORMAT_WITH_GMT = 'YYYY-MM-DD HH:mm:ss [GMT]';\nexport const DATE_TIME_FORMAT_WITH_OFFSET = 'YYYY-MM-DD HH:mm:ss Z';\n",
            "size_bytes": 7567
        },
        "src/components/summary/summary-card.types.ts": {
            "content": "import { ProposalOpenContract } from '@deriv/api-types';\n\ntype TDateType = string | number | undefined;\n\nexport type TContractInfo = Omit<\n    ProposalOpenContract,\n    'date_start' | 'entry_tick' | 'entry_tick_time' | 'exit_tick' | 'exit_tick_time'\n> & {\n    accountID?: number | string;\n    is_completed?: boolean;\n    run_id?: string;\n    date_start?: TDateType;\n    entry_tick?: TDateType;\n    entry_tick_time?: TDateType;\n    exit_tick?: TDateType;\n    exit_tick_time?: TDateType;\n    underlying_symbol?: string;\n};\n\nexport interface TSummaryCardProps {\n    contract_info?: ProposalOpenContract | null;\n    is_contract_loading: boolean;\n    is_bot_running?: boolean;\n}\n",
            "size_bytes": 674
        },
        "src/components/shared/loaders/deriv-account-loader.js": {
            "content": "/* eslint-disable no-undef */\n/* eslint-disable @typescript-eslint/no-var-requires */\nconst resolve = require('path').resolve;\nconst existsSync = require('fs').existsSync;\n/* Using this loader you can import components from @deriv/components without having to manually\nimport the corresponding stylesheet. The deriv-account-loader will automatically import\nstylesheets.\n\n    import { PoaExpired } from '@deriv/account';\n      \n    import PoaExpired from '@deriv/account/dist/js/poa-expired';\n*/\n\nfunction getKebabCase(str) {\n    return str\n        .split(/(?=[A-Z])/)\n        .join('-')\n        .toLowerCase();\n}\n\nfunction checkExists(component) {\n    return existsSync(resolve(__dirname, '../../../account/src/Components/', component, `${component}.scss`));\n}\n\nmodule.exports = function (source, map) {\n    const lines = source.split(/\\n/);\n    const mapped_lines = lines.map(line => {\n        const matches = /\\s*import\\s+\\{(.*)\\}\\s*from\\s+\\'@deriv\\/account/.exec(line); // eslint-disable-line no-useless-escape\n        if (!matches || !matches[1]) {\n            return line; // do nothing;\n        }\n        const components = matches[1]\n            .replace(/\\sas\\s\\w+/, '') // Remove aliasing from imports.\n            .replace(/\\s+/g, '')\n            .split(',');\n        const replace = components\n            .map(\n                c => `\nimport ${c} from '@deriv/account/dist/account/js/${getKebabCase(c)}';\n${checkExists(getKebabCase(c)) ? `import '@deriv/account/dist/account/css/${getKebabCase(c)}.css';` : ''}\n        `\n            )\n            .join('\\n');\n\n        return replace;\n    });\n\n    return this.callback(null, mapped_lines.join('\\n'), map);\n};\n",
            "size_bytes": 1679
        },
        "src/pages/tutorials/dbot-tours/common/tour-start-dialog.tsx": {
            "content": "import React from 'react';\nimport { observer } from 'mobx-react-lite';\nimport Dialog from '@/components/shared_ui/dialog';\nimport Text from '@/components/shared_ui/text';\nimport { DBOT_TABS } from '@/constants/bot-contents';\nimport { useStore } from '@/hooks/useStore';\nimport { Localize, localize } from '@deriv-com/translations';\nimport { useDevice } from '@deriv-com/ui';\nimport {\n    getBotBuilderTourHeader,\n    getTourDialogAction,\n    getTourDialogInfo,\n    onboarding_tour_header,\n} from '../tour-content';\nimport { setTourSettings, tour_list } from '../utils';\nimport './tour-start-dialog.scss';\n\nconst TourStartDialog = observer(() => {\n    const { dashboard } = useStore();\n    const { active_tab, is_tour_dialog_visible, setTourDialogVisibility, setActiveTour, setShowMobileTourDialog } =\n        dashboard;\n    const { isDesktop } = useDevice();\n    const tour_token = active_tab === 0 ? 'onboard_tour_token' : 'bot_builder_token';\n    const toggleTour = () => {\n        if (!isDesktop) setShowMobileTourDialog(false);\n        setTourDialogVisibility(false);\n        setActiveTour('');\n        setTourSettings(new Date().getTime(), tour_token);\n    };\n\n    const onboard_tour = active_tab === DBOT_TABS.DASHBOARD;\n    const tour_dialog_info = getTourDialogInfo(!isDesktop);\n    const tour_dialog_action = getTourDialogAction(!isDesktop);\n    const [is_tour_open, setIsTourOpen] = React.useState(false);\n\n    React.useEffect(() => {\n        if (is_tour_dialog_visible) {\n            setIsTourOpen(true);\n        } else {\n            setIsTourOpen(false);\n        }\n    }, [is_tour_dialog_visible]);\n\n    const getTourContent = () => {\n        return (\n            <>\n                {onboard_tour ? (\n                    <div>\n                        <Localize\n                            key={0}\n                            i18n_default_text={`Lets take a quick tour to discover how Deriv Bot works. Press <0>Start</0> to begin.`}\n                            components={[<strong key={0} />]}\n                        />\n                    </div>\n                ) : (\n                    <>\n                        <div className='dc-dialog__content__description__text'>{tour_dialog_info}</div>\n                        {tour_dialog_action && (\n                            <div className='dc-dialog__content__description__text'>{tour_dialog_action}</div>\n                        )}\n                        <div className='dc-dialog__content__description__text'>\n                            <Localize\n                                key={0}\n                                i18n_default_text={'Note: You can find this tutorial in the <0>Tutorials</0> tab.'}\n                                components={[<strong key={0} />]}\n                            />\n                        </div>\n                    </>\n                )}\n            </>\n        );\n    };\n\n    const onHandleConfirm = () => {\n        setActiveTour(tour_list[active_tab]);\n        if (!isDesktop) setShowMobileTourDialog(false);\n        setTourDialogVisibility(false);\n        setTourSettings(new Date().getTime(), tour_token);\n    };\n    const header_text_size = isDesktop ? 's' : 'xs';\n    const content_text_size = isDesktop ? 'xs' : 'xxs';\n\n    const tour_headers = active_tab === 0 ? onboarding_tour_header : getBotBuilderTourHeader(!isDesktop);\n    return (\n        <div>\n            <Dialog\n                is_visible={is_tour_open}\n                cancel_button_text={localize('Skip')}\n                onCancel={() => toggleTour()}\n                confirm_button_text={localize('Start')}\n                onConfirm={onHandleConfirm}\n                is_mobile_full_width\n                className={'dc-dialog tour-dialog'}\n                has_close_icon={false}\n                portal_element_id='modal_root'\n            >\n                <div className='dc-dialog__content__header'>\n                    <Text weight='bold' color='prominent' size={header_text_size}>\n                        {tour_headers}\n                    </Text>\n                </div>\n                <div className='dc-dialog__content__description'>\n                    <Text size={content_text_size} color='prominent'>\n                        {getTourContent()}\n                    </Text>\n                </div>\n            </Dialog>\n        </div>\n    );\n});\n\nexport default TourStartDialog;\n",
            "size_bytes": 4361
        },
        "src/stores/journal-store.ts": {
            "content": "import { action, computed, makeObservable, observable, reaction, when } from 'mobx';\nimport { v4 as uuidv4 } from 'uuid';\nimport { formatDate } from '@/components/shared';\nimport { LogTypes, MessageTypes } from '@/external/bot-skeleton';\nimport { config } from '@/external/bot-skeleton/constants/config';\nimport { localize } from '@deriv-com/translations';\nimport { isCustomJournalMessage } from '../utils/journal-notifications';\nimport { getStoredItemsByKey, getStoredItemsByUser, setStoredItemsByKey } from '../utils/session-storage';\nimport { getSetting, storeSetting } from '../utils/settings';\nimport { TAccountList } from './client-store';\nimport RootStore from './root-store';\n\ntype TExtra = {\n    current_currency?: string;\n    currency?: string;\n    profit?: number;\n};\n\ntype TlogSuccess = {\n    log_type: string;\n    extra: TExtra;\n};\n\ntype TMessage = {\n    message: string | Error;\n    message_type: string;\n    className?: string;\n};\n\ntype TMessageItem = {\n    date?: string;\n    time?: string;\n    unique_id: string;\n    extra: TExtra;\n} & TMessage;\n\ntype TNotifyData = {\n    sound: string;\n    block_id?: string;\n    variable_name?: string;\n} & TMessage;\n\nexport interface IJournalStore {\n    is_filter_dialog_visible: boolean;\n    journal_filters: string[];\n    filters: { id: string; label: string }[];\n    unfiltered_messages: TMessageItem[];\n    toggleFilterDialog: () => void;\n    onLogSuccess: (message: TlogSuccess) => void;\n    onError: (message: Error | string) => void;\n    onNotify: (data: TNotifyData) => void;\n    pushMessage: (message: string, message_type: string, className: string, extra?: TExtra) => void;\n    filtered_messages: TMessageItem[];\n    getServerTime: () => Date;\n    playAudio: (sound: string) => void;\n    checked_filters: string[];\n    filterMessage: (checked: boolean, item_id: string) => void;\n    clear: () => void;\n    registerReactions: () => void;\n    restoreStoredJournals: () => void;\n}\n\nexport default class JournalStore {\n    root_store: RootStore;\n    core: RootStore['core'];\n    disposeReactionsFn: () => void;\n    constructor(root_store: RootStore, core: RootStore['core']) {\n        makeObservable(this, {\n            is_filter_dialog_visible: observable,\n            journal_filters: observable.shallow,\n            filters: observable.shallow,\n            unfiltered_messages: observable.shallow,\n            toggleFilterDialog: action.bound,\n            onLogSuccess: action.bound,\n            onError: action.bound,\n            onNotify: action.bound,\n            pushMessage: action.bound,\n            filtered_messages: computed,\n            getServerTime: action.bound,\n            playAudio: action.bound,\n            checked_filters: computed,\n            filterMessage: action.bound,\n            clear: action.bound,\n            registerReactions: action.bound,\n            restoreStoredJournals: action.bound,\n        });\n\n        this.root_store = root_store;\n        this.core = core;\n        this.disposeReactionsFn = this.registerReactions();\n        this.restoreStoredJournals();\n    }\n\n    JOURNAL_CACHE = 'journal_cache';\n\n    is_filter_dialog_visible = false;\n\n    filters = [\n        { id: MessageTypes.ERROR, label: localize('Errors') },\n        { id: MessageTypes.NOTIFY, label: localize('Notifications') },\n        { id: MessageTypes.SUCCESS, label: localize('System') },\n    ];\n    journal_filters: string[] = [];\n    unfiltered_messages: TMessageItem[] = [];\n\n    restoreStoredJournals() {\n        const client = this.core.client as RootStore['client'];\n        const { loginid } = client;\n        this.journal_filters = getSetting('journal_filter') ?? this.filters.map(filter => filter.id);\n        this.unfiltered_messages = getStoredItemsByUser(this.JOURNAL_CACHE, loginid, []);\n    }\n\n    getServerTime() {\n        return this.core?.common.server_time.get();\n    }\n\n    playAudio = (sound: string) => {\n        if (sound !== config().lists.NOTIFICATION_SOUND[0][1]) {\n            const audio = document.getElementById(sound) as HTMLAudioElement;\n            audio.play();\n        }\n    };\n\n    toggleFilterDialog() {\n        this.is_filter_dialog_visible = !this.is_filter_dialog_visible;\n    }\n\n    onLogSuccess(message: TlogSuccess) {\n        const { log_type, extra } = message;\n        this.pushMessage(log_type, MessageTypes.SUCCESS, '', extra);\n    }\n\n    onError(message: Error | string) {\n        this.pushMessage(message, MessageTypes.ERROR);\n    }\n\n    onNotify(data: TNotifyData) {\n        const { run_panel, dbot } = this.root_store;\n        const { message, className, message_type, sound, block_id, variable_name } = data;\n\n        if (\n            isCustomJournalMessage(\n                { message, block_id, variable_name },\n                run_panel.showErrorMessage,\n                () => dbot.centerAndHighlightBlock(block_id as string, true),\n                (parsed_message: string) =>\n                    this.pushMessage(parsed_message, message_type || MessageTypes.NOTIFY, className)\n            )\n        ) {\n            this.playAudio(sound);\n            return;\n        }\n        this.pushMessage(message, message_type || MessageTypes.NOTIFY, className);\n        this.playAudio(sound);\n    }\n\n    pushMessage(\n        message: Error | string,\n        message_type: string,\n        className?: string,\n        extra: { current_currency?: string; currency?: string } = {}\n    ) {\n        const { client } = this.core;\n        const { loginid, account_list } = client as RootStore['client'];\n\n        if (loginid) {\n            const current_account = account_list?.find(account => account?.loginid === loginid);\n            extra.current_currency = current_account?.is_virtual ? 'Demo' : current_account?.currency;\n        } else if (message === LogTypes.WELCOME) {\n            return;\n        }\n\n        const date = formatDate(this.getServerTime());\n        const time = formatDate(this.getServerTime(), 'HH:mm:ss [GMT]');\n        const unique_id = uuidv4();\n\n        this.unfiltered_messages.unshift({ date, time, message, message_type, className, unique_id, extra });\n        this.unfiltered_messages = this.unfiltered_messages.slice(); // force array update\n    }\n\n    get filtered_messages() {\n        return (\n            this.unfiltered_messages\n                // filter messages based on filtered-checkbox\n                .filter(\n                    message =>\n                        this.journal_filters.length &&\n                        this.journal_filters.some(filter => message.message_type === filter)\n                )\n        );\n    }\n\n    get checked_filters() {\n        return this.journal_filters.filter(filter => filter != null);\n    }\n\n    filterMessage(checked: boolean, item_id: string) {\n        if (checked) {\n            this.journal_filters.push(item_id);\n        } else {\n            this.journal_filters.splice(this.journal_filters.indexOf(item_id), 1);\n        }\n\n        storeSetting('journal_filter', this.journal_filters);\n    }\n\n    clear() {\n        this.unfiltered_messages = this.unfiltered_messages.slice(0, 0);\n    }\n\n    registerReactions() {\n        const client = this.core.client as RootStore['client'];\n\n        // Write journal messages to session storage on each change in unfiltered messages.\n        const disposeWriteJournalMessageListener = reaction(\n            () => this.unfiltered_messages,\n            unfiltered_messages => {\n                const stored_journals = getStoredItemsByKey(this.JOURNAL_CACHE, {});\n                stored_journals[client.loginid as string] = unfiltered_messages?.slice(0, 5000);\n                setStoredItemsByKey(this.JOURNAL_CACHE, stored_journals);\n            }\n        );\n\n        // Attempt to load cached journal messages on client loginid change.\n        const disposeJournalMessageListener = reaction(\n            () => client?.loginid,\n            async loginid => {\n                await when(() => {\n                    const has_account = client.account_list?.find(\n                        (account: TAccountList[number]) => account.loginid === loginid\n                    );\n                    return !!has_account;\n                });\n                this.unfiltered_messages = getStoredItemsByUser(this.JOURNAL_CACHE, loginid, []);\n                if (this.unfiltered_messages.length === 0) {\n                    this.pushMessage(LogTypes.WELCOME, MessageTypes.SUCCESS, 'journal__text');\n                } else if (this.unfiltered_messages.length > 0) {\n                    this.pushMessage(LogTypes.WELCOME_BACK, MessageTypes.SUCCESS, 'journal__text');\n                }\n            },\n            { fireImmediately: true } // For initial welcome message\n        );\n\n        return () => {\n            disposeWriteJournalMessageListener();\n            disposeJournalMessageListener();\n        };\n    }\n}\n",
            "size_bytes": 8828
        },
        "src/external/bot-skeleton/services/tradeEngine/trade/Total.js": {
            "content": "import { getRoundedNumber } from '@/components/shared';\nimport { localize } from '@deriv-com/translations';\nimport { LogTypes } from '../../../constants/messages';\nimport { createError } from '../../../utils/error';\nimport { observer as globalObserver } from '../../../utils/observer';\nimport { info, log } from '../utils/broadcast';\n\nconst skeleton = {\n    totalProfit: 0,\n    totalWins: 0,\n    totalLosses: 0,\n    totalStake: 0,\n    totalPayout: 0,\n    totalRuns: 0,\n};\n\nconst globalStat = {};\n\nexport default Engine =>\n    class Total extends Engine {\n        constructor() {\n            super();\n            this.sessionRuns = 0;\n            this.sessionProfit = 0;\n\n            globalObserver.register('statistics.clear', this.clearStatistics.bind(this));\n        }\n\n        clearStatistics() {\n            this.sessionRuns = 0;\n            this.sessionProfit = 0;\n            if (!this.accountInfo) return;\n            const { loginid: accountID } = this.accountInfo;\n            globalStat[accountID] = { ...skeleton };\n        }\n\n        updateTotals(contract) {\n            const { sell_price: sellPrice, buy_price: buyPrice, currency } = contract;\n\n            const profit = getRoundedNumber(Number(sellPrice) - Number(buyPrice), currency);\n\n            const win = profit > 0;\n\n            const accountStat = this.getAccountStat();\n\n            accountStat.totalWins += win ? 1 : 0;\n\n            accountStat.totalLosses += !win ? 1 : 0;\n\n            this.sessionProfit = getRoundedNumber(Number(this.sessionProfit) + Number(profit), currency);\n\n            accountStat.totalProfit = getRoundedNumber(Number(accountStat.totalProfit) + Number(profit), currency);\n\n            accountStat.totalStake = getRoundedNumber(Number(accountStat.totalStake) + Number(buyPrice), currency);\n\n            accountStat.totalPayout = getRoundedNumber(Number(accountStat.totalPayout) + Number(sellPrice), currency);\n\n            info({\n                profit,\n                contract,\n                accountID: this.accountInfo.loginid,\n                totalProfit: accountStat.totalProfit,\n                totalWins: accountStat.totalWins,\n                totalLosses: accountStat.totalLosses,\n                totalStake: accountStat.totalStake,\n                totalPayout: accountStat.totalPayout,\n            });\n\n            log(win ? LogTypes.PROFIT : LogTypes.LOST, { currency, profit });\n        }\n\n        updateAndReturnTotalRuns() {\n            this.sessionRuns++;\n            const accountStat = this.getAccountStat();\n\n            return ++accountStat.totalRuns;\n        }\n\n        /* eslint-disable class-methods-use-this */\n        getTotalRuns() {\n            const accountStat = this.getAccountStat();\n            return accountStat.totalRuns;\n        }\n\n        getTotalProfit(toString, currency) {\n            const accountStat = this.getAccountStat();\n\n            return toString && accountStat.totalProfit !== 0\n                ? getRoundedNumber(+accountStat.totalProfit, currency)\n                : +accountStat.totalProfit;\n        }\n\n        /* eslint-enable */\n        checkLimits(tradeOption) {\n            if (!tradeOption.limitations) {\n                return;\n            }\n\n            const {\n                limitations: { maxLoss, maxTrades },\n            } = tradeOption;\n\n            if (maxLoss && maxTrades) {\n                if (this.sessionRuns >= maxTrades) {\n                    throw createError('CustomLimitsReached', localize('Maximum number of trades reached'));\n                }\n                if (this.sessionProfit <= -maxLoss) {\n                    throw createError('CustomLimitsReached', localize('Maximum loss amount reached'));\n                }\n            }\n        }\n\n        /* eslint-disable class-methods-use-this */\n        validateTradeOptions(tradeOptions) {\n            const take_profit = tradeOptions.take_profit;\n            const stop_loss = tradeOptions.stop_loss;\n\n            if (take_profit) {\n                tradeOptions.limit_order.take_profit = take_profit;\n            }\n            if (stop_loss) {\n                tradeOptions.limit_order.stop_loss = stop_loss;\n            }\n\n            return tradeOptions;\n        }\n\n        getAccountStat() {\n            const { loginid: accountID } = this.accountInfo;\n\n            if (!(accountID in globalStat)) {\n                globalStat[accountID] = { ...skeleton };\n            }\n\n            return globalStat[accountID];\n        }\n    };\n",
            "size_bytes": 4466
        },
        "src/components/shared/utils/helpers/logic.ts": {
            "content": "import moment from 'moment';\nimport { AccountListResponse, TickSpotData } from '@deriv/api-types';\nimport { getSupportedContracts } from '../constants/contract';\nimport { isAccumulatorContract, isOpen, isUserSold } from '../contract';\nimport { TContractInfo, TContractStore } from '../contract/contract-types';\nimport { isEmptyObject } from '../object';\n\ntype TIsSoldBeforeStart = Required<Pick<TContractInfo, 'sell_time' | 'date_start'>>;\n\nexport const sortApiData = (arr: AccountListResponse[]) => {\n    return arr.slice().sort((a, b) => {\n        const loginA = a?.login;\n        const loginB = b?.login;\n\n        if (loginA && loginB) {\n            if (loginA < loginB) {\n                return -1;\n            }\n            if (loginA > loginB) {\n                return 1;\n            }\n        }\n        return 0;\n    });\n};\n\nexport const isContractElapsed = (contract_info: TContractInfo, tick?: null | TickSpotData) => {\n    if (isEmptyObject(tick) || isEmptyObject(contract_info)) return false;\n    const end_time = getEndTime(contract_info) || 0;\n    if (end_time && tick && tick.epoch) {\n        const seconds = moment.duration(moment.unix(tick.epoch).diff(moment.unix(end_time))).asSeconds();\n        return seconds >= 2;\n    }\n    return false;\n};\n\nexport const isEndedBeforeCancellationExpired = (contract_info: TContractInfo) => {\n    const end_time = getEndTime(contract_info) || 0;\n    return !!(contract_info.cancellation?.date_expiry && end_time < contract_info.cancellation.date_expiry);\n};\n\nexport const isSoldBeforeStart = (contract_info: TIsSoldBeforeStart) =>\n    contract_info.sell_time && +contract_info.sell_time < +contract_info.date_start;\n\nexport const hasContractStarted = (contract_info?: TContractInfo) =>\n    Number(contract_info?.current_spot_time) > Number(contract_info?.date_start);\n\nexport const isUserCancelled = (contract_info: TContractInfo) => contract_info.status === 'cancelled';\n\nexport const getEndTime = (contract_info: TContractInfo) => {\n    const {\n        contract_type,\n        exit_tick_time,\n        date_expiry,\n        is_expired,\n        is_path_dependent,\n        sell_time,\n        tick_count: is_tick_contract,\n    } = contract_info;\n\n    const is_finished = !isOpen(contract_info) && (is_expired || isAccumulatorContract(contract_type));\n\n    if (!is_finished && !isUserSold(contract_info) && !isUserCancelled(contract_info)) return undefined;\n\n    if (isUserSold(contract_info) && sell_time) {\n        return sell_time > Number(date_expiry) ? date_expiry : sell_time;\n    } else if (!is_tick_contract && sell_time && sell_time > Number(date_expiry)) {\n        return date_expiry;\n    }\n\n    return Number(date_expiry) > Number(exit_tick_time) && !Number(is_path_dependent) ? date_expiry : exit_tick_time;\n};\n\nexport const getBuyPrice = (contract_store: TContractStore) => {\n    return contract_store.contract_info.buy_price;\n};\n\nexport const isContractSupportedAndStarted = (symbol: string, contract_info?: TContractInfo) =>\n    !!contract_info &&\n    symbol === contract_info.underlying_symbol &&\n    //Added check for unsupported and forward starting contracts, which have not started yet\n    !!getSupportedContracts()[contract_info?.contract_type as keyof ReturnType<typeof getSupportedContracts>] &&\n    hasContractStarted(contract_info);\n",
            "size_bytes": 3306
        },
        "src/utils/tmp/dummy.tsx": {
            "content": "import { memo, SyntheticEvent } from 'react';\n\ntype TIconComponent = {\n    icon: string;\n    className?: string;\n    onClick?: () => void;\n    size?: number;\n    height?: number | string;\n    width?: number | string;\n    id?: string;\n    style?: { height?: number | string; width?: number | string };\n};\n\nconst IconComponent: React.FC<TIconComponent> = ({ icon, ...rest }) => {\n    const onError = (e: SyntheticEvent<HTMLImageElement, Event>) => {\n        // eslint-disable-next-line no-console\n        (e.target as HTMLImageElement).src = 'assets/icons/IcDashboard.svg';\n    };\n\n    return (\n        <div className='dummy-icon' {...rest}>\n            <img src={`assets/icons/${icon}.svg`} alt={icon} onError={onError} />\n        </div>\n    );\n};\n\nexport const Icon = memo(IconComponent);\n\nexport const IconTradeTypes = ({ children }) => {\n    // Simulate scrollbars\n    return <div className='dummy-IconTradeTypes'>{children}</div>;\n};\n",
            "size_bytes": 937
        },
        "src/components/shared/utils/location/index.ts": {
            "content": "export * from './location';\n",
            "size_bytes": 28
        },
        "src/components/shared_ui/circular-progress/circular-progress.tsx": {
            "content": "import classNames from 'classnames';\nimport { LegacyTimeIcon } from '@deriv/quill-icons';\n\ntype TCircularProgressProps = {\n    className?: string;\n    danger_limit?: number;\n    is_clockwise?: boolean;\n    progress?: number;\n    radius?: number;\n    stroke?: number;\n    warning_limit?: number;\n    icon?: string;\n};\n\nconst CircularProgress = ({\n    className,\n    danger_limit = 20,\n    is_clockwise = false,\n    progress = 0,\n    radius = 22,\n    stroke = 3,\n    warning_limit = 50,\n}: TCircularProgressProps) => {\n    const normalizedRadius = radius - stroke / 2;\n    const circumference = normalizedRadius * 2 * Math.PI;\n    const strokeDashoffset = circumference - (progress / 100) * circumference;\n    return (\n        <div className={classNames('dc-circular-progress', className)}>\n            <div className='dc-circular-progress__icon'>\n                <LegacyTimeIcon iconSize='xs' />\n            </div>\n            <svg height={radius * 2} width={radius * 2}>\n                <circle\n                    className={classNames('dc-circular-progress__bar', {\n                        'dc-circular-progress--clockwise': is_clockwise,\n                        'dc-circular-progress__bar--warning': progress <= warning_limit && progress > danger_limit,\n                        'dc-circular-progress__bar--danger': progress <= danger_limit,\n                    })}\n                    cx={radius}\n                    cy={radius}\n                    fill='transparent'\n                    r={normalizedRadius}\n                    strokeDasharray={`${circumference} ${circumference}`}\n                    strokeWidth={stroke}\n                    style={{ strokeDashoffset }}\n                />\n            </svg>\n        </div>\n    );\n};\n\nexport default CircularProgress;\n",
            "size_bytes": 1773
        },
        "src/stores/root-store.ts": {
            "content": "import AppStore from './app-store';\nimport BlocklyStore from './blockly-store';\nimport ChartStore from './chart-store';\nimport ClientStore from './client-store';\nimport CommonStore from './common-store';\nimport DashboardStore from './dashboard-store';\nimport DataCollectionStore from './data-collection-store';\nimport FlyoutHelpStore from './flyout-help-store';\nimport FlyoutStore from './flyout-store';\nimport GoogleDriveStore from './google-drive-store';\nimport JournalStore from './journal-store';\nimport LoadModalStore from './load-modal-store';\nimport QuickStrategyStore from './quick-strategy-store';\nimport RunPanelStore from './run-panel-store';\nimport SaveModalStore from './save-modal-store';\nimport SummaryCardStore from './summary-card-store';\nimport ToolbarStore from './toolbar-store';\nimport ToolboxStore from './toolbox-store';\nimport TransactionsStore from './transactions-store';\nimport UiStore from './ui-store';\n\n// TODO: need to write types for the individual classes and convert them to ts\nexport default class RootStore {\n    public dbot;\n    public app: AppStore;\n    public summary_card: SummaryCardStore;\n    public flyout: FlyoutStore;\n    public flyout_help: FlyoutHelpStore;\n    public google_drive: GoogleDriveStore;\n    public journal: JournalStore;\n    public load_modal: LoadModalStore;\n    public run_panel: RunPanelStore;\n    public save_modal: SaveModalStore;\n    public transactions: TransactionsStore;\n    public toolbar: ToolbarStore;\n    public toolbox: ToolboxStore;\n    public quick_strategy: QuickStrategyStore;\n\n    public dashboard: DashboardStore;\n\n    public chart_store: ChartStore;\n    public blockly_store: BlocklyStore;\n    public data_collection_store: DataCollectionStore;\n\n    public ui: UiStore;\n    public client: ClientStore;\n    public common: CommonStore;\n\n    core = {\n        ui: {},\n        client: {},\n        common: {},\n    };\n\n    constructor(dbot: unknown) {\n        this.dbot = dbot;\n\n        // Need to fix later without using this.core\n        this.ui = new UiStore();\n        this.client = new ClientStore();\n        this.common = new CommonStore();\n        this.core.ui = this.ui;\n        this.core.client = this.client;\n        this.core.common = this.common;\n\n        this.app = new AppStore(this, this.core);\n        this.summary_card = new SummaryCardStore(this, this.core);\n        this.flyout = new FlyoutStore(this);\n        this.flyout_help = new FlyoutHelpStore(this);\n        this.google_drive = new GoogleDriveStore(this);\n        this.journal = new JournalStore(this, this.core);\n        this.load_modal = new LoadModalStore(this, this.core);\n        this.run_panel = new RunPanelStore(this, this.core);\n        this.save_modal = new SaveModalStore(this);\n        this.transactions = new TransactionsStore(this, this.core);\n        this.toolbar = new ToolbarStore(this);\n        this.toolbox = new ToolboxStore(this, this.core);\n        this.quick_strategy = new QuickStrategyStore(this);\n\n        this.dashboard = new DashboardStore(this, this.core);\n\n        // need to be at last for dependency\n        this.chart_store = new ChartStore(this);\n        this.blockly_store = new BlocklyStore(this);\n        this.data_collection_store = new DataCollectionStore(this, this.core);\n    }\n}\n",
            "size_bytes": 3271
        },
        "src/pages/tutorials/constants.ts": {
            "content": "import { getImageLocation } from '../../public-path';\nimport { localize } from '@deriv-com/translations';\nimport { TFaqContent, TGuideContent, TQuickStrategyContent, TUserGuideContent } from './tutorials.types';\n\nexport const USER_GUIDE = 'user guide';\nexport const VIDEOS = 'videos on deriv bot';\nexport const QUICK_STRATEGY_GUIDES = 'quick strategy guides';\n\nexport const user_guide_content = (): TUserGuideContent[] => [\n    {\n        id: 1,\n        type: 'Tour',\n        subtype: 'OnBoard',\n        content: localize('Get started on Deriv Bot'),\n        src: getImageLocation('dbot-onboard-tour.png'),\n        search_id: `${USER_GUIDE}-0`,\n    },\n    {\n        id: 2,\n        type: 'Tour',\n        subtype: 'BotBuilder',\n        content: localize('Lets build a bot!'),\n        src: getImageLocation('bot-builder-tour.png'),\n        search_id: `${USER_GUIDE}-1`,\n    },\n];\n\nexport const guide_content = (): TGuideContent[] => [\n    {\n        id: 1,\n        type: 'DBotVideo',\n        content: localize('An introduction to Deriv Bot'),\n        url: 'https://www.youtube.com/embed/lthEgaIY1uw',\n        src: getImageLocation('intro_to_deriv_bot.png'),\n        search_id: `${VIDEOS}-0`,\n    },\n    {\n        id: 2,\n        type: 'DBotVideo',\n        content: localize('How to build a basic trading bot with Deriv Bot'),\n        url: 'https://www.youtube.com/embed/mnpi2g7YakU',\n        src: getImageLocation('build_a_bot.png'),\n        search_id: `${VIDEOS}-1`,\n    },\n    {\n        id: 3,\n        type: 'DBotVideo',\n        content: localize('How to use Martingale strategy on Deriv Bot'),\n        url: 'https://www.youtube.com/embed/FSslvF7P00I',\n        src: getImageLocation('how_to_use_martingale.jpg'),\n        search_id: `${VIDEOS}-2`,\n    },\n    {\n        id: 4,\n        type: 'DBotVideo',\n        content: localize('Introducing Accumulator Options on Deriv Bot: Available for automated trading'),\n        url: 'https://www.youtube.com/embed/uMBBmdNaadU',\n        src: getImageLocation('introducing_accumulators_on_deriv_bot.png'),\n        search_id: `${VIDEOS}-3`,\n    },\n];\n\nexport const faq_content = (): TFaqContent[] => [\n    {\n        title: localize('What is Deriv Bot?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    \"Deriv Bot is a web-based strategy builder for trading digital options. Its a platform where you can build your own automated trading bot using drag-and-drop 'blocks'.\"\n                ),\n            },\n        ],\n        search_id: 'faq-0',\n    },\n    {\n        title: localize('Where do I find the blocks I need?'),\n        description: [\n            {\n                type: 'text',\n                content: localize('Follow these steps:'),\n            },\n            {\n                type: 'text',\n                content: localize('1. Go to <strong>Bot Builder</strong>.'),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    \"2. Under the <strong>Blocks menu</strong>, you'll see a list of categories. Blocks are grouped within these categories. Choose the block you want and drag them to the workspace.\"\n                ),\n            },\n            {\n                type: 'image',\n                src: getImageLocation('blocks_menu.png'),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '3. You can also search for the blocks you want using the search bar above the categories.'\n                ),\n            },\n            {\n                type: 'image',\n                src: getImageLocation('blocks_menu_search.png'),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    'For more info, <a href=\"https://deriv.com/academy/blog/posts/how-to-build-a-basic-trading-bot-with-dbot/\" target=\"_blank\">check out this blog post</a> on the basics of building a trading bot.'\n                ),\n            },\n        ],\n        search_id: 'faq-1',\n    },\n    {\n        title: localize('How do I remove blocks from the workspace?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    'Click on the block you want to remove and press <strong>Delete</strong> on your keyboard.'\n                ),\n            },\n        ],\n        search_id: 'faq-2',\n    },\n    {\n        title: localize('How do I create variables?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    '1. Under the <strong>Blocks</strong> menu, go to <strong>Utility > Variables</strong>.'\n                ),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '2. Enter a name for your variable, and hit <strong>Create</strong>. New blocks containing your new variable will appear below.'\n                ),\n            },\n            {\n                type: 'text',\n                content: localize('3. Choose the block you want and drag it to the workspace.'),\n            },\n        ],\n        search_id: 'faq-3',\n    },\n    {\n        title: localize('Do you offer pre-built trading bots on Deriv Bot?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    \"Yes, you can get started with a pre-built bot using the <strong>Quick strategy</strong> feature. Youll find some of the most popular trading strategies here: Martingale, D'Alembert, and Oscar's Grind. Just select the strategy, enter your trade parameters, and your bot will be created for you. You can always tweak the parameters later.\"\n                ),\n            },\n        ],\n        search_id: 'faq-4',\n    },\n    {\n        title: localize('What is a quick strategy?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    \"A quick strategy is a ready-made strategy that you can use in Deriv Bot. There are 3 quick strategies you can choose from: Martingale, D'Alembert, and Oscar's Grind.\"\n                ),\n            },\n            {\n                type: 'text',\n                content: localize('<strong>Using a quick strategy</strong>'),\n            },\n            {\n                type: 'text',\n                content: localize('1. Go to <strong>Quick strategy</strong> and select the strategy you want.'),\n            },\n            {\n                type: 'text',\n                content: localize('2. Select the asset and trade type.'),\n            },\n            {\n                type: 'text',\n                content: localize('3. Set your trade parameters and hit <strong>Run</strong>.'),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '4. Once the blocks are loaded onto the workspace, tweak the parameters if you want, or hit <strong>Run</strong> to start trading.'\n                ),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '5. Hit <strong>Save</strong> to download your bot. You can choose to download your bot to your device or your Google Drive.'\n                ),\n            },\n        ],\n        search_id: 'faq-5',\n    },\n    {\n        title: localize('How do I save my strategy?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    'In <strong>Bot Builder</strong>, hit <strong>Save</strong> on the toolbar at the top to download your bot. Give your bot a name, and choose to download your bot to your device or Google Drive. Your bot will be downloaded as an XML file.'\n                ),\n            },\n        ],\n        search_id: 'faq-6',\n    },\n    {\n        title: localize('How do I import my own trading bot into Deriv Bot?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    'Just drag the XML file from your computer onto the workspace, and your bot will be loaded accordingly. Alternatively, you can hit <strong>Import</strong> in <strong>Bot Builder</strong>, and choose to import your bot from your computer or from your Google Drive.'\n                ),\n            },\n            {\n                type: 'text',\n                content: localize('<strong>Import from your computer</strong>'),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '1. After hitting <strong>Import</strong>, select <strong>Local</strong> and click <strong>Continue</strong>.'\n                ),\n            },\n            {\n                type: 'text',\n                content: localize('2. Select your XML file and hit <strong>Open</strong>.'),\n            },\n            {\n                type: 'text',\n                content: localize('3. Your bot will be loaded accordingly.'),\n            },\n            {\n                type: 'text',\n                content: localize('<strong>Import from your Google Drive</strong>'),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '1. After hitting <strong>Import</strong>, select <strong>Google Drive</strong> and click <strong>Continue</strong>.'\n                ),\n            },\n            {\n                type: 'text',\n                content: localize('2. Select your XML file and hit <strong>Select</strong>.'),\n            },\n            {\n                type: 'text',\n                content: localize('3. Your bot will be loaded accordingly.'),\n            },\n        ],\n        search_id: 'faq-7',\n    },\n    {\n        title: localize('How do I reset the workspace?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    'In <strong>Bot Builder</strong>, hit <strong>Reset</strong> on the toolbar at the top. This will clear the workspace. Please note that any unsaved changes will be lost.'\n                ),\n            },\n        ],\n        search_id: 'faq-8',\n    },\n    {\n        title: localize('How do I clear my transaction log?'),\n        description: [\n            {\n                type: 'text',\n                content: localize('1. Hit <strong>Reset</strong> at the bottom of stats panel.'),\n            },\n            {\n                type: 'image',\n                src: getImageLocation('reset_transaction_log.png'),\n            },\n            {\n                type: 'text',\n                content: localize('2. Hit <strong>Ok</strong> to confirm.'),\n            },\n            {\n                type: 'image',\n                src: getImageLocation('reset_transaction_log_message.png'),\n            },\n        ],\n        search_id: 'faq-9',\n    },\n    {\n        title: localize('How do I control my losses with Deriv Bot?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    'There are several ways to control your losses with Deriv Bot. Heres a simple example of how you can implement loss control in your strategy:'\n                ),\n            },\n            {\n                type: 'image',\n                src: getImageLocation('loss_control_all_block.png'),\n                imageclass: 'loss-control',\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '<strong>1.</strong> Create the following variables and place them under <strong>Run once at start</strong>:'\n                ),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    ' <strong>Stop loss threshold</strong>: Use this variable to store your loss limit. You can assign any amount you want. Your bot will stop when your losses hits or exceeds this amount.'\n                ),\n            },\n            {\n                type: 'text',\n                content: localize('Example:'),\n            },\n            {\n                type: 'image',\n                src: getImageLocation('loss_control_set_stop_loss.png'),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    ' <strong>Current stake</strong>: Use this variable to store the stake amount. You can assign any amount you want, but it must be a positive number.'\n                ),\n            },\n            {\n                type: 'text',\n                content: localize('Example:'),\n            },\n            {\n                type: 'image',\n                src: getImageLocation('loss_control_set_current_stake.png'),\n            },\n            {\n                type: 'text',\n                content: localize('This is how your trade parameters, variables, and trade options should look like:'),\n            },\n            {\n                type: 'image',\n                src: getImageLocation('loss_control_trade_parameters.png'),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '<strong>2.</strong> Set the <strong>Purchase conditions</strong>. In this example, your bot will purchase a <strong>Rise</strong> contract when it starts and after a contract closes.'\n                ),\n            },\n            {\n                type: 'image',\n                src: getImageLocation('loss_control_purchase_conditions.png'),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '<strong>3.</strong> Use a logic block to check if <strong>Total profit/loss</strong> is more than the <strong>Stop loss threshold</strong> amount. You can find the <strong>Total profit/loss</strong> variable under <strong>Analysis > Stats</strong> on the <strong>Blocks menu</strong> on the left. Your bot will continue to purchase new contracts until the <strong>Total profit/loss</strong> amount exceeds the <strong>Stop loss threshold</strong> amount.'\n                ),\n            },\n            {\n                type: 'image',\n                src: getImageLocation('loss_control_restart_trade_conditions.png'),\n            },\n        ],\n        search_id: 'faq-10',\n    },\n    {\n        title: localize('Can I run Deriv Bot on multiple tabs in my web browser?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    'Yes, you can. However, there are limits on your account, such as maximum number of open positions and maximum aggregate payouts on open positions. So, just keep these limits in mind when opening multiple positions. You can find more info about these limits at <a href=\"https://app.deriv.com/account/account-limits\" target=\"_blank\">Settings > Account limits</a>.'\n                ),\n            },\n        ],\n        search_id: 'faq-11',\n    },\n    {\n        title: localize('Can I trade cryptocurrencies on Deriv Bot?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\"No, we don't offer cryptocurrencies on Deriv Bot.\"),\n            },\n        ],\n        search_id: 'faq-12',\n    },\n    {\n        title: localize('Do you sell trading bots?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    \"No, we don't. However, you'll find quick strategies on Deriv Bot that'll help you build your own trading bot for free.\"\n                ),\n            },\n        ],\n        search_id: 'faq-13',\n    },\n    {\n        title: localize('In which countries is Deriv Bot available?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    'We offer our services in all countries, except for the ones <a href=\"https://deriv.com/tnc/general-terms.pdf\" target=\"_blank\">mentioned in our terms and conditions.</a>'\n                ),\n            },\n        ],\n        search_id: 'faq-14',\n    },\n    {\n        title: localize('If I close my web browser, will Deriv Bot continue to run?'),\n        description: [\n            {\n                type: 'text',\n                content: localize('No, Deriv Bot will stop running when your web browser is closed.'),\n            },\n        ],\n        search_id: 'faq-15',\n    },\n    {\n        title: localize('What are the most popular strategies for automated trading?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    \"Three of the most commonly used strategies in automated trading are Martingale, D'Alembert, and Oscar's Grind  you can find them all ready-made and waiting for you in Deriv Bot.\"\n                ),\n            },\n        ],\n        search_id: 'faq-16',\n    },\n    {\n        title: localize('How do I build a trading bot?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    '<a href=\"https://www.youtube.com/watch?v=QdI5zCkO4Gk&t=203s\" target=\"_blank\">Watch this video</a> to learn how to build a trading bot on Deriv Bot. Also, <a href=\"https://deriv.com/academy/blog/posts/how-to-build-a-basic-trading-bot-with-dbot/\" target=\"_blank\">check out this blog post</a> on building a trading bot.'\n                ),\n            },\n        ],\n        search_id: 'faq-17',\n    },\n];\n\nexport const quick_strategy_content = (): TQuickStrategyContent[] => [\n    {\n        qs_name: 'MARTINGALE',\n        type: localize('About Martingale'),\n        content: [\n            localize('Exploring the Martingale strategy in Deriv Bot'),\n            localize('An example of Martingale strategy'),\n        ],\n        search_id: `${QUICK_STRATEGY_GUIDES}-0`,\n    },\n    {\n        qs_name: 'D_ALEMBERT',\n        type: localize(\"About D'Alembert\"),\n        content: [\n            localize('Exploring the DAlembert strategy in Deriv Bot'),\n            localize('An example of DAlembert strategy'),\n        ],\n        search_id: `${QUICK_STRATEGY_GUIDES}-1`,\n    },\n    {\n        qs_name: 'OSCARS_GRIND',\n        type: localize(\"About Oscar's Grind\"),\n        content: [\n            localize('Exploring the Oscars Grind strategy in Deriv Bot'),\n            localize('An example of Oscars Grind strategy'),\n        ],\n        search_id: `${QUICK_STRATEGY_GUIDES}-2`,\n    },\n    {\n        qs_name: 'REVERSE_MARTINGALE',\n        type: localize('About Reverse Martingale'),\n        content: [\n            localize('Exploring the Reverse Martingale strategy in Deriv Bot'),\n            localize('An example of Reverse Martingale strategy'),\n        ],\n        search_id: `${QUICK_STRATEGY_GUIDES}-3`,\n    },\n    {\n        qs_name: 'REVERSE_D_ALEMBERT',\n        type: localize('About Reverse DAlembert'),\n        content: [\n            localize('Exploring the Reverse DAlembert strategy in Deriv Bot'),\n            localize('An example of Reverse DAlembert strategy'),\n        ],\n        search_id: `${QUICK_STRATEGY_GUIDES}-4`,\n    },\n    {\n        qs_name: 'STRATEGY_1_3_2_6',\n        type: localize('About 1-3-2-6'),\n        content: [localize('Exploring the 1-3-2-6 strategy in Deriv Bot'), localize('An example of 1-3-2-6 strategy')],\n        search_id: `${QUICK_STRATEGY_GUIDES}-5`,\n    },\n];\n",
            "size_bytes": 19462
        },
        "src/components/chat/useLiveChat.ts": {
            "content": "import { useEffect } from 'react';\nimport Cookies from 'js-cookie';\nimport useRemoteConfig from '@/hooks/growthbook/useRemoteConfig';\nimport { URLUtils } from '@deriv-com/utils';\n\ntype TLiveChatClientInformation = {\n    is_client_store_initialized: boolean;\n    is_logged_in: boolean;\n    loginid?: string;\n    currency?: string;\n    residence?: string;\n    email?: string;\n    first_name?: string;\n    last_name?: string;\n};\n\nconst useLiveChat = (client_information: TLiveChatClientInformation) => {\n    const {\n        is_client_store_initialized,\n        currency = ' ',\n        email = ' ',\n        is_logged_in = ' ',\n        loginid = ' ',\n        residence = ' ',\n        last_name = ' ',\n        first_name = ' ',\n    } = client_information;\n\n    const url_query_string = window.location.search;\n    const url_params = new URLSearchParams(url_query_string);\n    const reset_password = URLUtils.getQueryParameter('action') === 'reset_password';\n    const should_disable_livechat = url_params.get('code') && reset_password;\n\n    const { data } = useRemoteConfig(true);\n    const { cs_chat_livechat } = data;\n\n    useEffect(() => {\n        if (is_client_store_initialized && cs_chat_livechat) {\n            window.LiveChatWidget?.init();\n        }\n    }, [is_client_store_initialized, cs_chat_livechat]);\n\n    useEffect(() => {\n        if (!should_disable_livechat && is_client_store_initialized) {\n            window.LiveChatWidget?.on('ready', data => {\n                //hide red widget on responsive\n                if (data.state.visibility === 'minimized') {\n                    window.LiveChatWidget?.call('hide');\n                }\n                const utm_data = JSON.parse(Cookies.get('utm_data') || '{}');\n                const { utm_source, utm_medium, utm_campaign } = utm_data;\n\n                const session_variables = {\n                    is_logged_in: String(is_logged_in),\n                    utm_source: utm_source || ' ',\n                    utm_medium: utm_medium || ' ',\n                    utm_campaign: utm_campaign || ' ',\n                    loginid: is_logged_in ? loginid : ' ',\n                    currency: is_logged_in ? currency : ' ',\n                    residence: is_logged_in ? residence : ' ',\n                    email: is_logged_in ? email : ' ',\n                };\n\n                window.LiveChatWidget?.call('set_session_variables', session_variables);\n\n                if (is_logged_in) {\n                    window.LiveChatWidget?.call('set_customer_email', email);\n                    window.LiveChatWidget?.call('set_customer_name', `${first_name} ${last_name}`);\n                } else {\n                    window.LiveChatWidget?.call('set_customer_email', ' ');\n                    window.LiveChatWidget?.call('set_customer_name', ' ');\n                }\n            });\n        }\n    }, [\n        email,\n        should_disable_livechat,\n        loginid,\n        is_logged_in,\n        is_client_store_initialized,\n        currency,\n        first_name,\n        last_name,\n        residence,\n    ]);\n};\n\nexport default useLiveChat;\n",
            "size_bytes": 3087
        },
        "src/types/index.ts": {
            "content": "export * from './blockly.types';\nexport * from './dbot.types';\nexport * from './localize.types';\nexport * from './strategy.types';\nexport * from './ws.types';\n",
            "size_bytes": 159
        },
        "src/components/shared_ui/app-linked-with-wallet-icon/index.ts": {
            "content": "import AppLinkedWithWalletIcon from './app-linked-with-wallet-icon';\n\nexport { AppLinkedWithWalletIcon };\n",
            "size_bytes": 106
        },
        "src/components/layout/footer/FullScreen.tsx": {
            "content": "import useFullScreen from '@/hooks/useFullScreen';\nimport { LegacyFullscreen1pxIcon } from '@deriv/quill-icons/Legacy';\nimport { useTranslations } from '@deriv-com/translations';\nimport { Tooltip } from '@deriv-com/ui';\n\nconst FullScreen = () => {\n    const { toggleFullScreenMode } = useFullScreen();\n    const { localize } = useTranslations();\n\n    return (\n        <Tooltip\n            as='button'\n            className='app-footer__icon'\n            onClick={toggleFullScreenMode}\n            tooltipContent={localize('Full screen')}\n        >\n            <LegacyFullscreen1pxIcon iconSize='xs' />\n        </Tooltip>\n    );\n};\n\nexport default FullScreen;\n",
            "size_bytes": 659
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Trade Definition/trade_definition_tradeoptions.js": {
            "content": "import { getCurrencyDisplayCode, getDecimalPlaces } from '@/components/shared';\nimport { isAuthorizing$ } from '@/external/bot-skeleton/services/api/observables/connection-status-stream';\nimport { localize } from '@deriv-com/translations';\nimport { DURATIONS } from '../../../../../../components/shared/utils/common-data';\nimport { config } from '../../../../constants/config';\nimport ApiHelpers from '../../../../services/api/api-helpers';\nimport DBotStore from '../../../dbot-store';\nimport {\n    excludeOptionFromContextMenu,\n    modifyContextMenu,\n    runGroupedEvents,\n    runIrreversibleEvents,\n    setCurrency,\n} from '../../../utils';\n\nwindow.Blockly.Blocks.trade_definition_tradeoptions = {\n    durations: [],\n    init() {\n        this.jsonInit(this.definition());\n        this.setInputsInline(true);\n\n        // Ensure one of this type per statement-stack\n        this.setNextStatement(false);\n    },\n    definition() {\n        const is_stake = this.type === 'trade_definition_tradeoptions';\n        return {\n            message0: localize('Duration: {{ duration_unit }} {{ duration_value }}', {\n                duration_unit: '%1',\n                duration_value: '%2',\n            }),\n            message1: `${is_stake ? localize('Stake') : localize('Payout')}: %1 %2 %3`,\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'DURATIONTYPE_LIST',\n                    options: [['', '']],\n                },\n                {\n                    type: 'input_value',\n                    name: 'DURATION',\n                    check: 'Number',\n                },\n            ],\n            args1: [\n                {\n                    type: 'field_label',\n                    name: 'CURRENCY_LIST',\n                    text: getCurrencyDisplayCode(config().lists.CURRENCY[0]),\n                },\n                {\n                    type: 'input_value',\n                    name: 'AMOUNT',\n                    check: 'Number',\n                },\n                {\n                    type: 'field_label',\n                    name: 'AMOUNT_LIMITS',\n                    text: '',\n                },\n            ],\n            colour: window.Blockly.Colours.Special1.colour,\n            colourSecondary: window.Blockly.Colours.Special1.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Special1.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Define your trade options such as duration and stake.'),\n            category: window.Blockly.Categories.Trade_Definition,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Trade options'),\n            description: localize(\n                'Define your trade options such as duration and stake. Some options are only applicable for certain trade types.'\n            ),\n        };\n    },\n    customContextMenu(menu) {\n        const menu_items = [localize('Enable Block'), localize('Disable Block')];\n        excludeOptionFromContextMenu(menu, menu_items);\n        modifyContextMenu(menu);\n    },\n    onchange(event) {\n        if (event.type === 'change') {\n            const selected_block = this.workspace.getBlockById(event.blockId);\n            selected_block?.parentBlock_?.inputList\n                .filter(item => ['DURATION', 'AMOUNT'].includes(item.name))\n                .forEach(input => {\n                    const input_target = input.connection.targetBlock();\n                    const value = input_target?.getFieldValue('NUM')?.toString();\n                    if (value?.startsWith('0')) {\n                        const new_value = value.includes('.') ? parseFloat(`${value}`) : parseInt(`${value}`);\n                        input_target.setFieldValue(new_value.toString(), 'NUM');\n                    }\n                });\n        }\n\n        if (!this.workspace || this.workspace.isDragging() || window.Blockly.derivWorkspace.isFlyoutVisible) {\n            return;\n        }\n\n        const trade_definition_block = this.workspace\n            .getAllBlocks(true)\n            .find(block => block.type === 'trade_definition');\n        if (!trade_definition_block) {\n            return;\n        }\n\n        const market_block = trade_definition_block.getChildByType('trade_definition_market');\n        const trade_type_block = trade_definition_block.getChildByType('trade_definition_tradetype');\n\n        if (!market_block || !trade_type_block) {\n            return;\n        }\n\n        this.selected_symbol = market_block.getFieldValue('SYMBOL_LIST');\n        this.selected_market = market_block.getFieldValue('MARKET_LIST');\n        this.selected_trade_type_category = trade_type_block.getFieldValue('TRADETYPECAT_LIST');\n        this.selected_trade_type = trade_type_block.getFieldValue('TRADETYPE_LIST');\n        this.selected_duration = this.getFieldValue('DURATIONTYPE_LIST');\n        this.selected_barrier_types = [\n            this.getFieldValue('BARRIEROFFSETTYPE_LIST') || config().BARRIER_TYPES[0][1],\n            this.getFieldValue('SECONDBARRIEROFFSETTYPE_LIST') || config().BARRIER_TYPES[1][1],\n        ];\n\n        if (\n            (event.type === window.Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id)) ||\n            (event.type === window.Blockly.Events.BLOCK_DRAG && !event.isStart)\n        ) {\n            setCurrency(this);\n            this.updateAmountLimits();\n        }\n\n        const is_load_event = /^dbot-load/.test(event.group);\n\n        if (event.type === window.Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id)) {\n            if (is_load_event) {\n                // Do NOT touch any values when a strategy is being loaded.\n                this.updateBarrierInputs(false, false);\n                this.updateDurationInput(false, false);\n                this.updatePredictionInput(false);\n                this.updateAmountLimits();\n            } else {\n                this.updateBarrierInputs(true, true);\n                this.enforceSingleBarrierType('BARRIEROFFSETTYPE_LIST', true);\n                this.updateDurationInput(true, true);\n                this.updatePredictionInput(true);\n            }\n        } else if (event.type === window.Blockly.Events.BLOCK_CHANGE) {\n            if (is_load_event) {\n                if (event.name === 'TRADETYPE_LIST') {\n                    this.updateBarrierInputs(false, false);\n                    this.enforceSingleBarrierType(event.name, true);\n                    this.updateDurationInput(false, false);\n                    this.updatePredictionInput(false);\n                }\n            } else if (event.blockId === this.id) {\n                switch (event.name) {\n                    case 'DURATIONTYPE_LIST': {\n                        this.updateBarrierInputs(true, true);\n                        this.enforceSingleBarrierType('BARRIEROFFSETTYPE_LIST', true);\n                        this.updateDurationInput(false, true);\n                        break;\n                    }\n                    case 'BARRIEROFFSETTYPE_LIST':\n                    case 'SECONDBARRIEROFFSETTYPE_LIST': {\n                        this.updateBarrierInputs(false, true);\n                        this.enforceSingleBarrierType(event.name, false);\n                        break;\n                    }\n                    default:\n                        break;\n                }\n            } else if (event.name === 'SYMBOL_LIST' || event.name === 'TRADETYPE_LIST') {\n                this.updateBarrierInputs(true, true);\n                this.enforceSingleBarrierType(event.name, true);\n                this.updateDurationInput(true, true);\n                this.updatePredictionInput(true);\n                this.updateAmountLimits();\n            }\n        } else if (event.type === window.Blockly.Events.BLOCK_DRAG && !event.isStart && event.blockId === this.id) {\n            // Ensure this block is populated after initial drag from flyout.\n            if (!this.selected_duration) {\n                const fake_creation_event = new window.Blockly.Events.BlockCreate(this);\n                fake_creation_event.recordUndo = false;\n                window.Blockly.Events.fire(fake_creation_event);\n            } else if (this.selected_trade_type === 'multiplier') {\n                this.updateDurationInput(false, false);\n            }\n        }\n    },\n    createPredictionInput(prediction_range) {\n        runIrreversibleEvents(() => {\n            if (prediction_range.length === 0) {\n                this.removeInput('PREDICTION_LABEL', true);\n                this.removeInput('PREDICTION', true);\n            } else if (!this.getInput('PREDICTION')) {\n                this.appendDummyInput('PREDICTION_LABEL').appendField(localize('Prediction:'));\n\n                const prediction_input = this.appendValueInput('PREDICTION');\n                const shadow_block = this.workspace.newBlock('math_number_positive');\n\n                shadow_block.setInputsInline(true);\n                shadow_block.setShadow(true);\n                shadow_block.setFieldValue(prediction_range[0], 'NUM');\n                shadow_block.outputConnection.connect(prediction_input.connection);\n                shadow_block.initSvg();\n                shadow_block.renderEfficiently();\n            }\n        });\n    },\n    createBarrierInputs(barriers) {\n        runIrreversibleEvents(() => {\n            const input_names = ['BARRIEROFFSET', 'SECONDBARRIEROFFSET'];\n\n            for (let i = 0; i < barriers.values.length; i++) {\n                const label = barriers.values.length === 1 ? localize('Barrier') : config().BARRIER_LABELS[i];\n                let input = this.getInput(input_names[i]);\n\n                if (input) {\n                    input.fieldRow[0].setText(label);\n                } else {\n                    input = this.appendValueInput(input_names[i])\n                        .appendField(label, `${input_names[i]}_LABEL`)\n                        .appendField(\n                            new window.Blockly.FieldDropdown(config().BARRIER_TYPES),\n                            `${input_names[i]}TYPE_LIST`\n                        );\n\n                    const shadow_block = this.workspace.newBlock('math_number_positive');\n\n                    shadow_block.setInputsInline(true);\n                    shadow_block.setShadow(true);\n                    shadow_block.setFieldValue(barriers.values[i], 'NUM');\n                    shadow_block.outputConnection.connect(input.connection);\n                    shadow_block.initSvg();\n                    shadow_block.renderEfficiently();\n                }\n            }\n\n            // Remove any extra inputs (quietly) if not required\n            for (let i = input_names.length; i > barriers.values.length; i--) {\n                this.removeInput(input_names[i - 1], true);\n            }\n        });\n    },\n    updateAmountLimits() {\n        const { account_limits } = ApiHelpers?.instance ?? {};\n        if (!account_limits) return;\n        const { currency } = DBotStore.instance.client;\n\n        if (isAuthorizing$.getValue()) return;\n        account_limits.getStakePayoutLimits(currency, undefined, this.selected_market).then(limits => {\n            const unsupported_trade_types = ['multiplier', 'accumulator'];\n            if (unsupported_trade_types.includes(this.selected_trade_type)) return;\n            const currency_block = this.getField('CURRENCY_LIST')?.getSourceBlock();\n            const currency_child_block = currency_block?.getChildren()?.[1]?.getField('NUM');\n            if (!this.getField('AMOUNT_LIMITS') && !currency_block && !currency_child_block) return;\n            this.amount_limits = limits;\n            const { max_payout, min_stake } = limits;\n            if (max_payout && min_stake) {\n                runIrreversibleEvents(() => {\n                    this.setFieldValue(\n                        localize('(min: {{min_stake}} - max: {{max_payout}})', {\n                            min_stake,\n                            max_payout,\n                        }),\n                        'AMOUNT_LIMITS'\n                    );\n                });\n                if (currency_block && currency_child_block) {\n                    currency_child_block.setValue(this.amount_limits?.min_stake);\n                }\n            }\n        });\n    },\n    updateDurationInput(should_use_default_unit, should_update_value) {\n        const { contracts_for } = ApiHelpers?.instance ?? {};\n        if (!contracts_for) return;\n\n        if (this.selected_trade_type === 'accumulator' && this.isDescendantOf('trade_definition')) {\n            runIrreversibleEvents(() => {\n                runGroupedEvents(false, () => {\n                    const accumulator_block = this.workspace.newBlock('trade_definition_accumulator');\n                    accumulator_block.initSvg();\n                    accumulator_block.render();\n\n                    const trade_definition_block = this.workspace.getTradeDefinitionBlock();\n                    const parent_connection = trade_definition_block.getInput('SUBMARKET').connection;\n\n                    const child_connection = accumulator_block.previousConnection;\n                    parent_connection.connect(child_connection);\n\n                    const stake_input = accumulator_block.getInput('AMOUNT');\n                    const stake_shadow_block = this.workspace.newBlock('math_number_positive');\n                    stake_shadow_block.setShadow(true);\n                    stake_shadow_block.setFieldValue(1, 'NUM');\n                    stake_shadow_block.outputConnection.connect(stake_input.connection);\n                    stake_shadow_block.initSvg();\n                    stake_shadow_block.renderEfficiently();\n\n                    const take_profit_block = this.workspace.newBlock('accumulator_take_profit');\n                    const take_profit_input = take_profit_block.getInput('AMOUNT');\n\n                    const take_profit_shadow_block = this.workspace.newBlock('math_number_positive');\n                    take_profit_shadow_block.setShadow(true);\n                    take_profit_shadow_block.setFieldValue(0, 'NUM');\n                    take_profit_block.setDisabled(true);\n                    take_profit_shadow_block.outputConnection.connect(take_profit_input.connection);\n                    take_profit_shadow_block.initSvg();\n                    take_profit_shadow_block.renderEfficiently();\n\n                    accumulator_block\n                        .getLastConnectionInStatement('ACCUMULATOR_PARAMS')\n                        .connect(take_profit_block.previousConnection);\n                    take_profit_block.initSvg();\n                    take_profit_block.renderEfficiently();\n\n                    this.dispose();\n                });\n            });\n        } else if (this.selected_trade_type === 'multiplier' && this.isDescendantOf('trade_definition')) {\n            runIrreversibleEvents(() => {\n                runGroupedEvents(false, () => {\n                    const multiplier_block = this.workspace.newBlock('trade_definition_multiplier');\n                    multiplier_block.initSvg();\n                    multiplier_block.renderEfficiently();\n\n                    const trade_definition_block = this.workspace.getTradeDefinitionBlock();\n                    const parent_connection = trade_definition_block.getInput('SUBMARKET').connection;\n                    const child_connection = multiplier_block.previousConnection;\n                    parent_connection.connect(child_connection);\n\n                    const stake_input = multiplier_block.getInput('AMOUNT');\n\n                    const stake_shadow_block = this.workspace.newBlock('math_number_positive');\n                    stake_shadow_block.setInputsInline(true);\n                    stake_shadow_block.setShadow(true);\n                    stake_shadow_block.setFieldValue(1, 'NUM');\n                    stake_shadow_block.outputConnection.connect(stake_input.connection);\n                    stake_shadow_block.initSvg();\n                    stake_shadow_block.renderEfficiently();\n\n                    const take_profit_block = this.workspace.newBlock('multiplier_take_profit');\n                    const take_profit_input = take_profit_block.getInput('AMOUNT');\n\n                    const take_profit_shadow_block = this.workspace.newBlock('math_number_positive');\n                    take_profit_shadow_block.setInputsInline(true);\n                    take_profit_shadow_block.setShadow(true);\n                    take_profit_shadow_block.setFieldValue(0, 'NUM');\n                    take_profit_shadow_block.outputConnection.connect(take_profit_input.connection);\n                    take_profit_shadow_block.initSvg();\n                    take_profit_shadow_block.renderEfficiently();\n\n                    take_profit_block.initSvg();\n                    take_profit_block.renderEfficiently();\n                    multiplier_block\n                        .getLastConnectionInStatement('MULTIPLIER_PARAMS')\n                        .connect(take_profit_block.previousConnection);\n\n                    const stop_loss_block = this.workspace.newBlock('multiplier_stop_loss');\n                    const stop_loss_input = stop_loss_block.getInput('AMOUNT');\n\n                    const stop_loss_shadow_block = this.workspace.newBlock('math_number_positive');\n                    stop_loss_shadow_block.setInputsInline(true);\n                    stop_loss_shadow_block.setShadow(true);\n                    stop_loss_shadow_block.setFieldValue(0, 'NUM');\n                    stop_loss_shadow_block.outputConnection.connect(stop_loss_input.connection);\n                    stop_loss_shadow_block.initSvg();\n                    stop_loss_shadow_block.renderEfficiently();\n\n                    stop_loss_block.initSvg();\n                    stop_loss_block.renderEfficiently();\n                    multiplier_block\n                        .getLastConnectionInStatement('MULTIPLIER_PARAMS')\n                        .connect(stop_loss_block.previousConnection);\n\n                    this.dispose();\n                });\n            });\n        } else {\n            contracts_for\n                .getDurations(this.selected_symbol, this.selected_trade_type)\n                .then(durations => {\n                    // Use fallback if no durations received\n                    if (!durations || durations.length === 0) {\n                        durations = DURATIONS;\n                    }\n\n                    // Keep duration in memory so we can later reference them for validation\n                    this.durations = durations;\n\n                    const duration_field_dropdown = this.getField('DURATIONTYPE_LIST');\n                    const duration_input = this.getInput('DURATION');\n                    const duration_options = durations.map(duration => [duration.display, duration.unit]);\n\n                    duration_field_dropdown?.updateOptions(duration_options, {\n                        default_value: should_use_default_unit ? undefined : duration_field_dropdown.getValue(),\n                    });\n\n                    if (should_update_value && duration_input && duration_input.connection) {\n                        const target_block = duration_input.connection.targetBlock();\n\n                        if (target_block && target_block.isShadow()) {\n                            const min_duration = durations.find(duration => duration.unit === this.selected_duration);\n\n                            if (min_duration) {\n                                runIrreversibleEvents(() => {\n                                    target_block.setFieldValue(min_duration.min, 'NUM');\n                                });\n                            }\n                        }\n                    }\n                })\n                .catch(error => {\n                    // Use fallback on error\n                    this.durations = DURATIONS;\n                    const duration_field_dropdown = this.getField('DURATIONTYPE_LIST');\n                    const duration_options = DURATIONS.map(duration => [duration.display, duration.unit]);\n\n                    duration_field_dropdown?.updateOptions(duration_options, {\n                        default_value: should_use_default_unit ? undefined : duration_field_dropdown.getValue(),\n                    });\n                    console.error('Error fetching durations:', error);\n                });\n        }\n        const {\n            workspaces: {\n                indentWorkspace: { x, y },\n            },\n        } = config();\n        setTimeout(() => {\n            window.Blockly.getMainWorkspace().cleanUp(x, y);\n        }, 10);\n    },\n    updateBarrierInputs(should_use_default_type, should_use_default_values) {\n        const { contracts_for } = ApiHelpers?.instance ?? {};\n        if (!contracts_for) return;\n\n        const { BARRIER_TYPES } = config();\n\n        contracts_for\n            .getBarriers(\n                this.selected_symbol,\n                this.selected_trade_type,\n                this.selected_duration,\n                this.selected_barrier_types\n            )\n            .then(barriers => {\n                this.createBarrierInputs(barriers);\n\n                const input_names = ['BARRIEROFFSET', 'SECONDBARRIEROFFSET'];\n\n                for (let i = 0; i < barriers.values.length; i++) {\n                    const barrier_field_dropdown = this.getField(`${input_names[i]}TYPE_LIST`);\n                    const { ABSOLUTE_BARRIER_DROPDOWN_OPTION } = config();\n                    const barrier_field_value = should_use_default_type\n                        ? BARRIER_TYPES[i][1]\n                        : barrier_field_dropdown.getValue();\n\n                    if (this.selected_duration === 'd') {\n                        // Only absolute types are allowed.\n                        barrier_field_dropdown.updateOptions(ABSOLUTE_BARRIER_DROPDOWN_OPTION, {\n                            default_value: 'absolute',\n                        });\n                    } else if (barriers.allow_both_types || barriers.allow_absolute_type) {\n                        // Both offset + absolute types are allowed.\n                        const options = [].concat(BARRIER_TYPES, ABSOLUTE_BARRIER_DROPDOWN_OPTION);\n\n                        barrier_field_dropdown.updateOptions(options, {\n                            default_value: barrier_field_value,\n                        });\n                    } else {\n                        // Only offset types are allowed.\n                        barrier_field_dropdown.updateOptions(BARRIER_TYPES, {\n                            default_value: barrier_field_value,\n                        });\n                    }\n\n                    const { connection } = this.getInput(input_names[i]);\n\n                    if (should_use_default_values && connection) {\n                        const target_block = connection.targetBlock();\n\n                        if (target_block && target_block.isShadow()) {\n                            const barrier_value = barriers.values[i] !== false ? barriers.values[i] : '';\n\n                            runIrreversibleEvents(() => {\n                                target_block.setFieldValue(barrier_value, 'NUM');\n                            });\n                        }\n                    }\n                }\n            });\n    },\n    updatePredictionInput(should_use_default_value) {\n        const { contracts_for } = ApiHelpers?.instance ?? {};\n        if (!contracts_for) return;\n\n        contracts_for.getPredictionRange(this.selected_symbol, this.selected_trade_type).then(prediction_range => {\n            this.createPredictionInput(prediction_range);\n\n            if (prediction_range.length > 0) {\n                const prediction_input = this.getInput('PREDICTION');\n                const { connection } = prediction_input;\n\n                if (should_use_default_value && connection) {\n                    const target_block = connection.targetBlock();\n\n                    if (target_block && target_block.isShadow()) {\n                        const initial_prediction = Math.max(1, prediction_range[0]);\n\n                        runIrreversibleEvents(() => {\n                            target_block.setFieldValue(initial_prediction, 'NUM');\n                        });\n                    }\n                }\n            }\n        });\n    },\n    enforceSingleBarrierType(barrier_input_name, should_force_distinct) {\n        const new_value = this.getFieldValue(barrier_input_name || '');\n        const other_barrier_input_name =\n            barrier_input_name === 'BARRIEROFFSETTYPE_LIST' ? 'SECONDBARRIEROFFSETTYPE_LIST' : 'BARRIEROFFSETTYPE_LIST';\n        const other_barrier_field = this.getField(other_barrier_input_name);\n        const { BARRIER_TYPES } = config();\n\n        if (other_barrier_field) {\n            const has_other_barrier = BARRIER_TYPES.findIndex(type => type[1] === new_value) !== -1;\n            const other_barrier_type = other_barrier_field.getValue();\n\n            runIrreversibleEvents(() => {\n                if (has_other_barrier && (other_barrier_type === 'absolute' || should_force_distinct)) {\n                    const other_barrier_value = BARRIER_TYPES.find(type => type[1] !== new_value);\n                    other_barrier_field.setValue(other_barrier_value[1]);\n                } else if (new_value === 'absolute' && other_barrier_type !== 'absolute') {\n                    other_barrier_field.setValue('absolute');\n                }\n            });\n        }\n    },\n    domToMutation(xmlElement) {\n        const has_first_barrier = xmlElement.getAttribute('has_first_barrier') === 'true';\n        const has_second_barrier = xmlElement.getAttribute('has_second_barrier') === 'true';\n        const has_prediction = xmlElement.getAttribute('has_prediction') === 'true';\n\n        if (has_first_barrier && has_second_barrier) {\n            this.createBarrierInputs({ values: [1, -1] }); // These values are overwritten with XML values.\n        } else if (has_first_barrier) {\n            this.createBarrierInputs({ values: [1] });\n        } else if (has_prediction) {\n            this.createPredictionInput([1]);\n        }\n    },\n    mutationToDom() {\n        const container = document.createElement('mutation');\n\n        container.setAttribute('has_first_barrier', !!this.getInput('BARRIEROFFSET'));\n        container.setAttribute('has_second_barrier', !!this.getInput('SECONDBARRIEROFFSET'));\n        container.setAttribute('has_prediction', !!this.getInput('PREDICTION'));\n\n        return container;\n    },\n    restricted_parents: ['trade_definition'],\n    getRequiredValueInputs() {\n        return {\n            AMOUNT: input => {\n                const input_number = Number(input);\n                const max_payout = this.amount_limits?.max_payout;\n                const min_stake = this.amount_limits?.min_stake;\n                if (min_stake && input_number < min_stake) {\n                    this.error_message = localize(\"Please enter a stake amount that's at least {{min_stake}}.\", {\n                        min_stake,\n                    });\n                    return input_number < min_stake;\n                }\n                if (max_payout && input_number > max_payout) {\n                    this.error_message = localize(\"Please enter a payout amount that's lower than {{max_payout}}.\", {\n                        max_payout,\n                    });\n                    return input_number > max_payout;\n                }\n                this.error_message = localize('Amount must be a positive number.');\n                return !isNaN(input_number) && input_number <= 0;\n            },\n            DURATION: input => {\n                const input_number = Number(input);\n\n                if (isNaN(input_number) || !this.durations.length) {\n                    return false;\n                }\n\n                const duration = this.durations.find(d => d.unit === this.selected_duration);\n\n                if (duration) {\n                    const { min, max } = duration;\n                    const is_valid_duration = input_number >= min && input_number <= max;\n\n                    if (min === max) {\n                        this.error_message = localize(\n                            'Duration value is not allowed. To run the bot, please enter {{min}}.',\n                            { min }\n                        );\n                    } else {\n                        this.error_message = localize(\n                            'Duration value is not allowed. To run the bot, please enter a value between {{min}} to {{max}}.',\n                            { min, max }\n                        );\n                    }\n\n                    return !is_valid_duration;\n                }\n\n                return false;\n            },\n        };\n    },\n};\n\nwindow.Blockly.Blocks.trade_definition_tradeoptions_payout = window.Blockly.Blocks.trade_definition_tradeoptions;\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.trade_definition_tradeoptions = block => {\n    const amount =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'AMOUNT',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC\n        ) || '0';\n    const { currency } = DBotStore.instance.client;\n    const duration_type = block.getFieldValue('DURATIONTYPE_LIST') || '0';\n    const duration_value =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'DURATION',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC\n        ) || '0';\n\n    // Determine decimal places for rounding the stake, this is done so Martingale multipliers\n    // are not affected by fractional values e.g. USD 12.232323 will become 12.23.\n    const decimal_places = getDecimalPlaces(currency);\n    const stake_amount = `+(Number(${amount}).toFixed(${decimal_places}))`;\n\n    const getBarrierValue = (barrier_offset_type, value) => {\n        // Variables should not be encapsulated in quotes\n        if (/^(\\d+(\\.\\d+)?)$/.test(value)) {\n            return barrier_offset_type === 'absolute' ? `'${value}'` : `'${barrier_offset_type}${value}'`;\n        }\n        return barrier_offset_type === 'absolute' ? value : `'${barrier_offset_type}' + ${value}`;\n    };\n\n    let prediction_value, barrier_offset_value, second_barrier_offset_value;\n\n    if (block.getInput('PREDICTION')) {\n        prediction_value =\n            window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n                block,\n                'PREDICTION',\n                window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC\n            ) || '-1';\n    }\n\n    if (block.getInput('BARRIEROFFSET')) {\n        const barrier_offset_type = block.getFieldValue('BARRIEROFFSETTYPE_LIST');\n        const value =\n            window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n                block,\n                'BARRIEROFFSET',\n                window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC\n            ) || '0';\n        barrier_offset_value = getBarrierValue(barrier_offset_type, value);\n    }\n\n    if (block.getInput('SECONDBARRIEROFFSET')) {\n        const barrier_offset_type = block.getFieldValue('SECONDBARRIEROFFSETTYPE_LIST');\n        const value =\n            window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n                block,\n                'SECONDBARRIEROFFSET',\n                window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC\n            ) || '0';\n        second_barrier_offset_value = getBarrierValue(barrier_offset_type, value);\n    }\n\n    const code = `\n        Bot.start({\n            limitations        : BinaryBotPrivateLimitations,\n            duration           : ${duration_value},\n            duration_unit      : '${duration_type}',\n            currency           : '${currency}',\n            amount             : ${stake_amount},\n            prediction         : ${prediction_value || 'undefined'},\n            barrierOffset      : ${barrier_offset_value || 'undefined'},\n            secondBarrierOffset: ${second_barrier_offset_value || 'undefined'},\n            basis              : '${block.type === 'trade_definition_tradeoptions' ? 'stake' : 'payout'}',\n        });\n        BinaryBotPrivateHasCalledTradeOptions = true;\n    `;\n\n    return code;\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.trade_definition_tradeoptions_payout =\n    window.Blockly.JavaScript.javascriptGenerator.forBlock.trade_definition_tradeoptions;\n",
            "size_bytes": 32577
        },
        "analysis-tool/Benanalysistool-final-main/components/charts/entropy-chart.tsx": {
            "content": "\"use client\"\n\ninterface EntropyChartProps {\n  entropy: number\n  maxEntropy?: number\n}\n\nexport function EntropyChart({ entropy, maxEntropy = 3.32 }: EntropyChartProps) {\n  // Create a simple visualization of current entropy vs max\n  const data = [\n    { name: \"Min\", value: 0 },\n    { name: \"Current\", value: entropy },\n    { name: \"Max\", value: maxEntropy },\n  ]\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <div className=\"text-sm text-muted-foreground\">Entropy (Randomness)</div>\n          <div className=\"text-3xl font-bold text-foreground\">{entropy.toFixed(3)}</div>\n        </div>\n        <div className=\"text-right\">\n          <div className=\"text-sm text-muted-foreground\">Randomness Level</div>\n          <div className=\"text-lg font-semibold text-primary\">{((entropy / maxEntropy) * 100).toFixed(1)}%</div>\n        </div>\n      </div>\n      <div className=\"h-2 bg-muted rounded-full overflow-hidden\">\n        <div\n          className=\"h-full bg-gradient-to-r from-destructive via-chart-5 to-success transition-all duration-500\"\n          style={{ width: `${(entropy / maxEntropy) * 100}%` }}\n        />\n      </div>\n      <div className=\"text-xs text-muted-foreground\">\n        Higher entropy indicates more random distribution. Max entropy for 10 digits is {maxEntropy.toFixed(2)}.\n      </div>\n    </div>\n  )\n}\n",
            "size_bytes": 1403
        },
        "analysis-tool/Benanalysistool-final-main/components/ui/popover.tsx": {
            "content": "'use client'\n\nimport * as React from 'react'\nimport * as PopoverPrimitive from '@radix-ui/react-popover'\n\nimport { cn } from '@/lib/utils'\n\nfunction Popover({\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Root>) {\n  return <PopoverPrimitive.Root data-slot=\"popover\" {...props} />\n}\n\nfunction PopoverTrigger({\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Trigger>) {\n  return <PopoverPrimitive.Trigger data-slot=\"popover-trigger\" {...props} />\n}\n\nfunction PopoverContent({\n  className,\n  align = 'center',\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Content>) {\n  return (\n    <PopoverPrimitive.Portal>\n      <PopoverPrimitive.Content\n        data-slot=\"popover-content\"\n        align={align}\n        sideOffset={sideOffset}\n        className={cn(\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden',\n          className,\n        )}\n        {...props}\n      />\n    </PopoverPrimitive.Portal>\n  )\n}\n\nfunction PopoverAnchor({\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Anchor>) {\n  return <PopoverPrimitive.Anchor data-slot=\"popover-anchor\" {...props} />\n}\n\nexport { Popover, PopoverTrigger, PopoverContent, PopoverAnchor }\n",
            "size_bytes": 1636
        },
        "src/external/bot-skeleton/services/tradeEngine/utils/interpreter.js": {
            "content": "import { isMultiplierContract } from '@/components/shared';\nimport cloneThorough from '@/utils/clone';\nimport JSInterpreter from '@deriv/js-interpreter';\nimport { unrecoverable_errors } from '../../../constants/messages';\nimport { observer as globalObserver } from '../../../utils/observer';\nimport { api_base } from '../../api/api-base';\nimport Interface from '../Interface';\nimport { createScope } from './cliTools';\n\nJSInterpreter.prototype.takeStateSnapshot = function () {\n    const newStateStack = cloneThorough(this.stateStack, undefined, undefined, undefined, true);\n    return newStateStack;\n};\n\nJSInterpreter.prototype.restoreStateSnapshot = function (snapshot) {\n    this.stateStack = cloneThorough(snapshot, undefined, undefined, undefined, true);\n    this.global = this.stateStack[0].scope.object || this.stateStack[0].scope;\n    this.initFunc_(this, this.global);\n};\n\nconst botInitialized = bot => bot && bot.tradeEngine.options;\nconst botStarted = bot => botInitialized(bot) && bot.tradeEngine.tradeOptions;\nconst shouldRestartOnError = (bot, errorName = '') =>\n    !unrecoverable_errors.includes(errorName) && botInitialized(bot) && bot.tradeEngine.options.shouldRestartOnError;\n\nconst shouldStopOnError = (bot, errorName = '') => {\n    const stopErrors = ['SellNotAvailableCustom', 'ContractCreationFailure', 'InvalidtoBuy'];\n    if (stopErrors.includes(errorName) && botInitialized(bot)) {\n        return true;\n    }\n    return false;\n};\n\nconst timeMachineEnabled = bot => botInitialized(bot) && bot.tradeEngine.options.timeMachineEnabled;\n\n// TODO chek beforState & duringState & startState\nconst Interpreter = () => {\n    let $scope = createScope();\n    let bot = Interface($scope);\n    let interpreter = {};\n    let onFinish;\n\n    $scope.observer.register('REVERT', watchName =>\n        revert(watchName === 'before' ? $scope.beforeState : $scope.duringState)\n    );\n\n    function init() {\n        $scope = createScope();\n        bot = Interface($scope);\n        interpreter = {};\n        onFinish = () => {};\n    }\n\n    function revert(state) {\n        interpreter.restoreStateSnapshot(state);\n        interpreter.paused_ = false;\n        loop();\n    }\n\n    function loop() {\n        if ($scope.stopped || !interpreter.run()) {\n            onFinish(interpreter.pseudoToNative(interpreter.value));\n        }\n    }\n\n    function createAsync(js_interpreter, func) {\n        const asyncFunc = (...args) => {\n            const callback = args.pop();\n\n            // Workaround for unknown number of args\n            const reversed_args = args.slice().reverse();\n            const first_defined_arg_idx = reversed_args.findIndex(arg => arg !== undefined);\n\n            // Remove extra undefined args from end of the args\n            const function_args = first_defined_arg_idx < 0 ? [] : reversed_args.slice(first_defined_arg_idx).reverse();\n            // End of workaround\n\n            func(...function_args.map(arg => js_interpreter.pseudoToNative(arg)))\n                .then(rv => {\n                    callback(js_interpreter.nativeToPseudo(rv));\n                    loop();\n                })\n                .catch(e => {\n                    // e.error for errors get from API, e for code errors\n                    $scope.observer.emit('Error', e.error || e);\n                });\n        };\n\n        // TODO: This is a workaround, create issue on original repo, once fixed\n        // remove this. We don't know how many args are going to be passed, so we\n        // assume a max of 100.\n        const MAX_ACCEPTABLE_FUNC_ARGS = 100;\n        Object.defineProperty(asyncFunc, 'length', { value: MAX_ACCEPTABLE_FUNC_ARGS + 1 });\n        return js_interpreter.createAsyncFunction(asyncFunc);\n    }\n\n    function initFunc(js_interpreter, scope) {\n        const bot_interface = bot.getInterface();\n        const { getTicksInterface, alert, prompt, sleep, console: custom_console } = bot_interface;\n        const ticks_interface = getTicksInterface;\n\n        js_interpreter.setProperty(scope, 'console', js_interpreter.nativeToPseudo(custom_console));\n        js_interpreter.setProperty(scope, 'alert', js_interpreter.nativeToPseudo(alert));\n        js_interpreter.setProperty(scope, 'prompt', js_interpreter.nativeToPseudo(prompt));\n        js_interpreter.setProperty(\n            scope,\n            'getPurchaseReference',\n            js_interpreter.nativeToPseudo(bot_interface.getPurchaseReference)\n        );\n\n        const pseudo_bot_interface = js_interpreter.nativeToPseudo(bot_interface);\n\n        Object.entries(ticks_interface).forEach(([name, f]) =>\n            js_interpreter.setProperty(pseudo_bot_interface, name, createAsync(js_interpreter, f))\n        );\n\n        js_interpreter.setProperty(\n            pseudo_bot_interface,\n            'start',\n            js_interpreter.nativeToPseudo((...args) => {\n                const { start } = bot_interface;\n                if (shouldRestartOnError(bot)) {\n                    $scope.startState = js_interpreter.takeStateSnapshot();\n                }\n                start(...args);\n            })\n        );\n\n        js_interpreter.setProperty(\n            pseudo_bot_interface,\n            'purchase',\n            createAsync(js_interpreter, bot_interface.purchase)\n        );\n        js_interpreter.setProperty(\n            pseudo_bot_interface,\n            'sellAtMarket',\n            createAsync(js_interpreter, bot_interface.sellAtMarket)\n        );\n        js_interpreter.setProperty(scope, 'Bot', pseudo_bot_interface);\n        js_interpreter.setProperty(\n            scope,\n            'watch',\n            createAsync(js_interpreter, watchName => {\n                const { watch } = bot.getInterface();\n\n                if (timeMachineEnabled(bot)) {\n                    const snapshot = interpreter.takeStateSnapshot();\n                    if (watchName === 'before') {\n                        $scope.beforeState = snapshot;\n                    } else {\n                        $scope.duringState = snapshot;\n                    }\n                }\n\n                return watch(watchName);\n            })\n        );\n\n        js_interpreter.setProperty(scope, 'sleep', createAsync(js_interpreter, sleep));\n    }\n\n    async function stop() {\n        return new Promise((resolve, reject) => {\n            try {\n                const global_timeouts = globalObserver.getState('global_timeouts') ?? [];\n                const is_timeouts_cancellable = Object.keys(global_timeouts).every(\n                    timeout => global_timeouts[timeout].is_cancellable\n                );\n\n                if (!bot.tradeEngine.contractId && is_timeouts_cancellable) {\n                    api_base.is_stopping = true;\n                    // When user is rate limited, allow them to stop the bot immediately\n                    // granted there is no active contract.\n                    global_timeouts.forEach(timeout => clearTimeout(global_timeouts[timeout]));\n                    terminateSession().then(() => {\n                        api_base.is_stopping = false;\n                        resolve();\n                    });\n                } else if (\n                    bot.tradeEngine.isSold === false &&\n                    !$scope.is_error_triggered &&\n                    isMultiplierContract(bot?.tradeEngine?.data?.contract?.contract_type ?? '')\n                ) {\n                    globalObserver.register('contract.status', async contractStatus => {\n                        if (contractStatus.id === 'contract.sold') {\n                            terminateSession().then(() => resolve());\n                        }\n                    });\n                } else {\n                    api_base.is_stopping = true;\n                    terminateSession().then(() => {\n                        api_base.is_stopping = false;\n                        resolve();\n                    });\n                }\n            } catch (e) {\n                reject(e);\n            }\n        });\n    }\n\n    async function terminateSession() {\n        return new Promise((resolve, reject) => {\n            try {\n                $scope.stopped = true;\n                $scope.is_error_triggered = false;\n                globalObserver.emit('bot.stop');\n                const { ticksService } = $scope;\n                // Unsubscribe previous ticks_history subscription\n                // Unsubscribe the subscriptions from Proposal, Balance and OpenContract\n                api_base.clearSubscriptions();\n\n                ticksService.unsubscribeFromTicksService().then(() => {\n                    resolve();\n                });\n            } catch (error) {\n                reject(error);\n            }\n        });\n    }\n\n    async function unsubscribeFromTicksService() {\n        const { ticksService } = $scope;\n        return new Promise((resolve, reject) => {\n            try {\n                ticksService.unsubscribeFromTicksService().then(() => {\n                    resolve();\n                });\n            } catch (e) {\n                reject(e);\n            }\n        });\n    }\n\n    function run(code) {\n        return new Promise((resolve, reject) => {\n            const onError = e => {\n                if ($scope.stopped) {\n                    return;\n                }\n                // DBot handles 'InvalidToken' internally\n                if (e.code === 'InvalidToken') {\n                    globalObserver.emit('client.invalid_token');\n                    return;\n                }\n                if (shouldStopOnError(bot, e?.code)) {\n                    globalObserver.emit('ui.log.error', e.message);\n                    globalObserver.emit('bot.click_stop');\n                    return;\n                }\n\n                $scope.is_error_triggered = true;\n                if (!shouldRestartOnError(bot, e.code) || !botStarted(bot)) {\n                    reject(e);\n                    return;\n                }\n\n                globalObserver.emit('Error', e);\n                const { initArgs, tradeOptions } = bot.tradeEngine;\n                terminateSession();\n                init();\n                $scope.observer.register('Error', onError);\n                bot.tradeEngine.init(...initArgs);\n                bot.tradeEngine.start(tradeOptions);\n                const canRestoreState = $scope.startState && interpreter?.restoreStateSnapshot instanceof Function;\n                if (canRestoreState) {\n                    revert($scope.startState);\n                }\n            };\n\n            $scope.observer.register('Error', onError);\n\n            interpreter = new JSInterpreter(code, initFunc);\n            onFinish = resolve;\n\n            loop();\n        });\n    }\n\n    return { stop, run, terminateSession, bot, unsubscribeFromTicksService };\n};\nexport default Interpreter;\n\nexport const createInterpreter = () => new Interpreter();\n",
            "size_bytes": 10841
        },
        "src/external/bot-skeleton/scratch/blocks/Advanced/Functions/procedures_callreturn.js": {
            "content": "import { localize } from '@deriv-com/translations';\n\nwindow.Blockly.Blocks.procedures_callreturn = {\n    init() {\n        this.arguments = [];\n        this.previousDisabledState = false;\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2',\n            args0: [\n                {\n                    type: 'field_label',\n                    name: 'NAME',\n                    text: this.id,\n                },\n                {\n                    type: 'input_dummy',\n                    name: 'TOPROW',\n                },\n            ],\n            output: null,\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Special2.colour,\n            colourSecondary: window.Blockly.Colours.Special2.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Special2.colourTertiary,\n            tooltip: localize('Custom function'),\n            category: window.Blockly.Categories.Functions,\n            inputsInline: true,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Custom function'),\n            description: '',\n        };\n    },\n    onchange: window.Blockly.Blocks.procedures_callnoreturn.onchange,\n    getProcedureDefinition: window.Blockly.Blocks.procedures_callnoreturn.getProcedureDefinition,\n    getProcedureCall: window.Blockly.Blocks.procedures_callnoreturn.getProcedureCall,\n    renameProcedure: window.Blockly.Blocks.procedures_callnoreturn.renameProcedure,\n    setProcedureParameters: window.Blockly.Blocks.procedures_callnoreturn.setProcedureParameters,\n    updateShape: window.Blockly.Blocks.procedures_callnoreturn.updateShape,\n    mutationToDom: window.Blockly.Blocks.procedures_callnoreturn.mutationToDom,\n    domToMutation: window.Blockly.Blocks.procedures_callnoreturn.domToMutation,\n    getVarModels: window.Blockly.Blocks.procedures_callnoreturn.getVarModels,\n    customContextMenu: window.Blockly.Blocks.procedures_callnoreturn.customContextMenu,\n    defType: 'procedures_defreturn',\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.procedures_callreturn = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const functionName = window.Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('NAME'),\n        window.Blockly.Procedures.CATEGORY_NAME\n    );\n    const args = block.arguments.map(\n        (arg, i) =>\n            window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n                block,\n                `ARG${i}`,\n                window.Blockly.JavaScript.javascriptGenerator.ORDER_COMMA\n            ) || 'null'\n    );\n\n    const code = `${functionName}(${args.join(', ')})`;\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_FUNCTION_CALL];\n};\n",
            "size_bytes": 2807
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Tools/Time/epoch.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../../utils';\n\nwindow.Blockly.Blocks.epoch = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Seconds Since Epoch'),\n            output: 'Number',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the number of seconds since January 1st, 1970'),\n            category: window.Blockly.Categories.Time,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Second Since Epoch'),\n            description: localize('This block returns the number of seconds since January 1st, 1970.'),\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.epoch = () => [\n    'Bot.getTime()',\n    window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC,\n];\n",
            "size_bytes": 1188
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/During Purchase/index.js": {
            "content": "import './during_purchase';\nimport './sell_at_market';\nimport './check_sell';\nimport './sell_price';\n",
            "size_bytes": 101
        },
        "src/external/bot-skeleton/constants/save-type.ts": {
            "content": "export const save_types = Object.freeze({\n    UNSAVED: 'unsaved',\n    LOCAL: 'local',\n    GOOGLE_DRIVE: 'google drive',\n});\n",
            "size_bytes": 124
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Tick Analysis/stat.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../utils';\n\nBlockly.Blocks.stat = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Current Stat'),\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the Current Stat'),\n            category: Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Current Stat'),\n            description: localize('This block gives you the Current Stat value.'),\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nBlockly.JavaScript.javascriptGenerator.forBlock.stat = () => [\n    'Bot.getCurrentStat()',\n    Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC,\n];\n",
            "size_bytes": 1080
        },
        "src/components/shared/utils/routes/routes.ts": {
            "content": "type Service = 'derivCom' | 'smartTrader' | 'derivHub' | 'derivHome' | 'derivDtrader';\ntype DomainType = 'me' | 'be' | 'com';\n\ninterface DomainConfig {\n    staging: string | Record<DomainType, string>;\n    production: Record<DomainType, string>;\n}\n\nconst domains: Record<Service, DomainConfig> = {\n    derivCom: {\n        staging: 'https://staging.deriv.com',\n        production: {\n            me: 'https://deriv.me',\n            be: 'https://deriv.be',\n            com: 'https://deriv.com',\n        },\n    },\n    smartTrader: {\n        staging: {\n            me: 'https://staging-smarttrader.deriv.me',\n            be: 'https://staging-smarttrader.deriv.be',\n            com: 'https://staging-smarttrader.deriv.com',\n        },\n        production: {\n            me: 'https://smarttrader.deriv.me',\n            be: 'https://smarttrader.deriv.be',\n            com: 'https://smarttrader.deriv.com',\n        },\n    },\n    derivHub: {\n        staging: 'https://staging-hub.deriv.com',\n        production: {\n            me: 'https://hub.deriv.me',\n            be: 'https://hub.deriv.be',\n            com: 'https://hub.deriv.com',\n        },\n    },\n    derivHome: {\n        staging: 'https://staging-home.deriv.com',\n        production: {\n            me: 'https://home.deriv.com', // No .me domain yet, using .com\n            be: 'https://home.deriv.com', // No .be domain yet, using .com\n            com: 'https://home.deriv.com',\n        },\n    },\n    derivDtrader: {\n        staging: 'https://staging-dtrader.deriv.com',\n        production: {\n            me: 'https://dtrader.deriv.com', // No .me domain yet, using .com\n            be: 'https://dtrader.deriv.com', // No .be domain yet, using .com\n            com: 'https://dtrader.deriv.com',\n        },\n    },\n};\n\nexport const getDerivDomain = (service: Service): string => {\n    const hostname = window.location.hostname;\n    const isStaging = hostname.includes('staging');\n    const isDev = hostname.includes('dev-') || hostname.includes('localhost') || hostname.includes('127.0.0.1');\n    const domainType: DomainType = hostname.endsWith('.me') ? 'me' : hostname.endsWith('.be') ? 'be' : 'com';\n\n    const serviceConfig = domains[service];\n\n    // Handle development environment for derivHome and derivDtrader\n    if (service === 'derivHome' && isDev) {\n        return 'https://dev-home.deriv.com';\n    }\n\n    if (service === 'derivDtrader' && isDev) {\n        return 'https://dev-dtrader.deriv.com';\n    }\n\n    if (isStaging) {\n        if (typeof serviceConfig.staging === 'string') {\n            return serviceConfig.staging;\n        } else {\n            return serviceConfig.staging[domainType];\n        }\n    } else {\n        return serviceConfig.production[domainType];\n    }\n};\n\n/**\n * Standalone routes that use the domain helper functions.\n * Uses template literals to compose URLs dynamically.\n */\nexport const standalone_routes = {\n    account_settings: `${getDerivDomain('derivHub')}/accounts`,\n    bot: `${window.location.origin}`,\n    cashier: `${getDerivDomain('derivDtrader')}/cashier/`,\n    cashier_deposit: `${getDerivDomain('derivDtrader')}/cashier/deposit`,\n    cashier_p2p: `${getDerivDomain('derivDtrader')}/cashier/p2p`,\n    contract: `${getDerivDomain('derivDtrader')}/contract/:contract_id`,\n    personal_details: `${getDerivDomain('derivDtrader')}/account/personal-details`,\n    positions: `${getDerivDomain('derivDtrader')}/reports/positions`,\n    profit: `${getDerivDomain('derivDtrader')}/reports/profit`,\n    reports: `${getDerivDomain('derivDtrader')}/reports`,\n    root: `${getDerivDomain('derivHome')}/dashboard/home`,\n    smarttrader: getDerivDomain('smartTrader'),\n    statement: `${getDerivDomain('derivDtrader')}/reports/statement`,\n    trade: `${getDerivDomain('derivDtrader')}/dtrader`,\n    traders_hub: `${getDerivDomain('derivHome')}/dashboard/home`,\n    traders_hub_lowcode: getDerivDomain('derivHub'),\n    recent_transactions: `${getDerivDomain('derivHub')}/tradershub/redirect?action=redirect_to&redirect_to=wallet`,\n    wallets_transfer: `${getDerivDomain('derivDtrader')}/wallet/account-transfer`,\n    signup: `${getDerivDomain('derivHome')}/dashboard/signup`,\n    deriv_com: getDerivDomain('derivCom'),\n    deriv_app: `${getDerivDomain('derivHome')}/dashboard/home`,\n    endpoint: `${window.location.origin}/endpoint`,\n    account_limits: `${getDerivDomain('derivDtrader')}/account/account-limits`,\n    help_center: `${getDerivDomain('derivCom')}/help-centre/`,\n    responsible: `${getDerivDomain('derivCom')}/responsible/`,\n};\n",
            "size_bytes": 4527
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/During Purchase/check_sell.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.check_sell = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Sell is available'),\n            output: 'Boolean',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('True if active contract can be sold before expiration at current market price'),\n            category: window.Blockly.Categories.During_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Can contract be sold?'),\n            description: localize(\n                'This block helps you check if your contract can be sold. If your contract can be sold, it returns True. Otherwise, it returns an empty string.'\n            ),\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    restricted_parents: ['during_purchase'],\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.check_sell = () => {\n    const code = 'Bot.isSellAvailable()';\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC];\n};\n",
            "size_bytes": 1426
        },
        "src/components/shared_ui/types/contract.types.ts": {
            "content": "export type TGetContractPath = (contract_id?: number) => string;\n\nexport type TToastConfig = {\n    key: string;\n    content: string | React.ReactNode;\n    is_bottom?: boolean;\n    timeout?: number;\n    type: string;\n};\n\nexport type TErrorMessages = Readonly<{\n    take_profit: string;\n    stop_loss: string;\n}>;\n",
            "size_bytes": 312
        },
        "src/external/bot-skeleton/scratch/blocks/Advanced/Loops/controls_forEach.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.controls_forEach = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('for each item {{ variable }} in list {{ input_list }}', {\n                variable: '%1',\n                input_list: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VAR',\n                    variable: null,\n                },\n                {\n                    type: 'input_value',\n                    name: 'LIST',\n                    check: 'Array',\n                },\n            ],\n            message1: localize('do %1'),\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'DO',\n                },\n            ],\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Iterates through a given list'),\n            category: window.Blockly.Categories.Loop,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Iterate (2)'),\n            description: localize(\n                'This block uses the variable \"i\" to control the iterations. With each iteration, the value of \"i\" is determined by the items in a given list.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            LIST: null,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.controls_forEach = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const variable0 = window.Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VAR'),\n        window.Blockly.Variables.CATEGORY_NAME\n    );\n    const argument0 =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'LIST',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_ASSIGNMENT\n        ) || '[]';\n\n    let branch = window.Blockly.JavaScript.javascriptGenerator.statementToCode(block, 'DO');\n    branch = window.Blockly.JavaScript.javascriptGenerator.addLoopTrap(branch, block.id);\n\n    let code = '';\n\n    // Cache non-trivial values to variables to prevent repeated look-ups.\n    let listVar = argument0;\n    if (!argument0.match(/^\\w+$/)) {\n        // eslint-disable-next-line no-underscore-dangle\n        listVar = window.Blockly.JavaScript.variableDB_.getDistinctName(\n            `${variable0}_list`,\n            window.Blockly.Variables.CATEGORY_NAME\n        );\n        code = `var ${listVar} = ${argument0};\\n`;\n    }\n\n    // eslint-disable-next-line no-underscore-dangle\n    const indexVar = window.Blockly.JavaScript.variableDB_.getDistinctName(\n        `${variable0}_list`,\n        window.Blockly.Variables.CATEGORY_NAME\n    );\n\n    code += `\n    for (var ${indexVar} in ${listVar}) {\n        ${variable0} = ${listVar}[${indexVar}];\n        ${branch}\n    }\\n`;\n\n    return code;\n};\n",
            "size_bytes": 3338
        },
        "src/components/journal/journal-components/journal-item.tsx": {
            "content": "import classnames from 'classnames';\nimport { MessageTypes } from '@/external/bot-skeleton';\nimport { isDbotRTL } from '@/external/bot-skeleton/utils/workspace';\nimport { TJournalItemExtra, TJournalItemProps } from '../journal.types';\nimport DateItem from './date-item';\nimport FormatMessage from './format-message';\n\nconst getJournalItemContent = (\n    message: string | ((value: () => void) => string),\n    type: string,\n    className: string,\n    extra: TJournalItemExtra,\n    measure: () => void\n) => {\n    switch (type) {\n        case MessageTypes.SUCCESS: {\n            return <FormatMessage logType={message as string} extra={extra} className={className} />;\n        }\n        case MessageTypes.NOTIFY: {\n            if (typeof message === 'function') {\n                return <div className={classnames('journal__text', className)}>{message(measure)}</div>;\n            }\n            return <div className={classnames('journal__text', className)}>{message}</div>;\n        }\n        case MessageTypes.ERROR: {\n            return <div className='journal__text--error journal__text'>{message as string}</div>;\n        }\n        default:\n            return null;\n    }\n};\n\nconst JournalItem = ({ row, measure }: TJournalItemProps) => {\n    const { date, time, message, message_type, className, extra } = row;\n    const date_el = DateItem({ date, time });\n\n    return (\n        <div>\n            <div className='list__animation' data-testid='mock-css-transition'>\n                <div className='journal__item' dir={isDbotRTL() ? 'rtl' : 'ltr'}>\n                    <div className='journal__item-content'>\n                        {getJournalItemContent(message, message_type, className, extra as TJournalItemExtra, measure)}\n                    </div>\n                    <div className='journal__text-datetime'>{date_el}</div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default JournalItem;\n",
            "size_bytes": 1927
        },
        "src/components/shared_ui/autocomplete/index.ts": {
            "content": "import Autocomplete from './autocomplete';\nimport './autocomplete.scss';\n\nexport default Autocomplete;\n",
            "size_bytes": 103
        },
        "src/external/bot-skeleton/scratch/blocks/Advanced/List/lists_length.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.lists_length = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('length of {{ input_list }}', { input_list: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                },\n            ],\n            inputsInline: true,\n            output: 'Number',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block gives you the total number of items in a given list.'),\n            category: window.Blockly.Categories.List,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('List Length'),\n            description: localize('This block gives you the total number of items in a given list.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            VALUE: null,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.lists_length = block => {\n    const list =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'VALUE',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_MEMBER\n        ) || '[]';\n\n    const code = `${list}.length`;\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_MEMBER];\n};\n",
            "size_bytes": 1748
        },
        "src/hooks/useApiBase.ts": {
            "content": "import { useEffect, useState } from 'react';\nimport {\n    account_list$,\n    authData$,\n    CONNECTION_STATUS,\n    connectionStatus$,\n    isAuthorized$,\n    isAuthorizing$,\n} from '@/external/bot-skeleton/services/api/observables/connection-status-stream';\nimport { TAuthData } from '@/types/api-types';\n\nexport const useApiBase = () => {\n    const [connectionStatus, setConnectionStatus] = useState<CONNECTION_STATUS>(CONNECTION_STATUS.UNKNOWN);\n    const [isAuthorized, setIsAuthorized] = useState<boolean>(false);\n    const [isAuthorizing, setIsAuthorizing] = useState<boolean>(true); // Will be overridden by observable stream which now starts with true\n    const [accountList, setAccountList] = useState<TAuthData['account_list']>([]);\n    const [authData, setAuthData] = useState<TAuthData | null>(null);\n    const [activeLoginid, setActiveLoginid] = useState<string>('');\n\n    useEffect(() => {\n        const connectionStatusSubscription = connectionStatus$.subscribe(status => {\n            setConnectionStatus(status as CONNECTION_STATUS);\n        });\n\n        const isAuthorizedSubscription = isAuthorized$.subscribe(isAuthorized => {\n            setIsAuthorized(isAuthorized);\n        });\n\n        const isAuthorizingSubscription = isAuthorizing$.subscribe(isAuthorizing => {\n            setIsAuthorizing(isAuthorizing);\n        });\n        const accountListSubscription = account_list$.subscribe(accountList => {\n            setAccountList(accountList);\n        });\n        const authDataSubscription = authData$.subscribe(authData => {\n            setAuthData(authData);\n            setActiveLoginid(authData?.loginid ?? '');\n        });\n\n        return () => {\n            connectionStatusSubscription.unsubscribe();\n            isAuthorizedSubscription.unsubscribe();\n            isAuthorizingSubscription.unsubscribe();\n            accountListSubscription.unsubscribe();\n            authDataSubscription.unsubscribe();\n        };\n    }, []);\n\n    return { connectionStatus, isAuthorized, isAuthorizing, accountList, authData, activeLoginid, setIsAuthorizing };\n};\n",
            "size_bytes": 2080
        },
        "src/components/shared/utils/validator/validator.ts": {
            "content": "import { getPreBuildDVRs, TRuleOptions } from '../validation/declarative-validation-rules';\nimport Errors from './errors';\n\ntype TRule<T extends object> = string | Array<string | TRuleOptions<T>>;\n\nexport const template = (string: string, content: string | Array<string>) => {\n    let to_replace = content;\n    if (content && !Array.isArray(content)) {\n        to_replace = [content];\n    }\n    return string.replace(/\\[_(\\d+)]/g, (s, index) => to_replace[+index - 1]);\n};\n\nclass Validator<T extends object, S extends object> {\n    input: Pick<S, keyof S>;\n    rules: T;\n    store: S;\n    errors: Errors;\n    error_count: number;\n\n    constructor(input: Pick<S, keyof S>, rules: T, store: S) {\n        this.input = input;\n        this.rules = rules;\n        this.store = store;\n        this.errors = new Errors();\n\n        this.error_count = 0;\n    }\n\n    /**\n     * Add failure and error message for given rule\n     *\n     * @param {string} attribute\n     * @param {object} rule\n     */\n    addFailure(attribute: string, rule: { name: string; options: TRuleOptions<S> }, error_message?: string) {\n        let message =\n            error_message ||\n            rule.options.message ||\n            (getPreBuildDVRs() as unknown as { [key: string]: { message: () => string } })[rule.name].message();\n        if (rule.name === 'length') {\n            message = template(message, [\n                rule.options.min === rule.options.max\n                    ? (rule.options.min?.toString() ?? '')\n                    : `${rule.options.min}-${rule.options.max}`,\n            ]);\n        } else if (rule.name === 'min') {\n            message = template(message, [rule.options.min?.toString() ?? '']);\n        } else if (rule.name === 'not_equal') {\n            message = template(message, [rule.options.name1 ?? '', rule.options.name2 ?? '']);\n        }\n        this.errors.add(attribute, message);\n        this.error_count++;\n    }\n\n    /**\n     * Runs validator\n     *\n     * @return {boolean} Whether it passes; true = passes, false = fails\n     */\n    check() {\n        Object.keys(this.input).forEach(attribute => {\n            if (!Object.prototype.hasOwnProperty.call(this.rules, attribute)) {\n                return;\n            }\n\n            (this.rules as { [key: string]: Array<TRule<S>> })[attribute].forEach((rule: TRule<S>) => {\n                const ruleObject = Validator.getRuleObject<S>(rule);\n\n                if (!ruleObject.validator && typeof ruleObject.validator !== 'function') {\n                    return;\n                }\n\n                if (ruleObject.options.condition && !ruleObject.options.condition(this.store)) {\n                    return;\n                }\n\n                if (this.input[attribute as keyof S] === '' && ruleObject.name !== 'req') {\n                    return;\n                }\n\n                const result = ruleObject.validator(\n                    this.input[attribute as keyof S] as string,\n                    ruleObject.options,\n                    this.store,\n                    this.input\n                );\n                if (typeof result === 'boolean' && !result) {\n                    this.addFailure(attribute, ruleObject);\n                } else if (typeof result === 'object') {\n                    const { is_ok, message } = result;\n                    if (!is_ok) {\n                        this.addFailure(attribute, ruleObject, message);\n                    }\n                }\n            });\n        });\n        return !this.error_count;\n    }\n\n    /**\n     * Determine if validation passes\n     *\n     * @return {boolean}\n     */\n    isPassed() {\n        return this.check();\n    }\n\n    /**\n     * Converts the rule array to an object\n     *\n     * @param {array} rule\n     * @return {object}\n     */\n    static getRuleObject<S extends object>(rule: TRule<S>) {\n        const is_rule_string = typeof rule === 'string';\n        const rule_object_name = (is_rule_string ? rule : rule[0]) as string;\n        const rule_object_options = (is_rule_string ? {} : rule[1] || {}) as TRuleOptions<S>;\n        return {\n            name: rule_object_name,\n            options: rule_object_options,\n            validator:\n                rule_object_name === 'custom'\n                    ? rule_object_options.func\n                    : (\n                          getPreBuildDVRs() as {\n                              [key: string]: {\n                                  func: TRuleOptions<S>['func'];\n                              };\n                          }\n                      )[rule_object_name].func,\n        };\n    }\n}\n\nexport default Validator;\n",
            "size_bytes": 4614
        },
        "src/components/layout/header/account-info-icon.tsx": {
            "content": "import React from 'react';\nimport { CurrencyIcon } from '@/components/currency/currency-icon';\n\ntype TAccountInfoIcon = {\n    is_virtual?: boolean;\n    currency?: string;\n};\n\nconst AccountInfoIcon = ({ is_virtual, currency }: TAccountInfoIcon) => {\n    return (\n        <span className='acc-info__id-icon'>\n            <CurrencyIcon currency={currency} isVirtual={is_virtual} />\n        </span>\n    );\n};\n\nexport default AccountInfoIcon;\n",
            "size_bytes": 438
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Before Purchase/ask_price.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.ask_price = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Ask Price {{ contract_type }}', { contract_type: '%1' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'PURCHASE_LIST',\n                    options: [['', '']],\n                },\n            ],\n            output: 'Number',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block returns the purchase price for the selected trade type.'),\n            category: window.Blockly.Categories.Before_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Purchase price'),\n            description: localize(\n                'This block returns the purchase price for the selected trade type. This block can be used only in the \"Purchase conditions\" root block.'\n            ),\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    onchange: window.Blockly.Blocks.purchase.onchange,\n    populatePurchaseList: window.Blockly.Blocks.purchase.populatePurchaseList,\n    enforceLimitations: window.Blockly.Blocks.purchase.enforceLimitations,\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.ask_price = block => {\n    const purchaseList = block.getFieldValue('PURCHASE_LIST');\n\n    const code = `Bot.getAskPrice('${purchaseList}')`;\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC];\n};\n",
            "size_bytes": 1874
        },
        "src/external/bot-skeleton/scratch/blocks/Math/math_random_int.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../utils';\n\nwindow.Blockly.Blocks.math_random_int = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('random integer from {{ start_number }} to {{ end_number }}', {\n                start_number: '%1',\n                end_number: '%2',\n            }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'FROM',\n                    check: 'Number',\n                },\n                {\n                    type: 'input_value',\n                    name: 'TO',\n                    check: 'Number',\n                },\n            ],\n            inputsInline: true,\n            output: 'Number',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block gives you a random number from within a set range'),\n            category: window.Blockly.Categories.Mathematical,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    meta() {\n        return {\n            display_name: localize('Random integer'),\n            description: localize('This block gives you a random number from within a set range.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            FROM: null,\n            TO: null,\n        };\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.math_random_int = block => {\n    const argument0 =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'FROM',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_COMMA\n        ) || '0';\n    const argument1 =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'TO',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_COMMA\n        ) || '0';\n\n    // eslint-disable-next-line no-underscore-dangle\n    const functionName = window.Blockly.JavaScript.javascriptGenerator.provideFunction_('mathRandomInt', [\n        // eslint-disable-next-line no-underscore-dangle\n        `function ${window.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(a, b) {\n            if (a > b) {\n                // Swap a and b to ensure a is smaller.\n                var c = a;\n                a = b;\n                b = c;\n            }\n            return Math.floor(Math.random() * (b - a + 1) + a);\n        }`,\n    ]);\n\n    const code = `${functionName}(${argument0}, ${argument1})`;\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_FUNCTION_CALL];\n};\n",
            "size_bytes": 2862
        },
        "src/external/bot-skeleton/scratch/blocks/Advanced/Loops/controls_flow_statements.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.controls_flow_statements = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('{{ break_or_continue }} of loop', { break_or_continue: '%1' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'FLOW',\n                    options: [\n                        [localize('break out'), 'BREAK'],\n                        [localize('continue with next iteration'), 'CONTINUE'],\n                    ],\n                },\n            ],\n            inputsInline: true,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize(\n                'This block is used to either terminate or continue a loop, and can be placed anywhere within a loop block.'\n            ),\n            category: window.Blockly.Categories.Loop,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Break out/continue'),\n            description: localize(\n                'This block is used to either terminate or continue a loop, and can be placed anywhere within a loop block.'\n            ),\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.controls_flow_statements = block => {\n    const keyword = block.getFieldValue('FLOW') === 'BREAK' ? 'break' : 'continue';\n    return `${keyword};\\n`;\n};\n",
            "size_bytes": 1803
        },
        "src/components/shared/utils/os/index.ts": { "content": "export * from './os_detect';\n", "size_bytes": 29 },
        "src/utils/help-content/help-strings/trade_definition.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize(\n            \"This block is mandatory. It's added to your strategy by default when you create new strategy. You can not add more than one copy of this block to the canvas.\"\n        ),\n        localize('1. Market'),\n        localize('Select your desired market and asset type. For example, Forex > Major pairs > AUD/JPY'),\n        localize('2. Trade Type'),\n        localize('Select your desired trade type. For example, Up/Down > Rise/Fall'),\n        localize('3. Contract Type'),\n        localize(\n            'Choose what type of contract you want to trade. For example, for the Rise/Fall trade type you can choose one of three options: Rise, Fall, or Both. Selected option will determine available options for the Purchase block.'\n        ),\n        localize('4. Default Candle Interval'),\n        localize('Sets the default time interval for blocks that read list of candles.'),\n        localize('5. Restart buy/sell on error'),\n        localize('Restarts the bot when an error is encountered.'),\n        localize('6. Restart last trade on error'),\n        localize('Repeats the previous trade when an error is encountered.'),\n        localize('7. Run Once at Start'),\n        localize('Place blocks here to perform tasks once when your bot starts running.'),\n        localize('8. Trade Options'),\n        localize('The desired duration, stake, prediction, and/or barrier(s) for the contract is defined here.'),\n    ],\n};\n",
            "size_bytes": 1531
        },
        "src/components/shared/utils/constants/contract.ts": {
            "content": "import React from 'react';\nimport { localize } from '@deriv-com/translations';\nimport { CONTRACT_TYPES, TRADE_TYPES } from '../contract';\nimport { TContractOptions } from '../contract/contract-types';\n\nexport const getLocalizedBasis = () =>\n    ({\n        accumulator: localize('Accumulators'),\n        multiplier: localize('Multiplier'),\n        payout_per_pip: localize('Payout per pip'),\n        payout_per_point: localize('Payout per point'),\n        payout: localize('Payout'),\n        stake: localize('Stake'),\n        turbos: localize('Turbos'),\n    }) as const;\n\ntype TContractConfig = {\n    button_name?: React.ReactNode;\n    feature_flag?: string;\n    name: React.ReactNode;\n    position: string;\n    main_title?: JSX.Element;\n};\n\ntype TGetSupportedContracts = keyof ReturnType<typeof getSupportedContracts>;\n\nexport type TTextValueStrings = {\n    text: string;\n    value: string;\n};\n\nexport type TTradeTypesCategories = {\n    [key: string]: {\n        name: string;\n        categories: Array<string | TTextValueStrings>;\n    };\n};\n\nexport const getCardLabels = () =>\n    ({\n        APPLY: localize('Apply'),\n        BARRIER: localize('Barrier:'),\n        BUY_PRICE: localize('Buy price:'),\n        CANCEL: localize('Cancel'),\n        CLOSE: localize('Close'),\n        CLOSED: localize('Closed'),\n        CONTRACT_COST: localize('Contract cost:'),\n        CONTRACT_VALUE: localize('Contract value:'),\n        CURRENT_STAKE: localize('Current stake:'),\n        DAY: localize('day'),\n        DAYS: localize('days'),\n        DEAL_CANCEL_FEE: localize('Deal cancel. fee:'),\n        DECREMENT_VALUE: localize('Decrement value'),\n        DONT_SHOW_THIS_AGAIN: localize(\"Don't show this again\"),\n        ENTRY_SPOT: localize('Entry spot:'),\n        INCREMENT_VALUE: localize('Increment value'),\n        INDICATIVE_PRICE: localize('Indicative price:'),\n        INITIAL_STAKE: localize('Initial stake:'),\n        LOST: localize('Lost'),\n        MULTIPLIER: localize('Multiplier:'),\n        NOT_AVAILABLE: localize('N/A'),\n        PAYOUT: localize('Sell price:'),\n        POTENTIAL_PAYOUT: localize('Potential payout:'),\n        POTENTIAL_PROFIT_LOSS: localize('Potential profit/loss:'),\n        PROFIT_LOSS: localize('Profit/Loss:'),\n        PURCHASE_PRICE: localize('Buy price:'),\n        RESALE_NOT_OFFERED: localize('Resale not offered'),\n        SELL: localize('Sell'),\n        STAKE: localize('Stake:'),\n        STOP_LOSS: localize('Stop loss:'),\n        STRIKE: localize('Strike:'),\n        TAKE_PROFIT: localize('Take profit:'),\n        TICK: localize('Tick '),\n        TICKS: localize('Ticks'),\n        TOTAL_PROFIT_LOSS: localize('Total profit/loss:'),\n        TAKE_PROFIT_LOSS_NOT_AVAILABLE: localize(\n            'Take profit and/or stop loss are not available while deal cancellation is active.'\n        ),\n        WON: localize('Won'),\n    }) as const;\n\nexport const getMarketNamesMap = () =>\n    ({\n        FRXAUDCAD: localize('AUD/CAD'),\n        FRXAUDCHF: localize('AUD/CHF'),\n        FRXAUDJPY: localize('AUD/JPY'),\n        FRXAUDNZD: localize('AUD/NZD'),\n        FRXAUDPLN: localize('AUD/PLN'),\n        FRXAUDUSD: localize('AUD/USD'),\n        FRXBROUSD: localize('Oil/USD'),\n        FRXEURAUD: localize('EUR/AUD'),\n        FRXEURCAD: localize('EUR/CAD'),\n        FRXEURCHF: localize('EUR/CHF'),\n        FRXEURGBP: localize('EUR/GBP'),\n        FRXEURJPY: localize('EUR/JPY'),\n        FRXEURNZD: localize('EUR/NZD'),\n        FRXEURUSD: localize('EUR/USD'),\n        FRXGBPAUD: localize('GBP/AUD'),\n        FRXGBPCAD: localize('GBP/CAD'),\n        FRXGBPCHF: localize('GBP/CHF'),\n        FRXGBPJPY: localize('GBP/JPY'),\n        FRXGBPNOK: localize('GBP/NOK'),\n        FRXGBPUSD: localize('GBP/USD'),\n        FRXNZDJPY: localize('NZD/JPY'),\n        FRXNZDUSD: localize('NZD/USD'),\n        FRXUSDCAD: localize('USD/CAD'),\n        FRXUSDCHF: localize('USD/CHF'),\n        FRXUSDJPY: localize('USD/JPY'),\n        FRXUSDNOK: localize('USD/NOK'),\n        FRXUSDPLN: localize('USD/PLN'),\n        FRXUSDSEK: localize('USD/SEK'),\n        FRXXAGUSD: localize('Silver/USD'),\n        FRXXAUUSD: localize('Gold/USD'),\n        FRXXPDUSD: localize('Palladium/USD'),\n        FRXXPTUSD: localize('Platinum/USD'),\n        WLDXAU: localize('Gold Basket'),\n        OTC_AEX: localize('Netherlands 25'),\n        OTC_AS51: localize('Australia 200'),\n        OTC_DJI: localize('Wall Street 30'),\n        OTC_FCHI: localize('France 40'),\n        OTC_FTSE: localize('UK 100'),\n        OTC_GDAXI: localize('Germany 40'),\n        OTC_HSI: localize('Hong Kong 50'),\n        OTC_IBEX35: localize('Spain 35'),\n        OTC_N225: localize('Japan 225'),\n        OTC_NDX: localize('US Tech 100'),\n        OTC_SPC: localize('US 500'),\n        OTC_SPX500: localize('US 500'),\n        OTC_SSMI: localize('Swiss 20'),\n        OTC_SX5E: localize('Euro 50'),\n        R_10: localize('Volatility 10 Index'),\n        R_25: localize('Volatility 25 Index'),\n        R_50: localize('Volatility 50 Index'),\n        R_75: localize('Volatility 75 Index'),\n        R_100: localize('Volatility 100 Index'),\n        BOOM300N: localize('Boom 300 Index'),\n        BOOM500: localize('Boom 500 Index'),\n        BOOM1000: localize('Boom 1000 Index'),\n        CRASH300N: localize('Crash 300 Index'),\n        CRASH500: localize('Crash 500 Index'),\n        CRASH1000: localize('Crash 1000 Index'),\n        RDBEAR: localize('Bear Market Index'),\n        RDBULL: localize('Bull Market Index'),\n        STPRNG: localize('Step Index'),\n        WLDAUD: localize('AUD Basket'),\n        WLDEUR: localize('EUR Basket'),\n        WLDGBP: localize('GBP Basket'),\n        WLDUSD: localize('USD Basket'),\n        '1HZ10V': localize('Volatility 10 (1s) Index'),\n        '1HZ15V': localize('Volatility 15 (1s) Index'),\n        '1HZ25V': localize('Volatility 25 (1s) Index'),\n        '1HZ30V': localize('Volatility 30 (1s) Index'),\n        '1HZ50V': localize('Volatility 50 (1s) Index'),\n        '1HZ75V': localize('Volatility 75 (1s) Index'),\n        '1HZ90V': localize('Volatility 90 (1s) Index'),\n        '1HZ100V': localize('Volatility 100 (1s) Index'),\n        '1HZ150V': localize('Volatility 150 (1s) Index'),\n        '1HZ200V': localize('Volatility 200 (1s) Index'),\n        '1HZ250V': localize('Volatility 250 (1s) Index'),\n        '1HZ300V': localize('Volatility 300 (1s) Index'),\n        JD10: localize('Jump 10 Index'),\n        JD25: localize('Jump 25 Index'),\n        JD50: localize('Jump 50 Index'),\n        JD75: localize('Jump 75 Index'),\n        JD100: localize('Jump 100 Index'),\n        JD150: localize('Jump 150 Index'),\n        JD200: localize('Jump 200 Index'),\n        CRYBCHUSD: localize('BCH/USD'),\n        CRYBNBUSD: localize('BNB/USD'),\n        CRYBTCLTC: localize('BTC/LTC'),\n        CRYIOTUSD: localize('IOT/USD'),\n        CRYNEOUSD: localize('NEO/USD'),\n        CRYOMGUSD: localize('OMG/USD'),\n        CRYTRXUSD: localize('TRX/USD'),\n        CRYBTCETH: localize('BTC/ETH'),\n        CRYZECUSD: localize('ZEC/USD'),\n        CRYXMRUSD: localize('ZMR/USD'),\n        CRYXMLUSD: localize('XLM/USD'),\n        CRYXRPUSD: localize('XRP/USD'),\n        CRYBTCUSD: localize('BTC/USD'),\n        CRYDSHUSD: localize('DSH/USD'),\n        CRYETHUSD: localize('ETH/USD'),\n        CRYEOSUSD: localize('EOS/USD'),\n        CRYLTCUSD: localize('LTC/USD'),\n    }) as const;\n\nexport const getUnsupportedContracts = () =>\n    ({\n        CALLSPREAD: {\n            name: localize('Spread Up'),\n            position: 'top',\n        },\n        PUTSPREAD: {\n            name: localize('Spread Down'),\n            position: 'bottom',\n        },\n    }) as const;\n\n/**\n * // Config to display details such as trade buttons, their positions, and names of trade types\n *\n * @param {Boolean} is_high_low\n * @returns { object }\n */\nexport const getSupportedContracts = (is_high_low?: boolean) =>\n    ({\n        [CONTRACT_TYPES.ACCUMULATOR]: {\n            button_name: localize('Buy'),\n            name: localize('Accumulators'),\n            position: 'top',\n        },\n        [CONTRACT_TYPES.CALL]: {\n            name: is_high_low ? localize('Higher') : localize('Rise'),\n            position: 'top',\n        },\n        [CONTRACT_TYPES.PUT]: {\n            name: is_high_low ? localize('Lower') : localize('Fall'),\n            position: 'bottom',\n        },\n        [CONTRACT_TYPES.CALLE]: {\n            name: localize('Rise'),\n            position: 'top',\n        },\n        [CONTRACT_TYPES.PUTE]: {\n            name: localize('Fall'),\n            position: 'bottom',\n        },\n        [CONTRACT_TYPES.MATCH_DIFF.MATCH]: {\n            name: localize('Matches'),\n            position: 'top',\n        },\n        [CONTRACT_TYPES.MATCH_DIFF.DIFF]: {\n            name: localize('Differs'),\n            position: 'bottom',\n        },\n        [CONTRACT_TYPES.EVEN_ODD.EVEN]: {\n            name: localize('Even'),\n            position: 'top',\n        },\n        [CONTRACT_TYPES.EVEN_ODD.ODD]: {\n            name: localize('Odd'),\n            position: 'bottom',\n        },\n        [CONTRACT_TYPES.OVER_UNDER.OVER]: {\n            name: localize('Over'),\n            position: 'top',\n        },\n        [CONTRACT_TYPES.OVER_UNDER.UNDER]: {\n            name: localize('Under'),\n            position: 'bottom',\n        },\n        [CONTRACT_TYPES.TOUCH.ONE_TOUCH]: {\n            name: localize('Touch'),\n            position: 'top',\n        },\n        [CONTRACT_TYPES.TOUCH.NO_TOUCH]: {\n            name: localize('No Touch'),\n            position: 'bottom',\n        },\n        [CONTRACT_TYPES.MULTIPLIER.UP]: {\n            name: localize('Up'),\n            position: 'top',\n            main_title: localize('Multipliers'),\n        },\n        [CONTRACT_TYPES.MULTIPLIER.DOWN]: {\n            name: localize('Down'),\n            position: 'bottom',\n            main_title: localize('Multipliers'),\n        },\n        [CONTRACT_TYPES.TURBOS.LONG]: {\n            name: localize('Up'),\n            position: 'top',\n            main_title: localize('Turbos'),\n        },\n        [CONTRACT_TYPES.TURBOS.SHORT]: {\n            name: localize('Down'),\n            position: 'bottom',\n            main_title: localize('Turbos'),\n        },\n        [CONTRACT_TYPES.VANILLA.CALL]: {\n            name: localize('Call'),\n            position: 'top',\n            main_title: localize('Vanillas'),\n        },\n        [CONTRACT_TYPES.VANILLA.PUT]: {\n            name: localize('Put'),\n            position: 'bottom',\n            main_title: localize('Vanillas'),\n        },\n        [CONTRACT_TYPES.RUN_HIGH_LOW.HIGH]: {\n            name: localize('Only Ups'),\n            position: 'top',\n        },\n        [CONTRACT_TYPES.RUN_HIGH_LOW.LOW]: {\n            name: localize('Only Downs'),\n            position: 'bottom',\n        },\n        [CONTRACT_TYPES.END.OUT]: {\n            name: localize('Ends Outside'),\n            position: 'top',\n        },\n        [CONTRACT_TYPES.END.IN]: {\n            name: localize('Ends Between'),\n            position: 'bottom',\n        },\n        [CONTRACT_TYPES.STAY.IN]: {\n            name: localize('Stays Between'),\n            position: 'top',\n        },\n        [CONTRACT_TYPES.STAY.OUT]: {\n            name: localize('Goes Outside'),\n            position: 'bottom',\n        },\n        [CONTRACT_TYPES.ASIAN.UP]: {\n            name: localize('Asian Up'),\n            position: 'top',\n        },\n        [CONTRACT_TYPES.ASIAN.DOWN]: {\n            name: localize('Asian Down'),\n            position: 'bottom',\n        },\n        [CONTRACT_TYPES.TICK_HIGH_LOW.HIGH]: {\n            name: localize('High Tick'),\n            position: 'top',\n        },\n        [CONTRACT_TYPES.TICK_HIGH_LOW.LOW]: {\n            name: localize('Low Tick'),\n            position: 'bottom',\n        },\n        [CONTRACT_TYPES.RESET.CALL]: {\n            name: localize('Reset Call'),\n            position: 'top',\n        },\n        [CONTRACT_TYPES.RESET.PUT]: {\n            name: localize('Reset Put'),\n            position: 'bottom',\n        },\n        [CONTRACT_TYPES.LB_CALL]: {\n            name: localize('Close-Low'),\n            position: 'top',\n        },\n        [CONTRACT_TYPES.LB_PUT]: {\n            name: localize('High-Close'),\n            position: 'top',\n        },\n        [CONTRACT_TYPES.LB_HIGH_LOW]: {\n            name: localize('High-Low'),\n            position: 'top',\n        },\n    }) as const;\n\nexport const getContractConfig = (is_high_low?: boolean) => ({\n    ...getSupportedContracts(is_high_low),\n    ...getUnsupportedContracts(),\n});\n\nexport const getContractTypeDisplay = (type: string, options: TContractOptions = {}) => {\n    const { isHighLow = false, showButtonName = false, showMainTitle = false } = options;\n\n    const contract_config = getContractConfig(isHighLow)[type as TGetSupportedContracts] as TContractConfig;\n    if (showMainTitle) return contract_config?.main_title ?? '';\n    return (showButtonName && contract_config?.button_name) || contract_config?.name || '';\n};\n\nexport const getContractTypeFeatureFlag = (type: string, is_high_low = false) => {\n    const contract_config = getContractConfig(is_high_low)[type as TGetSupportedContracts] as TContractConfig;\n    return contract_config?.feature_flag ?? '';\n};\n\nexport const getContractTypePosition = (type: TGetSupportedContracts, is_high_low = false) =>\n    getContractConfig(is_high_low)?.[type]?.position || 'top';\n\nexport const isCallPut = (trade_type: 'rise_fall' | 'rise_fall_equal' | 'high_low'): boolean =>\n    trade_type === TRADE_TYPES.RISE_FALL ||\n    trade_type === TRADE_TYPES.RISE_FALL_EQUAL ||\n    trade_type === TRADE_TYPES.HIGH_LOW;\n",
            "size_bytes": 13559
        },
        "src/external/bot-skeleton/scratch/blocks/Advanced/Loops/controls_repeat.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.controls_repeat = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            type: 'controls_repeat',\n            message0: localize('repeat {{ number }} times', { number: '%1' }),\n            args0: [\n                {\n                    type: 'field_number',\n                    name: 'TIMES',\n                    value: 10,\n                    min: 0,\n                    precision: 1,\n                },\n            ],\n            message1: localize('do %1'),\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'DO',\n                },\n            ],\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            inputsInline: true,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Repeats inside instructions specified number of times'),\n            category: window.Blockly.Categories.Loop,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Repeat (1)'),\n            description: localize(\n                'This block repeats the instructions contained within for a specific number of times.'\n            ),\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.controls_repeat =\n    window.Blockly.JavaScript.javascriptGenerator.forBlock.controls_repeat_ext;\n",
            "size_bytes": 1797
        },
        "src/pages/bot-builder/toolbox/search-box/search-box.tsx": {
            "content": "import { Field as FormField, FieldProps, Form, Formik } from 'formik';\nimport Input from '@/components/shared_ui/input';\nimport { localize } from '@deriv-com/translations';\nimport SearchIcon from './search-icon';\n\ntype TSearchBox = {\n    is_search_loading: boolean;\n    onSearch: () => void;\n    onSearchBlur: () => void;\n    onSearchClear: (param: (field: string, value: number | string, shouldValidate?: boolean) => void) => void;\n    onSearchKeyUp: (param: () => void) => void;\n};\n\ntype TFormValues = { [key: string]: string };\n\nconst SearchBox = ({ is_search_loading, onSearch, onSearchBlur, onSearchClear, onSearchKeyUp }: TSearchBox) => (\n    <div className='db-toolbox__search'>\n        <Formik initialValues={{ search: '' }} onSubmit={onSearch}>\n            {({ submitForm, values: { search }, setFieldValue }) => (\n                <Form>\n                    <FormField name='search'>\n                        {({ field }: FieldProps<string, TFormValues>) => (\n                            <Input\n                                {...field}\n                                className='db-toolbox__search-field'\n                                type='text'\n                                name='search'\n                                placeholder={localize('Search')}\n                                onKeyUp={() => onSearchKeyUp(submitForm)}\n                                onFocus={submitForm}\n                                onBlur={onSearchBlur}\n                                leading_icon={\n                                    <SearchIcon\n                                        search={search}\n                                        is_search_loading={is_search_loading}\n                                        onClick={() => onSearchClear(setFieldValue)}\n                                    />\n                                }\n                            />\n                        )}\n                    </FormField>\n                </Form>\n            )}\n        </Formik>\n    </div>\n);\n\nexport default SearchBox;\n",
            "size_bytes": 2027
        },
        "src/external/bot-skeleton/scratch/blocks/Math/math_round.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../utils';\n\n// https://github.com/google/blockly/blob/master/generators/javascript/math.js\nwindow.Blockly.Blocks.math_round = {\n    /**\n     * Check if a number is even, odd, prime, whole, positive, or negative\n     * or if it is divisible by certain number. Returns true or false.\n     * @this window.Blockly.Block\n     */\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2',\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'OP',\n                    options: [\n                        ['round', 'ROUND'],\n                        ['round up', 'ROUNDUP'],\n                        ['round down', 'ROUNDDOWN'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'NUM',\n                },\n            ],\n            output: 'Number',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Rounds a given number to an integer'),\n            category: window.Blockly.Categories.Mathematical,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    meta() {\n        return {\n            display_name: localize('Rounding operation'),\n            description: localize(\n                'This block rounds a given number according to the selection: round, round up, round down.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            NUM: null,\n        };\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.math_round = block => {\n    const operation = block.getFieldValue('OP');\n    const argument0 =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'NUM',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC\n        ) || '0';\n\n    let code;\n\n    if (operation === 'ROUND') {\n        code = `Math.round(${argument0})`;\n    } else if (operation === 'ROUNDUP') {\n        code = `Math.ceil(${argument0})`;\n    } else if (operation === 'ROUNDDOWN') {\n        code = `Math.floor(${argument0})`;\n    }\n\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_FUNCTION_CALL];\n};\n",
            "size_bytes": 2575
        },
        "src/utils/browser-performance-optimizer.ts": {
            "content": "/**\n * Browser-specific performance optimizations\n * Safari and Firefox have unique performance characteristics that require special handling\n */\n\nclass BrowserPerformanceOptimizer {\n    private static instance: BrowserPerformanceOptimizer;\n    private isSafari: boolean;\n    private isFirefox: boolean;\n    private needsOptimization: boolean;\n    private pendingOperations: Set<string> = new Set();\n    private operationQueue: Array<() => void> = [];\n    private isProcessingQueue = false;\n    private safariOperationBlocked = false;\n\n    private constructor() {\n        // Detect browsers that need performance optimizations\n        this.isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n        this.isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\n        this.needsOptimization = this.isSafari || this.isFirefox;\n    }\n\n    public static getInstance(): BrowserPerformanceOptimizer {\n        if (!BrowserPerformanceOptimizer.instance) {\n            BrowserPerformanceOptimizer.instance = new BrowserPerformanceOptimizer();\n        }\n        return BrowserPerformanceOptimizer.instance;\n    }\n\n    public isSafariBrowser(): boolean {\n        return this.isSafari;\n    }\n\n    public isFirefoxBrowser(): boolean {\n        return this.isFirefox;\n    }\n\n    public needsPerformanceOptimization(): boolean {\n        return this.needsOptimization;\n    }\n\n    /**\n     * Browser-specific operation queuing to prevent overwhelming Safari/Firefox\n     */\n    public queueOperation(operationId: string, operation: () => void): void {\n        if (!this.needsOptimization) {\n            // For Chrome and other optimized browsers, execute immediately\n            operation();\n            return;\n        }\n\n        // Safari-specific: Block all operations if currently processing\n        if (this.isSafari && this.safariOperationBlocked) {\n            return;\n        }\n\n        // Prevent duplicate operations\n        if (this.pendingOperations.has(operationId)) {\n            return;\n        }\n\n        this.pendingOperations.add(operationId);\n        this.operationQueue.push(() => {\n            try {\n                operation();\n            } finally {\n                this.pendingOperations.delete(operationId);\n            }\n        });\n\n        this.processQueue();\n    }\n\n    /**\n     * Process operations with browser-friendly timing\n     */\n    private processQueue(): void {\n        if (this.isProcessingQueue || this.operationQueue.length === 0) {\n            return;\n        }\n\n        this.isProcessingQueue = true;\n\n        // Safari-specific: Block new operations during processing\n        if (this.isSafari) {\n            this.safariOperationBlocked = true;\n        }\n\n        const processNext = () => {\n            if (this.operationQueue.length === 0) {\n                this.isProcessingQueue = false;\n                // Safari-specific: Unblock operations after processing complete\n                if (this.isSafari) {\n                    this.safariOperationBlocked = false;\n                }\n                return;\n            }\n\n            const operation = this.operationQueue.shift();\n            if (operation) {\n                operation();\n            }\n\n            // Browser-specific delays: Safari needs much longer delays to prevent freezing\n            let delay = 16; // Default for Chrome\n            if (this.isSafari) {\n                delay = 200; // Even higher delay for Safari to prevent freezing\n            } else if (this.isFirefox) {\n                delay = 20; // Keep Firefox delay moderate\n            }\n\n            setTimeout(processNext, delay);\n        };\n\n        // Start processing with initial delay for problematic browsers\n        let initialDelay = 0;\n        if (this.isSafari) {\n            initialDelay = 400; // Even higher initial delay for Safari to prevent freezing\n        } else if (this.isFirefox) {\n            initialDelay = 25; // Keep Firefox delay moderate\n        }\n\n        setTimeout(processNext, initialDelay);\n    }\n\n    /**\n     * Browser-specific DOM operation wrapper\n     */\n    public safeDOMOperation(operation: () => void): void {\n        if (!this.needsOptimization) {\n            operation();\n            return;\n        }\n\n        // For Safari and Firefox, wrap DOM operations in requestAnimationFrame with minimal delays\n        requestAnimationFrame(() => {\n            const delay = this.isSafari ? 5 : this.isFirefox ? 2 : 0; // Reduced delays\n            setTimeout(operation, delay);\n        });\n    }\n\n    /**\n     * Clear all pending operations (useful for cleanup)\n     */\n    public clearPendingOperations(): void {\n        this.operationQueue = [];\n        this.pendingOperations.clear();\n        this.isProcessingQueue = false;\n        this.safariOperationBlocked = false;\n    }\n\n    /**\n     * Get browser-appropriate debounce delay\n     */\n    public getDebounceDelay(): number {\n        if (this.isSafari) {\n            return 1200; // Much higher debounce delay for Safari to prevent freezing\n        } else if (this.isFirefox) {\n            return 250; // Keep Firefox delay moderate\n        }\n        return 200; // Keep Chrome delay responsive\n    }\n\n    /**\n     * Get browser-appropriate throttle delay\n     */\n    public getThrottleDelay(): number {\n        if (this.isSafari) {\n            return 200; // Much higher throttle for Safari to prevent freezing\n        } else if (this.isFirefox) {\n            return 25; // Keep Firefox throttle moderate\n        }\n        return 16; // Default for Chrome and others (~60fps)\n    }\n}\n\nexport const browserOptimizer = BrowserPerformanceOptimizer.getInstance();\n// Maintain backward compatibility\nexport const safariOptimizer = browserOptimizer;\n",
            "size_bytes": 5742
        },
        "analysis-tool/Benanalysistool-final-main/components/tabs/super-signals-tab.tsx": {
            "content": "\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Card } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Activity, Zap, ScrollText } from \"lucide-react\"\nimport type { AnalysisResult } from \"@/lib/analysis-engine\"\n\ninterface SuperSignal {\n  id: string\n  market: string\n  tradeType: string\n  entryPoint: string | number\n  exitCondition: string\n  tradeValidity: number\n  confidence: number\n  signal: \"TRADE NOW\" | \"WAIT\" | \"STRONG\"\n  marketPower: number\n  timestamp: number\n  patternStrength: number\n}\n\ninterface SuperSignalsTabProps {\n  analysis: AnalysisResult | null\n  currentDigit: number | null\n  recentDigits: number[]\n  theme?: \"light\" | \"dark\"\n}\n\nexport function SuperSignalsTab({ analysis, currentDigit, recentDigits, theme = \"dark\" }: SuperSignalsTabProps) {\n  const [superSignals, setSuperSignals] = useState<SuperSignal[]>([])\n  const [isScanning, setIsScanning] = useState(true)\n  const [showLogs, setShowLogs] = useState(false)\n  const [scanLogs, setScanLogs] = useState<string[]>([])\n\n  useEffect(() => {\n    if (!analysis) return\n\n    const scanInterval = setInterval(() => {\n      const timestamp = new Date().toLocaleTimeString()\n      const newSignals = generateSuperSignals(analysis, currentDigit, recentDigits)\n      setSuperSignals(newSignals)\n\n      const logMessage = `[${timestamp}] Scanned all strategies - Found ${newSignals.length} signals`\n      setScanLogs((prev) => [...prev.slice(-19), logMessage])\n    }, 2000)\n\n    return () => clearInterval(scanInterval)\n  }, [analysis, currentDigit, recentDigits])\n\n  const generateSuperSignals = (\n    analysis: AnalysisResult,\n    currentDigit: number | null,\n    recentDigits: number[],\n  ): SuperSignal[] => {\n    const signals: SuperSignal[] = []\n\n    if (analysis.highPercentage >= 65) {\n      signals.push({\n        id: `over-under-${Date.now()}`,\n        market: \"All Volatilities\",\n        tradeType: \"Over 4.5\",\n        entryPoint: analysis.powerIndex.strongest,\n        exitCondition: \"When percentage drops below 60%\",\n        tradeValidity: calculateTradeValidity(analysis.highPercentage, recentDigits),\n        confidence: analysis.highPercentage,\n        signal: analysis.highPercentage >= 70 ? \"STRONG\" : \"TRADE NOW\",\n        marketPower: analysis.powerIndex.gap,\n        timestamp: Date.now(),\n        patternStrength: calculatePatternStrength(recentDigits, (d) => d >= 5),\n      })\n    }\n\n    if (analysis.lowPercentage >= 65) {\n      signals.push({\n        id: `under-${Date.now()}`,\n        market: \"All Volatilities\",\n        tradeType: \"Under 4.5\",\n        entryPoint: analysis.powerIndex.strongest,\n        exitCondition: \"When percentage drops below 60%\",\n        tradeValidity: calculateTradeValidity(analysis.lowPercentage, recentDigits),\n        confidence: analysis.lowPercentage,\n        signal: analysis.lowPercentage >= 70 ? \"STRONG\" : \"TRADE NOW\",\n        marketPower: analysis.powerIndex.gap,\n        timestamp: Date.now(),\n        patternStrength: calculatePatternStrength(recentDigits, (d) => d < 5),\n      })\n    }\n\n    const digits012 = [0, 1, 2].map((d) => analysis.digitFrequencies[d])\n    const below10_012 = digits012.filter((d) => d.percentage < 10).length\n\n    if (below10_012 >= 2) {\n      const entryDigit = digits012.find((d) => d.percentage > 10)\n      if (entryDigit) {\n        signals.push({\n          id: `over2-${Date.now()}`,\n          market: \"All Volatilities\",\n          tradeType: \"Over 2\",\n          entryPoint: entryDigit.digit,\n          exitCondition: \"When 2+ digits in 0,1,2 exceed 10%\",\n          tradeValidity: 5,\n          confidence: 85 + entryDigit.percentage,\n          signal: \"STRONG\",\n          marketPower: 100 - digits012.reduce((sum, d) => sum + d.percentage, 0),\n          timestamp: Date.now(),\n          patternStrength: 90,\n        })\n      }\n    }\n\n    const digits789 = [7, 8, 9].map((d) => analysis.digitFrequencies[d])\n    const below10_789 = digits789.filter((d) => d.percentage < 10).length\n\n    if (below10_789 >= 2) {\n      const entryDigit = digits789.find((d) => d.percentage > 10)\n      if (entryDigit) {\n        signals.push({\n          id: `under7-${Date.now()}`,\n          market: \"All Volatilities\",\n          tradeType: \"Under 7\",\n          entryPoint: entryDigit.digit,\n          exitCondition: \"When 2+ digits in 7,8,9 exceed 10%\",\n          tradeValidity: 5,\n          confidence: 85 + entryDigit.percentage,\n          signal: \"STRONG\",\n          marketPower: 100 - digits789.reduce((sum, d) => sum + d.percentage, 0),\n          timestamp: Date.now(),\n          patternStrength: 90,\n        })\n      }\n    }\n\n    const under4Count = recentDigits.filter((d) => d <= 3).length\n    const over6Count = recentDigits.filter((d) => d >= 7).length\n\n    if (under4Count / recentDigits.length >= 0.65) {\n      signals.push({\n        id: `under6-${Date.now()}`,\n        market: \"All Volatilities\",\n        tradeType: \"Under 6\",\n        entryPoint: \"Wait for highest digit in 0-6 range\",\n        exitCondition: \"When over digits increase above 35%\",\n        tradeValidity: 7,\n        confidence: (under4Count / recentDigits.length) * 100,\n        signal: \"TRADE NOW\",\n        marketPower: 75,\n        timestamp: Date.now(),\n        patternStrength: 85,\n      })\n    }\n\n    if (over6Count / recentDigits.length >= 0.65) {\n      signals.push({\n        id: `over3-${Date.now()}`,\n        market: \"All Volatilities\",\n        tradeType: \"Over 3\",\n        entryPoint: \"Wait for highest digit in 4-9 range\",\n        exitCondition: \"When under digits increase above 35%\",\n        tradeValidity: 7,\n        confidence: (over6Count / recentDigits.length) * 100,\n        signal: \"TRADE NOW\",\n        marketPower: 75,\n        timestamp: Date.now(),\n        patternStrength: 85,\n      })\n    }\n\n    const digit0 = analysis.digitFrequencies[0]\n    const digit1 = analysis.digitFrequencies[1]\n\n    if (digit0.percentage < 10 && digit1.percentage < 10 && analysis.highPercentage >= 90) {\n      signals.push({\n        id: `over1-${Date.now()}`,\n        market: \"All Volatilities\",\n        tradeType: \"Over 1\",\n        entryPoint: \"Wait for 1+ under digits\",\n        exitCondition: \"When 0 or 1 exceeds 10%\",\n        tradeValidity: 10,\n        confidence: 92,\n        signal: \"STRONG\",\n        marketPower: 90,\n        timestamp: Date.now(),\n        patternStrength: 95,\n      })\n    }\n\n    const digit8 = analysis.digitFrequencies[8]\n    const digit9 = analysis.digitFrequencies[9]\n\n    if (digit8.percentage < 10 && digit9.percentage < 10 && analysis.lowPercentage >= 90) {\n      signals.push({\n        id: `under8-${Date.now()}`,\n        market: \"All Volatilities\",\n        tradeType: \"Under 8\",\n        entryPoint: \"Wait for 1+ over digits\",\n        exitCondition: \"When 8 or 9 exceeds 10%\",\n        tradeValidity: 10,\n        confidence: 92,\n        signal: \"STRONG\",\n        marketPower: 90,\n        timestamp: Date.now(),\n        patternStrength: 95,\n      })\n    }\n\n    if (analysis.evenPercentage >= 65) {\n      const consecutiveOdds = countConsecutive(recentDigits, (d) => d % 2 === 1)\n      if (consecutiveOdds >= 2) {\n        signals.push({\n          id: `even-${Date.now()}`,\n          market: \"All Volatilities\",\n          tradeType: \"Even\",\n          entryPoint: \"After first even digit appears\",\n          exitCondition: \"When even percentage drops below 60%\",\n          tradeValidity: 5,\n          confidence: analysis.evenPercentage,\n          signal: consecutiveOdds >= 3 ? \"STRONG\" : \"TRADE NOW\",\n          marketPower: analysis.evenPercentage - analysis.oddPercentage,\n          timestamp: Date.now(),\n          patternStrength: 80,\n        })\n      }\n    }\n\n    if (analysis.oddPercentage >= 70) {\n      const consecutiveEvens = countConsecutive(recentDigits, (d) => d % 2 === 0)\n      if (consecutiveEvens >= 2) {\n        signals.push({\n          id: `odd-${Date.now()}`,\n          market: \"All Volatilities\",\n          tradeType: \"Odd\",\n          entryPoint: \"After first odd digit appears\",\n          exitCondition: \"When odd percentage drops below 65%\",\n          tradeValidity: 5,\n          confidence: analysis.oddPercentage,\n          signal: consecutiveEvens >= 3 ? \"STRONG\" : \"TRADE NOW\",\n          marketPower: analysis.oddPercentage - analysis.evenPercentage,\n          timestamp: Date.now(),\n          patternStrength: 80,\n        })\n      }\n    }\n\n    const leastDigit = analysis.digitFrequencies.sort((a, b) => a.percentage - b.percentage)[0]\n    if (leastDigit.percentage < 9) {\n      signals.push({\n        id: `differs-${Date.now()}`,\n        market: \"All Volatilities\",\n        tradeType: \"Differs\",\n        entryPoint: `Digit ${leastDigit.digit}`,\n        exitCondition: `When digit ${leastDigit.digit} exceeds 9%`,\n        tradeValidity: 3,\n        confidence: 100 - leastDigit.percentage,\n        signal: leastDigit.percentage < 7 ? \"STRONG\" : \"TRADE NOW\",\n        marketPower: 100 - leastDigit.percentage,\n        timestamp: Date.now(),\n        patternStrength: 88,\n      })\n    }\n\n    if (recentDigits.length >= 5) {\n      const last5 = recentDigits.slice(-5)\n      const risingTrend = last5.every((d, i) => i === 0 || d >= last5[i - 1])\n      const fallingTrend = last5.every((d, i) => i === 0 || d <= last5[i - 1])\n\n      if (risingTrend) {\n        signals.push({\n          id: `rise-${Date.now()}`,\n          market: \"All Volatilities\",\n          tradeType: \"Rise\",\n          entryPoint: \"Immediate\",\n          exitCondition: \"When trend reverses\",\n          tradeValidity: 3,\n          confidence: 75,\n          signal: \"TRADE NOW\",\n          marketPower: 70,\n          timestamp: Date.now(),\n          patternStrength: 75,\n        })\n      }\n\n      if (fallingTrend) {\n        signals.push({\n          id: `fall-${Date.now()}`,\n          market: \"All Volatilities\",\n          tradeType: \"Fall\",\n          entryPoint: \"Immediate\",\n          exitCondition: \"When trend reverses\",\n          tradeValidity: 3,\n          confidence: 75,\n          signal: \"TRADE NOW\",\n          marketPower: 70,\n          timestamp: Date.now(),\n          patternStrength: 75,\n        })\n      }\n    }\n\n    return signals.filter((s) => s.confidence >= 65).sort((a, b) => b.confidence - a.confidence)\n  }\n\n  const calculateTradeValidity = (percentage: number, recentDigits: number[]): number => {\n    const volatility = calculateVolatility(recentDigits)\n    const baseValidity = Math.floor(percentage / 10)\n    return Math.max(3, Math.min(10, baseValidity - volatility))\n  }\n\n  const calculateVolatility = (digits: number[]): number => {\n    if (digits.length < 2) return 0\n    const changes = digits.slice(1).map((d, i) => Math.abs(d - digits[i]))\n    return Math.floor(changes.reduce((sum, c) => sum + c, 0) / changes.length)\n  }\n\n  const calculatePatternStrength = (digits: number[], condition: (d: number) => boolean): number => {\n    const matches = digits.filter(condition).length\n    return Math.floor((matches / digits.length) * 100)\n  }\n\n  const countConsecutive = (digits: number[], condition: (d: number) => boolean): number => {\n    let count = 0\n    for (let i = digits.length - 1; i >= 0; i--) {\n      if (condition(digits[i])) {\n        count++\n      } else {\n        break\n      }\n    }\n    return count\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div\n        className={`rounded-xl p-6 border ${\n          theme === \"dark\"\n            ? \"bg-gradient-to-br from-[#0f1629]/80 to-[#1a2235]/80 border-blue-500/20 shadow-[0_0_30px_rgba(59,130,246,0.2)]\"\n            : \"bg-white/80 backdrop-blur-xl border-blue-200 shadow-[0_8px_32px_rgba(31,38,135,0.15)]\"\n        }`}\n      >\n        <div className=\"flex items-center justify-between mb-6 flex-wrap gap-4\">\n          <h2\n            className={`text-2xl md:text-3xl font-bold ${theme === \"dark\" ? \"bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent\" : \"bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent\"}`}\n          >\n            Super Signals\n          </h2>\n          <div className=\"flex items-center gap-3\">\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => setShowLogs(!showLogs)}\n              className={\n                theme === \"dark\"\n                  ? \"border-blue-500/30 text-blue-400 hover:bg-blue-500/10\"\n                  : \"border-blue-300 text-blue-600 hover:bg-blue-50\"\n              }\n            >\n              <ScrollText className=\"h-4 w-4 mr-2\" />\n              {showLogs ? \"Hide Logs\" : \"Show Logs\"}\n            </Button>\n            <Badge className=\"bg-emerald-500 text-white text-sm px-4 py-2 animate-pulse flex items-center gap-2\">\n              <Activity className=\"h-4 w-4\" />\n              Live Monitoring\n            </Badge>\n          </div>\n        </div>\n\n        <p className={`text-sm mb-6 ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-700\"}`}>\n          Continuous real-time monitoring across all volatilities. Signals update automatically every 2 seconds based on\n          market conditions, pattern strength, and trade validity.\n        </p>\n\n        {showLogs && (\n          <div\n            className={`mb-6 rounded-lg p-4 border ${theme === \"dark\" ? \"bg-gray-900/50 border-gray-700\" : \"bg-gray-50 border-gray-200\"} max-h-48 overflow-y-auto`}\n          >\n            <h3 className={`text-sm font-bold mb-2 ${theme === \"dark\" ? \"text-gray-300\" : \"text-gray-900\"}`}>\n              Scan Logs\n            </h3>\n            <div className=\"space-y-1\">\n              {scanLogs.length === 0 ? (\n                <p className={`text-xs ${theme === \"dark\" ? \"text-gray-500\" : \"text-gray-600\"}`}>No logs yet...</p>\n              ) : (\n                scanLogs.map((log, index) => (\n                  <p\n                    key={index}\n                    className={`text-xs font-mono ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-700\"}`}\n                  >\n                    {log}\n                  </p>\n                ))\n              )}\n            </div>\n          </div>\n        )}\n\n        {superSignals.length === 0 ? (\n          <div className=\"text-center py-12\">\n            <Zap className={`h-16 w-16 mx-auto mb-4 ${theme === \"dark\" ? \"text-gray-600\" : \"text-gray-400\"}`} />\n            <p className={`text-lg ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-700\"}`}>\n              Scanning for optimal trading opportunities...\n            </p>\n            <p className={`text-sm mt-2 ${theme === \"dark\" ? \"text-gray-500\" : \"text-gray-600\"}`}>\n              Signals will appear when conditions are met\n            </p>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\n            {superSignals.map((signal) => (\n              <Card\n                key={signal.id}\n                className={`p-4 border-2 ${\n                  signal.signal === \"STRONG\"\n                    ? theme === \"dark\"\n                      ? \"border-emerald-500/50 bg-emerald-500/10 shadow-[0_0_20px_rgba(16,185,129,0.3)]\"\n                      : \"border-emerald-400 bg-gradient-to-br from-emerald-50 to-green-50 shadow-[0_8px_24px_rgba(16,185,129,0.2)]\"\n                    : signal.signal === \"WAIT\"\n                      ? theme === \"dark\"\n                        ? \"border-blue-500/50 bg-blue-500/10 shadow-[0_0_20px_rgba(59,130,246,0.3)] animate-pulse-slow\"\n                        : \"border-blue-300 bg-gradient-to-br from-blue-50 to-cyan-50 shadow-[0_8px_24px_rgba(59,130,246,0.2)] animate-pulse-slow\"\n                      : theme === \"dark\"\n                        ? \"border-gray-500/50 bg-gray-500/10\"\n                        : \"border-gray-300 bg-gray-50\"\n                }`}\n              >\n                <div className=\"flex items-start justify-between mb-3\">\n                  <div>\n                    <h3 className={`text-lg font-bold ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}>\n                      {signal.tradeType}\n                    </h3>\n                    <p className={`text-xs ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>\n                      {signal.market} - Volatility 100 Index\n                    </p>\n                  </div>\n                  <Badge\n                    className={`${\n                      signal.signal === \"STRONG\"\n                        ? theme === \"dark\"\n                          ? \"bg-emerald-500 text-white shadow-[0_0_15px_rgba(16,185,129,0.6)] animate-pulse\"\n                          : \"bg-gradient-to-r from-emerald-500 to-green-500 text-white shadow-[0_4px_16px_rgba(16,185,129,0.4)]\"\n                        : signal.signal === \"WAIT\"\n                          ? theme === \"dark\"\n                            ? \"bg-blue-500 text-white shadow-[0_0_15px_rgba(59,130,246,0.6)] animate-pulse-slow\"\n                            : \"bg-gradient-to-r from-blue-400 to-cyan-400 text-white shadow-[0_4px_16px_rgba(59,130,246,0.4)]\"\n                          : theme === \"dark\"\n                            ? \"bg-gray-600 text-white\"\n                            : \"bg-gray-400 text-white\"\n                    }`}\n                  >\n                    {signal.signal}\n                  </Badge>\n                </div>\n\n                <div className=\"space-y-2 mb-3\">\n                  <div className=\"flex items-center justify-between text-sm\">\n                    <span className={theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}>Entry Point:</span>\n                    <span className={`font-bold ${theme === \"dark\" ? \"text-orange-400\" : \"text-orange-600\"}`}>\n                      {signal.entryPoint}\n                    </span>\n                  </div>\n                  <div className=\"flex items-center justify-between text-sm\">\n                    <span className={theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}>Confidence:</span>\n                    <span className={`font-bold ${theme === \"dark\" ? \"text-emerald-400\" : \"text-emerald-600\"}`}>\n                      {signal.confidence.toFixed(1)}%\n                    </span>\n                  </div>\n                  <div className=\"flex items-center justify-between text-sm\">\n                    <span className={theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}>Trade Validity:</span>\n                    <span className={`font-bold ${theme === \"dark\" ? \"text-cyan-400\" : \"text-cyan-600\"}`}>\n                      {signal.tradeValidity} ticks\n                    </span>\n                  </div>\n                  <div className=\"flex items-center justify-between text-sm\">\n                    <span className={theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}>Market Power:</span>\n                    <span className={`font-bold ${theme === \"dark\" ? \"text-purple-400\" : \"text-purple-600\"}`}>\n                      {signal.marketPower.toFixed(1)}%\n                    </span>\n                  </div>\n                  <div className=\"flex items-center justify-between text-sm\">\n                    <span className={theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}>Pattern Strength:</span>\n                    <span className={`font-bold ${theme === \"dark\" ? \"text-blue-400\" : \"text-blue-600\"}`}>\n                      {signal.patternStrength}%\n                    </span>\n                  </div>\n                </div>\n\n                <div\n                  className={`text-xs p-2 rounded ${theme === \"dark\" ? \"bg-blue-500/10 text-gray-300\" : \"bg-blue-50 text-gray-700\"}`}\n                >\n                  <strong>Exit:</strong> {signal.exitCondition}\n                </div>\n              </Card>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n",
            "size_bytes": 19662
        },
        "analysis-tool/Benanalysistool-final-main/components/tabs/rise-fall-tab.tsx": {
            "content": "\"use client\"\n\nimport { Button } from \"@/components/ui/button\"\nimport { Last40Digits } from \"@/components/last-40-digits\"\nimport type { Signal, AnalysisResult } from \"@/lib/analysis-engine\"\n\ninterface RiseFallTabProps {\n  analysis: AnalysisResult | null\n  signals: Signal[]\n  currentPrice: number | null\n  recentDigits: number[]\n  theme?: \"light\" | \"dark\"\n}\n\nexport function RiseFallTab({ analysis, signals, currentPrice, recentDigits, theme = \"dark\" }: RiseFallTabProps) {\n  const riseFallSignal = signals?.find((s) => s.type === \"rise_fall\")\n\n  if (!analysis) {\n    return (\n      <div className=\"text-center py-16\">\n        <p className={theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}>Loading analysis...</p>\n      </div>\n    )\n  }\n\n  // Calculate rise/fall stats\n  const riseCount = recentDigits.filter((d, i) => i > 0 && d > recentDigits[i - 1]).length\n  const fallCount = recentDigits.filter((d, i) => i > 0 && d < recentDigits[i - 1]).length\n  const total = riseCount + fallCount\n  const risePercentage = total > 0 ? (riseCount / total) * 100 : 0\n  const fallPercentage = total > 0 ? (fallCount / total) * 100 : 0\n\n  const marketDirection = risePercentage > fallPercentage ? \"RISE\" : \"FALL\"\n  const marketPower = Math.max(risePercentage, fallPercentage)\n\n  return (\n    <div className=\"space-y-6\">\n      <div\n        className={`rounded-xl p-4 sm:p-6 md:p-8 border ${\n          theme === \"dark\"\n            ? \"bg-gradient-to-br from-[#0f1629]/80 to-[#1a2235]/80 border-blue-500/20 shadow-[0_0_30px_rgba(59,130,246,0.2)]\"\n            : \"bg-white border-gray-200 shadow-lg\"\n        }`}\n      >\n        <h2\n          className={`text-2xl sm:text-3xl font-bold mb-6 text-center ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}\n        >\n          Rise / Fall Analysis\n        </h2>\n\n        <div className=\"mb-8 text-center\">\n          <div className=\"text-sm text-gray-400 mb-2\">Market Direction</div>\n          <div\n            className={`text-4xl sm:text-5xl font-bold mb-2 ${\n              marketDirection === \"RISE\" ? \"text-green-400\" : \"text-red-400\"\n            }`}\n          >\n            {marketDirection}\n          </div>\n          <div className=\"text-sm text-gray-400 mb-1\">Market Power</div>\n          <div className=\"text-3xl sm:text-4xl font-bold text-blue-400\">{marketPower.toFixed(1)}%</div>\n        </div>\n\n        <div className=\"space-y-6 mb-8\">\n          {/* Rise Power */}\n          <div className=\"space-y-2\">\n            <div className=\"flex justify-between items-center\">\n              <span className=\"text-white font-semibold text-sm sm:text-base\">Rise Power</span>\n              <span className=\"text-green-400 font-bold text-lg sm:text-xl\">{risePercentage.toFixed(1)}%</span>\n            </div>\n            <div className=\"h-4 sm:h-6 bg-gray-800 rounded-full overflow-hidden\">\n              <div\n                className=\"h-full bg-gradient-to-r from-green-500 to-emerald-400 rounded-full transition-all duration-500 flex items-center justify-end pr-2\"\n                style={{ width: `${risePercentage}%` }}\n              >\n                <span className=\"text-white text-xs font-bold\">{riseCount}</span>\n              </div>\n            </div>\n          </div>\n\n          {/* Fall Power */}\n          <div className=\"space-y-2\">\n            <div className=\"flex justify-between items-center\">\n              <span className=\"text-white font-semibold text-sm sm:text-base\">Fall Power</span>\n              <span className=\"text-red-400 font-bold text-lg sm:text-xl\">{fallPercentage.toFixed(1)}%</span>\n            </div>\n            <div className=\"h-4 sm:h-6 bg-gray-800 rounded-full overflow-hidden\">\n              <div\n                className=\"h-full bg-gradient-to-r from-red-500 to-pink-500 rounded-full transition-all duration-500 flex items-center justify-end pr-2\"\n                style={{ width: `${fallPercentage}%` }}\n              >\n                <span className=\"text-white text-xs font-bold\">{fallCount}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n          <Button\n            size=\"lg\"\n            className=\"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white py-4 sm:py-6 text-base sm:text-lg font-bold shadow-[0_0_25px_rgba(34,197,94,0.5)]\"\n          >\n            R - RISE\n          </Button>\n          <Button\n            size=\"lg\"\n            className=\"bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 text-white py-4 sm:py-6 text-base sm:text-lg font-bold shadow-[0_0_25px_rgba(239,68,68,0.5)]\"\n          >\n            F - FALL\n          </Button>\n        </div>\n      </div>\n\n      {recentDigits.length > 0 && (\n        <div\n          className={`rounded-xl p-4 sm:p-6 border ${\n            theme === \"dark\"\n              ? \"bg-gradient-to-br from-[#0f1629]/80 to-[#1a2235]/80 border-blue-500/20 shadow-[0_0_30px_rgba(59,130,246,0.2)]\"\n              : \"bg-white border-gray-200 shadow-lg\"\n          }`}\n        >\n          <h3 className={`text-base sm:text-lg font-bold mb-4 ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}>\n            Last 40 Digits\n          </h3>\n          <Last40Digits digits={recentDigits} theme={theme} mode=\"rise-fall\" />\n        </div>\n      )}\n    </div>\n  )\n}\n",
            "size_bytes": 5348
        },
        "src/external/bot-skeleton/scratch/blocks/Advanced/List/lists_statement.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu, runGroupedEvents, runIrreversibleEvents } from '../../../utils';\nimport { minusIconDark } from '../../images';\n\nwindow.Blockly.Blocks.lists_statement = {\n    required_parent_type: 'lists_create_with',\n    init() {\n        this.required_parent_id = '';\n        const field_image = new window.Blockly.FieldImage(minusIconDark, 25, 25, '', () => this.onIconClick());\n        this.jsonInit(this.definition());\n        this.appendDummyInput('REMOVE_ICON').appendField(field_image);\n    },\n    definition() {\n        return {\n            message0: '%1',\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                },\n            ],\n            inputsInline: true,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            category: window.Blockly.Categories.List,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('List Statement'),\n            description: '',\n        };\n    },\n    onIconClick() {\n        if (this.workspace.options.readOnly || window.Blockly.derivWorkspace.isFlyoutVisible) {\n            return;\n        }\n\n        runGroupedEvents(false, () => {\n            this.unplug(true);\n            this.dispose();\n        });\n    },\n    onchange(event) {\n        if (!this.workspace || window.Blockly.derivWorkspace.isFlyoutVisible || this.workspace.isDragging()) {\n            return;\n        }\n\n        if (event.type === window.Blockly.Events.BLOCK_DRAG && !event.isStart) {\n            const surround_parent = this.getSurroundParent();\n\n            if (!surround_parent) {\n                runIrreversibleEvents(() => {\n                    this.dispose();\n                });\n            } else if (!this.required_parent_id && surround_parent.type === this.required_parent_type) {\n                // Create connection between parent and orphaned child.\n                this.required_parent_id = surround_parent.id;\n            } else if (surround_parent.id !== this.required_parent_id) {\n                // Someone pretending to be this child's parent. Find original parent and reconnect.\n                // Happens when someone tries to connect a statement block and Blockly automagically\n                // reconnects the children to this foreign statement block.\n                const all_blocks = this.workspace.getAllBlocks();\n                const original_parent = all_blocks.find(block => block.id === this.required_parent_id);\n\n                if (original_parent) {\n                    const last_connection = original_parent.getLastConnectionInStatement('STACK');\n\n                    runIrreversibleEvents(() => {\n                        last_connection.connect(this.previousConnection);\n                    });\n                } else {\n                    // Dispose child if it became a child of an illegal parent and original parent\n                    // is nowhere to be found.\n                    runIrreversibleEvents(() => {\n                        this.dispose(/* healStack */ true);\n                    });\n                }\n            }\n        }\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.lists_statement = block => {\n    const code =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'VALUE',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC\n        ) || 'null';\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC];\n};\n",
            "size_bytes": 3853
        },
        "src/components/run-panel/run-panel.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { observer } from 'mobx-react-lite';\nimport Journal from '@/components/journal';\nimport Button from '@/components/shared_ui/button';\nimport Drawer from '@/components/shared_ui/drawer';\nimport Modal from '@/components/shared_ui/modal';\nimport Money from '@/components/shared_ui/money';\nimport Tabs from '@/components/shared_ui/tabs';\nimport Text from '@/components/shared_ui/text';\nimport Summary from '@/components/summary';\nimport TradeAnimation from '@/components/trade-animation';\nimport Transactions from '@/components/transactions';\nimport { DBOT_TABS } from '@/constants/bot-contents';\nimport { popover_zindex } from '@/constants/z-indexes';\nimport { useStore } from '@/hooks/useStore';\nimport { Localize, localize } from '@deriv-com/translations';\nimport { useDevice } from '@deriv-com/ui';\nimport ThemedScrollbars from '../shared_ui/themed-scrollbars';\n\ntype TStatisticsTile = {\n    content: React.ElementType | string;\n    contentClassName: string;\n    title: string;\n};\n\ntype TStatisticsSummary = {\n    currency: string;\n    is_mobile: boolean;\n    lost_contracts: number;\n    number_of_runs: number;\n    total_stake: number;\n    total_payout: number;\n    toggleStatisticsInfoModal: () => void;\n    total_profit: number;\n    won_contracts: number;\n};\ntype TDrawerHeader = {\n    is_clear_stat_disabled: boolean;\n    is_mobile: boolean;\n    is_drawer_open: boolean;\n    onClearStatClick: () => void;\n};\n\ntype TDrawerContent = {\n    active_index: number;\n    is_drawer_open: boolean;\n    active_tour: string;\n    setActiveTabIndex: () => void;\n};\n\ntype TDrawerFooter = {\n    is_clear_stat_disabled: boolean;\n    onClearStatClick: () => void;\n};\n\ntype TStatisticsInfoModal = {\n    is_mobile: boolean;\n    is_statistics_info_modal_open: boolean;\n    toggleStatisticsInfoModal: () => void;\n};\n\nconst StatisticsTile = ({ content, contentClassName, title }: TStatisticsTile) => (\n    <div className='run-panel__tile'>\n        <div className='run-panel__tile-title'>{title}</div>\n        <div className={classNames('run-panel__tile-content', contentClassName)}>{content}</div>\n    </div>\n);\n\nexport const StatisticsSummary = ({\n    currency,\n    is_mobile,\n    lost_contracts,\n    number_of_runs,\n    total_stake,\n    total_payout,\n    toggleStatisticsInfoModal,\n    total_profit,\n    won_contracts,\n}: TStatisticsSummary) => (\n    <div\n        className={classNames('run-panel__stat', {\n            'run-panel__stat--mobile': is_mobile,\n        })}\n    >\n        <div className='run-panel__stat--info' onClick={toggleStatisticsInfoModal}>\n            <div className='run-panel__stat--info-item'>\n                <Localize i18n_default_text=\"What's this?\" />\n            </div>\n        </div>\n        <div className='run-panel__stat--tiles'>\n            <StatisticsTile\n                title={localize('Total stake')}\n                alignment='top'\n                content={<Money amount={total_stake} currency={currency} show_currency />}\n            />\n            <StatisticsTile\n                title={localize('Total payout')}\n                alignment='top'\n                content={<Money amount={total_payout} currency={currency} show_currency />}\n            />\n            <StatisticsTile title={localize('No. of runs')} alignment='top' content={number_of_runs} />\n            <StatisticsTile title={localize('Contracts lost')} alignment='bottom' content={lost_contracts} />\n            <StatisticsTile title={localize('Contracts won')} alignment='bottom' content={won_contracts} />\n            <StatisticsTile\n                title={localize('Total profit/loss')}\n                content={<Money amount={total_profit} currency={currency} has_sign show_currency />}\n                alignment='bottom'\n                contentClassName={classNames('run-panel__stat-amount', {\n                    'run-panel__stat-amount--positive': total_profit > 0,\n                    'run-panel__stat-amount--negative': total_profit < 0,\n                })}\n            />\n        </div>\n    </div>\n);\n\nconst DrawerHeader = ({ is_clear_stat_disabled, is_mobile, is_drawer_open, onClearStatClick }: TDrawerHeader) =>\n    is_mobile &&\n    is_drawer_open && (\n        <Button\n            id='db-run-panel__clear-button'\n            className='run-panel__clear-button'\n            disabled={is_clear_stat_disabled}\n            text={localize('Reset')}\n            onClick={onClearStatClick}\n            secondary\n        />\n    );\n\nconst DrawerContent = ({ active_index, is_drawer_open, active_tour, setActiveTabIndex, ...props }: TDrawerContent) => {\n    const { isDesktop } = useDevice();\n    // Use the useBlockScroll hook to prevent body scrolling when drawer is open on mobile\n\n    React.useEffect(() => {\n        if (!isDesktop && is_drawer_open) {\n            document.body.style.overflow = 'hidden';\n        } else {\n            document.body.style.overflow = '';\n        }\n\n        return () => {\n            document.body.style.overflow = '';\n        };\n    }, [is_drawer_open, isDesktop]);\n\n    return (\n        <>\n            <Tabs active_index={active_index} onTabItemClick={setActiveTabIndex} top>\n                <div id='db-run-panel-tab__summary' label={<Localize i18n_default_text='Summary' />}>\n                    <Summary is_drawer_open={is_drawer_open} />\n                </div>\n                <div id='db-run-panel-tab__transactions' label={<Localize i18n_default_text='Transactions' />}>\n                    <Transactions is_drawer_open={is_drawer_open} />\n                </div>\n                <div id='db-run-panel-tab__journal' label={<Localize i18n_default_text='Journal' />}>\n                    <Journal />\n                </div>\n            </Tabs>\n            {((is_drawer_open && active_index !== 2) || active_tour) && <StatisticsSummary {...props} />}\n        </>\n    );\n};\n\nconst DrawerFooter = ({ is_clear_stat_disabled, onClearStatClick }: TDrawerFooter) => (\n    <div className='run-panel__footer'>\n        <Button\n            id='db-run-panel__clear-button'\n            className='run-panel__footer-button'\n            disabled={is_clear_stat_disabled}\n            onClick={onClearStatClick}\n            has_effect\n            secondary\n        >\n            <span>\n                <Localize i18n_default_text='Reset' />\n            </span>\n        </Button>\n    </div>\n);\n\nconst MobileDrawerFooter = () => {\n    return (\n        <div className='controls__section'>\n            <div className='controls__buttons'>\n                <TradeAnimation className='controls__animation' should_show_overlay />\n            </div>\n        </div>\n    );\n};\n\nconst StatisticsInfoModal = ({\n    is_mobile,\n    is_statistics_info_modal_open,\n    toggleStatisticsInfoModal,\n}: TStatisticsInfoModal) => {\n    return (\n        <Modal\n            className={classNames('statistics__modal', { 'statistics__modal--mobile': is_mobile })}\n            title={localize(\"What's this?\")}\n            is_open={is_statistics_info_modal_open}\n            toggleModal={toggleStatisticsInfoModal}\n            width={'440px'}\n        >\n            <Modal.Body>\n                <div className={classNames('statistics__modal-body', { 'statistics__modal-body--mobile': is_mobile })}>\n                    <ThemedScrollbars className='statistics__modal-scrollbar'>\n                        <Text as='p' weight='bold' className='statistics__modal-body--content no-margin'>\n                            <Localize i18n_default_text='Total stake' />\n                        </Text>\n                        <Text as='p'>\n                            <Localize i18n_default_text='Total stake since you last cleared your stats.' />\n                        </Text>\n                        <Text as='p' weight='bold' className='statistics__modal-body--content'>\n                            <Localize i18n_default_text='Total payout' />\n                        </Text>\n                        <Text as='p'>{localize('Total payout since you last cleared your stats.')}</Text>\n                        <Text as='p' weight='bold' className='statistics__modal-body--content'>\n                            <Localize i18n_default_text='No. of runs' />\n                        </Text>\n                        <Text as='p'>\n                            <Localize i18n_default_text='The number of times your bot has run since you last cleared your stats. Each run includes the execution of all the root blocks.' />\n                        </Text>\n                        <Text as='p' weight='bold' className='statistics__modal-body--content'>\n                            <Localize i18n_default_text='Contracts lost' />\n                        </Text>\n                        <Text as='p'>\n                            <Localize i18n_default_text='The number of contracts you have lost since you last cleared your stats.' />\n                        </Text>\n                        <Text as='p' weight='bold' className='statistics__modal-body--content'>\n                            <Localize i18n_default_text='Contracts won' />\n                        </Text>\n                        <Text as='p'>\n                            <Localize i18n_default_text='The number of contracts you have won since you last cleared your stats.' />\n                        </Text>\n                        <Text as='p' weight='bold' className='statistics__modal-body--content'>\n                            <Localize i18n_default_text='Total profit/loss' />\n                        </Text>\n                        <Text as='p'>\n                            <Localize i18n_default_text='Your total profit/loss since you last cleared your stats. It is the difference between your total payout and your total stake.' />\n                        </Text>\n                    </ThemedScrollbars>\n                </div>\n            </Modal.Body>\n        </Modal>\n    );\n};\n\nconst RunPanel = observer(() => {\n    const { run_panel, dashboard, transactions } = useStore();\n    const { client } = useStore();\n    const { isDesktop } = useDevice();\n    const { currency } = client;\n    const {\n        active_index,\n        is_drawer_open,\n        is_statistics_info_modal_open,\n        is_clear_stat_disabled,\n        onClearStatClick,\n        onMount,\n        onRunButtonClick, // eslint-disable-line @typescript-eslint/no-unused-vars\n        onUnmount,\n        setActiveTabIndex,\n        toggleDrawer,\n        toggleStatisticsInfoModal,\n    } = run_panel;\n    const { statistics } = transactions;\n    const { active_tour, active_tab } = dashboard;\n    const { total_payout, total_profit, total_stake, won_contracts, lost_contracts, number_of_runs } = statistics;\n    const { BOT_BUILDER, CHART } = DBOT_TABS;\n\n    React.useEffect(() => {\n        onMount();\n        return () => onUnmount();\n    }, [onMount, onUnmount]);\n\n    React.useEffect(() => {\n        if (!isDesktop) {\n            toggleDrawer(false);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const content = (\n        <DrawerContent\n            active_index={active_index}\n            currency={currency}\n            is_drawer_open={is_drawer_open}\n            is_mobile={!isDesktop}\n            lost_contracts={lost_contracts}\n            number_of_runs={number_of_runs}\n            setActiveTabIndex={setActiveTabIndex}\n            toggleStatisticsInfoModal={toggleStatisticsInfoModal}\n            total_payout={total_payout}\n            total_profit={total_profit}\n            total_stake={total_stake}\n            won_contracts={won_contracts}\n            active_tour={active_tour}\n        />\n    );\n\n    const footer = <DrawerFooter is_clear_stat_disabled={is_clear_stat_disabled} onClearStatClick={onClearStatClick} />;\n\n    const header = (\n        <DrawerHeader\n            is_clear_stat_disabled={is_clear_stat_disabled}\n            is_mobile={!isDesktop}\n            is_drawer_open={is_drawer_open}\n            onClearStatClick={onClearStatClick}\n        />\n    );\n\n    const show_run_panel = [BOT_BUILDER, CHART].includes(active_tab) || active_tour;\n    if ((!show_run_panel && isDesktop) || active_tour === 'bot_builder') return null;\n\n    return (\n        <>\n            <div className={!isDesktop && is_drawer_open ? 'run-panel__container--mobile' : 'run-panel'}>\n                <Drawer\n                    anchor='right'\n                    className={classNames('run-panel', {\n                        'run-panel__container': isDesktop,\n                        'run-panel__container--tour-active': isDesktop && active_tour,\n                    })}\n                    contentClassName='run-panel__content'\n                    header={header}\n                    footer={isDesktop && footer}\n                    is_open={is_drawer_open}\n                    toggleDrawer={toggleDrawer}\n                    width={366}\n                    zIndex={popover_zindex.RUN_PANEL}\n                >\n                    {content}\n                </Drawer>\n                {!isDesktop && <MobileDrawerFooter />}\n            </div>\n\n            <StatisticsInfoModal\n                is_mobile={!isDesktop}\n                is_statistics_info_modal_open={is_statistics_info_modal_open}\n                toggleStatisticsInfoModal={toggleStatisticsInfoModal}\n            />\n        </>\n    );\n});\n\nexport default RunPanel;\n",
            "size_bytes": 13336
        },
        "src/components/shared_ui/input-wth-checkbox/input-with-checkbox.tsx": {
            "content": "import React from 'react';\nimport { getDecimalPlaces, isDesktop, isMobile } from '@/components/shared';\nimport Checkbox from '../checkbox';\nimport InputField from '../input-field';\nimport Popover from '../popover';\nimport { TToastConfig } from '../types';\n\ntype TPosition = 'left' | 'right' | 'top' | 'bottom';\ntype TInputWithCheckbox = {\n    addToast: (toast_config: TToastConfig) => void;\n    removeToast: (e: string) => void;\n    checkbox_tooltip_label?: boolean;\n    className?: string;\n    classNameBubble?: string;\n    classNameInlinePrefix?: string;\n    classNameInput?: string;\n    classNamePrefix?: string;\n    currency: string;\n    current_focus?: string | null;\n    defaultChecked: boolean;\n    error_messages?: string[];\n    is_negative_disabled: boolean;\n    is_single_currency: boolean;\n    is_input_hidden?: boolean;\n    label: string;\n    max_value?: number;\n    name: string;\n    onChange: (\n        e: React.ChangeEvent<HTMLInputElement> | { target: { name: string; value: number | string | boolean } }\n    ) => void;\n    setCurrentFocus: (name: string | null) => void;\n    tooltip_label?: React.ReactNode;\n    tooltip_alignment?: TPosition;\n    error_message_alignment: string;\n    value: number | string;\n    is_disabled?: boolean;\n};\nconst InputWithCheckbox = ({\n    addToast,\n    checkbox_tooltip_label,\n    classNameBubble,\n    classNameInlinePrefix,\n    classNameInput,\n    className,\n    currency,\n    current_focus,\n    defaultChecked,\n    error_message_alignment,\n    error_messages,\n    is_disabled,\n    is_single_currency,\n    is_negative_disabled,\n    is_input_hidden,\n    label,\n    max_value,\n    name,\n    onChange,\n    removeToast,\n    setCurrentFocus,\n    tooltip_alignment,\n    tooltip_label,\n    value,\n}: TInputWithCheckbox) => {\n    const checkboxRef = React.useRef<HTMLInputElement>(null);\n    const input_wrapper_ref = React.useRef<HTMLDivElement>(null);\n    const [is_checked, setChecked] = React.useState(defaultChecked);\n    const checkboxName = `has_${name}`;\n    React.useEffect(() => {\n        setChecked(defaultChecked);\n    }, [defaultChecked]);\n    // eslint-disable-next-line consistent-return\n    React.useEffect(() => {\n        if (isMobile()) {\n            const showErrorToast = () => {\n                if (typeof addToast === 'function') {\n                    addToast({\n                        key: `${name}__error`,\n                        content: String(error_messages),\n                        type: 'error',\n                    });\n                }\n            };\n            const removeErrorToast = () => {\n                if (typeof removeToast === 'function') {\n                    removeToast(`${name}__error`);\n                }\n            };\n            if (error_messages?.length !== undefined && error_messages?.length > 0) {\n                showErrorToast();\n                return () => {\n                    removeErrorToast();\n                };\n            }\n        }\n    }, [error_messages, addToast, removeToast, name]);\n\n    const focusInput = () => {\n        setTimeout(() => {\n            const el_input: HTMLElement | null = (\n                input_wrapper_ref.current?.nextSibling as HTMLElement\n            )?.querySelector?.('input.dc-input-wrapper__input');\n            el_input?.focus?.();\n        });\n    };\n\n    const changeValue = () => {\n        const new_is_checked = !is_checked;\n        // e.target.checked is not reliable, we have to toggle its previous value\n        onChange?.({ target: { name: checkboxName, value: new_is_checked } });\n        if (new_is_checked) focusInput();\n    };\n\n    const enableInputOnClick = () => {\n        if (!is_checked) {\n            setChecked(true);\n            onChange?.({ target: { name: checkboxName, value: true } });\n            focusInput();\n        }\n    };\n\n    const input = (\n        <InputField\n            className={className}\n            classNameInlinePrefix={classNameInlinePrefix}\n            classNameInput={classNameInput}\n            currency={currency}\n            current_focus={current_focus || ''}\n            error_messages={error_messages}\n            error_message_alignment={error_message_alignment}\n            is_error_tooltip_hidden={isMobile()}\n            is_disabled={!!is_disabled}\n            fractional_digits={getDecimalPlaces(currency)}\n            id={`dc_${name}_input`}\n            inline_prefix={is_single_currency ? currency : undefined}\n            is_autocomplete_disabled\n            is_float={getDecimalPlaces(currency) > 0}\n            is_hj_whitelisted\n            is_incrementable\n            is_negative_disabled={is_negative_disabled}\n            max_length={10}\n            max_value={max_value}\n            name={name}\n            onChange={onChange}\n            onClickInputWrapper={is_disabled ? undefined : enableInputOnClick}\n            type='number'\n            ariaLabel=''\n            inputmode='decimal'\n            value={value}\n            setCurrentFocus={setCurrentFocus}\n        />\n    );\n\n    const checkbox = (\n        <Checkbox\n            className={`${name}-checkbox__input`}\n            ref={checkboxRef}\n            id={`dc_${name}-checkbox_input`}\n            onChange={changeValue}\n            name={checkboxName}\n            label={label}\n            classNameLabel={`${name}-checkbox__label`}\n            defaultChecked={defaultChecked}\n            disabled={is_disabled}\n        />\n    );\n\n    return (\n        <React.Fragment>\n            <div ref={input_wrapper_ref} className='dc-input-wrapper--inline'>\n                {checkbox_tooltip_label ? (\n                    <Popover\n                        alignment='left'\n                        classNameBubble='trade-container__popover'\n                        is_bubble_hover_enabled\n                        margin={2}\n                        message={checkbox_tooltip_label}\n                        relative_render\n                    >\n                        {checkbox}\n                    </Popover>\n                ) : (\n                    <React.Fragment>{checkbox}</React.Fragment>\n                )}\n                {tooltip_label && (\n                    <Popover\n                        alignment={tooltip_alignment || 'left'}\n                        classNameBubble={classNameBubble}\n                        icon='info'\n                        id={`dc_${name}-checkbox__tooltip`}\n                        is_bubble_hover_enabled\n                        message={tooltip_label}\n                        margin={isMobile() || tooltip_alignment === 'right' ? 0 : 216}\n                        zIndex='9999'\n                        {...(isDesktop() ? { relative_render: tooltip_alignment === 'left' } : {})}\n                    />\n                )}\n            </div>\n            {!is_input_hidden && input}\n        </React.Fragment>\n    );\n};\n\nexport default InputWithCheckbox;\n",
            "size_bytes": 6852
        },
        "src/external/bot-skeleton/utils/strategy-helper.js": {
            "content": "/** Helper function to perform sequential execution of functions */\nexport const pipe = (...fns) => {\n    return initialValue => {\n        return fns.reduce((nextParam, fn) => fn(nextParam), initialValue);\n    };\n};\n\n/** Helper function to parse block information from XML */\nexport const extractBlocksFromXml = xml => {\n    const parser = new DOMParser();\n    const xmlDoc = parser.parseFromString(xml, 'text/xml');\n    const blocks = xmlDoc.getElementsByTagName('block');\n\n    const blocksTypeAndFields = Array.from(blocks).map(block => {\n        const type = block.getAttribute('type');\n        const fields = Array.from(block.getElementsByTagName('field')).map(field => {\n            return {\n                name: field.getAttribute('name'),\n                value: field.textContent.trim(),\n            };\n        });\n        return { type, fields };\n    });\n\n    return blocksTypeAndFields;\n};\n\n/** Helper function to sort block childs based on type or field name */\nexport const sortBlockChild = blocksArray =>\n    blocksArray.sort((a, b) => {\n        if (a.type < b.type) {\n            return -1;\n        }\n        if (a.type > b.type) {\n            return 1;\n        }\n        return JSON.stringify(a.fields) < JSON.stringify(b.fields) ? -1 : 1;\n    });\n\n/** Compare two blocks by field name and value */\nconst areFieldsEqual = (fields1, fields2) => {\n    if (fields1?.length !== fields2?.length) {\n        return false;\n    }\n    for (let i = 0; i < fields1.length; i++) {\n        if (fields1[i]?.name !== fields2[i]?.name || fields1[i]?.value !== fields2[i]?.value) {\n            return false;\n        }\n    }\n    return true;\n};\n\n/** Sanitize XMLs and compare them */\nexport const compareXml = (xml1, xml2) => {\n    // Extract block information from the XMLs and sort the blocks\n    const sortedBlocks1 = pipe(extractBlocksFromXml, sortBlockChild);\n    const sortedBlocks2 = pipe(extractBlocksFromXml, sortBlockChild);\n    const blocks1 = sortedBlocks1(xml1);\n    const blocks2 = sortedBlocks2(xml2);\n\n    // Compare the sorted blocks\n    if (blocks1?.length !== blocks2?.length) {\n        return false;\n    }\n    for (let i = 0; i < blocks1.length; i++) {\n        if (blocks1[i]?.type !== blocks2[i]?.type || !areFieldsEqual(blocks1[i]?.fields, blocks2[i]?.fields)) {\n            return false;\n        }\n    }\n\n    return true;\n};\n",
            "size_bytes": 2344
        },
        "src/components/shared/utils/url/helpers.ts": {
            "content": "/**\n * @deprecated Please use 'URLUtils.getQueryParameter' from '@deriv-com/utils' instead of this.\n */\nexport const getlangFromUrl = () => {\n    const queryString = window.location.search;\n    const urlParams = new URLSearchParams(queryString);\n    const lang = urlParams.get('lang');\n    return lang;\n};\n\n/**\n * @deprecated Please use 'URLUtils.getQueryParameter' from '@deriv-com/utils' instead of this.\n */\nexport const getActionFromUrl = () => {\n    const queryString = window.location.search;\n    const urlParams = new URLSearchParams(queryString);\n    const action = urlParams.get('action');\n    return action;\n};\n\nexport const getPlatformFromUrl = (domain = window.location.hostname) => {\n    const resolutions = {\n        is_staging_deriv_app: /^staging-app\\.deriv\\.(com|me|be)$/i.test(domain),\n        is_deriv_app: /^app\\.deriv\\.(com|me|be)$/i.test(domain),\n        is_test_link: /^(.*)\\.binary\\.sx$/i.test(domain),\n        is_test_deriv_app: /^test-app\\.deriv\\.com$/i.test(domain),\n    };\n\n    return {\n        ...resolutions,\n        is_staging: resolutions.is_staging_deriv_app,\n        is_test_link: resolutions.is_test_link,\n    };\n};\n\nexport const isStaging = (domain = window.location.hostname) => {\n    const { is_staging_deriv_app } = getPlatformFromUrl(domain);\n\n    return is_staging_deriv_app;\n};\n\nexport const isTestDerivApp = (domain = window.location.hostname) => {\n    const { is_test_deriv_app } = getPlatformFromUrl(domain);\n\n    return is_test_deriv_app;\n};\n",
            "size_bytes": 1488
        },
        "analysis-tool/Benanalysistool-final-main/components/ui/button.tsx": {
            "content": "import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default:\n          'bg-primary text-primary-foreground shadow-xs hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n",
            "size_bytes": 2124
        },
        "src/external/bot-skeleton/scratch/hooks/flyout_base.js": {
            "content": "import { config } from '../../constants/config';\nimport DBotStore from '../dbot-store';\n\n/**\n * Create a copy of this block on the workspace.\n * @param {!window.Blockly.BlockSvg} original_block The block to copy from the flyout.\n * @return {window.Blockly.BlockSvg} The newly created block, or null if something\n *     went wrong with deserialization.\n * @package\n */\nwindow.Blockly.Flyout.prototype.createBlock = function (event, original_block) {\n    window.Blockly.Events.disable();\n\n    const main_workspace = this.targetWorkspace;\n    const variables_before_creation = main_workspace.getAllVariables();\n\n    main_workspace.setResizesEnabled(false);\n\n    let new_block = null;\n\n    try {\n        new_block = this.placeNewBlock_(event, original_block);\n        // Close the flyout.\n        window.Blockly.hideChaff();\n    } finally {\n        window.Blockly.Events.enable();\n    }\n\n    const new_variables = window.Blockly.Variables.getAddedVariables(main_workspace, variables_before_creation);\n\n    if (window.Blockly.Events.isEnabled()) {\n        window.Blockly.Events.setGroup(true);\n\n        // Delete blocks of which we can only have a single instance. Dispose emits a BlockDelete\n        // event that respects the current window.Blockly.Events group, this is required to maintain\n        // a working undo/redo stack.\n        if (config().single_instance_blocks.includes(new_block.type)) {\n            main_workspace.getAllBlocks().forEach(ws_block => {\n                if (ws_block.type === new_block.type && ws_block.id !== new_block.id) {\n                    ws_block.dispose();\n                }\n            });\n        }\n\n        // Fire a VarCreate event for each (if any) new variable created.\n        new_variables.forEach(new_variable => {\n            window.Blockly.Events.fire(new window.Blockly.Events.VarCreate(new_variable));\n        });\n\n        window.Blockly.Events.fire(new window.Blockly.Events.BlockCreate(new_block));\n    }\n\n    if (this.autoClose) {\n        this.hide();\n    }\n\n    const { flyout } = DBotStore.instance;\n    flyout.setIsSearchFlyout(false);\n    flyout.setVisibility(false);\n\n    new_block.isInFlyout = false;\n\n    return new_block;\n};\n\n/**\n * Copy a block from the flyout to the workspace and position it correctly.\n * @param {MouseEvent} event MouseEvent with coordinates to position block. DBot only.\n * @param {!window.Blockly.Block} old_block The flyout block to copy.\n * @return {!window.Blockly.Block} The new block in the main workspace.\n * @private\n */\nwindow.Blockly.Flyout.prototype.placeNewBlock_ = function (event, old_block = window.Blockly.getSelected()) {\n    const main_workspace = this.targetWorkspace;\n    const svg_root_old = old_block.getSvgRoot();\n\n    if (!svg_root_old) {\n        throw new Error('old_block is not rendered.');\n    }\n\n    // Create the new block by cloning the block in the flyout (via XML).\n    const xml = window.Blockly.Xml.blockToDom(old_block, true);\n\n    // The target workspace would normally resize during domToBlock, which will\n    // lead to weird jumps.  Save it for terminateDrag.\n    main_workspace.setResizesEnabled(false);\n\n    // Using domToBlock instead of domToWorkspace means that the new block will be\n    // placed at position (0, 0) in main workspace units.\n    const block = window.Blockly.Xml.domToBlock(xml, main_workspace);\n    const svg_root_new = block.getSvgRoot();\n\n    if (!svg_root_new) {\n        throw new Error('block is not rendered.');\n    }\n\n    // event may be null i.e. when originating from flyout add button.\n    if (event) {\n        // The offset in pixels between the main workspace's origin and the upper left corner of the injection div.\n        const main_offset_pixels = main_workspace.getOriginOffsetInPixels();\n\n        // The position of the old block in pixels relative to the flyout workspace's origin.\n        const x_offset = 25;\n        const y_offset = 160;\n        const old_block_pos_pixels = new goog.math.Coordinate(\n            event.clientX ? event.clientX - x_offset : 0,\n            event.clientY ? event.clientY - y_offset : 0\n        );\n        // The position of the old block in pixels relative to the origin of the main workspace.\n        const final_offset_pixels = goog.math.Coordinate.difference(old_block_pos_pixels, main_offset_pixels);\n\n        // The position of the old block in main workspace coordinates.\n        const final_offset_main_ws = final_offset_pixels.scale(1 / main_workspace.scale);\n\n        block.moveBy(final_offset_main_ws.x, final_offset_main_ws.y);\n    }\n\n    return block;\n};\n",
            "size_bytes": 4560
        },
        "src/pages/bot-builder/quick-strategy/selects/symbol.tsx": {
            "content": "import React, { useEffect, useMemo, useState } from 'react';\nimport { Field, FieldProps, useFormikContext } from 'formik';\nimport { MarketIcon } from '@/components/market/market-icon';\nimport Autocomplete from '@/components/shared_ui/autocomplete';\nimport { TItem } from '@/components/shared_ui/dropdown-list';\nimport Text from '@/components/shared_ui/text';\nimport { ApiHelpers } from '@/external/bot-skeleton';\nimport { useStore } from '@/hooks/useStore';\nimport { useDevice } from '@deriv-com/ui';\nimport { TFormData } from '../types';\nimport { V2_QS_STRATEGIES } from '../utils';\n\ntype TSymbol = {\n    component?: React.ReactNode;\n    text: string;\n    value: string;\n    group?: string;\n};\n\ntype TMarketOption = {\n    symbol: TSymbol;\n};\n\nconst MarketOption: React.FC<TMarketOption> = ({ symbol }) => (\n    <div key={symbol.value} className='qs__select__option'>\n        <MarketIcon type={symbol.value} size='sm' />\n        <Text className='qs__select__option__text' size='xs' color='prominent'>\n            {symbol.text}\n        </Text>\n    </div>\n);\n\nconst SymbolSelect: React.FC = () => {\n    const { quick_strategy } = useStore();\n    const { isDesktop } = useDevice();\n    const { setValue, selected_strategy } = quick_strategy;\n    const [active_symbols, setActiveSymbols] = React.useState<TSymbol[]>([]);\n    const [is_input_started, setIsInputStarted] = useState(false);\n    const [input_value, setInputValue] = useState({ text: '', value: '' });\n    const [last_selected_symbol, setLastSelectedSymbol] = useState({ text: '', value: '' });\n    const { setFieldValue, values } = useFormikContext<TFormData>();\n    const is_strategy_accumulator = V2_QS_STRATEGIES.includes(selected_strategy);\n\n    const symbols = useMemo(\n        () =>\n            active_symbols\n                .map((symbol: TSymbol) => ({\n                    component: <MarketOption key={symbol.text} symbol={symbol} />,\n                    ...symbol,\n                }))\n                .filter(symbol => !is_strategy_accumulator || symbol?.group?.startsWith('Continuous Indices')),\n        [active_symbols, is_strategy_accumulator]\n    );\n\n    useEffect(() => {\n        const { active_symbols } =\n            (ApiHelpers?.instance as unknown as {\n                active_symbols: {\n                    getSymbolsForBot: () => TSymbol[];\n                };\n            }) ?? {};\n        const symbols = active_symbols?.getSymbolsForBot?.();\n        setActiveSymbols(symbols);\n\n        const has_symbol = !!symbols?.find(symbol => symbol?.value === values?.symbol);\n        if (!has_symbol) {\n            setFieldValue('symbol', symbols?.[0]?.value);\n            setValue('symbol', symbols?.[0]?.value);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    useEffect(() => {\n        const selected_symbol = symbols.find(symbol => symbol.value === values.symbol);\n        if (selected_symbol) {\n            setInputValue({ text: selected_symbol.text, value: selected_symbol.value });\n        }\n    }, [symbols, values.symbol, setInputValue]);\n\n    const handleFocus = () => {\n        if (isDesktop && !is_input_started) {\n            setIsInputStarted(true);\n        }\n    };\n\n    const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setInputValue({ ...input_value, text: e.target.value });\n    };\n\n    const handleItemSelection = (item: TItem) => {\n        if (item?.value) {\n            const { value } = item as TSymbol;\n            setFieldValue('symbol', value);\n            setValue('symbol', value);\n            setIsInputStarted(false);\n        }\n    };\n\n    const handleHideDropdownList = () => {\n        if (isDesktop) {\n            const selectedSymbol = symbols.find(symbol => symbol.value === values.symbol);\n            if (selectedSymbol && selectedSymbol.text !== input_value.text) {\n                setInputValue({ text: selectedSymbol.text, value: selectedSymbol.value });\n                setLastSelectedSymbol({ text: selectedSymbol.text, value: selectedSymbol.value });\n                setIsInputStarted(false);\n            }\n            if (!selectedSymbol) {\n                setInputValue({ text: last_selected_symbol.text, value: last_selected_symbol.value });\n                setIsInputStarted(false);\n            }\n        }\n    };\n\n    return (\n        <div className='qs__form__field qs__form__field__input'>\n            <Field name='symbol' key='asset' id='asset'>\n                {({ field: { ...rest_field } }: FieldProps) => (\n                    <>\n                        <Autocomplete\n                            {...rest_field}\n                            readOnly={!isDesktop}\n                            inputMode='none'\n                            data-testid='dt_qs_symbol'\n                            autoComplete='off'\n                            className='qs__autocomplete'\n                            value={input_value.text}\n                            list_items={symbols}\n                            onItemSelection={handleItemSelection}\n                            onChange={handleInputChange}\n                            onFocus={handleFocus}\n                            onHideDropdownList={handleHideDropdownList}\n                            leading_icon={<MarketIcon type={input_value.value} size='sm' />}\n                        />\n                    </>\n                )}\n            </Field>\n        </div>\n    );\n};\n\nexport default SymbolSelect;\n",
            "size_bytes": 5448
        },
        "__mocks__/styleMock.js": { "content": "module.exports = {};\n", "size_bytes": 21 },
        "src/components/shared_ui/radio-group/radio.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport Text from '../text';\n\ntype TRadio = {\n    className?: string;\n    classNameLabel?: string;\n    defaultChecked: boolean;\n    id: string;\n    onChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n};\n\nconst Radio = ({\n    children,\n    className,\n    classNameLabel,\n    defaultChecked,\n    id,\n    onChange, // This needs to be here so it's not included in `otherProps`\n    ...otherProps\n}: React.PropsWithChildren<TRadio>) => {\n    const [checked, setChecked] = React.useState(defaultChecked);\n\n    /*\n     * We use useEffect here to tell the Radio component to update itself\n     * when it's no longer selected\n     * This is because we're handling the state of what's selected in RadioGroup with the defaultChecked prop\n     */\n    React.useEffect(() => {\n        setChecked(defaultChecked);\n    }, [defaultChecked]);\n\n    const onInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setChecked(e.target.checked);\n        onChange(e);\n    };\n\n    return (\n        <label\n            htmlFor={id}\n            className={classNames('dc-radio-group__item', className, {\n                'dc-radio-group__item--active': checked,\n            })}\n        >\n            <input className='dc-radio-group__input' type='radio' id={id} onChange={onInputChange} {...otherProps} />\n            <span\n                className={classNames('dc-radio-group__circle', {\n                    'dc-radio-group__circle--selected': checked,\n                })}\n            />\n            <Text size='xs' className={classNames('dc-radio-group__label', classNameLabel)}>\n                {children}\n            </Text>\n        </label>\n    );\n};\n\nexport default Radio;\n",
            "size_bytes": 1735
        },
        "src/components/shared/utils/storage/storage.ts": {
            "content": "import Cookies from 'js-cookie';\nimport { getPropertyValue, isEmptyObject } from '../object/object';\nimport { deriv_urls } from '../url/constants';\n\ntype TCookieStorageThis = {\n    initialized: boolean;\n    cookie_name: string;\n    domain: string;\n    path: string;\n    expires: Date;\n    value: unknown;\n};\n\nconst getObject = function (this: { getItem: (key: string) => string | null }, key: string) {\n    return JSON.parse(this.getItem(key) || '{}');\n};\n\nconst setObject = function (this: { setItem: (key: string, value: string) => void }, key: string, value: unknown) {\n    if (value && value instanceof Object) {\n        try {\n            this.setItem(key, JSON.stringify(value));\n        } catch (e) {\n            /* do nothing */\n        }\n    }\n};\n\nif (typeof Storage !== 'undefined') {\n    Storage.prototype.getObject = getObject;\n    Storage.prototype.setObject = setObject;\n}\n\nexport const isStorageSupported = (storage: Storage) => {\n    if (typeof storage === 'undefined') {\n        return false;\n    }\n\n    const test_key = 'test';\n    try {\n        storage.setItem(test_key, '1');\n        storage.removeItem(test_key);\n        return true;\n    } catch (e) {\n        return false;\n    }\n};\n\nconst Store = function (this: { storage: Storage }, storage: Storage) {\n    this.storage = storage;\n    this.storage.getObject = getObject;\n    this.storage.setObject = setObject;\n};\n\nStore.prototype = {\n    get(key: string) {\n        return this.storage.getItem(key) || undefined;\n    },\n    set(key: string, value: string) {\n        if (typeof value !== 'undefined') {\n            this.storage.setItem(key, value);\n        }\n    },\n    getObject(key: string) {\n        return typeof this.storage.getObject === 'function' // Prevent runtime error in IE\n            ? this.storage.getObject(key)\n            : JSON.parse(this.storage.getItem(key) || '{}');\n    },\n    setObject(key: string, value: unknown) {\n        if (typeof this.storage.setObject === 'function') {\n            // Prevent runtime error in IE\n            this.storage.setObject(key, value);\n        } else {\n            this.storage.setItem(key, JSON.stringify(value));\n        }\n    },\n    remove(key: string) {\n        this.storage.removeItem(key);\n    },\n    clear() {\n        this.storage.clear();\n    },\n};\n\nconst InScriptStore = function (this: { store: unknown }, object?: unknown) {\n    this.store = typeof object !== 'undefined' ? object : {};\n};\n\nInScriptStore.prototype = {\n    get(key: string) {\n        return getPropertyValue(this.store, key);\n    },\n    set(\n        this: { store: any; set: (key: string | string[], value: string, obj: string[]) => void },\n        k: string | string[],\n        value: string,\n        obj = this.store\n    ) {\n        let key = k;\n        if (!Array.isArray(key)) key = [key];\n        if (key.length > 1) {\n            if (!(key[0] in obj) || isEmptyObject(obj[key[0]])) obj[key[0]] = {};\n            this.set(key.slice(1), value, obj[key[0]]);\n        } else {\n            obj[key[0]] = value;\n        }\n    },\n    getObject(key: string) {\n        return JSON.parse(this.get(key) || '{}');\n    },\n    setObject(key: string, value: unknown) {\n        this.set(key, JSON.stringify(value));\n    },\n    remove(...keys: string[]) {\n        keys.forEach(key => {\n            delete this.store[key];\n        });\n    },\n    clear() {\n        this.store = {};\n    },\n    has(key: string) {\n        return this.get(key) !== undefined;\n    },\n    keys() {\n        return Object.keys(this.store);\n    },\n    call(key: string) {\n        if (typeof this.get(key) === 'function') this.get(key)();\n    },\n};\n\nexport const State = new (InScriptStore as any)();\nState.prototype = InScriptStore.prototype;\n/**\n * Shorthand function to get values from response object of State\n *\n * @param {String} pathname\n *     e.g. getResponse('authorize.currency') == get(['response', 'authorize', 'authorize', 'currency'])\n */\nState.prototype.getResponse = function (pathname: string | string[]) {\n    let path = pathname;\n    if (typeof path === 'string') {\n        const keys = path.split('.');\n        path = ['response', keys[0]].concat(keys);\n    }\n    return this.get(path);\n};\nState.prototype.getByMsgType = State.getResponse;\nState.set('response', {});\n\nexport const CookieStorage = function (this: TCookieStorageThis, cookie_name: string, cookie_domain?: string) {\n    const hostname = window.location.hostname;\n\n    this.initialized = false;\n    this.cookie_name = cookie_name;\n    this.domain =\n        cookie_domain ||\n        /* eslint-disable no-nested-ternary */\n        (hostname.includes('binary.sx') ? 'binary.sx' : deriv_urls.DERIV_HOST_NAME);\n    /* eslint-enable no-nested-ternary */\n    this.path = '/';\n    this.expires = new Date('Thu, 1 Jan 2037 12:00:00 GMT');\n    this.value = {};\n};\n\nCookieStorage.prototype = {\n    read() {\n        const cookie_value = Cookies.get(this.cookie_name);\n        try {\n            this.value = cookie_value ? JSON.parse(cookie_value) : {};\n        } catch (e) {\n            this.value = {};\n        }\n        this.initialized = true;\n    },\n    write(val: string, expireDate: Date, isSecure: boolean) {\n        if (!this.initialized) this.read();\n        this.value = val;\n        if (expireDate) this.expires = expireDate;\n        Cookies.set(this.cookie_name, this.value, {\n            expires: this.expires,\n            path: this.path,\n            domain: this.domain,\n            secure: !!isSecure,\n        });\n    },\n    get(key: string) {\n        if (!this.initialized) this.read();\n        return this.value[key];\n    },\n    set(key: string, val: string) {\n        if (!this.initialized) this.read();\n        this.value[key] = val;\n        Cookies.set(this.cookie_name, this.value, {\n            expires: new Date(this.expires),\n            path: this.path,\n            domain: this.domain,\n        });\n    },\n    remove() {\n        Cookies.remove(this.cookie_name, {\n            path: this.path,\n            domain: this.domain,\n        });\n    },\n};\n\nexport const removeCookies = (...cookie_names: string[]) => {\n    const domains = [`.${document.domain.split('.').slice(-2).join('.')}`, `.${document.domain}`];\n\n    let parent_path = window.location.pathname.split('/', 2)[1];\n    if (parent_path !== '') {\n        parent_path = `/${parent_path}`;\n    }\n\n    cookie_names.forEach(c => {\n        Cookies.remove(c, { path: '/', domain: domains[0] });\n        Cookies.remove(c, { path: '/', domain: domains[1] });\n        Cookies.remove(c);\n        if (new RegExp(c).test(document.cookie) && parent_path) {\n            Cookies.remove(c, { path: parent_path, domain: domains[0] });\n            Cookies.remove(c, { path: parent_path, domain: domains[1] });\n            Cookies.remove(c, { path: parent_path });\n        }\n    });\n};\n\nexport const LocalStore = isStorageSupported(window.localStorage)\n    ? new (Store as any)(window.localStorage)\n    : new (InScriptStore as any)();\nexport const SessionStore = isStorageSupported(window.sessionStorage)\n    ? new (Store as any)(window.sessionStorage)\n    : new (InScriptStore as any)();\n",
            "size_bytes": 7093
        },
        "src/components/layout/header/mobile-menu/toggle-button.tsx": {
            "content": "import { ComponentProps } from 'react';\nimport { LegacyMenuHamburger1pxIcon } from '@deriv/quill-icons/Legacy';\n\ntype TToggleButton = {\n    onClick: ComponentProps<'button'>['onClick'];\n};\n\nconst ToggleButton = ({ onClick }: TToggleButton) => (\n    <button onClick={onClick}>\n        <LegacyMenuHamburger1pxIcon iconSize='xs' fill='var(--text-general)' />\n    </button>\n);\n\nexport default ToggleButton;\n",
            "size_bytes": 403
        },
        "src/hooks/firebase/useFirebaseCountriesConfig.ts": {
            "content": "import { useEffect, useState } from 'react';\nimport { HUB_ENABLED_COUNTRY_LIST } from '@/components/layout/header/utils';\n\nconst REMOTE_CONFIG_URL_STAGING =\n    'https://app-config-staging.firebaseio.com/remote_config/deriv-app/hub_enabled_country_list.json';\nconst REMOTE_CONFIG_URL_PRODUCTION =\n    'https://app-config-prod.firebaseio.com/remote_config/deriv-app/hub_enabled_country_list.json';\n\nexport const useFirebaseCountriesConfig = () => {\n    const [countriesConfig, setCountriesConfig] = useState<Record<string, any>>({\n        hub_enabled_country_list: HUB_ENABLED_COUNTRY_LIST(),\n    });\n    const [isLoading, setIsLoading] = useState(true);\n    const [error, setError] = useState<Error | null>(null);\n\n    useEffect(() => {\n        const fetchCountriesConfig = async () => {\n            setIsLoading(true);\n\n            try {\n                const STAGING_URL = process.env.REMOTE_CONFIG_URL_STAGING || REMOTE_CONFIG_URL_STAGING;\n                const PRODUCTION_URL = process.env.REMOTE_CONFIG_URL_PROD || REMOTE_CONFIG_URL_PRODUCTION;\n\n                const REMOTE_CONFIG_URL = process.env.APP_ENV === 'production' ? PRODUCTION_URL : STAGING_URL;\n\n                const response = await fetch(REMOTE_CONFIG_URL);\n\n                if (!response.ok) {\n                    throw new Error('Network response was not ok');\n                }\n\n                const data = await response.json();\n\n                setCountriesConfig({\n                    hub_enabled_country_list: data,\n                });\n\n                setError(null);\n            } catch (error) {\n                console.error('Failed to fetch countries config:', error);\n                setError(error instanceof Error ? error : new Error('Unknown error occurred'));\n\n                // Use fallback data if fetch fails\n                const fallbackConfig = {\n                    hub_enabled_country_list: HUB_ENABLED_COUNTRY_LIST(),\n                };\n                setCountriesConfig(fallbackConfig);\n            } finally {\n                setIsLoading(false);\n            }\n        };\n\n        fetchCountriesConfig();\n    }, []);\n\n    return {\n        countriesConfig,\n        isLoading,\n        error,\n        hubEnabledCountryList: countriesConfig?.hub_enabled_country_list || [],\n    };\n};\n",
            "size_bytes": 2281
        },
        "src/hooks/growthbook/useGrowthbookGetFeatureValue.ts": {
            "content": "import { useEffect, useState } from 'react';\nimport { useIsMounted } from 'usehooks-ts';\nimport { Analytics } from '@deriv-com/analytics';\nimport useIsGrowthbookIsLoaded from './useIsGrowthbookLoaded';\n\ninterface UseGrowthbookGetFeatureValueArgs<T> {\n    featureFlag: string;\n    defaultValue?: T;\n}\n\nconst useGrowthbookGetFeatureValue = <T extends string | boolean>({\n    featureFlag,\n    defaultValue,\n}: UseGrowthbookGetFeatureValueArgs<T>) => {\n    const resolvedDefaultValue: T = defaultValue !== undefined ? defaultValue : (false as T);\n    const [featureFlagValue, setFeatureFlagValue] = useState(\n        Analytics?.getFeatureValue(featureFlag, resolvedDefaultValue) ?? resolvedDefaultValue\n    );\n\n    const { isGBLoaded } = useIsGrowthbookIsLoaded();\n    const isMounted = useIsMounted();\n\n    // Required for debugging Growthbook, this will be removed after Freshchat launch\n    if (typeof window !== 'undefined') {\n        window.Analytics = Analytics;\n    }\n\n    useEffect(() => {\n        if (isGBLoaded) {\n            if (Analytics?.getInstances()?.ab) {\n                const setFeatureValue = () => {\n                    const value = Analytics?.getFeatureValue(featureFlag, resolvedDefaultValue);\n                    if (isMounted()) {\n                        setFeatureFlagValue(value);\n                    }\n                };\n                setFeatureValue();\n                Analytics?.getInstances()?.ab?.GrowthBook?.setRenderer(() => {\n                    // this will be called whenever the feature flag value changes and acts as a event listener\n                    setFeatureValue();\n                });\n            }\n        }\n    }, [isGBLoaded, resolvedDefaultValue, featureFlag, isMounted]);\n\n    return { featureFlagValue, isGBLoaded };\n};\n\nexport default useGrowthbookGetFeatureValue;\n",
            "size_bytes": 1818
        },
        "src/components/shared_ui/tick-progress/tick-progress.tsx": {
            "content": "import classNames from 'classnames';\n\ntype TTickProgress = {\n    className?: string;\n    columns?: number;\n    value?: number | null;\n    rows?: number;\n    size?: number;\n};\n\nconst Tick = ({ is_on }: { is_on?: boolean }) => {\n    return (\n        <div\n            className={classNames('dc-tick-progress__tick', {\n                'dc-tick-progress__tick--on': is_on,\n            })}\n        />\n    );\n};\n\nconst TickProgress = ({ className, rows = 2, columns = 5, size = 10, value = 0 }: TTickProgress) => {\n    return (\n        <div\n            className={classNames('dc-tick-progress', className)}\n            style={{\n                gridTemplateRows: `repeat(${rows}, 1fr)`,\n                gridTemplateColumns: `repeat(${columns}, 1fr)`,\n            }}\n        >\n            {new Array(size).fill(null).map((_, index) => {\n                return <Tick is_on={index < Number(value)} key={index} />;\n            })}\n        </div>\n    );\n};\n\nexport default TickProgress;\n",
            "size_bytes": 974
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Tick Analysis/lastDigitList.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.lastDigitList = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Last digits list'),\n            output: 'Array',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the list of last digits of 1000 recent tick values'),\n            category: window.Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Last Digits List'),\n            description: localize('This block gives you a list of the last digits of the last 1000 tick values.'),\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.lastDigitList = () => [\n    'Bot.getLastDigitList()',\n    window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC,\n];\n",
            "size_bytes": 1229
        },
        "src/components/load-modal/index.ts": {
            "content": "import LoadModal from './load-modal';\nimport './load-modal.scss';\n\nexport default LoadModal;\n",
            "size_bytes": 93
        },
        "src/components/shared_ui/drawer/drawer.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { LabelPairedChevronsRightCaptionRegularIcon, LegacyHandleLessIcon } from '@deriv/quill-icons';\nimport { useDevice } from '@deriv-com/ui';\n\ntype TDrawer = {\n    anchor?: string;\n    className?: string;\n    contentClassName?: string;\n    footer?: React.ReactElement;\n    header?: React.ReactElement;\n    width?: number;\n    zIndex?: number;\n    is_open: boolean;\n    toggleDrawer?: (prop: boolean) => void;\n};\n\nconst Drawer = ({\n    anchor = 'left',\n    children,\n    className,\n    contentClassName,\n    footer,\n    header,\n    width = 250,\n    zIndex = 4,\n    ...props\n}: React.PropsWithChildren<TDrawer>) => {\n    const [is_open, setIsOpen] = React.useState(props.is_open);\n    const { isDesktop } = useDevice();\n\n    React.useEffect(() => {\n        setIsOpen(props.is_open);\n    }, [props.is_open]);\n\n    const toggleDrawer = () => {\n        setIsOpen(!is_open);\n        if (props.toggleDrawer) {\n            props.toggleDrawer(!is_open);\n        }\n    };\n\n    return (\n        <div\n            data-testid='drawer'\n            className={classNames('dc-drawer', className, {\n                [`dc-drawer--${anchor}`]: isDesktop,\n                'dc-drawer--open': is_open,\n            })}\n            style={{\n                zIndex,\n                transform:\n                    is_open && isDesktop\n                        ? anchor === 'left'\n                            ? `translateX(calc(${width}px - 16px))`\n                            : `translateX(calc(-${width}px + 16px))`\n                        : undefined,\n            }}\n        >\n            <div\n                className={classNames('dc-drawer__toggle', {\n                    'dc-drawer__toggle--open': is_open,\n                })}\n                onClick={toggleDrawer}\n            >\n                {isDesktop ? (\n                    <LabelPairedChevronsRightCaptionRegularIcon\n                        className={classNames('dc-drawer__toggle-icon', {\n                            [`dc-drawer__toggle-icon--${anchor}`]: isDesktop,\n                        })}\n                    />\n                ) : (\n                    <LegacyHandleLessIcon iconSize='sm' className='dc-drawer__toggle-icon' />\n                )}\n            </div>\n            <div className={classNames('dc-drawer__container', { [`dc-drawer__container--${anchor}`]: isDesktop })}>\n                {header && <div className='dc-drawer__header'>{header}</div>}\n                <div className={classNames('dc-drawer__content', contentClassName)}>{children}</div>\n                {footer && <div className='dc-drawer__footer'>{footer}</div>}\n            </div>\n        </div>\n    );\n};\n\nexport default Drawer;\n",
            "size_bytes": 2720
        },
        "src/pages/bot-builder/toolbar/toolbar-icon.tsx": {
            "content": "import DesktopWrapper from '@/components/shared_ui/desktop-wrapper';\nimport MobileWrapper from '@/components/shared_ui/mobile-wrapper';\nimport Popover from '@/components/shared_ui/popover';\nimport { popover_zindex } from '@/constants/z-indexes';\n\ntype TToolbarIcon = {\n    popover_message: string;\n    icon: string | React.ReactNode;\n};\n\nconst ToolbarIcon = ({ popover_message, icon }: TToolbarIcon) => {\n    return (\n        <>\n            <MobileWrapper>{icon}</MobileWrapper>\n            <DesktopWrapper>\n                <Popover\n                    alignment='bottom'\n                    message={popover_message}\n                    zIndex={String(popover_zindex.TOOLBAR)}\n                    should_disable_pointer_events\n                >\n                    {icon}\n                </Popover>\n            </DesktopWrapper>\n        </>\n    );\n};\n\nexport default ToolbarIcon;\n",
            "size_bytes": 881
        },
        "src/components/layout/header/header-config.tsx": {
            "content": "import { ReactNode } from 'react';\nimport { standalone_routes } from '@/components/shared';\nimport { generateUrlWithRedirect } from '@/utils/url-redirect-utils';\nimport { LegacyHomeNewIcon as TradershubLogo, LegacyReportsIcon as ReportsLogo } from '@deriv/quill-icons/Legacy';\nimport {\n    DerivProductBrandLightDerivBotLogoWordmarkIcon as DerivBotLogo,\n    DerivProductBrandLightDerivTraderLogoWordmarkIcon as DerivTraderLogo,\n    PartnersProductBrandLightSmarttraderLogoWordmarkIcon as SmarttraderLogo,\n} from '@deriv/quill-icons/Logo';\nimport { localize } from '@deriv-com/translations';\n\nexport type PlatformsConfig = {\n    active: boolean;\n    buttonIcon: ReactNode;\n    description: string;\n    href: string;\n    icon: ReactNode;\n    showInEU: boolean;\n};\n\nexport type MenuItemsConfig = {\n    as: 'a' | 'button';\n    href: string;\n    icon: ReactNode;\n    label: string;\n};\n\nexport type TAccount = {\n    balance: string;\n    currency: string;\n    icon: React.ReactNode;\n    isActive: boolean;\n\n    isVirtual: boolean;\n    loginid: string;\n    token: string;\n    type: string;\n};\n\nexport const platformsConfig: PlatformsConfig[] = [\n    {\n        active: false,\n        buttonIcon: <DerivTraderLogo height={25} width={114.97} />,\n        description: localize('A whole new trading experience on a powerful yet easy to use platform.'),\n        href: standalone_routes.trade,\n        icon: <DerivTraderLogo height={32} width={148} />,\n        showInEU: true,\n    },\n    {\n        active: true,\n        buttonIcon: <DerivBotLogo height={25} width={94} />,\n        description: localize('Automated trading at your fingertips. No coding needed.'),\n        href: standalone_routes.bot,\n        icon: <DerivBotLogo height={32} width={121} />,\n        showInEU: false,\n    },\n    {\n        active: false,\n        buttonIcon: <SmarttraderLogo height={24} width={115} />,\n        description: localize('Trade the worlds markets with our popular user-friendly platform.'),\n        href: standalone_routes.smarttrader,\n        icon: <SmarttraderLogo height={32} width={153} />,\n        showInEU: false,\n    },\n];\n\nexport const TRADERS_HUB_LINK_CONFIG = {\n    as: 'a',\n    href: standalone_routes.traders_hub,\n    icon: <TradershubLogo iconSize='xs' />,\n    label: 'Home',\n};\n\nexport const MenuItems: MenuItemsConfig[] = [\n    {\n        as: 'a',\n        href: generateUrlWithRedirect(standalone_routes.positions),\n        icon: <ReportsLogo iconSize='xs' />,\n        label: localize('Reports'),\n    },\n];\n",
            "size_bytes": 2500
        },
        "src/utils/journal-notifications.ts": {
            "content": "import { arrayAsMessage, messageWithButton } from '@/components/notify-item';\nimport { localize } from '@deriv-com/translations';\n\nconst showErrorMessageWithButton = (message, block_id, showErrorMessage, centerAndHighlightBlock) => {\n    showErrorMessage(\n        messageWithButton({\n            unique_id: block_id,\n            type: 'error',\n            message,\n            btn_text: localize('Go to block'),\n            onClick: () => {\n                centerAndHighlightBlock();\n            },\n        })\n    );\n};\n\nexport const isCustomJournalMessage = (\n    { message, block_id, variable_name },\n    showErrorMessage,\n    centerAndHighlightBlock,\n    pushMessage\n) => {\n    // notify undefined variable block\n    if (message === undefined && variable_name != null) {\n        showErrorMessageWithButton(\n            localize(\n                \"Variable '{{variable_name}}' has no value. Please set a value for variable '{{variable_name}}' to notify.\",\n                { variable_name }\n            ),\n            block_id,\n            showErrorMessage,\n            centerAndHighlightBlock\n        );\n        return true;\n    }\n    // notify null variable block\n    if (message === null) {\n        pushMessage('NULL');\n        return true;\n    }\n    // notify NaN variable block\n    if (Object.is(message, NaN)) {\n        showErrorMessageWithButton(\n            localize('Tried to perform an invalid operation.'),\n            block_id,\n            showErrorMessage,\n            centerAndHighlightBlock\n        );\n        return true;\n    }\n    // notify list block\n    if (Array.isArray(message)) {\n        const message_length = message.length;\n        const parsedArray = {\n            header:\n                variable_name !== 'null'\n                    ? `${variable_name}: (${message_length})`\n                    : localize('List: ({{message_length}})', { message_length }),\n            content: parseArray(message),\n        };\n        pushMessage(arrayAsMessage(parsedArray));\n        return true;\n    }\n    // notify boolean results\n    if (typeof message === 'boolean') {\n        pushMessage(message.toString());\n        return true;\n    }\n\n    return false;\n};\n\nconst parseArray = message => {\n    return message.map((item, idx: number) => {\n        return {\n            id: `${Date.now()}-${idx}`,\n            value: item && Array.isArray(item) ? parseArray(item) : item,\n        };\n    });\n};\n",
            "size_bytes": 2409
        },
        "src/constants/quick-strategies/martingale.ts": {
            "content": "import { getImageLocation } from '../../public-path';\nimport { localize } from '@deriv-com/translations';\nimport { TDescriptionItem } from '../../pages/bot-builder/quick-strategy/types';\n\nexport const MARTINGALE = (): TDescriptionItem[] => [\n    {\n        type: 'subtitle',\n        content: [localize('Exploring the Martingale strategy in Deriv Bot')],\n        expanded: true,\n        no_collapsible: false,\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                'The Martingale strategy involves increasing your stake after each loss to recoup prior losses with a single successful trade.'\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('Key parameters')],\n    },\n    {\n        type: 'text',\n        content: [localize('These are the trade parameters used in Deriv Bot with Martingale strategy.')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                '<strong>Initial stake:</strong> The starting trade amount. Stake is reverted to this amount after a win or when the stake exceeds the maximum stake.'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                \"<strong>Multiplier:</strong> The multiplier used to increase your stake if you're losing a trade. The value must be greater than 1.\"\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                '<strong>Profit threshold:</strong> The bot will stop trading if your total profit exceeds this amount.'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                '<strong>Loss threshold:</strong> The bot will stop trading if your total loss exceeds this amount.'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                '<strong>Maximum stake:</strong> The maximum amount you are willing to pay to enter a single trade. The stake for your next trade will reset to the initial stake if it exceeds this value. This is an optional risk management parameter.'\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('An example of Martingale strategy')],\n    },\n    {\n        type: 'media',\n        src: getImageLocation('martingale.svg'),\n        alt: localize('An example of Martingale strategy'),\n    },\n    {\n        type: 'text',\n        content: [\n            localize('1. Start with the initial stake. Lets say 1 USD.'),\n            localize('2. Select your Martingale multiplier. In this example, it is 2.'),\n            localize(\n                '3. If the first trade ends in a loss, Deriv Bot will automatically double your stake for the next trade to 2 USD. Deriv Bot will continue to double the stake after every losing trade.'\n            ),\n            localize(\n                '4. If a trade ends in a profit, the stake for the following trade will be reset to the initial stake amount of 1 USD.'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                \"The idea is that successful trades may recoup previous losses. However, it is crucial to exercise caution as the risk can quickly increase with this strategy. With Deriv Bot, you can minimise your risk by setting a maximum stake. This is an optional risk management feature. Lets say a maximum stake of 3 USD. If your stake for the next trade is set to exceed 3 USD, your stake will reset to the initial stake of 1 USD. If you didn't set a maximum stake, it would have increased beyond 3 USD.\"\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('Profit and loss thresholds')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                \"With Deriv Bot, traders can set the profit and loss thresholds to secure potential profits and limit potential losses. This means that the trading bot will automatically stop when either the profit or loss thresholds are reached. It's a form of risk management that can potentially enhance returns. For example, if a trader sets the profit threshold at 100 USD and the strategy exceeds 100 USD of profit from all trades, then the bot will stop running.\"\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('Estimating the lifespan of your trades')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                \"If you're about to start trading and haven't established a Maximum Stake as part of your risk management strategy, you can determine how long your funds will last by employing the Martingale strategy. Simply use this formula.\"\n            ),\n        ],\n    },\n    {\n        type: 'media',\n        src: getImageLocation('martingale_formula_1.svg'),\n        dark_src: getImageLocation('martingale_formula_dark_1.svg'),\n        alt: localize('Martingale formula 1'),\n        className: 'formula',\n        styles: { height: '6.5rem' },\n    },\n    {\n        type: 'text',\n        content: [\n            localize('Where:'),\n            localize('R is the number of rounds a trader can sustain given a specific loss threshold.'),\n            localize('B is the loss threshold.'),\n            localize('s is the initial stake.'),\n            localize('m is the Martingale multiplier.'),\n        ],\n        className: 'no-margin',\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                'For instance, if a trader has a loss threshold (B) is 1000 USD, with an initial stake (s) is 1 USD, and the Martingale multiplier (m) is 2, the calculation would be as follows:'\n            ),\n        ],\n        className: 'top-margin',\n    },\n    {\n        type: 'media',\n        src: getImageLocation('martingale_formula_2.svg'),\n        dark_src: getImageLocation('martingale_formula_dark_2.svg'),\n        alt: localize('Martingale formula 2'),\n        className: 'formula',\n        styles: { height: '6.5rem' },\n    },\n    {\n        type: 'text',\n        content: [\n            localize('Number of rounds, R  9.965'),\n            localize(\n                'This means that after 10 rounds of consecutive losses, this trader will lose 1023 USD which exceeds the loss threshold of 1000 USD, stopping the bot.'\n            ),\n            localize(\n                'This formula helps you plan your trades by considering the amount of money you have and your comfort level with risk. It involves determining your loss threshold and the initial stake you want to trade with. Then, you use this formula to calculate the number of rounds you can trade. This process provides insight into stake sizing and expectations.'\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('Summary')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                \"The Martingale strategy in trading may offer substantial gains but also comes with significant risks. With your selected strategy, Deriv Bot provides automated trading with risk management measures like setting initial stake, stake size, maximum stake, profit threshold and loss threshold. It's crucial for traders to assess their risk tolerance, practice in a demo account, and understand the strategy before trading with real money.\"\n            ),\n        ],\n    },\n    {\n        type: 'text_italic',\n        content: [localize('<strong>Disclaimer:</strong>')],\n    },\n    {\n        type: 'text_italic',\n        content: [\n            localize(\n                'Please be aware that while we may use rounded figures for illustration, a stake of a specific amount does not guarantee an exact amount in successful trades. For example, a 1 USD stake does not necessarily equate to a 1 USD profit in successful trades.'\n            ),\n        ],\n    },\n    {\n        type: 'text_italic',\n        content: [\n            localize(\n                'Trading inherently involves risks, and actual profits can fluctuate due to various factors, including market volatility and other unforeseen variables. As such, exercise caution and conduct thorough research before engaging in any trading activities.'\n            ),\n        ],\n    },\n];\n",
            "size_bytes": 8348
        },
        "src/components/layout/header/common/utils.tsx": {
            "content": "import { LegacyDerivIcon } from '@deriv/quill-icons';\nimport { Divider } from '@deriv-com/ui';\n\nexport const no_account = {\n    currency: ' ',\n    currencyLabel: 'Options & Multipliers',\n    is_virtual: 1,\n    loginid: '',\n    is_disabled: false,\n    balance: '',\n    icon: <LegacyDerivIcon width={24} height={24} />,\n    isActive: false,\n    isVirtual: true,\n};\n\nexport const convertCommaValue = (str: string) => {\n    return Number(str.replace(/,/g, ''));\n};\n\nexport const AccountSwitcherDivider = () => <Divider color='var(--general-section-2)' height='2px' />;\n",
            "size_bytes": 565
        },
        "src/constants/bot-version.ts": {
            "content": "/**\n * Bot version configuration\n * This version is used to determine if localStorage and cookies need to be cleared\n */\nexport const BOT_VERSION_CONFIG = {\n    REQUIRED_VERSION: 2,\n    STORAGE_KEY: 'bot_version',\n} as const;\n\nexport type TBotVersionConfig = typeof BOT_VERSION_CONFIG;\n",
            "size_bytes": 286
        },
        "src/pages/bot-builder/quick-strategy/form-wrappers/accordion-strategy-group.tsx": {
            "content": "import React from 'react';\nimport { observer } from 'mobx-react-lite';\nimport { useDevice } from '@deriv-com/ui';\nimport Accordion from '../../../tutorials/dbot-tours/common/accordion';\nimport StrategyDescription from '../descriptions/strategy-description';\nimport { TDescription, TDescriptionItem } from '../types';\n\ntype TAccordionStrategyGroupProps = {\n    tutorial_selected_strategy?: string;\n    grouped_objects_by_title: TDescription;\n    expanded_subtitles_storage: { [key: string]: boolean };\n    setExpandedSubtitlesStorage: (value: { [key: string]: boolean }) => void;\n};\n\ntype TDescriptionContent = {\n    item: TDescriptionItem[] | string;\n    font_size: string;\n};\n\nexport const DescriptionContent = ({ item, font_size }: TDescriptionContent) => {\n    const content_data: TDescriptionItem[] | string = Array.isArray(item) ? item : item.slice(1);\n    return (\n        <>\n            {Array.isArray(content_data) &&\n                content_data?.map(item => (\n                    <React.Fragment key={item.id}>\n                        <StrategyDescription item={item} font_size={font_size} />\n                    </React.Fragment>\n                ))}\n        </>\n    );\n};\n\nconst AccordionStrategyGroup = observer(\n    ({\n        tutorial_selected_strategy,\n        grouped_objects_by_title,\n        expanded_subtitles_storage,\n        setExpandedSubtitlesStorage,\n    }: TAccordionStrategyGroupProps) => {\n        const { isDesktop } = useDevice();\n        const desktop_font_size = tutorial_selected_strategy ? 's' : 'xs';\n        const font_size: string = React.useMemo<string>(\n            () => (isDesktop ? desktop_font_size : 'xs'),\n            [isDesktop, desktop_font_size]\n        );\n\n        return (\n            <>\n                {Array.isArray(grouped_objects_by_title) &&\n                    (grouped_objects_by_title as TDescriptionItem[][]).map((data: TDescriptionItem[]) => {\n                        const subtitle_value = data?.[0]?.content?.[0] ?? '';\n                        return (\n                            <Accordion\n                                key={`accordion-${subtitle_value}`}\n                                content_data={{\n                                    header: subtitle_value,\n                                    content: <DescriptionContent item={data} font_size={font_size} />,\n                                }}\n                                expanded={!!data[0]?.expanded}\n                                is_cursive={false}\n                                no_collapsible={data[0]?.no_collapsible}\n                                has_subtitle={!!subtitle_value}\n                                expanded_subtitles_storage={expanded_subtitles_storage}\n                                setExpandedSubtitlesStorage={setExpandedSubtitlesStorage}\n                                font_size={font_size}\n                            />\n                        );\n                    })}\n            </>\n        );\n    }\n);\n\nexport default AccordionStrategyGroup;\n",
            "size_bytes": 3009
        },
        "src/stores/toolbar-store.ts": {
            "content": "import { action, makeObservable, observable } from 'mobx';\nimport { config, load, runGroupedEvents } from '@/external/bot-skeleton';\nimport RootStore from './root-store';\n\ninterface IToolbarStore {\n    is_animation_info_modal_open: boolean;\n    is_dialog_open: boolean;\n    file_name: string;\n    has_undo_stack: boolean;\n    has_redo_stack: boolean;\n    is_reset_button_clicked: boolean;\n    onResetClick: () => void;\n    closeResetDialog: () => void;\n    onResetOkButtonClick: () => void;\n    onSortClick: () => void;\n    onUndoClick: (is_redo: boolean) => void;\n    onZoomInOutClick: (is_zoom_in: boolean) => void;\n    resetDefaultStrategy: () => void;\n    setHasUndoStack: () => void;\n    setHasRedoStack: () => void;\n}\n\nexport default class ToolbarStore implements IToolbarStore {\n    root_store: RootStore;\n\n    constructor(root_store: RootStore) {\n        makeObservable(this, {\n            is_animation_info_modal_open: observable,\n            is_dialog_open: observable,\n            file_name: observable,\n            has_undo_stack: observable,\n            has_redo_stack: observable,\n            is_reset_button_clicked: observable,\n            onResetClick: action.bound,\n            closeResetDialog: action.bound,\n            onResetOkButtonClick: action.bound,\n            onUndoClick: action.bound,\n            resetDefaultStrategy: action.bound,\n            setHasUndoStack: action.bound,\n            setHasRedoStack: action.bound,\n        });\n\n        this.root_store = root_store;\n    }\n\n    is_animation_info_modal_open = false;\n    is_dialog_open = false;\n    file_name = config().default_file_name;\n    has_undo_stack = false;\n    has_redo_stack = false;\n    is_reset_button_clicked = false;\n\n    setResetButtonState = (is_reset_button_clicked: boolean): void => {\n        this.is_reset_button_clicked = is_reset_button_clicked;\n    };\n\n    onResetClick = (): void => {\n        this.is_dialog_open = true;\n    };\n\n    closeResetDialog = (): void => {\n        this.is_dialog_open = false;\n    };\n\n    onResetOkButtonClick = (): void => {\n        this.setResetButtonState(true);\n        runGroupedEvents(\n            false,\n            () => {\n                this.resetDefaultStrategy();\n            },\n            'reset'\n        );\n        this.is_dialog_open = false;\n    };\n\n    resetDefaultStrategy = async () => {\n        const workspace = window.Blockly.derivWorkspace;\n        workspace.current_strategy_id = window?.Blockly?.utils?.idGenerator?.genUid();\n        await load({\n            block_string: workspace.cached_xml.main,\n            file_name: config().default_file_name,\n            workspace,\n            drop_event: null,\n            strategy_id: null,\n            from: null,\n            showIncompatibleStrategyDialog: null,\n        });\n        workspace.strategy_to_load = workspace.cached_xml.main;\n        this.setResetButtonState(false);\n    };\n\n    onSortClick = () => {\n        const {\n            workspaces: {\n                indentWorkspace: { x, y },\n            },\n        } = config();\n        window.Blockly.derivWorkspace.cleanUp(x, y);\n    };\n\n    onUndoClick = (is_redo: boolean): void => {\n        window.Blockly.Events.setGroup('undo_clicked');\n        window.Blockly.derivWorkspace.undo(is_redo);\n        window.Blockly.svgResize(window.Blockly.derivWorkspace); // Called for CommentDelete event.\n        this.setHasRedoStack();\n        this.setHasUndoStack();\n        window.Blockly.Events.setGroup(false);\n    };\n\n    onZoomInOutClick = (is_zoom_in: boolean): void => {\n        const workspace = window.Blockly.derivWorkspace;\n        const metrics = workspace.getMetrics();\n        const addition = is_zoom_in ? 1 : -1;\n\n        workspace.zoom(metrics.viewWidth / 2, metrics.viewHeight / 2, addition);\n    };\n\n    setHasUndoStack = (): void => {\n        this.has_undo_stack = window.Blockly.derivWorkspace?.undoStack_?.length > 0;\n    };\n\n    setHasRedoStack = (): void => {\n        this.has_redo_stack = window.Blockly.derivWorkspace?.redoStack_?.length > 0;\n    };\n}\n",
            "size_bytes": 4034
        },
        "src/components/shared_ui/modal/modal-body.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\n\ntype TBody = {\n    className: string;\n};\n\nconst Body = ({ children, className }: React.PropsWithChildren<Partial<TBody>>) => (\n    <div className={classNames('dc-modal-body', className)}>{children}</div>\n);\n\nexport default Body;\n",
            "size_bytes": 294
        },
        "src/components/contract-result-overlay/contract-result-overlay.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport Text from '@/components/shared_ui/text';\nimport {\n    LabelPairedCircleCheckMdRegularIcon,\n    LabelPairedCircleXmarkMdRegularIcon,\n} from '@deriv/quill-icons/LabelPaired';\nimport { Localize } from '@deriv-com/translations';\n\ntype TContractResultOverlayProps = {\n    profit: number;\n};\n\nconst ContractResultOverlay = ({ profit }: TContractResultOverlayProps) => {\n    const has_won_contract = profit >= 0;\n\n    return (\n        <div\n            className={classNames('db-contract-card__result', {\n                'db-contract-card__result--won': has_won_contract,\n                'db-contract-card__result--lost': !has_won_contract,\n            })}\n        >\n            <Text weight='bold' className='db-contract-card__result-caption'>\n                {has_won_contract ? (\n                    <React.Fragment>\n                        <Localize i18n_default_text='Won' />\n                        <LabelPairedCircleCheckMdRegularIcon className='db-contract-card__result-icon' color='green' />\n                    </React.Fragment>\n                ) : (\n                    <React.Fragment>\n                        <Localize i18n_default_text='Lost' />\n                        <LabelPairedCircleXmarkMdRegularIcon className='db-contract-card__result-icon' color='red' />\n                    </React.Fragment>\n                )}\n            </Text>\n        </div>\n    );\n};\n\nexport default ContractResultOverlay;\n",
            "size_bytes": 1482
        },
        "src/components/unhandled-error-modal/index.ts": {
            "content": "import UnhandledErrorModal from './unhandled-error-modal';\nimport './unhandled-error-modal.scss';\n\nexport default UnhandledErrorModal;\n",
            "size_bytes": 135
        },
        "src/utils/help-content/help-strings/trade_again.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize(\n            'This block will transfer the control back to the Purchase conditions block, enabling you to purchase another contract without manually stopping and restarting your bot.'\n        ),\n        localize('Example:'),\n    ],\n};\n",
            "size_bytes": 340
        },
        "src/pages/bot-builder/quick-strategy/form-wrappers/mobile-form-wrapper.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { useFormikContext } from 'formik';\nimport { observer } from 'mobx-react-lite';\nimport Text from '@/components/shared_ui/text';\nimport ThemedScrollbars from '@/components/shared_ui/themed-scrollbars';\nimport { useStore } from '@/hooks/useStore';\nimport { localize } from '@deriv-com/translations';\nimport { STRATEGIES } from '../config';\nimport { TFormValues } from '../types';\nimport QSStepper from './qs-stepper';\nimport StrategyTabContent from './strategy-tab-content';\nimport StrategyTemplatePicker from './strategy-template-picker';\nimport { QsSteps } from './trade-constants';\n\ntype TMobileFormWrapper = {\n    children: React.ReactNode;\n    selected_trade_type: string;\n    setSelectedTradeType: (selected_trade_type: string) => void;\n    current_step: QsSteps;\n    setCurrentStep: (current_step: QsSteps) => void;\n};\n\nconst MobileFormWrapper = observer(\n    ({ children, current_step, selected_trade_type, setCurrentStep, setSelectedTradeType }: TMobileFormWrapper) => {\n        const { isValid, validateForm } = useFormikContext<TFormValues>();\n        const { quick_strategy } = useStore();\n        const { selected_strategy } = quick_strategy;\n        const selected_startegy_label = STRATEGIES()[selected_strategy as keyof typeof STRATEGIES].label;\n        const is_verified_or_completed_step =\n            current_step === QsSteps.StrategyVerified || current_step === QsSteps.StrategyCompleted;\n        const is_selected_strategy_step = current_step === QsSteps.StrategySelect;\n\n        React.useEffect(() => {\n            validateForm();\n        }, [selected_strategy, validateForm]);\n\n        React.useEffect(() => {\n            if (isValid && current_step === QsSteps.StrategyVerified) {\n                setCurrentStep(QsSteps.StrategyCompleted);\n            }\n            if (!isValid && current_step === QsSteps.StrategyCompleted) {\n                setCurrentStep(QsSteps.StrategyVerified);\n            }\n        }, [isValid, current_step]);\n\n        return (\n            <div className='qs'>\n                <div className='qs__body'>\n                    <div className='qs__body__content'>\n                        <ThemedScrollbars\n                            className={classNames('qs__form__container qs__form__container--footer', {\n                                'qs__form__container--template': is_selected_strategy_step,\n                            })}\n                            autohide={false}\n                        >\n                            <QSStepper\n                                setCurrentStep={setCurrentStep}\n                                current_step={current_step}\n                                isValid={isValid}\n                                is_mobile\n                            />\n                            {is_selected_strategy_step && (\n                                <StrategyTemplatePicker\n                                    setSelectedTradeType={setSelectedTradeType}\n                                    setCurrentStep={setCurrentStep}\n                                />\n                            )}\n                            {is_verified_or_completed_step && (\n                                <>\n                                    <div className='qs__selected-options'>\n                                        <div className='qs__selected-options__item'>\n                                            <Text size='xs'>{localize('Trade type')}</Text>\n                                            <Text size='xs' weight='bold'>\n                                                {selected_trade_type}\n                                            </Text>\n                                        </div>\n                                        <div className='qs__selected-options__item'>\n                                            <Text size='xs'>{localize('Strategy')}</Text>\n                                            <Text\n                                                className='qs__selected-options__item__description'\n                                                size='xs'\n                                                weight='bold'\n                                            >\n                                                {selected_startegy_label}\n                                            </Text>\n                                        </div>\n                                    </div>\n                                    <StrategyTabContent formfields={children} active_tab={'TRADE_PARAMETERS'} />\n                                </>\n                            )}\n                        </ThemedScrollbars>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n);\n\nexport default MobileFormWrapper;\n",
            "size_bytes": 4786
        },
        "src/pages/tutorials/dbot-tours/common/react-joyride-wrapper.tsx": {
            "content": "import React from 'react';\nimport ReactJoyride, { CallBackProps, Step, Styles } from 'react-joyride';\nimport { localize } from '@deriv-com/translations';\n\nconst common_tour_button_properties = {\n    fontWeight: '700',\n    fontSize: '1.4rem',\n    height: '4rem',\n    padding: '1rem 1.6rem',\n};\n\ninterface IReactJoyrideWrapperProps {\n    steps: Step[];\n    styles: Styles;\n    handleCallback: (data: CallBackProps) => void;\n}\n\nconst ReactJoyrideWrapper: React.FC<IReactJoyrideWrapperProps> = ({ steps, styles, handleCallback, ...props }) => {\n    return (\n        <ReactJoyride\n            steps={steps}\n            continuous\n            callback={handleCallback}\n            locale={{ back: localize('Previous'), next: localize('Next') }}\n            {...props}\n            styles={{\n                options: {\n                    arrowColor: 'var(--general-main-2)',\n                    backgroundColor: 'var(--general-main-2)',\n                    primaryColor: 'var(--brand-red-coral)',\n                    textColor: 'var(--text-general)',\n                    spotlightShadow: '0 0 15px rgba(0, 0, 0, 0.5)',\n                    width: 440,\n                },\n                buttonBack: {\n                    border: '0.2rem solid var(--text-less-prominent)',\n                    marginInlineEnd: '1rem',\n                    borderRadius: '0.4rem',\n                    color: 'var(--text-general)',\n                    ...common_tour_button_properties,\n                },\n                buttonNext: {\n                    ...common_tour_button_properties,\n                },\n                buttonClose: {\n                    insetInlineEnd: '0px',\n                    right: 'unset',\n                },\n                overlay: {\n                    height: '100%',\n                },\n                ...styles,\n            }}\n        />\n    );\n};\n\nexport default ReactJoyrideWrapper;\n",
            "size_bytes": 1890
        },
        "analysis-tool/Benanalysistool-final-main/components/charts/confidence-gauge.tsx": {
            "content": "\"use client\"\n\nimport { motion } from \"framer-motion\"\n\ninterface ConfidenceGaugeProps {\n  confidence: number\n  label?: string\n}\n\nexport function ConfidenceGauge({ confidence, label = \"Confidence\" }: ConfidenceGaugeProps) {\n  const clampedConfidence = Math.max(0, Math.min(100, confidence))\n  const rotation = (clampedConfidence / 100) * 180 - 90\n\n  const getColor = () => {\n    if (clampedConfidence >= 70) return \"hsl(var(--success))\"\n    if (clampedConfidence >= 50) return \"hsl(var(--chart-5))\"\n    return \"hsl(var(--destructive))\"\n  }\n\n  return (\n    <div className=\"flex flex-col items-center gap-4\">\n      <div className=\"relative w-48 h-24\">\n        {/* Gauge background */}\n        <svg className=\"w-full h-full\" viewBox=\"0 0 200 100\">\n          <path\n            d=\"M 20 90 A 80 80 0 0 1 180 90\"\n            fill=\"none\"\n            stroke=\"hsl(var(--muted))\"\n            strokeWidth=\"12\"\n            strokeLinecap=\"round\"\n          />\n          <motion.path\n            d=\"M 20 90 A 80 80 0 0 1 180 90\"\n            fill=\"none\"\n            stroke={getColor()}\n            strokeWidth=\"12\"\n            strokeLinecap=\"round\"\n            strokeDasharray=\"251.2\"\n            initial={{ strokeDashoffset: 251.2 }}\n            animate={{ strokeDashoffset: 251.2 - (251.2 * clampedConfidence) / 100 }}\n            transition={{ duration: 1, ease: \"easeOut\" }}\n          />\n          {/* Needle */}\n          <motion.line\n            x1=\"100\"\n            y1=\"90\"\n            x2=\"100\"\n            y2=\"30\"\n            stroke=\"hsl(var(--foreground))\"\n            strokeWidth=\"3\"\n            strokeLinecap=\"round\"\n            initial={{ rotate: -90 }}\n            animate={{ rotate: rotation }}\n            transition={{ duration: 1, ease: \"easeOut\" }}\n            style={{ transformOrigin: \"100px 90px\" }}\n          />\n          <circle cx=\"100\" cy=\"90\" r=\"6\" fill=\"hsl(var(--foreground))\" />\n        </svg>\n      </div>\n      <div className=\"text-center\">\n        <div className=\"text-3xl font-bold text-foreground\">{clampedConfidence.toFixed(1)}%</div>\n        <div className=\"text-sm text-muted-foreground\">{label}</div>\n      </div>\n    </div>\n  )\n}\n",
            "size_bytes": 2150
        },
        "src/stores/flyout-help-store.ts": {
            "content": "import { action, makeObservable, observable, runInAction } from 'mobx';\nimport { help_content_config } from '@/utils/help-content/help-content.config';\nimport * as help_strings from '@/utils/help-content/help-strings';\nimport RootStore from './root-store';\n\nexport default class FlyoutHelpStore {\n    root_store: RootStore;\n\n    constructor(root_store: RootStore) {\n        makeObservable(this, {\n            block_node: observable,\n            block_type: observable,\n            examples: observable,\n            help_string: observable,\n            title: observable,\n            should_next_disable: observable,\n            should_previous_disable: observable,\n            active_helper: observable,\n            setHelpContent: action.bound,\n            setActiveHelper: action.bound,\n            onBackClick: action.bound,\n            onSequenceClick: action.bound,\n            initFlyoutHelp: action.bound,\n            updateSequenceButtons: action.bound,\n            setExamples: action.bound,\n            getHelpContent: action.bound,\n            getFilledBlocksIndex: action.bound,\n            getNextHelpContentIndex: action.bound,\n        });\n\n        this.root_store = root_store;\n    }\n\n    block_node = null;\n    block_type = '';\n    examples = [];\n    help_string: Record<string, React.ReactNode[]> = {};\n    title = '';\n    should_next_disable = false;\n    should_previous_disable = false;\n    active_helper = '';\n\n    setHelpContent = async block_node => {\n        const block_type: keyof typeof help_strings | '' = block_node.getAttribute('type');\n        const title = window.Blockly.Blocks[block_type].meta().display_name;\n        if (block_type !== '') {\n            this.active_helper = block_type;\n        }\n\n        const { flyout } = this.root_store;\n        this.setExamples(block_type);\n        const example_blocks = this.examples.map(example => example.childNodes[0]);\n        setTimeout(() => flyout.setFlyoutWidth([block_node, ...example_blocks]), 50);\n\n        runInAction(() => {\n            flyout.is_help_content = true;\n            this.block_node = block_node;\n            this.block_type = block_type;\n            this.title = title;\n\n            if (block_type !== '') {\n                for (const [key, value] of Object.entries(help_strings[block_type])) {\n                    this.help_string[key] = value();\n                }\n            }\n        });\n\n        if (!flyout.is_search_flyout) {\n            this.updateSequenceButtons();\n        }\n    };\n\n    getHelpContent = async block_node => {\n        let block_content;\n\n        if (block_node) {\n            const target_blocks = this.xml_list_group[block_node];\n            const block_type = target_blocks[0].getAttribute('type');\n            block_content = help_strings[block_type];\n        }\n        return block_content;\n    };\n\n    getFilledBlocksIndex = async blocks_type => {\n        const blocks_content = await Promise.all(blocks_type.map(block => this.getHelpContent(block)));\n        return blocks_content.map((key, index) => (key ? index : null)).filter(value => value !== null);\n    };\n\n    getNextHelpContentIndex = async is_last => {\n        const filled_blocks_index = await this.getFilledBlocksIndex(Object.keys(this.xml_list_group));\n        return is_last ? filled_blocks_index[filled_blocks_index.length - 1] : filled_blocks_index[0];\n    };\n\n    setActiveHelper(active_helper) {\n        this.active_helper = active_helper;\n    }\n\n    onBackClick() {\n        const { toolbox, flyout } = this.root_store;\n\n        if (flyout.is_search_flyout) {\n            const search = document.getElementsByName('search')[0].value;\n            toolbox.onSearch({ search });\n        } else {\n            flyout.refreshCategory();\n        }\n    }\n\n    async onSequenceClick(should_go_next) {\n        const current_block = Array.from(this.xml_list).find(xml => xml.getAttribute('type') === this.block_type);\n\n        let current_block_index;\n\n        Object.keys(this.xml_list_group).forEach((key, index) => {\n            if (current_block.getAttribute('type') === key) {\n                current_block_index = index;\n            }\n        });\n\n        const getNextBlock = async (xml, current_index, is_next) => {\n            const next_index = current_index + (is_next ? 1 : -1);\n            const next_blocks_type = Object.keys(xml).filter((key, index) =>\n                is_next ? next_index <= index : next_index >= index\n            );\n            const next_filled_block = await this.getFilledBlocksIndex(next_blocks_type);\n\n            const next_filled_block_index = is_next\n                ? next_filled_block[0]\n                : next_filled_block[next_filled_block.length - 1];\n            const next_block_type = next_blocks_type[next_filled_block_index];\n\n            if (!next_block_type) {\n                return false;\n            }\n\n            try {\n                await import(/* webpackChunkName: `[request]` */ '@/external/bot-skeleton');\n                return next_block_type;\n            } catch (e) {\n                return getNextBlock(xml, next_index, is_next);\n            }\n        };\n\n        const block_type = await getNextBlock(this.xml_list_group, current_block_index, should_go_next);\n        if (block_type) {\n            const target_blocks = this.xml_list_group[block_type];\n            this.setHelpContent(target_blocks[0]);\n        }\n    }\n\n    initFlyoutHelp(block_node) {\n        const { flyout, toolbox } = this.root_store;\n        this.xml_list = toolbox.getCategoryContents(flyout.selected_category);\n        this.xml_list_group = this.groupBy(this.xml_list, true);\n\n        this.setHelpContent(block_node);\n    }\n\n    async updateSequenceButtons() {\n        const current_block = Array.from(this.xml_list).find(xml => xml.getAttribute('type') === this.block_type);\n        const current_index = Object.keys(this.xml_list_group).findIndex(\n            key => current_block.getAttribute('type') === key\n        );\n\n        const last_filled_content_index = await this.getNextHelpContentIndex(true);\n        const first_filled_content_index = await this.getNextHelpContentIndex(false);\n\n        runInAction(() => {\n            this.should_previous_disable = current_index === 0 || current_index === first_filled_content_index;\n            this.should_next_disable =\n                current_index === Object.keys(this.xml_list_group).length - 1 ||\n                current_index === last_filled_content_index;\n        });\n    }\n\n    // eslint-disable-next-line\n    groupBy(nodes, should_include_block_only = false) {\n        return Array.from(nodes).reduce((block_group, node) => {\n            const type = node.getAttribute('type');\n\n            if (should_include_block_only && type === null) {\n                return block_group;\n            }\n\n            if (!block_group[type]) {\n                block_group[type] = [];\n            }\n\n            if (!should_include_block_only || (should_include_block_only && type !== null)) {\n                block_group[type].push(node);\n            }\n\n            return block_group;\n        }, {});\n    }\n\n    setExamples(block_type) {\n        const { toolbox } = this.root_store;\n        const all_examples = [...toolbox.toolbox_examples.childNodes];\n        const help_content = help_content_config(window.__webpack_public_path__)[block_type];\n        const examples_ids = help_content.filter(el => el.type === 'example').map(example => example.example_id);\n        const examples = examples_ids.map(id => all_examples.find(example => example.id === id));\n\n        this.examples = examples;\n    }\n}\n",
            "size_bytes": 7589
        },
        "src/utils/help-content/help-strings/sell_price.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize(\n            'This block gives you the potential profit or loss if you decide to sell your contract. It can only be used within the \"Sell conditions\" root block.'\n        ),\n        localize(\n            'In the example below, the contract will only be sold if the potential profit or loss is more than the stake.'\n        ),\n    ],\n};\n",
            "size_bytes": 441
        },
        "src/components/shared_ui/types/icons.types.ts": {
            "content": "import { MouseEventHandler } from 'react';\nimport { TGenericObjectType } from './common.types';\n\nexport type TIconsManifest = Readonly<{\n    // If a new icon category is added, be sure to add it here as well. This is part of the fix for ts(7053)\n    brand: string;\n    cashier: string;\n    common: string;\n    contract: string;\n    currency: string;\n    dxtrade: string;\n    flag: string;\n    mt5: string;\n    option: string;\n    stock: string;\n    tradetype: string;\n    underlying: string;\n    wallet: string;\n}>;\n\nexport type TIconProps = {\n    className?: string | TGenericObjectType;\n    color?: string;\n    custom_color?: string;\n    data_testid?: string;\n    height?: number | string;\n    icon: string;\n    onClick?: MouseEventHandler;\n    onMouseDown?: () => void;\n    onMouseEnter?: () => void;\n    onMouseLeave?: () => void;\n    onTouchStart?: () => void;\n    size?: number | string;\n    width?: number | string;\n    id?: string;\n    description?: string;\n};\n",
            "size_bytes": 969
        },
        "src/components/shared/utils/date/date-time.ts": {
            "content": "import moment from 'moment';\nimport { getInitialLanguage, localize } from '@deriv-com/translations';\n\ntype TExtendedMoment = typeof moment & {\n    createFromInputFallback: (config: { _d: Date }) => void;\n};\n\n// Disables moment's fallback to native Date object\n// moment will return `Invalid Date` if date cannot be parsed\n(moment as TExtendedMoment).createFromInputFallback = function (config) {\n    config._d = new Date(NaN); // eslint-disable-line no-underscore-dangle\n};\n\n// Localize moment instance with specific object\nexport const initMoment = (lang: string) => {\n    const hasEnMomentLocale = ['EN', 'AR', 'BN', 'SI']; // 'AR', 'BN' & 'SI' langs have non-numeric dates ('--'), our current usage of moment requires us to make all dates numeric\n    if (!lang) return moment;\n    let locale = lang.toLowerCase().replace('_', '-');\n    if (hasEnMomentLocale.includes(lang)) locale = 'en-gb';\n    // TODO: Fix\n    return import(`moment/locale/${locale}`).then(() => moment.locale(locale)).catch(() => moment);\n};\n\n/**\n * Convert epoch to moment object\n * @param  {Number} epoch\n * @return {moment} the moment object of provided epoch\n */\nexport const epochToMoment = (epoch: number) => moment.unix(epoch).utc();\n\n/**\n * Convert date string or epoch to moment object\n * @param  {Number} value   the date in epoch format\n * @param  {String} value   the date in string format\n * @return {moment} the moment object of 'now' or the provided date epoch or string\n */\nexport const toMoment = (value?: moment.MomentInput): moment.Moment => {\n    if (!value) return moment().utc(); // returns 'now' moment object\n    if (value instanceof moment && (value as moment.Moment).isValid() && (value as moment.Moment).isUTC())\n        return value as moment.Moment; // returns if already a moment object\n    if (typeof value === 'number') return epochToMoment(value); // returns epochToMoment() if not a date\n\n    if (/invalid/i.test(moment(value).toString())) {\n        const today_moment = moment();\n        const days_in_month = today_moment.utc().daysInMonth();\n        const value_as_number = moment.utc(value, 'DD MMM YYYY').valueOf() / (1000 * 60 * 60 * 24);\n        return value_as_number > days_in_month\n            ? moment.utc(today_moment.add(value as string | number, 'd'), 'DD MMM YYYY')\n            : moment.utc(value, 'DD MMM YYYY'); // returns target date\n    }\n    return moment.utc(value);\n};\n\nexport const toLocalFormat = (time: moment.MomentInput) => moment.utc(time).local().format('YYYY-MM-DD HH:mm:ss Z');\nexport const getLongDate = (time: number): string => {\n    moment.locale(getInitialLanguage().toLowerCase());\n    //need to divide to 1000 as timestamp coming from BE is in ms\n    return moment.unix(time / 1000).format('MMMM Do, YYYY');\n};\n\n/**\n * Set specified time on moment object\n * @param  {moment} moment_obj  the moment to set the time on\n * @param  {String} time        24 hours format, may or may not include seconds\n * @return {moment} a new moment object of result\n */\nexport const setTime = (moment_obj: moment.Moment, time: string | null) => {\n    const [hour, minute, second] = time ? time.split(':') : [0, 0, 0];\n    moment_obj\n        .hour(+hour)\n        .minute(+minute || 0)\n        .second(+second || 0);\n    return moment_obj;\n};\n\n/**\n * return the unix value of provided epoch and time\n * @param  {Number} epoch  the date to update with provided time\n * @param  {String} time   the time to set on the date\n * @return {Number} unix value of the result\n */\nexport const convertToUnix = (epoch: number | string, time: string) => setTime(toMoment(epoch), time).unix();\n\nexport const toGMTFormat = (time?: moment.MomentInput) =>\n    moment(time || undefined)\n        .utc()\n        .format('YYYY-MM-DD HH:mm:ss [GMT]');\n\nexport const formatDate = (date?: moment.MomentInput, date_format = 'YYYY-MM-DD', should_format_null = true) =>\n    !should_format_null && date === null ? undefined : toMoment(date).format(date_format);\n\nexport const formatTime = (epoch: number | string, time_format = 'HH:mm:ss [GMT]') =>\n    toMoment(epoch).format(time_format);\n\n/**\n * return the number of days from today to date specified\n * @param  {String} date   the date to calculate number of days from today\n * @return {Number} an integer of the number of days\n */\nexport const daysFromTodayTo = (date?: string | moment.Moment) => {\n    const diff = toMoment(date).startOf('day').diff(toMoment().startOf('day'), 'days');\n    return !date || diff < 0 ? '' : diff;\n};\n\n/**\n * return the number of days since the date specified\n * @param  {String} date   the date to calculate number of days since\n * @return {Number} an integer of the number of days\n */\nexport const daysSince = (date: string) => {\n    const diff = toMoment().startOf('day').diff(toMoment(date).startOf('day'), 'days');\n    return !date ? '' : diff;\n};\n\n/**\n * return the number of months between two specified dates\n */\nexport const diffInMonths = (now: moment.MomentInput, then: moment.Moment) => then.diff(now, 'month');\n/**\n * return moment duration between two dates\n * @param  {Number} epoch start time\n * @param  {Number} epoch end time\n * @return {moment.duration} moment duration between start time and end time\n */\nexport const getDiffDuration = (start_time: number, end_time: number) =>\n    moment.duration(moment.unix(end_time).diff(moment.unix(start_time)));\n\n/** returns the DD MM YYYY format */\nexport const getDateFromNow = (\n    days: string | number,\n    unit?: moment.unitOfTime.DurationConstructor,\n    format?: string\n) => {\n    const date = moment(new Date());\n    return date.add(days, unit).format(format);\n};\n\n/**\n * return formatted duration `2 days 01:23:59`\n * @param  {moment.duration} moment duration object\n * @return {String} formatted display string\n */\nexport const formatDuration = (duration: moment.Duration, format?: string) => {\n    const d = Math.floor(duration.asDays()); // duration.days() does not include months/years\n    const h = duration.hours();\n    const m = duration.minutes();\n    const s = duration.seconds();\n    const formatted_str = moment(0)\n        .hour(h)\n        .minute(m)\n        .seconds(s)\n        .format(format || 'HH:mm:ss');\n\n    return {\n        days: d,\n        timestamp: formatted_str,\n    };\n};\n\n/**\n * return true if the time_str is in \"HH:MM\" format, else return false\n * @param {String} time_str time\n */\nexport const isTimeValid = (time_str: string) =>\n    /^([0-9]|[0-1][0-9]|2[0-3]):([0-9]|[0-5][0-9])(:([0-9]|[0-5][0-9]))?$/.test(time_str);\n\n/**\n * return true if the time_str's hour is between 0 and 23, else return false\n * @param {String} time_str time\n */\nexport const isHourValid = (time_str: string) =>\n    isTimeValid(time_str) && /^([01][0-9]|2[0-3])$/.test(time_str.split(':')[0]);\n\n/**\n * return true if the time_str's minute is between 0 and 59, else return false\n * @param {String} time_str time\n */\nexport const isMinuteValid = (time_str: string) => isTimeValid(time_str) && /^[0-5][0-9]$/.test(time_str.split(':')[1]);\n\n/**\n * return true if the date is typeof string and a valid moment date, else return false\n * @param {String|moment} date date\n */\nexport const isDateValid = (date: moment.MomentInput) => moment(date, 'DD MMM YYYY').isValid();\n\n/**\n * add the specified number of days to the given date\n * @param {String} date        date\n * @param {Number} num_of_days number of days to add\n */\nexport const addDays = (date: string | moment.Moment, num_of_days: number) =>\n    toMoment(date).clone().add(num_of_days, 'day');\n\n/**\n * add the specified number of weeks to the given date\n * @param {String} date        date\n * @param {Number} num_of_weeks number of days to add\n */\nexport const addWeeks = (date: string, num_of_weeks: number) => toMoment(date).clone().add(num_of_weeks, 'week');\n\n/**\n * add the specified number of months to the given date\n * @param {String} date        date\n * @param {Number} num_of_months number of months to add\n */\nexport const addMonths = (date: moment.MomentInput, num_of_months: number) =>\n    toMoment(date).clone().add(num_of_months, 'month');\n\n/**\n * add the specified number of years to the given date\n * @param {String} date        date\n * @param {Number} num_of_years number of years to add\n */\nexport const addYears = (date: moment.MomentInput, num_of_years: number) =>\n    toMoment(date).clone().add(num_of_years, 'year');\n\n/**\n * subtract the specified number of days from the given date\n * @param {String} date        date\n * @param {Number} num_of_days number of days to subtract\n */\nexport const subDays = (date: moment.MomentInput, num_of_days: number) =>\n    toMoment(date).clone().subtract(num_of_days, 'day');\n\n/**\n * subtract the specified number of months from the given date\n * @param {String} date        date\n * @param {Number} num_of_months number of months to subtract\n */\nexport const subMonths = (date: moment.MomentInput, num_of_months: number) =>\n    toMoment(date).clone().subtract(num_of_months, 'month');\n\n/**\n * subtract the specified number of years from the given date\n * @param {String} date        date\n * @param {Number} num_of_years number of years to subtract\n */\nexport const subYears = (date: moment.MomentInput, num_of_years: number) =>\n    toMoment(date).clone().subtract(num_of_years, 'year');\n\n/**\n * returns the minimum moment between the two passing parameters\n * @param {moment|string|epoch} first datetime parameter\n * @param {moment|string|epoch} second datetime parameter\n */\nexport const minDate = (date_1: moment.MomentInput, date_2: moment.MomentInput) =>\n    moment.min(toMoment(date_1), toMoment(date_2));\n\n/**\n * returns a new date\n * @param {moment|string|epoch} date date\n */\nexport const getStartOfMonth = (date: moment.MomentInput) =>\n    toMoment(date).clone().startOf('month').format('YYYY-MM-DD');\n\n/**\n * returns miliseconds into UTC formatted string\n * @param {Number} miliseconds miliseconds\n * @param {String} str_format formatting using moment e.g - YYYY-MM-DD HH:mm\n */\nexport const formatMilliseconds = (miliseconds: moment.MomentInput, str_format: string, is_local_time = false) => {\n    if (is_local_time) {\n        return moment(miliseconds).format(str_format);\n    }\n    return moment.utc(miliseconds).format(str_format);\n};\n\n/**\n * returns a new date string\n * @param {moment|string|epoch} date parameter\n * @param {String} from_date_format initial date format\n * @param {String} to_date_format to date format\n */\nexport const convertDateFormat = (date: moment.MomentInput, from_date_format: string, to_date_format: string) =>\n    moment(date, from_date_format).format(to_date_format);\n\n/**\n *  Convert 24 hours format time to 12 hours formatted time.\n * @param  {String} time 24 hours format, may or may not include seconds\n * @return {String} equivalent 12-hour time\n */\nexport const convertTimeFormat = (time: string) => {\n    const time_moment_obj = moment(time, 'HH:mm');\n    const time_hour = time_moment_obj.format('HH');\n    const time_min = time_moment_obj.format('mm');\n    const formatted_time = `${Number(time_hour) % 12 || 12}:${time_min}`;\n    const time_suffix = `${Number(time_hour) >= 12 ? 'pm' : 'am'}`;\n    return `${formatted_time} ${time_suffix}`;\n};\n\n/**\n *  Get a formatted time since a timestamp.\n * @param  {Number} timestamp in ms\n * @return {String} '10s ago', or '1m ago', or '1h ago', or '1d ago'\n */\nexport const getTimeSince = (timestamp: number) => {\n    if (!timestamp) return '';\n    const seconds_passed = Math.floor((Date.now() - timestamp) / 1000);\n\n    if (seconds_passed < 60) {\n        return localize('{{seconds_passed}}s ago', { seconds_passed });\n    }\n    if (seconds_passed < 3600) {\n        return localize('{{minutes_passed}}m ago', { minutes_passed: Math.floor(seconds_passed / 60) });\n    }\n    if (seconds_passed < 86400) {\n        return localize('{{hours_passed}}h ago', { hours_passed: Math.floor(seconds_passed / 3600) });\n    }\n    return localize('{{days_passed}}d ago', { days_passed: Math.floor(seconds_passed / (3600 * 24)) });\n};\n",
            "size_bytes": 12005
        },
        "src/pages/dashboard/bot-list/recent-workspace.tsx": {
            "content": "import React from 'react';\nimport classnames from 'classnames';\nimport { observer } from 'mobx-react-lite';\nimport { getRecentFileIcon } from '@/components/load-modal/recent-workspace';\nimport Popover from '@/components/shared_ui/popover';\nimport Text from '@/components/shared_ui/text';\nimport { DBOT_TABS } from '@/constants/bot-contents';\nimport { timeSince } from '@/external/bot-skeleton';\nimport { useComponentVisibility } from '@/hooks/useComponentVisibility';\nimport { useStore } from '@/hooks/useStore';\nimport {\n    LabelPairedPageCircleArrowRightSmRegularIcon,\n    LabelPairedTrashSmRegularIcon,\n} from '@deriv/quill-icons/LabelPaired';\nimport { LegacyMenuDots1pxIcon, LegacySave1pxIcon } from '@deriv/quill-icons/Legacy';\nimport { Localize } from '@deriv-com/translations';\nimport { useDevice } from '@deriv-com/ui';\nimport { rudderStackSendDashboardClickEvent } from '../../../analytics/rudderstack-dashboard';\nimport { STRATEGY } from '../../../constants/dashboard';\nimport './index.scss';\n\nexport const CONTEXT_MENU = [\n    {\n        type: STRATEGY.OPEN,\n        icon: <LabelPairedPageCircleArrowRightSmRegularIcon fill='var(--text-general)' />,\n        label: <Localize i18n_default_text='Open' />,\n    },\n    {\n        type: STRATEGY.SAVE,\n        icon: (\n            <LegacySave1pxIcon\n                fill='var(--text-general)'\n                className='icon-general-fill-path'\n                iconSize='xs'\n                path=''\n                opacity={0.8}\n            />\n        ),\n        label: <Localize i18n_default_text='Save' />,\n    },\n    {\n        type: STRATEGY.DELETE,\n        icon: <LabelPairedTrashSmRegularIcon fill='var(--text-general)' />,\n        label: <Localize i18n_default_text='Delete' />,\n    },\n];\n\ntype TRecentWorkspace = {\n    index: number;\n    workspace: { [key: string]: string };\n    updateBotName: (name: string) => void;\n};\n\nconst RecentWorkspace = observer(({ workspace, index }: TRecentWorkspace) => {\n    const { dashboard, load_modal, save_modal } = useStore();\n    const { setActiveTab } = dashboard;\n    const { toggleSaveModal, updateBotName } = save_modal;\n    const {\n        dashboard_strategies = [],\n        getSaveType,\n        getSelectedStrategyID,\n        loadFileFromRecent,\n        onToggleDeleteDialog,\n        previewed_strategy_id,\n        selected_strategy_id,\n        setSelectedStrategyId,\n    } = load_modal;\n\n    const trigger_div_ref = React.useRef<HTMLInputElement | null>(null);\n    const toggle_ref = React.useRef<HTMLButtonElement>(null);\n    const is_div_triggered_once = React.useRef<boolean>(false);\n    const visible = useComponentVisibility(toggle_ref);\n    const { setDropdownVisibility, is_dropdown_visible } = visible;\n    const { isDesktop } = useDevice();\n\n    React.useEffect(() => {\n        let timer: ReturnType<typeof setTimeout>;\n\n        const select_first_strategy = dashboard_strategies?.length && index === 0 && !is_div_triggered_once.current;\n\n        if (select_first_strategy) {\n            timer = setTimeout(() => {\n                is_div_triggered_once.current = true;\n                trigger_div_ref?.current?.click();\n            }, 50);\n        }\n        return () => {\n            if (timer) clearTimeout(timer);\n        };\n    }, [dashboard_strategies, index]);\n\n    const onToggleDropdown = (e: React.MouseEvent<HTMLElement>) => {\n        e.stopPropagation();\n        setDropdownVisibility(!is_dropdown_visible);\n        setSelectedStrategyId(workspace.id);\n    };\n\n    const handleOpen = async () => {\n        await loadFileFromRecent();\n        setActiveTab(DBOT_TABS.BOT_BUILDER);\n        rudderStackSendDashboardClickEvent({ dashboard_click_name: 'open', subpage_name: 'bot_builder' });\n    };\n\n    const handleSave = () => {\n        updateBotName(workspace?.name);\n        toggleSaveModal();\n        rudderStackSendDashboardClickEvent({ dashboard_click_name: 'save', subpage_name: 'dashboard' });\n    };\n\n    const viewRecentStrategy = async (type: string) => {\n        setSelectedStrategyId(workspace.id);\n\n        switch (type) {\n            case STRATEGY.OPEN:\n                await handleOpen();\n                break;\n\n            case STRATEGY.SAVE:\n                handleSave();\n                break;\n\n            case STRATEGY.DELETE:\n                onToggleDeleteDialog(true);\n                rudderStackSendDashboardClickEvent({ dashboard_click_name: 'delete', subpage_name: 'dashboard' });\n                break;\n\n            default:\n                break;\n        }\n    };\n\n    const is_active_mobile = selected_strategy_id === workspace.id && is_dropdown_visible;\n    const text_size = isDesktop ? 'xs' : 'xxs';\n\n    return (\n        <div\n            className={classnames('bot-list__item', {\n                'bot-list__item--selected': previewed_strategy_id === workspace.id,\n                'bot-list__item--loaded': dashboard_strategies,\n                'bot-list__item--min': !!dashboard_strategies?.length && !isDesktop,\n            })}\n            key={workspace.id}\n            ref={trigger_div_ref}\n            onClick={e => {\n                e.stopPropagation(); //stop event bubbling for child element\n                if (is_dropdown_visible) setDropdownVisibility(false);\n                getSelectedStrategyID(workspace.id);\n                viewRecentStrategy(STRATEGY.INIT);\n            }}\n        >\n            <div className='bot-list__item__label'>\n                <div className='text-wrapper' title={workspace.name}>\n                    <Text align='left' as='p' size={text_size} lineHeight='l'>\n                        {workspace.name}\n                    </Text>\n                </div>\n            </div>\n            <div className='bot-list__item__time-stamp'>\n                <Text align='left' as='p' size={text_size} lineHeight='l'>\n                    {timeSince(workspace.timestamp)}\n                </Text>\n            </div>\n            <div className='bot-list__item__load-type'>\n                {getRecentFileIcon(workspace.save_type, 'bot-list__item__load-type__icon--active')}\n                <div className='bot-list__item__load-type__icon--saved'>\n                    <Text align='left' as='p' size={text_size} lineHeight='l'>\n                        {getSaveType(workspace.save_type)}\n                    </Text>\n                </div>\n            </div>\n            {isDesktop ? (\n                <div className='bot-list__item__actions'>\n                    {CONTEXT_MENU.map(item => (\n                        <div\n                            key={item.type}\n                            className='bot-list__item__actions__action-item'\n                            onClick={e => {\n                                e.stopPropagation();\n                                viewRecentStrategy(item.type);\n                            }}\n                        >\n                            <Popover alignment='top' message={item.label} zIndex={'9999'}>\n                                {item.icon}\n                            </Popover>\n                        </div>\n                    ))}\n                </div>\n            ) : (\n                <>\n                    <div className='bot-list__item__actions'>\n                        <button ref={toggle_ref} onClick={onToggleDropdown} tabIndex={0}>\n                            <LegacyMenuDots1pxIcon height='20px' width='20px' />\n                        </button>\n                    </div>\n                    <div\n                        className={classnames('bot-list__item__responsive', {\n                            'bot-list__item__responsive--active': is_active_mobile,\n                            'bot-list__item__responsive--min': dashboard_strategies.length <= 5,\n                        })}\n                    >\n                        {CONTEXT_MENU.map(item => (\n                            <div\n                                key={item.type}\n                                className='bot-list__item__responsive__menu'\n                                onClick={e => {\n                                    e.stopPropagation();\n                                    viewRecentStrategy(item.type);\n                                }}\n                            >\n                                <div className='bot-list__item__responsive__menu__icon'>{item.icon}</div>\n                                <Text\n                                    color='prominent'\n                                    className='bot-list__item__responsive__menu__item'\n                                    as='p'\n                                    size='xs'\n                                >\n                                    {item.label}\n                                </Text>\n                            </div>\n                        ))}\n                    </div>\n                </>\n            )}\n        </div>\n    );\n});\n\nexport default RecentWorkspace;\n",
            "size_bytes": 8875
        },
        "src/external/bot-skeleton/scratch/blocks/Advanced/List/lists_sort.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.lists_sort = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('sort {{ sort_type }} {{ sort_direction }} {{ input_list }}', {\n                sort_type: '%1',\n                sort_direction: '%2',\n                input_list: '%3',\n            }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'TYPE',\n                    options: [\n                        [localize('numeric'), 'NUMERIC'],\n                        [localize('alphabetic'), 'TEXT'],\n                    ],\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'DIRECTION',\n                    options: [\n                        [localize('ascending'), '1'],\n                        [localize('descending'), '-1'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'LIST',\n                },\n            ],\n            inputsInline: true,\n            output: 'Array',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Sorts the items in a given list'),\n            category: window.Blockly.Categories.List,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Sort list'),\n            description: localize(\n                'Sorts the items in a given list, by their numeric or alphabetical value, in either ascending or descending order.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            LIST: null,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.lists_sort = block => {\n    const list =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'LIST',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_FUNCTION_CALL\n        ) || '[]';\n    const direction = block.getFieldValue('DIRECTION') === '1' ? 1 : -1;\n    const type = block.getFieldValue('TYPE');\n    // eslint-disable-next-line no-underscore-dangle\n    const getCompareFunctionName = window.Blockly.JavaScript.javascriptGenerator.provideFunction_(\n        'listsGetSortCompare',\n        [\n            // eslint-disable-next-line no-underscore-dangle\n            `function ${window.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(type, direction) {\n            var compareFuncs = {\n                NUMERIC: function(a, b) {\n                    return parseFloat(a) - parseFloat(b);\n                },\n                TEXT: function(a, b) {\n                    return a.toString() > b.toString() ? 1 : -1;\n                }\n            };\n\n            return function(a, b) {\n                return compareFuncs[type](a, b) * direction; \n            }\n        }`,\n        ]\n    );\n\n    const code = `${list}.sort().slice(0).sort(${getCompareFunctionName}(\"${type}\", ${direction}))`;\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_FUNCTION_CALL];\n};\n",
            "size_bytes": 3468
        },
        "src/external/bot-skeleton/services/tradeEngine/Interface/index.js": {
            "content": "import TradeEngine from '../trade';\nimport getBotInterface from './BotInterface';\nimport getTicksInterface from './TicksInterface';\nimport getToolsInterface from './ToolsInterface';\n\nconst sleep = (observer, arg = 1) => {\n    return new Promise(\n        r =>\n            // eslint-disable-next-line no-promise-executor-return\n            setTimeout(() => {\n                r();\n                setTimeout(() => observer.emit('CONTINUE'), 0);\n            }, arg * 1000),\n        () => {}\n    );\n};\n\nconst Interface = $scope => {\n    const tradeEngine = new TradeEngine($scope);\n    const { observer } = $scope;\n    const getInterface = () => {\n        return {\n            ...getBotInterface(tradeEngine),\n            ...getToolsInterface(tradeEngine),\n            getTicksInterface: getTicksInterface(tradeEngine),\n            watch: (...args) => tradeEngine.watch(...args),\n            sleep: (...args) => sleep(observer, ...args),\n            alert: (...args) => alert(...args), // eslint-disable-line no-alert\n            prompt: (...args) => prompt(...args), // eslint-disable-line no-alert\n            console: {\n                log(...args) {\n                    // eslint-disable-next-line no-console\n                    console.log(new Date().toLocaleTimeString(), ...args);\n                },\n            },\n        };\n    };\n    return { tradeEngine, observer, getInterface };\n};\n\nexport default Interface;\n",
            "size_bytes": 1417
        },
        "src/external/bot-skeleton/constants/config.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nconst CRYPTO_CURRENCIES = ['BTC', 'ETH', 'LTC', 'BCH', 'UST'];\n\nexport const config = () => ({\n    lists: {\n        PAYOUTTYPE: [\n            // [localize('Payout'), 'payout'],\n            [localize('Stake'), 'stake'],\n        ],\n        CRYPTO_CURRENCIES,\n        DETAILS: [\n            [localize('deal reference id'), '1'],\n            [localize('purchase price'), '2'],\n            [localize('payout'), '3'],\n            [localize('profit'), '4'],\n            [localize('contract type'), '5'],\n            [localize('entry spot time'), '6'],\n            [localize('entry spot price'), '7'],\n            [localize('exit spot time'), '8'],\n            [localize('exit spot price'), '9'],\n            [localize('barrier'), '10'],\n            [localize('result'), '11'],\n        ],\n        CHECK_RESULT: [\n            [localize('Win'), 'win'],\n            [localize('Loss'), 'loss'],\n        ],\n        CHECK_DIRECTION: [\n            [localize('Rise'), 'rise'],\n            [localize('Fall'), 'fall'],\n            [localize('No Change'), ''],\n        ],\n        BALANCE_TYPE: [\n            [localize('string'), 'STR'],\n            [localize('number'), 'NUM'],\n        ],\n        NOTIFICATION_TYPE: [\n            [localize('green'), 'success'],\n            [localize('blue'), 'info'],\n            [localize('yellow'), 'warn'],\n            [localize('red'), 'error'],\n        ],\n        NOTIFICATION_SOUND: [\n            [localize('Silent'), 'silent'],\n            [localize('Announcement'), 'announcement'],\n            [localize('Earned money'), 'earned-money'],\n            [localize('Job done'), 'job-done'],\n            [localize('Error'), 'error'],\n            [localize('Severe error'), 'severe-error'],\n        ],\n        CURRENCY: ['USD', 'EUR', 'GBP', 'AUD', ...CRYPTO_CURRENCIES],\n    },\n    opposites: {\n        ACCUMULATOR: [\n            {\n                ACCU: localize('Buy'),\n            },\n        ],\n        MULTIPLIER: [\n            {\n                MULTUP: localize('Up'),\n            },\n            {\n                MULTDOWN: localize('Down'),\n            },\n        ],\n        CALLPUT: [\n            {\n                CALL: localize('Rise'),\n            },\n            {\n                PUT: localize('Fall'),\n            },\n        ],\n        CALLPUTEQUAL: [\n            {\n                CALLE: localize('Rise Equals'),\n            },\n            {\n                PUTE: localize('Fall Equals'),\n            },\n        ],\n        HIGHERLOWER: [\n            {\n                CALL: localize('Higher'),\n            },\n            {\n                PUT: localize('Lower'),\n            },\n        ],\n        TOUCHNOTOUCH: [\n            {\n                ONETOUCH: localize('Touch'),\n            },\n            {\n                NOTOUCH: localize('No Touch'),\n            },\n        ],\n        ENDSINOUT: [\n            {\n                EXPIRYRANGE: localize('Ends Between'),\n            },\n            {\n                EXPIRYMISS: localize('Ends Outside'),\n            },\n        ],\n        STAYSINOUT: [\n            {\n                RANGE: localize('Stays Between'),\n            },\n            {\n                UPORDOWN: localize('Goes Outside'),\n            },\n        ],\n        ASIANS: [\n            {\n                ASIANU: localize('Asian Up'),\n            },\n            {\n                ASIAND: localize('Asian Down'),\n            },\n        ],\n        MATCHESDIFFERS: [\n            {\n                DIGITMATCH: localize('Matches'),\n            },\n            {\n                DIGITDIFF: localize('Differs'),\n            },\n        ],\n        EVENODD: [\n            {\n                DIGITEVEN: localize('Even'),\n            },\n            {\n                DIGITODD: localize('Odd'),\n            },\n        ],\n        OVERUNDER: [\n            {\n                DIGITOVER: localize('Over'),\n            },\n            {\n                DIGITUNDER: localize('Under'),\n            },\n        ],\n        HIGHLOWTICKS: [\n            {\n                TICKHIGH: localize('High Tick'),\n            },\n            {\n                TICKLOW: localize('Low Tick'),\n            },\n        ],\n        RESET: [\n            {\n                RESETCALL: localize('Reset Call'),\n            },\n            {\n                RESETPUT: localize('Reset Put'),\n            },\n        ],\n        RUNS: [\n            {\n                RUNHIGH: localize('Only Ups'),\n            },\n            {\n                RUNLOW: localize('Only Downs'),\n            },\n        ],\n        CALLPUTSPREAD: [\n            {\n                CALLSPREAD: localize('Call Spread'),\n            },\n            {\n                PUTSPREAD: localize('Put Spread'),\n            },\n        ],\n    },\n    BARRIER_TYPES: [\n        ['Offset +', '+'],\n        ['Offset -', '-'],\n    ],\n    ohlcFields: [\n        [localize('Open'), 'open'],\n        [localize('High'), 'high'],\n        [localize('Low'), 'low'],\n        [localize('Close'), 'close'],\n        [localize('Open Time'), 'epoch'],\n    ],\n    candleIntervals: [\n        [localize('Default'), 'default'],\n        [localize('1 minute'), '60'],\n        [localize('2 minutes'), '120'],\n        [localize('3 minutes'), '180'],\n        [localize('5 minutes'), '300'],\n        [localize('10 minutes'), '600'],\n        [localize('15 minutes'), '900'],\n        [localize('30 minutes'), '1800'],\n        [localize('1 hour'), '3600'],\n        [localize('2 hours'), '7200'],\n        [localize('4 hours'), '14400'],\n        [localize('8 hours'), '28800'],\n        [localize('1 day'), '86400'],\n    ],\n    mainBlocks: ['trade_definition', 'before_purchase', 'during_purchase', 'after_purchase'],\n    mandatoryMainBlocks: ['trade_definition', 'purchase', 'before_purchase'],\n    procedureDefinitionBlocks: ['procedures_defnoreturn', 'procedures_defreturn'],\n    single_instance_blocks: ['trade_definition', 'before_purchase', 'during_purchase', 'after_purchase'],\n    TRADE_TYPE_TO_CONTRACT_CATEGORY_MAPPING: {\n        callput: ['callput', 'higherlower'],\n        asian: ['asians'],\n        digits: ['matchesdiffers', 'evenodd', 'overunder'],\n    },\n    TRADE_TYPE_CATEGORIES: {\n        multiplier: ['multiplier'],\n        callput: ['callput', 'callputequal', 'higherlower'],\n        touchnotouch: ['touchnotouch'],\n        inout: ['endsinout', 'staysinout'],\n        asian: ['asians'],\n        digits: ['matchesdiffers', 'evenodd', 'overunder'],\n        reset: ['reset'],\n        callputspread: ['callputspread'],\n        highlowticks: ['highlowticks'],\n        runs: ['runs'],\n        accumulator: ['accumulator'],\n    },\n    TRADE_TYPE_CATEGORY_NAMES: {\n        callput: localize('Up/Down'),\n        touchnotouch: localize('Touch/No Touch'),\n        inout: localize('In/Out'),\n        asian: localize('Asians'),\n        digits: localize('Digits'),\n        reset: localize('Reset Call/Reset Put'),\n        callputspread: localize('Call Spread/Put Spread'),\n        highlowticks: localize('High/Low Ticks'),\n        runs: localize('Only Ups/Only Downs'),\n        multiplier: localize('Multipliers'),\n        accumulator: localize('Accumulators'),\n    },\n    BARRIER_CATEGORIES: {\n        euro_atm: ['callput', 'callputequal'],\n        euro_non_atm: ['endsinout', 'higherlower', 'callputspread'],\n        american: ['staysinout', 'touchnotouch', 'highlowticks', 'runs', 'multiplier'],\n        non_financial: ['digits', 'overunder', 'evenodd', 'matchesdiffers'],\n        asian: ['asians'],\n        reset: ['reset'],\n        lookback: ['lookback'],\n        accumulator: ['accumulator'],\n    },\n    DEFAULT_DURATION_DROPDOWN_OPTIONS: [\n        [localize('Ticks'), 't'],\n        [localize('Seconds'), 's'],\n        [localize('Minutes'), 'm'],\n        [localize('Hours'), 'h'],\n        [localize('Days'), 'd'],\n    ],\n    BARRIER_LABELS: [localize('High barrier'), localize('Low barrier')],\n    ABSOLUTE_BARRIER_DROPDOWN_OPTION: [[localize('Absolute'), 'absolute']],\n    NOT_AVAILABLE_DROPDOWN_OPTIONS: [[localize('Not available'), 'na']],\n    NOT_AVAILABLE_DURATIONS: [{ display: localize('Not available'), unit: 'na', min: 0 }],\n    BARRIER_TRADE_TYPES: ['higherlower', 'touchnotouch', 'endsinout', 'staysinout', 'callputspread'],\n    PREDICTION_TRADE_TYPES: ['matchesdiffers', 'overunder', 'highlowticks'],\n    DIGIT_CATEGORIES: ['digits', 'highlowticks'],\n    INDEPEDENT_BLOCKS: ['block_holder', 'tick_analysis', 'loader', 'procedures_defreturn', 'procedures_defnoreturn'],\n    bbResult: [\n        [localize('upper'), '1'],\n        [localize('middle'), '0'],\n        [localize('lower'), '2'],\n    ],\n    macdFields: [\n        [localize('Histogram'), '0'],\n        [localize('MACD'), '1'],\n        [localize('Signal'), '2'],\n    ],\n    GOOGLE_DRIVE: {\n        SCOPE: 'https://www.googleapis.com/auth/drive.file',\n        DISCOVERY_DOCS: 'https://www.googleapis.com/discovery/v1/apis/drive/v3/rest',\n    },\n    workspaces: {\n        flyoutWorkspacesStartScale: 0.7,\n        mainWorkspaceStartScale: 0.9,\n        previewWorkspaceStartScale: 0.6,\n        indentWorkspace: { x: 0, y: 60 },\n    },\n    strategies: {\n        martingale: {\n            index: 0,\n            label: localize('Martingale'),\n            description: localize(\n                'The Martingale Strategy is a classic trading technique that has been used for more than a hundred years, popularised by the French mathematician Paul Pierre Levy in the 18th century.'\n            ),\n        },\n        dalembert: {\n            index: 1,\n            label: localize(\"D'Alembert\"),\n            description: localize(\n                'The concept of the DAlembert Strategy is said to be similar to the Martingale Strategy where you will increase your contract size after a loss. With the DAlembert Strategy, you will also decrease your contract size after a successful trade.'\n            ),\n        },\n        oscars_grind: {\n            index: 2,\n            label: localize(\"Oscar's Grind\"),\n            description: localize(\n                \"The Oscar's Grind Strategy is a low-risk positive progression strategy that first appeared in 1965. By using this strategy, the size of your contract will increase after successful trades, but remains unchanged after unsuccessful trades.\"\n            ),\n        },\n    },\n    default_file_name: localize('Untitled Bot'),\n    DISABLED_SYMBOLS: ['frxGBPNOK', 'frxUSDNOK', 'frxUSDNEK', 'frxUSDSEK'],\n    DISABLED_SUBMARKETS: ['energy'],\n    QUICK_STRATEGY: {\n        DISABLED: {\n            SYMBOLS: ['1HZ150V', '1HZ250V'],\n            SUBMARKETS: ['crash_index', 'non_stable_coin', 'step_index'],\n            BARRIER_TRADE_TYPES: [\n                'higherlower',\n                'touchnotouch',\n                'endsinout',\n                'staysinout',\n                'callputspread',\n                'accumulator',\n            ],\n            PREDICTION_TRADE_TYPES: ['highlowticks'],\n        },\n        DEFAULT: {\n            symbol: '1HZ100V',\n            tradetype: 'callput',\n            durationtype: 't',\n            size: 1,\n            unit: 1,\n            prediction: 0,\n        },\n    },\n});\n",
            "size_bytes": 11095
        },
        "src/external/bot-skeleton/services/api/trading-times.js": {
            "content": "import { getTradingTimes, TRADING_TIMES } from '../../../../components/shared/utils/common-data';\nimport PendingPromise from '../../utils/pending-promise';\nimport { api_base } from './api-base';\n\nexport default class TradingTimes {\n    constructor({ ws, server_time }) {\n        this.init_promise = new PendingPromise();\n        this.is_initialised = false;\n        this.trading_times = {};\n        this.ws = ws;\n        this.server_time = server_time.clone();\n    }\n\n    async initialise() {\n        if (this.is_initialised) {\n            return this.init_promise;\n        }\n\n        this.is_initialised = true;\n        this.last_update_moment = this.server_time.local();\n\n        if (!Object.keys(this.trading_times).length) {\n            await this.updateTradingTimes();\n            this.init_promise.resolve();\n\n            const periodicUpdate = async () => {\n                const changes = this.updateMarketOpenClosed();\n\n                if (Object.keys(changes).length > 0 && this.onMarketOpenCloseChanged) {\n                    this.onMarketOpenCloseChanged(changes);\n                }\n\n                let next_update_date = this.nextUpdateDate();\n\n                if (!next_update_date) {\n                    const now_moment = this.server_time.local();\n                    const next_update_moment = this.last_update_moment.clone().add(1, 'days');\n\n                    if (now_moment.isAfter(next_update_moment)) {\n                        this.last_update_moment = now_moment.clone();\n                    } else {\n                        this.last_update_moment = next_update_moment.clone();\n                    }\n\n                    // Retain the current market open close status, because the trade times\n                    // will now be the following day:\n                    const is_open_map = {};\n\n                    Object.keys(this.trading_times).forEach(symbol_name => {\n                        is_open_map[symbol_name] = this.trading_times[symbol_name].is_opened;\n                    });\n\n                    await this.updateTradingTimes();\n\n                    Object.keys(this.trading_times).forEach(symbol_name => {\n                        this.trading_times[symbol_name].is_opened = is_open_map[symbol_name];\n                    });\n\n                    // next update date will be 00:00 hours (UTC) of the following day:\n                    next_update_moment.set({ hour: 0, minute: 0, second: 0 });\n                    next_update_date = next_update_moment.toDate();\n                }\n\n                const wait_period = next_update_date - this.server_time.local().toDate();\n                this.update_timer = setTimeout(periodicUpdate, wait_period);\n            };\n\n            await periodicUpdate();\n        }\n\n        return this.init_promise;\n    }\n\n    async updateTradingTimes() {\n        const last_update_date = this.last_update_moment.format('YYYY-MM-DD');\n\n        try {\n            // Check if API is available\n            if (!api_base.api && !this.ws) {\n                this.setTradingTimes();\n                return;\n            }\n\n            const response = await (api_base.api?.send({ trading_times: last_update_date }) ||\n                this.ws?.send({ trading_times: last_update_date }));\n\n            if (response?.error) {\n                this.setTradingTimes();\n                return;\n            }\n\n            this.trading_times = {};\n\n            const now = this.server_time.local().toDate();\n            const date_str = now.toISOString().substring(0, 11);\n            const getUTCDate = hour => new Date(`${date_str}${hour}Z`);\n\n            if (!response?.trading_times?.markets) {\n                this.setTradingTimes();\n                return;\n            }\n\n            const {\n                trading_times: { markets },\n            } = response;\n\n            // Process markets within the try block\n            markets?.forEach(market => {\n                const { submarkets } = market;\n\n                submarkets?.forEach(submarket => {\n                    const { symbols } = submarket;\n\n                    symbols?.forEach(symbol_obj => {\n                        const { times, symbol } = symbol_obj;\n                        const { open, close } = times;\n                        const is_open_all_day = open.length === 1 && open[0] === '00:00:00' && close[0] === '23:59:59';\n                        const is_closed_all_day = open.length === 1 && open[0] === '--' && close[0] === '--';\n\n                        let processed_times;\n\n                        if (!is_open_all_day && !is_closed_all_day) {\n                            processed_times = open.map((open_time, index) => ({\n                                open: getUTCDate(open_time),\n                                close: getUTCDate(close[index]),\n                            }));\n                        }\n\n                        this.trading_times[symbol] = {\n                            is_open_all_day,\n                            is_closed_all_day,\n                            times: processed_times,\n                        };\n                    });\n                });\n            });\n\n            // Inject additional 1s volatility indices that may not be in the API response\n            this.injectAdditionalTradingTimes();\n\n            // If no trading times were processed, use fallback\n            if (Object.keys(this.trading_times).length === 0) {\n                this.setTradingTimes();\n            }\n        } catch (error) {\n            this.setTradingTimes();\n            return;\n        }\n    }\n\n    injectAdditionalTradingTimes() {\n        // Additional 1s volatility indices to inject if not present in trading times response\n        const additionalSymbols = ['1HZ15V', '1HZ30V', '1HZ90V'];\n\n        additionalSymbols.forEach(symbol => {\n            if (!this.trading_times[symbol]) {\n                // Add trading times for 1s volatility indices (they are open 24/7)\n                this.trading_times[symbol] = {\n                    is_open_all_day: true,\n                    is_closed_all_day: false,\n                    times: undefined,\n                    is_opened: true, // Always open for volatility indices\n                };\n            }\n        });\n    }\n\n    setTradingTimes() {\n        this.trading_times = {};\n\n        TRADING_TIMES.SYMBOLS.forEach(symbol => {\n            this.trading_times[symbol] = getTradingTimes(symbol);\n        });\n    }\n\n    updateMarketOpenClosed() {\n        const changes = {};\n\n        Object.keys(this.trading_times).forEach(symbol_name => {\n            const is_opened = this.calcIsMarketOpened(symbol_name);\n            const symbol_obj = this.trading_times[symbol_name];\n\n            if (symbol_obj.is_opened !== is_opened) {\n                symbol_obj.is_opened = is_opened;\n                changes[symbol_name] = is_opened;\n            }\n        });\n\n        return changes;\n    }\n\n    calcIsMarketOpened(symbol_name) {\n        const now = this.server_time.local().unix();\n        const { times, is_open_all_day, is_closed_all_day } = this.trading_times[symbol_name];\n\n        if (is_closed_all_day) {\n            return false;\n        }\n\n        if (is_open_all_day) {\n            return true;\n        }\n\n        return times.some(session => {\n            const { open, close } = session;\n            return now >= open && now < close;\n        });\n    }\n\n    nextUpdateDate() {\n        const now = this.server_time.local().toDate();\n\n        let nextDate;\n\n        Object.keys(this.trading_times).forEach(symbol_name => {\n            const { times, is_open_all_day, is_closed_all_day } = this.trading_times[symbol_name];\n\n            if (is_open_all_day || is_closed_all_day) {\n                return;\n            }\n\n            times.forEach(session => {\n                const { open, close } = session;\n\n                if (open > now && (!nextDate || open < nextDate)) {\n                    nextDate = open;\n                }\n                if (close > now && (!nextDate || close < nextDate)) {\n                    nextDate = close;\n                }\n            });\n        });\n\n        return nextDate;\n    }\n\n    isMarketOpened(symbol_name) {\n        const symbol_names = Object.keys(this.trading_times);\n\n        if (!symbol_names.length || !symbol_names.includes(symbol_name)) {\n            return false;\n        }\n\n        const isOpened = this.trading_times[symbol_name].is_opened;\n        return isOpened;\n    }\n\n    // Method to get display name for symbols (used by active symbols)\n    getSymbolDisplayName(symbol) {\n        return TRADING_TIMES.SYMBOL_DISPLAY_NAMES[symbol] || symbol;\n    }\n}\n",
            "size_bytes": 8621
        },
        "src/components/shared/loaders/deriv-cashier-loader.js": {
            "content": "const resolve = require('path').resolve;\nconst existsSync = require('fs').existsSync;\n/* Using this loader you can import components from @deriv/components without having to manually\nimport the corresponding stylesheet. The deriv-cashier-loader will automatically import\nstylesheets.\n\n    import { PoaExpired } from '@deriv/cashier';\n      \n    import PoaExpired from '@deriv/cashier/dist/js/poa-expired';\n*/\n\nfunction getKebabCase(str) {\n    return str\n        .split(/(?=[A-Z])/)\n        .join('-')\n        .toLowerCase();\n}\n\nfunction checkExists(component) {\n    return existsSync(resolve(__dirname, '../../../cashier/src/Components/', component, `${component}.scss`));\n}\n\nmodule.exports = function (source, map) {\n    const lines = source.split(/\\n/);\n    const mapped_lines = lines.map(line => {\n        const matches = /\\s*import\\s+\\{(.*)\\}\\s*from\\s+\\'@deriv\\/cashier/.exec(line); // eslint-disable-line no-useless-escape\n        if (!matches || !matches[1]) {\n            return line; // do nothing;\n        }\n        const components = matches[1]\n            .replace(/\\sas\\s\\w+/, '') // Remove aliasing from imports.\n            .replace(/\\s+/g, '')\n            .split(',');\n        const replace = components\n            .map(\n                c => `\nimport ${c} from '@deriv/cashier/dist/cashier/js/${getKebabCase(c)}';\n${checkExists(getKebabCase(c)) ? `import '@deriv/cashier/dist/cashier/css/${getKebabCase(c)}.css';` : ''}\n        `\n            )\n            .join('\\n');\n\n        return replace;\n    });\n\n    return this.callback(null, mapped_lines.join('\\n'), map);\n};\n",
            "size_bytes": 1593
        },
        "src/components/layout/footer/index.tsx": {
            "content": "import useModalManager from '@/hooks/useModalManager';\nimport { getActiveTabUrl } from '@/utils/getActiveTabUrl';\nimport { FILTERED_LANGUAGES } from '@/utils/languages';\nimport { useTranslations } from '@deriv-com/translations';\nimport { DesktopLanguagesModal } from '@deriv-com/ui';\nimport ChangeTheme from './ChangeTheme';\nimport Endpoint from './Endpoint';\nimport FullScreen from './FullScreen';\nimport LanguageSettings from './LanguageSettings';\nimport NetworkStatus from './NetworkStatus';\nimport ServerTime from './ServerTime';\nimport './footer.scss';\n\nconst Footer = () => {\n    const { currentLang = 'EN', localize, switchLanguage } = useTranslations();\n    const { hideModal, isModalOpenFor, showModal } = useModalManager();\n\n    const openLanguageSettingModal = () => showModal('DesktopLanguagesModal');\n    return (\n        <footer className='app-footer'>\n            <FullScreen />\n            <LanguageSettings openLanguageSettingModal={openLanguageSettingModal} />\n            <div className='app-footer__vertical-line' />\n            <ChangeTheme />\n            <div className='app-footer__vertical-line' />\n            <ServerTime />\n            <div className='app-footer__vertical-line' />\n            <NetworkStatus />\n            <Endpoint />\n\n            {isModalOpenFor('DesktopLanguagesModal') && (\n                <DesktopLanguagesModal\n                    headerTitle={localize('Select Language')}\n                    isModalOpen\n                    languages={FILTERED_LANGUAGES}\n                    onClose={hideModal}\n                    onLanguageSwitch={code => {\n                        try {\n                            switchLanguage(code);\n                            hideModal();\n                            // Page reload is necessary because Blockly is outside React lifecycle\n                            // and won't re-render with new language without full page refresh\n                            window.location.replace(getActiveTabUrl());\n                            window.location.reload();\n                        } catch (error) {\n                            console.error('Failed to switch language:', error);\n                            hideModal();\n                        }\n                    }}\n                    selectedLanguage={currentLang}\n                />\n            )}\n        </footer>\n    );\n};\n\nexport default Footer;\n",
            "size_bytes": 2384
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Indicators/Parts/std_dev_multiplier_up.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../../utils';\n\nwindow.Blockly.Blocks.std_dev_multiplier_up = {\n    init() {\n        this.jsonInit({\n            message0: localize('Standard Deviation Up Multiplier {{ input_number }}', { input_number: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'UPMULTIPLIER',\n                    check: null,\n                },\n            ],\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange: window.Blockly.Blocks.input_list.onchange,\n    allowed_parents: ['bb_statement', 'bba_statement'],\n    getRequiredValueInputs() {\n        return {\n            UPMULTIPLIER: null,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.std_dev_multiplier_up = () => {};\n",
            "size_bytes": 1225
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Tools/Time/index.js": {
            "content": "import './epoch';\nimport './timeout';\nimport './todatetime';\nimport './totimestamp';\nimport './tickdelay';\n",
            "size_bytes": 107
        },
        "src/constants/quick-strategies/reverse_martingale.ts": {
            "content": "import { getImageLocation } from '../../public-path';\nimport { localize } from '@deriv-com/translations';\nimport { TDescriptionItem } from '../../pages/bot-builder/quick-strategy/types';\n\nexport const REVERSE_MARTINGALE = (): TDescriptionItem[] => [\n    {\n        type: 'subtitle',\n        content: [localize('Exploring the Reverse Martingale strategy in Deriv Bot')],\n        expanded: true,\n        no_collapsible: false,\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                'The Reverse Martingale strategy involves increasing your stake after each successful trade and resets to the initial stake for every losing trade. This strategy aims to secure potential profits from consecutive wins.'\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('Key parameters')],\n    },\n    {\n        type: 'text',\n        content: [localize('These are the trade parameters used in Deriv Bot with Reverse Martingale strategy.')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                '<strong>Initial stake:</strong> The starting trade amount. Stake is reverted to this amount after a loss or when the stake exceeds the maximum stake.'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                '<strong>Multiplier:</strong> The multiplier used to increase your stake if your trade is successful. The value must be greater than 1.'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                '<strong>Profit threshold:</strong> The bot will stop trading if your total profit exceeds this amount.'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                '<strong>Loss threshold:</strong> The bot will stop trading if your total loss exceeds this amount.'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                '<strong>Maximum stake:</strong> The maximum amount you are willing to pay to enter a single trade. The stake for your next trade will reset to the initial stake if it exceeds this value. This is an optional risk management parameter.'\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('An example of Reverse Martingale strategy')],\n    },\n    {\n        type: 'media',\n        src: getImageLocation('reverse_martingale.svg'),\n        alt: localize('An example of Martingale strategy'),\n    },\n    {\n        type: 'text',\n        content: [\n            localize('1. Start with the initial stake. Lets say 1 USD.'),\n            localize('2. Select your Martingale multiplier. In this example, it is 2.'),\n            localize(\n                '3. If the first trade is a successful trade, Deriv Bot will automatically double your stake for the next trade to 2 USD. Deriv Bot will continue to double the stake after every successful trade.'\n            ),\n            localize(\n                '4. If a trade ends in a loss, the stake for the following trade will be reset to the initial stake amount of 1 USD.'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                'The objective of Martingale strategy is to take advantage of consecutive successful trades and maximise potential profits from them. This strategy is beneficial only if there are consecutive successful trades. Therefore, it is important to set a maximum stake to secure all the potential profits gained from a number of consecutive successful trades, or you could lose all the profits you have accumulated, including your initial stake. For example, if your goal is to maximise profits within 2 consecutive successful trades, you set a maximum stake of 2 USD, given your initial stake is 1 USD. Similarly, if your goal is to maximise profits within 3 consecutive successful trades, you set a maximum stake of 4 USD, given your initial stake is 1 USD.'\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('Profit and loss thresholds')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                'With Deriv Bot, traders can set the profit and loss thresholds to secure potential profits and limit potential losses. This means that the trading bot will automatically stop when either the profit or loss threshold is reached. This is a form of risk management that can potentially boost successful trades whilst limiting the impact of loss. For example, if a trader sets the profit threshold at 100 USD and the strategy exceeds 100 USD of profit from all trades, then the bot will stop running.'\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('Summary')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                \"The Reverse Martingale strategy in trading may offer substantial gains but also comes with significant risks. With your selected strategy, Deriv Bot provides automated trading with risk management measures like setting initial stake, stake size, maximum stake, profit threshold and loss threshold. It's crucial for traders to assess their risk tolerance, practice in a demo account, and understand the strategy before trading with real money.\"\n            ),\n        ],\n    },\n    {\n        type: 'text_italic',\n        content: [localize('<strong>Disclaimer:</strong>')],\n    },\n    {\n        type: 'text_italic',\n        content: [\n            localize(\n                'Please be aware that while we may use rounded figures for illustration, a stake of a specific amount does not guarantee an exact amount in successful trades. For example, a 1 USD stake does not necessarily equate to a 1 USD profit in successful trades.'\n            ),\n        ],\n    },\n    {\n        type: 'text_italic',\n        content: [\n            localize(\n                'Trading inherently involves risks, and actual profits can fluctuate due to various factors, including market volatility and other unforeseen variables. As such, exercise caution and conduct thorough research before engaging in any trading activities.'\n            ),\n        ],\n    },\n];\n",
            "size_bytes": 6335
        },
        "analysis-tool/Benanalysistool-final-main/components/price-display.tsx": {
            "content": "\"use client\"\n\nimport { motion } from \"framer-motion\"\n\ninterface PriceDisplayProps {\n  price: number | null\n  symbol: string\n  digit: number | null\n}\n\nexport function PriceDisplay({ price, symbol, digit }: PriceDisplayProps) {\n  return (\n    <div className=\"neomorph rounded-2xl p-8\">\n      <div className=\"flex flex-col items-center gap-4\">\n        <div className=\"text-sm font-medium text-muted-foreground\">{symbol}</div>\n        <motion.div\n          key={price}\n          initial={{ scale: 0.95, opacity: 0.8 }}\n          animate={{ scale: 1, opacity: 1 }}\n          className=\"text-6xl font-bold font-mono text-foreground\"\n        >\n          {price?.toFixed(2) || \"---\"}\n        </motion.div>\n        {digit !== null && (\n          <motion.div\n            key={digit}\n            initial={{ scale: 0.8, opacity: 0 }}\n            animate={{ scale: 1, opacity: 1 }}\n            className=\"neomorph-inset rounded-full h-20 w-20 flex items-center justify-center\"\n          >\n            <span className=\"text-3xl font-bold text-primary\">{digit}</span>\n          </motion.div>\n        )}\n        <div className=\"text-xs text-muted-foreground\">Last Digit</div>\n      </div>\n    </div>\n  )\n}\n",
            "size_bytes": 1190
        },
        "src/components/shared/utils/types.ts": {
            "content": "import { EMPLOYMENT_VALUES, Jurisdiction } from './constants';\n\nexport type TBrokerCodes = (typeof Jurisdiction)[keyof typeof Jurisdiction];\n\nexport type TEmploymentStatus = (typeof EMPLOYMENT_VALUES)[keyof typeof EMPLOYMENT_VALUES];\n",
            "size_bytes": 234
        },
        "src/components/layout/header/mobile-menu/__tests__/menu-header.spec.tsx": {
            "content": "import { useTranslations } from '@deriv-com/translations';\nimport { useDevice } from '@deriv-com/ui';\nimport { render, screen } from '@testing-library/react';\nimport userEvent from '@testing-library/user-event';\nimport MenuHeader from '../menu-header';\n\nconst mockOpenLanguageSetting = jest.fn();\n\njest.mock('@deriv-com/ui', () => ({\n    ...jest.requireActual('@deriv-com/ui'),\n    useDevice: jest.fn(() => ({ isDesktop: false })),\n}));\n\njest.mock('@deriv-com/translations', () => ({\n    useTranslations: jest.fn(),\n}));\n\ndescribe('MenuHeader component', () => {\n    beforeEach(() => {\n        (useTranslations as jest.Mock).mockReturnValue({\n            currentLang: 'EN',\n            localize: jest.fn(text => text),\n        });\n    });\n\n    it('renders \"Menu\" with \"lg\" text size in mobile view', () => {\n        render(<MenuHeader hideLanguageSetting={false} openLanguageSetting={mockOpenLanguageSetting} />);\n        expect(screen.getByText('Menu')).toHaveClass('derivs-text__size--lg');\n    });\n\n    it('renders \"Menu\" with \"md\" text size in desktop view', () => {\n        (useDevice as jest.Mock).mockReturnValue({ isDesktop: true });\n        render(<MenuHeader hideLanguageSetting={false} openLanguageSetting={mockOpenLanguageSetting} />);\n        expect(screen.getByText('Menu')).toHaveClass('derivs-text__size--md');\n    });\n\n    it('does not render language setting button when hideLanguageSetting is true', () => {\n        render(<MenuHeader hideLanguageSetting openLanguageSetting={mockOpenLanguageSetting} />);\n        expect(screen.queryByText('EN')).not.toBeInTheDocument();\n    });\n\n    it('renders language setting button with correct content when hideLanguageSetting is false', () => {\n        render(<MenuHeader hideLanguageSetting={false} openLanguageSetting={mockOpenLanguageSetting} />);\n        expect(screen.getByText('EN')).toBeInTheDocument();\n    });\n\n    it('calls openLanguageSetting when language button is clicked', async () => {\n        render(<MenuHeader hideLanguageSetting={false} openLanguageSetting={mockOpenLanguageSetting} />);\n        await userEvent.click(screen.getByText('EN'));\n        expect(mockOpenLanguageSetting).toHaveBeenCalled();\n    });\n});\n",
            "size_bytes": 2195
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Tools/Time/timeout.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../../utils';\n\nwindow.Blockly.Blocks.timeout = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('{{ dummy }} {{ stack_input }} Run after {{ number }} second(s)', {\n                dummy: '%1',\n                stack_input: '%2',\n                number: '%3',\n            }),\n            args0: [\n                {\n                    type: 'input_dummy',\n                },\n                {\n                    type: 'input_statement',\n                    name: 'TIMEOUTSTACK',\n                },\n                {\n                    type: 'input_value',\n                    name: 'SECONDS',\n                },\n            ],\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Run the blocks inside after a given number of seconds'),\n            category: window.Blockly.Categories.Time,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Delayed run'),\n            description: localize(\n                'This block delays execution for a given number of seconds. You can place any blocks within this block. The execution of other blocks in your strategy will be paused until the instructions in this block are carried out.'\n            ),\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    getRequiredValueInputs() {\n        return {\n            SECONDS: null,\n        };\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.timeout = block => {\n    const stack = window.Blockly.JavaScript.javascriptGenerator.statementToCode(block, 'TIMEOUTSTACK');\n    const seconds =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'SECONDS',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC\n        ) || '1';\n\n    const code = `sleep(${seconds});\\n${stack}\\n`;\n    return code;\n};\n",
            "size_bytes": 2257
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Trade Definition/trade_definition.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { config } from '../../../../constants/config';\nimport { initErrorHandlingListener, removeErrorHandlingEventListener } from '../../../../utils';\nimport DBotStore from '../../../dbot-store';\nimport {\n    appendCollapsedMainBlocksFields,\n    excludeOptionFromContextMenu,\n    modifyContextMenu,\n    runIrreversibleEvents,\n} from '../../../utils';\nimport { defineContract } from '../../images';\n\nwindow.Blockly.Blocks.trade_definition = {\n    init() {\n        this.jsonInit(this.definition());\n        this.setDeletable(false);\n        this.isInit = false;\n    },\n    definition() {\n        return {\n            message0: '%1 %2 %3',\n            message1: '%1',\n            message2: '%1 %2 %3',\n            message3: '%1',\n            message4: '%1 %2 %3',\n            message5: '%1',\n            message6: '%1',\n            args0: [\n                {\n                    type: 'field_image',\n                    src: defineContract,\n                    width: 25,\n                    height: 25,\n                    alt: 'T',\n                },\n                {\n                    type: 'field_label',\n                    text: localize('1. Trade parameters'),\n                    class: 'blocklyTextRootBlockHeader',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'TRADE_OPTIONS',\n                },\n            ],\n            args2: [\n                {\n                    type: 'field_image',\n                    src: ' ', // this is here to add extra padding\n                    width: 4,\n                    height: 25,\n                },\n                {\n                    type: 'field_label',\n                    text: localize('Run once at start:'),\n                    class: 'blocklyTextRootBlockHeader',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args3: [\n                {\n                    type: 'input_statement',\n                    name: 'INITIALIZATION',\n                    check: null,\n                },\n            ],\n            args4: [\n                {\n                    type: 'field_image',\n                    src: ' ', // this is here to add extra padding\n                    width: 4,\n                    height: 25,\n                },\n                {\n                    type: 'field_label',\n                    text: localize('Trade options:'),\n                    class: 'blocklyTextRootBlockHeader',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args5: [\n                {\n                    type: 'input_statement',\n                    name: 'SUBMARKET',\n                },\n            ],\n            args6: [\n                {\n                    type: 'field_image',\n                    src: ' ', // this is here to add extra padding\n                    width: 380,\n                    height: 10,\n                },\n            ],\n            colour: window.Blockly.Colours.RootBlock.colour,\n            colourSecondary: window.Blockly.Colours.RootBlock.colourSecondary,\n            colourTertiary: window.Blockly.Colours.RootBlock.colourTertiary,\n            tooltip: localize('Here is where you define the parameters of your contract.'),\n            category: window.Blockly.Categories.Trade_Definition,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Trade parameters'),\n            description: localize('Here is where you define the parameters of your contract.'),\n            key_words: localize('market, trade type, contract type'),\n        };\n    },\n    customContextMenu(menu) {\n        const menu_items = [localize('Enable Block'), localize('Disable Block')];\n        excludeOptionFromContextMenu(menu, menu_items);\n        modifyContextMenu(menu);\n    },\n    onchange(event) {\n        if (event.type === window.Blockly.Events.SELECTED && !this.isInit) {\n            this.isInit = true;\n            initErrorHandlingListener('keydown');\n        } else if (window.Blockly.getSelected() === null && this.isInit) {\n            this.isInit = false;\n            removeErrorHandlingEventListener('keydown');\n        }\n        if (!this.workspace || this.workspace.isDragging() || window.Blockly.derivWorkspace.isFlyoutVisible) {\n            return;\n        }\n\n        if (\n            event.type === window.Blockly.Events.BLOCK_CHANGE ||\n            (event.type === window.Blockly.Events.BLOCK_DRAG && !event.isStart)\n        ) {\n            // Enforce only trade_definition_<type> blocks in TRADE_OPTIONS statement.\n            const blocks_in_trade_options = this.getBlocksInStatement('TRADE_OPTIONS');\n\n            if (blocks_in_trade_options.length > 0) {\n                blocks_in_trade_options.forEach(block => {\n                    if (!/^trade_definition_.+$/.test(block.type)) {\n                        runIrreversibleEvents(() => {\n                            block.unplug(true);\n                        });\n                    }\n                });\n            } else {\n                runIrreversibleEvents(() => {\n                    this.dispose();\n                });\n            }\n        }\n        if (this.isCollapsed()) {\n            appendCollapsedMainBlocksFields(this);\n        }\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.trade_definition = block => {\n    const { client } = DBotStore.instance;\n\n    if (!client || !client.is_logged_in) {\n        throw new Error('Please login');\n    }\n\n    const { loginid } = client;\n    const account = client.getToken(loginid);\n    const market_block = block.getChildByType('trade_definition_market');\n    const trade_type_block = block.getChildByType('trade_definition_tradetype');\n    const contract_type_block = block.getChildByType('trade_definition_contracttype');\n    const candle_interval_block = block.getChildByType('trade_definition_candleinterval');\n    const restart_on_error_block = block.getChildByType('trade_definition_restartonerror');\n    const restart_on_buy_sell_block = block.getChildByType('trade_definition_restartbuysell');\n\n    const symbol = market_block.getFieldValue('SYMBOL_LIST');\n    const trade_type = trade_type_block.getFieldValue('TRADETYPE_LIST');\n    const contract_type = contract_type_block.getFieldValue('TYPE_LIST');\n    const candle_interval = candle_interval_block.getFieldValue('CANDLEINTERVAL_LIST');\n    const should_restart_on_error = restart_on_error_block.getFieldValue('RESTARTONERROR') !== 'FALSE';\n    const should_restart_on_buy_sell = restart_on_buy_sell_block.getFieldValue('TIME_MACHINE_ENABLED') !== 'FALSE';\n\n    const { opposites } = config();\n    const contract_type_list =\n        contract_type === 'both'\n            ? opposites[trade_type.toUpperCase()].map(opposite => Object.keys(opposite)[0])\n            : [contract_type];\n\n    const initialization = window.Blockly.JavaScript.javascriptGenerator.statementToCode(block, 'INITIALIZATION');\n    const trade_options_statement = window.Blockly.JavaScript.javascriptGenerator.statementToCode(block, 'SUBMARKET');\n\n    const code = `  \n    BinaryBotPrivateInit = function BinaryBotPrivateInit() {\n        Bot.init('${account}', {\n          symbol              : '${symbol}',\n          contractTypes       : ${JSON.stringify(contract_type_list)},\n          candleInterval      : '${candle_interval || 'FALSE'}',\n          shouldRestartOnError: ${should_restart_on_error},\n          timeMachineEnabled  : ${should_restart_on_buy_sell},\n        });\n        ${initialization.trim()}\n    };\n      BinaryBotPrivateStart = function BinaryBotPrivateStart() {\n        BinaryBotPrivateHasCalledTradeOptions = false;\n        Bot.highlightBlock('${block.id}');\n        ${trade_options_statement.trim()}\n      };\\n`;\n    return code;\n};\n",
            "size_bytes": 7999
        },
        "src/utils/localize-utils.ts": {
            "content": "let tmp_localize: any;\n\nexport const setLocalize = (localize: any) => {\n    tmp_localize = localize;\n};\n\nexport const localize = (tString: string, values?: Record<string, unknown>): string => {\n    return tmp_localize(tString, values);\n};\n",
            "size_bytes": 239
        },
        "src/components/shared_ui/wallet-icon/wallet-icons-list.tsx": {
            "content": "import { lazy, Suspense } from 'react';\nimport { IconSize } from '@deriv/quill-icons';\n\nconst WALLET_ICONS = {\n    IcWalletDerivDemoLight: lazy(() =>\n        import('@deriv/quill-icons/Logo').then(module => ({ default: module.PaymentMethodDerivDemoBrandDarkIcon }))\n    ),\n    IcWalletDerivDemoDark: lazy(() =>\n        import('@deriv/quill-icons/Logo').then(module => ({ default: module.PaymentMethodDerivDemoBrandDarkIcon }))\n    ),\n    IcWalletCurrencyUsdLight: lazy(() =>\n        import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyUsdIcon }))\n    ),\n    IcWalletCurrencyUsdDark: lazy(() =>\n        import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyUsdIcon }))\n    ),\n    IcWalletCurrencyEurLight: lazy(() =>\n        import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyEurIcon }))\n    ),\n    IcWalletCurrencyEurDark: lazy(() =>\n        import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyEurIcon }))\n    ),\n    IcWalletCurrencyAudLight: lazy(() =>\n        import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyAudIcon }))\n    ),\n    IcWalletCurrencyAudDark: lazy(() =>\n        import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyAudIcon }))\n    ),\n    IcWalletCurrencyGbpLight: lazy(() =>\n        import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyGbpIcon }))\n    ),\n    IcWalletCurrencyGbpDark: lazy(() =>\n        import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyGbpIcon }))\n    ),\n    IcWalletBitcoinLight: lazy(() =>\n        import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyBtcIcon }))\n    ),\n    IcWalletBitcoinDark: lazy(() =>\n        import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyBtcIcon }))\n    ),\n    IcWalletEthereumLight: lazy(() =>\n        import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyEthIcon }))\n    ),\n    IcWalletEthereumDark: lazy(() =>\n        import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyEthIcon }))\n    ),\n    IcWalletTetherLight: lazy(() =>\n        import('@deriv/quill-icons/Logo').then(module => ({ default: module.PaymentMethodTetherUsdtBrandIcon }))\n    ),\n    IcWalletTetherDark: lazy(() =>\n        import('@deriv/quill-icons/Logo').then(module => ({ default: module.PaymentMethodTetherUsdtBrandIcon }))\n    ),\n    IcWalletLiteCoinLight: lazy(() =>\n        import('@deriv/quill-icons/Logo').then(module => ({ default: module.PaymentMethodLitecoinBrandIcon }))\n    ),\n    IcWalletLiteCoinDark: lazy(() =>\n        import('@deriv/quill-icons/Logo').then(module => ({ default: module.PaymentMethodLitecoinBrandIcon }))\n    ),\n    IcWalletUsdCoinLight: lazy(() =>\n        import('@deriv/quill-icons/Logo').then(module => ({ default: module.PaymentMethodUsdCoinBrandIcon }))\n    ),\n    IcWalletUsdCoinDark: lazy(() =>\n        import('@deriv/quill-icons/Logo').then(module => ({ default: module.PaymentMethodUsdCoinBrandIcon }))\n    ),\n    IcWalletXrpLight: lazy(() =>\n        import('@deriv/quill-icons/PaymentMethods').then(module => ({ default: module.PaymentMethodXrpBrandIcon }))\n    ),\n    IcWalletXrpDark: lazy(() =>\n        import('@deriv/quill-icons/PaymentMethods').then(module => ({ default: module.PaymentMethodXrpBrandIcon }))\n    ),\n    unknown: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyUsdIcon }))),\n};\n\nexport const WalletIconList = ({ type, size }: { type: string; size?: IconSize }) => {\n    const Icon = WALLET_ICONS[type as keyof typeof WALLET_ICONS] || WALLET_ICONS.unknown;\n\n    return (\n        <Suspense fallback={null}>\n            <Icon iconSize={size ?? 'xs'} />\n        </Suspense>\n    );\n};\n",
            "size_bytes": 3879
        },
        "src/components/shared/utils/array/index.ts": { "content": "export * from './array';\n", "size_bytes": 25 },
        "src/utils/symbol-display-name.ts": {
            "content": "import { tradingTimesService } from '@/components/shared/services/trading-times-service';\n\n/**\n * Get display name for a symbol from underlying_symbol\n * @param underlying_symbol - The underlying symbol code (e.g., \"1HZ100V\", \"frxEURUSD\")\n * @returns Promise<string> - The display name (e.g., \"Volatility 100 (1s) Index\", \"EUR/USD\")\n */\nexport const getSymbolDisplayName = async (underlying_symbol: string): Promise<string> => {\n    if (!underlying_symbol) {\n        return '';\n    }\n\n    try {\n        const trading_times = await tradingTimesService.getTradingTimes();\n\n        // Search through all markets and submarkets to find the symbol\n        for (const market of trading_times.markets || []) {\n            for (const submarket of market.submarkets || []) {\n                for (const symbol of submarket.symbols || []) {\n                    if (symbol.underlying_symbol === underlying_symbol || symbol.symbol === underlying_symbol) {\n                        return symbol.display_name || underlying_symbol;\n                    }\n                }\n            }\n        }\n    } catch (error) {\n        console.warn('Failed to get symbol display name:', error);\n    }\n\n    // Fallback: return the underlying symbol as-is if not found\n    return underlying_symbol;\n};\n\n/**\n * Synchronous version that uses a static mapping for common symbols\n * This is useful when async calls are not feasible\n */\nexport const getSymbolDisplayNameSync = (underlying_symbol: string): string => {\n    if (!underlying_symbol) {\n        return '';\n    }\n\n    // Static mapping for common symbols\n    const symbolMap: Record<string, string> = {\n        // Volatility Indices (both formats)\n        R_10: 'Volatility 10 Index',\n        R_25: 'Volatility 25 Index',\n        R_50: 'Volatility 50 Index',\n        R_75: 'Volatility 75 Index',\n        R_100: 'Volatility 100 Index',\n        '1HZ10V': 'Volatility 10 (1s) Index',\n        '1HZ15V': 'Volatility 15 (1s) Index',\n        '1HZ25V': 'Volatility 25 (1s) Index',\n        '1HZ30V': 'Volatility 30 (1s) Index',\n        '1HZ50V': 'Volatility 50 (1s) Index',\n        '1HZ75V': 'Volatility 75 (1s) Index',\n        '1HZ90V': 'Volatility 90 (1s) Index',\n        '1HZ100V': 'Volatility 100 (1s) Index',\n        '1HZ150V': 'Volatility 150 (1s) Index',\n        '1HZ200V': 'Volatility 200 (1s) Index',\n        '1HZ250V': 'Volatility 250 (1s) Index',\n        '1HZ300V': 'Volatility 300 (1s) Index',\n\n        // Daily Reset Indices\n        RDBEAR: 'Bear Market Index',\n        RDBULL: 'Bull Market Index',\n\n        // Step Indices\n        STPRNG: 'Step Index 100',\n        STPRNG1: 'Step Index 100',\n        STPRNG2: 'Step Index 200',\n        STPRNG3: 'Step Index 300',\n        STPRNG4: 'Step Index 400',\n        STPRNG5: 'Step Index 500',\n\n        // Step Indices (alternative format)\n        stpRNG: 'Step Index 100',\n        stpRNG1: 'Step Index 100',\n        stpRNG2: 'Step Index 200',\n        stpRNG3: 'Step Index 300',\n        stpRNG4: 'Step Index 400',\n        stpRNG5: 'Step Index 500',\n\n        // Crash/Boom Indices\n        BOOM300N: 'Boom 300 Index',\n        BOOM500: 'Boom 500 Index',\n        BOOM1000: 'Boom 1000 Index',\n        CRASH300N: 'Crash 300 Index',\n        CRASH500: 'Crash 500 Index',\n        CRASH1000: 'Crash 1000 Index',\n\n        // Jump Indices\n        JD10: 'Jump 10 Index',\n        JD25: 'Jump 25 Index',\n        JD50: 'Jump 50 Index',\n        JD75: 'Jump 75 Index',\n        JD100: 'Jump 100 Index',\n        JD150: 'Jump 150 Index',\n        JD200: 'Jump 200 Index',\n\n        // Forex Major Pairs\n        FRXAUDCAD: 'AUD/CAD',\n        FRXAUDCHF: 'AUD/CHF',\n        FRXAUDJPY: 'AUD/JPY',\n        FRXAUDNZD: 'AUD/NZD',\n        FRXAUDPLN: 'AUD/PLN',\n        FRXAUDUSD: 'AUD/USD',\n        FRXBROUSD: 'Oil/USD',\n        FRXEURAUD: 'EUR/AUD',\n        FRXEURCAD: 'EUR/CAD',\n        FRXEURCHF: 'EUR/CHF',\n        FRXEURGBP: 'EUR/GBP',\n        FRXEURJPY: 'EUR/JPY',\n        FRXEURNZD: 'EUR/NZD',\n        FRXEURUSD: 'EUR/USD',\n        FRXGBPAUD: 'GBP/AUD',\n        FRXGBPCAD: 'GBP/CAD',\n        FRXGBPCHF: 'GBP/CHF',\n        FRXGBPJPY: 'GBP/JPY',\n        FRXGBPNOK: 'GBP/NOK',\n        FRXGBPUSD: 'GBP/USD',\n        FRXNZDJPY: 'NZD/JPY',\n        FRXNZDUSD: 'NZD/USD',\n        FRXUSDCAD: 'USD/CAD',\n        FRXUSDCHF: 'USD/CHF',\n        FRXUSDJPY: 'USD/JPY',\n        FRXUSDNOK: 'USD/NOK',\n        FRXUSDPLN: 'USD/PLN',\n        FRXUSDSEK: 'USD/SEK',\n\n        // Legacy format (lowercase)\n        frxEURUSD: 'EUR/USD',\n        frxGBPUSD: 'GBP/USD',\n        frxUSDJPY: 'USD/JPY',\n        frxAUDUSD: 'AUD/USD',\n        frxAUDCAD: 'AUD/CAD',\n        frxEURGBP: 'EUR/GBP',\n        frxEURJPY: 'EUR/JPY',\n        frxGBPJPY: 'GBP/JPY',\n\n        // Forex Baskets\n        WLDAUD: 'AUD Basket',\n        WLDEUR: 'EUR Basket',\n        WLDGBP: 'GBP Basket',\n        WLDUSD: 'USD Basket',\n\n        // Stock Indices\n        OTC_AEX: 'Netherlands 25',\n        OTC_AS51: 'Australia 200',\n        OTC_DJI: 'Wall Street 30',\n        OTC_FCHI: 'France 40',\n        OTC_FTSE: 'UK 100',\n        OTC_GDAXI: 'Germany 40',\n        OTC_HSI: 'Hong Kong 50',\n        OTC_IBEX35: 'Spain 35',\n        OTC_N225: 'Japan 225',\n        OTC_NDX: 'US Tech 100',\n        OTC_SPC: 'US 500',\n        OTC_SPX500: 'US 500',\n        OTC_SSMI: 'Swiss 20',\n        OTC_SX5E: 'Euro 50',\n\n        // Cryptocurrencies\n        CRYBCHUSD: 'BCH/USD',\n        CRYBNBUSD: 'BNB/USD',\n        CRYBTCLTC: 'BTC/LTC',\n        CRYIOTUSD: 'IOT/USD',\n        CRYNEOUSD: 'NEO/USD',\n        CRYOMGUSD: 'OMG/USD',\n        CRYTRXUSD: 'TRX/USD',\n        CRYBTCETH: 'BTC/ETH',\n        CRYZECUSD: 'ZEC/USD',\n        CRYXMRUSD: 'ZMR/USD',\n        CRYXMLUSD: 'XLM/USD',\n        CRYXRPUSD: 'XRP/USD',\n        CRYBTCUSD: 'BTC/USD',\n        CRYDSHUSD: 'DSH/USD',\n        CRYETHUSD: 'ETH/USD',\n        CRYEOSUSD: 'EOS/USD',\n        CRYLTCUSD: 'LTC/USD',\n\n        // Legacy format (lowercase)\n        cryBTCUSD: 'BTC/USD',\n        cryETHUSD: 'ETH/USD',\n\n        // Commodities\n        FRXXAGUSD: 'Silver/USD',\n        FRXXAUUSD: 'Gold/USD',\n        FRXXPDUSD: 'Palladium/USD',\n        FRXXPTUSD: 'Platinum/USD',\n        WLDXAU: 'Gold Basket',\n\n        // Legacy format (lowercase)\n        frxXAUUSD: 'Gold/USD',\n        frxXAGUSD: 'Silver/USD',\n    };\n\n    return symbolMap[underlying_symbol] || underlying_symbol;\n};\n",
            "size_bytes": 6283
        },
        "src/components/shared_ui/autocomplete/autocomplete.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport clsx from 'clsx';\nimport { getSearchNotFoundOption } from '@/components/shared/utils/constants';\nimport { getPosition } from '@/components/shared/utils/dom';\nimport { getEnglishCharacters, matchStringByChar } from '@/components/shared/utils/string';\nimport { useBlockScroll } from '@/hooks/useBlockscroll';\nimport { LabelPairedChevronDownLgRegularIcon } from '@deriv/quill-icons/LabelPaired';\nimport DropdownList, { TItem } from '../dropdown-list';\nimport Input from '../input';\n\ntype TAutocompleteProps = {\n    autoComplete: string;\n    className: string;\n    disabled?: boolean;\n    dropdown_offset: string;\n    error?: string;\n    has_updating_list?: boolean;\n    hide_list?: boolean;\n    historyValue: string;\n    input_id: string;\n    is_alignment_top: boolean;\n    is_list_visible?: boolean;\n    list_height: string;\n    list_items: TItem[];\n    list_portal_id: string;\n    not_found_text: string;\n    onBlur?: (e: React.FocusEvent<HTMLInputElement | HTMLTextAreaElement>) => void;\n    onHideDropdownList: () => void;\n    onItemSelection: (item: TItem) => void;\n    onScrollStop?: () => void;\n    onShowDropdownList?: () => void;\n    should_filter_by_char: boolean;\n    show_list?: boolean;\n    trailing_icon?: React.ReactElement;\n    value: string;\n    onSearch?: (value: string, items: TItem[]) => [];\n    data_testid: string;\n    readOnly?: boolean;\n};\n\nconst KEY_CODE = {\n    ENTER: 13,\n    ESCAPE: 27,\n    TAB: 9,\n    KEYDOWN: 40,\n    KEYUP: 38,\n};\n\nconst isString = (item: TItem): item is string => typeof item === 'string';\n\nconst getFilteredItems = (val: string, list: TItem[], should_filter_by_char = false) => {\n    const searchTerm = val.toLowerCase();\n\n    const filtered = list.filter(item => {\n        const text = isString(item) ? item.toLowerCase() : (item.text || '').toLowerCase();\n        return text.includes(searchTerm);\n    });\n\n    const sortedFiltered = filtered.sort((a, b) => {\n        const indexA = (isString(a) ? a : a.text || '').toLowerCase().indexOf(searchTerm);\n        const indexB = (isString(b) ? b : b.text || '').toLowerCase().indexOf(searchTerm);\n        return indexA - indexB;\n    });\n\n    return sortedFiltered.filter(item => {\n        const text = isString(item) ? item : item.text || '';\n        const textLower = text.toLowerCase();\n        const englishChars = getEnglishCharacters(textLower);\n        return should_filter_by_char\n            ? matchStringByChar(text, val)\n            : englishChars.includes(val) || textLower.includes(val);\n    });\n};\nconst Autocomplete = React.memo((props: TAutocompleteProps) => {\n    const NO_SEARCH_RESULT = getSearchNotFoundOption();\n    const {\n        autoComplete,\n        className,\n        data_testid,\n        dropdown_offset,\n        error,\n        has_updating_list = true,\n        hide_list = false,\n        historyValue,\n        input_id,\n        is_alignment_top,\n        is_list_visible = false,\n        list_items,\n        list_portal_id,\n        not_found_text = NO_SEARCH_RESULT,\n        onHideDropdownList,\n        onItemSelection,\n        onSearch,\n        onScrollStop,\n        onShowDropdownList,\n        should_filter_by_char,\n        show_list = false,\n        value,\n        ...other_props\n    } = props;\n\n    const dropdown_ref = React.useRef<HTMLDivElement & SVGSVGElement>(null);\n    const list_wrapper_ref = React.useRef<HTMLDivElement>(null);\n    const list_item_ref = React.useRef<HTMLDivElement>(null);\n    const input_wrapper_ref = React.useRef<HTMLDivElement>(null);\n\n    const [should_show_list, setShouldShowList] = React.useState(false);\n    const [input_value, setInputValue] = React.useState('');\n    const [active_index, setActiveIndex] = React.useState(-1);\n    const [filtered_items, setFilteredItems] = React.useState(list_items);\n    const [style, setStyle] = React.useState({});\n    useBlockScroll(list_portal_id && should_show_list ? input_wrapper_ref : undefined);\n\n    let scroll_timeout: ReturnType<typeof setTimeout> | undefined;\n    let scroll_top_position = null;\n\n    React.useEffect(() => {\n        if (has_updating_list) {\n            let new_filtered_items = [];\n\n            if (is_list_visible) {\n                if (typeof onSearch === 'function') {\n                    new_filtered_items = onSearch(value.toLowerCase(), list_items);\n                } else {\n                    new_filtered_items = getFilteredItems(value.toLowerCase(), list_items);\n                }\n            } else {\n                new_filtered_items = list_items;\n            }\n\n            setFilteredItems(new_filtered_items);\n            if (historyValue) {\n                const index = new_filtered_items.findIndex(\n                    object => (typeof object === 'object' ? object.text : object) === historyValue\n                );\n                setInputValue(historyValue);\n                setActiveIndex(index);\n            } else {\n                setInputValue('');\n                setActiveIndex(-1);\n            }\n        }\n    }, [list_items, has_updating_list, historyValue]);\n\n    React.useEffect(() => {\n        if (is_list_visible) {\n            const index = filtered_items.findIndex(\n                item => (typeof item === 'object' ? item.text : item) === historyValue\n            );\n            setActiveIndex(index);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [filtered_items]);\n\n    React.useEffect(() => {\n        if (show_list) showDropdownList();\n        if (hide_list) hideDropdownList();\n        if (should_show_list && list_item_ref.current) {\n            const item = list_item_ref.current.offsetTop;\n            dropdown_ref.current?.scrollTo({ top: item, behavior: 'smooth' });\n        }\n    }, [show_list, hide_list, should_show_list, list_item_ref]);\n\n    React.useEffect(() => {\n        if (list_wrapper_ref.current && list_portal_id && should_show_list) {\n            const position_style = getPosition({\n                preferred_alignment: is_alignment_top ? 'top' : 'bottom',\n                parent_el: input_wrapper_ref.current,\n                child_el: list_wrapper_ref.current,\n            });\n\n            setStyle(position_style.style);\n        }\n    }, [should_show_list, is_alignment_top, list_portal_id, filtered_items?.length]);\n\n    React.useEffect(() => {\n        if (value) {\n            const index = list_items.findIndex(item => (typeof item === 'object' ? item.text : item) === value);\n            setActiveIndex(index);\n        }\n    }, [value, list_items]);\n\n    const handleScrollStop = (e: React.UIEvent<HTMLDivElement, UIEvent>) => {\n        // pass onScrollStop func callback when scrolling stops\n        if (!onScrollStop) return;\n\n        const element = e.currentTarget;\n        scroll_top_position = element.scrollTop;\n        if (scroll_top_position === element.scrollTop) {\n            clearTimeout(scroll_timeout);\n        }\n        scroll_timeout = setTimeout(() => {\n            onScrollStop?.();\n        }, 150);\n    };\n\n    const onKeyPressed = (event: React.KeyboardEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n        switch (event.keyCode) {\n            case KEY_CODE.ENTER:\n                event.preventDefault();\n                hideDropdownList();\n                onSelectItem(filtered_items[active_index]);\n                break;\n            case KEY_CODE.TAB:\n                if (should_show_list) {\n                    hideDropdownList();\n                    onSelectItem(filtered_items[active_index]);\n                }\n                break;\n            case KEY_CODE.ESCAPE:\n                event.preventDefault();\n                hideDropdownList();\n                break;\n            case KEY_CODE.KEYDOWN:\n                if (!should_show_list) showDropdownList();\n                setActiveDown();\n                break;\n            case KEY_CODE.KEYUP:\n                if (!should_show_list) showDropdownList();\n                else setActiveUp();\n                break;\n            default:\n                if (!should_show_list) showDropdownList();\n                break;\n        }\n    };\n\n    const setActiveUp = () => {\n        if (active_index !== -1) {\n            const up = active_index - 1;\n            const should_scroll_to_last = up < 0;\n\n            if (should_scroll_to_last) {\n                const list_height = dropdown_ref.current?.clientHeight;\n                setActiveIndex(filtered_items.length - 1);\n                dropdown_ref.current?.scrollTo({ top: list_height, behavior: 'smooth' });\n            } else {\n                const item_height = Number(list_item_ref.current?.getBoundingClientRect().height);\n                const item_top = Math.floor(Number(list_item_ref.current?.getBoundingClientRect()?.top)) - item_height;\n\n                if (!isListItemWithinView(item_top)) {\n                    const top_of_list = Number(list_item_ref.current?.offsetTop) - item_height;\n                    dropdown_ref.current?.scrollTo({ top: top_of_list, behavior: 'smooth' });\n                }\n                setActiveIndex(up);\n            }\n        }\n    };\n\n    const isListItemWithinView = (item_top: number) => {\n        const list_height = Number(dropdown_ref.current?.clientHeight);\n        const wrapper_top = Math.floor(Number(list_wrapper_ref.current?.getBoundingClientRect().top));\n        const wrapper_bottom = Math.floor(Number(list_wrapper_ref.current?.getBoundingClientRect().top)) + list_height;\n\n        if (item_top >= wrapper_bottom) return false;\n        return item_top > wrapper_top;\n    };\n\n    const setActiveDown = () => {\n        if (active_index === -1 || !list_item_ref.current) {\n            setActiveIndex(0);\n        } else if (typeof active_index === 'number') {\n            const down = active_index + 1;\n            const should_scroll_to_first = down >= filtered_items.length;\n\n            if (should_scroll_to_first) {\n                setActiveIndex(0);\n                dropdown_ref.current?.scrollTo({ top: 0, behavior: 'smooth' });\n            } else {\n                const item_height = list_item_ref.current.getBoundingClientRect().height;\n                const item_top =\n                    Math.floor(list_item_ref.current.getBoundingClientRect().top) + item_height + item_height / 2;\n                const list_height = Number(dropdown_ref.current?.clientHeight);\n\n                if (!isListItemWithinView(item_top)) {\n                    const items_above = list_height / item_height - 2;\n                    const bottom_of_list = list_item_ref.current.offsetTop - items_above * item_height;\n                    dropdown_ref.current?.scrollTo?.({ top: bottom_of_list, behavior: 'smooth' });\n                }\n                setActiveIndex(down);\n            }\n        }\n    };\n\n    const onBlur = (e: React.FocusEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n        e.preventDefault();\n        hideDropdownList();\n\n        if (!is_list_visible) setFilteredItems(list_items);\n\n        if (input_value === '') {\n            onItemSelection?.({\n                text: not_found_text,\n                value: '',\n            });\n        }\n        if (typeof other_props.onBlur === 'function') {\n            other_props.onBlur(e);\n        }\n    };\n\n    const onSelectItem = (item: TItem) => {\n        if (!item) return;\n\n        setInputValue((typeof item === 'object' ? item.text : item) || '');\n\n        onItemSelection?.(item);\n    };\n\n    const showDropdownList = () => {\n        setShouldShowList(true);\n\n        onShowDropdownList?.();\n    };\n\n    const hideDropdownList = () => {\n        setShouldShowList(false);\n\n        onHideDropdownList?.();\n    };\n\n    const filterList = (e: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n        const val = (e.target as HTMLInputElement).value.toLowerCase();\n        let new_filtered_items = [];\n\n        if (typeof onSearch === 'function') {\n            new_filtered_items = onSearch(val, list_items);\n        } else {\n            new_filtered_items = getFilteredItems(val, list_items, should_filter_by_char);\n        }\n\n        if (!new_filtered_items.length) {\n            setInputValue('');\n        }\n        setFilteredItems(new_filtered_items);\n    };\n\n    return (\n        <div data-testid={data_testid} className={classNames('dc-autocomplete', className)}>\n            <div ref={input_wrapper_ref} className='dc-autocomplete__input-field'>\n                <Input\n                    {...other_props}\n                    className='dc-autocomplete__field'\n                    error={error}\n                    autoComplete={autoComplete}\n                    onKeyDown={onKeyPressed}\n                    onInput={filterList}\n                    input_id={input_id}\n                    onClick={() => {\n                        if (should_show_list) hideDropdownList();\n                        else showDropdownList();\n                    }}\n                    // Field's onBlur still needs to run to perform form functions such as validation\n                    onBlur={onBlur}\n                    value={\n                        // This allows us to let control of value externally (from <Form/>) or internally if used without form\n                        typeof onItemSelection === 'function' ? value : input_value\n                    }\n                    trailing_icon={\n                        other_props.trailing_icon ? (\n                            other_props.trailing_icon\n                        ) : (\n                            <LabelPairedChevronDownLgRegularIcon\n                                className={clsx('dc-autocomplete__trailing-icon', {\n                                    'dc-autocomplete__trailing-icon--opened': should_show_list,\n                                    'dc-autocomplete__trailing-icon--disabled': other_props.disabled,\n                                })}\n                                height='24px'\n                                width='24px'\n                            />\n                        )\n                    }\n                />\n            </div>\n            <DropdownList\n                dropdown_refs={{\n                    dropdown_ref,\n                    list_item_ref,\n                    list_wrapper_ref,\n                }}\n                active_index={active_index}\n                style={{\n                    width: input_wrapper_ref.current ? `${input_wrapper_ref.current.offsetWidth}px` : '100%',\n                    ...(style || {\n                        marginTop: dropdown_offset ? `calc(-${dropdown_offset} + 8px)` : '8px', // 4px is the standard margin. In case of error, the list should overlap the error\n                    }),\n                }}\n                is_visible={should_show_list || is_list_visible}\n                list_items={filtered_items}\n                list_height={other_props.list_height}\n                // Autocomplete must use the `text` property and not the `value`, however DropdownList provides access to both\n                onItemSelection={onSelectItem}\n                setActiveIndex={setActiveIndex}\n                onScrollStop={handleScrollStop}\n                not_found_text={not_found_text}\n                portal_id={list_portal_id}\n            />\n        </div>\n    );\n});\n\nAutocomplete.displayName = 'Autocomplete';\n\nexport default Autocomplete;\n",
            "size_bytes": 15339
        },
        "src/pages/tutorials/dbot-tours/onboarding-tour/index.tsx": {
            "content": "import React from 'react';\nimport { observer } from 'mobx-react-lite';\nimport OnboardingTourDesktop from './onboarding-tour-desktop';\nimport OnboardingTourMobile from './onboarding-tour-mobile';\n\ntype TOnboardTourHandler = {\n    is_mobile: boolean;\n};\n\nconst OnboardTourHandler: React.FC<TOnboardTourHandler> = observer(({ is_mobile }) => {\n    return <>{is_mobile ? <OnboardingTourMobile /> : <OnboardingTourDesktop />}</>;\n});\n\nexport default OnboardTourHandler;\n",
            "size_bytes": 465
        },
        "src/components/trade-type/trade-type-icon.tsx": {
            "content": "import { lazy, Suspense } from 'react';\nimport { IconSize } from '@deriv/quill-icons';\n\nconst TRADE_TYPE_ICONS = {\n    ACCU: lazy(() =>\n        import('@deriv/quill-icons/TradeTypes').then(module => ({ default: module.TradeTypesAccumulatorStayInIcon }))\n    ),\n    DIGITDIFF: lazy(() =>\n        import('@deriv/quill-icons/TradeTypes').then(module => ({ default: module.TradeTypesDigitsDiffersIcon }))\n    ),\n    DIGITEVEN: lazy(() =>\n        import('@deriv/quill-icons/TradeTypes').then(module => ({ default: module.TradeTypesDigitsEvenIcon }))\n    ),\n    DIGITMATCH: lazy(() =>\n        import('@deriv/quill-icons/TradeTypes').then(module => ({ default: module.TradeTypesDigitsMatchesIcon }))\n    ),\n    DIGITODD: lazy(() =>\n        import('@deriv/quill-icons/TradeTypes').then(module => ({ default: module.TradeTypesDigitsOddIcon }))\n    ),\n    DIGITOVER: lazy(() =>\n        import('@deriv/quill-icons/TradeTypes').then(module => ({ default: module.TradeTypesDigitsOverIcon }))\n    ),\n    DIGITUNDER: lazy(() =>\n        import('@deriv/quill-icons/TradeTypes').then(module => ({ default: module.TradeTypesDigitsUnderIcon }))\n    ),\n    TICKHIGH: lazy(() =>\n        import('@deriv/quill-icons/TradeTypes').then(module => ({ default: module.TradeTypesHighsAndLowsHighIcon }))\n    ),\n    TICKLOW: lazy(() =>\n        import('@deriv/quill-icons/TradeTypes').then(module => ({ default: module.TradeTypesHighsAndLowsLowIcon }))\n    ),\n    NOTOUCH: lazy(() =>\n        import('@deriv/quill-icons/TradeTypes').then(module => ({ default: module.TradeTypesHighsAndLowsNoTouchIcon }))\n    ),\n    ONETOUCH: lazy(() =>\n        import('@deriv/quill-icons/TradeTypes').then(module => ({ default: module.TradeTypesHighsAndLowsTouchIcon }))\n    ),\n    EXPIRYRANGE: lazy(() =>\n        import('@deriv/quill-icons/TradeTypes').then(module => ({ default: module.TradeTypesInsAndOutsEndsInIcon }))\n    ),\n    EXPIRYMISS: lazy(() =>\n        import('@deriv/quill-icons/TradeTypes').then(module => ({ default: module.TradeTypesInsAndOutsEndsOutIcon }))\n    ),\n    UPORDOWN: lazy(() =>\n        import('@deriv/quill-icons/TradeTypes').then(module => ({ default: module.TradeTypesInsAndOutsGoesOutIcon }))\n    ),\n    RANGE: lazy(() =>\n        import('@deriv/quill-icons/TradeTypes').then(module => ({ default: module.TradeTypesInsAndOutsStaysInIcon }))\n    ),\n    MULTDOWN: lazy(() =>\n        import('@deriv/quill-icons/TradeTypes').then(module => ({ default: module.TradeTypesMultipliersDownIcon }))\n    ),\n    MULTUP: lazy(() =>\n        import('@deriv/quill-icons/TradeTypes').then(module => ({ default: module.TradeTypesMultipliersUpIcon }))\n    ),\n    CALLSPREAD: lazy(() =>\n        import('@deriv/quill-icons/TradeTypes').then(module => ({ default: module.TradeTypesSpreadsCallIcon }))\n    ),\n    PUTSPREAD: lazy(() =>\n        import('@deriv/quill-icons/TradeTypes').then(module => ({ default: module.TradeTypesSpreadsPutIcon }))\n    ),\n    ASIAND: lazy(() =>\n        import('@deriv/quill-icons/TradeTypes').then(module => ({ default: module.TradeTypesUpsAndDownsAsianDownIcon }))\n    ),\n    ASIANU: lazy(() =>\n        import('@deriv/quill-icons/TradeTypes').then(module => ({ default: module.TradeTypesUpsAndDownsAsianUpIcon }))\n    ),\n    PUT: lazy(() =>\n        import('@deriv/quill-icons/TradeTypes').then(module => ({ default: module.TradeTypesUpsAndDownsFallIcon }))\n    ),\n    PUTE: lazy(() =>\n        import('@deriv/quill-icons/TradeTypes').then(module => ({ default: module.TradeTypesUpsAndDownsFallIcon }))\n    ),\n    RUNLOW: lazy(() =>\n        import('@deriv/quill-icons/TradeTypes').then(module => ({ default: module.TradeTypesUpsAndDownsOnlyDownsIcon }))\n    ),\n    RUNHIGH: lazy(() =>\n        import('@deriv/quill-icons/TradeTypes').then(module => ({ default: module.TradeTypesUpsAndDownsOnlyUpsIcon }))\n    ),\n    RESETPUT: lazy(() =>\n        import('@deriv/quill-icons/TradeTypes').then(module => ({ default: module.TradeTypesUpsAndDownsResetDownIcon }))\n    ),\n    RESETCALL: lazy(() =>\n        import('@deriv/quill-icons/TradeTypes').then(module => ({ default: module.TradeTypesUpsAndDownsResetUpIcon }))\n    ),\n    CALL: lazy(() =>\n        import('@deriv/quill-icons/TradeTypes').then(module => ({ default: module.TradeTypesUpsAndDownsRiseIcon }))\n    ),\n    CALLE: lazy(() =>\n        import('@deriv/quill-icons/TradeTypes').then(module => ({ default: module.TradeTypesUpsAndDownsRiseIcon }))\n    ),\n    HIGHER: lazy(() =>\n        import('@deriv/quill-icons/TradeTypes').then(module => ({ default: module.TradeTypesHighsAndLowsHigherIcon }))\n    ),\n    LOWER: lazy(() =>\n        import('@deriv/quill-icons/TradeTypes').then(module => ({ default: module.TradeTypesHighsAndLowsLowerIcon }))\n    ),\n    unknown: lazy(() =>\n        import('@deriv/quill-icons/Illustrative').then(module => ({ default: module.IllustrativeMarketsIcon }))\n    ),\n};\n\nexport const TradeTypeIcon = ({ type, size, className }: { type: string; size?: IconSize; className?: string }) => {\n    const Icon = TRADE_TYPE_ICONS[type?.toUpperCase() as keyof typeof TRADE_TYPE_ICONS] || TRADE_TYPE_ICONS.unknown;\n\n    return (\n        <Suspense fallback={null}>\n            <Icon iconSize={size ?? 'xs'} className={className} />\n        </Suspense>\n    );\n};\n",
            "size_bytes": 5217
        },
        "src/external/bot-skeleton/services/api/contracts-for.js": {
            "content": "import { DURATIONS, TRADE_TYPE_CATEGORIES, TRADE_TYPES } from '../../../../components/shared/utils/common-data';\nimport { config } from '../../constants/config';\nimport PendingPromise from '../../utils/pending-promise';\nimport { api_base } from './api-base';\n\nexport default class ContractsFor {\n    constructor({ ws, server_time }) {\n        this.cache_age_in_min = 10;\n        this.contracts_for = {};\n        this.ws = ws;\n        this.server_time = server_time;\n        // Below you can disable specific trade types and trade type categories, you may specify\n        // market, submarket, symbol, trade_type, and trade_type_category. If one of\n        // the props is left omitted, the rule applies to each of the values of the omitted prop.\n        // e.g. if market omitted, rule will apply to all markets.\n        this.disabled_options = [\n            {\n                submarket: 'forex_basket',\n                trade_type: 'higherlower',\n            },\n            {\n                submarket: 'minor_pairs',\n                trade_type: 'higherlower',\n            },\n            {\n                submarket: 'metals',\n                trade_type: 'callputequal',\n            },\n            {\n                market: 'indices',\n                trade_type: 'callputequal',\n            },\n            {\n                symbol: 'OTC_AS51',\n                trade_type_category: 'inout',\n            },\n            { trade_type_category: 'lookback' },\n            { trade_type_category: 'callputspread' },\n        ];\n        this.retrieving_contracts_for = {};\n    }\n\n    async getBarriers(symbol, trade_type, duration, barrier_types) {\n        const barriers = { values: [] };\n\n        if (!config().BARRIER_TRADE_TYPES.includes(trade_type)) {\n            return barriers;\n        }\n\n        const barrier_props = ['high_barrier', 'low_barrier'];\n        const contracts_for_category = await this.getContractsByTradeType(symbol, trade_type);\n        const durations = await this.getDurations(symbol, trade_type, false);\n        const offset_regexp = /^[-|+]([0-9]+.[0-9]+)$/;\n        const isOffset = input => input && offset_regexp.test(input.toString());\n\n        let has_absolute_default_value = true;\n\n        if (contracts_for_category.length > 0) {\n            barrier_types.forEach((barrier_type, index) => {\n                const has_selected_offset_type = ['+', '-'].includes(barrier_type);\n                const real_trade_type = this.getContractCategoryByTradeType(trade_type);\n\n                let contract = contracts_for_category.find(c => {\n                    const { BARRIER_CATEGORIES } = config();\n                    const barrier_category = Object.keys(BARRIER_CATEGORIES).find(b =>\n                        BARRIER_CATEGORIES[b].includes(trade_type)\n                    );\n\n                    const has_matching_category = c.contract_category === real_trade_type;\n                    const has_matching_duration = durations.findIndex(d => d.unit === duration) !== -1;\n                    // barrier_category field may not be available in API response anymore\n                    const has_matching_barrier_category =\n                        !c.barrier_category || c.barrier_category === barrier_category;\n                    const has_matching_barrier_type =\n                        // Match offset type barriers.\n                        (has_selected_offset_type && isOffset(c.barrier || c[barrier_props[index]])) ||\n                        // Match absolute type barriers.\n                        (!has_selected_offset_type && !isOffset(c.barrier || c[barrier_props[index]]));\n\n                    return (\n                        has_matching_category &&\n                        has_matching_duration &&\n                        has_matching_barrier_category &&\n                        has_matching_barrier_type\n                    );\n                });\n\n                // Fallback to smallest available barriers if no contract could be found.\n                if (!contract) {\n                    contract = contracts_for_category\n                        // Retrieve contracts with barriers.\n                        .filter(c => c.barrier || c.high_barrier)\n                        // Get contract with smallest barriers.\n                        .sort((a, b) => {\n                            const c = a.barrier || a.high_barrier;\n                            const d = b.barrier || b.high_barrier;\n                            return parseFloat(c) - parseFloat(d);\n                        })\n                        .shift();\n\n                    if (contract && !has_selected_offset_type) {\n                        has_absolute_default_value = false;\n                    }\n                }\n\n                if (contract) {\n                    const barrier_prop_name = contract.barriers === 1 ? 'barrier' : barrier_props[index];\n\n                    if (contract[barrier_prop_name]) {\n                        const barrier_match = `${contract[barrier_prop_name]}`.match(offset_regexp);\n                        barriers.values[index] = barrier_match ? barrier_match[1] : contract[barrier_prop_name];\n                    }\n\n                    Object.assign(barriers, {\n                        allow_both_types:\n                            ['intraday', 'tick'].includes(contract.expiry_type) &&\n                            isOffset(contract[barrier_prop_name]),\n                        allow_absolute_type: barrier_type === 'absolute' && !isOffset(contract[barrier_prop_name]),\n                    });\n\n                    // Finish this loop prematurely if we only have a single barrier.\n                    if (contract.barriers === 1) {\n                        barrier_types.splice(index + 1, 1);\n                    }\n                }\n            });\n\n            if (!has_absolute_default_value) {\n                barriers.values = barriers.values.map(() => false);\n            } else if (\n                barriers.values.length === 2 &&\n                barrier_types.every(barrier_type => barrier_type === barrier_types[0]) &&\n                barriers.values.every(barrier => barrier === barriers.values[0])\n            ) {\n                barriers.values[1] = (barriers.values[0] * 0.95).toFixed(1);\n            }\n        }\n\n        return barriers;\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    getContractCategoryByTradeType(trade_type) {\n        const { TRADE_TYPE_TO_CONTRACT_CATEGORY_MAPPING } = config();\n\n        return (\n            Object.keys(TRADE_TYPE_TO_CONTRACT_CATEGORY_MAPPING).find(category =>\n                TRADE_TYPE_TO_CONTRACT_CATEGORY_MAPPING[category].includes(trade_type)\n            ) || trade_type\n        );\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    getTradeTypeCategoryByTradeType(trade_type) {\n        const { TRADE_TYPE_CATEGORIES } = config();\n        const trade_type_category = Object.keys(TRADE_TYPE_CATEGORIES).find(t =>\n            TRADE_TYPE_CATEGORIES[t].includes(trade_type)\n        );\n\n        return trade_type_category || trade_type;\n    }\n\n    getTradeTypeCategoryNameByTradeType(trade_type) {\n        const { TRADE_TYPE_CATEGORY_NAMES } = config();\n        const trade_type_category = this.getTradeTypeCategoryByTradeType(trade_type);\n\n        return TRADE_TYPE_CATEGORY_NAMES[trade_type_category];\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    getBarrierCategoryByTradeType(trade_type) {\n        const { BARRIER_CATEGORIES } = config();\n        return Object.keys(BARRIER_CATEGORIES).find(barrier_category =>\n            BARRIER_CATEGORIES[barrier_category].includes(trade_type)\n        );\n    }\n\n    async getContractsByTradeType(symbol, trade_type) {\n        const contracts = await this.getContractsFor(symbol);\n        const contract_category = this.getContractCategoryByTradeType(trade_type);\n        // barrier_category field may not be available in API response anymore\n        // const barrier_category = this.getBarrierCategoryByTradeType(trade_type);\n\n        return contracts.filter(contract => {\n            const has_matching_category = contract.contract_category === contract_category;\n            // barrier_category field may not be available in API response anymore\n            // const has_matching_barrier = contract.barrier_category === barrier_category;\n\n            return has_matching_category;\n        });\n    }\n\n    async getContractsFor(symbol) {\n        if (!symbol || symbol === 'na') {\n            return [];\n        }\n\n        // Check if API is available\n        if (!api_base.api) {\n            return [];\n        }\n\n        const getContractsForFromApi = async () => {\n            if (this.retrieving_contracts_for[symbol]) {\n                await this.retrieving_contracts_for[symbol];\n                return this.contracts_for[symbol].contracts;\n            }\n\n            this.retrieving_contracts_for[symbol] = new PendingPromise();\n\n            try {\n                const response = await api_base.api.send({ contracts_for: symbol });\n\n                if (response.error) {\n                    this.retrieving_contracts_for[symbol].resolve();\n                    delete this.retrieving_contracts_for[symbol];\n                    return [];\n                }\n\n                if (!response.contracts_for || !response.contracts_for.available) {\n                    this.retrieving_contracts_for[symbol].resolve();\n                    delete this.retrieving_contracts_for[symbol];\n                    return [];\n                }\n\n                const {\n                    contracts_for: { available: contracts },\n                } = response;\n\n                // We don't offer forward-starting contracts in bot.\n                // Note: start_type field may not be available in API response anymore\n                const filtered_contracts = contracts.filter(c => !c.start_type || c.start_type !== 'forward');\n\n                this.contracts_for[symbol] = {\n                    contracts: filtered_contracts,\n                    timestamp: this.server_time.unix(),\n                };\n\n                this.retrieving_contracts_for[symbol].resolve();\n                delete this.retrieving_contracts_for[symbol];\n\n                return filtered_contracts;\n            } catch (error) {\n                console.error('DEBUG: Error in contracts_for API call:', error);\n                this.retrieving_contracts_for[symbol].resolve();\n                delete this.retrieving_contracts_for[symbol];\n                return [];\n            }\n        };\n\n        if (this.contracts_for[symbol]) {\n            const { contracts, timestamp } = this.contracts_for[symbol];\n            const is_expired = this.server_time.unix() - timestamp > this.cache_age_in_min * 60;\n\n            if (is_expired) {\n                return getContractsForFromApi();\n            }\n\n            return contracts;\n        }\n        return getContractsForFromApi();\n    }\n\n    async getDurations(symbol, trade_type, convert_day_to_hours = true) {\n        if (trade_type === 'multiplier' || trade_type === 'accumulator') {\n            return [];\n        }\n\n        const contracts = await this.getContractsFor(symbol);\n        const { DEFAULT_DURATION_DROPDOWN_OPTIONS } = config();\n\n        // Duration fallbacks when no contracts available\n        if (contracts.length === 0) {\n            return DURATIONS;\n        }\n\n        const contracts_for_category = await this.getContractsByTradeType(symbol, trade_type);\n        const durations = [];\n        const getDurationIndex = input =>\n            DEFAULT_DURATION_DROPDOWN_OPTIONS.findIndex(d => d[1] === input.replace(/\\d+/g, ''));\n        // convert 'duration' to 'unit_to_convert' e.g : convertDuration('10h', 's') will return 10*60*60s\n        const convertDuration = (duration, unit_to_convert) => {\n            const duration_value = duration.replace(/\\D/g, '');\n            const duration_index = getDurationIndex(duration);\n            const target_index = DEFAULT_DURATION_DROPDOWN_OPTIONS.findIndex(\n                default_duration => default_duration[1] === unit_to_convert\n            );\n\n            let converted_duration = parseInt(duration_value);\n\n            DEFAULT_DURATION_DROPDOWN_OPTIONS.slice(target_index + 1, duration_index + 1)\n                .reverse()\n                .forEach(default_duration => {\n                    switch (default_duration[1]) {\n                        case 'm':\n                        case 'h':\n                            converted_duration *= 60;\n                            break;\n                        case 'd':\n                            converted_duration *= 24;\n                            break;\n                        default:\n                            break;\n                    }\n                });\n\n            return converted_duration;\n        };\n\n        contracts_for_category.forEach(contract => {\n            if (!contract.min_contract_duration || !contract.max_contract_duration) {\n                return;\n            }\n\n            const start_index = getDurationIndex(contract.min_contract_duration);\n            const end_index = getDurationIndex(\n                contract.max_contract_duration === '1d' && convert_day_to_hours ? '24h' : contract.max_contract_duration\n            );\n\n            DEFAULT_DURATION_DROPDOWN_OPTIONS.slice(start_index, end_index + 1).forEach((default_duration, index) => {\n                const is_existing_duration = durations.findIndex(d => d.unit === default_duration[1]) !== -1;\n\n                if (!is_existing_duration) {\n                    durations.push({\n                        display: default_duration[0],\n                        unit: default_duration[1],\n                        min: index === 0 ? parseInt(contract.min_contract_duration.replace(/\\D/g, '')) : 1,\n                        max: convertDuration(contract.max_contract_duration, default_duration[1]),\n                    });\n                }\n            });\n        });\n\n        // If only intraday contracts available, remove day durations\n        if (contracts_for_category.every(contract => contract.expiry_type === 'intraday')) {\n            const day_duration_index = durations.findIndex(d => d[1] === 'd');\n\n            if (day_duration_index !== -1) {\n                durations.splice(day_duration_index, 1);\n            }\n        }\n\n        if (durations.length === 0) {\n            return DURATIONS;\n        }\n        // Maintain order based on duration unit\n        return durations.sort((a, b) => getDurationIndex(a.unit) - getDurationIndex(b.unit));\n    }\n\n    async getPredictionRange(symbol, trade_type) {\n        const contracts = await this.getContractsByTradeType(symbol, trade_type);\n        const contract_category = this.getContractCategoryByTradeType(trade_type);\n        const prediction_range = [];\n        const { DIGIT_CATEGORIES, opposites } = config();\n\n        if (DIGIT_CATEGORIES.includes(contract_category) && trade_type !== 'evenodd') {\n            const contract = contracts.find(c => {\n                const categories = Object.keys(opposites);\n\n                return categories.some(category =>\n                    opposites[category].map(subcategory => Object.keys(subcategory)[0]).includes(c.contract_type)\n                );\n            });\n\n            if (contract && contract.last_digit_range) {\n                prediction_range.push(...contract.last_digit_range);\n            } else {\n                prediction_range.push(1, 2, 3, 4, 5, 6, 7, 8);\n            }\n        }\n\n        return prediction_range;\n    }\n\n    getAccumulationRange = async () => {\n        return [0.01, 0.02, 0.03, 0.04, 0.05];\n    };\n\n    async getMultiplierRange(symbol, trade_type) {\n        try {\n            const contracts = await this.getContractsByTradeType(symbol, trade_type);\n            const multiplier_range = [];\n            const { opposites } = config();\n\n            // For multiplier contracts, look for MULTUP or MULTDOWN contract types\n            const multiplier_contract_types = ['MULTUP', 'MULTDOWN'];\n\n            const contract = contracts.find(c => {\n                // Check if contract type is one of the multiplier types\n                if (multiplier_contract_types.includes(c.contract_type)) {\n                    return true;\n                }\n\n                // Fallback: check through opposites mapping\n                const multiplier_opposites = opposites['MULTIPLIER'] || [];\n                return multiplier_opposites.some(opposite => Object.keys(opposite).includes(c.contract_type));\n            });\n\n            if (contract?.multiplier_range) {\n                multiplier_range.push(...contract.multiplier_range);\n            }\n\n            // If no multiplier range found, try to find any contract with multiplier_range\n            if (multiplier_range.length === 0) {\n                const any_contract_with_multipliers = contracts.find(\n                    c => c.multiplier_range && c.multiplier_range.length > 0\n                );\n                if (any_contract_with_multipliers?.multiplier_range) {\n                    multiplier_range.push(...any_contract_with_multipliers.multiplier_range);\n                }\n            }\n\n            if (multiplier_range.length === 0) {\n                console.warn(\n                    'DEBUG: No multiplier range found for symbol:',\n                    symbol,\n                    'Available contracts:',\n                    contracts.map(c => ({ contract_type: c.contract_type, has_multiplier_range: !!c.multiplier_range }))\n                );\n            }\n\n            return multiplier_range;\n        } catch (error) {\n            console.error('DEBUG: Error in getMultiplierRange:', error);\n            return [];\n        }\n    }\n\n    async getMarketBySymbol(symbol) {\n        const contracts = await this.getContractsFor(symbol);\n\n        if (!contracts.length) {\n            return 'na';\n        }\n\n        return contracts[0].market;\n    }\n\n    async getSubmarketBySymbol(symbol) {\n        const contracts = await this.getContractsFor(symbol);\n\n        if (!contracts.length) {\n            return 'na';\n        }\n\n        return contracts[0].submarket;\n    }\n\n    async getGroupedTradeTypes(symbol) {\n        const contracts = await this.getContractsFor(symbol);\n        const trade_type_options = {};\n\n        for (let i = 0; i < contracts.length; i++) {\n            const market = contracts[i].market;\n            const submarket = contracts[i].submarket;\n            const trade_type_category = this.getTradeTypeCategoryByTradeType(contracts[i].contract_category);\n            const trade_type_category_name = this.getTradeTypeCategoryNameByTradeType(contracts[i].contract_category);\n            // eslint-disable-next-line no-await-in-loop\n            const trade_types = await this.getTradeTypeByTradeCategory(market, submarket, symbol, trade_type_category);\n\n            if (trade_type_category_name) {\n                const is_disabled = this.isDisabledOption({\n                    market,\n                    submarket,\n                    symbol,\n                    trade_type_category,\n                });\n\n                if (!is_disabled) {\n                    trade_type_options[trade_type_category_name] = trade_types;\n                }\n            }\n        }\n\n        return trade_type_options;\n    }\n\n    async getTradeTypeByTradeCategory(market, submarket, symbol, trade_type_category) {\n        const { NOT_AVAILABLE_DURATIONS, TRADE_TYPE_CATEGORIES, opposites } = config();\n        const subcategories = TRADE_TYPE_CATEGORIES[trade_type_category];\n        const dropdown_options = [];\n\n        if (subcategories && subcategories.length) {\n            for (let i = 0; i < subcategories.length; i++) {\n                const trade_type = subcategories[i];\n                const durations = await this.getDurations(symbol, trade_type); // eslint-disable-line no-await-in-loop\n                const has_durations = JSON.stringify(durations) !== JSON.stringify(NOT_AVAILABLE_DURATIONS);\n                const is_disabled = this.isDisabledOption({\n                    market,\n                    submarket,\n                    symbol,\n                    trade_type_category,\n                    trade_type,\n                });\n\n                if (!is_disabled && has_durations) {\n                    const types = opposites[trade_type.toUpperCase()];\n                    const icons = [];\n                    const names = [];\n\n                    types.forEach(type => {\n                        icons.push(Object.keys(type)[0]);\n                        names.push(Object.values(type)[0]);\n                    });\n\n                    dropdown_options.push({\n                        name: names.join('/'),\n                        value: trade_type,\n                        icon: icons,\n                    });\n                }\n            }\n        }\n\n        return dropdown_options;\n    }\n\n    getHiddenCategories = trade_types => {\n        // TODO: Temporary filtering of barrier + prediction types. Should later\n        // render more inputs for these types. We should only filter out trade type\n        // categories which only feature prediction/barrier trade types. e.g.\n        // in Digits category, users can still purchase Even/Odd types.\n        let hidden_categories = 0;\n\n        for (let j = 0; j < trade_types.length; j++) {\n            const trade_type = trade_types[j];\n            const has_barrier = config().QUICK_STRATEGY.DISABLED.BARRIER_TRADE_TYPES.includes(trade_type.value);\n            const has_prediction = config().QUICK_STRATEGY.DISABLED.PREDICTION_TRADE_TYPES.includes(trade_type.value);\n\n            if (has_barrier || has_prediction) {\n                hidden_categories++;\n            }\n        }\n\n        return hidden_categories;\n    };\n\n    getTradeTypeOptions = (trade_types, trade_type_category) => {\n        const trade_type_options = [];\n        trade_types.forEach(trade_type => {\n            const has_barrier = config().QUICK_STRATEGY.DISABLED.BARRIER_TRADE_TYPES.includes(trade_type.value);\n            const has_prediction = config().QUICK_STRATEGY.DISABLED.PREDICTION_TRADE_TYPES.includes(trade_type.value);\n            const is_muliplier = ['multiplier'].includes(trade_type.value);\n\n            // TODO: Render extra inputs for barrier + prediction and multiplier types.\n            if (!has_barrier && !has_prediction && !is_muliplier) {\n                trade_type_options.push({\n                    text: trade_type.name,\n                    value: trade_type.value,\n                    group: trade_type_category[0],\n                    icon: trade_type.icon,\n                });\n            }\n        });\n        return trade_type_options;\n    };\n\n    async getTradeTypesForQuickStrategy(symbol, trade_type = '') {\n        const trade_type_options = [];\n        const filtered_trade_type_categories = [];\n        if (trade_type === 'ACCU') {\n            trade_type_options.push({\n                text: 'Buy',\n                value: 'ACCU',\n            });\n            return trade_type_options;\n        }\n        const market = await this.getMarketBySymbol(symbol);\n        const submarket = await this.getSubmarketBySymbol(symbol);\n        const trade_type_categories = await this.getTradeTypeCategories(market, submarket, symbol);\n\n        for (let i = 0; i < trade_type_categories.length; i++) {\n            const trade_type_category = trade_type_categories[i];\n            // eslint-disable-next-line no-await-in-loop\n            const trade_types = await this.getTradeTypeByTradeCategory(\n                market,\n                submarket,\n                symbol,\n                trade_type_category[1]\n            );\n\n            const hidden_categories = this.getHiddenCategories(trade_types);\n\n            if (hidden_categories < trade_types.length) {\n                filtered_trade_type_categories.push(trade_type_category);\n            }\n        }\n\n        for (let i = 0; i < filtered_trade_type_categories.length; i++) {\n            const trade_type_category = filtered_trade_type_categories[i]; // e.g. ['Up/Down', 'callput']\n            // eslint-disable-next-line no-await-in-loop\n            const trade_types = await this.getTradeTypeByTradeCategory(\n                market,\n                submarket,\n                symbol,\n                trade_type_category[1]\n            );\n\n            trade_type_options.push(...this.getTradeTypeOptions(trade_types, trade_type_category));\n        }\n        return trade_type_options;\n    }\n\n    async getTradeTypeCategories(market, submarket, symbol) {\n        const { TRADE_TYPE_CATEGORY_NAMES } = config();\n        const contracts = await this.getContractsFor(symbol);\n        const trade_type_categories = [];\n\n        contracts.forEach(contract => {\n            const trade_type_category = this.getTradeTypeCategoryByTradeType(contract.contract_category);\n            const trade_type_category_name = this.getTradeTypeCategoryNameByTradeType(contract.contract_category);\n\n            if (trade_type_category_name) {\n                const is_disabled = this.isDisabledOption({\n                    market,\n                    submarket,\n                    symbol,\n                    trade_type_category,\n                });\n\n                if (!is_disabled) {\n                    const is_existing_category =\n                        trade_type_categories.findIndex(c => c[1] === trade_type_category) !== -1;\n\n                    if (!is_existing_category) {\n                        trade_type_categories.push([trade_type_category_name, trade_type_category]);\n                    }\n                }\n            }\n        });\n\n        if (trade_type_categories.length > 0) {\n            const category_names = Object.keys(TRADE_TYPE_CATEGORY_NAMES);\n\n            return trade_type_categories.sort((a, b) => {\n                const index_a = category_names.findIndex(c => c === a[1]);\n                const index_b = category_names.findIndex(c => c === b[1]);\n                return index_a - index_b;\n            });\n        }\n\n        // Fallback trade type categories\n        return TRADE_TYPE_CATEGORIES;\n    }\n\n    async getTradeTypes(market, submarket, symbol, trade_type_category) {\n        const { NOT_AVAILABLE_DURATIONS, TRADE_TYPE_CATEGORIES, opposites } = config();\n        const trade_types = [];\n        const subcategories = TRADE_TYPE_CATEGORIES[trade_type_category];\n\n        if (subcategories) {\n            for (let i = 0; i < subcategories.length; i++) {\n                const trade_type = subcategories[i];\n                const durations = await this.getDurations(symbol, trade_type); // eslint-disable-line no-await-in-loop\n                const has_durations = JSON.stringify(durations) !== JSON.stringify(NOT_AVAILABLE_DURATIONS);\n                const is_disabled = this.isDisabledOption({\n                    market,\n                    submarket,\n                    symbol,\n                    trade_type_category,\n                    trade_type,\n                });\n\n                if (!is_disabled && has_durations) {\n                    const types = opposites[trade_type.toUpperCase()];\n                    // e.g. [['Rise/Fall', 'callput']]\n                    trade_types.push([types.map(type => type[Object.keys(type)[0]]).join('/'), trade_type]);\n                }\n            }\n        }\n\n        // Fallback trade types based on category\n        if (trade_types.length === 0) {\n            return TRADE_TYPES[trade_type_category] || [['Default', 'callput']];\n        }\n\n        return trade_types;\n    }\n\n    isDisabledOption(compare_obj) {\n        return this.disabled_options.some(disabled_obj =>\n            Object.keys(disabled_obj).every(prop => compare_obj[prop] === disabled_obj[prop])\n        );\n    }\n\n    disposeCache() {\n        this.contracts_for = {};\n    }\n\n    getContractTypes = trade_type => {\n        const { opposites } = config();\n        let trade_type_value = trade_type;\n        if (trade_type_value === 'ACCU') {\n            trade_type_value = 'accumulator';\n        }\n        const categories = opposites[trade_type_value.toUpperCase()].map(opposite => ({\n            value: Object.keys(opposite)[0],\n            text: Object.values(opposite)[0],\n        }));\n        return categories;\n    };\n}\n",
            "size_bytes": 28310
        },
        "src/utils/tmp/errors.ts": {
            "content": "class Errors {\n    errors: { [key: string]: string[] };\n\n    constructor() {\n        this.errors = {};\n    }\n\n    add(attribute: string, message: string) {\n        if (!this.has(attribute)) {\n            this.errors[attribute] = [];\n        }\n\n        if (this.errors[attribute].indexOf(message) === -1) {\n            this.errors[attribute].push(message);\n        }\n    }\n\n    all() {\n        return this.errors;\n    }\n\n    first(attribute: string) {\n        if (this.has(attribute)) {\n            return this.errors[attribute][0];\n        }\n        return null;\n    }\n\n    get(attribute: string) {\n        if (this.has(attribute)) {\n            return this.errors[attribute];\n        }\n\n        return [];\n    }\n\n    has(attribute: string) {\n        return Object.prototype.hasOwnProperty.call(this.errors, attribute);\n    }\n}\n\nexport default Errors;\n",
            "size_bytes": 852
        },
        "src/components/shared/utils/dom/position.ts": {
            "content": "type RectResult = Record<'bottom' | 'height' | 'left' | 'right' | 'top' | 'width', number>;\n\ntype TGetMaxHeightByAligning = {\n    parent_rect?: RectResult;\n    child_height?: number;\n};\n\ntype TGetPosition = Record<'child_el' | 'parent_el', HTMLElement | null> & {\n    preferred_alignment: string;\n    should_consider_parent_height?: boolean;\n};\n\nconst getMaxHeightByAligningBottom = ({ parent_rect, child_height = 0 }: TGetMaxHeightByAligning) =>\n    (parent_rect?.top || 0) + (parent_rect?.height || 0) + child_height;\n\nconst getMinHeightByAligningTop = ({ parent_rect, child_height = 0 }: TGetMaxHeightByAligning) =>\n    Number(parent_rect?.top) - child_height;\n\nexport const getPosition = ({\n    preferred_alignment = 'bottom',\n    child_el,\n    parent_el,\n    should_consider_parent_height = true,\n}: TGetPosition) => {\n    const parent_rect = parent_el?.getBoundingClientRect();\n    const child_height = child_el?.clientHeight;\n    const body_rect = document.body.getBoundingClientRect();\n\n    const { top, bottom, left, width } = parent_rect || { top: 0, bottom: 0, left: 0, width: 0 };\n    const max_height = getMaxHeightByAligningBottom({ parent_rect, child_height });\n\n    const top_placement_style = {\n        bottom: body_rect.bottom - (should_consider_parent_height ? top : bottom) + 8, // add 8px extra margin for better UX\n        insetInlineStart: left,\n        width,\n        transformOrigin: 'bottom',\n    };\n\n    const bottom_placement_style = {\n        top: should_consider_parent_height ? bottom : top,\n        insetInlineStart: left,\n        width,\n        transformOrigin: 'top',\n    };\n\n    if (preferred_alignment === 'bottom') {\n        if (max_height <= body_rect.height) {\n            return {\n                style: bottom_placement_style,\n                placement: 'bottom',\n            };\n        }\n    }\n\n    const min_height = getMinHeightByAligningTop({ parent_rect, child_height });\n    if (preferred_alignment === 'top') {\n        if (min_height >= 0) {\n            return {\n                style: top_placement_style,\n                placement: 'top',\n            };\n        }\n    }\n\n    if (max_height - body_rect.height < 0 - min_height) {\n        return {\n            style: bottom_placement_style,\n            placement: 'bottom',\n        };\n    }\n    return {\n        style: top_placement_style,\n        placement: 'top',\n    };\n};\n",
            "size_bytes": 2374
        },
        "src/components/shared/utils/validator/errors.ts": {
            "content": "class Errors {\n    errors: { [key: string]: string[] };\n\n    constructor() {\n        this.errors = {};\n    }\n\n    add(attribute: string, message: string) {\n        if (!this.has(attribute)) {\n            this.errors[attribute] = [];\n        }\n\n        if (this.errors[attribute].indexOf(message) === -1) {\n            this.errors[attribute].push(message);\n        }\n    }\n\n    all() {\n        return this.errors;\n    }\n\n    first(attribute: string) {\n        if (this.has(attribute)) {\n            return this.errors[attribute][0];\n        }\n        return null;\n    }\n\n    get(attribute: string) {\n        if (this.has(attribute)) {\n            return this.errors[attribute];\n        }\n\n        return [];\n    }\n\n    has(attribute: string) {\n        return Object.prototype.hasOwnProperty.call(this.errors, attribute);\n    }\n}\n\nexport default Errors;\n",
            "size_bytes": 852
        },
        "src/pages/tutorials/tutorials.types.ts": {
            "content": "export type TDescription = Pick<TContent, 'type' | 'content' | 'src' | 'imageclass' | 'is_mobile'>;\n\nexport type TFaqContent = Pick<TContent, 'title' | 'description' | 'src' | 'search_id'>;\n\nexport type TGuideContent = Omit<TContent, 'title' | 'description'>;\n\nexport type TUserGuideContent = Omit<TContent, 'title' | 'description'>;\n\nexport type TQuickStrategyContent = {\n    qs_name: string;\n    type: string;\n    content: string[];\n    search_id: string;\n};\n\nexport type TContent = {\n    content?: string;\n    description: TDescription[];\n    id: number;\n    src?: string;\n    subtype?: string;\n    title?: string;\n    type: string;\n    url?: string;\n    imageclass?: string;\n    search_id: string;\n    is_mobile?: boolean;\n};\n",
            "size_bytes": 730
        },
        "src/external/bot-skeleton/scratch/blocks/Advanced/List/lists_getIndex.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.lists_getIndex = {\n    init() {\n        this.MODE_OPTIONS = [\n            [localize('get'), 'GET'],\n            [localize('get and remove'), 'GET_REMOVE'],\n            [localize('remove'), 'REMOVE'],\n        ];\n        this.WHERE_OPTIONS = [\n            ['#', 'FROM_START'],\n            [localize('# from end'), 'FROM_END'],\n            [localize('first'), 'FIRST'],\n            [localize('last'), 'LAST'],\n            [localize('random'), 'RANDOM'],\n        ];\n        const modeMenu = new window.Blockly.FieldDropdown(this.MODE_OPTIONS, value => {\n            const isStatement = value === 'REMOVE';\n            this.updateStatement(isStatement);\n        });\n\n        this.appendValueInput('VALUE').setCheck('Array').appendField(localize('in list'));\n        this.appendDummyInput().appendField(modeMenu, 'MODE');\n        this.appendDummyInput('AT');\n        const block_color =\n            window.Blockly.Colours.Base.colour ||\n            window.Blockly.Colours.Base.colourSecondary ||\n            window.Blockly.Colours.Base.colourTertiary;\n        this.setColour(block_color);\n        this.setTooltip(\n            'This block gives you the value of a specific item in a list, given the position of the item. It can also remove the item from the list.'\n        );\n        this.setInputsInline(true);\n        this.setOutput(true, null);\n        this.setOutputShape(window.Blockly.OUTPUT_SHAPE_ROUND);\n        this.updateAt(true);\n    },\n    meta() {\n        return {\n            display_name: localize('Get list item'),\n            description: localize(\n                'This block gives you the value of a specific item in a list, given the position of the item. It can also remove the item from the list.'\n            ),\n            category: window.Blockly.Categories.List,\n        };\n    },\n    mutationToDom() {\n        const container = document.createElement('mutation');\n        const isStatement = !this.outputConnection;\n        const isAt = this.getInput('AT').type === window.Blockly.INPUT_VALUE;\n\n        container.setAttribute('statement', isStatement);\n        container.setAttribute('at', isAt);\n\n        return container;\n    },\n    domToMutation(xmlElement) {\n        const isStatement = xmlElement.getAttribute('statement') === 'true';\n        this.updateStatement(isStatement);\n\n        const isAt = xmlElement.getAttribute('at') !== 'false';\n        this.updateAt(isAt);\n    },\n    updateStatement(newStatement) {\n        const oldStatement = !this.outputConnection;\n\n        if (newStatement !== oldStatement) {\n            this.unplug(true, true);\n\n            this.setOutput(!newStatement);\n            this.setPreviousStatement(newStatement);\n            this.setNextStatement(newStatement);\n\n            this.initSvg();\n        }\n    },\n    updateAt(isAt) {\n        this.removeInput('AT', true);\n\n        if (isAt) {\n            this.appendValueInput('AT').setCheck('Number');\n        } else {\n            this.appendDummyInput('AT');\n        }\n\n        const menu = new window.Blockly.FieldDropdown(this.WHERE_OPTIONS, value => {\n            const newAt = ['FROM_START', 'FROM_END'].includes(value);\n            if (newAt !== isAt) {\n                this.updateAt(newAt);\n                this.setFieldValue(value, 'WHERE');\n                return null;\n            }\n            return undefined;\n        });\n\n        this.getInput('AT').appendField(menu, 'WHERE');\n\n        this.initSvg();\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.lists_getIndex = block => {\n    const mode = block.getFieldValue('MODE') || 'GET';\n    const where = block.getFieldValue('WHERE') || 'FIRST';\n    const listOrder =\n        where === 'RANDOM'\n            ? window.Blockly.JavaScript.javascriptGenerator.ORDER_COMMA\n            : window.Blockly.JavaScript.javascriptGenerator.ORDER_MEMBER;\n    const list = window.Blockly.JavaScript.javascriptGenerator.valueToCode(block, 'VALUE', listOrder) || '[]';\n\n    let code, order;\n\n    if (where === 'FIRST') {\n        if (mode === 'GET') {\n            code = `${list}[0]`;\n            order = window.Blockly.JavaScript.javascriptGenerator.ORDER_MEMBER;\n        } else if (mode === 'GET_REMOVE') {\n            code = `${list}.shift()`;\n            order = window.Blockly.JavaScript.javascriptGenerator.ORDER_MEMBER;\n        } else if (mode === 'REMOVE') {\n            return `${list}.shift();\\n`;\n        }\n    } else if (where === 'LAST') {\n        if (mode === 'GET') {\n            code = `${list}.slice(-1)[0]`;\n            order = window.Blockly.JavaScript.javascriptGenerator.ORDER_MEMBER;\n        } else if (mode === 'GET_REMOVE') {\n            code = `${list}.pop()`;\n            order = window.Blockly.JavaScript.javascriptGenerator.ORDER_MEMBER;\n        } else if (mode === 'REMOVE') {\n            return `${list}.pop();\\n`;\n        }\n    } else if (where === 'FROM_START') {\n        const at = window.Blockly.JavaScript.javascriptGenerator.getAdjusted(block, 'AT');\n        if (mode === 'GET') {\n            code = `${list}[${at}]`;\n            order = window.Blockly.JavaScript.javascriptGenerator.ORDER_MEMBER;\n        } else if (mode === 'GET_REMOVE') {\n            code = `${list}.splice(${at}, 1)[0]`;\n            order = window.Blockly.JavaScript.javascriptGenerator.ORDER_FUNCTION_CALL;\n        } else if (mode === 'REMOVE') {\n            return `${list}.splice(${at}, 1);\\n`;\n        }\n    } else if (where === 'FROM_END') {\n        const at = window.Blockly.JavaScript.javascriptGenerator.getAdjusted(block, 'AT', 1, true);\n        if (mode === 'GET') {\n            code = `${list}.slice(${at})[0]`;\n            order = window.Blockly.JavaScript.javascriptGenerator.ORDER_FUNCTION_CALL;\n        } else if (mode === 'GET_REMOVE') {\n            code = `${list}.splice(${at}, 1)[0]`;\n            order = window.Blockly.JavaScript.javascriptGenerator.ORDER_FUNCTION_CALL;\n        } else if (mode === 'REMOVE') {\n            return `${list}.splice(${at}, 1);\\n`;\n        }\n    } else if (where === 'RANDOM') {\n        // eslint-disable-next-line no-underscore-dangle\n        const functionName = window.Blockly.JavaScript.javascriptGenerator.provideFunction_('listsGetRandomItem', [\n            // eslint-disable-next-line no-underscore-dangle\n            `function ${window.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(list, remove) {\n                var x = Math.floor(Math.random() * list.length);\n                if (remove) {\n                    return list.splice(x, 1)[0];\n                } else {\n                    return list[x];\n                }\n            }`,\n        ]);\n\n        code = `${functionName}(${list}, ${mode !== 'GET'})`;\n\n        if (mode === 'GET' || mode === 'GET_REMOVE') {\n            order = window.Blockly.JavaScript.javascriptGenerator.ORDER_FUNCTION_CALL;\n        } else if (mode === 'REMOVE') {\n            return `${code};\\n`;\n        }\n    }\n\n    return [code, order];\n};\n",
            "size_bytes": 7103
        },
        "src/components/journal/journal-components/journal-tools.tsx": {
            "content": "import React from 'react';\nimport { CSSTransition } from 'react-transition-group';\nimport Download from '@/components/download';\nimport Text from '@/components/shared_ui/text';\nimport { LabelPairedBarsFilterCaptionFillIcon } from '@deriv/quill-icons/LabelPaired';\nimport { Localize } from '@deriv-com/translations';\nimport { TJournalToolsProps } from '../journal.types';\nimport FilterDialog from './filter-dialog';\n\nconst JournalTools = ({\n    checked_filters,\n    filters,\n    filterMessage,\n    is_filter_dialog_visible,\n    toggleFilterDialog,\n}: TJournalToolsProps) => {\n    const toggle_ref = React.useRef<HTMLDivElement>(null);\n\n    return (\n        <>\n            <div className='journal-tools__container'>\n                <Download tab='journal' />\n                <div ref={toggle_ref} className='journal-tools__container-filter' onClick={toggleFilterDialog}>\n                    <Text size='xs' className='journal-tools__container-filter--label'>\n                        <Localize i18n_default_text='Filters' />\n                    </Text>\n                    <LabelPairedBarsFilterCaptionFillIcon height='16px' width='16px' fill='var(--text-general)' />\n                </div>\n            </div>\n            <CSSTransition\n                in={is_filter_dialog_visible}\n                classNames={{\n                    enter: 'filter-dialog--enter',\n                    enterDone: 'filter-dialog--enter-done',\n                    exit: 'filter-dialog--exit',\n                }}\n                timeout={150}\n                unmountOnExit\n            >\n                <FilterDialog\n                    toggle_ref={toggle_ref}\n                    checked_filters={checked_filters}\n                    filters={filters}\n                    filterMessage={filterMessage}\n                    is_filter_dialog_visible={is_filter_dialog_visible}\n                    toggleFilterDialog={toggleFilterDialog}\n                />\n            </CSSTransition>\n        </>\n    );\n};\n\nexport default JournalTools;\n",
            "size_bytes": 2011
        },
        "analysis-tool/Benanalysistool-final-main/components/signal-card.tsx": {
            "content": "\"use client\"\n\nimport { motion } from \"framer-motion\"\nimport type { Signal } from \"@/lib/analysis-engine\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Badge } from \"@/components/ui/badge\"\n\ninterface SignalCardProps {\n  signal: Signal\n}\n\nexport function SignalCard({ signal }: SignalCardProps) {\n  const statusConfig = {\n    \"TRADE NOW\": {\n      color: \"bg-success text-success-foreground\",\n      glow: \"shadow-[0_0_20px_rgba(34,197,94,0.5)]\",\n    },\n    WAIT: {\n      color: \"bg-chart-5 text-foreground\",\n      glow: \"shadow-[0_0_15px_rgba(251,191,36,0.3)]\",\n    },\n    NEUTRAL: {\n      color: \"bg-muted text-muted-foreground\",\n      glow: \"\",\n    },\n  }\n\n  const config = statusConfig[signal.status]\n  const shouldPulse = signal.status === \"TRADE NOW\"\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      className={shouldPulse ? \"animate-pulse-slow\" : \"\"}\n    >\n      <Card className={`neomorph ${config.glow}`}>\n        <CardHeader>\n          <div className=\"flex items-center justify-between\">\n            <CardTitle className=\"text-lg capitalize\">{signal.type.replace(\"_\", \" / \")}</CardTitle>\n            <Badge className={config.color}>{signal.status}</Badge>\n          </div>\n          <CardDescription>{signal.probability.toFixed(1)}% Probability</CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-3\">\n          <div>\n            <div className=\"text-sm font-medium text-muted-foreground mb-1\">Recommendation</div>\n            <div className=\"text-sm text-foreground\">{signal.recommendation}</div>\n          </div>\n          <div>\n            <div className=\"text-sm font-medium text-muted-foreground mb-1\">Entry Condition</div>\n            <div className=\"text-sm text-foreground\">{signal.entryCondition}</div>\n          </div>\n          {signal.targetDigit !== undefined && (\n            <div>\n              <div className=\"text-sm font-medium text-muted-foreground mb-1\">Target Digit</div>\n              <div className=\"text-2xl font-bold text-primary\">{signal.targetDigit}</div>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </motion.div>\n  )\n}\n",
            "size_bytes": 2229
        },
        "src/components/shared/utils/helpers/barrier.ts": {
            "content": "type TContract = {\n    high_barrier?: null | string;\n    barriers?: number;\n    barrier?: null | string;\n    low_barrier?: null | string;\n    expiry_type: string;\n};\n\ntype TObjectBarrier = Pick<TContract, 'barrier' | 'low_barrier' | 'high_barrier'>;\n\nexport const buildBarriersConfig = (contract: TContract, barriers = { count: contract.barriers }) => {\n    if (!contract.barriers) {\n        return undefined;\n    }\n\n    const obj_barrier: TObjectBarrier = {};\n\n    ['barrier', 'low_barrier', 'high_barrier'].forEach(field => {\n        if (field in contract) obj_barrier[field as keyof TObjectBarrier] = contract[field as keyof TObjectBarrier];\n    });\n\n    return Object.assign(barriers || {}, {\n        [contract.expiry_type]: obj_barrier,\n    });\n};\n\nexport const getBarrierPipSize = (barrier: string) => {\n    if (barrier.length < 1 || isNaN(+barrier)) return 0;\n    return barrier.split('.')[1]?.length || 0;\n};\n",
            "size_bytes": 917
        },
        "src/types/localize.types.ts": {
            "content": "import { useTranslations } from '@deriv-com/translations';\n\nexport type TLocalize = ReturnType<typeof useTranslations>['localize'];\n",
            "size_bytes": 132
        },
        "analysis-tool/Benanalysistool-final-main/components/ui/badge.tsx": {
            "content": "import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\n        destructive:\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'span'> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : 'span'\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n",
            "size_bytes": 1632
        },
        "src/components/shared/utils/constants/default-options.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\n/**\n * Returns an object that allows user to skip IDV\n */\n\nexport const getIDVNotApplicableOption = (is_for_real_account_signup_modal?: boolean) => ({\n    id: 'none',\n    text: is_for_real_account_signup_modal\n        ? localize('I want to do this later')\n        : localize(\"I don't have any of these\"),\n    value: 'none',\n});\n\n/**\n * Returns default value for the text to render when there are no matching results.\n */\nexport const getSearchNotFoundOption = () => localize('No results found');\n",
            "size_bytes": 549
        },
        "src/external/bot-skeleton/scratch/blocks/Text/index.js": {
            "content": "import './text';\nimport './text_join';\nimport './text_statement';\nimport './text_append';\nimport './text_length';\nimport './text_isEmpty';\nimport './text_indexOf';\nimport './text_charAt';\nimport './text_getSubstring';\nimport './text_changeCase';\nimport './text_trim';\nimport './text_print';\nimport './text_prompt_ext';\n",
            "size_bytes": 319
        },
        "src/analytics/rudderstack-common-events.ts": {
            "content": "import { Analytics, TEvents } from '@deriv-com/analytics';\nimport { ACTION, form_name, TFormStrategy } from './constants';\nimport { getRsStrategyType } from './utils';\n\nexport const rudderStackSendOpenEvent = ({\n    subpage_name,\n    subform_source,\n    subform_name,\n    load_strategy_tab,\n}: TEvents['ce_bot_form']) => {\n    Analytics.trackEvent('ce_bot_form', {\n        action: ACTION.OPEN,\n        form_name,\n        subpage_name,\n        subform_name,\n        subform_source,\n        load_strategy_tab,\n    });\n};\n\nexport const rudderStackSendCloseEvent = ({\n    subform_name,\n    quick_strategy_tab,\n    selected_strategy,\n    load_strategy_tab,\n    announcement_name,\n}: TEvents['ce_bot_form'] & TFormStrategy) => {\n    Analytics.trackEvent('ce_bot_form', {\n        action: ACTION.CLOSE,\n        form_name,\n        subform_name,\n        quick_strategy_tab,\n        strategy_name: getRsStrategyType(selected_strategy),\n        load_strategy_tab,\n        announcement_name,\n    });\n};\n\nexport const rudderStackSendRunBotEvent = ({ subpage_name }: TEvents['ce_bot_form']) => {\n    Analytics.trackEvent('ce_bot_form', {\n        action: ACTION.RUN_BOT,\n        form_name,\n        subpage_name,\n    });\n};\n\nexport const rudderStackSendUploadStrategyStartEvent = ({ upload_provider, upload_id }: TEvents['ce_bot_form']) => {\n    Analytics.trackEvent('ce_bot_form', {\n        action: ACTION.UPLOAD_STRATEGY_START,\n        form_name,\n        subform_name: 'load_strategy',\n        subpage_name: 'bot_builder',\n        upload_provider,\n        upload_id,\n    });\n};\n\nexport const rudderStackSendUploadStrategyCompletedEvent = ({\n    upload_provider,\n    upload_id,\n    upload_type,\n}: TEvents['ce_bot_form']) => {\n    Analytics.trackEvent('ce_bot_form', {\n        action: ACTION.UPLOAD_STRATEGY_COMPLETED,\n        form_name,\n        subform_name: 'load_strategy',\n        subpage_name: 'bot_builder',\n        upload_provider,\n        upload_id,\n        upload_type,\n    });\n};\n\nexport const rudderStackSendUploadStrategyFailedEvent = ({\n    upload_provider,\n    upload_id,\n    upload_type,\n    error_message,\n    error_code,\n}: TEvents['ce_bot_form']) => {\n    Analytics.trackEvent('ce_bot_form', {\n        action: ACTION.UPLOAD_STRATEGY_FAILED,\n        form_name,\n        subform_name: 'load_strategy',\n        subpage_name: 'bot_builder',\n        upload_provider,\n        upload_id,\n        upload_type,\n        error_message,\n        error_code,\n    });\n};\n\nexport const rudderStackSendGoogleDriveConnectEvent = () => {\n    Analytics.trackEvent('ce_bot_form', {\n        action: ACTION.GOOGLE_DRIVE_CONNECT,\n        form_name,\n        subpage_name: 'bot_builder',\n    });\n};\n\nexport const rudderStackSendGoogleDriveDisconnectEvent = () => {\n    Analytics.trackEvent('ce_bot_form', {\n        action: ACTION.GOOGLE_DRIVE_DISCONNECT,\n        form_name,\n        subpage_name: 'bot_builder',\n    });\n};\n",
            "size_bytes": 2897
        },
        "src/pages/bot-builder/toolbox/search-box/index.ts": {
            "content": "import SearchBox from './search-box';\n\nexport default SearchBox;\n",
            "size_bytes": 65
        },
        "src/components/shared_ui/contract-card/contract-card-items/lookbacks-card-body.tsx": {
            "content": "import React from 'react';\nimport { CONTRACT_TYPES, getCardLabels, getDisplayStatus, isCryptocurrency } from '@/components/shared';\nimport { Localize } from '@deriv-com/translations';\nimport ArrowIndicator from '../../arrow-indicator';\nimport MobileWrapper from '../../mobile-wrapper';\nimport Money from '../../money';\nimport Text from '../../text';\nimport { ResultStatusIcon } from '../result-overlay/result-overlay';\nimport ContractCardItem from './contract-card-item';\nimport { TGeneralContractCardBodyProps } from './contract-update-form';\n\ntype TLookBacksCardBody = Pick<TGeneralContractCardBodyProps, 'contract_info' | 'currency' | 'is_sold'> & {\n    progress_slider_mobile_el: React.ReactNode;\n    indicative?: number | null;\n};\n\nconst LookBacksCardBody = ({\n    contract_info,\n    currency,\n    is_sold,\n    indicative,\n    progress_slider_mobile_el,\n}: TLookBacksCardBody) => {\n    const { buy_price, contract_type, sell_price, profit, multiplier } = contract_info;\n    const { INDICATIVE_PRICE, MULTIPLIER, PROFIT_LOSS, POTENTIAL_PROFIT_LOSS, PAYOUT, PURCHASE_PRICE } =\n        getCardLabels();\n\n    const getPayoutLimit = (contract_type?: string, multiplier?: number) => {\n        let formula_base: string | React.ReactNode = '';\n        if (contract_type === CONTRACT_TYPES.LB_PUT) {\n            formula_base = <Localize i18n_default_text='(High - Close)' />;\n        } else if (contract_type === CONTRACT_TYPES.LB_CALL) {\n            formula_base = <Localize i18n_default_text='(Close - Low)' />;\n        } else if (contract_type === CONTRACT_TYPES.LB_HIGH_LOW) {\n            formula_base = <Localize i18n_default_text='(High - Low)' />;\n        }\n\n        return (\n            <React.Fragment>\n                <Localize\n                    i18n_default_text='Payout limit: {{multiplier}} x '\n                    values={{\n                        multiplier,\n                    }}\n                />\n                {formula_base}\n            </React.Fragment>\n        );\n    };\n\n    return (\n        <React.Fragment>\n            <div className='dc-contract-card-items-wrapper dc-contract-card--lookbacks'>\n                <ContractCardItem\n                    header={is_sold ? PROFIT_LOSS : POTENTIAL_PROFIT_LOSS}\n                    is_crypto={isCryptocurrency(currency)}\n                    is_loss={Number(profit) < 0}\n                    is_won={Number(profit) > 0}\n                >\n                    <Money amount={profit} currency={currency} />\n                    {!is_sold && <ArrowIndicator className='dc-contract-card__indicative--movement' value={profit} />}\n                </ContractCardItem>\n                <ContractCardItem header={is_sold ? PAYOUT : INDICATIVE_PRICE}>\n                    <Money currency={currency} amount={Number(sell_price || indicative)} />\n                    {!is_sold && (\n                        <ArrowIndicator\n                            className='dc-contract-card__indicative--movement'\n                            value={Number(sell_price || indicative)}\n                        />\n                    )}\n                </ContractCardItem>\n                <ContractCardItem header={PURCHASE_PRICE}>\n                    <Money amount={buy_price} currency={currency} />\n                </ContractCardItem>\n                <ContractCardItem header={MULTIPLIER}>{`x${multiplier}`}</ContractCardItem>\n                <MobileWrapper>\n                    <div className='dc-contract-card__status'>\n                        {is_sold ? (\n                            <ResultStatusIcon\n                                getCardLabels={getCardLabels}\n                                is_contract_won={getDisplayStatus(contract_info) === 'won'}\n                            />\n                        ) : (\n                            progress_slider_mobile_el\n                        )}\n                    </div>\n                </MobileWrapper>\n            </div>\n            <ContractCardItem className='dc-contract-card-item__payout-limit'>\n                <Text align='center' lineHeightt='l' size='xxs'>\n                    {getPayoutLimit(contract_type, multiplier)}\n                </Text>\n            </ContractCardItem>\n        </React.Fragment>\n    );\n};\n\nexport default React.memo(LookBacksCardBody);\n",
            "size_bytes": 4262
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Trade Definition/accumulator_take_profit.js": {
            "content": "import { getCurrencyDisplayCode } from '@/components/shared';\nimport { localize } from '@deriv-com/translations';\nimport { config } from '../../../../constants/config';\nimport { excludeOptionFromContextMenu, modifyContextMenu, setCurrency } from '../../../utils';\n\nconst description = localize(\n    'Your contract is closed automatically when your profit is more than or equals to this amount. This block can only be used with the accumulator trade type.'\n);\n\nwindow.Blockly.Blocks.accumulator_take_profit = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Take Profit: {{ currency }} {{ take_profit }}', {\n                currency: '%1',\n                take_profit: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_label',\n                    name: 'CURRENCY_LIST',\n                    text: getCurrencyDisplayCode(config().lists.CURRENCY[0]),\n                },\n                {\n                    type: 'input_value',\n                    name: 'AMOUNT',\n                    check: 'Number',\n                },\n            ],\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: description,\n            category: window.Blockly.Categories.Trade_Definition,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Take Profit (Accumulator)'),\n            description,\n        };\n    },\n    onchange(event) {\n        if (!this.workspace || window.Blockly.derivWorkspace.isFlyoutVisible || this.workspace.isDragging()) {\n            return;\n        }\n        if (\n            (event.type === window.Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id)) ||\n            (event.type === window.Blockly.Events.BLOCK_DRAG && !event.isStart) ||\n            (event.type === window.Blockly.Events.BLOCK_CHANGE && !event.isStart)\n        ) {\n            setCurrency(this);\n        }\n    },\n    customContextMenu(menu) {\n        const menu_items = [localize('Enable Block'), localize('Disable Block')];\n        excludeOptionFromContextMenu(menu, menu_items);\n        modifyContextMenu(menu);\n    },\n    restricted_parents: ['trade_definition_accumulator'],\n    getRequiredValueInputs() {\n        const field_input = this.getInput('AMOUNT');\n        if (field_input.connection.targetBlock()) {\n            return {\n                AMOUNT: input => {\n                    const input_number = Number(input);\n                    this.error_message = localize('Take profit must be a positive number.');\n                    return !isNaN(input_number) && input_number <= 0;\n                },\n            };\n        }\n        return {};\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.accumulator_take_profit = () => {};\n",
            "size_bytes": 3028
        },
        "src/external/bot-skeleton/scratch/blocks/Logic/controls_if.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../utils';\nimport { minusIconDark, plusIconDark } from '../images';\n\nwindow.Blockly.Blocks.controls_if = {\n    init() {\n        this.value_connections = [null];\n        this.statement_connections = [null];\n        this.else_statement_connection = null;\n        this.else_if_count = 0;\n        this.else_count = 0;\n        this.jsonInit(this.definition());\n        this.updateShape();\n    },\n    definition() {\n        return {\n            message0: localize('if {{ condition }} then', { condition: '%1' }),\n            message1: '%1',\n            message2: '%1',\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'IF0',\n                    check: 'Boolean',\n                },\n            ],\n            args1: [\n                {\n                    type: 'field_image',\n                    src: ' ', // this is here to add extra padding\n                    width: 150,\n                    height: 1,\n                },\n            ],\n            args2: [\n                {\n                    type: 'input_statement',\n                    name: 'DO0',\n                },\n            ],\n            inputsInline: true,\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Conditional block'),\n            category: window.Blockly.Categories.Logic,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    meta() {\n        return {\n            display_name: localize('Conditional block'),\n            description: localize(\n                'This block evaluates a statement and will perform an action only when the statement is true.'\n            ),\n        };\n    },\n    /**\n     * Create XML to represent the number of else-if and else inputs.\n     * @return {Element} XML storage element.\n     * @this window.Blockly.Block\n     */\n    mutationToDom() {\n        const container = document.createElement('mutation');\n\n        if (this.else_if_count) {\n            container.setAttribute('elseif', this.else_if_count);\n        }\n\n        if (this.else_count) {\n            container.setAttribute('else', 1);\n        }\n\n        return container;\n    },\n    /**\n     * Parse XML to restore the else-if and else inputs.\n     * @param {!Element} xmlElement XML storage element.\n     * @this window.Blockly.Block\n     */\n    domToMutation(xmlElement) {\n        this.else_if_count = parseInt(xmlElement.getAttribute('elseif')) || 0;\n        this.else_count = parseInt(xmlElement.getAttribute('else')) || 0;\n        this.rebuildShape();\n    },\n    rebuildShape() {\n        const value_connections = [null];\n        const statement_connections = [null];\n        const else_statement_connection = this.getInput('ELSE')?.connection?.targetConnection || null;\n\n        let i = 1;\n\n        // eslint-disable-next-line no-constant-condition\n        while (true) {\n            const input_names = this.getIfInputNames(i);\n            const if_input = this.getInput(input_names.IF);\n\n            if (!if_input) {\n                break;\n            }\n\n            const do_input = this.getInput(input_names.DO);\n            value_connections.push(if_input.connection.targetConnection);\n            statement_connections.push(do_input.connection.targetConnection);\n            i++;\n        }\n\n        this.updateShape();\n        this.reconnectChildBlocks(value_connections, statement_connections, else_statement_connection);\n    },\n    update(updateFn) {\n        window.Blockly.Events.setGroup(true);\n\n        const old_mutation_dom = this.mutationToDom();\n        const old_mutation = old_mutation_dom && window.Blockly.Xml.domToText(old_mutation_dom);\n        const is_rendered = this.rendered;\n\n        this.rendered = false;\n\n        if (updateFn) {\n            updateFn.call(this);\n        }\n\n        this.updateShape();\n        this.rendered = is_rendered;\n        this.initSvg();\n\n        const group = window.Blockly.Events.getGroup();\n        const new_mutation_dom = this.mutationToDom();\n        const new_mutation = new_mutation_dom && window.Blockly.Xml.domToText(new_mutation_dom);\n\n        if (old_mutation !== new_mutation) {\n            const change_event = new window.Blockly.Events.BlockChange(\n                this,\n                'mutation',\n                null,\n                old_mutation,\n                new_mutation\n            );\n            window.Blockly.Events.fire(change_event);\n\n            setTimeout(() => {\n                window.Blockly.Events.setGroup(group);\n                this.bumpNeighbours();\n                window.Blockly.Events.setGroup(false);\n            }, window.Blockly.BUMP_DELAY);\n        }\n\n        if (this.rendered) {\n            this.renderEfficiently();\n        }\n\n        window.Blockly.Events.setGroup(false);\n    },\n    updateShape() {\n        if (this.getInput('ELSE')) {\n            this.removeInput('ELSE');\n            this.removeInput('ELSE_LABEL');\n            this.removeInput('DELETE_ELSE');\n        }\n\n        let i = 1;\n\n        // eslint-disable-next-line no-constant-condition\n        while (true) {\n            const input_names = this.getIfInputNames(i);\n\n            if (!this.getInput(input_names.IF)) {\n                break;\n            }\n\n            this.removeInput(input_names.IF_LABEL);\n            this.removeInput(input_names.IF);\n            this.removeInput(input_names.THEN_LABEL);\n            this.removeInput(input_names.DELETE_ICON);\n            this.removeInput(input_names.DO);\n\n            i++;\n        }\n\n        if (this.getInput('MUTATOR')) {\n            this.removeInput('MUTATOR'); // \"+\" icon.\n        }\n\n        // Rebuild else if statements\n        for (let j = 1; j <= this.else_if_count; j++) {\n            const input_names = this.getIfInputNames(j);\n            const removeElseIf = () => this.modifyElseIf(false, j);\n\n            this.appendDummyInput(input_names.IF_LABEL).appendField(localize('else if'));\n            this.appendValueInput(input_names.IF).setCheck('Boolean');\n            this.appendDummyInput(input_names.THEN_LABEL).appendField(localize('then'));\n            this.appendDummyInput(input_names.DELETE_ICON).appendField(\n                new window.Blockly.FieldImage(minusIconDark, 24, 24, '-', removeElseIf)\n            );\n            this.appendStatementInput(input_names.DO);\n        }\n\n        // Rebuild else statement\n        if (this.else_count > 0) {\n            const removeElse = () => this.modifyElse(false);\n            this.appendDummyInput('ELSE_LABEL').appendField(localize('else'));\n            this.appendDummyInput('DELETE_ELSE').appendField(\n                new window.Blockly.FieldImage(minusIconDark, 24, 24, '-', removeElse, false)\n            );\n            this.appendStatementInput('ELSE');\n        }\n\n        const addElseIf = () => {\n            if (this.else_count === 0) {\n                this.modifyElse(true);\n            } else {\n                if (!this.else_if_count) {\n                    this.else_if_count = 0;\n                }\n\n                this.modifyElseIf(true);\n            }\n        };\n\n        // Re-add the \"+\" icon\n        this.appendDummyInput('MUTATOR').appendField(\n            new window.Blockly.FieldImage(plusIconDark, 24, 24, '+', addElseIf, false)\n        );\n\n        this.initSvg();\n        this.queueRender();\n    },\n    storeConnections(arg = 0) {\n        this.value_connections = [null];\n        this.statement_connections = [null];\n        this.else_statement_connection = null;\n\n        for (let i = 1; i <= this.else_if_count; i++) {\n            if (arg !== i) {\n                const input_names = this.getIfInputNames(i);\n\n                this.value_connections.push(this.getInput(input_names.IF).connection.targetConnection);\n                this.statement_connections.push(this.getInput(input_names.DO).connection.targetConnection);\n            }\n        }\n\n        const else_input = this.getInput('ELSE');\n\n        if (else_input) {\n            this.else_statement_connection = else_input.connection.targetConnection;\n        }\n    },\n    reconnectChildBlocks(opt_value_conns, opt_statement_conns, opt_else_statement_conns) {\n        const value_connections = opt_value_conns ?? this.value_connections;\n        const statement_connections = opt_statement_conns ?? this.statement_connections;\n        const else_statement_connection = opt_else_statement_conns ?? this.else_statement_connection;\n\n        for (let i = 1; i <= this.else_if_count; i++) {\n            const input_names = this.getIfInputNames(i);\n            const value_connection = value_connections[i];\n            const statement_connection = statement_connections[i];\n\n            const if_input = this.getInput(input_names.IF);\n            if (value_connection && if_input) {\n                if_input.connection.disconnect();\n                if_input.connection.connect(value_connection);\n            }\n\n            const do_input = this.getInput(input_names.DO);\n            if (statement_connection && do_input) {\n                do_input.connection.disconnect();\n                do_input.connection.connect(statement_connection);\n            }\n        }\n\n        const else_input = this.getInput('ELSE');\n        if (else_statement_connection && else_input) {\n            else_input.connection.disconnect();\n            else_input.connection.connect(else_statement_connection);\n        }\n    },\n    modifyElse(is_add) {\n        const update = () => {\n            this.else_count += is_add ? 1 : -1;\n        };\n\n        this.storeConnections();\n        this.update(update);\n        this.reconnectChildBlocks();\n    },\n    modifyElseIf(is_add, opt_idx) {\n        this.storeConnections(opt_idx);\n\n        const update = () => {\n            this.else_if_count += is_add ? 1 : -1;\n        };\n\n        this.update(update);\n        this.reconnectChildBlocks();\n    },\n    getRequiredValueInputs() {\n        const required_inputs = {};\n        this.inputList\n            .filter(input => /^IF[0-9]*?$/.test(input.name))\n            .forEach(input => (required_inputs[input.name] = null));\n\n        return required_inputs;\n    },\n    getIfInputNames: idx => {\n        return {\n            IF_LABEL: `IF_LABEL${idx}`,\n            IF: `IF${idx}`,\n            THEN_LABEL: `THEN_LABEL${idx}`,\n            DELETE_ICON: `DELETE_ICON${idx}`,\n            DO: `DO${idx}`,\n        };\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.controls_if = block => {\n    // If/elseif/else condition.\n    let n = 0;\n    let code = '';\n\n    do {\n        const condition =\n            window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n                block,\n                `IF${n}`,\n                window.Blockly.JavaScript.javascriptGenerator.ORDER_NONE\n            ) || 'false';\n\n        // i.e. (else)? if { // code }\n        const keyword = n > 0 ? 'else if' : 'if';\n        code += `\n        ${keyword} (${condition}) {\n            ${window.Blockly.JavaScript.javascriptGenerator.statementToCode(block, `DO${n}`)}\n        }`;\n        n++;\n    } while (block.getInput(`IF${n}`));\n\n    if (block.getInput('ELSE')) {\n        code += `\n        else {\n            ${window.Blockly.JavaScript.javascriptGenerator.statementToCode(block, 'ELSE')}\n        }`;\n    }\n\n    return `${code}\\n`;\n};\n",
            "size_bytes": 11633
        },
        "src/pages/bot-builder/quick-strategy/utils.ts": {
            "content": "export const V2_QS_STRATEGIES = [\n    'ACCUMULATORS_MARTINGALE',\n    'ACCUMULATORS_DALEMBERT',\n    'ACCUMULATORS_MARTINGALE_ON_STAT_RESET',\n    'ACCUMULATORS_DALEMBERT_ON_STAT_RESET',\n    'ACCUMULATORS_REVERSE_MARTINGALE',\n    'ACCUMULATORS_REVERSE_MARTINGALE_ON_STAT_RESET',\n    'ACCUMULATORS_REVERSE_DALEMBERT',\n    'ACCUMULATORS_REVERSE_DALEMBERT_ON_STAT_RESET',\n];\n",
            "size_bytes": 369
        },
        "src/external/bot-skeleton/services/api/chart-api.js": {
            "content": "import { generateDerivApiInstance } from './appId';\n\nclass ChartAPI {\n    api;\n    chart_active_symbols = null; // Separate variable for chart-specific symbols\n\n    onsocketclose() {\n        this.reconnectIfNotConnected();\n    }\n\n    init = async (force_create_connection = false) => {\n        if (!this.api || force_create_connection) {\n            if (this.api?.connection) {\n                this.api.disconnect();\n                this.api.connection.removeEventListener('close', this.onsocketclose.bind(this));\n            }\n            this.api = await generateDerivApiInstance();\n            this.api?.connection.addEventListener('close', this.onsocketclose.bind(this));\n\n            // Intercept the send method to filter active_symbols responses for chart\n            // this.interceptApiCalls();\n\n            // Force inject symbols after a short delay to ensure api_base is ready\n            // this.forceInjectSymbols();\n        }\n        this.getTime();\n    };\n\n    getTime() {\n        if (!this.time_interval) {\n            this.time_interval = setInterval(() => {\n                this.api.send({ time: 1 });\n            }, 30000);\n        }\n    }\n\n    reconnectIfNotConnected = () => {\n        if (this.api?.connection?.readyState && this.api?.connection?.readyState > 1) {\n            this.init(true);\n        }\n    };\n\n    // /**\n    //  * Intercept API calls to filter active_symbols responses specifically for chart\n    //  */\n    // interceptApiCalls = () => {\n    //     if (!this.api || !this.api.send) {\n    //         return;\n    //     }\n\n    //     // Store the original send method\n    //     const originalSend = this.api.send.bind(this.api);\n\n    //     // Override the send method\n    //     this.api.send = async request => {\n    //         const response = await originalSend(request);\n\n    //         const hasActiveSymbolsResponse =\n    //             response && response.active_symbols && Array.isArray(response.active_symbols);\n\n    //         // If this is an active_symbols request, filter the response for chart\n    //         if (hasActiveSymbolsResponse) {\n    //             // Create chart-specific filtered symbols without modifying the original response\n    //             this.chart_active_symbols = this.getFilteredActiveSymbolsForChart(response.active_symbols);\n\n    //             const modified_response = {\n    //                 ...response,\n    //                 active_symbols: this.chart_active_symbols,\n    //             };\n\n    //             return modified_response;\n    //         }\n\n    //         return response;\n    //     };\n    // };\n\n    // /**\n    //  * Get filtered active symbols specifically for chart usage\n    //  * Removes chart-specific exclusions and ensures new 1s volatility indices are included\n    //  * @param {Array} original_symbols - Original active symbols from API\n    //  * @returns {Array} Filtered active symbols for chart\n    //  */\n    // getFilteredActiveSymbolsForChart = original_symbols => {\n    //     if (!original_symbols || !Array.isArray(original_symbols)) {\n    //         return [];\n    //     }\n\n    //     // Chart-specific symbol exclusions\n    //     const CHART_EXCLUDED_SYMBOLS = ['OTC_IBEX35']; // Spain 35\n\n    //     // Create a copy of symbols to avoid modifying the original\n    //     let filtered_symbols = [...original_symbols];\n\n    //     // Filter out excluded symbols for chart\n    //     filtered_symbols = filtered_symbols.filter(symbol => {\n    //         const symbol_code = symbol.underlying_symbol || symbol.symbol;\n    //         const should_exclude = CHART_EXCLUDED_SYMBOLS.includes(symbol_code);\n    //         return !should_exclude;\n    //     });\n\n    //     // Force add our 1s volatility indices\n    //     const required_1s_symbols = [\n    //         {\n    //             symbol: '1HZ15V',\n    //             underlying_symbol: '1HZ15V',\n    //             display_name: 'Volatility 15 (1s) Index',\n    //             market: 'synthetic_index',\n    //             market_display_name: 'Derived',\n    //             submarket: 'random_index',\n    //             submarket_display_name: 'Continuous Indices',\n    //             pip: 0.001,\n    //             pip_size: 0.001,\n    //             exchange_is_open: true,\n    //             is_trading_suspended: false,\n    //         },\n    //         {\n    //             symbol: '1HZ30V',\n    //             underlying_symbol: '1HZ30V',\n    //             display_name: 'Volatility 30 (1s) Index',\n    //             market: 'synthetic_index',\n    //             market_display_name: 'Derived',\n    //             submarket: 'random_index',\n    //             submarket_display_name: 'Continuous Indices',\n    //             pip: 0.001,\n    //             pip_size: 0.001,\n    //             exchange_is_open: true,\n    //             is_trading_suspended: false,\n    //         },\n    //         {\n    //             symbol: '1HZ90V',\n    //             underlying_symbol: '1HZ90V',\n    //             display_name: 'Volatility 90 (1s) Index',\n    //             market: 'synthetic_index',\n    //             market_display_name: 'Derived',\n    //             submarket: 'random_index',\n    //             submarket_display_name: 'Continuous Indices',\n    //             pip: 0.001,\n    //             pip_size: 0.001,\n    //             exchange_is_open: true,\n    //             is_trading_suspended: false,\n    //         },\n    //     ];\n\n    //     // Remove any existing instances first to avoid duplicates\n    //     filtered_symbols = filtered_symbols.filter(symbol => {\n    //         const symbol_code = symbol.underlying_symbol || symbol.symbol;\n    //         return !['1HZ15V', '1HZ30V', '1HZ90V'].includes(symbol_code);\n    //     });\n\n    //     // Force add our 1s volatility indices\n    //     filtered_symbols.push(...required_1s_symbols);\n\n    // Sort volatility indices to ensure proper order\n    // filtered_symbols = this.sortVolatilityIndices(filtered_symbols);\n\n    //     return filtered_symbols;\n    // };\n\n    // /**\n    //  * Force inject symbols directly into the chart API\n    //  */\n    // forceInjectSymbols = () => {\n    //     // Wait a bit for api_base to be available\n    //     setTimeout(() => {\n    //         if (api_base && api_base.active_symbols) {\n    //             // Get filtered symbols for chart\n    //             const filtered_symbols = this.getFilteredActiveSymbolsForChart(api_base.active_symbols);\n\n    //             // Store the original symbols if not already stored\n    //             if (!this.original_active_symbols) {\n    //                 this.original_active_symbols = [...api_base.active_symbols];\n    //             }\n\n    //             // Replace api_base.active_symbols with filtered symbols for chart\n    //             api_base.active_symbols = filtered_symbols;\n    //             this.chart_active_symbols = filtered_symbols;\n    //         } else {\n    //             // Try again after a longer delay\n    //             setTimeout(() => this.forceInjectSymbols(), 2000);\n    //         }\n    //     }, 1000);\n    // };\n\n    // /**\n    //  * Get chart-specific active symbols (for external access if needed)\n    //  * @returns {Array} Chart-specific filtered active symbols\n    //  */\n    // getActiveSymbolsForChart = () => {\n    //     return this.chart_active_symbols || [];\n    // };\n\n    /**\n     * Sort volatility indices to ensure proper display order\n     * @param {Array} symbols - Array of symbols to sort\n     * @returns {Array} Sorted symbols array\n     */\n    // sortVolatilityIndices = symbols => {\n    //     // Define the exact order for volatility indices\n    //     const VOLATILITY_ORDER = [\n    //         '1HZ10V', // Volatility 10 (1s) Index\n    //         'R_10', // Volatility 10 Index\n    //         '1HZ15V', // Volatility 15 (1s) Index\n    //         '1HZ25V', // Volatility 25 (1s) Index\n    //         'R_25', // Volatility 25 Index\n    //         '1HZ30V', // Volatility 30 (1s) Index\n    //         '1HZ50V', // Volatility 50 (1s) Index\n    //         'R_50', // Volatility 50 Index\n    //         '1HZ75V', // Volatility 75 (1s) Index\n    //         'R_75', // Volatility 75 Index\n    //         '1HZ90V', // Volatility 90 (1s) Index\n    //         '1HZ100V', // Volatility 100 (1s) Index\n    //         'R_100', // Volatility 100 Index\n    //     ];\n\n    //     // Separate volatility and non-volatility symbols\n    //     const volatility_symbols = [];\n    //     const other_symbols = [];\n\n    //     symbols.forEach(symbol => {\n    //         const symbol_code = symbol.underlying_symbol || symbol.symbol;\n    //         const display_name = (symbol.display_name || '').toLowerCase();\n\n    //         if (VOLATILITY_ORDER.includes(symbol_code) || display_name.includes('volatility')) {\n    //             volatility_symbols.push(symbol);\n    //         } else {\n    //             other_symbols.push(symbol);\n    //         }\n    //     });\n\n    //     // Sort volatility symbols according to the predefined order\n    //     volatility_symbols.sort((a, b) => {\n    //         const symbol_a = a.underlying_symbol || a.symbol;\n    //         const symbol_b = b.underlying_symbol || b.symbol;\n\n    //         const index_a = VOLATILITY_ORDER.indexOf(symbol_a);\n    //         const index_b = VOLATILITY_ORDER.indexOf(symbol_b);\n\n    //         // If both symbols are in the order array, sort by their position\n    //         if (index_a !== -1 && index_b !== -1) {\n    //             return index_a - index_b;\n    //         }\n\n    //         // If only one is in the order array, prioritize it\n    //         if (index_a !== -1) return -1;\n    //         if (index_b !== -1) return 1;\n\n    //         // If neither is in the order array, sort alphabetically\n    //         return (a.display_name || '').localeCompare(b.display_name || '');\n    //     });\n\n    //     // Return symbols with volatility indices properly sorted\n    //     return [...other_symbols, ...volatility_symbols];\n    // };\n}\n\nconst chart_api = new ChartAPI();\n\nexport default chart_api;\n",
            "size_bytes": 10057
        },
        "src/pages/chart/chart-modal/chart-modal-desktop.tsx": {
            "content": "import React from 'react';\nimport { observer } from 'mobx-react-lite';\nimport DraggableResizeWrapper from '@/components/draggable/draggable-resize-wrapper';\nimport { useStore } from '@/hooks/useStore';\nimport { localize } from '@deriv-com/translations';\nimport ChartWrapper from '../chart-wrapper';\n\nconst ChartModalDesktop = observer(() => {\n    const { dashboard } = useStore();\n    const { is_chart_modal_visible, setChartModalVisibility } = dashboard;\n\n    return (\n        <React.Fragment>\n            {is_chart_modal_visible && (\n                <DraggableResizeWrapper\n                    boundary='.main'\n                    header={localize('Chart')}\n                    onClose={setChartModalVisibility}\n                    modalWidth={526}\n                    modalHeight={595}\n                    minWidth={526}\n                    minHeight={524}\n                    enableResizing\n                >\n                    <div className='chart-modal-dialog' data-testid='chart-modal-dialog'>\n                        <ChartWrapper show_digits_stats={false} />\n                    </div>\n                </DraggableResizeWrapper>\n            )}\n        </React.Fragment>\n    );\n});\n\nexport default ChartModalDesktop;\n",
            "size_bytes": 1226
        },
        "analysis-tool/Benanalysistool-final-main/README.md": {
            "content": "# Final derivanalysis\n\n*Automatically synced with your [v0.app](https://v0.app) deployments*\n\n[![Deployed on Vercel](https://img.shields.io/badge/Deployed%20on-Vercel-black?style=for-the-badge&logo=vercel)](https://vercel.com/castel-technologies-projects/v0-final-derivanalysis)\n[![Built with v0](https://img.shields.io/badge/Built%20with-v0.app-black?style=for-the-badge)](https://v0.app/chat/projects/Osb0WTy063P)\n\n## Overview\n\nThis repository will stay in sync with your deployed chats on [v0.app](https://v0.app).\nAny changes you make to your deployed app will be automatically pushed to this repository from [v0.app](https://v0.app).\n\n## Deployment\n\nYour project is live at:\n\n**[https://vercel.com/castel-technologies-projects/v0-final-derivanalysis](https://vercel.com/castel-technologies-projects/v0-final-derivanalysis)**\n\n## Build your app\n\nContinue building your app on:\n\n**[https://v0.app/chat/projects/Osb0WTy063P](https://v0.app/chat/projects/Osb0WTy063P)**\n\n## How It Works\n\n1. Create and modify your project using [v0.app](https://v0.app)\n2. Deploy your chats from the v0 interface\n3. Changes are automatically pushed to this repository\n4. Vercel deploys the latest version from this repository",
            "size_bytes": 1209
        },
        "src/stores/toolbox-store.ts": {
            "content": "import { action, makeObservable, observable, reaction } from 'mobx';\nimport { scrollWorkspace } from '@/external/bot-skeleton';\nimport { browserOptimizer } from '@/utils/browser-performance-optimizer';\nimport { clickRateLimiter } from '@/utils/click-rate-limiter';\nimport GTM from '@/utils/gtm';\nimport { TStores } from '@deriv/stores/types';\nimport { localize } from '@deriv-com/translations';\nimport RootStore from './root-store';\n\nexport default class ToolboxStore {\n    root_store: RootStore;\n    core: TStores;\n    disposeToolboxToggleReaction: (() => void) | undefined = undefined;\n    typing_timer: ReturnType<typeof setTimeout> | undefined = undefined;\n    click_debounce_timer: ReturnType<typeof setTimeout> | undefined = undefined;\n    last_clicked_category: string | null = null;\n    workspace_adjust_timer: ReturnType<typeof setTimeout> | undefined = undefined;\n    is_adjusting_workspace = false;\n    constructor(root_store: RootStore, core: TStores) {\n        makeObservable(this, {\n            is_toolbox_open: observable,\n            is_search_loading: observable,\n            is_search_focus: observable,\n            sub_category_index: observable,\n            toolbox_dom: observable,\n            toolbox_examples: observable,\n            onMount: action.bound,\n            onUnmount: action.bound,\n            setWorkspaceOptions: action.bound,\n            adjustWorkspace: action.bound,\n            toggleDrawer: action.bound,\n            onToolboxItemClick: action.bound,\n            onToolboxItemExpand: action.bound,\n            getCategoryContents: action.bound,\n            getAllCategories: action.bound,\n            hasSubCategory: action.bound,\n            onSearch: action.bound,\n            onSearchBlur: action.bound,\n            onSearchClear: action.bound,\n            onSearchKeyUp: action.bound,\n            showSearch: action.bound,\n        });\n\n        this.root_store = root_store;\n        this.core = core;\n    }\n\n    is_toolbox_open = true;\n    is_search_loading = false;\n    is_search_focus = false;\n    sub_category_index: number[] = [];\n    toolbox_dom: HTMLElement | undefined = undefined;\n    toolbox_examples: HTMLElement | undefined = undefined;\n    is_workspace_scroll_adjusted = false;\n\n    onMount = (toolbox_ref: React.RefObject<HTMLDivElement>) => {\n        this.adjustWorkspace();\n\n        this.toolbox_dom = window.Blockly.utils.xml.textToDom(toolbox_ref?.current);\n        const el = [...(this.toolbox_dom?.childNodes ?? [])].find(\n            el => el instanceof HTMLElement && el.tagName === 'examples'\n        );\n        if (el) this.toolbox_examples = el as HTMLElement;\n        this.setWorkspaceOptions();\n        this.disposeToolboxToggleReaction = reaction(\n            () => this.is_toolbox_open,\n            is_toolbox_open => {\n                if (is_toolbox_open) {\n                    //this.adjustWorkspace();\n                    // Emit event to GTM\n                    GTM?.pushDataLayer?.({ event: 'dbot_toolbox_visible', value: true });\n                }\n            }\n        );\n    };\n\n    onUnmount() {\n        if (typeof this.disposeToolboxToggleReaction === 'function') {\n            this.disposeToolboxToggleReaction();\n        }\n        // Clean up timers to prevent memory leaks\n        if (this.typing_timer) {\n            clearTimeout(this.typing_timer);\n            this.typing_timer = undefined;\n        }\n        if (this.click_debounce_timer) {\n            clearTimeout(this.click_debounce_timer);\n            this.click_debounce_timer = undefined;\n        }\n        if (this.workspace_adjust_timer) {\n            clearTimeout(this.workspace_adjust_timer);\n            this.workspace_adjust_timer = undefined;\n        }\n    }\n\n    setWorkspaceOptions() {\n        const workspace = window.Blockly.derivWorkspace;\n        const readOnly = !!workspace.options.readOnly;\n        let languageTree, hasCategories, hasCollapse, hasComments, hasDisable;\n\n        if (readOnly) {\n            languageTree = null;\n            hasCategories = false;\n            hasCollapse = false;\n            hasComments = false;\n            hasDisable = false;\n        } else {\n            languageTree = this.toolbox_dom;\n            hasCategories = Boolean(languageTree && languageTree.getElementsByTagName('category').length);\n            hasCollapse = hasCategories;\n            hasComments = hasCategories;\n            hasDisable = hasCategories;\n        }\n\n        workspace.options.collapse = hasCollapse;\n        workspace.options.comments = hasComments;\n        workspace.options.disable = hasDisable;\n        workspace.options.hasCategories = hasCategories;\n        workspace.options.languageTree = languageTree;\n    }\n    // eslint-disable-next-line class-methods-use-this\n    adjustWorkspace() {\n        // Throttle workspace adjustments to prevent excessive calculations\n        if (this.is_adjusting_workspace) {\n            return;\n        }\n\n        if (this.workspace_adjust_timer) {\n            clearTimeout(this.workspace_adjust_timer);\n        }\n\n        // Browser-specific throttle delay (Safari/Firefox)\n        const throttleDelay = browserOptimizer.getThrottleDelay();\n\n        this.workspace_adjust_timer = setTimeout(() => {\n            this.performWorkspaceAdjustment();\n        }, throttleDelay);\n    }\n\n    private performWorkspaceAdjustment() {\n        // NOTE: added this load modal open check to prevent scroll when load modal is open\n        if (!this.is_workspace_scroll_adjusted && !this.root_store.load_modal.is_load_modal_open) {\n            this.is_adjusting_workspace = true;\n            this.is_workspace_scroll_adjusted = true;\n\n            setTimeout(() => {\n                const workspace = window.Blockly.derivWorkspace;\n                const toolbox_width = document.getElementById('gtm-toolbox')?.getBoundingClientRect().width || 0;\n                const block_canvas_rect = workspace.svgBlockCanvas_?.getBoundingClientRect(); // eslint-disable-line\n\n                if (workspace.RTL && block_canvas_rect) {\n                    const is_mobile = this.core.ui.is_mobile;\n                    const block_canvas_space = is_mobile ? block_canvas_rect.right : block_canvas_rect.left;\n\n                    const scroll_distance_mobile = toolbox_width - block_canvas_space + 20;\n                    const scroll_distance_desktop = toolbox_width - block_canvas_space + 36;\n                    const scroll_distance = this.core.ui.is_mobile ? scroll_distance_mobile : scroll_distance_desktop;\n\n                    if (Math.round(block_canvas_space) <= toolbox_width || is_mobile) {\n                        scrollWorkspace(workspace, scroll_distance, true, false);\n                    }\n                } else if (Math.round(block_canvas_rect?.left) <= toolbox_width) {\n                    const scroll_distance = this.core.ui.is_mobile\n                        ? toolbox_width - block_canvas_rect.left + 50\n                        : toolbox_width - block_canvas_rect.left + 36;\n                    scrollWorkspace(workspace, scroll_distance, true, false);\n                }\n\n                this.is_workspace_scroll_adjusted = false;\n                this.is_adjusting_workspace = false;\n            }, 300);\n        }\n    }\n\n    toggleDrawer() {\n        this.is_toolbox_open = !this.is_toolbox_open;\n    }\n\n    onToolboxItemClick(category: HTMLElement) {\n        const category_id = category.getAttribute('id');\n        const { flyout } = this.root_store;\n\n        // Handle toolbar click independently - immediate response\n        if (flyout.selected_category?.getAttribute('id') === category_id) {\n            flyout.setVisibility(false);\n            return;\n        }\n\n        // Set selection immediately for visual feedback\n        flyout.setSelectedCategory(category);\n        flyout.setVisibility(true);\n\n        // Load flyout content after selection is complete\n        setTimeout(() => {\n            this.loadFlyoutContent(category);\n        }, 0);\n    }\n\n    private loadFlyoutContent(category: HTMLElement) {\n        const { flyout } = this.root_store;\n\n        const flyout_content = this.getCategoryContents(category) as Element[];\n        flyout.setIsSearchFlyout(false);\n        flyout.setContents(flyout_content);\n    }\n\n    onToolboxItemExpand(index: number) {\n        // Global rate limiting to prevent Safari freezing\n        if (!clickRateLimiter.canClick()) {\n            console.warn('Click rate limit exceeded, ignoring expand');\n            return;\n        }\n\n        // Prevent rapid expand/collapse operations\n        if (this.click_debounce_timer) {\n            return;\n        }\n\n        // Browser-specific debounce delay (Safari/Firefox)\n        const debounceDelay = browserOptimizer.getDebounceDelay();\n\n        this.click_debounce_timer = setTimeout(() => {\n            this.click_debounce_timer = undefined;\n        }, debounceDelay);\n\n        // Browser-specific DOM operation (Safari/Firefox)\n        browserOptimizer.safeDOMOperation(() => {\n            if ((this.sub_category_index as number[]).includes(index)) {\n                const open_ids = this.sub_category_index.filter(open_id => open_id !== index);\n                this.sub_category_index = open_ids;\n            } else {\n                this.sub_category_index = [...this.sub_category_index, index];\n            }\n        });\n    }\n\n    getCategoryContents = (category: HTMLElement): ChildNode[] => {\n        const workspace = window.Blockly.derivWorkspace;\n        const dynamic = category.getAttribute('dynamic');\n        let xml_list = Array.from(category.childNodes);\n\n        // Dynamic categories\n        if (typeof dynamic === 'string') {\n            let fnToApply = workspace.getToolboxCategoryCallback(dynamic);\n            //we needed to add this check since we are not using\n            //blocky way of defining vaiables\n            if (dynamic === 'VARIABLE') {\n                fnToApply = window.Blockly.DataCategory;\n            }\n            xml_list = fnToApply(workspace);\n        }\n        return xml_list;\n    };\n\n    getAllCategories = (): ChildNode[] => {\n        const categories: ChildNode[] = [];\n        Array.from((this.toolbox_dom as HTMLElement).childNodes).forEach((category: ChildNode) => {\n            categories.push(category);\n            if (this.hasSubCategory((category as HTMLElement).children)) {\n                Array.from((category as HTMLElement).children).forEach(subCategory => {\n                    categories.push(subCategory);\n                });\n            }\n        });\n        return categories;\n    };\n\n    hasSubCategory = (category: HTMLElement[]) => {\n        const subCategory = Object.keys(category).filter(key => {\n            if (category[Number(key)].tagName.toUpperCase() === 'CATEGORY') {\n                return category[Number(key)];\n            }\n        });\n        if (subCategory.length) {\n            return true;\n        }\n        return false;\n    };\n\n    onSearch = ({ search = '' }) => {\n        this.is_search_focus = true;\n        this.showSearch(search);\n    };\n\n    onSearchBlur() {\n        this.is_search_focus = false;\n    }\n\n    onSearchClear(setFieldValue: (field: string, value: string) => void) {\n        setFieldValue('search', '');\n        this.showSearch('');\n    }\n\n    onSearchKeyUp(submitForm: () => void) {\n        this.is_search_loading = true;\n\n        clearTimeout(this.typing_timer);\n        this.typing_timer = setTimeout(\n            action(() => {\n                submitForm();\n                this.is_search_loading = false;\n            }),\n            1000\n        );\n    }\n\n    showSearch = (search: string) => {\n        const workspace = window.Blockly.derivWorkspace;\n        const flyout_content: HTMLElement[] = [];\n        const search_term = search.replace(/\\s+/g, ' ').trim().toUpperCase();\n        const search_words = search_term.split(' ');\n        const all_variables = workspace.getVariablesOfType('');\n        const all_procedures = window.Blockly.Procedures.allProcedures(workspace);\n        const { flyout } = this.root_store;\n\n        flyout.setVisibility(false);\n\n        // avoid general term which the result will return most of the blocks\n        const general_term = [\n            localize('THE'),\n            localize('OF'),\n            localize('YOU'),\n            localize('IS'),\n            localize('THIS'),\n            localize('THEN'),\n            localize('A'),\n            localize('AN'),\n        ];\n\n        if (search_term.length === 0) {\n            return;\n        } else if (search_term.length <= 1 || search_words.every(term => general_term.includes(term))) {\n            flyout.setIsSearchFlyout(true);\n            flyout.setContents(flyout_content, search);\n            return;\n        }\n\n        const all_categories = this.getAllCategories();\n\n        const block_contents = all_categories\n            .filter(category => !this.hasSubCategory(category.children))\n            .map(category => {\n                const contents = this.getCategoryContents(category as HTMLElement);\n\n                const only_block_contents = Array.from(contents).filter(\n                    content => content.tagName.toUpperCase() === 'BLOCK'\n                );\n                return only_block_contents;\n            })\n            .flat();\n\n        const pushIfNotExists = (array: any[] = [], element_to_push = {}) => {\n            if (!array.some(element => element === element_to_push)) {\n                array.push(element_to_push);\n            }\n        };\n\n        const pushBlockWithPriority = (priority: string) => {\n            block_contents.forEach(block_content => {\n                const block_type = block_content.getAttribute('type');\n                const block = window.Blockly.Blocks[block_type];\n                const block_meta = block.meta instanceof Function && block.meta();\n                const block_definitions = block.definition instanceof Function && block.definition();\n                const block_name = block_meta.display_name;\n                const block_type_terms = block_type.toUpperCase().split('_');\n                const block_name_terms = block_name.toUpperCase().split(' ');\n                const definition_key_to_search = /^((message)|(tooltip)|(category))/;\n\n                switch (priority) {\n                    // when the search text match exactly the block's name\n                    case 'exact_block_name': {\n                        if (search_term === block_name.toUpperCase() || search_term === block_type.toUpperCase()) {\n                            pushIfNotExists(flyout_content, block_content);\n                        }\n                        break;\n                    }\n                    // when there's multiple search text and all the search text match block's name or block type\n                    case 'match_words': {\n                        if (\n                            search_words.every(word => block_name_terms.some((term: string) => term.includes(word))) ||\n                            search_words.every(word => block_type_terms.some((term: string) => term.includes(word)))\n                        ) {\n                            pushIfNotExists(flyout_content, block_content);\n                        }\n                        break;\n                    }\n                    // when some of search word match block's name or block's type\n                    case 'block_term': {\n                        if (\n                            block_type_terms.some((term: string) => search_words.some(word => term.includes(word))) ||\n                            block_name_terms.some((term: string) => search_words.some(word => term.includes(word)))\n                        ) {\n                            pushIfNotExists(flyout_content, block_content);\n                        }\n                        break;\n                    }\n                    case 'block_definitions': {\n                        // eslint-disable-next-line consistent-return\n                        Object.keys(block_definitions).forEach(key => {\n                            const definition = block_definitions[key];\n\n                            if (\n                                definition_key_to_search.test(key) &&\n                                search_words.some(word => definition.includes(word))\n                            ) {\n                                pushIfNotExists(flyout_content, block_content);\n                            }\n\n                            if (definition instanceof Array) {\n                                definition.forEach(def => {\n                                    const definition_strings = JSON.stringify(def).toUpperCase();\n\n                                    if (\n                                        def.type === 'field_dropdown' &&\n                                        search_term.length > 2 &&\n                                        search_words.some(word => definition_strings.includes(word))\n                                    ) {\n                                        pushIfNotExists(flyout_content, block_content);\n                                    }\n                                });\n                            }\n                        });\n                        break;\n                    }\n                    case 'block_meta': {\n                        // block_meta matched\n                        const matched_meta = Object.keys(block_meta)\n                            .filter(key => key !== 'display_name')\n                            .find(key => {\n                                const block_meta_strings = block_meta[key]\n                                    .toUpperCase()\n                                    .replace(/[^\\w\\s]/gi, '')\n                                    .split(' ');\n\n                                return search_words.some(word => block_meta_strings.some(meta => meta.includes(word)));\n                            });\n\n                        if (matched_meta && matched_meta.length) {\n                            pushIfNotExists(flyout_content, block_content);\n                        }\n                        break;\n                    }\n                    default:\n                        break;\n                }\n            });\n        };\n\n        const priority_order = ['exact_block_name', 'match_words', 'block_term', 'block_definitions', 'block_meta'];\n\n        priority_order.forEach(priority => pushBlockWithPriority(priority));\n\n        // block_variable_name matched\n        const matched_variables = all_variables.filter(variable => variable.name.toUpperCase().includes(search_term));\n        const variables_blocks = window.Blockly.DataCategory.search(matched_variables);\n        // eslint-disable-next-line consistent-return\n        const unique_var_blocks = variables_blocks.filter(variable_block => {\n            return flyout_content.indexOf(variable_block) === -1;\n        });\n        if (unique_var_blocks && unique_var_blocks.length) {\n            flyout_content.unshift(...unique_var_blocks);\n        }\n\n        // block_procedure_name matched\n        const searched_procedures = { 0: [], 1: [] };\n        const procedures_callnoreturn = all_procedures[0];\n        const procedures_callreturn = all_procedures[1];\n        Object.keys(procedures_callnoreturn).forEach(key => {\n            const procedure = procedures_callnoreturn[key];\n\n            if (procedure[0].toUpperCase().includes(search_term)) {\n                searched_procedures['0'].unshift(procedure);\n            }\n        });\n\n        Object.keys(procedures_callreturn).forEach(key => {\n            const procedure = procedures_callreturn[key];\n\n            if (procedure[0].toUpperCase().includes(search_term)) {\n                searched_procedures['1'].unshift(procedure);\n            }\n        });\n\n        const procedures_blocks = window.Blockly.Procedures.populateDynamicProcedures(searched_procedures);\n        // eslint-disable-next-line consistent-return\n        const unique_proce_blocks = procedures_blocks.filter(procedure_block => {\n            return flyout_content.indexOf(procedure_block) === -1;\n        });\n        if (unique_proce_blocks.length) {\n            flyout_content.unshift(...unique_proce_blocks);\n        }\n\n        flyout.setIsSearchFlyout(true);\n        flyout.setContents(flyout_content, search);\n    };\n}\n",
            "size_bytes": 20307
        },
        "src/pages/tutorials/quick-strategy-content/quick-strategy-guides-details.tsx": {
            "content": "import { KeyboardEvent } from 'react';\nimport { observer } from 'mobx-react-lite';\nimport Text from '@/components/shared_ui/text';\nimport { isDbotRTL } from '@/external/bot-skeleton/utils/workspace';\nimport { LabelPairedChevronLeftMdFillIcon, LabelPairedChevronRightMdFillIcon } from '@deriv/quill-icons/LabelPaired';\nimport { Localize } from '@deriv-com/translations';\nimport { useDevice } from '@deriv-com/ui';\nimport { rudderStackSendSelectQsStrategyGuideEvent } from '../../../analytics/rudderstack-tutorials';\nimport { STRATEGIES } from '../../bot-builder/quick-strategy/config';\nimport StrategyTabContent from '../../bot-builder/quick-strategy/form-wrappers/strategy-tab-content';\n\ntype Tcontent = {\n    qs_name: string;\n    content: string[];\n    type: string;\n};\n\ntype TQuickStrategyGuides = {\n    quick_strategy_tab_content: Tcontent[];\n    tutorial_selected_strategy: string;\n    setTutorialSelectedStrategy: (value: string) => void;\n};\n\nconst QuickStrategyGuidesDetail = observer(\n    ({ quick_strategy_tab_content, tutorial_selected_strategy, setTutorialSelectedStrategy }: TQuickStrategyGuides) => {\n        const { isDesktop } = useDevice();\n        const text_size = isDesktop ? 's' : 'xs';\n\n        const scrollToTop = () => {\n            const qs_guide = document.querySelector('.tutorials-mobile__qs-guide');\n            if (qs_guide) {\n                qs_guide.scrollTop = 0;\n            }\n        };\n\n        return (\n            <>\n                {tutorial_selected_strategy === '' ? (\n                    <div className='tutorials-quick-strategy__cards'>\n                        {quick_strategy_tab_content?.map(({ qs_name, content, type }, index) => (\n                            <div\n                                className='tutorials-quick-strategy__placeholder'\n                                key={type}\n                                onClick={() => {\n                                    setTutorialSelectedStrategy(qs_name);\n                                    rudderStackSendSelectQsStrategyGuideEvent({ selected_strategy: qs_name });\n                                    scrollToTop();\n                                }}\n                                tabIndex={index}\n                                data-testid={'dt_quick_strategy_guides_details'}\n                                onKeyDown={(e: KeyboardEvent) => {\n                                    if (e.key === 'Enter') {\n                                        setTutorialSelectedStrategy(qs_name);\n                                    }\n                                }}\n                            >\n                                <div>\n                                    <div className='tutorials-quick-strategy__placeholder__title'>\n                                        <Text\n                                            align='center'\n                                            weight='bold'\n                                            color='prominent'\n                                            lineHeight='s'\n                                            size={text_size}\n                                        >\n                                            {type}\n                                        </Text>\n                                    </div>\n                                    <div className='tutorials-quick-strategy__placeholder__content'>\n                                        <ul>\n                                            {content.map(data => (\n                                                <li key={data}>\n                                                    <Text\n                                                        align='center'\n                                                        color='prominent'\n                                                        lineHeight='s'\n                                                        size={text_size}\n                                                        className='tutorials-quick-strategy__placeholder__content__text'\n                                                    >\n                                                        {data}\n                                                    </Text>\n                                                </li>\n                                            ))}\n                                        </ul>\n                                    </div>\n                                </div>\n                                {isDbotRTL() ? (\n                                    <LabelPairedChevronLeftMdFillIcon className='tutorials-quick-strategy__placeholder__icon' />\n                                ) : (\n                                    <LabelPairedChevronRightMdFillIcon className='tutorials-quick-strategy__placeholder__icon' />\n                                )}\n                            </div>\n                        ))}\n                    </div>\n                ) : (\n                    <>\n                        <div className='tutorials-quick-strategy__breadcrumb'>\n                            <Text\n                                className='tutorials-quick-strategy__breadcrumb__clickable'\n                                color='prominent'\n                                lineHeight='s'\n                                size={text_size}\n                                as='div'\n                                onClick={() => {\n                                    setTutorialSelectedStrategy('');\n                                }}\n                            >\n                                <Localize i18n_default_text={'Quick strategy guides >'} />\n                            </Text>\n                            <Text color='less-prominent' lineHeight='s' size={text_size} as='div'>\n                                <Localize\n                                    i18n_default_text={`About ${STRATEGIES()[tutorial_selected_strategy].label}`}\n                                />\n                            </Text>\n                        </div>\n                        <Text color='prominent' lineHeight='s' size={text_size} weight='bold' as='div'>\n                            <Localize i18n_default_text={`About ${STRATEGIES()[tutorial_selected_strategy].label}`} />\n                        </Text>\n                        <StrategyTabContent tutorial_selected_strategy={tutorial_selected_strategy} />\n                    </>\n                )}\n            </>\n        );\n    }\n);\n\nexport default QuickStrategyGuidesDetail;\n",
            "size_bytes": 6466
        },
        "src/pages/tutorials/dbot-tours/onboarding-tour/onboarding-tour-mobile.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { observer } from 'mobx-react-lite';\nimport ProgressBarTracker from '@/components/shared_ui/progress-bar-tracker';\nimport Text from '@/components/shared_ui/text';\nimport { useStore } from '@/hooks/useStore';\nimport { getSetting } from '@/utils/settings';\nimport { LegacyClose1pxIcon } from '@deriv/quill-icons/Legacy';\nimport { localize } from '@deriv-com/translations';\nimport TourButton from '../common/tour-button';\nimport { DBOT_ONBOARDING_MOBILE, TMobileTourConfig } from '../tour-content';\n\nconst default_tour_data = {\n    content: [],\n    header: '',\n    img: '',\n    tour_step_key: 1,\n};\n\ntype TTourData = TMobileTourConfig & {\n    img: string;\n    tour_step_key: number;\n};\n\nconst OnboardingTourMobile = observer(() => {\n    const { dashboard } = useStore();\n    const { onCloseTour, onTourEnd, setTourActiveStep, active_tour, active_tab, setActiveTour } = dashboard;\n    const [tour_step, setStep] = React.useState<number>(1);\n    const [tour_data, setTourData] = React.useState<TTourData>(default_tour_data);\n    const { content, header, img, media, tour_step_key } = tour_data;\n    const start_button = tour_step === 1 ? localize('Start') : localize('Next');\n    const tour_button_text = tour_step === 8 ? localize('Got it, thanks!') : start_button;\n    const test_id = tour_step_key === 8 ? 'finish-onboard-tour' : 'next-onboard-tour';\n    const hide_prev_button = [1, 2, 8];\n    const is_tour_active = active_tour === 'onboarding';\n\n    React.useEffect(() => {\n        DBOT_ONBOARDING_MOBILE.forEach(data => {\n            if (data.tour_step_key === tour_step) {\n                setTourData(data);\n            }\n            setTourActiveStep(tour_step);\n        });\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [tour_step]);\n\n    React.useEffect(() => {\n        const checkTokenForTour = () => {\n            const token = getSetting('onboard_tour_token');\n            if (!token && active_tab === 0) {\n                setActiveTour('onboarding');\n            }\n        };\n        checkTokenForTour();\n    }, [active_tab, active_tour]);\n\n    if (!active_tour) {\n        return null;\n    }\n\n    return (\n        <div\n            className={classNames('dbot-slider', {\n                'dbot-slider--active': tour_step === 1,\n                'dbot-slider--tour-position': tour_step !== 1,\n            })}\n            data-testid='onboarding-tour-mobile'\n        >\n            {tour_step_key !== 1 && (\n                <div className='dbot-slider__navbar'>\n                    <Text\n                        color='less-prominent'\n                        weight='less-prominent'\n                        lineHeight='s'\n                        size='xxs'\n                        data-testid='dbot-onboard-slider__navbar'\n                    >{`${tour_step_key - 1}/7`}</Text>\n                    <span onClick={onCloseTour}>\n                        <LegacyClose1pxIcon\n                            height='20px'\n                            width='20px'\n                            data-testid='exit-onboard-tour'\n                            className='db-contract-card__result-icon'\n                            color='secondary'\n                        />\n                    </span>\n                </div>\n            )}\n            {header && (\n                <Text\n                    color='prominent'\n                    weight='bold'\n                    align='center'\n                    className='dbot-slider__title'\n                    as='span'\n                    lineHeight='s'\n                    size='xs'\n                >\n                    {localize(header)}\n                </Text>\n            )}\n            {media && (\n                <div className='dbot-slider__media'>\n                    <video\n                        autoPlay={true}\n                        loop\n                        controls\n                        preload='auto'\n                        playsInline\n                        disablePictureInPicture\n                        controlsList='nodownload'\n                        src={media}\n                    />\n                </div>\n            )}\n            {img && (\n                <div className='dbot-slider__image'>\n                    <img src={img} />\n                </div>\n            )}\n\n            {content && (\n                <>\n                    {content.map(data => {\n                        return (\n                            <Text\n                                key={data}\n                                align='center'\n                                color='prominent'\n                                className='dbot-slider__content'\n                                as='div'\n                                lineHeight='s'\n                                size='xxs'\n                            >\n                                {data}\n                            </Text>\n                        );\n                    })}\n                </>\n            )}\n            <div className='dbot-slider__status'>\n                <div className='dbot-slider__progress-bar'>\n                    <ProgressBarTracker\n                        step={tour_step}\n                        steps_list={DBOT_ONBOARDING_MOBILE.map(v => v.tour_step_key.toString())}\n                        onStepChange={setStep}\n                    />\n                </div>\n                <div className='dbot-slider__button-group'>\n                    {tour_step === 1 && (\n                        <TourButton\n                            onClick={() => {\n                                onCloseTour();\n                            }}\n                            label={localize('Skip')}\n                            data-testid='skip-onboard-tour'\n                        />\n                    )}\n                    {!hide_prev_button.includes(tour_step) && (\n                        <TourButton\n                            onClick={() => {\n                                setStep(tour_step - 1);\n                            }}\n                            label={localize('Previous')}\n                            data-testid='prev-onboard-tour'\n                        />\n                    )}\n                    <TourButton\n                        type='danger'\n                        onClick={() => {\n                            setStep(tour_step + 1);\n                            onTourEnd(tour_step, is_tour_active);\n                        }}\n                        label={tour_button_text}\n                        data-testid={test_id}\n                    />\n                </div>\n            </div>\n        </div>\n    );\n});\n\nexport default OnboardingTourMobile;\n",
            "size_bytes": 6713
        },
        "src/pages/tutorials/index.ts": {
            "content": "import TutorialTab from './tutorials';\nimport './tutorials.scss';\n\nexport default TutorialTab;\n",
            "size_bytes": 95
        },
        "src/analytics/constants.ts": {
            "content": "import { TFormValues } from '../pages/bot-builder/quick-strategy/types';\n\nexport const form_name = 'ce_bot_form';\nexport const STORED_ITEM_NOT_FOUND = 'No results found';\n\nexport enum ACTION {\n    OPEN = 'open',\n    CLOSE = 'close',\n    RUN_BOT = 'run_bot',\n    RUN_QUICK_STRATEGY = 'run_quick_strategy',\n    EDIT_QUICK_STRATEGY = 'edit_quick_strategy',\n    SELECT_QUICK_STRATEGY_GUIDE = 'select_quick_strategy_guide',\n    SWITCH_QUICK_STRATEGY_TAB = 'switch_quick_strategy_tab',\n    DASHBOARD_CLICK = 'dashboard_click',\n    UPLOAD_STRATEGY_START = 'upload_strategy_start',\n    UPLOAD_STRATEGY_COMPLETED = 'upload_strategy_completed',\n    UPLOAD_STRATEGY_FAILED = 'upload_strategy_failed',\n    GOOGLE_DRIVE_CONNECT = 'google_drive_connect',\n    GOOGLE_DRIVE_DISCONNECT = 'google_drive_disconnect',\n    SWITCH_LOAD_STRATEGY_TAB = 'switch_load_strategy_tab',\n    ANNOUNCEMENT_CLICK = 'announcement_click',\n    ANNOUNCEMENT_ACTION = 'announcement_action',\n}\n\nexport type TFormStrategy = {\n    form_values: TFormValues;\n} & TSelectedStrategy;\n\nexport type TSelectedStrategy = {\n    selected_strategy: string;\n};\n",
            "size_bytes": 1108
        },
        "src/external/bot-skeleton/services/tradeEngine/trade/state/constants.js": {
            "content": "export const BEFORE_PURCHASE = 'BEFORE_PURCHASE';\nexport const DURING_PURCHASE = 'DURING_PURCHASE';\nexport const PROPOSALS_READY = 'PROPOSALS_READY';\nexport const CLEAR_PROPOSALS = 'CLEAR_PROPOSALS';\nexport const PURCHASE_SUCCESSFUL = 'PURCHASE_SUCCESSFUL';\nexport const OPEN_CONTRACT = 'OPEN_CONTRACT';\nexport const INVALID_ACTION = 'INVALID_ACTION';\nexport const SELL = 'SELL';\nexport const START = 'START';\nexport const STOP = 'STOP';\nexport const NEW_TICK = 'NEW_TICK';\n",
            "size_bytes": 474
        },
        "src/external/bot-skeleton/scratch/blocks/Text/text_print.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { emptyTextValidator, modifyContextMenu } from '../../utils';\n\nwindow.Blockly.Blocks.text_print = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('print {{ input_text }}', { input_text: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'TEXT',\n                },\n            ],\n            colour: window.Blockly.Colours.Special3.colour,\n            colourSecondary: window.Blockly.Colours.Special3.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Special3.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Displays a dialog window with a message'),\n            category: window.Blockly.Categories.Text,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    meta() {\n        return {\n            display_name: localize('Print'),\n            description: localize(\n                'This block displays a dialog box with a customised message. When the dialog box is displayed, your strategy is paused and will only resume after you click \"OK\".'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            TEXT: emptyTextValidator,\n        };\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.text_print = block => {\n    const msg =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'TEXT',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_NONE\n        ) || \"''\";\n    const code = `window.alert(${msg});\\n`;\n    return code;\n};\n",
            "size_bytes": 1768
        },
        "src/components/shared/utils/config/config.ts": {
            "content": "import brandConfig from '../../../../../brand.config.json';\nimport { isStaging } from '../url/helpers';\n\n// Simple environment detection based on hostname\nconst getCurrentEnvironment = (): 'staging' | 'production' => {\n    try {\n        const hostname = window.location.hostname;\n        if (hostname.includes('localhost') || hostname.includes('staging')) {\n            return 'staging';\n        }\n        return 'production';\n    } catch (error) {\n        console.error('Error detecting environment:', error);\n        return 'production'; // Safe fallback\n    }\n};\n\nexport const APP_IDS = {\n    LOCALHOST: 36300,\n    TMP_STAGING: 64584,\n    STAGING: 29934,\n    STAGING_BE: 29934,\n    STAGING_ME: 29934,\n    PRODUCTION: 65555,\n    PRODUCTION_BE: 65556,\n    PRODUCTION_ME: 65557,\n};\n\nexport const livechat_license_id = 12049137;\nexport const livechat_client_id = '66aa088aad5a414484c1fd1fa8a5ace7';\n\nexport const domain_app_ids = {\n    'master.bot-standalone.pages.dev': APP_IDS.TMP_STAGING,\n    'staging-dbot.deriv.com': APP_IDS.STAGING,\n    'staging-dbot.deriv.be': APP_IDS.STAGING_BE,\n    'staging-dbot.deriv.me': APP_IDS.STAGING_ME,\n    'dbot.deriv.com': APP_IDS.PRODUCTION,\n    'dbot.deriv.be': APP_IDS.PRODUCTION_BE,\n    'dbot.deriv.me': APP_IDS.PRODUCTION_ME,\n};\n\nexport const getCurrentProductionDomain = () =>\n    !/^staging\\./.test(window.location.hostname) &&\n    Object.keys(domain_app_ids).find(domain => window.location.hostname === domain);\n\nexport const isProduction = () => {\n    const all_domains = Object.keys(domain_app_ids).map(domain => `(www\\\\.)?${domain.replace('.', '\\\\.')}`);\n    return new RegExp(`^(${all_domains.join('|')})$`, 'i').test(window.location.hostname);\n};\n\nexport const isTestLink = () => {\n    return (\n        window.location.origin?.includes('.binary.sx') ||\n        window.location.origin?.includes('bot-65f.pages.dev') ||\n        isLocal()\n    );\n};\n\nexport const isLocal = () => /localhost(:\\d+)?$/i.test(window.location.hostname);\n\nconst getDefaultServerURL = () => {\n    try {\n        // Check for account_type in URL params first (this overrides everything)\n        const urlParams = new URLSearchParams(window.location.search);\n        const urlAccountType = urlParams.get('account_type');\n\n        if (urlAccountType) {\n            // Use realv2 for real accounts, demov2 for demo accounts\n            return urlAccountType === 'demo' ? 'demov2.derivws.com' : 'realv2.derivws.com';\n        }\n\n        // Check localStorage for saved account type\n        const savedAccountType = localStorage.getItem('account_type');\n        if (savedAccountType) {\n            return savedAccountType === 'demo' ? 'demov2.derivws.com' : 'realv2.derivws.com';\n        }\n    } catch (error) {\n        console.error('Error in getDefaultServerURL:', error);\n    }\n\n    // Always default to demo server if no account_type is specified or if there's an error\n    return 'demov2.derivws.com';\n};\n\nexport const getDefaultAppIdAndUrl = () => {\n    const server_url = getDefaultServerURL();\n\n    if (isTestLink()) {\n        return { app_id: APP_IDS.LOCALHOST, server_url };\n    }\n\n    const current_domain = getCurrentProductionDomain() ?? '';\n    const app_id = domain_app_ids[current_domain as keyof typeof domain_app_ids] ?? APP_IDS.PRODUCTION;\n\n    return { app_id, server_url };\n};\n\nexport const getAppId = () => {\n    let app_id = null;\n    const config_app_id = window.localStorage.getItem('config.app_id');\n    const current_domain = getCurrentProductionDomain() ?? '';\n\n    if (config_app_id) {\n        app_id = config_app_id;\n    } else if (isStaging()) {\n        app_id = APP_IDS.STAGING;\n    } else if (isTestLink()) {\n        app_id = APP_IDS.LOCALHOST;\n    } else {\n        app_id = domain_app_ids[current_domain as keyof typeof domain_app_ids] ?? APP_IDS.PRODUCTION;\n    }\n\n    return app_id;\n};\n\nexport const getSocketURL = () => {\n    const local_storage_server_url = window.localStorage.getItem('config.server_url');\n\n    if (local_storage_server_url) {\n        return local_storage_server_url;\n    }\n\n    const server_url = getDefaultServerURL();\n\n    return server_url;\n};\n\nexport const checkAndSetEndpointFromUrl = () => {\n    if (isTestLink()) {\n        const url_params = new URLSearchParams(location.search.slice(1));\n\n        if (url_params.has('qa_server') && url_params.has('app_id')) {\n            const qa_server = url_params.get('qa_server') || '';\n            const app_id = url_params.get('app_id') || '';\n\n            url_params.delete('qa_server');\n            url_params.delete('app_id');\n\n            if (/^(^(www\\.)?qa[0-9]{1,4}\\.deriv.dev|(.*)\\.derivws\\.com)$/.test(qa_server) && /^[0-9]+$/.test(app_id)) {\n                localStorage.setItem('config.app_id', app_id);\n                localStorage.setItem('config.server_url', qa_server.replace(/\"/g, ''));\n            }\n\n            const params = url_params.toString();\n            const hash = location.hash;\n\n            location.href = `${location.protocol}//${location.hostname}${location.pathname}${\n                params ? `?${params}` : ''\n            }${hash || ''}`;\n\n            return true;\n        }\n    }\n\n    return false;\n};\n\nexport const getDebugServiceWorker = () => {\n    const debug_service_worker_flag = window.localStorage.getItem('debug_service_worker');\n    if (debug_service_worker_flag) return !!parseInt(debug_service_worker_flag);\n\n    return false;\n};\n\nexport const generateOAuthURL = () => {\n    try {\n        // Use brand config for login URLs\n        const environment = getCurrentEnvironment();\n        const hostname = brandConfig?.brand_hostname?.[environment];\n\n        if (hostname) {\n            // Use the current host as redirect URL (no replacement needed)\n            const currentHost = window.location.host; // includes port\n            const redirectUrl = currentHost;\n\n            return `https://${hostname}/login?redirect=${redirectUrl}`;\n        }\n    } catch (error) {\n        console.error('Error accessing brand config:', error);\n    }\n\n    // Fallback to hardcoded URLs if brand config fails\n    const currentHost = window.location.host; // includes port\n    const redirectUrl = currentHost;\n\n    if (currentHost.includes('staging')) {\n        return `https://staging-home.deriv.com/dashboard/login?redirect=${redirectUrl}`;\n    } else {\n        return `https://home.deriv.com/dashboard/login?redirect=${redirectUrl}`;\n    }\n};\n\nexport const generateSignupURL = () => {\n    try {\n        // Use brand config for signup URLs\n        const environment = getCurrentEnvironment();\n        const hostname = brandConfig?.brand_hostname?.[environment];\n\n        if (hostname) {\n            return `https://${hostname}/signup`;\n        }\n    } catch (error) {\n        console.error('Error accessing brand config:', error);\n    }\n\n    // Fallback to hardcoded URLs if brand config fails\n    const currentHost = window.location.host; // includes port\n\n    if (currentHost.includes('staging')) {\n        return 'https://staging-home.deriv.com/dashboard/signup';\n    } else {\n        return 'https://home.deriv.com/dashboard/signup';\n    }\n};\n",
            "size_bytes": 7099
        },
        "src/components/shared/utils/string/index.ts": {
            "content": "export * from './string_util';\n",
            "size_bytes": 31
        },
        "src/components/shared_ui/contract-card/contract-card-items/contract-update-form.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport {\n    getCancellationPrice,\n    getContractUpdateConfig,\n    getLimitOrderAmount,\n    isCryptocurrency,\n    isDeepEqual,\n    isMultiplierContract,\n    pick,\n} from '@/components/shared';\nimport { TContractInfo, TContractStore } from '@/components/shared/utils/contract/contract-types';\nimport { Localize } from '@deriv-com/translations';\nimport { Button } from '@deriv-com/ui';\nimport ArrowIndicator from '../../arrow-indicator';\nimport InputWithCheckbox from '../../input-wth-checkbox';\nimport MobileWrapper from '../../mobile-wrapper';\nimport Money from '../../money';\nimport Text from '../../text';\nimport { TGetCardLables, TToastConfig } from '../../types';\n\nexport type TGeneralContractCardBodyProps = {\n    addToast: (toast_config: TToastConfig) => void;\n    contract_info: TContractInfo;\n    contract_update: TContractInfo['contract_update'];\n    currency: string;\n    current_focus?: string | null;\n    error_message_alignment?: string;\n    getCardLabels: TGetCardLables;\n    getContractById: (contract_id: number) => TContractStore;\n    should_show_cancellation_warning: boolean;\n    has_progress_slider: boolean;\n    is_mobile: boolean;\n    is_sold: boolean;\n    onMouseLeave?: () => void;\n    removeToast: (toast_id: string) => void;\n    setCurrentFocus: (name: string | null) => void;\n    toggleCancellationWarning: (state_change?: boolean) => void;\n    progress_slider?: React.ReactNode;\n    is_positions?: boolean;\n};\nexport type TContractUpdateFormProps = Pick<\n    TGeneralContractCardBodyProps,\n    | 'addToast'\n    | 'current_focus'\n    | 'error_message_alignment'\n    | 'getCardLabels'\n    | 'onMouseLeave'\n    | 'removeToast'\n    | 'setCurrentFocus'\n> & {\n    contract: TContractStore;\n    error_message_alignment?: string;\n    getCardLabels: TGetCardLables;\n    onMouseLeave?: () => void;\n    removeToast: (toast_id: string) => void;\n    setCurrentFocus: (name: string | null) => void;\n    toggleDialog: (e: React.MouseEvent<HTMLButtonElement>) => void;\n    getContractById: (contract_id: number) => TContractStore;\n    is_accumulator?: boolean;\n    isMobile?: boolean;\n    is_turbos?: boolean;\n    totalProfit: number;\n};\n\nconst ContractUpdateForm = (props: TContractUpdateFormProps) => {\n    const {\n        addToast,\n        contract,\n        current_focus,\n        error_message_alignment,\n        getCardLabels,\n        isMobile,\n        is_turbos,\n        is_accumulator,\n        onMouseLeave,\n        removeToast,\n        setCurrentFocus,\n        toggleDialog,\n        totalProfit,\n    } = props;\n\n    React.useEffect(() => {\n        return () => contract.clearContractUpdateConfigValues();\n    }, [contract]);\n\n    const {\n        contract_info,\n        contract_update_take_profit,\n        has_contract_update_take_profit,\n        contract_update_stop_loss,\n        has_contract_update_stop_loss,\n        updateLimitOrder,\n        validation_errors,\n    } = contract;\n\n    const [contract_profit_or_loss, setContractProfitOrLoss] = React.useState({\n        contract_update_take_profit,\n        contract_update_stop_loss,\n    });\n\n    const { buy_price, currency = '', is_valid_to_cancel, is_sold } = contract_info;\n    const { stop_loss, take_profit } = getLimitOrderAmount(contract_info.limit_order);\n    const { contract_update_stop_loss: stop_loss_error, contract_update_take_profit: take_profit_error } =\n        validation_errors;\n    const error_messages: Record<string, string[] | undefined> = {\n        take_profit: has_contract_update_take_profit ? take_profit_error : undefined,\n        stop_loss: has_contract_update_stop_loss ? stop_loss_error : undefined,\n    };\n    const has_validation_errors = Object.keys(error_messages).some(field => error_messages[field]?.length);\n\n    const isValid = (val?: number | null) => !(val === undefined || val === null);\n\n    const is_multiplier = isMultiplierContract(contract_info.contract_type || '');\n    const is_take_profit_valid = has_contract_update_take_profit\n        ? +contract_update_take_profit > 0\n        : isValid(is_multiplier ? stop_loss : take_profit);\n    const is_stop_loss_valid = has_contract_update_stop_loss ? +contract_update_stop_loss > 0 : isValid(take_profit);\n    const is_valid_multiplier_contract_update = is_valid_to_cancel\n        ? false\n        : !!(is_take_profit_valid || is_stop_loss_valid);\n    const is_valid_contract_update = is_multiplier ? is_valid_multiplier_contract_update : !!is_take_profit_valid;\n\n    const getStateToCompare = (_state: Partial<TContractStore>) => {\n        const props_to_pick = [\n            'has_contract_update_take_profit',\n            'has_contract_update_stop_loss',\n            _state.has_contract_update_take_profit && 'contract_update_take_profit',\n            _state.has_contract_update_stop_loss && 'contract_update_stop_loss',\n        ];\n\n        return pick(_state, props_to_pick);\n    };\n\n    const isStateUnchanged = () => {\n        return isDeepEqual(\n            getStateToCompare(getContractUpdateConfig(contract_info)),\n            getStateToCompare(props.contract)\n        );\n    };\n\n    const onChange = (\n        e: React.ChangeEvent<HTMLInputElement> | { target: { name: string; value: number | string | boolean } }\n    ) => {\n        const { name, value } = e.target;\n        setContractProfitOrLoss({\n            ...contract_profit_or_loss,\n            [name]: value,\n        });\n\n        contract.onChange?.({\n            name,\n            value,\n        });\n    };\n\n    const onClick = (e: React.MouseEvent<HTMLButtonElement>) => {\n        updateLimitOrder();\n        toggleDialog(e);\n        onMouseLeave?.();\n    };\n\n    const take_profit_input = (\n        <InputWithCheckbox\n            addToast={addToast}\n            removeToast={removeToast}\n            current_focus={current_focus}\n            classNameBubble='dc-popover__trade-params'\n            classNameInlinePrefix='dc-contract-card-dialog__input--currency'\n            currency={currency}\n            error_messages={error_messages.take_profit}\n            is_input_hidden={isMobile && !has_contract_update_take_profit}\n            is_single_currency\n            is_negative_disabled\n            defaultChecked={has_contract_update_take_profit}\n            label={getCardLabels().TAKE_PROFIT}\n            name='contract_update_take_profit'\n            onChange={onChange}\n            error_message_alignment={error_message_alignment || 'right'}\n            value={contract_profit_or_loss.contract_update_take_profit}\n            is_disabled={is_multiplier && !!is_valid_to_cancel}\n            setCurrentFocus={setCurrentFocus}\n            tooltip_alignment={isMobile ? 'left' : 'right'}\n            tooltip_label={\n                <Localize i18n_default_text='When your profit reaches or exceeds this amount, your trade will be closed automatically.' />\n            }\n        />\n    );\n\n    const cancellation_price = getCancellationPrice(contract_info);\n    const stop_loss_input = (\n        <InputWithCheckbox\n            addToast={addToast}\n            removeToast={removeToast}\n            current_focus={current_focus}\n            classNameBubble='dc-popover__trade-params'\n            classNameInlinePrefix='dc-contract-card-dialog__input--currency'\n            currency={currency}\n            defaultChecked={has_contract_update_stop_loss}\n            error_messages={error_messages.stop_loss}\n            is_input_hidden={isMobile && !has_contract_update_stop_loss}\n            is_single_currency\n            is_negative_disabled\n            label={getCardLabels().STOP_LOSS}\n            max_value={Number(buy_price) - cancellation_price}\n            name='contract_update_stop_loss'\n            onChange={onChange}\n            error_message_alignment={error_message_alignment || 'right'}\n            value={contract_profit_or_loss.contract_update_stop_loss}\n            is_disabled={!!is_valid_to_cancel}\n            setCurrentFocus={setCurrentFocus}\n            tooltip_alignment={isMobile ? 'left' : 'right'}\n            tooltip_label={\n                <Localize i18n_default_text='When your loss reaches or exceeds this amount, your trade will be closed automatically.' />\n            }\n        />\n    );\n\n    return (\n        <React.Fragment>\n            <MobileWrapper>\n                <div className='dc-contract-card-dialog__total-profit'>\n                    <Text color='less-prominent' size='xs' weight='bold'>\n                        {getCardLabels().TOTAL_PROFIT_LOSS}\n                    </Text>\n                    <div\n                        className={classNames(\n                            'dc-contract-card__profit-loss dc-contract-card-item__total-profit-loss-value',\n                            {\n                                'dc-contract-card__profit-loss--is-crypto': isCryptocurrency(currency),\n                                'dc-contract-card__profit-loss--negative': totalProfit < 0,\n                                'dc-contract-card__profit-loss--positive': totalProfit > 0,\n                            }\n                        )}\n                    >\n                        <Money amount={totalProfit} currency={currency} show_currency />\n                        {!is_sold && (\n                            <ArrowIndicator className='dc-contract-card__indicative--movement' value={totalProfit} />\n                        )}\n                    </div>\n                </div>\n            </MobileWrapper>\n            <div\n                className={classNames('dc-contract-card-dialog__form', {\n                    'dc-contract-card-dialog__form--no-stop-loss': is_accumulator || is_turbos,\n                })}\n            >\n                <div className='dc-contract-card-dialog__input'>{take_profit_input}</div>\n                {is_multiplier && <div className='dc-contract-card-dialog__input'>{stop_loss_input}</div>}\n                <div className='dc-contract-card-dialog__button'>\n                    <Button\n                        onClick={onClick}\n                        disabled={has_validation_errors || !is_valid_contract_update || isStateUnchanged()}\n                        isFullWidth\n                    >\n                        {getCardLabels().APPLY}\n                    </Button>\n                </div>\n            </div>\n        </React.Fragment>\n    );\n};\n\nexport default ContractUpdateForm;\n",
            "size_bytes": 10366
        },
        "src/pages/bot-builder/toolbar/toolbar-button.tsx": {
            "content": "import Button from '@/components/shared_ui/button';\nimport Popover from '@/components/shared_ui/popover';\n\ntype TToolbarButton = {\n    popover_message?: string;\n    button_id: string;\n    button_classname: string;\n    buttonOnClick: () => void;\n    icon?: React.ReactElement;\n    button_text: string;\n    is_bot_running?: boolean;\n};\n\nconst ToolbarButton = ({\n    popover_message,\n    button_id,\n    button_classname,\n    buttonOnClick,\n    icon,\n    button_text,\n    is_bot_running,\n}: TToolbarButton) => {\n    const button = (\n        <Button id={button_id} className={button_classname} has_effect onClick={buttonOnClick} icon={icon} green>\n            {button_text}\n        </Button>\n    );\n\n    if (is_bot_running) {\n        return button;\n    }\n\n    return (\n        <Popover alignment='bottom' message={popover_message} should_disable_pointer_events>\n            {button}\n        </Popover>\n    );\n};\n\nexport default ToolbarButton;\n",
            "size_bytes": 938
        },
        "src/hooks/useQueryString.ts": {
            "content": "import { useLocation, useNavigate } from 'react-router-dom';\n\n/**\n * A hook that leverages React Router v6 to sync URL params with the React component lifecycle.\n * You can use this hook to conditionally render tabs, forms, or other screens based on the current URL parameters.\n *\n * For instance, `/my-profile?tab=Stats`:\n * - Calling this hook returns `queryString`, which is an object containing the key `tab` with the value `Stats`.\n * - You can then conditionally render the `Stats` tab screen by checking if `queryString.tab === 'Stats'`.\n *\n * This avoids the need for prop drilling to pass boolean screen setters into child components for switching between different screens/tabs.\n *\n * @example\n * // Call the hook and render the tab based on `?tab=...`\n * const { queryString } = useQueryString();\n *\n * if (queryString.tab === 'Stats') {\n *     // Show Stats component\n * }\n *\n * @returns {object} An object containing:\n * - `deleteQueryString`: A function to remove a specific query parameter from the URL.\n * - `queryString`: An object representing the current URL query parameters.\n * - `setQueryString`: A function to add or update query parameters in the URL.\n *\n * @example\n * // Deleting a query parameter\n * const { deleteQueryString } = useQueryString();\n * deleteQueryString('tab'); // Removes the 'tab' query parameter from the URL\n *\n * @example\n * // Setting a query parameter\n * const { setQueryString } = useQueryString();\n * setQueryString({ tab: 'Payment methods', modal: 'NicknameModal' });\n * // Updates the URL to include `tab=Payment+methods&modal=NicknameModal`\n */\n\ninterface QueryParams {\n    advertId: string;\n    formAction: string;\n    modal: string;\n    paymentMethodId: string;\n    tab: string;\n}\n\nfunction useQueryString() {\n    const location = useLocation();\n    const navigate = useNavigate();\n\n    // Parse the query string into an object\n    function getQueryParams(): Partial<QueryParams> {\n        const searchParams = new URLSearchParams(location.search);\n        const params: Partial<QueryParams> = {};\n        searchParams.forEach((value, key) => {\n            params[key as keyof QueryParams] = value;\n        });\n        return params;\n    }\n\n    // Update the query string in the URL\n    function setQueryParams(newParams: Partial<QueryParams>) {\n        const searchParams = new URLSearchParams(location.search);\n\n        Object.entries(newParams).forEach(([key, value]) => {\n            if (value === undefined) {\n                searchParams.delete(key);\n            } else {\n                searchParams.set(key, value);\n            }\n        });\n\n        navigate(\n            {\n                search: searchParams.toString(),\n            },\n            { replace: true }\n        );\n    }\n\n    // Function to delete a specific query parameter\n    function deleteQueryString(key: keyof QueryParams) {\n        const searchParams = new URLSearchParams(location.search);\n        searchParams.delete(key);\n        navigate(\n            {\n                search: searchParams.toString(),\n            },\n            { replace: true }\n        );\n    }\n\n    // Function to set multiple query parameters at once\n    function setQueryString(queryStrings: Partial<QueryParams>) {\n        setQueryParams(queryStrings);\n    }\n\n    return {\n        deleteQueryString,\n        queryString: getQueryParams(),\n        setQueryString,\n    };\n}\n\nexport default useQueryString;\n",
            "size_bytes": 3418
        },
        "src/external/bot-skeleton/scratch/blocks/Advanced/Variable/index.js": {
            "content": "import './variables_get';\nimport './variables_set';\n",
            "size_bytes": 52
        },
        "src/components/layout/header/mobile-menu/__tests__/back-button.spec.tsx": {
            "content": "import { useDevice } from '@deriv-com/ui';\nimport { render, screen } from '@testing-library/react';\nimport userEvent from '@testing-library/user-event';\nimport BackButton from '../back-button';\n\nconst mockOnClick = jest.fn();\n\njest.mock('@deriv-com/ui', () => ({\n    ...jest.requireActual('@deriv-com/ui'),\n    useDevice: jest.fn(() => ({ isDesktop: false })),\n}));\n\ndescribe('BackButton Component', () => {\n    it('renders the button with the correct text', () => {\n        render(<BackButton buttonText='Go Back' onClick={mockOnClick} />);\n        expect(screen.getByRole('button')).toBeDefined();\n    });\n\n    it('calls the onClick handler when clicked', async () => {\n        render(<BackButton buttonText='Go Back' onClick={mockOnClick} />);\n        await userEvent.click(screen.getByRole('button'));\n        expect(mockOnClick).toHaveBeenCalledTimes(1);\n    });\n\n    it('adjusts the text size for mobile devices', () => {\n        render(<BackButton buttonText='Go Back' onClick={mockOnClick} />);\n        const textComponent = screen.getByText('Go Back');\n        expect(textComponent).toHaveClass('derivs-text__size--lg');\n    });\n\n    it('uses a smaller text size for non-mobile devices', () => {\n        (useDevice as jest.Mock).mockReturnValue({ isDesktop: true });\n        render(<BackButton buttonText='Go Back' onClick={mockOnClick} />);\n        const textComponent = screen.getByText('Go Back');\n        expect(textComponent).toHaveClass('derivs-text__size--md');\n    });\n});\n",
            "size_bytes": 1490
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Tools/Misc/console.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { emptyTextValidator, modifyContextMenu } from '../../../../utils';\n\nwindow.Blockly.Blocks.console = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Console {{ message_type }} value: {{ input_message }}', {\n                message_type: '%1',\n                input_message: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'CONSOLE_TYPE',\n                    options: [\n                        [localize('Log'), 'log'],\n                        [localize('Warn'), 'warn'],\n                        [localize('Error'), 'error'],\n                        [localize('Table'), 'table'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'MESSAGE',\n                    check: null,\n                },\n            ],\n            colour: window.Blockly.Colours.Special3.colour,\n            colourSecondary: window.Blockly.Colours.Special3.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Special3.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Display messages in the developers console.'),\n            category: window.Blockly.Categories.Miscellaneous,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Console'),\n            description: localize(\n                \"This block displays messages in the developer's console with an input that can be either a string of text, a number, boolean, or an array of data.\"\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            MESSAGE: emptyTextValidator,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.console = block => {\n    const console_type = block.getFieldValue('CONSOLE_TYPE') || 'log';\n    const message =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'MESSAGE',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC\n        ) || `\"${localize('<empty message>')}\"`;\n\n    const code = `Bot.console({ type: '${console_type}', message: ${message}});\\n`;\n    return code;\n};\n",
            "size_bytes": 2448
        },
        "src/external/bot-skeleton/services/tradeEngine/trade/Balance.js": {
            "content": "import { getFormattedText } from '@/components/shared';\nimport DBotStore from '../../../scratch/dbot-store';\nimport { api_base } from '../../api/api-base';\nimport { info } from '../utils/broadcast';\n\nlet balance_string = '';\n\nexport default Engine =>\n    class Balance extends Engine {\n        observeBalance() {\n            if (!api_base.api) return;\n            const subscription = api_base.api.onMessage().subscribe(({ data }) => {\n                if (data?.msg_type === 'balance' && data?.balance) {\n                    const {\n                        balance: { balance: b, currency },\n                    } = data;\n\n                    balance_string = getFormattedText(b, currency);\n\n                    if (this.accountInfo) info({ accountID: this.accountInfo.loginid, balance: balance_string });\n                }\n            });\n            api_base.pushSubscription(subscription);\n        }\n\n        // eslint-disable-next-line class-methods-use-this\n        getBalance(type) {\n            const { client } = DBotStore.instance;\n            const balance = (client && client.balance) || 0;\n\n            balance_string = getFormattedText(balance, client.currency, false);\n            return type === 'STR' ? balance_string : balance;\n        }\n    };\n",
            "size_bytes": 1262
        },
        "src/components/shared_ui/circular-progress/index.ts": {
            "content": "import CircularProgress from './circular-progress';\nimport './circular-progress.scss';\n\nexport default CircularProgress;\n",
            "size_bytes": 121
        },
        "src/components/shared/utils/contract/contract-types.ts": {
            "content": "import { ContractUpdate, ContractUpdateHistory, Portfolio1, ProposalOpenContract } from '@deriv/api-types';\n\nexport type TContractStore = {\n    clearContractUpdateConfigValues: () => void;\n    contract_info: TContractInfo;\n    contract_update_history: ContractUpdateHistory;\n    contract_update_take_profit: number | string;\n    contract_update_stop_loss: number | string;\n    digits_info: TDigitsInfo;\n    display_status: string;\n    has_contract_update_take_profit: boolean;\n    has_contract_update_stop_loss: boolean;\n    is_digit_contract: boolean;\n    is_ended: boolean;\n    onChange: (param: { name: string; value: string | number | boolean }) => void;\n    updateLimitOrder: () => void;\n    validation_errors: { contract_update_stop_loss: string[]; contract_update_take_profit: string[] };\n};\n\nexport type TContractInfo = ProposalOpenContract &\n    Portfolio1 & {\n        contract_update?: ContractUpdate;\n        underlying_symbol?: string;\n        exit_spot?: string | number;\n        entry_spot_time?: string | number;\n    };\n\nexport type TTickItem = {\n    epoch?: number;\n    tick?: null | number;\n    tick_display_value?: null | string;\n};\n\nexport type TDigitsInfo = { [key: number]: { digit: number; spot: string } };\n\ntype TLimitProperty = {\n    display_name?: string;\n    order_amount?: null | number;\n    order_date?: number;\n    value?: null | string;\n};\n\nexport type TLimitOrder = Partial<Record<'stop_loss' | 'stop_out' | 'take_profit', TLimitProperty>>;\n\nexport type TContractOptions = {\n    isHighLow?: boolean;\n    showButtonName?: boolean;\n    showMainTitle?: boolean;\n};\n",
            "size_bytes": 1594
        },
        "src/components/shared/utils/login/index.ts": { "content": "export * from './login';\n", "size_bytes": 25 },
        "src/pages/bot-builder/toolbar/workspace-group.tsx": {
            "content": "import classNames from 'classnames';\nimport { observer } from 'mobx-react-lite';\nimport { useStore } from '@/hooks/useStore';\nimport {\n    LabelPairedArrowRotateLeftMdRegularIcon,\n    LabelPairedArrowRotateRightMdRegularIcon,\n    LabelPairedArrowsRotateMdRegularIcon,\n    LabelPairedChartLineMdRegularIcon,\n    LabelPairedChartTradingviewMdRegularIcon,\n    LabelPairedFloppyDiskMdRegularIcon,\n    LabelPairedFolderOpenMdRegularIcon,\n    LabelPairedMagnifyingGlassMinusMdRegularIcon,\n    LabelPairedMagnifyingGlassPlusMdRegularIcon,\n    LabelPairedObjectsAlignLeftMdRegularIcon,\n} from '@deriv/quill-icons/LabelPaired';\nimport { localize } from '@deriv-com/translations';\nimport { useDevice } from '@deriv-com/ui';\nimport { rudderStackSendOpenEvent } from '../../../analytics/rudderstack-common-events';\nimport ToolbarIcon from './toolbar-icon';\n\nconst WorkspaceGroup = observer(() => {\n    const { dashboard, toolbar, load_modal, save_modal } = useStore();\n    const { setPreviewOnPopup, setChartModalVisibility, setTradingViewModalVisibility } = dashboard;\n    const { has_redo_stack, has_undo_stack, onResetClick, onSortClick, onUndoClick, onZoomInOutClick } = toolbar;\n    const { toggleSaveModal } = save_modal;\n    const { toggleLoadModal } = load_modal;\n    const { isDesktop } = useDevice();\n\n    return (\n        <div className='toolbar__wrapper'>\n            <div className='toolbar__group toolbar__group-btn' data-testid='dt_toolbar_group_btn'>\n                <ToolbarIcon\n                    popover_message={localize('Reset')}\n                    icon={\n                        <span\n                            id='db-toolbar__reset-button'\n                            className='toolbar__icon'\n                            onClick={onResetClick}\n                            data-testid='dt_toolbar_reset_button'\n                        >\n                            <LabelPairedArrowsRotateMdRegularIcon />\n                        </span>\n                    }\n                />\n                <ToolbarIcon\n                    popover_message={localize('Import')}\n                    icon={\n                        <span\n                            className='toolbar__icon'\n                            id='db-toolbar__import-button'\n                            data-testid='dt_toolbar_import_button'\n                            onClick={() => {\n                                setPreviewOnPopup(true);\n                                toggleLoadModal();\n                                rudderStackSendOpenEvent({\n                                    subpage_name: 'bot_builder',\n                                    subform_source: 'bot_builder',\n                                    subform_name: 'load_strategy',\n                                    load_strategy_tab: 'recent',\n                                });\n                            }}\n                        >\n                            <LabelPairedFolderOpenMdRegularIcon />\n                        </span>\n                    }\n                />\n                <ToolbarIcon\n                    popover_message={localize('Save')}\n                    icon={\n                        <span\n                            className='toolbar__icon'\n                            id='db-toolbar__save-button'\n                            data-testid='dt_toolbar_save_button'\n                            onClick={toggleSaveModal}\n                        >\n                            <LabelPairedFloppyDiskMdRegularIcon />\n                        </span>\n                    }\n                />\n                <ToolbarIcon\n                    popover_message={localize('Sort blocks')}\n                    icon={\n                        <span\n                            className='toolbar__icon'\n                            id='db-toolbar__sort-button'\n                            data-testid='dt_toolbar_sort_button'\n                            onClick={onSortClick}\n                        >\n                            <LabelPairedObjectsAlignLeftMdRegularIcon />\n                        </span>\n                    }\n                />\n                {isDesktop && (\n                    <>\n                        <div className='vertical-divider' />\n                        <ToolbarIcon\n                            popover_message={localize('Charts')}\n                            icon={\n                                <span\n                                    className='toolbar__icon'\n                                    id='db-toolbar__charts-button'\n                                    onClick={() => setChartModalVisibility()}\n                                >\n                                    <LabelPairedChartLineMdRegularIcon />\n                                </span>\n                            }\n                        />\n                        <ToolbarIcon\n                            popover_message={localize('TradingView Chart')}\n                            icon={\n                                <span\n                                    className='toolbar__icon'\n                                    id='db-toolbar__tradingview-button'\n                                    onClick={() => setTradingViewModalVisibility()}\n                                >\n                                    <LabelPairedChartTradingviewMdRegularIcon />\n                                </span>\n                            }\n                        />\n                    </>\n                )}\n                <div className='vertical-divider' />\n                <ToolbarIcon\n                    popover_message={localize('Undo')}\n                    icon={\n                        <span\n                            className={classNames('toolbar__icon undo', {\n                                'toolbar__icon--disabled': !has_undo_stack,\n                            })}\n                            id='db-toolbar__undo-button'\n                            data-testid='dt_toolbar_undo_button'\n                            onClick={() => onUndoClick(/* redo */ false)}\n                        >\n                            <LabelPairedArrowRotateLeftMdRegularIcon />\n                        </span>\n                    }\n                />\n                <ToolbarIcon\n                    popover_message={localize('Redo')}\n                    icon={\n                        <span\n                            className={classNames('toolbar__icon redo', {\n                                'toolbar__icon--disabled': !has_redo_stack,\n                            })}\n                            id='db-toolbar__redo-button'\n                            data-testid='dt_toolbar_redo_button'\n                            onClick={() => onUndoClick(/* redo */ true)}\n                        >\n                            <LabelPairedArrowRotateRightMdRegularIcon />\n                        </span>\n                    }\n                />\n                <div className='vertical-divider' />\n                <ToolbarIcon\n                    popover_message={localize('Zoom in')}\n                    icon={\n                        <span\n                            className='toolbar__icon'\n                            id='db-toolbar__zoom-in-button'\n                            data-testid='dt_toolbar_zoom_in_button'\n                            onClick={() => onZoomInOutClick(/* in */ true)}\n                        >\n                            <LabelPairedMagnifyingGlassPlusMdRegularIcon />\n                        </span>\n                    }\n                />\n                <ToolbarIcon\n                    popover_message={localize('Zoom out')}\n                    icon={\n                        <span\n                            className='toolbar__icon'\n                            id='db-toolbar__zoom-out'\n                            data-testid='dt_toolbar_zoom_out_button'\n                            onClick={() => onZoomInOutClick(/* in */ false)}\n                        >\n                            <LabelPairedMagnifyingGlassMinusMdRegularIcon />\n                        </span>\n                    }\n                />\n            </div>\n        </div>\n    );\n});\n\nexport default WorkspaceGroup;\n",
            "size_bytes": 8186
        },
        "src/components/layout/header/mobile-menu/menu-header.tsx": {
            "content": "import { ComponentProps, useMemo } from 'react';\nimport { FILTERED_LANGUAGES } from '@/utils/languages';\nimport { useTranslations } from '@deriv-com/translations';\nimport { Text, useDevice } from '@deriv-com/ui';\n\ntype TMenuHeader = {\n    hideLanguageSetting: boolean;\n    openLanguageSetting: ComponentProps<'button'>['onClick'];\n};\n\nconst MenuHeader = ({ hideLanguageSetting, openLanguageSetting }: TMenuHeader) => {\n    const { currentLang, localize } = useTranslations();\n    const { isDesktop } = useDevice();\n\n    const countryIcon = useMemo(\n        () => FILTERED_LANGUAGES.find(({ code }) => code === currentLang)?.placeholderIconInMobile,\n        [currentLang]\n    );\n\n    return (\n        <div className='mobile-menu__header'>\n            <Text size={isDesktop ? 'md' : 'lg'} weight='bold'>\n                {localize('Menu')}\n            </Text>\n\n            {!hideLanguageSetting && (\n                <button\n                    className='mobile-menu__header__language items-center'\n                    onClick={openLanguageSetting}\n                    aria-label={`${localize('Change language')} - ${localize('Current language')}: ${currentLang}`}\n                    aria-expanded='false'\n                    aria-haspopup='menu'\n                >\n                    {countryIcon}\n                    <Text className='ml-[0.4rem]' size={isDesktop ? 'xs' : 'sm'} weight='bold'>\n                        {currentLang}\n                    </Text>\n                </button>\n            )}\n        </div>\n    );\n};\n\nexport default MenuHeader;\n",
            "size_bytes": 1553
        },
        "src/hooks/growthbook/useIsGrowthbookLoaded.ts": {
            "content": "import { useEffect, useState } from 'react';\nimport { Analytics } from '@deriv-com/analytics';\nimport useRemoteConfig from './useRemoteConfig';\n\nconst useIsGrowthbookIsLoaded = () => {\n    const [isGBLoaded, setIsGBLoaded] = useState(false);\n    const { data } = useRemoteConfig(true);\n    const [isGBAvailable, setisGBAvailable] = useState<boolean>(true);\n\n    useEffect(() => {\n        let analytics_interval: NodeJS.Timeout;\n\n        if (data?.marketing_growthbook) {\n            let checksCounter = 0;\n            analytics_interval = setInterval(() => {\n                // Check if the analytics instance is available for 10 seconds before setting the feature flag value\n                if (checksCounter > 20) {\n                    // If the analytics instance is not available after 10 seconds, clear the interval\n                    clearInterval(analytics_interval);\n                    setisGBAvailable(false);\n                    return;\n                }\n                checksCounter += 1;\n                if (Analytics?.getInstances()?.ab) {\n                    setIsGBLoaded(true);\n                    clearInterval(analytics_interval);\n                }\n            }, 500);\n        } else {\n            setisGBAvailable(false);\n        }\n        return () => {\n            clearInterval(analytics_interval);\n        };\n    }, [data.marketing_growthbook]);\n\n    return { isGBLoaded, isGBAvailable };\n};\n\nexport default useIsGrowthbookIsLoaded;\n",
            "size_bytes": 1460
        },
        "src/external/bot-skeleton/scratch/blocks/Advanced/Loops/controls_whileUntil.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.controls_whileUntil = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('repeat {{ while_or_until }} {{ boolean }}', { while_or_until: '%1', boolean: '%2' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'MODE',\n                    options: [\n                        [localize('while'), 'WHILE'],\n                        [localize('until'), 'UNTIL'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'BOOL',\n                    check: 'Boolean',\n                },\n            ],\n            message1: localize('do %1'),\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'DO',\n                },\n            ],\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('This block repeats instructions as long as a given condition is true'),\n            category: window.Blockly.Categories.Loop,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Repeat While/Until'),\n            description: localize('This block repeats instructions as long as a given condition is true.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            BOOL: null,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.controls_whileUntil = block => {\n    const branch = window.Blockly.JavaScript.javascriptGenerator.statementToCode(block, 'DO');\n    const until = block.getFieldValue('MODE') === 'UNTIL';\n    const order = until\n        ? window.Blockly.JavaScript.javascriptGenerator.ORDER_LOGICAL_NOT\n        : window.Blockly.JavaScript.javascriptGenerator.ORDER_NONE;\n    let argument0 = window.Blockly.JavaScript.javascriptGenerator.valueToCode(block, 'BOOL', order) || 'false';\n\n    if (until) {\n        argument0 = `!${argument0}`;\n    }\n\n    // eslint-disable-next-line no-underscore-dangle\n    const maxLoopVar = window.Blockly.JavaScript.variableDB_.getDistinctName(\n        'maxLoops',\n        window.Blockly.Variables.CATEGORY_NAME\n    );\n    // eslint-disable-next-line no-underscore-dangle\n    const currentLoopVar = window.Blockly.JavaScript.variableDB_.getDistinctName(\n        'currentLoop',\n        window.Blockly.Variables.CATEGORY_NAME\n    );\n\n    return `\n        var ${maxLoopVar} = 10000;\n        var ${currentLoopVar} = 0;\n\n        while (${argument0}) {\n            if (${currentLoopVar} > ${maxLoopVar}) {\n                throw new Error(\"${localize('Infinite loop detected')}\");\n            } else {\n                ${currentLoopVar}++;\n            }\n            \n            ${branch}\n        }\\n`;\n};\n",
            "size_bytes": 3272
        },
        "src/external/bot-skeleton/scratch/hooks/workspace_svg.js": {
            "content": "import { config } from '../../constants/config';\nimport DBotStore from '../dbot-store';\n\n/**\n * Handle a mouse-down on SVG drawing surface.\n * deriv-bot: We bubble the mousedown event for Core to be reactive.\n * @param {!Event} e Mouse down event.\n * @private\n */\n\n/**\n * Scroll the workspace to center on the given block.\n * @param {?string} id ID of block center on.\n * @public\n */\nwindow.Blockly.WorkspaceSvg.prototype.centerOnBlock = function (id, hideChaff = true) {\n    if (!this.scrollbar) {\n        // eslint-disable-next-line no-console\n        console.warn('Tried to scroll a non-scrollable workspace.');\n        return;\n    }\n\n    const block = this.getBlockById(id);\n    if (!block) {\n        return;\n    }\n\n    // XY is in workspace coordinates.\n    const xy = block.getRelativeToSurfaceXY();\n\n    // Height/width is in workspace units.\n    const heightWidth = block.getHeightWidth();\n\n    // Find the enter of the block in workspace units.\n    const blockCenterY = xy.y + heightWidth.height / 2;\n\n    // In RTL the block's position is the top right of the block, not top left.\n    const multiplier = this.RTL ? -1 : 1;\n    const blockCenterX = xy.x + (multiplier * heightWidth.width) / 2;\n\n    // Workspace scale, used to convert from workspace coordinates to pixels.\n    const scale = this.scale;\n\n    // Center in pixels.  0, 0 is at the workspace origin.  These numbers may\n    // be negative.\n    const pixelX = blockCenterX * scale;\n    const pixelY = blockCenterY * scale;\n\n    const metrics = this.getMetrics();\n\n    // Scrolling to here would put the block in the top-left corner of the\n    // visible workspace.\n    const scrollToBlockX = pixelX - metrics.contentLeft;\n    const scrollToBlockY = pixelY - metrics.contentTop;\n\n    // viewHeight and viewWidth are in pixels.\n    const halfViewWidth = metrics.viewWidth / 2;\n    const halfViewHeight = metrics.viewHeight / 2;\n\n    // Put the block in the center of the visible workspace instead.\n    const scrollToCenterX = scrollToBlockX - halfViewWidth;\n    const scrollToCenterY = scrollToBlockY - halfViewHeight;\n\n    if (hideChaff) {\n        window.Blockly.hideChaff();\n    }\n\n    this?.scrollbar?.set(scrollToCenterX, scrollToCenterY);\n};\n\n/**\n * Creates a copy of passed block_node on main workspace and positions it\n * below the lowest block on the canvas.\n * @static\n * @param {Element} block_node\n * @public\n */\n// Keep track of the last added block\nwindow.Blockly.WorkspaceSvg.prototype.lastAddedBlock = null;\n\nwindow.Blockly.WorkspaceSvg.prototype.addBlockNode = function (block_node) {\n    const { flyout } = DBotStore.instance;\n    if (block_node) {\n        const top_blocks = this.getTopBlocks(true);\n        const block = window.Blockly.Xml.domToBlock(block_node, flyout.getFlyout().targetWorkspace);\n        // // Remove highlight from all blocks\n        window.Blockly.derivWorkspace.getAllBlocks().forEach(b => {\n            if (b.svgGroup_) {\n                window.Blockly.utils.dom.removeClass(b.svgGroup_, 'blocklySelected');\n                if (b === window.Blockly.derivWorkspace.lastAddedBlock) {\n                    window.Blockly.derivWorkspace.lastAddedBlock = null;\n                }\n            }\n        });\n\n        // Add highlight to the new block and update lastAddedBlock\n        window.Blockly.utils.dom.addClass(block.svgGroup_, 'blocklySelected');\n        window.Blockly.derivWorkspace.lastAddedBlock = block;\n        if (config().single_instance_blocks.includes(block.type)) {\n            this.getAllBlocks().forEach(ws_block => {\n                if (ws_block.type === block.type && ws_block.id !== block.id) {\n                    ws_block.dispose();\n                }\n            });\n        }\n\n        if (top_blocks.length) {\n            const last_block = top_blocks[top_blocks.length - 1];\n            const last_block_xy = last_block.getRelativeToSurfaceXY();\n            const extra_spacing = last_block.startHat_ ? window.Blockly.BlockSvg.START_HAT_HEIGHT : 0;\n            const y = last_block_xy.y + last_block.getHeightWidth().height + extra_spacing + 30;\n            block.moveBy(last_block_xy.x, y);\n        }\n        flyout.setIsSearchFlyout(false);\n        flyout.setVisibility(false);\n        window.Blockly.svgResize(block.workspace);\n    } else {\n        this.getAllBlocks().forEach(block => {\n            if (block.svgGroup_) {\n                window.Blockly.utils.dom.removeClass(block.svgGroup_, 'blocklySelected');\n            }\n        });\n\n        const trade_definition_block = this.getAllBlocks().find(block => block.type === 'trade_definition');\n        if (trade_definition_block?.svgGroup_) {\n            window.Blockly.utils.dom.addClass(trade_definition_block.svgGroup_, 'blocklySelected');\n            window.Blockly.derivWorkspace.lastAddedBlock = trade_definition_block;\n        }\n        flyout.setIsSearchFlyout(false);\n        flyout.setVisibility(false);\n    }\n\n    // Call svgResize to avoid glitching workspace.\n    // kept this commented since it is making a glitching issue,\n    // this.centerOnBlock(new_block.id, false);\n};\n\n/**\n * Clean up the workspace by ordering all the blocks in a column. For deriv-bot\n * root-blocks are sorted in columns first, then all other blocks are positioned below\n * the lowest hanging root-block.\n */\nwindow.Blockly.WorkspaceSvg.prototype.cleanUp = function (x = 0, y = 0, blocks_to_clean = []) {\n    this.setResizesEnabled(false);\n    window.Blockly.Events.setGroup(window.Blockly.Events.getGroup() || true);\n\n    const is_import = blocks_to_clean.length !== 0;\n    const top_blocks = is_import ? blocks_to_clean : this.getTopBlocks(true);\n    const root_blocks = top_blocks\n        .filter(block => block.isMainBlock())\n        .sort((a, b) => {\n            const blockIndex = block =>\n                config().mainBlocks.findIndex(main_block_type => main_block_type === block.type);\n            return blockIndex(a) - blockIndex(b);\n        });\n    const column_count = 2;\n    const blocks_per_column = Math.ceil(root_blocks.length / column_count);\n\n    let original_cursor_y = y;\n\n    const MINIMUM_BLOCK_X_WIDTH = 650;\n\n    if (root_blocks.length) {\n        let column_index = 0;\n\n        root_blocks.forEach((block, index) => {\n            block?.svgGroup_?.setAttribute('data-testid', block?.type);\n            if (index === (column_index + 1) * blocks_per_column) {\n                original_cursor_y = y;\n                column_index++;\n            }\n\n            const xy = block.getRelativeToSurfaceXY();\n\n            const cursor_x = is_import ? x : -xy.x;\n            const cursor_y = original_cursor_y - (is_import ? 0 : xy.y) + (DBotStore.instance.is_mobile ? 50 : 0);\n\n            if (column_index === 0) {\n                block.moveBy(cursor_x, cursor_y);\n            } else {\n                const start = (column_index - 1) * blocks_per_column;\n                const initialValue = {\n                    getHeightWidth: () => ({\n                        width: 0,\n                    }),\n                };\n\n                const fat_neighbour_block = root_blocks\n                    .slice(start, start + blocks_per_column)\n                    ?.reduce((a, b) => (a.getHeightWidth().width > b.getHeightWidth().width ? a : b), initialValue);\n\n                window.Blockly.BlockSvg.MIN_BLOCK_X = 64;\n                // let position_x = cursor_x + fat_neighbour_block.getHeightWidth().width + window.Blockly.BlockSvg.MIN_BLOCK_X;\n\n                let position_x = 0;\n                if (this?.RTL) {\n                    position_x =\n                        cursor_x -\n                        Math.max(MINIMUM_BLOCK_X_WIDTH, fat_neighbour_block.getHeightWidth().width) -\n                        window.Blockly.BlockSvg.MIN_BLOCK_X;\n                    if (!is_import) position_x -= fat_neighbour_block.getRelativeToSurfaceXY().x;\n                } else {\n                    position_x =\n                        cursor_x +\n                        Math.max(MINIMUM_BLOCK_X_WIDTH, fat_neighbour_block.getHeightWidth().width) +\n                        window.Blockly.BlockSvg.MIN_BLOCK_X;\n                    if (!is_import) position_x += fat_neighbour_block.getRelativeToSurfaceXY().x;\n                }\n\n                block.moveBy(position_x, cursor_y);\n            }\n\n            block.snapToGrid();\n            window.Blockly.BlockSvg.MIN_BLOCK_Y = 48;\n            original_cursor_y =\n                block.getRelativeToSurfaceXY().y + block.getHeightWidth().height + window.Blockly.BlockSvg.MIN_BLOCK_Y;\n        });\n\n        const initialValue = {\n            getRelativeToSurfaceXY: () => ({\n                y: 0,\n            }),\n            getHeightWidth: () => ({\n                height: 0,\n            }),\n        };\n\n        const lowest_root_block = root_blocks.reduce((a, b) => {\n            const a_metrics = a.getRelativeToSurfaceXY().y + a.getHeightWidth().height;\n            const b_metrics = b.getRelativeToSurfaceXY().y + b.getHeightWidth().height;\n            return a_metrics > b_metrics ? a : b;\n        }, initialValue);\n\n        original_cursor_y =\n            lowest_root_block.getRelativeToSurfaceXY().y +\n            lowest_root_block.getHeightWidth().height +\n            window.Blockly.BlockSvg.MIN_BLOCK_Y;\n    }\n\n    const filtered_top_blocks = top_blocks.filter(block => !block.isMainBlock());\n\n    filtered_top_blocks.forEach(block => {\n        if (this.RTL && block.comment) {\n            block.RTL = true;\n            block.comment.needsAutoPositioning_ = true;\n        }\n        const xy = block.getRelativeToSurfaceXY();\n        const cursor_x = is_import ? x : -xy.x;\n        const cursor_y = original_cursor_y - (is_import ? 0 : xy.y);\n\n        block.moveBy(cursor_x, cursor_y);\n        block.snapToGrid();\n\n        original_cursor_y =\n            block.getRelativeToSurfaceXY().y + block.getHeightWidth().height + window.Blockly.BlockSvg.MIN_BLOCK_Y;\n    });\n\n    window.Blockly.Events.setGroup(false);\n    this.setResizesEnabled(true);\n};\n\n/**\n * Return an object with all the metrics required to size scrollbars for a\n * top level workspace.  The following properties are computed:\n * Coordinate system: pixel coordinates.\n * .viewHeight: Height of the visible rectangle,\n * .viewWidth: Width of the visible rectangle,\n * .contentHeight: Height of the contents,\n * .contentWidth: Width of the content,\n * .viewTop: Offset of top edge of visible rectangle from parent,\n * .viewLeft: Offset of left edge of visible rectangle from parent,\n * .contentTop: Offset of the top-most content from the y=0 coordinate,\n * .contentLeft: Offset of the left-most content from the x=0 coordinate.\n * .absolute_top: Top-edge of view.\n * .absolute_left: Left-edge of view.\n * .toolboxWidth: Width of toolbox, if it exists.  Otherwise zero.\n * .toolboxHeight: Height of toolbox, if it exists.  Otherwise zero.\n * .flyoutWidth: Width of the flyout if it is always open.  Otherwise zero.\n * .flyoutHeight: Height of flyout if it is always open.  Otherwise zero.\n * .toolboxPosition: Top, bottom, left or right.\n * @return {!Object} Contains size and position metrics of a top level\n *   workspace.\n * @private\n * @this window.Blockly.WorkspaceSvg\n */\nwindow.Blockly.WorkspaceSvg.getTopLevelWorkspaceMetrics_ = function () {\n    const toolbox_dimensions = window.Blockly.WorkspaceSvg.getDimensionsPx_(this.toolbox_);\n    const flyout_dimensions = window.Blockly.WorkspaceSvg.getDimensionsPx_(this.flyout_);\n\n    // Contains height and width in CSS pixels.\n    // svg_size is equivalent to the size of the injectionDiv at this point.\n    const svg_size = window.Blockly.svgSize(this.getParentSvg());\n\n    if (this.toolbox_) {\n        if (\n            this.toolboxPosition === window.Blockly.TOOLBOX_AT_TOP ||\n            this.toolboxPosition === window.Blockly.TOOLBOX_AT_BOTTOM\n        ) {\n            svg_size.height -= toolbox_dimensions.height;\n        } else if (\n            this.toolboxPosition === window.Blockly.TOOLBOX_AT_LEFT ||\n            this.toolboxPosition === window.Blockly.TOOLBOX_AT_RIGHT\n        ) {\n            svg_size.width -= toolbox_dimensions.width;\n        }\n    }\n\n    // svg_size is now the space taken up by the Blockly workspace, not including the toolbox.\n    const content_dimensions = window.Blockly.WorkspaceSvg.getContentDimensions_(this, svg_size);\n\n    let absolute_left = 0;\n    let absolute_top = 0;\n\n    if (this.toolbox_ && this.toolboxPosition === window.Blockly.TOOLBOX_AT_LEFT) {\n        absolute_top = 50; // deriv-bot: Add some spacing for Core header.\n        absolute_left = toolbox_dimensions.width;\n    }\n\n    if (this.toolbox_ && this.toolboxPosition === window.Blockly.TOOLBOX_AT_TOP) {\n        absolute_top = toolbox_dimensions.height + 50;\n    }\n\n    const metrics = {\n        contentHeight: content_dimensions.height,\n        contentWidth: content_dimensions.width,\n        contentTop: content_dimensions.top,\n        contentLeft: content_dimensions.left,\n        viewHeight: svg_size.height,\n        viewWidth: svg_size.width,\n        viewTop: -this.scrollY, // Must be in pixels, somehow.\n        viewLeft: -this.scrollX, // Must be in pixels, somehow.\n        absoluteTop: absolute_top,\n        absoluteLeft: absolute_left,\n        toolboxWidth: toolbox_dimensions.width,\n        toolboxHeight: toolbox_dimensions.height,\n        flyoutWidth: flyout_dimensions.width,\n        flyoutHeight: flyout_dimensions.height,\n        toolboxPosition: this.toolboxPosition,\n    };\n\n    return metrics;\n};\n\n/**\n * Show the context menu for the workspace.\n * @param {!Event} e Mouse event.\n * @private\n */\n\n/**\n * Dispose of all blocks in workspace, with an optimization to prevent resizes.\n */\nwindow.Blockly.WorkspaceSvg.prototype.asyncClear = function () {\n    const { setLoading } = DBotStore.instance;\n    setLoading(true);\n\n    return new Promise(resolve => {\n        this.clear();\n        setLoading(false);\n        resolve();\n    });\n};\n",
            "size_bytes": 13915
        },
        "src/components/shared_ui/dropdown-list/index.ts": {
            "content": "import DropdownList, { TItem } from './dropdown-list';\nimport './dropdown-list.scss';\n\nexport type { TItem };\nexport default DropdownList;\n",
            "size_bytes": 139
        },
        "src/external/bot-skeleton/scratch/blocks/Logic/index.js": {
            "content": "import './logic_compare';\nimport './controls_if';\nimport './logic_boolean';\nimport './logic_operation';\nimport './logic_null';\nimport './logic_ternary';\nimport './logic_negate';\n",
            "size_bytes": 178
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Tools/Misc/useless_block.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../../utils';\n\nwindow.Blockly.Blocks.useless_block = {\n    init() {\n        this.jsonInit({\n            message0: '%1',\n            args0: [\n                {\n                    type: 'field_label',\n                    text: localize('Conversion Helper Block'),\n                    class: 'blocklyTextRootBlockHeader',\n                },\n            ],\n            colour: window.Blockly.Colours.RootBlock.colour,\n            colourSecondary: window.Blockly.Colours.RootBlock.colourSecondary,\n            colourTertiary: window.Blockly.Colours.RootBlock.colourTertiary,\n            tooltip: localize('This block was required to correctly convert your old strategy.'),\n            category: window.Blockly.Categories.Miscellaneous,\n            nextStatement: null,\n            previousStatement: null,\n        });\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.useless_block = () => {};\n",
            "size_bytes": 1069
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Tools/Misc/loader.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { LogTypes } from '../../../../../constants/messages';\nimport { observer as globalObserver } from '../../../../../utils/observer';\nimport { loadBlocksFromRemote, modifyContextMenu, runIrreversibleEvents } from '../../../../utils';\n\nwindow.Blockly.Blocks.loader = {\n    init() {\n        this.blocks_added_by_me = [];\n        this.current_url = '';\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Load block from URL: {{ input_url }}', { input_url: '%1' }),\n            args0: [\n                {\n                    type: 'field_input',\n                    name: 'URL',\n                    text: 'http://www.example.com/block.xml',\n                },\n            ],\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Loads blocks from URL'),\n            category: window.Blockly.Categories.Miscellaneous,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    meta() {\n        return {\n            display_name: localize('Loads from URL'),\n            description: localize(\n                'This block allows you to load blocks from a URL if you have them stored on a remote server, and they will be loaded only when your bot runs.'\n            ),\n        };\n    },\n    onchange(event) {\n        if (!this.workspace || window.Blockly.derivWorkspace.isFlyoutVisible) {\n            return;\n        }\n\n        if (event.type === window.Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id)) {\n            this.current_url = this.getFieldValue('URL');\n            const loader_blocks = this.workspace.getAllBlocks().filter(block => block.type === 'loader');\n\n            loader_blocks.forEach(loader_block => {\n                if (loader_block.id !== this.id && loader_block.current_url === this.current_url) {\n                    this.setDisabled(true);\n                }\n            });\n\n            if (!this.disabled) {\n                this.loadBlocksFromCurrentUrl();\n            }\n        } else if (event.type === window.Blockly.Events.BLOCK_CHANGE && event.blockId === this.id) {\n            if (event.newValue && event.oldValue !== event.newValue) {\n                if (event.newValue === this.current_url) {\n                    this.setDisabled(false);\n                } else if (this.isValidUrl(event.newValue) && !this.isKnownUrl(event.newValue)) {\n                    this.setDisabled(false);\n                    this.loadBlocksFromCurrentUrl();\n                } else {\n                    this.setDisabled(true);\n                }\n            }\n        }\n    },\n    loadBlocksFromCurrentUrl() {\n        this.current_url = this.getFieldValue('URL');\n\n        runIrreversibleEvents(() => {\n            // Remove blocks previously loaded by this block.\n            this.blocks_added_by_me.forEach(block => block.dispose());\n        });\n\n        loadBlocksFromRemote(this)\n            .then(() => {\n                globalObserver.emit('ui.log.success', { log_type: LogTypes.LOAD_BLOCK });\n            })\n            .catch(error_msg => {\n                globalObserver.emit('ui.log.error', error_msg);\n                this.setDisabled(true);\n            });\n    },\n    isKnownUrl(url) {\n        const loader_blocks = this.workspace.getAllBlocks().filter(block => block.type === 'loader');\n        return loader_blocks.some(block => block.id !== this.id && block.current_url === url);\n    },\n    isValidUrl(url) {\n        const url_pattern = /[^/]*\\.[a-zA-Z]{3}$/;\n        return String(url).match(url_pattern);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.loader = () => {};\n",
            "size_bytes": 3855
        },
        "src/components/shared_ui/open-livechat-link/open-livechat-link.tsx": {
            "content": "import React from 'react';\nimport clsx from 'clsx';\nimport { Localize } from '@deriv-com/translations';\nimport Text from '../text';\nimport './open-livechat-link.scss';\n\ntype TOpenLiveChatLink = {\n    text_size?: React.ComponentProps<typeof Text>['size'];\n    className?: string;\n};\n\nconst OpenLiveChatLink = ({ children, text_size, className }: React.PropsWithChildren<TOpenLiveChatLink>) => (\n    <button\n        type='button'\n        className={clsx('open-livechat__link', className)}\n        onClick={() => window.LC_API.open_chat_window()}\n    >\n        <Text size={text_size || 'xs'} weight='bold' color='brand-red-coral'>\n            {children || <Localize i18n_default_text='live chat' />}\n        </Text>\n    </button>\n);\n\nexport default OpenLiveChatLink;\n",
            "size_bytes": 764
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Tools/Misc/barrier_offset.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { config } from '../../../../../constants/config';\nimport { modifyContextMenu } from '../../../../utils';\n\n// This block is a remnant of a very old Binary Bot version.\n// needs to be here for backward compatibility.\nwindow.Blockly.Blocks.barrier_offset = {\n    init() {\n        this.jsonInit({\n            message0: '%1',\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'BARRIEROFFSET_IN',\n                    options: config().BARRIER_TYPES,\n                },\n            ],\n            output: null,\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Adds a sign to a number to create a barrier offset. (deprecated)'),\n            category: window.Blockly.Categories.Miscellaneous,\n        });\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.barrier_offset = () => {};\n",
            "size_bytes": 1222
        },
        "src/components/shared_ui/counter/index.ts": {
            "content": "import Counter from './counter';\nimport './counter.scss';\n\nexport default Counter;\n",
            "size_bytes": 83
        },
        "analysis-tool/Benanalysistool-final-main/components/theme-provider.tsx": {
            "content": "'use client'\n\nimport * as React from 'react'\nimport {\n  ThemeProvider as NextThemesProvider,\n  type ThemeProviderProps,\n} from 'next-themes'\n\nexport function ThemeProvider({ children, ...props }: ThemeProviderProps) {\n  return <NextThemesProvider {...props}>{children}</NextThemesProvider>\n}\n",
            "size_bytes": 292
        },
        "src/pages/tutorials/dbot-tours/common/tour-button.tsx": {
            "content": "import Text from '@/components/shared_ui/text';\n\ntype TTourButton = {\n    type?: string;\n    onClick: () => void;\n    label: string;\n};\n\nconst TourButton = ({ label, type = 'default', ...props }: TTourButton) => {\n    if (!label) return null;\n    return (\n        <button className={type} {...props}>\n            <Text color='prominent' align='center' weight='bold' as='span' lineHeight='s' size='xs'>\n                {label}\n            </Text>\n        </button>\n    );\n};\n\nexport default TourButton;\n",
            "size_bytes": 502
        },
        "src/components/shared_ui/types/accordion.types.ts": {
            "content": "export type TAccordionItem = Array<{\n    header: string;\n    content: React.ReactNode;\n}>;\n\nexport type TAccordionProps = {\n    className?: string;\n    list: TAccordionItem;\n};\n",
            "size_bytes": 177
        },
        "src/utils/help-content/help-strings/after_purchase.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize(\n            'This block is mandatory. Here is where you can decide if your bot should continue trading. Only one copy of this block is allowed.'\n        ),\n        localize(\n            'This block is commonly used to adjust the parameters of your next trade and to implement stop loss/take profit logic.'\n        ),\n    ],\n};\n",
            "size_bytes": 433
        },
        "analysis-tool/Benanalysistool-final-main/components/tick-counter.tsx": {
            "content": "\"use client\"\n\ninterface TickCounterProps {\n  count: number\n  maxTicks: number\n}\n\nexport function TickCounter({ count, maxTicks }: TickCounterProps) {\n  const percentage = (count / maxTicks) * 100\n\n  return (\n    <div className=\"neomorph rounded-xl p-6\">\n      <div className=\"flex flex-col gap-3\">\n        <div className=\"flex items-center justify-between\">\n          <span className=\"text-sm font-medium text-muted-foreground\">Tick Window</span>\n          <span className=\"text-2xl font-bold text-foreground\">{count}</span>\n        </div>\n        <div className=\"h-2 bg-muted rounded-full overflow-hidden\">\n          <div\n            className=\"h-full bg-primary transition-all duration-300\"\n            style={{ width: `${Math.min(percentage, 100)}%` }}\n          />\n        </div>\n        <div className=\"text-xs text-muted-foreground text-right\">of {maxTicks} ticks</div>\n      </div>\n    </div>\n  )\n}\n",
            "size_bytes": 906
        },
        "src/components/shared_ui/contract-card/contract-card-items/contract-type-cell.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { isLookBacksContract, isSmartTraderContract, isVanillaContract } from '@/components/shared';\nimport { TradeTypeIcon } from '../../../trade-type/trade-type-icon';\nimport { TGetContractTypeDisplay } from '../../types';\n\nexport type TContractTypeCellProps = {\n    getContractTypeDisplay: TGetContractTypeDisplay;\n    is_high_low: boolean;\n    is_multipliers?: boolean;\n    is_turbos?: boolean;\n    type?: string;\n    displayed_trade_param?: React.ReactNode;\n};\n\nconst ContractTypeCell = ({\n    displayed_trade_param,\n    getContractTypeDisplay,\n    is_high_low,\n    is_multipliers,\n    is_turbos,\n    type = '',\n}: TContractTypeCellProps) => {\n    let higher_lower_trade_type = '';\n    if (is_high_low) {\n        higher_lower_trade_type = type === 'CALL' ? 'HIGHER' : 'LOWER';\n    }\n\n    return (\n        <div className='dc-contract-type'>\n            <div className='dc-contract-type__type-wrapper'>\n                <TradeTypeIcon\n                    type={is_high_low && !isVanillaContract(type) ? higher_lower_trade_type : type}\n                    className='category-type'\n                    size='md'\n                />\n            </div>\n            <div\n                className={classNames('dc-contract-type__type-label', {\n                    'dc-contract-type__type-label--smarttrader-contract': isSmartTraderContract(type),\n                    'dc-contract-type__type-label--lookbacks-contract': isLookBacksContract(type),\n                    'dc-contract-type__type-label--multipliers': is_multipliers,\n                })}\n            >\n                <div>\n                    {getContractTypeDisplay(type, {\n                        isHighLow: is_high_low,\n                        showMainTitle: is_multipliers || is_turbos,\n                    }) || ''}\n                </div>\n                {displayed_trade_param && (\n                    <div className='dc-contract-type__type-label-trade-param'>{displayed_trade_param}</div>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default ContractTypeCell;\n",
            "size_bytes": 2113
        },
        "src/components/data-list/data-list-row.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { NavLink } from 'react-router-dom';\nimport { useIsMounted } from 'usehooks-ts';\nimport { useDebounce } from '@/hooks/useDebounce';\nimport { TSource } from '../data-table/table-row';\nimport { clickAndKeyEventHandler } from '../shared';\nimport { TPassThrough, TRow } from '../types/common.types';\nimport { TColIndex, TDataListCell } from './data-list-cell';\n\ntype TMobileRowRenderer = {\n    row?: TRow;\n    is_footer?: boolean;\n    columns_map?: Record<TColIndex, TDataListCell['column']>;\n    server_time?: moment.Moment;\n    onClickCancel: (contract_id?: number) => void;\n    onClickSell: (contract_id?: number) => void;\n    measure?: () => void;\n    passthrough?: TPassThrough;\n};\n\nexport type TRowRenderer = (params: Partial<TMobileRowRenderer>) => React.ReactNode;\n\ntype TDataListRow = {\n    action_desc?: {\n        component: React.ReactNode;\n    };\n    destination_link?: string;\n    row_gap?: number;\n    row_key: string | number;\n    rowRenderer: TRowRenderer;\n    measure?: () => void;\n    is_dynamic_height?: boolean;\n    is_new_row: boolean;\n    is_scrolling: boolean;\n    passthrough?: TPassThrough;\n    row: TSource;\n};\n\nconst DataListRow = ({\n    action_desc,\n    destination_link,\n    row_gap,\n    row_key,\n    rowRenderer,\n    measure,\n    is_dynamic_height,\n    ...other_props\n}: TDataListRow) => {\n    const [show_description, setShowDescription] = React.useState(false);\n    const isMounted = useIsMounted();\n    const debouncedHideDetails = useDebounce(() => setShowDescription(false), 5000);\n\n    const toggleDetails = () => {\n        if (action_desc) {\n            setShowDescription(!show_description);\n            debouncedHideDetails();\n        }\n    };\n\n    const toggleDetailsDecorator = (e?: React.MouseEvent<HTMLElement> | React.KeyboardEvent<HTMLElement>) => {\n        clickAndKeyEventHandler(toggleDetails, e);\n    };\n\n    React.useEffect(() => {\n        if (isMounted() && is_dynamic_height) {\n            measure?.();\n        }\n    }, [show_description, is_dynamic_height, measure]);\n\n    return (\n        <div className='data-list__row--wrapper' style={{ paddingBottom: `${row_gap || 0}px` }}>\n            {destination_link ? (\n                <NavLink\n                    className='data-list__item--wrapper'\n                    id={`dt_reports_contract_${row_key}`}\n                    to={{\n                        pathname: destination_link,\n                        state: {\n                            from_table_row: true,\n                        },\n                    }}\n                >\n                    <div className='data-list__item'>{rowRenderer({ measure, ...other_props })}</div>\n                </NavLink>\n            ) : (\n                <div\n                    className={classNames('data-list__item--wrapper', {\n                        'data-list__item--dynamic-height-wrapper': is_dynamic_height,\n                    })}\n                >\n                    {action_desc ? (\n                        <div\n                            className='data-list__item'\n                            onClick={toggleDetailsDecorator}\n                            onKeyDown={toggleDetailsDecorator}\n                        >\n                            {show_description ? (\n                                <div className='data-list__desc--wrapper'>\n                                    {action_desc.component && <div>{action_desc.component}</div>}\n                                </div>\n                            ) : (\n                                rowRenderer({ measure, ...other_props })\n                            )}\n                        </div>\n                    ) : (\n                        <div className='data-list__item'>{rowRenderer({ measure, ...other_props })}</div>\n                    )}\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default React.memo(DataListRow);\n",
            "size_bytes": 3932
        },
        "src/components/shared/utils/routes/index.ts": { "content": "export * from './routes';\n", "size_bytes": 26 },
        "src/components/shared/services/index.ts": {
            "content": "export * from './performance-metrics-methods';\nexport * from './ws-methods';\n",
            "size_bytes": 77
        },
        "src/external/bot-skeleton/utils/error.js": {
            "content": "import { observer as globalObserver } from './observer';\n\nexport const createError = (name, message) => {\n    const e = new Error(message);\n    e.name = name;\n    e.code = name;\n    return e;\n};\n\nexport const trackAndEmitError = (message, object = {}) => {\n    globalObserver.emit('ui.log.error', message);\n    if (window.trackJs) {\n        // eslint-disable-next-line no-undef\n        trackJs.track(`${message} - Error: ${JSON.stringify(object)}`);\n    }\n};\n",
            "size_bytes": 459
        },
        "src/components/shared_ui/input-field/index.ts": {
            "content": "import InputField from './input-field';\nimport './input-field.scss';\n\nexport default InputField;\n",
            "size_bytes": 97
        },
        "src/components/shared/utils/url/url.ts": {
            "content": "import { getCurrentProductionDomain } from '../config/config';\nimport { standalone_routes } from '../routes';\nimport { deriv_urls } from './constants';\nimport { getPlatformFromUrl } from './helpers';\n\ntype TOption = {\n    query_string?: string;\n    legacy?: boolean;\n    language?: string;\n};\n\nconst default_domain = 'binary.com';\nconst host_map = {\n    // the exceptions regarding updating the URLs\n    'bot.binary.com': 'www.binary.bot',\n    'developers.binary.com': 'developers.binary.com', // same, shouldn't change\n    'academy.binary.com': 'academy.binary.com',\n    'blog.binary.com': 'blog.binary.com',\n};\n\nlet location_url: Location, default_language: string;\n\nexport const legacyUrlForLanguage = (target_language: string, url: string = window.location.href) =>\n    url.replace(new RegExp(`/${default_language}/`, 'i'), `/${(target_language || 'EN').trim().toLowerCase()}/`);\n\nexport const urlForLanguage = (lang: string, url: string = window.location.href) => {\n    const current_url = new URL(url);\n\n    if (lang === 'EN') {\n        current_url.searchParams.delete('lang');\n    } else {\n        current_url.searchParams.set('lang', lang);\n    }\n\n    return `${current_url}`;\n};\n\nexport const reset = () => {\n    location_url = window?.location ?? location_url;\n};\n\nexport const params = (href?: string | URL) => {\n    const arr_params = [];\n    const parsed = ((href ? new URL(href) : location_url).search || '').substr(1).split('&');\n    let p_l = parsed.length;\n    while (p_l--) {\n        const param = parsed[p_l].split('=');\n        arr_params.push(param);\n    }\n    return arr_params;\n};\n\n/**\n * @deprecated Please use 'URLUtils.normalizePath' from '@deriv-com/utils' instead of this.\n */\nexport const normalizePath = (path: string) => (path ? path.replace(/(^\\/|\\/$|[^a-zA-Z0-9-_./()#])/g, '') : '');\n\nexport const urlFor = (\n    path: string,\n    options: TOption = {\n        query_string: undefined,\n        legacy: false,\n        language: undefined,\n    }\n) => {\n    const { legacy, language, query_string } = options;\n\n    if (legacy && /^bot$/.test(path)) {\n        return `https://${host_map['bot.binary.com']}`;\n    }\n\n    const lang = language?.toLowerCase?.() ?? default_language;\n    let domain = `https://${window.location.hostname}/`;\n    if (legacy) {\n        if (getPlatformFromUrl().is_staging_deriv_app) {\n            domain = domain.replace(/staging-app\\.deriv\\.com/, `staging.binary.com/${lang || 'en'}`);\n        } else if (getPlatformFromUrl().is_deriv_app) {\n            domain = domain.replace(/app\\.deriv\\.com/, `binary.com/${lang || 'en'}`);\n        } else {\n            domain = `https://binary.com/${lang || 'en'}/`;\n        }\n    }\n    const new_url = `${domain}${normalizePath(path) || 'home'}.html${query_string ? `?${query_string}` : ''}`;\n\n    if (lang && !legacy) {\n        return urlForLanguage(lang, new_url);\n    } else if (legacy) {\n        return legacyUrlForLanguage(lang, new_url);\n    }\n\n    return new_url;\n};\n\nexport const urlForCurrentDomain = (href: string) => {\n    const current_domain = getCurrentProductionDomain();\n\n    if (!current_domain) {\n        return href; // don't change when domain is not supported\n    }\n\n    const url_object = new URL(href);\n    if (Object.keys(host_map).includes(url_object.hostname)) {\n        url_object.hostname = host_map[url_object.hostname as keyof typeof host_map];\n    } else if (url_object.hostname.match(default_domain)) {\n        // to keep all non-Binary links unchanged, we use default domain for all Binary links in the codebase (javascript and templates)\n        url_object.hostname = url_object.hostname.replace(\n            new RegExp(`\\\\.${default_domain}`, 'i'),\n            `.${current_domain}`\n        );\n    } else {\n        return href;\n    }\n\n    return url_object.href;\n};\n\nexport const websiteUrl = () => `${location.protocol}//${location.hostname}/`;\n\nexport const getUrlBase = (path = '') => {\n    const l = window.location;\n\n    if (!/^\\/(br_)/.test(l.pathname)) return path;\n\n    return `/${l.pathname.split('/')[1]}${/^\\//.test(path) ? path : `/${path}`}`;\n};\n\nexport const removeBranchName = (path = '') => {\n    return path.replace(/^\\/br_.*?\\//, '/');\n};\n\nexport const getHostMap = () => host_map;\n\nexport const setUrlLanguage = (lang: string) => {\n    default_language = lang;\n};\n\n// TODO: cleanup options param usage\n// eslint-disable-next-line no-unused-vars\n/**\n * @deprecated Please use 'URLUtils.getDerivStaticURL' from '@deriv-com/utils' instead of this.\n */\nexport const getStaticUrl = (path = '', is_document = false, is_eu_url = false) => {\n    const host = is_eu_url ? deriv_urls.DERIV_COM_PRODUCTION_EU : deriv_urls.DERIV_COM_PRODUCTION;\n    let lang = default_language?.toLowerCase();\n\n    if (lang && lang !== 'en') {\n        lang = `/${lang}`;\n    } else {\n        lang = '';\n    }\n\n    if (is_document) return `${host}/${normalizePath(path)}`;\n\n    // Deriv.com supports languages separated by '-' not '_'\n    if (host === deriv_urls.DERIV_COM_PRODUCTION && lang.includes('_')) {\n        lang = lang.replace('_', '-');\n    }\n\n    return `${host}${lang}/${normalizePath(path)}`;\n};\n\nexport const getPath = (route_path: string, parameters = {}) =>\n    Object.keys(parameters).reduce(\n        (p, name) => p.replace(`:${name}`, parameters[name as keyof typeof parameters]),\n        route_path\n    );\n\nexport const getContractPath = (contract_id?: number) => getPath(standalone_routes.contract, { contract_id });\n\n/**\n * Filters query string. Returns filtered query (without '/?')\n * @param {string} search_param window.location.search\n * @param {Array<string>} allowed_keys array of string of allowed query string keys\n */\nexport const filterUrlQuery = (search_param: string, allowed_keys: string[]) => {\n    const search_params = new URLSearchParams(search_param);\n    const filtered_queries = [...search_params].filter(kvp => allowed_keys.includes(kvp[0]));\n    return new URLSearchParams(filtered_queries || '').toString();\n};\n\nexport const excludeParamsFromUrlQuery = (search_param: string, excluded_keys: string[]) => {\n    const search_params = new URLSearchParams(search_param);\n    const filtered_queries = [...search_params].filter(([key]) => !excluded_keys.includes(key));\n    return filtered_queries.length ? `?${new URLSearchParams(filtered_queries).toString()}` : '';\n};\n",
            "size_bytes": 6328
        },
        "src/pages/bot-builder/quick-strategy/form.tsx": {
            "content": "/* eslint-disable no-unsafe-optional-chaining */\n/* eslint-disable simple-import-sort/imports */\nimport React from 'react';\nimport { useStore } from '@/hooks/useStore';\nimport { observer } from 'mobx-react-lite';\nimport './quick-strategy.scss';\nimport SymbolSelect from './selects/symbol';\nimport TradeTypeSelect from './selects/trade-type';\nimport ContractTypeSelect from './selects/contract-type';\nimport DurationTypeSelect from './selects/duration-type';\nimport QSInput from './inputs/qs-input';\nimport QSCheckbox from './inputs/qs-toggle-switch';\nimport QSInputLabel from './inputs/qs-input-label';\nimport { STRATEGIES } from './config';\nimport { TConfigItem, TFormData, TShouldHave } from './types';\nimport { useFormikContext } from 'formik';\nimport { useDevice } from '@deriv-com/ui';\nimport GrowthRateSelect from './selects/growth-rate-type';\nimport SellConditions from './selects/sell-conditions';\n\nconst QuickStrategyForm = observer(() => {\n    const { quick_strategy } = useStore();\n    const { selected_strategy, setValue, form_data } = quick_strategy;\n    const config: TConfigItem[][] = STRATEGIES()[selected_strategy]?.fields;\n    const { isDesktop } = useDevice();\n    const { values, setFieldTouched, setFieldValue } = useFormikContext<TFormData>();\n    const { current_duration_min_max, additional_data } = quick_strategy;\n\n    const [isEnabledToggleSwitch, setIsEnabledToggleSwitch] = React.useState(values?.boolean_max_stake ?? false);\n\n    React.useEffect(() => {\n        window.addEventListener('keydown', handleEnter);\n        let data: TFormData | null = null;\n        try {\n            data = JSON.parse(localStorage.getItem('qs-fields') ?? '{}');\n        } catch {\n            data = null;\n        }\n        setIsEnabledToggleSwitch(!!data?.boolean_max_stake);\n\n        return () => {\n            window.removeEventListener('keydown', handleEnter);\n        };\n    }, []);\n\n    // Ensure toggle switch state is synchronized with form values\n    React.useEffect(() => {\n        if (values?.boolean_max_stake !== undefined) {\n            setIsEnabledToggleSwitch(!!values.boolean_max_stake);\n        }\n    }, [values?.boolean_max_stake]);\n\n    React.useEffect(() => {\n        if (!isEnabledToggleSwitch && values?.max_stake) {\n            setFieldValue('max_stake', 0);\n        }\n    }, [isEnabledToggleSwitch, values?.max_stake]);\n\n    const onChange = async (key: string, value: string | number | boolean) => {\n        setValue(key, value);\n        await setFieldTouched(key, true, true);\n        await setFieldValue(key, value, true);\n\n        // Cross-validate stake and max_stake when either value changes\n        if (key === 'stake' || key === 'max_stake') {\n            // Always re-validate both fields when either changes\n            // This ensures error messages are cleared when values are corrected\n            setFieldTouched('stake', true, true);\n            setFieldTouched('max_stake', true, true);\n\n            // Force immediate validation\n            if (key === 'stake') {\n                // When stake changes, we need to validate max_stake as well\n                const input_elements = document.querySelectorAll('input[name=\"max_stake\"]');\n                if (input_elements.length > 0) {\n                    const event = new Event('keyup', { bubbles: true });\n                    input_elements[0].dispatchEvent(event);\n                }\n            } else if (key === 'max_stake') {\n                // When max_stake changes, we need to validate stake as well\n                const input_elements = document.querySelectorAll('input[name=\"stake\"]');\n                if (input_elements.length > 0) {\n                    const event = new Event('keyup', { bubbles: true });\n                    input_elements[0].dispatchEvent(event);\n                }\n            }\n        }\n    };\n\n    const handleEnter = (event: KeyboardEvent) => {\n        if (event?.key && event.key == 'Enter') {\n            event.preventDefault();\n            event.stopPropagation();\n        }\n    };\n\n    const shouldEnable = (should_have: TShouldHave[]) =>\n        should_have.every(item => {\n            const item_value = values?.[item.key]?.toString();\n            if (item.multiple) return item.multiple.includes(item_value);\n            return values[item.key as keyof TFormData] === item.value;\n        });\n\n    const toggleSwitch = () => {\n        setIsEnabledToggleSwitch(prev => !prev);\n    };\n\n    const renderForm = () => {\n        return config.map((group, group_index) => {\n            if (!group?.length) return null;\n            return (\n                <div className='qs__body__content__form__group' key={group_index}>\n                    {group.map((field, field_index) => {\n                        const key = `${field.name || field.type} + ${field_index}`;\n\n                        if (\n                            (!isDesktop && field.hide?.includes('mobile')) ||\n                            (isDesktop && field.hide?.includes('desktop'))\n                        ) {\n                            return null;\n                        }\n\n                        switch (field.type) {\n                            // Generic or common fields\n                            case 'number': {\n                                if (!field.name) return null;\n                                const {\n                                    should_have = [],\n                                    hide_without_should_have = false,\n                                    has_currency_unit = false,\n                                } = field;\n                                const should_enable = shouldEnable(should_have);\n                                const initial_stake = 1;\n                                let min = 1;\n                                let max;\n                                if (field.name === 'duration' && current_duration_min_max) {\n                                    min = current_duration_min_max.min;\n                                    max = current_duration_min_max.max;\n                                }\n                                const should_validate = field.should_have;\n                                if (should_validate && field.name === 'max_stake') {\n                                    min = +form_data?.stake;\n                                    if (isNaN(min)) {\n                                        min = +initial_stake;\n                                    }\n                                }\n                                if (should_validate && field.name === 'last_digit_prediction') {\n                                    if (\n                                        isNaN(+form_data?.last_digit_prediction) ||\n                                        +form_data?.last_digit_prediction === 1\n                                    ) {\n                                        min = 0;\n                                    }\n                                    if (+form_data?.last_digit_prediction > 0) {\n                                        min = +form_data?.last_digit_prediction - 1;\n                                    }\n                                    max = 9;\n                                }\n                                if (should_have?.length) {\n                                    if (!should_enable && (!isDesktop || hide_without_should_have)) {\n                                        return null;\n                                    }\n                                    return (\n                                        <QSInput\n                                            {...field}\n                                            key={key}\n                                            name={field.name as string}\n                                            disabled={!should_enable}\n                                            onChange={onChange}\n                                            min={min}\n                                            max={max}\n                                            has_currency_unit={has_currency_unit}\n                                        />\n                                    );\n                                }\n                                return (\n                                    <QSInput\n                                        {...field}\n                                        onChange={onChange}\n                                        key={key}\n                                        name={field.name as string}\n                                        min={min}\n                                        max={max}\n                                        has_currency_unit={has_currency_unit}\n                                    />\n                                );\n                            }\n                            case 'label': {\n                                if (!field.label) return null;\n                                const { should_have = [], hide_without_should_have = false } = field;\n                                const should_enable = shouldEnable(should_have);\n                                if (!should_enable && hide_without_should_have) {\n                                    return null;\n                                }\n                                return (\n                                    <QSInputLabel\n                                        key={key}\n                                        label={field.label}\n                                        description={field.description ? String(field.description) : ''}\n                                        additional_data={additional_data}\n                                    />\n                                );\n                            }\n                            case 'checkbox':\n                                return (\n                                    <QSCheckbox\n                                        key={key}\n                                        name={field.name as string}\n                                        label={field.label as string}\n                                        description={field.description ? String(field.description) : undefined}\n                                        isEnabledToggleSwitch={!!isEnabledToggleSwitch}\n                                        setIsEnabledToggleSwitch={toggleSwitch}\n                                    />\n                                );\n                            // Dedicated components only for Quick-Strategy\n                            case 'symbol':\n                                return <SymbolSelect {...field} key={key} />;\n                            case 'tradetype':\n                                return <TradeTypeSelect {...field} key={key} />;\n                            case 'durationtype':\n                                return <DurationTypeSelect {...field} key={key} />;\n                            case 'contract_type':\n                                return <ContractTypeSelect {...field} key={key} name={field.name as string} />;\n                            case 'growth_rate':\n                                return <GrowthRateSelect {...field} key={key} name={field.name as string} />;\n                            case 'sell_conditions':\n                                return <SellConditions {...field} key={key} />;\n                            default:\n                                return null;\n                        }\n                    })}\n                </div>\n            );\n        });\n    };\n\n    return <div>{renderForm()}</div>;\n});\n\nexport default QuickStrategyForm;\n",
            "size_bytes": 11529
        },
        "src/components/shared/utils/loader/lazy-load.tsx": {
            "content": "import Loadable from 'react-loadable';\n\nexport const makeLazyLoader =\n    (importFn: () => Promise<unknown>, loaderFn: () => JSX.Element) => (component_name?: string) =>\n        Loadable.Map({\n            loader: {\n                ComponentModule: importFn,\n            },\n            render(loaded: { [key: string]: any }, props: object) {\n                const ComponentLazy = component_name\n                    ? loaded.ComponentModule.default[component_name]\n                    : loaded.ComponentModule.default;\n                return <ComponentLazy {...props} />;\n            },\n            loading: loaderFn,\n        });\n",
            "size_bytes": 628
        },
        "src/external/bot-skeleton/scratch/blocks/Math/math_constrain.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../utils';\n\nwindow.Blockly.Blocks.math_constrain = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('constrain {{ number }} low {{ low_number }} high {{ high_number }}', {\n                number: '%1',\n                low_number: '%2',\n                high_number: '%3',\n            }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                    check: 'Number',\n                },\n                {\n                    type: 'input_value',\n                    name: 'LOW',\n                    check: 'Number',\n                },\n                {\n                    type: 'input_value',\n                    name: 'HIGH',\n                    check: 'Number',\n                },\n            ],\n            inputsInline: true,\n            output: 'Number',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block constrains a given number so that it is within a set range.'),\n            category: window.Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Constrain within a range'),\n            description: localize('This block constrains a given number so that it is within a set range.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            VALUE: null,\n            LOW: null,\n            HIGH: null,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.math_constrain = block => {\n    const argument0 =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'VALUE',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_COMMA\n        ) || '0';\n    const argument1 =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'LOW',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_COMMA\n        ) || '0';\n    const argument2 =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'HIGH',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_COMMA\n        ) || '0';\n\n    const code = `Math.min(Math.max(${argument0}, ${argument1}), ${argument2})`;\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_FUNCTION_CALL];\n};\n",
            "size_bytes": 2786
        },
        "src/components/route-prompt-dialog/route-prompt-dialog.tsx": {
            "content": "import React from 'react';\nimport { observer } from 'mobx-react-lite';\nimport { useBlocker } from 'react-router-dom';\nimport { useStore } from '@/hooks/useStore';\nimport { Localize, localize } from '@deriv-com/translations';\nimport Dialog from '../shared_ui/dialog';\n\nconst RoutePromptDialog = observer(() => {\n    const { ui } = useStore() ?? {\n        ui: {\n            show_prompt: false,\n        },\n    };\n    const { show_prompt } = ui;\n\n    const blocker = useBlocker(\n        ({ currentLocation, nextLocation }) => show_prompt && currentLocation.pathname !== nextLocation.pathname\n    );\n\n    React.useEffect(() => {\n        const handleBeforeUnload = (event: BeforeUnloadEvent) => {\n            if (show_prompt) {\n                event.preventDefault();\n            } else {\n                delete event.returnValue;\n            }\n        };\n\n        window.addEventListener('beforeunload', handleBeforeUnload);\n\n        return () => {\n            window.removeEventListener('beforeunload', handleBeforeUnload);\n        };\n    }, [show_prompt]);\n\n    return (\n        <Dialog\n            title={localize('Leaving already?')}\n            confirm_button_text={localize(\"Yes, I'll come back later\")}\n            cancel_button_text={localize(\"No, I'll stay\")}\n            onConfirm={() => {\n                blocker?.proceed?.();\n            }}\n            onCancel={() => {\n                blocker?.reset?.();\n            }}\n            is_visible={blocker.state === 'blocked'}\n            has_close_icon={false}\n        >\n            <Localize i18n_default_text='If you leave, your current contract will be completed, but your bot will stop running immediately.' />\n        </Dialog>\n    );\n});\n\nexport default RoutePromptDialog;\n",
            "size_bytes": 1735
        },
        "src/components/trading-view-chart/trading-view-modal.tsx": {
            "content": "import React from 'react';\nimport { observer } from 'mobx-react-lite';\nimport DraggableResizeWrapper from '@/components/draggable/draggable-resize-wrapper';\nimport TradingViewComponent from '@/components/trading-view-chart/trading-view';\nimport { useStore } from '@/hooks/useStore';\nimport { localize } from '@deriv-com/translations';\n\nconst TradingViewModal = observer(() => {\n    const { dashboard } = useStore();\n    const { is_trading_view_modal_visible, setTradingViewModalVisibility } = dashboard;\n\n    return (\n        <React.Fragment>\n            {is_trading_view_modal_visible && (\n                <DraggableResizeWrapper\n                    boundary='.main'\n                    header={localize('TradingView Chart')}\n                    onClose={setTradingViewModalVisibility}\n                    modalWidth={526}\n                    modalHeight={595}\n                    minWidth={526}\n                    minHeight={524}\n                    enableResizing\n                >\n                    <div style={{ height: 'calc(100% - 6rem)', padding: '0.5rem' }}>\n                        <TradingViewComponent />\n                    </div>\n                </DraggableResizeWrapper>\n            )}\n        </React.Fragment>\n    );\n});\n\nexport default TradingViewModal;\n",
            "size_bytes": 1275
        },
        "src/components/summary/index.ts": {
            "content": "import Summary from './summary';\nimport './summary.scss';\nimport './summary-card.scss';\n\nexport default Summary;\n",
            "size_bytes": 113
        },
        "src/components/load-modal/recent-footer.tsx": {
            "content": "import React from 'react';\nimport { observer } from 'mobx-react-lite';\nimport { NOTIFICATION_TYPE } from '@/components/bot-notification/bot-notification-utils';\nimport { useStore } from '@/hooks/useStore';\nimport { localize } from '@deriv-com/translations';\nimport Button from '../shared_ui/button';\n\nconst RecentFooter = observer(() => {\n    const { load_modal, dashboard } = useStore();\n    const { is_open_button_loading, is_open_button_disabled, loadStrategyOnBotBuilder, toggleLoadModal } = load_modal;\n    const { setOpenSettings } = dashboard;\n\n    return (\n        <Button\n            text={localize('Open')}\n            onClick={() => {\n                loadStrategyOnBotBuilder();\n                toggleLoadModal();\n                setOpenSettings(NOTIFICATION_TYPE.BOT_IMPORT);\n            }}\n            is_loading={is_open_button_loading}\n            has_effect\n            primary\n            large\n            disabled={is_open_button_disabled}\n        />\n    );\n});\n\nexport default RecentFooter;\n",
            "size_bytes": 1011
        },
        "src/external/bot-skeleton/scratch/blocks/Logic/logic_ternary.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../utils';\n\nwindow.Blockly.Blocks.logic_ternary = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('test {{ condition }}', { condition: '%1' }),\n            message1: localize('if true {{ return_value }}', { return_value: '%1' }),\n            message2: localize('if false {{ return_value }}', { return_value: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'IF',\n                    check: 'Boolean',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_value',\n                    name: 'THEN',\n                },\n            ],\n            args2: [\n                {\n                    type: 'input_value',\n                    name: 'ELSE',\n                },\n            ],\n            inputsInline: true,\n            output: null,\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize(\n                'This block tests if a given value is true or false and returns True or False accordingly.'\n            ),\n            category: window.Blockly.Categories.Logic,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    meta() {\n        return {\n            display_name: localize('Test value'),\n            description: localize(\n                'This block tests if a given value is true or false and returns True or False accordingly.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            IF: null,\n            THEN: null,\n            ELSE: null,\n        };\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.logic_ternary = block => {\n    const valueIf =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'IF',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_CONDITIONAL\n        ) || 'false';\n    const valueThen =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'THEN',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_CONDITIONAL\n        ) || 'null';\n    const valueElse =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'ELSE',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_CONDITIONAL\n        ) || 'null';\n\n    const code = `(${valueIf} ? ${valueThen} : ${valueElse})`;\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_CONDITIONAL];\n};\n",
            "size_bytes": 2912
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Tools/Misc/balance.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { config } from '../../../../../constants/config';\nimport { modifyContextMenu } from '../../../../utils';\n\nwindow.Blockly.Blocks.balance = {\n    init() {\n        this.jsonInit(this.definition());\n        const balanceTypeField = this.getField('BALANCE_TYPE');\n        balanceTypeField.setValidator(value => {\n            if (value === 'STR') {\n                this.setOutput(true, 'String');\n            } else if (value === 'NUM') {\n                this.setOutput(true, 'Number');\n            }\n            this.initSvg();\n            return undefined;\n        });\n    },\n    definition() {\n        return {\n            message0: localize('Balance: %1'),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'BALANCE_TYPE',\n                    options: config().lists.BALANCE_TYPE,\n                },\n            ],\n            output: null,\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block returns account balance'),\n            category: window.Blockly.Categories.Miscellaneous,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Account balance'),\n            description: localize(\n                'This block gives you the balance of your account either as a number or a string of text.'\n            ),\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.balance = block => {\n    const balanceType = block.getFieldValue('BALANCE_TYPE');\n\n    const code = `Bot.getBalance('${balanceType}')`;\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC];\n};\n",
            "size_bytes": 1977
        },
        "src/components/shared_ui/progress-slider/progress-ticks.tsx": {
            "content": "import classNames from 'classnames';\nimport Text from '../text';\nimport { TGetCardLables } from '../types';\n\ntype TProgressTicksProps = {\n    current_tick: number | null;\n    getCardLabels: TGetCardLables;\n    ticks_count: number;\n};\n\nconst ProgressTicks = ({ current_tick, getCardLabels, ticks_count }: TProgressTicksProps) => {\n    const arr_ticks = Array.from(Array(ticks_count).keys());\n    return (\n        <div className='dc-progress-slider__ticks'>\n            <Text styles={{ lineHeight: '18px' }} size='xxs' className='dc-progress-slider__ticks-caption'>\n                {getCardLabels().TICK} {current_tick}\n            </Text>\n            <div className='dc-progress-slider__ticks-wrapper'>\n                {arr_ticks.map(idx => (\n                    <div\n                        key={idx}\n                        className={classNames('dc-progress-slider__ticks-step', {\n                            'dc-progress-slider__ticks-step--marked': idx + 1 <= Number(current_tick),\n                        })}\n                    />\n                ))}\n            </div>\n        </div>\n    );\n};\n\nexport default ProgressTicks;\n",
            "size_bytes": 1132
        },
        "src/external/bot-skeleton/scratch/blocks/Advanced/Loops/index.js": {
            "content": "import './controls_repeat_ext';\nimport './controls_repeat';\nimport './controls_whileUntil';\nimport './controls_for';\nimport './controls_forEach';\nimport './controls_flow_statements';\n",
            "size_bytes": 183
        },
        "src/hooks/useNavigatorOnline.ts": {
            "content": "import { useEffect, useState } from 'react';\n\n/**\n * Retrieves the current online status of the browser.\n * @returns {boolean} The online status of the browser.\n */\nconst getOnlineStatus = () =>\n    typeof navigator !== 'undefined' && typeof navigator.onLine === 'boolean' ? navigator.onLine : true;\n\n/**\n * A custom React hook that tracks the online status of the browser.\n * @returns {boolean} The current online status of the browser.\n */\nconst useNavigatorOnline = () => {\n    const [status, setStatus] = useState(getOnlineStatus());\n\n    const setOnline = () => setStatus(true);\n    const setOffline = () => setStatus(false);\n\n    useEffect(() => {\n        window.addEventListener('online', setOnline);\n        window.addEventListener('offline', setOffline);\n\n        return () => {\n            window.removeEventListener('online', setOnline);\n            window.removeEventListener('offline', setOffline);\n        };\n    }, []);\n\n    return status;\n};\n\nexport default useNavigatorOnline;\n",
            "size_bytes": 994
        },
        "src/components/shared_ui/text/index.ts": {
            "content": "import Text from './text';\nimport './text.scss';\n\nexport default Text;\n",
            "size_bytes": 71
        },
        "src/pages/dashboard/index.ts": {
            "content": "import Dashboard from './dashboard';\nimport './dashboard.scss';\n\nexport default Dashboard;\n",
            "size_bytes": 91
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Tick Analysis/ohlc_values.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { config } from '../../../../constants/config';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.ohlc_values = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize(\n                'Make a List of {{ candle_property }} values in candles list with interval: {{ candle_interval_type }}',\n                {\n                    candle_property: '%1',\n                    candle_interval_type: '%2',\n                }\n            ),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'OHLCFIELD_LIST',\n                    options: config().ohlcFields,\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'CANDLEINTERVAL_LIST',\n                    options: config().candleIntervals,\n                },\n            ],\n            output: 'Array',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize(\n                'Returns a list of specific values from a candle list according to selected time interval'\n            ),\n            category: window.Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Create a list of candle values (1)'),\n            description: localize(\n                'This block gives you the selected candle value from a list of candles within the selected time interval.'\n            ),\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.ohlc_values = block => {\n    const selectedGranularity = block.getFieldValue('CANDLEINTERVAL_LIST');\n    const granularity = selectedGranularity === 'default' ? 'undefined' : selectedGranularity;\n    const ohlcField = block.getFieldValue('OHLCFIELD_LIST');\n\n    const code = `Bot.getOhlc({ field: '${ohlcField}', granularity: ${granularity} })`;\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC];\n};\n",
            "size_bytes": 2364
        },
        "src/components/shared_ui/input/index.ts": {
            "content": "import Input, { TInputProps } from './input';\nimport './input.scss';\n\nexport type { TInputProps };\nexport default Input;\n",
            "size_bytes": 121
        },
        "src/pages/bot-builder/quick-strategy/form-wrappers/strategy-template-picker.tsx": {
            "content": "import React from 'react';\nimport { observer } from 'mobx-react-lite';\nimport { DBOT_TABS } from '@/constants/bot-contents';\nimport { useStore } from '@/hooks/useStore';\nimport { LegacyGuide1pxIcon } from '@deriv/quill-icons';\nimport { Chip } from '@deriv-com/quill-ui';\nimport { SearchField } from '@deriv-com/quill-ui-next';\nimport { localize } from '@deriv-com/translations';\nimport StrategyList from './strategy-list';\nimport { QsSteps, TRADE_TYPES } from './trade-constants';\nimport './strategy-template-picker.scss';\n\ntype TStrategyTemplatePicker = {\n    setCurrentStep: (current_step: QsSteps) => void;\n    setSelectedTradeType: (selected_trade_type: string) => void;\n};\n\nconst StrategyTemplatePicker = observer(({ setCurrentStep, setSelectedTradeType }: TStrategyTemplatePicker) => {\n    const { dashboard, quick_strategy } = useStore();\n    const { setActiveTabTutorial, setActiveTab, setFAQSearchValue, filterTuotrialTab } = dashboard;\n    const { setFormVisibility, setSelectedStrategy } = quick_strategy;\n\n    const [selector_chip_value, setSelectorChipValue] = React.useState(0);\n    const [is_searching, setIsSearching] = React.useState(false);\n    const [search_value, setSearchValue] = React.useState('');\n\n    const handleChipSelect = (index: number) => {\n        setSelectorChipValue(index);\n    };\n\n    const onSelectStrategy = (strategy: string, trade_type: string) => {\n        setSelectedStrategy(strategy);\n        setSelectedTradeType(trade_type);\n        setCurrentStep(QsSteps.StrategyVerified);\n    };\n\n    return (\n        <div className='strategy-template-picker'>\n            <div className='strategy-template-picker__panel'>\n                <SearchField\n                    onChange={(value: string | number) => {\n                        setSearchValue(value as string);\n                        setIsSearching(true);\n                        setFAQSearchValue(value as string);\n                        filterTuotrialTab(value as string);\n                    }}\n                    placeholder={localize('Search')}\n                    value={search_value}\n                    size='sm'\n                />\n\n                <button\n                    className='strategy-template-picker__icon'\n                    onClick={() => {\n                        setActiveTab(DBOT_TABS.TUTORIAL);\n                        setActiveTabTutorial(2);\n                        setFormVisibility(false);\n\n                        // Add a small delay to ensure the tab is selected before scrolling\n                        setTimeout(() => {\n                            const tutorialsSection = document.getElementById('id-tutorials');\n                            if (tutorialsSection) {\n                                tutorialsSection.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\n                            }\n                        }, 100);\n                    }}\n                >\n                    <LegacyGuide1pxIcon iconSize='sm' />\n                </button>\n            </div>\n            <div className='strategy-template-picker__chips'>\n                {TRADE_TYPES.map((item, index) => (\n                    <Chip.Selectable\n                        key={index}\n                        onClick={() => handleChipSelect(index)}\n                        selected={index == selector_chip_value}\n                        size='sm'\n                        label={item}\n                    />\n                ))}\n            </div>\n            <StrategyList\n                selector_chip_value={selector_chip_value}\n                search_value={search_value}\n                is_searching={is_searching}\n                onSelectStrategy={onSelectStrategy}\n            />\n        </div>\n    );\n});\n\nexport default StrategyTemplatePicker;\n",
            "size_bytes": 3764
        },
        "src/components/localStorage-sync-wrapper/index.ts": {
            "content": "import LocalStorageSyncWrapper from './localStorage-sync-wrapper';\n\nexport default LocalStorageSyncWrapper;\n",
            "size_bytes": 108
        },
        "src/pages/bot-builder/quick-strategy/form-wrappers/qs-stepper.tsx": {
            "content": "import React from 'react';\nimport { VerticalStepper } from '@deriv-com/quill-ui';\nimport { localize } from '@deriv-com/translations';\nimport { LinearProgressBar } from '@deriv-com/ui';\nimport { QsSteps } from './trade-constants';\n\ntype TQSStepper = {\n    current_step: QsSteps;\n    is_mobile?: boolean;\n};\n\nconst QSStepper = ({ current_step, is_mobile = false }: TQSStepper) => {\n    const percentage = current_step === QsSteps.StrategyCompleted ? 100 : 50;\n    return is_mobile ? (\n        <LinearProgressBar percentage={percentage} label='' danger_limit={101} is_loading={false} warning_limit={0} />\n    ) : (\n        <div className='qs-stepper'>\n            <VerticalStepper\n                currentStep={current_step}\n                labels={[localize('Default'), localize('Strategy template'), localize('Trade parameters')]}\n            />\n        </div>\n    );\n};\n\nexport default QSStepper;\n",
            "size_bytes": 896
        },
        "src/pages/tutorials/dbot-tours/common/accordion.tsx": {
            "content": "import React, { useState } from 'react';\nimport classNames from 'classnames';\nimport Text from '@/components/shared_ui/text';\nimport { useStore } from '@/hooks/useStore';\nimport { LabelPairedMinusCaptionRegularIcon, LabelPairedPlusCaptionRegularIcon } from '@deriv/quill-icons/LabelPaired';\n\ntype TContentData = {\n    header: string;\n    content: JSX.Element | React.ReactNode[] | null;\n} | null;\n\ntype TPartialAccordion = Partial<{\n    test_id: string;\n    is_cursive: boolean;\n    no_collapsible: boolean;\n    expanded_subtitles_storage: { [key: string]: boolean };\n    setExpandedSubtitlesStorage: (value: { [key: string]: boolean }) => void;\n    has_subtitle: boolean;\n}>;\n\ntype TAccordion = {\n    content_data: TContentData;\n    expanded: boolean;\n    font_size: string;\n} & TPartialAccordion;\n\nconst Accordion = ({\n    content_data,\n    expanded = false,\n    test_id = 'dbot-acc-id',\n    is_cursive = false,\n    no_collapsible = true,\n    has_subtitle = true,\n    font_size,\n    ...props\n}: TAccordion) => {\n    const [is_open, setOpen] = useState(expanded);\n    const {\n        quick_strategy: { selected_strategy },\n    } = useStore();\n    if (!content_data) return null;\n    const { content, header } = content_data;\n\n    const { expanded_subtitles_storage, setExpandedSubtitlesStorage } = props;\n    const accordion_subtitle = `${header}__${selected_strategy}`.split(' ').join('_').toLocaleLowerCase();\n    const is_expanded_section = expanded_subtitles_storage ? expanded_subtitles_storage[accordion_subtitle] : false;\n    const should_be_expanded = is_expanded_section || is_open || !has_subtitle;\n\n    return (\n        <div className='dbot-accordion'>\n            {has_subtitle && (\n                <button\n                    className={classNames('dbot-accordion__navbar', {\n                        'dbot-accordion__navbar--no-event': !no_collapsible,\n                    })}\n                    data-testid={test_id}\n                    onClick={(e: React.MouseEvent) => {\n                        e.preventDefault();\n                        setOpen(!should_be_expanded);\n                        if (expanded_subtitles_storage && setExpandedSubtitlesStorage) {\n                            setExpandedSubtitlesStorage({\n                                ...expanded_subtitles_storage,\n                                [accordion_subtitle]: !should_be_expanded,\n                            });\n                        }\n                    }}\n                >\n                    <div\n                        className={classNames('dbot-accordion__header', {\n                            'dbot-accordion__header--cursive': is_cursive,\n                        })}\n                    >\n                        <Text as='span' size={font_size} weight='bold'>\n                            {header}\n                        </Text>\n                    </div>\n                    {no_collapsible && (\n                        <div className='dbot-accordion__icon'>\n                            {\n                                // eslint-disable-next-line no-nested-ternary\n                                should_be_expanded ? (\n                                    <LabelPairedMinusCaptionRegularIcon />\n                                ) : (\n                                    <LabelPairedPlusCaptionRegularIcon />\n                                )\n                            }\n                        </div>\n                    )}\n                </button>\n            )}\n            <div\n                className={classNames('dbot-accordion__content', {\n                    'dbot-accordion__content--open': should_be_expanded,\n                })}\n                data-testid='accordion-content'\n            >\n                <Text as='span' lineHeight='s' size={font_size}>\n                    {content}\n                </Text>\n            </div>\n        </div>\n    );\n};\n\nexport default Accordion;\n",
            "size_bytes": 3905
        },
        "src/types/api-types.ts": {
            "content": "import {\n    AccountLimitsRequest,\n    AccountLimitsResponse,\n    ActiveSymbolsRequest,\n    ActiveSymbolsResponse,\n    APITokenRequest,\n    APITokenResponse,\n    ApplicationDeleteRequest,\n    ApplicationDeleteResponse,\n    ApplicationGetDetailsRequest,\n    ApplicationGetDetailsResponse,\n    ApplicationListRequest,\n    ApplicationListResponse,\n    ApplicationMarkupDetailsRequest,\n    ApplicationMarkupDetailsResponse,\n    ApplicationMarkupStatisticsRequest,\n    ApplicationMarkupStatisticsResponse,\n    ApplicationRegisterRequest,\n    ApplicationRegisterResponse,\n    ApplicationUpdateRequest,\n    ApplicationUpdateResponse,\n    AssetIndexRequest,\n    AssetIndexResponse,\n    AuthorizeRequest,\n    AuthorizeResponse,\n    BalanceRequest,\n    BalanceResponse,\n    BuyContractForMultipleAccountsRequest,\n    BuyContractForMultipleAccountsResponse,\n    BuyContractRequest,\n    BuyContractResponse,\n    CancelAContractRequest,\n    CancelAContractResponse,\n    CashierInformationRequest,\n    CashierInformationResponse,\n    ContractsForSymbolRequest,\n    ContractsForSymbolResponse,\n    CopyTradingListRequest,\n    CopyTradingListResponse,\n    CopyTradingStartRequest,\n    CopyTradingStartResponse,\n    CopyTradingStatisticsRequest,\n    CopyTradingStatisticsResponse,\n    CopyTradingStopRequest,\n    CopyTradingStopResponse,\n    CryptocurrencyConfigurationsRequest,\n    CryptocurrencyConfigurationsResponse,\n    EconomicCalendarRequest,\n    EconomicCalendarResponse,\n    ForgetAllRequest,\n    ForgetAllResponse,\n    ForgetRequest,\n    ForgetResponse,\n    GetFinancialAssessmentRequest,\n    GetFinancialAssessmentResponse,\n    IdentityVerificationAddDocumentRequest,\n    IdentityVerificationAddDocumentResponse,\n    KYCAuthenticationStatusRequest,\n    KYCAuthenticationStatusResponse,\n    LoginHistoryRequest,\n    LoginHistoryResponse,\n    LogOutRequest,\n    LogOutResponse,\n    MT5DepositRequest,\n    MT5DepositResponse,\n    MT5NewAccountRequest,\n    MT5NewAccountResponse,\n    MT5PasswordChangeRequest,\n    MT5PasswordChangeResponse,\n    MT5PasswordCheckRequest,\n    MT5PasswordCheckResponse,\n    MT5PasswordResetRequest,\n    MT5PasswordResetResponse,\n    MT5WithdrawalRequest,\n    MT5WithdrawalResponse,\n    NewRealMoneyAccountDerivInvestmentEuropeLtdRequest,\n    NewRealMoneyAccountDerivInvestmentEuropeLtdResponse,\n    NewVirtualMoneyAccountRequest,\n    NewVirtualMoneyAccountResponse,\n    OAuthApplicationsRequest,\n    OAuthApplicationsResponse,\n    PaymentAgentCreateRequest,\n    PaymentAgentCreateResponse,\n    PaymentAgentDetailsRequest,\n    PaymentAgentDetailsResponse,\n    PaymentAgentListRequest,\n    PaymentAgentListResponse,\n    PaymentAgentTransferRequest,\n    PaymentAgentTransferResponse,\n    PaymentAgentWithdrawJustificationRequest,\n    PaymentAgentWithdrawJustificationResponse,\n    PaymentAgentWithdrawRequest,\n    PaymentAgentWithdrawResponse,\n    PaymentMethodsRequest,\n    PaymentMethodsResponse,\n    PingRequest,\n    PingResponse,\n    PortfolioRequest,\n    PortfolioResponse,\n    PriceProposalOpenContractsRequest,\n    PriceProposalOpenContractsResponse,\n    PriceProposalRequest,\n    PriceProposalResponse,\n    ProfitTableRequest,\n    ProfitTableResponse,\n    RealityCheckRequest,\n    RealityCheckResponse,\n    RevokeOauthApplicationRequest,\n    RevokeOauthApplicationResponse,\n    SellContractRequest,\n    SellContractResponse,\n    SellContractsMultipleAccountsRequest,\n    SellContractsMultipleAccountsResponse,\n    SellExpiredContractsRequest,\n    SellExpiredContractsResponse,\n    ServerConfigRequest,\n    ServerConfigResponse,\n    ServerListRequest,\n    ServerListResponse,\n    ServerTimeRequest,\n    ServerTimeResponse,\n    SetAccountCurrencyRequest,\n    SetAccountCurrencyResponse,\n    SetAccountSettingsRequest,\n    SetAccountSettingsResponse,\n    SetFinancialAssessmentRequest,\n    SetFinancialAssessmentResponse,\n    SetSelfExclusionRequest,\n    SetSelfExclusionResponse,\n    StatementRequest,\n    StatementResponse,\n    TicksHistoryRequest,\n    TicksHistoryResponse,\n    TicksStreamRequest,\n    TicksStreamResponse,\n    TopUpVirtualMoneyAccountRequest,\n    TopUpVirtualMoneyAccountResponse,\n    TradingDurationsRequest,\n    TradingDurationsResponse,\n    TradingPlatformPasswordResetRequest,\n    TradingPlatformPasswordResetResponse,\n    TradingTimesRequest,\n    TradingTimesResponse,\n    TransactionsStreamRequest,\n    TransactionsStreamResponse,\n    TransferBetweenAccountsRequest,\n    TransferBetweenAccountsResponse,\n    UnsubscribeEmailRequest,\n    UnsubscribeEmailResponse,\n    UpdateContractHistoryRequest,\n    UpdateContractHistoryResponse,\n    UpdateContractRequest,\n    UpdateContractResponse,\n} from '@deriv/api-types';\n\nexport type NoStringIndex<T> = { [K in keyof T as string extends K ? never : K]: T[K] };\n\ntype TSocketEndpoints = {\n    active_symbols: {\n        request: ActiveSymbolsRequest;\n        response: ActiveSymbolsResponse;\n    };\n    api_token: {\n        request: APITokenRequest;\n        response: APITokenResponse;\n    };\n    app_delete: {\n        request: ApplicationDeleteRequest;\n        response: ApplicationDeleteResponse;\n    };\n    app_get: {\n        request: ApplicationGetDetailsRequest;\n        response: ApplicationGetDetailsResponse;\n    };\n    app_list: {\n        request: ApplicationListRequest;\n        response: ApplicationListResponse;\n    };\n    app_markup_details: {\n        request: ApplicationMarkupDetailsRequest;\n        response: ApplicationMarkupDetailsResponse;\n    };\n    app_markup_statistics: {\n        request: ApplicationMarkupStatisticsRequest;\n        response: ApplicationMarkupStatisticsResponse;\n    };\n    app_register: {\n        request: ApplicationRegisterRequest;\n        response: ApplicationRegisterResponse;\n    };\n    app_update: {\n        request: ApplicationUpdateRequest;\n        response: ApplicationUpdateResponse;\n    };\n    asset_index: {\n        request: AssetIndexRequest;\n        response: AssetIndexResponse;\n    };\n    authorize: {\n        request: AuthorizeRequest;\n        response: AuthorizeResponse;\n    };\n    balance: {\n        request: BalanceRequest;\n        response: BalanceResponse;\n    };\n    buy_contract_for_multiple_accounts: {\n        request: BuyContractForMultipleAccountsRequest;\n        response: BuyContractForMultipleAccountsResponse;\n    };\n    buy: {\n        request: BuyContractRequest;\n        response: BuyContractResponse;\n    };\n    cancel: {\n        request: CancelAContractRequest;\n        response: CancelAContractResponse;\n    };\n    cashier: {\n        request: CashierInformationRequest;\n        response: CashierInformationResponse;\n    };\n    confirm_email: {\n        request: {\n            /**\n             * Must be `1`.\n             */\n            confirm_email: 1;\n\n            /**\n             * Boolean value: 1 or 0, indicating whether the client has given consent for marketing emails.\n             */\n            email_consent: 1 | 0;\n\n            /**\n             * Email verification code (received from a `verify_email` call, which must be done first).\n             */\n            verification_code: string;\n\n            /**\n             * [Optional] Used to pass data through the websocket, which may be retrieved via the `echo_req` output field.\n             */\n            passthrough?: {\n                [k: string]: unknown;\n            };\n\n            /**\n             * [Optional] Used to map request to response.\n             */\n            req_id?: number;\n        };\n        response: {\n            /**\n             * 1 for success (The verification code has been successfully verified)\n             */\n            confirm_email: 0 | 1;\n        };\n        /**\n         * Echo of the request made.\n         */\n        echo_req: {\n            [k: string]: unknown;\n        };\n\n        /**\n         * Action name of the request made.\n         */\n        msg_type: 'confirm_email';\n\n        /**\n         * Optional field sent in request to map to response, present only when request contains `req_id`.\n         */\n        req_id?: number;\n    };\n    contract_update_history: {\n        request: UpdateContractHistoryRequest;\n        response: UpdateContractHistoryResponse;\n    };\n    contract_update: {\n        request: UpdateContractRequest;\n        response: UpdateContractResponse;\n    };\n    contracts_for: {\n        request: ContractsForSymbolRequest;\n        response: ContractsForSymbolResponse;\n    };\n    copy_start: {\n        request: CopyTradingStartRequest;\n        response: CopyTradingStartResponse;\n    };\n    copy_stop: {\n        request: CopyTradingStopRequest;\n        response: CopyTradingStopResponse;\n    };\n    copytrading_list: {\n        request: CopyTradingListRequest;\n        response: CopyTradingListResponse;\n    };\n    copytrading_statistics: {\n        request: CopyTradingStatisticsRequest;\n        response: CopyTradingStatisticsResponse;\n    };\n    crypto_config: {\n        request: CryptocurrencyConfigurationsRequest;\n        response: CryptocurrencyConfigurationsResponse;\n    };\n\n    economic_calendar: {\n        request: EconomicCalendarRequest;\n        response: EconomicCalendarResponse;\n    };\n\n    forget_all: {\n        request: ForgetAllRequest;\n        response: ForgetAllResponse;\n    };\n    forget: {\n        request: ForgetRequest;\n        response: ForgetResponse;\n    };\n\n    get_financial_assessment: {\n        request: GetFinancialAssessmentRequest;\n        response: GetFinancialAssessmentResponse;\n    };\n    get_limits: {\n        request: AccountLimitsRequest;\n        response: AccountLimitsResponse;\n    };\n\n    identity_verification_document_add: {\n        request: IdentityVerificationAddDocumentRequest;\n        response: IdentityVerificationAddDocumentResponse;\n    };\n    kyc_auth_status: {\n        request: KYCAuthenticationStatusRequest;\n        response: KYCAuthenticationStatusResponse;\n    };\n\n    login_history: {\n        request: LoginHistoryRequest;\n        response: LoginHistoryResponse;\n    };\n    logout: {\n        request: LogOutRequest;\n        response: LogOutResponse;\n    };\n    mt5_deposit: {\n        request: MT5DepositRequest;\n        response: MT5DepositResponse;\n    };\n\n    mt5_new_account: {\n        request: MT5NewAccountRequest;\n        response: MT5NewAccountResponse;\n    };\n    mt5_password_change: {\n        request: MT5PasswordChangeRequest;\n        response: MT5PasswordChangeResponse;\n    };\n    mt5_password_check: {\n        request: MT5PasswordCheckRequest;\n        response: MT5PasswordCheckResponse;\n    };\n    mt5_password_reset: {\n        request: MT5PasswordResetRequest;\n        response: MT5PasswordResetResponse;\n    };\n    mt5_withdrawal: {\n        request: MT5WithdrawalRequest;\n        response: MT5WithdrawalResponse;\n    };\n    new_account_maltainvest: {\n        request: NewRealMoneyAccountDerivInvestmentEuropeLtdRequest;\n        response: NewRealMoneyAccountDerivInvestmentEuropeLtdResponse;\n    };\n\n    new_account_virtual: {\n        request: NewVirtualMoneyAccountRequest;\n        response: NewVirtualMoneyAccountResponse;\n    };\n    notifications_list: {\n        request: {\n            /**\n             * Must be 1\n             */\n            notifications_list: 1;\n            /**\n             * [Optional] Used to map request to response.\n             */\n            req_id?: number;\n            /**\n             * [Optional] If set to 1, will send updates whenever there is a change to any notification belonging to you.\n             */\n            subscribe?: 1;\n        };\n        response: {\n            /**\n             * Echo of the request made.\n             */\n            echo_req: {\n                [k: string]: unknown;\n            };\n            /**\n             * Action name of the request made.\n             */\n            msg_type: 'notifications_list';\n            notifications_list: {\n                /**\n                 * Total no. of notifications that are actionable.\n                 */\n                count_actionable: number;\n                /**\n                 * Total no. of notifications.\n                 */\n                count_total: number;\n                /**\n                 * Total no. of unread notifications.\n                 */\n                count_unread: number;\n                /**\n                 * List of notifications.\n                 */\n                messages: {\n                    /**\n                     * `Act` if the notification is actionable.\n                     */\n                    category: 'act' | 'see';\n                    /**\n                     * Id of the notification.\n                     */\n                    id: number;\n                    links: {\n                        href: string;\n                        rel: string;\n                    }[];\n                    /**\n                     * Unique key of the notification.\n                     */\n                    message_key: string;\n                    /**\n                     * Contains keys and values use for transforming the notification message.\n                     */\n                    payload: string;\n                    /**\n                     * Flag indicating if the notification has been read.\n                     */\n                    read: boolean;\n                    /**\n                     * Flag indicating if the notification has been removed.\n                     */\n                    removed: boolean;\n                }[];\n            };\n            /**\n             * Optional field sent in request to map to response, present only when request contains `req_id`.\n             */\n            req_id?: number;\n        };\n    };\n    notifications_update_status: {\n        request: {\n            /**\n             * Action to call. Must be `read`, `unread`, or `remove`.\n             */\n            notifications_update_status: 'read' | 'unread' | 'remove';\n            /**\n             * Array of notification ids to update.\n             */\n            ids: string[];\n        };\n        response: {\n            /**\n             * Echo of the request made.\n             */\n            echo_req: {\n                [k: string]: unknown;\n            };\n            /**\n             * Action name of the request made.\n             */\n            msg_type: 'notifications_update_status';\n            /**\n             * List of updated notifications.\n             */\n            notifications_update_status: string[];\n        };\n    };\n    oauth_apps: {\n        request: OAuthApplicationsRequest;\n        response: OAuthApplicationsResponse;\n    };\n\n    payment_methods: {\n        request: PaymentMethodsRequest;\n        response: PaymentMethodsResponse;\n    };\n    paymentagent_create: {\n        request: PaymentAgentCreateRequest;\n        response: PaymentAgentCreateResponse;\n    };\n    paymentagent_details: {\n        request: PaymentAgentDetailsRequest;\n        response: PaymentAgentDetailsResponse;\n    };\n    paymentagent_list: {\n        request: PaymentAgentListRequest;\n        response: PaymentAgentListResponse;\n    };\n    paymentagent_transfer: {\n        request: PaymentAgentTransferRequest;\n        response: PaymentAgentTransferResponse;\n    };\n    paymentagent_withdraw: {\n        request: PaymentAgentWithdrawRequest;\n        response: PaymentAgentWithdrawResponse;\n    };\n    paymentagent_withdraw_justification: {\n        request: PaymentAgentWithdrawJustificationRequest;\n        response: PaymentAgentWithdrawJustificationResponse;\n    };\n\n    ping: {\n        request: PingRequest;\n        response: PingResponse;\n    };\n    portfolio: {\n        request: PortfolioRequest;\n        response: PortfolioResponse;\n    };\n    profit_table: {\n        request: ProfitTableRequest;\n        response: ProfitTableResponse;\n    };\n    proposal_open_contract: {\n        request: PriceProposalOpenContractsRequest;\n        response: PriceProposalOpenContractsResponse;\n    };\n    proposal: {\n        request: PriceProposalRequest;\n        response: PriceProposalResponse;\n    };\n    reality_check: {\n        request: RealityCheckRequest;\n        response: RealityCheckResponse;\n    };\n\n    revoke_oauth_app: {\n        request: RevokeOauthApplicationRequest;\n        response: RevokeOauthApplicationResponse;\n    };\n    sell_contract_for_multiple_accounts: {\n        request: SellContractsMultipleAccountsRequest;\n        response: SellContractsMultipleAccountsResponse;\n    };\n    sell_expired: {\n        request: SellExpiredContractsRequest;\n        response: SellExpiredContractsResponse;\n    };\n    sell: {\n        request: SellContractRequest;\n        response: SellContractResponse;\n    };\n    set_account_currency: {\n        request: SetAccountCurrencyRequest;\n        response: SetAccountCurrencyResponse;\n    };\n    set_financial_assessment: {\n        request: SetFinancialAssessmentRequest;\n        response: SetFinancialAssessmentResponse;\n    };\n    set_self_exclusion: {\n        request: SetSelfExclusionRequest;\n        response: SetSelfExclusionResponse;\n    };\n    set_settings: {\n        request: SetAccountSettingsRequest;\n        response: SetAccountSettingsResponse;\n    };\n    statement: {\n        request: StatementRequest;\n        response: StatementResponse;\n    };\n\n    ticks_history: {\n        request: TicksHistoryRequest;\n        response: TicksHistoryResponse;\n    };\n    ticks: {\n        request: TicksStreamRequest;\n        response: TicksStreamResponse;\n    };\n    time: {\n        request: ServerTimeRequest;\n        response: ServerTimeResponse;\n    };\n\n    topup_virtual: {\n        request: TopUpVirtualMoneyAccountRequest;\n        response: TopUpVirtualMoneyAccountResponse;\n    };\n    trading_durations: {\n        request: TradingDurationsRequest;\n        response: TradingDurationsResponse;\n    };\n    trading_platform_password_reset: {\n        request: TradingPlatformPasswordResetRequest;\n        response: TradingPlatformPasswordResetResponse;\n    };\n    trading_servers: {\n        request: ServerListRequest;\n        response: ServerListResponse;\n    };\n    trading_times: {\n        request: TradingTimesRequest;\n        response: TradingTimesResponse;\n    };\n    transaction: {\n        request: TransactionsStreamRequest;\n        response: TransactionsStreamResponse;\n    };\n    transfer_between_accounts: {\n        request: TransferBetweenAccountsRequest;\n        response: TransferBetweenAccountsResponse;\n    };\n    unsubscribe_email: {\n        request: UnsubscribeEmailRequest;\n        response: UnsubscribeEmailResponse;\n    };\n    website_config: {\n        request: ServerConfigRequest;\n        response: ServerConfigResponse;\n    };\n};\n\nexport type TSocketEndpointNames = keyof TSocketEndpoints;\n\nexport type TSocketError<T extends TSocketEndpointNames> = {\n    /**\n     * Echo of the request made.\n     */\n    echo_req: {\n        [k: string]: unknown;\n    };\n    /**\n     * Error object.\n     */\n    error: {\n        code: string;\n        message: string;\n    };\n    /**\n     * Action name of the request made.\n     */\n    msg_type: T;\n    /**\n     * [Optional] Used to map request to response.\n     */\n    req_id?: number;\n};\n\nexport type TSocketResponse<T extends TSocketEndpointNames> = TSocketEndpoints[T]['response'] & TSocketError<T>;\n\nexport type TSocketResponseData<T extends TSocketEndpointNames> = Omit<\n    NoStringIndex<TSocketResponse<T>>,\n    'req_id' | 'echo_req' | 'subscription'\n>;\n\nexport type TAccount = {\n    balance: number;\n    currency: string;\n    is_virtual: number;\n    loginid: string;\n};\n\nexport type TAuthData = {\n    account_list: TAccount[];\n    balance: number;\n    country: string;\n    currency: string;\n    email: string;\n    fullname: string;\n    is_virtual: number;\n\n    linked_to: [];\n    local_currencies: Record<string, unknown>;\n    loginid: string;\n    preferred_language: string;\n    scopes: string[];\n\n    user_id: number;\n    token?: string;\n};\n",
            "size_bytes": 19798
        },
        "src/components/currency/currency-icon.tsx": {
            "content": "import { lazy, Suspense } from 'react';\n\nconst CURRENCY_ICONS = {\n    aud: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyAudIcon }))),\n    bch: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyBchIcon }))),\n    btc: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyBtcIcon }))),\n    busd: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyBusdIcon }))),\n    dai: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyDaiIcon }))),\n    eth: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyEthIcon }))),\n    eur: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyEurIcon }))),\n    'eur-check': lazy(() =>\n        import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyEurIcon }))\n    ),\n    eurs: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyEursIcon }))),\n    eusdt: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyUsdtIcon }))),\n    gbp: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyGbpIcon }))),\n    idk: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyIdkIcon }))),\n    ltc: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyLtcIcon }))),\n    pax: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyPaxIcon }))),\n    tusd: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyTusdIcon }))),\n    tusdt: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyUsdtIcon }))),\n    unknown: lazy(() =>\n        import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyPlaceholderIcon }))\n    ),\n    usd: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyUsdIcon }))),\n    usdc: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyUsdcIcon }))),\n    usdk: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyUsdkIcon }))),\n    ust: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyUsdtIcon }))),\n    virtual: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyDemoIcon }))),\n    xrp: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyXrpIcon }))),\n    algo: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyAlgoIcon }))),\n    avax: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyAvaxIcon }))),\n    bat: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyBatIcon }))),\n    bnb: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyBnbIcon }))),\n    dash: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyDashIcon }))),\n    doge: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyDogeIcon }))),\n    dot: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyDotIcon }))),\n    eos: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyEosIcon }))),\n    etc: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyEtcIcon }))),\n    fil: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyFilIcon }))),\n    iota: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyIotaIcon }))),\n    link: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyLinkIcon }))),\n    matic: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyMaticIcon }))),\n    mkr: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyMkrIcon }))),\n    mcd: lazy(() =>\n        import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyMultiCollateralDaiIcon }))\n    ),\n    neo: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyNeoIcon }))),\n    none: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyNoneIcon }))),\n    omg: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyOmgIcon }))),\n    p2p: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyP2PIcon }))),\n    scd: lazy(() =>\n        import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencySingleCollateralDaiIcon }))\n    ),\n    sol: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencySolIcon }))),\n    terra: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyTerraIcon }))),\n    trx: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyTrxIcon }))),\n    uni: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyUniIcon }))),\n    xlm: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyXlmIcon }))),\n    xmr: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyXmrIcon }))),\n    xtz: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyXtzIcon }))),\n    zec: lazy(() => import('@deriv/quill-icons/Currencies').then(module => ({ default: module.CurrencyZecIcon }))),\n};\n\nexport const CurrencyIcon = ({ currency, isVirtual }: { currency?: string; isVirtual?: boolean }) => {\n    const Icon = isVirtual\n        ? CURRENCY_ICONS.virtual\n        : CURRENCY_ICONS[currency?.toLowerCase() as keyof typeof CURRENCY_ICONS] || CURRENCY_ICONS.unknown;\n\n    return (\n        <Suspense fallback={null}>\n            <Icon iconSize='sm' />\n        </Suspense>\n    );\n};\n",
            "size_bytes": 6518
        },
        "src/components/unhandled-error-modal/__tests__/unhandled-error-modal.spec.tsx": {
            "content": "import React from 'react';\nimport { fireEvent, render, screen } from '@testing-library/react';\nimport UnhandledErrorModal from '../unhandled-error-modal';\n\ndescribe('<UnhandledErrorModal />', () => {\n    let modal_root_el: HTMLDivElement;\n\n    beforeAll(() => {\n        modal_root_el = document.createElement('div');\n        modal_root_el.setAttribute('id', 'modal_root');\n        document.body.appendChild(modal_root_el);\n    });\n\n    afterAll(() => {\n        document.body.removeChild(modal_root_el);\n    });\n\n    it('renders the component with proper messages', () => {\n        jest.spyOn(React, 'useState').mockImplementationOnce(() => React.useState<boolean>(true));\n        render(<UnhandledErrorModal />);\n        expect(screen.getByText(/Sorry for the interruption/i)).toBeInTheDocument();\n        expect(screen.getByText(/Our servers hit a bump. Lets refresh to move on./i)).toBeInTheDocument();\n        expect(screen.getByText('Refresh')).toBeInTheDocument();\n    });\n\n    it('should call reload function when refresh button is clicked', () => {\n        jest.spyOn(React, 'useState').mockImplementationOnce(() => React.useState<boolean>(true));\n        const reloadFn = jest.fn();\n        Object.defineProperty(window, 'location', {\n            configurable: true,\n            value: { reload: reloadFn },\n        });\n        render(<UnhandledErrorModal />);\n        fireEvent.click(screen.getByText('Refresh'));\n        expect(reloadFn).toHaveBeenCalled();\n    });\n});\n",
            "size_bytes": 1483
        },
        "src/external/bot-skeleton/scratch/shared.js": {
            "content": "import filesaver from 'file-saver';\nimport { getContractTypeOptions as getContractTypeOptionsFromCommon } from '../../../components/shared/utils/common-data';\nimport { config } from '../constants/config';\n\nexport const saveAs = ({ data, filename, type }) => {\n    const blob = new Blob([data], { type });\n    filesaver.saveAs(blob, filename);\n};\n\nexport const getContractTypeOptions = (contract_type, trade_type) => {\n    // First try to get from config\n    if (trade_type && trade_type !== 'na' && trade_type !== '') {\n        const trade_types = config().opposites[trade_type.toUpperCase()];\n\n        if (trade_types) {\n            const contract_options = trade_types.map(type => Object.entries(type)[0].reverse());\n\n            // When user selected a specific contract, only return the contract type they selected.\n            if (contract_type !== 'both') {\n                const filtered_options = contract_options.filter(option => option[1] === contract_type);\n                return filtered_options;\n            }\n            return contract_options;\n        }\n    }\n\n    // Fallback to common data\n    return getContractTypeOptionsFromCommon(contract_type, trade_type);\n};\n",
            "size_bytes": 1184
        },
        "src/components/shared/loaders/deriv-trader-loader.js": {
            "content": "const resolve = require('path').resolve;\nconst existsSync = require('fs').existsSync;\n/* Using this loader you can import components from @deriv/trader without having to manually\nimport the corresponding stylesheet. The deriv-account-loader will automatically import\nstylesheets.\n\n    import { CFDStore } from '@deriv/trader';\n      \n    import CFDStore from '@deriv/trader/dist/js/CFDStore';\n*/\n\nfunction checkExists(component) {\n    return existsSync(resolve(__dirname, '../../../trader/src/Components/', component, `${component}.scss`));\n}\n\nmodule.exports = function (source, map) {\n    const lines = source.split(/\\n/);\n    const mapped_lines = lines.map(line => {\n        const matches = /\\s*import\\s+\\{(.*)\\}\\s*from\\s+\\'@deriv\\/trader/.exec(line); // eslint-disable-line no-useless-escape\n        if (!matches || !matches[1]) {\n            return line; // do nothing;\n        }\n        const components = matches[1]\n            .replace(/\\sas\\s\\w+/, '') // Remove aliasing from imports.\n            .replace(/\\s+/g, '')\n            .split(',');\n        const replace = components\n            .map(\n                c => `\nimport ${c} from '@deriv/trader/dist/trader/js/${c}';\n${checkExists(c) ? `import '@deriv/trader/dist/trader/css/${c}.css';` : ''}\n        `\n            )\n            .join('\\n');\n\n        return replace;\n    });\n\n    return this.callback(null, mapped_lines.join('\\n'), map);\n};\n",
            "size_bytes": 1414
        },
        "src/external/bot-skeleton/utils/binary-utils.ts": {
            "content": "import { TickSpotData } from '@deriv/api-types';\n\nexport const getLast = (arr: any[]): any => arr && (arr.length === 0 ? undefined : arr[arr.length - 1]);\n\nexport const historyToTicks = (history: any): TickSpotData[] =>\n    history.times.map((t, idx) => ({\n        epoch: +t,\n        quote: +history.prices[idx],\n    }));\n",
            "size_bytes": 322
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Tools/Misc/index.js": {
            "content": "import './balance';\nimport './barrier_offset';\nimport './block_holder';\nimport './loader';\nimport './notify';\nimport './notify_telegram';\nimport './total_profit';\nimport './total_runs';\nimport './useless_block';\nimport './console';\n",
            "size_bytes": 232
        },
        "src/external/bot-skeleton/scratch/blocks/Math/math_constant.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../utils';\n\nwindow.Blockly.Blocks.math_constant = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1',\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'CONSTANT',\n                    options: [\n                        ['\\u03C0', 'PI'],\n                        ['\\u2107', 'E'],\n                        ['\\u03d5', 'GOLDEN_RATIO'],\n                        ['sqrt(2)', 'SQRT2'],\n                        ['sqrt(\\u00bd)', 'SQRT1_2'],\n                        ['\\u221e', 'INFINITY'],\n                    ],\n                },\n            ],\n            output: 'Number',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block gives you the selected constant values.'),\n            category: window.Blockly.Categories.Mathematical,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    meta() {\n        return {\n            display_name: localize('Mathematical constants'),\n            description: localize('This block gives you the selected constant values.'),\n        };\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.math_constant = block => {\n    const constant = block.getFieldValue('CONSTANT');\n\n    let code, order;\n\n    if (constant === 'PI') {\n        code = 'Math.PI';\n        order = window.Blockly.JavaScript.javascriptGenerator.ORDER_MEMBER;\n    } else if (constant === 'E') {\n        code = 'Math.E';\n        order = window.Blockly.JavaScript.javascriptGenerator.ORDER_MEMBER;\n    } else if (constant === 'GOLDEN_RATIO') {\n        code = '(1 + Math.sqrt(5)) / 2';\n        order = window.Blockly.JavaScript.javascriptGenerator.ORDER_DIVISION;\n    } else if (constant === 'SQRT2') {\n        code = 'Math.SQRT2';\n        order = window.Blockly.JavaScript.javascriptGenerator.ORDER_MEMBER;\n    } else if (constant === 'SQRT1_2') {\n        code = 'Math.SQRT1_2';\n        order = window.Blockly.JavaScript.javascriptGenerator.ORDER_MEMBER;\n    } else if (constant === 'INFINITY') {\n        code = 'Infinity';\n        order = window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC;\n    }\n\n    return [code, order];\n};\n",
            "size_bytes": 2553
        },
        "src/utils/help-content/help-strings/controls_whileUntil.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize('This block repeats instructions as long as a given condition is true.'),\n        localize('Examples:'),\n        localize(\n            '1. In the example below, the instructions are repeated as long as the value of x is less than or equal to 10. Once the value of x exceeds 10, the loop is terminated.'\n        ),\n        localize(\n            '2. In this example, the instructions are repeated as long as the value of x is greater than or equal to 10. Once the value of x drops below 10, the loop is terminated.'\n        ),\n    ],\n};\n",
            "size_bytes": 640
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Tick Analysis/get_ohlc.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { config } from '../../../../constants/config';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.get_ohlc = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('in candle list get # from end {{ input_number }}', { input_number: '%1' }),\n            message1: localize('with interval: {{ candle_interval_type }}', { candle_interval_type: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'CANDLEINDEX',\n                    check: 'Number',\n                },\n            ],\n            args1: [\n                {\n                    type: 'field_dropdown',\n                    name: 'CANDLEINTERVAL_LIST',\n                    options: config().candleIntervals,\n                },\n            ],\n            output: 'Candle',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block gives you a specific candle from within the selected time interval.'),\n            category: window.Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Get candle'),\n            description: localize('This block gives you a specific candle from within the selected time interval.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            CANDLEINDEX: null,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.get_ohlc = block => {\n    const selectedGranularity = block.getFieldValue('CANDLEINTERVAL_LIST');\n    const granularity = selectedGranularity === 'default' ? 'undefined' : selectedGranularity;\n    const index =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'CANDLEINDEX',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC\n        ) || '1';\n\n    const code = `Bot.getOhlcFromEnd({ index: ${index}, granularity: ${granularity} })`;\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC];\n};\n",
            "size_bytes": 2434
        },
        "src/utils/dom-observer.ts": {
            "content": "export const waitForDomElement = (selector: string, observingParent?: Element) => {\n    return new Promise(resolve => {\n        if (document.querySelector(selector)) {\n            resolve(document.querySelector(selector));\n            return;\n        }\n\n        const observer = new MutationObserver(() => {\n            if (document.querySelector(selector)) {\n                resolve(document.querySelector(selector));\n                observer.disconnect();\n            }\n        });\n\n        observer.observe(observingParent ?? document.body, {\n            childList: true,\n            subtree: true,\n        });\n    });\n};\n",
            "size_bytes": 625
        },
        "analysis-tool/Benanalysistool-final-main/components/tabs/pro-signals-tab.tsx": {
            "content": "\"use client\"\nimport { useState } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Progress } from \"@/components/ui/progress\"\nimport { ChevronDown, ChevronUp } from \"lucide-react\"\nimport type { Signal, AnalysisResult } from \"@/lib/analysis-engine\"\n\ninterface ProSignalsTabProps {\n  proSignals: Signal[]\n  analysis: AnalysisResult | null\n  theme?: \"light\" | \"dark\"\n}\n\nexport function ProSignalsTab({ proSignals, analysis, theme = \"dark\" }: ProSignalsTabProps) {\n  const [showStrategies, setShowStrategies] = useState(false)\n\n  const strategies = [\n    {\n      name: \"Momentum Reversal Strategy\",\n      description:\n        \"Identifies when a strong trend is about to reverse based on digit frequency patterns and consecutive appearances.\",\n    },\n    {\n      name: \"Pattern Recognition Strategy\",\n      description:\n        \"Analyzes historical digit patterns to predict the next likely digit based on recent sequences and statistical probability.\",\n    },\n    {\n      name: \"Volatility Breakout Strategy\",\n      description:\n        \"Detects when market volatility increases and suggests trades based on digit distribution changes during high volatility periods.\",\n    },\n    {\n      name: \"Mean Reversion Strategy\",\n      description:\n        \"Identifies when digits deviate significantly from their average frequency and suggests trades expecting a return to the mean.\",\n    },\n    {\n      name: \"Under 7 Strategy\",\n      description:\n        \"Red & green bars should be below Digit 7 (i.e., on 6,5,4,3,2,1,0). Any 2 digits between 7,8 & 9 should be less than 10%. Entry: use the digit having more than 10% between Digits 7,8 & 9 as entry point.\",\n    },\n    {\n      name: \"Over 2 Strategy\",\n      description:\n        \"Red & green bars should be above Digit 2 (i.e., on 3,4,5,6,7,8,9). Any 2 digits between 0,1 & 2 should be less than 10%. Entry: use the digit having more than 10% between Digits 0,1 & 2 as entry point.\",\n    },\n  ]\n\n  if (!proSignals || proSignals.length === 0) {\n    return (\n      <div className=\"space-y-6\">\n        <div className=\"text-center py-16\">\n          <p className={theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}>\n            No pro signals available yet. Pro signals require specific market conditions.\n          </p>\n        </div>\n\n        <div\n          className={`rounded-xl p-6 border ${\n            theme === \"dark\"\n              ? \"bg-gradient-to-br from-purple-900/40 via-pink-900/30 to-amber-900/40 border-amber-500/30 shadow-[0_0_40px_rgba(217,119,6,0.3)]\"\n              : \"bg-gradient-to-br from-purple-50 via-pink-50 to-amber-50 border-amber-300 shadow-xl\"\n          }`}\n        >\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3\n              className={`text-xl font-bold ${theme === \"dark\" ? \"bg-gradient-to-r from-amber-400 via-yellow-300 to-amber-400 bg-clip-text text-transparent\" : \"text-amber-900\"}`}\n            >\n               Premium Strategies\n            </h3>\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={() => setShowStrategies(!showStrategies)}\n              className={\n                theme === \"dark\" ? \"text-amber-400 hover:text-amber-300\" : \"text-amber-700 hover:text-amber-800\"\n              }\n            >\n              {showStrategies ? (\n                <>\n                  <ChevronUp className=\"w-5 h-5 mr-1\" />\n                  Hide\n                </>\n              ) : (\n                <>\n                  <ChevronDown className=\"w-5 h-5 mr-1\" />\n                  Show\n                </>\n              )}\n            </Button>\n          </div>\n\n          {showStrategies && (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\n              {strategies.map((strategy, index) => (\n                <div\n                  key={index}\n                  className={`p-4 rounded-lg border ${\n                    theme === \"dark\"\n                      ? \"bg-gradient-to-br from-amber-500/10 to-purple-500/10 border-amber-500/40 hover:border-amber-400/60 hover:shadow-[0_0_20px_rgba(217,119,6,0.4)]\"\n                      : \"bg-gradient-to-br from-amber-50 to-purple-50 border-amber-300 hover:border-amber-400 hover:shadow-lg\"\n                  } transition-all`}\n                >\n                  <h4 className={`font-bold mb-2 ${theme === \"dark\" ? \"text-amber-400\" : \"text-amber-700\"}`}>\n                    {strategy.name}\n                  </h4>\n                  <p className={`text-sm ${theme === \"dark\" ? \"text-gray-300\" : \"text-gray-700\"}`}>\n                    {strategy.description}\n                  </p>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {proSignals.map((signal, index) => (\n        <div\n          key={index}\n          className={`rounded-xl p-6 border ${\n            theme === \"dark\"\n              ? \"bg-gradient-to-br from-purple-900/40 via-pink-900/30 to-amber-900/40 border-amber-500/30 shadow-[0_0_40px_rgba(217,119,6,0.3)]\"\n              : \"bg-gradient-to-br from-purple-50 via-pink-50 to-amber-50 border-amber-300 shadow-xl\"\n          }`}\n        >\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3\n              className={`text-xl font-bold ${theme === \"dark\" ? \"bg-gradient-to-r from-amber-400 via-yellow-300 to-amber-400 bg-clip-text text-transparent\" : \"text-amber-900\"}`}\n            >\n               PRO {signal.type.replace(\"_\", \" / \").toUpperCase()}\n            </h3>\n            <Button\n              size=\"lg\"\n              className={`px-8 py-6 text-lg font-bold ${\n                signal.status === \"TRADE NOW\"\n                  ? \"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 shadow-[0_0_25px_rgba(34,197,94,0.6)] animate-pulse\"\n                  : signal.status === \"WAIT\"\n                    ? \"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 shadow-[0_0_25px_rgba(234,179,8,0.6)]\"\n                    : \"bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700\"\n              }`}\n            >\n              {signal.status}\n            </Button>\n          </div>\n\n          <div className=\"space-y-4\">\n            <div>\n              <div className={`text-sm font-semibold mb-2 ${theme === \"dark\" ? \"text-amber-300\" : \"text-amber-700\"}`}>\n                Recommendation:\n              </div>\n              <div className={`text-lg ${theme === \"dark\" ? \"text-yellow-300\" : \"text-amber-800\"}`}>\n                {signal.recommendation}\n              </div>\n            </div>\n\n            <div>\n              <div className={`text-sm font-semibold mb-2 ${theme === \"dark\" ? \"text-amber-300\" : \"text-amber-700\"}`}>\n                Entry Condition:\n              </div>\n              <div className={`text-base ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}>\n                {signal.entryCondition}\n              </div>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\n              <div>\n                <div className={`text-sm font-semibold mb-2 ${theme === \"dark\" ? \"text-amber-300\" : \"text-amber-700\"}`}>\n                  Power\n                </div>\n                <Progress value={signal.probability} className=\"h-3\" />\n                <div className={`text-xs mt-1 ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>\n                  {signal.probability.toFixed(1)}%\n                </div>\n              </div>\n              <div>\n                <div className={`text-sm font-semibold mb-2 ${theme === \"dark\" ? \"text-amber-300\" : \"text-amber-700\"}`}>\n                  Confidence\n                </div>\n                <Progress value={Math.min(signal.probability * 0.95, 100)} className=\"h-3\" />\n                <div className={`text-xs mt-1 ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>\n                  {Math.min(signal.probability * 0.95, 100).toFixed(1)}%\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      ))}\n\n      <div\n        className={`rounded-xl p-6 border ${\n          theme === \"dark\"\n            ? \"bg-gradient-to-br from-purple-900/40 via-pink-900/30 to-amber-900/40 border-amber-500/30 shadow-[0_0_40px_rgba(217,119,6,0.3)]\"\n            : \"bg-gradient-to-br from-purple-50 via-pink-50 to-amber-50 border-amber-300 shadow-xl\"\n        }`}\n      >\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3\n            className={`text-xl font-bold ${theme === \"dark\" ? \"bg-gradient-to-r from-amber-400 via-yellow-300 to-amber-400 bg-clip-text text-transparent\" : \"text-amber-900\"}`}\n          >\n             Premium Strategies\n          </h3>\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={() => setShowStrategies(!showStrategies)}\n            className={theme === \"dark\" ? \"text-amber-400 hover:text-amber-300\" : \"text-amber-700 hover:text-amber-800\"}\n          >\n            {showStrategies ? (\n              <>\n                <ChevronUp className=\"w-5 h-5 mr-1\" />\n                Hide\n              </>\n            ) : (\n              <>\n                <ChevronDown className=\"w-5 h-5 mr-1\" />\n                Show\n              </>\n            )}\n          </Button>\n        </div>\n\n        {showStrategies && (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            {strategies.map((strategy, index) => (\n              <div\n                key={index}\n                className={`p-4 rounded-lg border ${\n                  theme === \"dark\"\n                    ? \"bg-gradient-to-br from-amber-500/10 to-purple-500/10 border-amber-500/40 hover:border-amber-400/60 hover:shadow-[0_0_20px_rgba(217,119,6,0.4)]\"\n                    : \"bg-gradient-to-br from-amber-50 to-purple-50 border-amber-300 hover:border-amber-400 hover:shadow-lg\"\n                } transition-all`}\n              >\n                <h4 className={`font-bold mb-2 ${theme === \"dark\" ? \"text-amber-400\" : \"text-amber-700\"}`}>\n                  {strategy.name}\n                </h4>\n                <p className={`text-sm ${theme === \"dark\" ? \"text-gray-300\" : \"text-gray-700\"}`}>\n                  {strategy.description}\n                </p>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n",
            "size_bytes": 10471
        },
        "src/components/shared_ui/tooltip/tooltip.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { useHover } from '@/hooks/useHover';\nimport { Icon } from '@/utils/tmp/dummy';\nimport { LabelPairedCircleInfoCaptionRegularIcon } from '@deriv/quill-icons/LabelPaired';\n\ntype TTooltip = {\n    alignment: string;\n    className?: string;\n    classNameIcon?: string;\n    has_error?: boolean;\n    icon?: string;\n    message?: string | null;\n};\n\nconst Tooltip = ({\n    alignment,\n    children,\n    className,\n    classNameIcon,\n    has_error,\n    icon, // only question, info and dot accepted\n    message,\n}: React.PropsWithChildren<TTooltip>) => {\n    const [hover_ref, show_tooltip_balloon_icon_on_hover] = useHover<SVGSVGElement>();\n\n    const icon_class = classNames(classNameIcon, icon);\n\n    return (\n        <span\n            className={classNames(className, 'dc-tooltip', { 'dc-tooltip--error': has_error })}\n            data-tooltip={message || undefined}\n            data-tooltip-pos={alignment}\n        >\n            {icon === 'info' && (\n                <React.Fragment>\n                    <LabelPairedCircleInfoCaptionRegularIcon className={icon_class} ref={hover_ref} />\n                    <LabelPairedCircleInfoCaptionRegularIcon\n                        className={classNames(`${classNameIcon}-balloon-icon`, 'dc-tooltip__balloon-icon', {\n                            'dc-tooltip__balloon-icon--show': show_tooltip_balloon_icon_on_hover,\n                        })}\n                    />\n                </React.Fragment>\n            )}\n            {icon === 'question' && <Icon icon='IcUnknown' className={icon_class} />}\n            {icon === 'dot' && <Icon icon='IcCircle' className={icon_class} size={4} />}\n            {children}\n        </span>\n    );\n};\n\nexport default Tooltip;\n",
            "size_bytes": 1769
        },
        "src/hooks/useInvalidTokenHandler.ts": {
            "content": "import { useEffect } from 'react';\nimport { observer as globalObserver } from '@/external/bot-skeleton/utils/observer';\nimport { useOauth2 } from './auth/useOauth2';\n\n/**\n * Hook to handle invalid token events by retriggering OIDC authentication\n *\n * This hook listens for 'InvalidToken' events emitted by the API base when\n * a token is invalid but the cookie logged state is true. When such an event\n * is detected, it automatically retriggers the OIDC authentication flow to\n * get a new token.\n *\n * @returns {{ unregisterHandler: () => void }} An object containing a function to unregister the event handler\n */\nexport const useInvalidTokenHandler = (): { unregisterHandler: () => void } => {\n    const { retriggerOAuth2Login } = useOauth2();\n\n    const handleInvalidToken = () => {\n        // Clear localStorage similar to client.logout\n        retriggerOAuth2Login();\n    };\n\n    // Subscribe to the InvalidToken event\n    useEffect(() => {\n        globalObserver.register('InvalidToken', handleInvalidToken);\n\n        // Cleanup the subscription when the component unmounts\n        return () => {\n            globalObserver.unregister('InvalidToken', handleInvalidToken);\n        };\n    }, [retriggerOAuth2Login]);\n\n    // Return a function to unregister the handler manually if needed\n    return {\n        unregisterHandler: () => {\n            globalObserver.unregister('InvalidToken', handleInvalidToken);\n        },\n    };\n};\n\nexport default useInvalidTokenHandler;\n",
            "size_bytes": 1479
        },
        "src/components/shared_ui/static-url/static-url.tsx": {
            "content": "import React from 'react';\nimport { getStaticUrl, setUrlLanguage } from '@/components/shared/utils/url';\nimport { getInitialLanguage } from '@deriv-com/translations';\n\ntype TStaticUrl = React.HTMLAttributes<HTMLAnchorElement> & {\n    href?: string;\n    is_document?: boolean;\n    is_eu_url?: boolean;\n};\n\nconst StaticUrl = ({ href, is_document, is_eu_url = false, children = null, ...props }: TStaticUrl) => {\n    const getHref = () => {\n        setUrlLanguage(getInitialLanguage());\n        return getStaticUrl(href, is_document, is_eu_url);\n    };\n\n    return (\n        <a href={getHref()} rel='noopener noreferrer' target='_blank' {...props}>\n            {children}\n        </a>\n    );\n};\n\nexport default StaticUrl;\n",
            "size_bytes": 719
        },
        "src/external/bot-skeleton/scratch/blocks/Text/text_charAt.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { emptyTextValidator, modifyContextMenu } from '../../utils';\n\nwindow.Blockly.Blocks.text_charAt = {\n    init() {\n        this.jsonInit(this.definition());\n\n        const dropdown = this.getField('WHERE');\n        dropdown.setValidator(value => {\n            const newAt = ['FROM_START', 'FROM_END'].includes(value);\n            if (newAt !== this.isAt) {\n                this.updateAt(newAt);\n                this.setFieldValue(value, 'WHERE');\n                return null;\n            }\n            return undefined;\n        });\n\n        this.updateAt(true);\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    definition() {\n        return {\n            message0: localize('in text %1 get %2'),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'WHERE',\n                    options: [\n                        [localize('letter #'), 'FROM_START'],\n                        [localize('letter # from end'), 'FROM_END'],\n                        [localize('first letter'), 'FIRST'],\n                        [localize('last letter'), 'LAST'],\n                        [localize('random letter'), 'RANDOM'],\n                    ],\n                },\n            ],\n            inputsInline: true,\n            output: 'String',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns a specific character from a given string'),\n            category: window.Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Get character'),\n            description: localize(\n                'Returns the specific character from a given string of text according to the selected option. '\n            ),\n        };\n    },\n    mutationToDom() {\n        const container = document.createElement('mutation');\n        container.setAttribute('at', !!this.isAt);\n        return container;\n    },\n    domToMutation(xmlElement) {\n        const isAt = xmlElement.getAttribute('at') !== 'false';\n        this.updateAt(isAt);\n    },\n    updateAt(isAt) {\n        this.removeInput('AT', true);\n        if (isAt) {\n            this.appendValueInput('AT').setCheck('Number');\n        }\n\n        this.isAt = isAt;\n        this.initSvg();\n        this.renderEfficiently();\n    },\n    getRequiredValueInputs() {\n        return {\n            VALUE: emptyTextValidator,\n            AT: emptyTextValidator,\n        };\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.text_charAt = block => {\n    const where = block.getFieldValue('WHERE') || 'FROM_START';\n    const textOrder =\n        where === 'RANDOM'\n            ? window.Blockly.JavaScript.javascriptGenerator.ORDER_NONE\n            : window.Blockly.JavaScript.javascriptGenerator.ORDER_MEMBER;\n    const text = window.Blockly.JavaScript.javascriptGenerator.valueToCode(block, 'VALUE', textOrder) || \"''\";\n\n    let code;\n\n    if (where === 'FROM_START') {\n        const at = window.Blockly.JavaScript.javascriptGenerator.getAdjusted(block, 'AT');\n        // Adjust index if using one-based indices\n        code = `${text}.charAt(${at})`;\n    } else if (where === 'FROM_END') {\n        const at = window.Blockly.JavaScript.javascriptGenerator.getAdjusted(block, 'AT', 1, true);\n        code = `${text}.slice(${at}).charAt(0)`;\n    } else if (where === 'FIRST') {\n        code = `${text}.charAt(0)`;\n    } else if (where === 'LAST') {\n        code = `${text}.slice(-1)`;\n    } else if (where === 'RANDOM') {\n        // eslint-disable-next-line no-underscore-dangle\n        const functionName = window.Blockly.JavaScript.javascriptGenerator.provideFunction_('textRandomLetter', [\n            // eslint-disable-next-line no-underscore-dangle\n            `function ${window.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(text) {\n                var x = Math.floor(Math.random() * text.length);\n                return text[x];\n            }`,\n        ]);\n        code = `${functionName}(${text})`;\n    }\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_FUNCTION_CALL];\n};\n",
            "size_bytes": 4477
        },
        "src/components/transaction-details/transaction-details.types.ts": {
            "content": "import { ReactElement } from 'react';\n\nexport type TColumn = {\n    key: string;\n    label: string;\n    extra_class?: '--grow-big' | '--grow-mid';\n};\n\nexport type TTransaction = {\n    barrier: string;\n    buy_price: number;\n    contract_id: number;\n    contract_type: string;\n    currency: string;\n    date_start: string;\n    display_name: string;\n    entry_spot: string;\n    entry_tick_time: string;\n    exit_spot: string;\n    exit_tick_time: string;\n    is_completed: boolean;\n    payout: number;\n    profit: number;\n    run_id: string;\n    shortcode: string;\n    tick_count: number;\n    transaction_ids: {\n        buy: number;\n        sell: number;\n    };\n    underlying_symbol: string;\n};\n\nexport type TTransactions = {\n    data: TTransaction;\n    type: 'contract' | 'divider';\n    loginid: string;\n};\n\nexport type TStatistics = {\n    lost_contracts: number;\n    number_of_runs: number;\n    total_payout: number;\n    total_profit: number;\n    total_stake: number;\n    won_contracts: number;\n};\n\nexport type TTransactionStore = {\n    transactions: TTransactions[];\n    is_transaction_details_modal_open: boolean;\n    toggleTransactionDetailsModal: (is_open: boolean) => void;\n    statistics: TStatistics;\n};\n\nexport type TRunPanelStore = {\n    statistics: TStatistics;\n    toggleStatisticsInfoModal?: () => void;\n};\n\nexport type TDesktopTransactionTable = {\n    transaction_columns: TColumn[];\n    transactions: TTransactions[] | undefined;\n    result_columns: TColumn[];\n    result: TStatistics | undefined;\n    account: string;\n    balance: string | number;\n};\n\nexport type TTableCell = {\n    label: string | number | ReactElement | undefined;\n    loader?: boolean;\n    extra_classes?: string[];\n};\n",
            "size_bytes": 1703
        },
        "src/components/layout/footer/ServerTime.tsx": {
            "content": "import { observer } from 'mobx-react-lite';\nimport moment from 'moment';\nimport { useStore } from '@/hooks/useStore';\nimport { DATE_TIME_FORMAT_WITH_GMT, DATE_TIME_FORMAT_WITH_OFFSET } from '@/utils/time';\nimport { Text, Tooltip } from '@deriv-com/ui';\nimport { useDevice } from '@deriv-com/ui';\n\nconst ServerTime = observer(() => {\n    const { isDesktop } = useDevice();\n    const { common } = useStore() ?? {\n        common: {\n            server_time: moment(),\n        },\n    };\n\n    return (\n        <Tooltip\n            as='div'\n            className='app-footer__icon'\n            data-testid='dt_server_time'\n            tooltipContent={common.server_time.format(DATE_TIME_FORMAT_WITH_OFFSET)}\n        >\n            <Text size={isDesktop ? 'xs' : 'sm'}>{common.server_time.format(DATE_TIME_FORMAT_WITH_GMT)}</Text>\n        </Tooltip>\n    );\n});\n\nexport default ServerTime;\n",
            "size_bytes": 880
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Indicators/Parts/signal_ema_period.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../../utils';\n\nwindow.Blockly.Blocks.signal_ema_period = {\n    init() {\n        this.jsonInit({\n            message0: localize('Signal EMA Period {{ input_number }}', { input_number: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'SIGNAL_EMA_PERIOD',\n                    check: null,\n                },\n            ],\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange: window.Blockly.Blocks.input_list.onchange,\n    allowed_parents: ['macda_statement'],\n    getRequiredValueInputs() {\n        return {\n            SIGNAL_EMA_PERIOD: null,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.signal_ema_period = () => {};\n",
            "size_bytes": 1198
        },
        "analysis-tool/Benanalysistool-final-main/components/charts/even-odd-pie-chart.tsx": {
            "content": "\"use client\"\n\nimport { PieChart, Pie, Cell, ResponsiveContainer, Legend, Tooltip } from \"recharts\"\n\ninterface EvenOddPieChartProps {\n  evenCount: number\n  oddCount: number\n}\n\nexport function EvenOddPieChart({ evenCount, oddCount }: EvenOddPieChartProps) {\n  const data = [\n    { name: \"Even\", value: evenCount, color: \"hsl(var(--primary))\" },\n    { name: \"Odd\", value: oddCount, color: \"hsl(var(--accent))\" },\n  ]\n\n  return (\n    <ResponsiveContainer width=\"100%\" height={300}>\n      <PieChart>\n        <Pie\n          data={data}\n          cx=\"50%\"\n          cy=\"50%\"\n          labelLine={false}\n          label={({ name, percent }) => `${name}: ${(percent * 100).toFixed(1)}%`}\n          outerRadius={100}\n          fill=\"#8884d8\"\n          dataKey=\"value\"\n        >\n          {data.map((entry, index) => (\n            <Cell key={`cell-${index}`} fill={entry.color} />\n          ))}\n        </Pie>\n        <Tooltip\n          contentStyle={{\n            backgroundColor: \"hsl(var(--card))\",\n            border: \"1px solid hsl(var(--border))\",\n            borderRadius: \"0.5rem\",\n          }}\n        />\n        <Legend />\n      </PieChart>\n    </ResponsiveContainer>\n  )\n}\n",
            "size_bytes": 1173
        },
        "src/components/shared_ui/data-list/data-list-row.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { NavLink } from 'react-router-dom';\nimport { clickAndKeyEventHandler, useIsMounted } from '@/components/shared';\nimport { useDebounce } from '@/hooks/useDebounce';\nimport { TSource } from '../data-table/table-row';\nimport { TPassThrough, TRow } from '../types/common.types';\nimport { TColIndex, TDataListCell } from './data-list-cell';\n\ntype TMobileRowRenderer = {\n    row?: TRow;\n    is_footer?: boolean;\n    columns_map?: Record<TColIndex, TDataListCell['column']>;\n    server_time?: moment.Moment;\n    onClickCancel: (contract_id?: number) => void;\n    onClickSell: (contract_id?: number) => void;\n    measure?: () => void;\n    passthrough?: TPassThrough;\n};\n\nexport type TRowRenderer = (params: Partial<TMobileRowRenderer>) => React.ReactNode;\n\ntype TDataListRow = {\n    action_desc?: {\n        component: React.ReactNode;\n    };\n    destination_link?: string;\n    row_gap?: number;\n    row_key: string | number;\n    rowRenderer: TRowRenderer;\n    measure?: () => void;\n    is_dynamic_height?: boolean;\n    is_new_row: boolean;\n    is_scrolling: boolean;\n    passthrough?: TPassThrough;\n    row: TSource;\n};\n\nconst DataListRow = ({\n    action_desc,\n    destination_link,\n    row_gap,\n    row_key,\n    rowRenderer,\n    measure,\n    is_dynamic_height,\n    ...other_props\n}: TDataListRow) => {\n    const [show_description, setShowDescription] = React.useState(false);\n    const isMounted = useIsMounted();\n    const debouncedHideDetails = useDebounce(() => setShowDescription(false), 5000);\n\n    const toggleDetails = () => {\n        if (action_desc) {\n            setShowDescription(!show_description);\n            debouncedHideDetails();\n        }\n    };\n\n    const toggleDetailsDecorator = (e?: React.MouseEvent<HTMLElement> | React.KeyboardEvent<HTMLElement>) => {\n        clickAndKeyEventHandler(toggleDetails, e);\n    };\n\n    React.useEffect(() => {\n        if (isMounted() && is_dynamic_height) {\n            measure?.();\n        }\n    }, [show_description, is_dynamic_height, measure]);\n\n    return (\n        <div className='data-list__row--wrapper' style={{ paddingBottom: `${row_gap || 0}px` }}>\n            {destination_link ? (\n                <NavLink\n                    className='data-list__item--wrapper'\n                    id={`dt_reports_contract_${row_key}`}\n                    to={{\n                        pathname: destination_link,\n                        state: {\n                            from_table_row: true,\n                        },\n                    }}\n                >\n                    <div className='data-list__item'>{rowRenderer({ measure, ...other_props })}</div>\n                </NavLink>\n            ) : (\n                <div\n                    className={classNames('data-list__item--wrapper', {\n                        'data-list__item--dynamic-height-wrapper': is_dynamic_height,\n                    })}\n                >\n                    {action_desc ? (\n                        <div\n                            className='data-list__item'\n                            onClick={toggleDetailsDecorator}\n                            onKeyDown={toggleDetailsDecorator}\n                        >\n                            {show_description ? (\n                                <div className='data-list__desc--wrapper'>\n                                    {action_desc.component && <div>{action_desc.component}</div>}\n                                </div>\n                            ) : (\n                                rowRenderer({ measure, ...other_props })\n                            )}\n                        </div>\n                    ) : (\n                        <div className='data-list__item'>{rowRenderer({ measure, ...other_props })}</div>\n                    )}\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default React.memo(DataListRow);\n",
            "size_bytes": 3912
        },
        "analysis-tool/Benanalysistool-final-main/components/charts/last-digits-chart.tsx": {
            "content": "\"use client\"\n\ninterface LastDigitsChartProps {\n  digits: number[]\n}\n\nexport function LastDigitsChart({ digits }: LastDigitsChartProps) {\n  const displayDigits = digits.slice(-20)\n\n  const digitColors: Record<number, string> = {\n    0: \"bg-gradient-to-br from-pink-400 to-pink-500\",\n    1: \"bg-gradient-to-br from-indigo-500 to-indigo-600\",\n    2: \"bg-gradient-to-br from-cyan-400 to-cyan-500\",\n    3: \"bg-gradient-to-br from-fuchsia-400 to-fuchsia-500\",\n    4: \"bg-gradient-to-br from-teal-400 to-teal-500\",\n    5: \"bg-gradient-to-br from-blue-500 to-blue-600\",\n    6: \"bg-gradient-to-br from-rose-400 to-rose-500\",\n    7: \"bg-gradient-to-br from-violet-400 to-violet-500\",\n    8: \"bg-gradient-to-br from-yellow-400 to-amber-500\",\n    9: \"bg-gradient-to-br from-purple-500 to-purple-600\",\n  }\n\n  return (\n    <div className=\"w-full\">\n      <div className=\"flex items-center justify-center gap-2 flex-wrap\">\n        {displayDigits.map((digit, index) => (\n          <div\n            key={index}\n            className={`w-10 h-10 sm:w-12 sm:h-12 ${digitColors[digit]} rounded-lg flex items-center justify-center shadow-lg transition-transform hover:scale-110`}\n          >\n            <span className=\"text-lg sm:text-xl font-bold text-white\">{digit}</span>\n          </div>\n        ))}\n      </div>\n    </div>\n  )\n}\n",
            "size_bytes": 1314
        },
        "src/components/shared_ui/accordion/accordion.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { usePrevious } from '@/hooks/use-previous';\nimport { LabelPairedMinusCaptionRegularIcon, LabelPairedPlusCaptionRegularIcon } from '@deriv/quill-icons/LabelPaired';\nimport { TAccordionProps } from '../types';\n\nconst Accordion = ({ className, list }: TAccordionProps) => {\n    const [open_idx, setOpenIdx] = React.useState<number | null>(null);\n\n    const prev_list = usePrevious(list);\n\n    React.useEffect(() => {\n        if (prev_list !== list) setOpenIdx(null);\n    }, [list, prev_list]);\n\n    // close if clicking the accordion that's open, otherwise open the new one\n    const onClick = (index: number) => setOpenIdx(index === open_idx ? null : index);\n\n    return (\n        <div className={classNames('dc-accordion__wrapper', className)}>\n            {list.map((item, idx) => (\n                <div\n                    className={classNames(\n                        'dc-accordion__item',\n                        `dc-accordion__item--${open_idx === idx ? 'open' : 'close'}`,\n                        {\n                            [`dc-accordion__item--${idx === 0 ? 'first' : 'last'}`]:\n                                idx === 0 || idx === list.length - 1,\n                        }\n                    )}\n                    key={idx}\n                >\n                    <div className='dc-accordion__item-header' onClick={() => onClick(idx)}>\n                        {item.header}\n                        <div className='dc-accordion__item-header-icon-wrapper'>\n                            {open_idx === idx ? (\n                                <LabelPairedMinusCaptionRegularIcon\n                                    className='dc-accordion__item-header-icon'\n                                    fill='var(--text-general)'\n                                />\n                            ) : (\n                                <LabelPairedPlusCaptionRegularIcon\n                                    className='dc-accordion__item-header-icon'\n                                    fill='var(--text-general)'\n                                />\n                            )}\n                        </div>\n                    </div>\n                    <div className='dc-accordion__item-content'>{item.content}</div>\n                </div>\n            ))}\n        </div>\n    );\n};\n\nexport default Accordion;\n",
            "size_bytes": 2379
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/After Purchase/check_result.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { config } from '../../../../constants/config';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.contract_check_result = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Result is {{ win_or_loss }}', { win_or_loss: '%1' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'CHECK_RESULT',\n                    options: config().lists.CHECK_RESULT,\n                },\n            ],\n            output: 'Boolean',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('True if the result of the last trade matches the selection'),\n            category: window.Blockly.Categories.After_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Last trade result'),\n            description: localize('You can check the result of the last trade with this block.'),\n        };\n    },\n    onchange(event) {\n        if (!this.workspace || window.Blockly.derivWorkspace.isFlyoutVisible || this.workspace.isDragging()) {\n            return;\n        }\n\n        if (\n            event.type === window.Blockly.Events.BLOCK_CREATE ||\n            (event.type === window.Blockly.Events.BLOCK_DRAG && !event.isStart)\n        ) {\n            const top_parent = this.getTopParent();\n\n            if (top_parent) {\n                const is_illegal_root_block = top_parent.isMainBlock() && top_parent.type !== 'after_purchase';\n\n                if (is_illegal_root_block) {\n                    this.setDisabled(true);\n                }\n            }\n        }\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.contract_check_result = block => {\n    const checkWith = block.getFieldValue('CHECK_RESULT');\n\n    const code = `Bot.isResult('${checkWith}')`;\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC];\n};\n",
            "size_bytes": 2303
        },
        "src/components/layout/app-logo/index.tsx": {
            "content": "import { standalone_routes } from '@/components/shared';\nimport { DerivLogo } from '@deriv-com/ui';\nimport './app-logo.scss';\n\nexport const AppLogo = () => {\n    // Always go to the new home dashboard, regardless of login state\n    // Logo now shows on both desktop and mobile\n    return <DerivLogo className='app-header__logo' href={standalone_routes.deriv_app} variant='wallets' />;\n};\n",
            "size_bytes": 388
        },
        "src/components/trade-animation/trade-animation.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { observer } from 'mobx-react-lite';\nimport ContractResultOverlay from '@/components/contract-result-overlay';\nimport { DBOT_TABS } from '@/constants/bot-contents';\nimport { contract_stages } from '@/constants/contract-stage';\nimport { useStore } from '@/hooks/useStore';\nimport { LabelPairedPlayLgFillIcon, LabelPairedSquareLgFillIcon } from '@deriv/quill-icons/LabelPaired';\nimport { Localize, localize } from '@deriv-com/translations';\nimport { useDevice } from '@deriv-com/ui';\nimport { rudderStackSendRunBotEvent } from '../../analytics/rudderstack-common-events';\nimport Button from '../shared_ui/button';\nimport Tooltip from '../shared_ui/tooltip/tooltip';\nimport CircularWrapper from './circular-wrapper';\nimport ContractStageText from './contract-stage-text';\nimport './run-panel-tooltip.scss';\n\ntype TTradeAnimation = {\n    className?: string;\n    should_show_overlay?: boolean;\n};\n\nconst TradeAnimation = observer(({ className, should_show_overlay }: TTradeAnimation) => {\n    const { dashboard, run_panel, summary_card, blockly_store } = useStore();\n    const { active_tab } = dashboard;\n    const { has_active_bot, has_saved_bots } = blockly_store;\n    const { isMobile } = useDevice();\n\n    const { is_contract_completed, profit } = summary_card;\n    const { contract_stage, is_stop_button_visible, is_stop_button_disabled, onRunButtonClick, onStopBotClick } =\n        run_panel;\n    const [shouldDisable, setShouldDisable] = React.useState(false);\n    const is_unavailable_for_payment_agent = false;\n\n    // Get the load_modal store to monitor strategy deletions\n    const { load_modal } = useStore();\n    const { dashboard_strategies, is_delete_modal_open } = load_modal;\n\n    // Track previous state of delete modal to detect when it closes\n    const prevDeleteModalOpen = React.useRef(is_delete_modal_open);\n\n    // Check for saved bots whenever the component renders or when strategies are deleted\n    React.useEffect(() => {\n        const checkBots = async () => {\n            await blockly_store.checkForSavedBots();\n        };\n        checkBots();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [dashboard_strategies, is_delete_modal_open, is_stop_button_visible]);\n\n    // Force re-render when delete modal is closed (which happens after deletion)\n    React.useEffect(() => {\n        // If delete modal was open and is now closed, force a re-check\n        if (prevDeleteModalOpen.current && !is_delete_modal_open) {\n            const checkBotsAfterDelete = async () => {\n                // Small delay to ensure the deletion has completed\n                await new Promise(resolve => setTimeout(resolve, 100));\n                await blockly_store.checkForSavedBots();\n                // Force component to re-render\n                if (!is_stop_button_visible) {\n                    setShouldDisable(true);\n                    setTimeout(() => setShouldDisable(false), 0);\n                }\n            };\n            checkBotsAfterDelete();\n        }\n        // Update ref for next render\n        prevDeleteModalOpen.current = is_delete_modal_open;\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [is_delete_modal_open, is_stop_button_visible]);\n\n    React.useEffect(() => {\n        if (shouldDisable) {\n            setTimeout(() => {\n                setShouldDisable(false);\n            }, 1000);\n        }\n    }, [shouldDisable, is_stop_button_visible]);\n\n    const status_classes = ['', '', ''];\n    const is_purchase_sent = contract_stage === (contract_stages.PURCHASE_SENT as unknown);\n    const is_purchase_received = contract_stage === (contract_stages.PURCHASE_RECEIVED as unknown);\n\n    let progress_status = contract_stage - (is_purchase_sent || is_purchase_received ? 2 : 3);\n\n    if (progress_status >= 0) {\n        if (progress_status < status_classes.length) {\n            status_classes[progress_status] = 'active';\n        }\n\n        if (is_contract_completed) {\n            progress_status += 1;\n        }\n\n        for (let i = 0; i < progress_status - 1; i++) {\n            status_classes[i] = 'completed';\n        }\n    }\n\n    // Check if there are no active or saved bots\n    const has_no_bots = !has_active_bot && !has_saved_bots;\n    const is_bot_builder_tab = active_tab === DBOT_TABS.BOT_BUILDER;\n\n    // Disable the RUN button if:\n    // 1. There are no active or saved bots AND the user is not in the bot builder tab\n    const should_disable_run = has_no_bots && !is_bot_builder_tab;\n\n    const is_disabled = is_stop_button_visible ? false : shouldDisable || should_disable_run;\n\n    // Show the tooltip when:\n    // 1. The user is NOT in the bot builder tab, AND\n    // 2. There are no bots\n    const should_show_tooltip = !is_stop_button_visible && !is_bot_builder_tab && has_no_bots;\n\n    const button_props = React.useMemo(() => {\n        if (is_stop_button_visible && !is_stop_button_disabled) {\n            return {\n                id: 'db-animation__stop-button',\n                class: 'animation__stop-button',\n                text: <Localize i18n_default_text='Stop' />,\n                icon: <LabelPairedSquareLgFillIcon fill='#fff' />,\n            };\n        }\n        return {\n            id: 'db-animation__run-button',\n            class: 'animation__run-button',\n            text: <Localize i18n_default_text='Run' />,\n            icon: <LabelPairedPlayLgFillIcon fill='#fff' />,\n        };\n    }, [is_stop_button_visible, is_stop_button_disabled]);\n    const show_overlay = should_show_overlay && is_contract_completed;\n\n    // Fix TypeScript error by ensuring active_tab is a number\n    // Use a fallback to dashboard if active_tab is undefined\n    const safeActiveTab = typeof active_tab === 'number' ? active_tab : DBOT_TABS.DASHBOARD;\n\n    // Function to determine tooltip alignment based on run panel position\n    const determineTooltipAlignment = (): string => {\n        // Force tooltip to always appear on top for mobile devices\n        if (isMobile) {\n            return 'top';\n        } else {\n            // On desktop, determine based on run panel position\n            try {\n                const runPanelElement = document.querySelector('.run__button_wrapper');\n                if (runPanelElement) {\n                    const rect = runPanelElement.getBoundingClientRect();\n                    // Ensure we have valid numbers for the comparison\n                    const rectBottom = typeof rect.bottom === 'number' ? rect.bottom : 0;\n                    const windowHeight = typeof window.innerHeight === 'number' ? window.innerHeight : 0;\n                    const isNearBottom = rectBottom > windowHeight - 150; // 150px threshold from bottom\n\n                    // If the run panel is near the bottom of the screen, show tooltip on top\n                    // Otherwise, show it on the left\n                    return isNearBottom ? 'top' : 'left';\n                }\n            } catch (error) {\n                console.error('Error determining tooltip position:', error);\n            }\n\n            // Default to left if we can't determine position\n            return 'left';\n        }\n    };\n\n    return (\n        <div className={classNames('animation__wrapper', className)}>\n            {should_show_tooltip ? (\n                <div className='run__button_wrapper'>\n                    <Tooltip\n                        alignment={determineTooltipAlignment()}\n                        message={localize('The Run button is disabled because no Bot has been created yet.')}\n                        icon='info'\n                        className='qs__tooltip'\n                    />\n                    <div style={{ opacity: 0.5, marginLeft: '8px' }}>\n                        <Button\n                            is_disabled={true}\n                            className={button_props.class}\n                            id={button_props.id}\n                            icon={button_props.icon}\n                            onClick={() => {\n                                // Disabled button, no action\n                            }}\n                            has_effect\n                            {...(is_stop_button_visible || !is_unavailable_for_payment_agent\n                                ? { primary: true }\n                                : { green: true })}\n                        >\n                            {button_props.text}\n                        </Button>\n                    </div>\n                </div>\n            ) : (\n                <Button\n                    is_disabled={(is_disabled && !is_unavailable_for_payment_agent) || contract_stage === 3}\n                    className={button_props.class}\n                    id={button_props.id}\n                    icon={button_props.icon}\n                    onClick={() => {\n                        setShouldDisable(true);\n                        if (is_stop_button_visible) {\n                            onStopBotClick();\n                            return;\n                        }\n                        onRunButtonClick();\n                        // Map tab index to proper subpage name\n                        const subpageMap: { [key: number]: 'dashboard' | 'bot_builder' | 'charts' | 'tutorials' } = {\n                            [DBOT_TABS.DASHBOARD]: 'dashboard',\n                            [DBOT_TABS.BOT_BUILDER]: 'bot_builder',\n                            [DBOT_TABS.CHART]: 'charts',\n                            [DBOT_TABS.TUTORIAL]: 'tutorials',\n                        };\n                        rudderStackSendRunBotEvent({ subpage_name: subpageMap[safeActiveTab] });\n                    }}\n                    has_effect\n                    {...(is_stop_button_visible || !is_unavailable_for_payment_agent\n                        ? { primary: true }\n                        : { green: true })}\n                >\n                    {button_props.text}\n                </Button>\n            )}\n            <div\n                className={classNames('animation__container', className, {\n                    'animation--running': contract_stage > 0,\n                    'animation--completed': show_overlay,\n                    'animation--disabled': is_disabled,\n                })}\n            >\n                {show_overlay && <ContractResultOverlay profit={profit} />}\n                <span className='animation__text'>\n                    <ContractStageText contract_stage={contract_stage} />\n                </span>\n                <div className='animation__progress'>\n                    <div className='animation__progress-line'>\n                        <div className={`animation__progress-bar animation__progress-${contract_stage}`} />\n                    </div>\n                    {status_classes.map((status_class, i) => (\n                        <CircularWrapper key={`status_class-${status_class}-${i}`} className={status_class} />\n                    ))}\n                </div>\n            </div>\n        </div>\n    );\n});\n\nexport default TradeAnimation;\n",
            "size_bytes": 11064
        },
        "src/components/shared_ui/text/text.tsx": {
            "content": "import React, { CSSProperties, HTMLProps } from 'react';\nimport classNames from 'classnames';\nimport { isEmptyObject } from '@/components/shared';\n\ntype TTextProps = Omit<HTMLProps<HTMLElement>, 'size'> & {\n    align?: string;\n    weight?: string;\n    lineHeight?: string;\n    styles?: CSSProperties;\n    size?: string;\n};\n\nconst Text = ({\n    children,\n    size = 's',\n    color = 'general',\n    align = 'left',\n    weight = 'normal',\n    lineHeight = 'm',\n    as,\n    className,\n    styles,\n    ...props\n}: TTextProps) => {\n    const class_styles = {\n        '--text-size': `var(--text-size-${size})`,\n        '--text-color': `var(--text-${color})`,\n        '--text-lh': `var(--text-lh-${lineHeight})`,\n        '--text-weight': `var(--text-weight-${weight})`,\n        '--text-align': `var(--text-align-${align})`,\n    };\n    const [style, setStyle] = React.useState(class_styles);\n    React.useEffect(() => {\n        if (!isEmptyObject(styles)) {\n            const combined_style = { ...class_styles, ...styles };\n            setStyle(combined_style);\n        } else {\n            setStyle(class_styles);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [size, color, lineHeight, weight, align]);\n    const class_names = classNames('dc-text', className);\n    return React.createElement(as || 'span', { className: class_names, style, ...props }, children);\n};\n\nexport default Text;\n",
            "size_bytes": 1415
        },
        "src/components/shared/utils/promise/index.ts": {
            "content": "export * from './make-cancellable-promise';\n",
            "size_bytes": 44
        },
        "src/external/bot-skeleton/scratch/blocks/Math/math_single.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../utils';\n\nwindow.Blockly.Blocks.math_single = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2',\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'OP',\n                    options: [\n                        [localize('square root'), 'ROOT'],\n                        [localize('absolute'), 'ABS'],\n                        ['-', 'NEG'],\n                        ['ln', 'LN'],\n                        ['log10', 'LOG10'],\n                        ['e^', 'EXP'],\n                        ['10^', 'POW10'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'NUM',\n                },\n            ],\n            output: 'Number',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Operations on a given number'),\n            category: window.Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Operations on a given number'),\n            description: localize('This block performs the selected operations to a given number.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            NUM: null,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.math_single = block => {\n    const operator = block.getFieldValue('OP');\n\n    let code, arg;\n\n    if (operator === 'NEG') {\n        // Negation is a special case given its different operator precedence.\n        arg =\n            window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n                block,\n                'NUM',\n                window.Blockly.JavaScript.javascriptGenerator.ORDER_UNARY_NEGATION\n            ) || '0';\n        if (arg[0] === '-') {\n            // --3 is not legal in JS\n            arg = ` ${arg}`;\n        }\n        code = `-${arg}`;\n        return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_UNARY_NEGATION];\n    }\n\n    if (['SIN', 'COS', 'TAN'].includes(operator)) {\n        arg =\n            window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n                block,\n                'NUM',\n                window.Blockly.JavaScript.javascriptGenerator.ORDER_DIVISION\n            ) || '0';\n    } else {\n        arg =\n            window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n                block,\n                'NUM',\n                window.Blockly.JavaScript.javascriptGenerator.ORDER_NONE\n            ) || '0';\n    }\n\n    // First, handle cases which generate values that don't need parentheses\n    // wrapping the code.\n    if (operator === 'ABS') {\n        code = `Math.abs(${arg})`;\n    } else if (operator === 'ROOT') {\n        code = `Math.sqrt(${arg})`;\n    } else if (operator === 'LN') {\n        code = `Math.log(${arg})`;\n    } else if (operator === 'EXP') {\n        code = `Math.pow(Math.E, ${arg})`;\n    } else if (operator === 'POW10') {\n        code = `Math.pow(10, ${arg})`;\n    } else if (operator === 'ROUND') {\n        code = `Math.round(${arg})`;\n    } else if (operator === 'ROUNDUP') {\n        code = `Math.ceil(${arg})`;\n    } else if (operator === 'ROUNDDOWN') {\n        code = `Math.floor(${arg})`;\n    } else if (operator === 'SIN') {\n        code = `Math.sin(${arg} / 180 * Math.PI)`;\n    } else if (operator === 'COS') {\n        code = `Math.cos(${arg} / 180 * Math.PI)`;\n    } else if (operator === 'TAN') {\n        code = `Math.tan(${arg} / 180 * Math.PI)`;\n    }\n\n    if (code) {\n        return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_FUNCTION_CALL];\n    }\n\n    // Second, handle cases which generate values that may need parentheses\n    // wrapping the code.\n    if (operator === 'LOG10') {\n        code = `Math.log(${arg}) / Math.log(10)`;\n    } else if (operator === 'ASIN') {\n        code = `Math.asin(${arg}) / Math.PI * 180`;\n    } else if (operator === 'ACOS') {\n        code = `Math.acos(${arg}) / Math.PI * 180`;\n    } else if (operator === 'ATAN') {\n        code = `Math.atan(${arg}) / Math.PI * 180`;\n    }\n\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_DIVISION];\n};\n",
            "size_bytes": 4599
        },
        "src/components/shared_ui/mobile-dialog/mobile-dialog.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport ReactDOM from 'react-dom';\nimport { CSSTransition } from 'react-transition-group';\nimport { LegacyClose1pxIcon } from '@deriv/quill-icons/Legacy';\nimport Div100vhContainer from '../div100vh-container';\nimport Text from '../text/text';\nimport ThemedScrollbars from '../themed-scrollbars';\n\ntype TMobileDialog = {\n    content_height_offset?: string;\n    footer?: React.ReactNode;\n    has_content_scroll?: boolean;\n    has_close_icon?: boolean;\n    has_full_height?: boolean;\n    header_classname?: string;\n    info_banner?: React.ReactNode;\n    onClose?: React.MouseEventHandler;\n    portal_element_id: string;\n    renderTitle?: () => string;\n    title?: React.ReactNode;\n    visible?: boolean;\n    wrapper_classname?: string;\n    learn_more_banner?: React.ReactNode;\n};\n\nconst MobileDialog = (props: React.PropsWithChildren<TMobileDialog>) => {\n    const {\n        children,\n        footer,\n        has_close_icon = true,\n        has_full_height,\n        header_classname,\n        info_banner,\n        portal_element_id,\n        renderTitle,\n        title,\n        visible,\n        wrapper_classname,\n        learn_more_banner,\n    } = props;\n\n    const footer_ref = React.useRef<HTMLDivElement>(null);\n    const [footer_height, setHeight] = React.useState(0);\n    React.useLayoutEffect(() => {\n        if (footer_ref.current && !footer_height) {\n            setHeight(footer_ref.current.offsetHeight);\n        }\n    }, [footer, footer_height]);\n\n    const portal_element = document.getElementById(portal_element_id);\n\n    const checkVisibility = () => {\n        if (props.visible) {\n            document.body.style.overflow = 'hidden';\n            if (portal_element) portal_element.style.overflow = 'hidden';\n        } else {\n            document.body.style.overflow = 'unset';\n            if (portal_element) portal_element.style.overflow = 'unset';\n        }\n    };\n\n    const scrollToElement = (parent: HTMLInputElement, el: HTMLInputElement) => {\n        const viewport_offset = el.getBoundingClientRect();\n        const hidden = viewport_offset.top + el.clientHeight + 20 > window.innerHeight;\n        if (hidden) {\n            const new_el_top = (window.innerHeight - el.clientHeight) / 2;\n            parent.scrollTop += viewport_offset.top - new_el_top;\n        }\n    };\n\n    // sometimes input is covered by virtual keyboard on mobile chrome, uc browser\n    const handleClick = (e: React.MouseEvent<HTMLInputElement>) => {\n        const target = e.target as HTMLInputElement;\n        if (target.tagName !== 'A') e.stopPropagation();\n        if (target.tagName === 'INPUT' && target.type === 'number') {\n            const scrollToTarget = () => scrollToElement(e.currentTarget, target);\n            window.addEventListener('resize', scrollToTarget, false);\n\n            // remove listener, resize is not fired on iOS safari\n            window.setTimeout(() => {\n                window.removeEventListener('resize', scrollToTarget, false);\n            }, 2000);\n        }\n    };\n\n    checkVisibility();\n    if (!portal_element) return null;\n    return ReactDOM.createPortal(\n        <CSSTransition\n            appear\n            in={visible}\n            timeout={250}\n            classNames={{\n                enter: 'dc-mobile-dialog--enter',\n                enterDone: 'dc-mobile-dialog--enter-done',\n                exit: 'dc-mobile-dialog--exit',\n            }}\n            unmountOnExit\n        >\n            <div data-testid='dt_mobile_dialog' className='dc-mobile-dialog' onClick={handleClick}>\n                <Div100vhContainer\n                    className={classNames('dc-mobile-dialog__container', {\n                        'dc-mobile-dialog__container--has-scroll': props.has_content_scroll,\n                        'dc-mobile-dialog__container--has-info-banner': info_banner || learn_more_banner,\n                    })}\n                    height_offset={props.content_height_offset || '8px'}\n                >\n                    <ThemedScrollbars\n                        is_bypassed={!info_banner && !learn_more_banner}\n                        is_scrollbar_hidden\n                        className={\n                            info_banner || learn_more_banner\n                                ? classNames('dc-mobile-dialog__header-wrapper', header_classname)\n                                : ''\n                        }\n                    >\n                        <div\n                            className={classNames(\n                                'dc-mobile-dialog__header',\n                                !info_banner && !learn_more_banner && header_classname\n                            )}\n                        >\n                            <Text\n                                as='h2'\n                                size='xs'\n                                color='prominent'\n                                weight='bold'\n                                lineHeight='unset'\n                                className='dc-mobile-dialog__title'\n                            >\n                                {renderTitle ? renderTitle() : title}\n                            </Text>\n                            {has_close_icon && (\n                                <div\n                                    data-testid='dt_dc_mobile_dialog_close_btn'\n                                    className='icons dc-btn-close dc-mobile-dialog__close-btn'\n                                    onClick={props.onClose}\n                                >\n                                    <LegacyClose1pxIcon\n                                        className='dc-mobile-dialog__close-btn-icon'\n                                        height='20px'\n                                        width='20px'\n                                    />\n                                </div>\n                            )}\n                        </div>\n                        {info_banner}\n                        {learn_more_banner}\n                    </ThemedScrollbars>\n                    <div\n                        className={classNames('dc-mobile-dialog__content', {\n                            'dc-mobile-dialog__content--is-full-height': has_full_height,\n                        })}\n                        style={footer_height ? { height: `calc(100% - ${footer_height}px)` } : undefined}\n                    >\n                        <div\n                            className={classNames({\n                                [`dc-mobile-dialog__${wrapper_classname}`]: wrapper_classname,\n                            })}\n                        >\n                            {children}\n                        </div>\n                    </div>\n                    {footer && (\n                        <div ref={footer_ref} className='dc-mobile-dialog__footer'>\n                            {footer}\n                        </div>\n                    )}\n                </Div100vhContainer>\n            </div>\n        </CSSTransition>,\n        portal_element\n    );\n};\n\nexport default MobileDialog;\n",
            "size_bytes": 7089
        },
        "src/utils/auth-utils.ts": {
            "content": "import { removeSessionToken } from '@/utils/session-token-utils';\n\n/**\n * Utility functions for authentication-related operations\n */\n\n/**\n * Clears authentication data from local storage and reloads the page\n */\nexport const clearAuthData = () => {\n    localStorage.removeItem('authToken');\n    localStorage.removeItem('active_loginid');\n    localStorage.removeItem('client.country');\n    removeSessionToken();\n    localStorage.removeItem('account_type'); // Clear account type when clearing auth data\n    localStorage.removeItem('accountsList');\n    localStorage.removeItem('clientAccounts');\n    localStorage.removeItem('callback_token');\n};\n",
            "size_bytes": 645
        },
        "src/components/load-modal/local.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { observer } from 'mobx-react-lite';\nimport Button from '@/components/shared_ui/button';\nimport { useStore } from '@/hooks/useStore';\nimport { DerivLightLocalDeviceIcon, DerivLightMyComputerIcon } from '@deriv/quill-icons/Illustration';\nimport { LegacyClose1pxIcon, LegacyInfo1pxIcon } from '@deriv/quill-icons/Legacy';\nimport { Localize, localize } from '@deriv-com/translations';\nimport { useDevice } from '@deriv-com/ui';\nimport { botNotification } from '../bot-notification/bot-notification';\nimport { notification_message } from '../bot-notification/bot-notification-utils';\nimport LocalFooter from './local-footer';\nimport SectionMessage from './section-message';\nimport WorkspaceControl from './workspace-control';\n\nconst LocalComponent = observer(() => {\n    const { dashboard, load_modal, blockly_store } = useStore();\n    const { active_tab, active_tour } = dashboard;\n    const { handleFileChange, loaded_local_file, setLoadedLocalFile, imported_strategy_type, is_open_button_loading } =\n        load_modal;\n\n    const file_input_ref = React.useRef<HTMLInputElement>(null);\n    const [is_file_supported, setIsFileSupported] = React.useState(true);\n    const { isDesktop } = useDevice();\n    const { is_loading } = blockly_store;\n\n    React.useEffect(() => {\n        if (loaded_local_file && is_file_supported && imported_strategy_type !== 'pending' && !is_loading) {\n            if (imported_strategy_type === 'old') {\n                botNotification(notification_message().strategy_conversion, undefined, {\n                    closeButton: false,\n                });\n            }\n        }\n    }, [loaded_local_file, is_file_supported, imported_strategy_type, is_open_button_loading, is_loading]);\n\n    if (loaded_local_file && is_file_supported) {\n        return (\n            <div className='load-strategy__container load-strategy__container--has-footer'>\n                <div\n                    className={classNames('load-strategy__local-preview', {\n                        'load-strategy__local-preview--active': active_tab === 1 && active_tour,\n                    })}\n                >\n                    <div className='load-strategy__title'>\n                        <Localize i18n_default_text='Preview' />\n                    </div>\n                    <div className='load-strategy__preview-workspace'>\n                        <div id='load-strategy__blockly-container' style={{ height: '100%' }}>\n                            <div className='load-strategy__local-preview-close'>\n                                <LegacyClose1pxIcon\n                                    onClick={() => {\n                                        setLoadedLocalFile(null);\n                                    }}\n                                    data-testid='dt_load-strategy__local-preview-close'\n                                    height='20px'\n                                    width='20px'\n                                />\n                            </div>\n                            <WorkspaceControl />\n                        </div>\n                    </div>\n                </div>\n                {!isDesktop && (\n                    <div className='load-strategy__local-footer'>\n                        <LocalFooter />\n                    </div>\n                )}\n            </div>\n        );\n    }\n\n    return (\n        <div className='load-strategy__container'>\n            <div className='load-strategy__local-dropzone'>\n                <input\n                    type='file'\n                    ref={file_input_ref}\n                    accept='application/xml, text/xml'\n                    style={{ display: 'none' }}\n                    onChange={e => {\n                        const is_supported = handleFileChange(e, false);\n                        !is_supported &&\n                            botNotification(notification_message().xml_import_error, undefined, {\n                                className: 'error-toast',\n                            });\n                        setIsFileSupported(is_supported);\n                    }}\n                    data-testid='dt-load-strategy-file-input'\n                />\n\n                <SectionMessage\n                    message={localize(\n                        'Importing XML files from Binary Bot and other third-party platforms may take longer.'\n                    )}\n                    icon={<LegacyInfo1pxIcon fill='#e18d00' iconSize='xs' />}\n                    className='load-strategy__section_message'\n                />\n\n                <div\n                    data-testid='dt__local-dropzone-area'\n                    className='load-strategy__local-dropzone-area'\n                    onDrop={e => {\n                        handleFileChange(e, false);\n                    }}\n                >\n                    {!isDesktop ? (\n                        <DerivLightLocalDeviceIcon height='96px' width='96px' className='load-strategy__local-icon' />\n                    ) : (\n                        <React.Fragment>\n                            <DerivLightMyComputerIcon\n                                height='128px'\n                                width='128px'\n                                className='load-strategy__local-icon'\n                            />\n                            <div className='load-strategy__local-title'>\n                                <Localize i18n_default_text='Drag your XML file here' />\n                            </div>\n                            <div className='load-strategy__local-description'>\n                                <Localize i18n_default_text='or, if you prefer...' />\n                            </div>\n                        </React.Fragment>\n                    )}\n                    <Button\n                        text={\n                            is_file_supported\n                                ? localize('Select an XML file from your device')\n                                : localize('Please upload an XML file')\n                        }\n                        data-testid='dt_load-strategy__local-upload'\n                        onClick={() => file_input_ref?.current?.click()}\n                        has_effect\n                        primary\n                        large\n                    />\n                </div>\n            </div>\n        </div>\n    );\n});\n\nexport default LocalComponent;\n",
            "size_bytes": 6439
        },
        "src/hooks/useModalManager.ts": {
            "content": "import { useEffect } from 'react';\nimport { useEventListener, useMap } from 'usehooks-ts';\nimport { useDevice } from '@deriv-com/ui';\nimport useQueryString from './useQueryString';\n\ntype TUseModalManagerConfig = {\n    shouldReinitializeModals?: boolean;\n};\n\ntype TShowModalOptions = {\n    shouldClearPreviousModals?: boolean;\n    shouldStackModals?: boolean;\n};\n\ntype THideModalOptions = {\n    shouldHideAllModals?: boolean;\n    shouldHidePreviousModals?: boolean;\n};\n\nconst MODAL_QUERY_SEPARATOR = ',';\n\n/**\n * Hook to manage states for showing/hiding multiple modals\n * Use this hook when you are managing more than 1 modal to show/hide\n *\n * @example\n * ```\n * const {isModalOpenFor, showModal} = useModalManager()\n *\n * return (\n *      <>\n *          <ModalA isOpen={isModalOpenFor('ModalA')} />\n *          <ModalB isOpen={isModalOpenFor('ModalB')} />\n *          <button onClick={() => showModal('ModalA')}>...</button>\n *      </>\n * )\n * ```\n */\nexport default function useModalManager(config?: TUseModalManagerConfig) {\n    const { deleteQueryString, queryString, setQueryString } = useQueryString();\n    const { isDesktop } = useDevice();\n\n    const [isModalOpenScopes, actions] = useMap();\n\n    const syncModalParams = () => {\n        if (!queryString.modal) actions.setAll([]);\n\n        if (config?.shouldReinitializeModals !== undefined && config.shouldReinitializeModals === false) {\n            deleteQueryString('modal');\n        } else {\n            // sync modal query string in the URL with the initial modal open scopes\n            const modalHash = queryString.modal;\n            if (modalHash) {\n                const modalKeys = modalHash.split(MODAL_QUERY_SEPARATOR);\n                const currentModal = modalKeys.slice(-1)[0];\n                actions.setAll([]);\n                modalKeys.forEach(modalKey => {\n                    actions.set(modalKey, !isDesktop);\n                });\n                actions.set(currentModal, true);\n            }\n        }\n    };\n\n    useEffect(() => {\n        // only sync the modal open states with the URL params when initial mount...\n        syncModalParams();\n    }, []);\n\n    useEffect(() => {\n        if (!queryString?.modal) actions.reset();\n    }, [queryString?.modal]);\n\n    // ...or when the user clicks the back button\n    useEventListener('popstate', () => {\n        syncModalParams();\n    });\n\n    const hideModal = (options?: THideModalOptions) => {\n        const modalHash = queryString.modal;\n\n        if (modalHash) {\n            let modalIds = modalHash.split(MODAL_QUERY_SEPARATOR);\n            if (options?.shouldHideAllModals) {\n                isModalOpenScopes.forEach((_, key) => {\n                    actions.set(key, false);\n                    deleteQueryString('modal');\n                });\n            } else if (options?.shouldHidePreviousModals) {\n                if (modalIds.length > 1) {\n                    const firstModalId = modalIds.shift();\n                    modalIds.forEach(modalId => {\n                        actions.set(modalId, false); // Hide each modal except the first\n                    });\n                    modalIds = [firstModalId ?? '']; // Reset modalIds to only contain the first modal ID\n\n                    setQueryString({\n                        modal: firstModalId,\n                    });\n                } else if (modalIds.length === 1) {\n                    setQueryString({\n                        modal: modalIds[0],\n                    });\n                } else {\n                    deleteQueryString('modal');\n                }\n            } else {\n                const currentModalId = modalIds.pop();\n                const previousModalId = modalIds.slice(-1)[0];\n                if (previousModalId) {\n                    actions.set(currentModalId, false);\n                    actions.set(previousModalId, true);\n                } else {\n                    actions.set(currentModalId, false);\n                }\n                if (modalIds.length === 0) {\n                    deleteQueryString('modal');\n                } else {\n                    setQueryString({\n                        modal: modalIds.join(MODAL_QUERY_SEPARATOR),\n                    });\n                }\n            }\n        }\n    };\n\n    /**\n     * Keep the previous modal ids in the URL query strings separated by ','\n     * This way, when there is a new modal to be shown, we can track the previous modals from the query string based on the last 2 segments\n     *\n     * Example:\n     * - ModalA is shown, URL becomes /...?modal=ModalA (current modal is ModalA, there is no previous modal)\n     * - ModalB is shown next, URL becomes /...?modal=ModalA,ModalB (current modal is ModalB, previous modal is ModalA)\n     * - ModalC is shown next, URL becomes /...?modal=ModalA,ModalB,ModalC (current modal is ModalC, previous modal is ModalB)\n     * - ModalC is closed, URL becomes becomes /...?modal=modalA,ModalB (current modal is ModalB, previous modal is ModalA)\n     */\n    const showModal = (modalId: string, options?: TShowModalOptions) => {\n        const modalHash = queryString.modal;\n\n        if (modalHash) {\n            const modalIds = modalHash.split(MODAL_QUERY_SEPARATOR);\n            const currentModalId = modalIds.slice(-1)[0];\n\n            if (currentModalId === modalId) return;\n            // If shouldStackModals is false, clear the modal stack\n            if (options?.shouldStackModals === false) {\n                actions.set(currentModalId, false);\n            } else {\n                // set the previous modal open state to false if shouldStackModals is false, otherwise set it to true (default true for mobile)\n                // set the new modal open state to true\n                actions.set(currentModalId, options?.shouldStackModals || !isDesktop);\n            }\n            actions.set(modalId, true);\n            // push the state of the new modal to the hash\n            modalIds.push(modalId);\n            setQueryString({\n                modal: options?.shouldClearPreviousModals ? modalId : modalIds.join(MODAL_QUERY_SEPARATOR),\n            });\n        } else {\n            actions.set(modalId, true);\n            setQueryString({\n                modal: modalId,\n            });\n        }\n    };\n\n    const isModalOpenFor = (modalKey: string) => {\n        return isModalOpenScopes.get(modalKey) || false;\n    };\n\n    return {\n        hideModal,\n        isModalOpenFor,\n        showModal,\n    };\n}\n",
            "size_bytes": 6456
        },
        "analysis-tool/Benanalysistool-final-main/components/ui/label.tsx": {
            "content": "'use client'\n\nimport * as React from 'react'\nimport * as LabelPrimitive from '@radix-ui/react-label'\n\nimport { cn } from '@/lib/utils'\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n",
            "size_bytes": 612
        },
        "src/pages/bot-builder/toolbar/toolbar.tsx": {
            "content": "import React from 'react';\nimport { observer } from 'mobx-react-lite';\nimport Dialog from '@/components/shared_ui/dialog';\nimport { useStore } from '@/hooks/useStore';\nimport { Localize, localize } from '@deriv-com/translations';\nimport { useDevice } from '@deriv-com/ui';\nimport { rudderStackSendOpenEvent } from '../../../analytics/rudderstack-common-events';\nimport ToolbarButton from './toolbar-button';\nimport WorkspaceGroup from './workspace-group';\n\nconst Toolbar = observer(() => {\n    const { run_panel, toolbar, quick_strategy } = useStore();\n    const { isDesktop } = useDevice();\n    const { is_dialog_open, closeResetDialog, onResetOkButtonClick: onOkButtonClick } = toolbar;\n    const { is_running } = run_panel;\n    const { setFormVisibility } = quick_strategy;\n    const confirm_button_text = is_running ? localize('Yes') : localize('OK');\n    const cancel_button_text = is_running ? localize('No') : localize('Cancel');\n    const handleQuickStrategyOpen = () => {\n        setFormVisibility(true);\n        rudderStackSendOpenEvent({\n            subpage_name: 'bot_builder',\n            subform_source: 'bot_builder',\n            subform_name: 'quick_strategy',\n        });\n    };\n    return (\n        <React.Fragment>\n            <div className='toolbar dashboard__toolbar' data-testid='dt_dashboard_toolbar'>\n                <div className='toolbar__section'>\n                    {!isDesktop && (\n                        <ToolbarButton\n                            popover_message={localize('Click here to start building your Deriv Bot.')}\n                            button_id='db-toolbar__get-started-button'\n                            button_classname='toolbar__btn toolbar__btn--icon toolbar__btn--start'\n                            buttonOnClick={handleQuickStrategyOpen}\n                            button_text={localize('Quick strategy')}\n                            is_bot_running={is_running}\n                        />\n                    )}\n                    {isDesktop && <WorkspaceGroup />}\n                </div>\n            </div>\n            {!isDesktop && <WorkspaceGroup />}\n            <Dialog\n                portal_element_id='modal_root'\n                title={localize('Are you sure?')}\n                is_visible={is_dialog_open}\n                confirm_button_text={confirm_button_text}\n                onConfirm={onOkButtonClick}\n                cancel_button_text={cancel_button_text}\n                onCancel={closeResetDialog}\n                is_mobile_full_width={false}\n                className={'toolbar__dialog'}\n                has_close_icon\n            >\n                {is_running ? (\n                    <Localize\n                        i18n_default_text='The workspace will be reset to the default strategy and any unsaved changes will be lost. <0>Note: This will not affect your running bot.</0>'\n                        components={[\n                            <div\n                                key={0}\n                                className='toolbar__dialog-text--second'\n                                data-testid='dt_toolbar_dialog_text_second'\n                            />,\n                        ]}\n                    />\n                ) : (\n                    <Localize i18n_default_text='Any unsaved changes will be lost.' />\n                )}\n            </Dialog>\n        </React.Fragment>\n    );\n});\n\nexport default Toolbar;\n",
            "size_bytes": 3413
        },
        "src/utils/url-trade-type-handler.ts": {
            "content": "import { config } from '@/external/bot-skeleton/constants/config';\n\n// Mapping from URL parameter values to internal trade type categories\nconst URL_TO_TRADE_TYPE_MAPPING: Record<string, string> = {\n    // Original mappings\n    rise_equals_fall_equals: 'callput',\n    higher_lower: 'callput',\n    touch_no_touch: 'touchnotouch',\n    in_out: 'inout',\n    digits: 'digits',\n    multiplier: 'multiplier',\n    accumulator: 'accumulator',\n    asian: 'asian',\n    reset: 'reset',\n    high_low_ticks: 'highlowticks',\n    only_ups_downs: 'runs',\n\n    // New mappings from external application identifiers based on your feedback\n    match_diff: 'digits', // Matches/Differs -> digits\n    even_odd: 'digits', // Even/Odd -> digits\n    over_under: 'digits', // Over/Under -> digits\n    rise_fall: 'callput', // Rise/Fall -> updown (callput)\n    high_low: 'callput', // Higher/Lower -> updown (callput)\n    high_tick: 'highlowticks', // High Tick/Low Tick -> first dropdown only\n    accumulators: 'accumulator', // Accumulators -> first dropdown only\n    only_up_only_down: 'runs', // Only Ups/Only Downs -> first dropdown only\n    touch: 'touchnotouch', // Touch/No Touch -> first dropdown only\n    multipliers: 'multiplier', // Multipliers -> first dropdown only\n};\n\n// Mapping from URL parameter values to specific trade types within categories\nconst URL_TO_SPECIFIC_TRADE_TYPE_MAPPING: Record<string, string> = {\n    // Original mappings\n    rise_equals_fall_equals: 'callputequal',\n    higher_lower: 'higherlower',\n    touch_no_touch: 'touchnotouch',\n    ends_in_out: 'endsinout',\n    stays_in_out: 'staysinout',\n    matches_differs: 'matchesdiffers',\n    multiplier: 'multiplier',\n    accumulator: 'accumulator',\n    asian_up_down: 'asians',\n    reset_call_put: 'reset',\n    high_low_ticks: 'highlowticks',\n    only_ups_downs: 'runs',\n\n    // New mappings from external application identifiers based on your feedback\n    match_diff: 'matchesdiffers', // Matches/Differs -> digits category\n    even_odd: 'evenodd', // Even/Odd -> digits category\n    over_under: 'overunder', // Over/Under -> digits category\n    rise_fall: 'callput', // Rise/Fall -> updown category\n    high_low: 'higherlower', // Higher/Lower -> updown category\n    high_tick: 'highlowticks', // High Tick/Low Tick -> first dropdown only\n    accumulators: 'accumulator', // Accumulators -> first dropdown only\n    only_up_only_down: 'runs', // Only Ups/Only Downs -> first dropdown only\n    touch: 'touchnotouch', // Touch/No Touch -> first dropdown only\n    multipliers: 'multiplier', // Multipliers -> first dropdown only\n};\n\n/**\n * Interface representing trade type information extracted from URL parameters\n */\nexport interface TradeTypeFromUrl {\n    /** The internal trade type category (e.g., 'digits', 'callput', 'multiplier') */\n    tradeTypeCategory: string;\n    /** The specific trade type within the category (e.g., 'matchesdiffers', 'callput') */\n    tradeType: string;\n    /** Whether the trade type is valid and exists in the configuration */\n    isValid: boolean;\n}\n\n/**\n * Extracts and validates trade type from URL parameters\n * @param urlParam - The trade type parameter from URL (e.g., 'rise_fall', 'higher_lower')\n * @returns Object containing trade type category, specific trade type, and validation status\n */\nexport const getTradeTypeFromUrlParam = (urlParam: string): TradeTypeFromUrl => {\n    if (!urlParam) {\n        return {\n            tradeTypeCategory: '',\n            tradeType: '',\n            isValid: false,\n        };\n    }\n\n    const normalizedParam = urlParam.toLowerCase().trim();\n    const tradeTypeCategory = URL_TO_TRADE_TYPE_MAPPING[normalizedParam];\n    const tradeType = URL_TO_SPECIFIC_TRADE_TYPE_MAPPING[normalizedParam];\n\n    // Validate against the config to ensure the trade type exists\n    const { TRADE_TYPE_CATEGORIES } = config();\n    const isValidCategory = Boolean(tradeTypeCategory && tradeTypeCategory in TRADE_TYPE_CATEGORIES);\n    const isValidTradeType = Boolean(\n        tradeType &&\n            isValidCategory &&\n            TRADE_TYPE_CATEGORIES[tradeTypeCategory as keyof typeof TRADE_TYPE_CATEGORIES].includes(tradeType)\n    );\n\n    return {\n        tradeTypeCategory: tradeTypeCategory || '',\n        tradeType: tradeType || '',\n        isValid: isValidCategory && isValidTradeType,\n    };\n};\n\n/**\n * Gets trade type from current URL parameters\n * @returns TradeTypeFromUrl object or null if no trade type parameter found\n */\nexport const getTradeTypeFromCurrentUrl = (): TradeTypeFromUrl | null => {\n    if (typeof window === 'undefined') return null;\n\n    const urlParams = new URLSearchParams(window.location.search);\n    const tradeTypeParam = urlParams.get('trade_type');\n\n    if (!tradeTypeParam) return null;\n    return getTradeTypeFromUrlParam(tradeTypeParam);\n};\n\n/**\n * Gets all supported URL trade type parameters\n * @returns Array of supported URL parameter values (e.g., ['multipliers', 'match_diff', 'rise_fall'])\n * @example\n * const supportedTypes = getSupportedUrlTradeTypes();\n * // Returns: ['multipliers', 'match_diff', 'rise_fall', ...]\n */\nexport const getSupportedUrlTradeTypes = (): string[] => {\n    return Object.keys(URL_TO_TRADE_TYPE_MAPPING);\n};\n\n/**\n * Validates if a URL trade type parameter is supported\n * @param urlParam - The trade type parameter to validate (case-insensitive)\n * @returns boolean indicating if the parameter is supported\n * @example\n * isValidUrlTradeType('multipliers') // Returns: true\n * isValidUrlTradeType('invalid_type') // Returns: false\n */\nexport const isValidUrlTradeType = (urlParam: string): boolean => {\n    return getSupportedUrlTradeTypes().includes(urlParam.toLowerCase().trim());\n};\n\n/**\n * Gets the display name for a trade type category\n * @param tradeTypeCategory - The internal trade type category (e.g., 'multiplier', 'digits')\n * @returns Localized display name or empty string if not found\n * @example\n * getTradeTypeCategoryDisplayName('multiplier') // Returns: 'Multipliers'\n * getTradeTypeCategoryDisplayName('digits') // Returns: 'Digits'\n */\nexport const getTradeTypeCategoryDisplayName = (tradeTypeCategory: string): string => {\n    const { TRADE_TYPE_CATEGORY_NAMES } = config();\n    return TRADE_TYPE_CATEGORY_NAMES[tradeTypeCategory as keyof typeof TRADE_TYPE_CATEGORY_NAMES] || '';\n};\n",
            "size_bytes": 6300
        },
        "analysis-tool/Benanalysistool-final-main/app/page.tsx": {
            "content": "\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { useDeriv } from \"@/hooks/use-deriv\"\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\nimport { Button } from \"@/components/ui/button\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Moon, Sun, Home } from \"lucide-react\"\nimport { MarketSelector } from \"@/components/market-selector\"\nimport { DigitDistribution } from \"@/components/digit-distribution\"\nimport { ConnectionLogs } from \"@/components/connection-logs\"\nimport { SettingsPanel } from \"@/components/settings-panel\"\nimport { HelpPanel } from \"@/components/help-panel\"\nimport { SignalsTab } from \"@/components/tabs/signals-tab\"\nimport { ProSignalsTab } from \"@/components/tabs/pro-signals-tab\"\nimport { EvenOddTab } from \"@/components/tabs/even-odd-tab\"\nimport { OverUnderTab } from \"@/components/tabs/over-under-tab\"\nimport { MatchesTab } from \"@/components/tabs/matches-tab\"\nimport { DiffersTab } from \"@/components/tabs/differs-tab\"\nimport { RiseFallTab } from \"@/components/tabs/rise-fall-tab\"\nimport { TradingViewTab } from \"@/components/tabs/trading-view-tab\"\nimport { StatisticalAnalysis } from \"@/components/statistical-analysis\"\nimport { LastDigitsChart } from \"@/components/charts/last-digits-chart\"\nimport { LastDigitsLineChart } from \"@/components/charts/last-digits-line-chart\"\nimport { AIAnalysisTab } from \"@/components/tabs/ai-analysis-tab\"\nimport { BotTab } from \"@/components/tabs/bot-tab\"\nimport { SuperSignalsTab } from \"@/components/tabs/super-signals-tab\"\nimport { LoadingScreen } from \"@/components/loading-screen\"\n\nexport default function DerivAnalysisApp() {\n  const [theme, setTheme] = useState<\"light\" | \"dark\">(\"dark\")\n  const [isLoading, setIsLoading] = useState(true)\n  const {\n    connectionStatus,\n    currentPrice,\n    currentDigit,\n    tickCount,\n    analysis,\n    signals,\n    proSignals,\n    symbol,\n    maxTicks,\n    availableSymbols,\n    connectionLogs,\n    changeSymbol,\n    changeMaxTicks,\n    getRecentDigits,\n  } = useDeriv()\n\n  const toggleTheme = () => {\n    const newTheme = theme === \"light\" ? \"dark\" : \"light\"\n    setTheme(newTheme)\n    if (newTheme === \"dark\") {\n      document.documentElement.classList.add(\"dark\")\n    } else {\n      document.documentElement.classList.remove(\"dark\")\n    }\n  }\n\n  useEffect(() => {\n    document.documentElement.classList.add(\"dark\")\n  }, [])\n\n  const recentDigits = getRecentDigits(20)\n  const recent40Digits = getRecentDigits(40)\n  const recent50Digits = getRecentDigits(50)\n  const recent100Digits = getRecentDigits(100)\n\n  const activeSignals = (signals || []).filter((s) => s.status !== \"NEUTRAL\")\n  const powerfulSignalsCount = activeSignals.filter((s) => s.status === \"TRADE NOW\").length\n\n  if (isLoading) {\n    return <LoadingScreen onComplete={() => setIsLoading(false)} />\n  }\n\n  return (\n    <div\n      className={`min-h-screen ${theme === \"dark\" ? \"bg-gradient-to-br from-[#0a0e27] via-[#0f1629] to-[#1a1f3a]\" : \"bg-gradient-to-br from-gray-50 via-white to-gray-100\"}`}\n    >\n      <header\n        className={`border-b ${theme === \"dark\" ? \"border-blue-500/20 bg-[#0a0e27]/80\" : \"border-gray-200 bg-white/80\"} backdrop-blur-md sticky top-0 z-50`}\n      >\n        <div className=\"container mx-auto px-3 sm:px-4 py-3 sm:py-4\">\n          <div className=\"flex items-center justify-between flex-wrap gap-2 sm:gap-3\">\n            <div className=\"flex items-center gap-2 sm:gap-4\">\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                className={\n                  theme === \"dark\"\n                    ? \"text-blue-400 hover:text-blue-300 hover:bg-blue-500/10\"\n                    : \"text-blue-600 hover:text-blue-700 hover:bg-blue-50\"\n                }\n              >\n                <Home className=\"h-5 w-5\" />\n              </Button>\n              <h1\n                className={`text-xl sm:text-2xl md:text-3xl font-bold ${theme === \"dark\" ? \"bg-gradient-to-r from-blue-400 to-cyan-400 bg-clip-text text-transparent\" : \"text-gray-900\"}`}\n              >\n                Bena Analysis Tool\n              </h1>\n            </div>\n\n            <div className=\"flex items-center gap-2 sm:gap-3 flex-wrap\">\n              {availableSymbols.length > 0 && (\n                <MarketSelector\n                  symbols={availableSymbols}\n                  currentSymbol={symbol}\n                  onSymbolChange={changeSymbol}\n                  theme={theme}\n                />\n              )}\n\n              <div className=\"flex items-center gap-2 text-sm\">\n                <span className={theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}>Ticks:</span>\n                <Select value={maxTicks.toString()} onValueChange={(v) => changeMaxTicks(Number.parseInt(v))}>\n                  <SelectTrigger\n                    className={`w-28 sm:w-32 text-sm ${theme === \"dark\" ? \"bg-[#0f1629]/50 border-blue-500/30 text-white hover:bg-[#1a2235]\" : \"bg-white border-gray-300 text-gray-900\"}`}\n                  >\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent\n                    className={theme === \"dark\" ? \"bg-[#0a0e27] border-blue-500/30\" : \"bg-white border-gray-300\"}\n                  >\n                    <SelectItem value=\"25\">25 ticks</SelectItem>\n                    <SelectItem value=\"50\">50 ticks</SelectItem>\n                    <SelectItem value=\"100\">100 ticks</SelectItem>\n                    <SelectItem value=\"150\">150 ticks</SelectItem>\n                    <SelectItem value=\"200\">200 ticks</SelectItem>\n                    <SelectItem value=\"300\">300 ticks</SelectItem>\n                    <SelectItem value=\"500\">500 ticks</SelectItem>\n                    <SelectItem value=\"1000\">1000 ticks</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onClick={toggleTheme}\n                className={\n                  theme === \"dark\"\n                    ? \"text-blue-400 hover:text-blue-300 hover:bg-blue-500/10\"\n                    : \"text-gray-700 hover:text-gray-900 hover:bg-gray-100\"\n                }\n              >\n                {theme === \"light\" ? <Moon className=\"h-5 w-5\" /> : <Sun className=\"h-5 w-5\" />}\n              </Button>\n\n              <div\n                className={`flex items-center gap-2 px-3 sm:px-4 py-2 rounded-lg border ${theme === \"dark\" ? \"bg-gradient-to-r from-blue-500/20 to-cyan-500/20 border-blue-500/30 shadow-[0_0_15px_rgba(59,130,246,0.3)]\" : \"bg-gradient-to-r from-blue-50 to-cyan-50 border-blue-200\"}`}\n              >\n                <span className={`text-sm ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>Price:</span>\n                <span className={`font-bold text-lg sm:text-2xl ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}>\n                  {currentPrice?.toFixed(5) || \"---\"}\n                </span>\n              </div>\n\n              <div\n                className={`flex items-center gap-2 px-3 py-2 rounded-lg border ${theme === \"dark\" ? \"bg-gradient-to-r from-orange-500/20 to-red-500/20 border-orange-500/30 shadow-[0_0_15px_rgba(249,115,22,0.3)]\" : \"bg-gradient-to-r from-orange-50 to-red-50 border-orange-200\"}`}\n              >\n                <span className={`text-sm ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>Digit:</span>\n                {currentDigit !== null ? (\n                  <span className={`text-base font-bold ${theme === \"dark\" ? \"text-orange-400\" : \"text-orange-600\"}`}>\n                    {currentDigit}\n                  </span>\n                ) : (\n                  <span className={`text-base font-bold ${theme === \"dark\" ? \"text-orange-400\" : \"text-orange-600\"}`}>\n                    0\n                  </span>\n                )}\n              </div>\n\n              {connectionStatus === \"connected\" ? (\n                <Badge\n                  className={\n                    theme === \"dark\"\n                      ? \"bg-green-500/20 text-green-400 border-green-500/30 shadow-[0_0_10px_rgba(34,197,94,0.3)] text-sm\"\n                      : \"bg-green-100 text-green-700 border-green-300 text-sm\"\n                  }\n                >\n                  Connected\n                </Badge>\n              ) : connectionStatus === \"reconnecting\" ? (\n                <Badge\n                  variant=\"outline\"\n                  className={\n                    theme === \"dark\"\n                      ? \"border-orange-500 text-orange-400 bg-orange-500/10 text-sm\"\n                      : \"border-orange-400 text-orange-600 bg-orange-50 text-sm\"\n                  }\n                >\n                  Reconnecting\n                </Badge>\n              ) : (\n                <Badge\n                  variant=\"outline\"\n                  className={\n                    theme === \"dark\"\n                      ? \"border-red-500 text-red-400 bg-red-500/10 text-sm\"\n                      : \"border-red-400 text-red-600 bg-red-50 text-sm\"\n                  }\n                >\n                  Disconnected\n                </Badge>\n              )}\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <Tabs defaultValue=\"smart-analysis\" className=\"w-full\">\n        <div\n          className={`border-b ${theme === \"dark\" ? \"border-blue-500/20 bg-[#0a0e27]/60\" : \"border-gray-200 bg-white/60\"} backdrop-blur-sm sticky top-[73px] sm:top-[81px] z-40`}\n        >\n          <div className=\"container mx-auto px-2 sm:px-4\">\n            <TabsList className=\"w-full justify-start bg-transparent border-0 h-auto p-0 gap-0 overflow-x-auto flex-wrap scrollbar-thin scrollbar-thumb-blue-500/50 scrollbar-track-transparent\">\n              {[\n                \"smart-analysis\",\n                \"signals\",\n                \"pro-signals\",\n                \"super-signals\",\n                \"even-odd\",\n                \"over-under\",\n                \"matches\",\n                \"differs\",\n                \"rise-fall\",\n                \"ai-analysis\",\n                \"bot\",\n                \"trading-view\",\n                \"settings\",\n                \"logs\",\n                \"help\",\n              ].map((tab) => (\n                <TabsTrigger\n                  key={tab}\n                  value={tab}\n                  className={`flex-shrink-0 rounded-none border-b-2 border-transparent data-[state=active]:border-cyan-400 data-[state=active]:bg-transparent data-[state=active]:text-cyan-400 data-[state=active]:shadow-[0_2px_10px_rgba(34,211,238,0.3)] px-3 sm:px-4 md:px-6 py-3 text-sm ${theme === \"dark\" ? \"text-gray-400 hover:text-white\" : \"text-gray-600 hover:text-gray-900\"} whitespace-nowrap transition-all capitalize font-medium`}\n                >\n                  {tab.replace(/-/g, \" \")}\n                </TabsTrigger>\n              ))}\n            </TabsList>\n          </div>\n        </div>\n\n        <div className=\"container mx-auto px-2 sm:px-4 py-4 sm:py-8\">\n          {connectionStatus !== \"connected\" ? (\n            <div className=\"text-center py-16 sm:py-32\">\n              <h2\n                className={`text-2xl sm:text-3xl font-bold mb-3 ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}\n              >\n                Connect to View Analysis\n              </h2>\n              <p className={`text-base sm:text-lg ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>\n                Connecting to Deriv API for {symbol}...\n              </p>\n            </div>\n          ) : (\n            <>\n              <TabsContent value=\"smart-analysis\" className=\"mt-0 space-y-4 sm:space-y-6\">\n                <div\n                  className={`rounded-xl p-4 sm:p-6 border text-center ${theme === \"dark\" ? \"bg-gradient-to-br from-[#0f1629]/80 to-[#1a2235]/80 border-blue-500/20 shadow-[0_0_30px_rgba(59,130,246,0.2)]\" : \"bg-white border-gray-200 shadow-lg\"}`}\n                >\n                  <div className={`text-xs sm:text-sm mb-2 ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>\n                    Current Digit:\n                  </div>\n                  {currentDigit !== null ? (\n                    <div\n                      className={`text-4xl sm:text-6xl font-bold animate-pulse ${theme === \"dark\" ? \"bg-gradient-to-r from-orange-400 via-red-400 to-pink-400 bg-clip-text text-transparent\" : \"text-orange-600\"}`}\n                    >\n                      {currentDigit}\n                    </div>\n                  ) : (\n                    <div\n                      className={`text-4xl sm:text-6xl font-bold animate-pulse ${theme === \"dark\" ? \"bg-gradient-to-r from-orange-400 via-red-400 to-pink-400 bg-clip-text text-transparent\" : \"text-orange-600\"}`}\n                    >\n                      0\n                    </div>\n                  )}\n                  <div\n                    className={`text-base sm:text-xl mt-4 font-bold ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}\n                  >\n                    Price: {currentPrice?.toFixed(5) || \"---\"}\n                  </div>\n                </div>\n\n                {analysis && analysis.digitFrequencies && (\n                  <div\n                    className={`rounded-xl p-4 sm:p-8 border ${theme === \"dark\" ? \"bg-gradient-to-br from-[#0f1629]/80 to-[#1a2235]/80 border-blue-500/20 shadow-[0_0_30px_rgba(59,130,246,0.2)]\" : \"bg-white border-gray-200 shadow-lg\"}`}\n                  >\n                    <h3\n                      className={`text-xl sm:text-2xl font-bold mb-4 sm:mb-6 text-center ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}\n                    >\n                      Digits Distribution\n                    </h3>\n                    <DigitDistribution\n                      frequencies={analysis.digitFrequencies}\n                      currentDigit={currentDigit}\n                      theme={theme}\n                    />\n                  </div>\n                )}\n\n                {analysis && recent100Digits.length > 0 && recentDigits.length > 0 && (\n                  <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6\">\n                    <div\n                      className={`rounded-xl p-4 sm:p-6 border ${theme === \"dark\" ? \"bg-gradient-to-br from-[#0f1629]/80 to-[#1a2235]/80 border-blue-500/20 shadow-[0_0_30px_rgba(59,130,246,0.2)]\" : \"bg-white border-gray-200 shadow-lg\"}`}\n                    >\n                      <h3\n                        className={`text-base sm:text-lg font-bold mb-4 ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}\n                      >\n                        Last Digits Line Chart\n                      </h3>\n                      <LastDigitsLineChart digits={recentDigits.slice(-10)} />\n                    </div>\n\n                    <div\n                      className={`rounded-xl p-4 sm:p-6 border ${theme === \"dark\" ? \"bg-gradient-to-br from-[#0f1629]/80 to-[#1a2235]/80 border-blue-500/20 shadow-[0_0_30px_rgba(59,130,246,0.2)]\" : \"bg-white border-gray-200 shadow-lg\"}`}\n                    >\n                      <StatisticalAnalysis analysis={analysis} recentDigits={recent100Digits} theme={theme} />\n                    </div>\n                  </div>\n                )}\n\n                {recentDigits.length > 0 && (\n                  <div\n                    className={`rounded-xl p-4 sm:p-6 border ${theme === \"dark\" ? \"bg-gradient-to-br from-[#0f1629]/80 to-[#1a2235]/80 border-blue-500/20 shadow-[0_0_30px_rgba(59,130,246,0.2)]\" : \"bg-white border-gray-200 shadow-lg\"}`}\n                  >\n                    <h3\n                      className={`text-base sm:text-lg font-bold mb-4 ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}\n                    >\n                      Last 20 Digits Chart\n                    </h3>\n                    <LastDigitsChart digits={recentDigits} />\n                  </div>\n                )}\n\n                {analysis && analysis.digitFrequencies && analysis.powerIndex && (\n                  <div\n                    className={`rounded-xl p-4 sm:p-6 border ${theme === \"dark\" ? \"bg-gradient-to-br from-[#0f1629]/80 to-[#1a2235]/80 border-blue-500/20 shadow-[0_0_30px_rgba(59,130,246,0.2)]\" : \"bg-white border-gray-200 shadow-lg\"}`}\n                  >\n                    <h3\n                      className={`text-base sm:text-lg font-bold mb-4 ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}\n                    >\n                      Frequency Analysis\n                    </h3>\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                      <div\n                        className={`text-center rounded-lg p-3 border ${theme === \"dark\" ? \"bg-green-500/10 border-green-500/30 shadow-[0_0_15px_rgba(34,197,94,0.2)]\" : \"bg-green-50 border-green-200\"}`}\n                      >\n                        <div\n                          className={`text-xs sm:text-sm mb-1 ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}\n                        >\n                          Most Frequent\n                        </div>\n                        <div\n                          className={`text-2xl sm:text-3xl font-bold ${theme === \"dark\" ? \"text-green-400\" : \"text-green-600\"}`}\n                        >\n                          {analysis.powerIndex.strongest}\n                        </div>\n                        <div\n                          className={`mt-1 text-sm sm:text-base font-bold ${theme === \"dark\" ? \"text-green-400\" : \"text-green-600\"}`}\n                        >\n                          {analysis.digitFrequencies[analysis.powerIndex.strongest]?.percentage.toFixed(1)}%\n                        </div>\n                      </div>\n                      <div\n                        className={`text-center rounded-lg p-3 border ${theme === \"dark\" ? \"bg-red-500/10 border-red-500/30 shadow-[0_0_15px_rgba(239,68,68,0.2)]\" : \"bg-red-50 border-red-200\"}`}\n                      >\n                        <div\n                          className={`text-xs sm:text-sm mb-1 ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}\n                        >\n                          Least Frequent\n                        </div>\n                        <div\n                          className={`text-2xl sm:text-3xl font-bold ${theme === \"dark\" ? \"text-red-400\" : \"text-red-600\"}`}\n                        >\n                          {analysis.powerIndex.weakest}\n                        </div>\n                        <div\n                          className={`mt-1 text-sm sm:text-base font-bold ${theme === \"dark\" ? \"text-red-400\" : \"text-red-600\"}`}\n                        >\n                          {analysis.digitFrequencies[analysis.powerIndex.weakest]?.percentage.toFixed(1)}%\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                )}\n\n                {analysis && (\n                  <div\n                    className={`rounded-xl p-4 sm:p-6 border ${theme === \"dark\" ? \"bg-gradient-to-br from-purple-500/10 to-pink-500/10 border-purple-500/30 shadow-[0_0_30px_rgba(168,85,247,0.2)]\" : \"bg-purple-50 border-purple-200 shadow-lg\"}`}\n                  >\n                    <h3\n                      className={`text-base sm:text-lg font-bold mb-4 ${theme === \"dark\" ? \"bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent\" : \"text-purple-900\"}`}\n                    >\n                      Analysis Summary\n                    </h3>\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                      <div\n                        className={`text-center p-4 rounded-lg ${theme === \"dark\" ? \"bg-blue-500/10\" : \"bg-blue-50\"}`}\n                      >\n                        <div\n                          className={`text-2xl sm:text-3xl font-bold ${theme === \"dark\" ? \"text-blue-400\" : \"text-blue-600\"}`}\n                        >\n                          {analysis.totalTicks || 0}\n                        </div>\n                        <div className={`text-xs sm:text-sm ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>\n                          Total Ticks\n                        </div>\n                      </div>\n                      <div\n                        className={`text-center p-4 rounded-lg ${theme === \"dark\" ? \"bg-green-500/10\" : \"bg-green-50\"}`}\n                      >\n                        <div\n                          className={`text-2xl sm:text-3xl font-bold ${theme === \"dark\" ? \"text-green-400\" : \"text-green-600\"}`}\n                        >\n                          {powerfulSignalsCount}\n                        </div>\n                        <div className={`text-xs sm:text-sm ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>\n                          Powerful Signals\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </TabsContent>\n\n              <TabsContent value=\"signals\" className=\"mt-0\">\n                {analysis && <SignalsTab signals={signals} proSignals={proSignals} analysis={analysis} theme={theme} />}\n              </TabsContent>\n\n              <TabsContent value=\"pro-signals\" className=\"mt-0\">\n                {analysis && <ProSignalsTab proSignals={proSignals} analysis={analysis} theme={theme} />}\n              </TabsContent>\n\n              <TabsContent value=\"super-signals\" className=\"mt-0\">\n                {analysis && (\n                  <SuperSignalsTab\n                    analysis={analysis}\n                    currentDigit={currentDigit}\n                    recentDigits={recent100Digits}\n                    theme={theme}\n                  />\n                )}\n              </TabsContent>\n\n              <TabsContent value=\"even-odd\" className=\"mt-0\">\n                {analysis && (\n                  <EvenOddTab\n                    analysis={analysis}\n                    signals={signals}\n                    currentDigit={currentDigit}\n                    currentPrice={currentPrice}\n                    recentDigits={recent40Digits}\n                    theme={theme}\n                  />\n                )}\n              </TabsContent>\n\n              <TabsContent value=\"over-under\" className=\"mt-0\">\n                {analysis && (\n                  <OverUnderTab\n                    analysis={analysis}\n                    signals={signals}\n                    currentDigit={currentDigit}\n                    currentPrice={currentPrice}\n                    recentDigits={recent50Digits}\n                    theme={theme}\n                  />\n                )}\n              </TabsContent>\n\n              <TabsContent value=\"matches\" className=\"mt-0\">\n                {analysis && (\n                  <MatchesTab analysis={analysis} signals={signals} recentDigits={recentDigits} theme={theme} />\n                )}\n              </TabsContent>\n\n              <TabsContent value=\"differs\" className=\"mt-0\">\n                {analysis && (\n                  <DiffersTab analysis={analysis} signals={signals} recentDigits={recentDigits} theme={theme} />\n                )}\n              </TabsContent>\n\n              <TabsContent value=\"rise-fall\" className=\"mt-0\">\n                {analysis && (\n                  <RiseFallTab\n                    analysis={analysis}\n                    signals={signals}\n                    currentPrice={currentPrice}\n                    recentDigits={recent40Digits}\n                    theme={theme}\n                  />\n                )}\n              </TabsContent>\n\n              <TabsContent value=\"ai-analysis\" className=\"mt-0\">\n                {analysis && (\n                  <AIAnalysisTab\n                    analysis={analysis}\n                    currentDigit={currentDigit}\n                    currentPrice={currentPrice}\n                    symbol={symbol}\n                    theme={theme}\n                  />\n                )}\n              </TabsContent>\n\n              <TabsContent value=\"bot\" className=\"mt-0\">\n                <BotTab theme={theme} />\n              </TabsContent>\n\n              <TabsContent value=\"trading-view\" className=\"mt-0\">\n                <TradingViewTab theme={theme} />\n              </TabsContent>\n\n              <TabsContent value=\"settings\" className=\"mt-0\">\n                <SettingsPanel />\n              </TabsContent>\n\n              <TabsContent value=\"logs\" className=\"mt-0\">\n                <ConnectionLogs logs={connectionLogs} />\n              </TabsContent>\n\n              <TabsContent value=\"help\" className=\"mt-0\">\n                <HelpPanel />\n              </TabsContent>\n            </>\n          )}\n        </div>\n      </Tabs>\n\n      <a\n        href=\"https://wa.me/254757722344\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        className={`fixed bottom-6 right-6 z-50 w-14 h-14 sm:w-16 sm:h-16 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110 ${\n          theme === \"dark\"\n            ? \"bg-[#25D366] shadow-[8px_8px_16px_rgba(0,0,0,0.4),-8px_-8px_16px_rgba(255,255,255,0.05)] hover:shadow-[0_0_30px_rgba(37,211,102,0.6)]\"\n            : \"bg-white/20 backdrop-blur-md border border-white/30 shadow-[0_8px_32px_rgba(31,38,135,0.37)] hover:shadow-[0_0_30px_rgba(37,211,102,0.4)]\"\n        }`}\n      >\n        <svg\n          className={`w-8 h-8 sm:w-10 sm:h-10 ${theme === \"dark\" ? \"text-white\" : \"text-[#25D366]\"}`}\n          fill=\"currentColor\"\n          viewBox=\"0 0 24 24\"\n        >\n          <path d=\"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 6.988 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z\" />\n        </svg>\n      </a>\n\n      <footer\n        className={`border-t ${theme === \"dark\" ? \"border-blue-500/20 bg-[#0a0e27]/80\" : \"border-gray-200 bg-white/80\"} backdrop-blur-md mt-8`}\n      >\n        <div className=\"container mx-auto px-4 py-6 sm:py-8\">\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6\">\n            <div className=\"text-center md:text-left\">\n              <h3 className={`text-lg font-bold mb-2 ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}>\n                Bena Analysis Tool\n              </h3>\n              <p className={`text-sm ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>\n                Advanced trading analysis for Deriv markets\n              </p>\n            </div>\n            <div className=\"text-center\">\n              <h3 className={`text-lg font-bold mb-2 ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}>\n                Contact Us\n              </h3>\n              <p className={`text-sm ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>\n                Email: mbuguabenson2020@gmail.com\n              </p>\n              <p className={`text-sm ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>\n                WhatsApp: +254757722344\n              </p>\n            </div>\n            <div className=\"text-center md:text-right\">\n              <h3 className={`text-lg font-bold mb-2 ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}>\n                Follow Us\n              </h3>\n              <p className={`text-sm ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>Twitter | Telegram</p>\n            </div>\n          </div>\n          <div\n            className=\"text-center border-t pt-4\"\n            style={{ borderColor: theme === \"dark\" ? \"rgba(59, 130, 246, 0.2)\" : \"rgba(229, 231, 235, 1)\" }}\n          >\n            <p className={`text-xs sm:text-sm ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>\n               2025 Bena Analysis Tool. All rights reserved.\n            </p>\n            <p className={`text-xs mt-1 ${theme === \"dark\" ? \"text-gray-500\" : \"text-gray-500\"}`}>\n              Trading involves risk. Use signals responsibly.\n            </p>\n          </div>\n        </div>\n      </footer>\n    </div>\n  )\n}\n",
            "size_bytes": 29030
        },
        "src/hooks/useNetworkStatus.ts": {
            "content": "import { useEffect, useState } from 'react';\nimport useNavigatorOnline from './useNavigatorOnline';\n\ntype TStatus = 'blinking' | 'offline' | 'online';\n\nconst useNetworkStatus = () => {\n    const [status, setStatus] = useState<TStatus>('online');\n    const networkStatus = useNavigatorOnline();\n\n    // TODO we need socket connection state from api-hooks whenever it finished we can update this part and check\n    // both navigatorStatus and socket Status\n    // for now we just check the user network status.\n\n    useEffect(() => {\n        if (networkStatus) setStatus('online');\n        else setStatus('offline');\n    }, [networkStatus]);\n\n    return status;\n};\n\nexport default useNetworkStatus;\n",
            "size_bytes": 697
        },
        "src/components/shared/utils/object/object.ts": {
            "content": "/* eslint-disable */\n\nexport const removeObjProperties = (property_arr: string[], { ...obj }) => {\n    property_arr.forEach(property => delete obj[property]);\n    return obj;\n};\n\nexport const filterObjProperties = ({ ...obj }, property_arr: string[]) =>\n    Object.fromEntries(\n        Object.entries(obj)\n            // eslint-disable-next-line no-unused-vars\n            .filter(([key, _]) => property_arr.includes(key))\n    );\n\nexport const isEmptyObject = (obj: any) => {\n    let is_empty = true;\n    if (obj && obj instanceof Object) {\n        Object.keys(obj).forEach(key => {\n            if (Object.prototype.hasOwnProperty.call(obj, key)) is_empty = false;\n        });\n    }\n    return is_empty;\n};\n\nexport const cloneObject = (obj: any) => {\n    if (isEmptyObject(obj)) {\n        return obj;\n    }\n\n    const result = Array.isArray(obj) ? [] : {};\n\n    // Loop through enumerable own properties\n    for (const key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n            result[key] = obj[key];\n        }\n    }\n\n    return result;\n};\n\n// Note that this function breaks on objects with circular references.\nexport const isDeepEqual = (a: any, b: any) => {\n    if (typeof a !== typeof b) {\n        return false;\n    } else if (Array.isArray(a)) {\n        return isEqualArray(a, b);\n    } else if (a && b && typeof a === 'object') {\n        return isEqualObject(a, b);\n    } else if (typeof a === 'number' && typeof b === 'number' && isNaN(a) && isNaN(b)) {\n        return true;\n    }\n    // else\n    return a === b;\n};\n\nexport const isEqualArray = (arr1: any[], arr2: any[]): boolean =>\n    arr1 === arr2 || (arr1.length === arr2.length && arr1.every((value, idx) => isDeepEqual(value, arr2[idx])));\n\nexport const isEqualObject = (obj1: any, obj2: any): boolean =>\n    obj1 === obj2 ||\n    (Object.keys(obj1).length === Object.keys(obj2).length &&\n        Object.keys(obj1).every(key => isDeepEqual(obj1[key], obj2[key])));\n\n// Filters out duplicates in an array of objects by key\nexport const unique = (array: any[], key: string) =>\n    array.filter((e, idx) => array.findIndex((a, i) => (a[key] ? a[key] === e[key] : i === idx)) === idx);\n\nexport const getPropertyValue = (obj: any, k: string | string[]): any => {\n    let keys = k;\n    if (!Array.isArray(keys)) keys = [keys];\n    if (!isEmptyObject(obj) && keys[0] in obj && keys && keys.length > 1) {\n        return getPropertyValue(obj[keys[0]], keys.slice(1));\n    }\n    // else return clone of object to avoid overwriting data\n    return obj ? cloneObject(obj[keys[0]]) : undefined;\n};\n\nexport const removeEmptyPropertiesFromObject = (obj: any) => {\n    const clone = { ...obj };\n\n    Object.getOwnPropertyNames(obj).forEach(key => {\n        if ([undefined, null, ''].includes(obj[key])) {\n            delete clone[key];\n        }\n    });\n\n    return clone;\n};\n\nexport const sequence = (n: number) => Array.from(Array(n).keys());\n\nexport const pick = (source: any, fields: any) => {\n    return fields.reduce((target: any, prop: any) => {\n        if (Object.prototype.hasOwnProperty.call(source, prop)) target[prop] = source[prop];\n        return target;\n    }, {});\n};\n\nexport const findValueByKeyRecursively = (obj: any, key: string) => {\n    let return_value;\n\n    Object.keys(obj).some(obj_key => {\n        const value = obj[obj_key];\n\n        if (obj_key === key) {\n            return_value = obj[key];\n            return true;\n        }\n\n        if (typeof value === 'object') {\n            const nested_value = findValueByKeyRecursively(value, key);\n\n            if (nested_value) {\n                return_value = nested_value;\n                return true;\n            }\n        }\n\n        return false;\n    });\n\n    return return_value;\n};\n\n// Recursively freeze an object (deep freeze)\nexport const deepFreeze = (obj: any) => {\n    Object.getOwnPropertyNames(obj).forEach(key => {\n        const value = obj[key];\n        if (value && typeof value === 'object' && !Object.isFrozen(value)) {\n            deepFreeze(value);\n        }\n    });\n    return Object.freeze(obj);\n};\n",
            "size_bytes": 4073
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Tools/Time/tickdelay.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport DBotStore from '../../../../dbot-store';\nimport { evaluateExpression, modifyContextMenu } from '../../../../utils';\n\nBlockly.Blocks.tick_delay = {\n    init() {\n        this.jsonInit(this.definition());\n        const { client } = DBotStore.instance;\n        if (client && client.is_logged_in) {\n            this.workspace_to_code = Blockly.JavaScript.javascriptGenerator.workspaceToCode(Blockly.derivWorkspace);\n        }\n    },\n    definition() {\n        return {\n            message0: localize('{{ stack_input }} Run after {{ number }} tick(s)', {\n                stack_input: '%1',\n                number: '%2',\n            }),\n            args0: [\n                {\n                    type: 'input_statement',\n                    name: 'TICKDELAYSTACK',\n                },\n                {\n                    type: 'input_value',\n                    name: 'TICKDELAYVALUE',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Run the blocks inside after a given number of ticks'),\n            category: Blockly.Categories.Time,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Tick Delayed run'),\n            description: localize(\n                'This block delays execution for a given number of ticks. You can place any blocks within this block. The execution of other blocks in your strategy will be paused until the instructions in this block are carried out.'\n            ),\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    getRequiredValueInputs() {\n        return {\n            TICKDELAYVALUE: input_value => {\n                const evaluated_result = evaluateExpression(input_value);\n                if (evaluated_result === 'invalid_input') {\n                    // this was done to check if any equation or varible assignment is present in the code.\n                    if (this.workspace_to_code && this.workspace_to_code.includes(input_value)) {\n                        return false;\n                    }\n                    this.error_message = localize('Invalid Input {{ input_value }}.', { input_value });\n                    return true;\n                }\n\n                if (evaluated_result < 0) {\n                    this.error_message = localize('Values cannot be negative. Provided value: {{ input_value }}.', {\n                        input_value,\n                    });\n                    return true;\n                }\n            },\n        };\n    },\n};\n\nBlockly.JavaScript.javascriptGenerator.forBlock.tick_delay = block => {\n    const stack = Blockly.JavaScript.javascriptGenerator.statementToCode(block, 'TICKDELAYSTACK');\n    const ticks_value =\n        Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'TICKDELAYVALUE',\n            Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC\n        ) || '1';\n\n    const code = `Bot.getDelayTickValue(${ticks_value})\\n${stack}\\n`;\n    return code;\n};\n",
            "size_bytes": 3270
        },
        "src/components/draggable/draggable.tsx": {
            "content": "import React, { useEffect, useRef, useState } from 'react';\nimport { LegacyClose1pxIcon } from '@deriv/quill-icons/Legacy';\nimport {\n    calculateHeight,\n    calculateWidth,\n    calculateZindex,\n    DRAGGABLE_CONSTANTS,\n    EXTRA_BOTTOM_RIGHT_SAFETY_MARGIN,\n    SAFETY_MARGIN,\n    TDraggableProps,\n} from './draggable-utils';\nimport './draggable.scss';\n\nconst Draggable: React.FC<TDraggableProps> = ({\n    children,\n    boundary,\n    initialValues = {\n        width: 400,\n        height: 400,\n        xAxis: 0,\n        yAxis: 0,\n    },\n    minWidth = 100,\n    minHeight = 100,\n    enableResizing = false,\n    enableDragging = true,\n    header = '',\n    onClose,\n}) => {\n    const [position, setPosition] = useState({ x: initialValues.xAxis, y: initialValues.yAxis });\n    const [size, setSize] = useState({ width: initialValues.width, height: initialValues.height });\n    const [zIndex, setZIndex] = useState(100);\n\n    const isResizing = useRef(false);\n    const [isDragging, setIsDragging] = useState(false);\n    const draggableRef = useRef<HTMLDivElement>(null);\n    const [boundaryRef, setBoundaryRef] = useState(\n        document.querySelector(boundary ?? DRAGGABLE_CONSTANTS.BODY_REF) as HTMLElement | null\n    );\n\n    useEffect(() => {\n        setSize({ width: initialValues.width, height: initialValues.height });\n        setPosition({ x: initialValues.xAxis, y: initialValues.yAxis });\n    }, [initialValues.height, initialValues.width, initialValues.xAxis, initialValues.yAxis]);\n\n    useEffect(() => {\n        const boundaryEl = document.querySelector(boundary ?? DRAGGABLE_CONSTANTS.BODY_REF) as HTMLElement | null;\n        setBoundaryRef(boundaryEl);\n        calculateZindex({ setZIndex });\n    }, [boundary]);\n\n    const handleMouseDown = (event: React.MouseEvent<HTMLElement, MouseEvent> | null, action: string) => {\n        event?.stopPropagation();\n        calculateZindex({ setZIndex });\n        if (!action) return;\n        const resize_direction = action;\n        isResizing.current = action !== DRAGGABLE_CONSTANTS.MOVE && enableResizing;\n        setIsDragging(action === DRAGGABLE_CONSTANTS.MOVE && enableDragging);\n\n        const boundaryRect = boundaryRef?.getBoundingClientRect();\n        const topOffset = boundaryRef?.offsetTop ?? 0;\n        const leftOffset = boundaryRef?.offsetLeft ?? 0;\n        const initialMouseX = event?.clientX ?? 0;\n        const initialMouseY = event?.clientY ?? 0;\n        const initialWidth = size?.width ?? initialValues.width;\n        const initialHeight = size?.height ?? initialValues.height;\n        const initialX = position?.x ?? 0;\n        const initialY = position?.y ?? 0;\n        const initialSelfRight = draggableRef.current?.getBoundingClientRect()?.right ?? size.width;\n        const initialSelfBottom = draggableRef.current?.getBoundingClientRect()?.bottom ?? size.height;\n\n        let previousStyle = {};\n        const draggableContentBody = draggableRef.current?.querySelector(\n            '#draggable-content-body'\n        ) as HTMLElement | null;\n\n        if (draggableContentBody) {\n            const { style } = draggableContentBody;\n            if (style && style.pointerEvents !== 'none') {\n                previousStyle = { ...style };\n                style.pointerEvents = 'none';\n            }\n        }\n\n        const handleMouseMove = (e: { clientX: number; clientY: number }) => {\n            if (!e) return;\n            const { clientX, clientY } = e;\n            const deltaX = clientX - initialMouseX;\n            const deltaY = clientY - initialMouseY;\n            try {\n                if (isResizing.current) {\n                    handleResize(deltaX, deltaY, clientX, clientY);\n                } else {\n                    handleDrag(deltaX, deltaY);\n                }\n            } catch (error) {\n                handleMouseUp();\n            }\n        };\n\n        const handleResize = (deltaX: number, deltaY: number, clientX: number, clientY: number) => {\n            let newX = position?.x ?? 0;\n            let newY = position?.y ?? 0;\n            let newWidth = initialWidth;\n            let newHeight = initialHeight;\n\n            if (resize_direction.includes(DRAGGABLE_CONSTANTS.RIGHT)) {\n                newWidth += deltaX;\n            } else if (resize_direction.includes(DRAGGABLE_CONSTANTS.LEFT)) {\n                newX = deltaX + initialX;\n                newWidth -= deltaX;\n            }\n\n            if (resize_direction.includes(DRAGGABLE_CONSTANTS.BOTTOM)) {\n                newHeight += deltaY;\n            } else if (resize_direction.includes(DRAGGABLE_CONSTANTS.TOP)) {\n                newY = deltaY + initialY;\n                newHeight -= deltaY;\n            }\n\n            setPosition(prev => {\n                const maxY = Math.max(newY, topOffset + SAFETY_MARGIN);\n                const maxX = Math.max(newX, leftOffset + SAFETY_MARGIN);\n                return { x: newWidth <= minWidth ? prev.x : maxX, y: newHeight <= minHeight ? prev.y : maxY };\n            });\n\n            const self = draggableRef.current?.getBoundingClientRect();\n\n            setSize(prev => ({\n                width: calculateWidth({\n                    prevWidth: prev.width,\n                    leftOffset,\n                    boundaryRect,\n                    initialSelfRight,\n                    resize_direction,\n                    newWidth,\n                    minWidth,\n                    clientX,\n                    self,\n                }),\n                height: calculateHeight({\n                    prevHeight: prev.height,\n                    topOffset,\n                    boundaryRect,\n                    initialSelfBottom,\n                    resize_direction,\n                    newHeight,\n                    minHeight,\n                    clientY,\n                    self,\n                }),\n            }));\n        };\n\n        const handleDrag = (deltaX: number, deltaY: number) => {\n            const newX = deltaX + initialX;\n            const newY = deltaY + initialY;\n            const boundedX = Math.min(\n                Math.max(newX, leftOffset + SAFETY_MARGIN),\n                leftOffset +\n                    (boundaryRect?.width ?? 0) -\n                    size.width -\n                    (SAFETY_MARGIN + EXTRA_BOTTOM_RIGHT_SAFETY_MARGIN * 2)\n            );\n            const boundedY = Math.min(\n                Math.max(newY, topOffset + SAFETY_MARGIN),\n                topOffset +\n                    (boundaryRect?.height ?? 0) -\n                    size.height -\n                    (SAFETY_MARGIN + EXTRA_BOTTOM_RIGHT_SAFETY_MARGIN * 2)\n            );\n            setPosition({ x: boundedX, y: boundedY });\n        };\n\n        const handleMouseUp = () => {\n            setIsDragging(false);\n            isResizing.current = false;\n            if (draggableContentBody?.style) {\n                try {\n                    Object.assign(draggableContentBody.style, previousStyle);\n                } catch {\n                    draggableContentBody.style.pointerEvents = 'unset';\n                }\n            }\n            if (boundaryRef) {\n                window.removeEventListener('mousemove', handleMouseMove);\n                window.removeEventListener('mouseup', handleMouseUp);\n            }\n        };\n\n        if (boundaryRef) {\n            window.addEventListener('mousemove', handleMouseMove);\n            window.addEventListener('mouseup', handleMouseUp);\n        }\n    };\n\n    return (\n        <div\n            className={`draggable ${isDragging ? 'dragging' : ''}`}\n            style={{ position: 'absolute', top: position.y, left: position.x, zIndex }}\n            onMouseDown={() => calculateZindex({ setZIndex })}\n            onKeyDown={() => calculateZindex({ setZIndex })}\n            data-testid='dt_react_draggable'\n            tabIndex={0}\n        >\n            <div\n                ref={draggableRef}\n                className='draggable-content'\n                data-testid='dt_react_draggable_content'\n                style={{ width: size.width, height: size.height }}\n            >\n                <div\n                    id='draggable-content__header'\n                    data-testid='dt_react_draggable_handler'\n                    className='draggable-content__header'\n                    onMouseDown={e => handleMouseDown(e, DRAGGABLE_CONSTANTS.MOVE)}\n                    onKeyDown={(e: React.KeyboardEvent<HTMLElement>) =>\n                        e.key === 'Enter' && handleMouseDown(null, DRAGGABLE_CONSTANTS.MOVE)\n                    }\n                    tabIndex={0}\n                >\n                    <div className={`draggable-content__header__title`}>{header}</div>\n                    <div\n                        className={`draggable-content__header__close`}\n                        data-testid='dt_react_draggable-close-modal'\n                        onClick={onClose}\n                    >\n                        <LegacyClose1pxIcon\n                            height='20px'\n                            width='20px'\n                            fill='var(--text-general)'\n                            className='icon-general-fill-path'\n                        />\n                    </div>\n                </div>\n                <span className='draggable-content__body' id='draggable-content-body'>\n                    {children}\n                </span>\n                {enableResizing && (\n                    <>\n                        <div\n                            className='resizable-handle__top'\n                            data-testid='dt_resizable-handle__top'\n                            onKeyDown={(e: React.KeyboardEvent<HTMLElement>) =>\n                                e.key === 'Enter' && handleMouseDown(null, DRAGGABLE_CONSTANTS.MOVE)\n                            }\n                            onMouseDown={e => handleMouseDown(e, DRAGGABLE_CONSTANTS.TOP)}\n                            tabIndex={0}\n                        />\n                        <div\n                            className='resizable-handle__right'\n                            data-testid='dt_resizable-handle__right'\n                            onKeyDown={(e: React.KeyboardEvent<HTMLElement>) =>\n                                e.key === 'Enter' && handleMouseDown(null, DRAGGABLE_CONSTANTS.MOVE)\n                            }\n                            onMouseDown={e => handleMouseDown(e, DRAGGABLE_CONSTANTS.RIGHT)}\n                            tabIndex={0}\n                        />\n                        <div\n                            className='resizable-handle__bottom'\n                            data-testid='dt_resizable-handle__bottom'\n                            onKeyDown={(e: React.KeyboardEvent<HTMLElement>) =>\n                                e.key === 'Enter' && handleMouseDown(null, DRAGGABLE_CONSTANTS.MOVE)\n                            }\n                            onMouseDown={e => handleMouseDown(e, DRAGGABLE_CONSTANTS.BOTTOM)}\n                            tabIndex={0}\n                        />\n                        <div\n                            className='resizable-handle__left'\n                            data-testid='dt_resizable-handle__left'\n                            onKeyDown={(e: React.KeyboardEvent<HTMLElement>) =>\n                                e.key === 'Enter' && handleMouseDown(null, DRAGGABLE_CONSTANTS.MOVE)\n                            }\n                            onMouseDown={e => handleMouseDown(e, DRAGGABLE_CONSTANTS.LEFT)}\n                            tabIndex={0}\n                        />\n                        <div\n                            className='resizable-handle__top-right'\n                            data-testid='dt_resizable-handle__top-right'\n                            onKeyDown={(e: React.KeyboardEvent<HTMLElement>) =>\n                                e.key === 'Enter' && handleMouseDown(null, DRAGGABLE_CONSTANTS.MOVE)\n                            }\n                            onMouseDown={e => handleMouseDown(e, DRAGGABLE_CONSTANTS.TOP_RIGHT)}\n                            tabIndex={0}\n                        />\n                        <div\n                            className='resizable-handle__bottom-right'\n                            data-testid='dt_resizable-handle__bottom-right'\n                            onKeyDown={(e: React.KeyboardEvent<HTMLElement>) =>\n                                e.key === 'Enter' && handleMouseDown(null, DRAGGABLE_CONSTANTS.MOVE)\n                            }\n                            onMouseDown={e => handleMouseDown(e, DRAGGABLE_CONSTANTS.BOTTOM_RIGHT)}\n                            tabIndex={0}\n                        />\n                        <div\n                            className='resizable-handle__bottom-left'\n                            data-testid='dt_resizable-handle__bottom-left'\n                            onKeyDown={(e: React.KeyboardEvent<HTMLElement>) =>\n                                e.key === 'Enter' && handleMouseDown(null, DRAGGABLE_CONSTANTS.MOVE)\n                            }\n                            onMouseDown={e => handleMouseDown(e, DRAGGABLE_CONSTANTS.BOTTOM_LEFT)}\n                            tabIndex={0}\n                        />\n                        <div\n                            className='resizable-handle__top-left'\n                            data-testid='dt_resizable-handle__top-left'\n                            onKeyDown={(e: React.KeyboardEvent<HTMLElement>) =>\n                                e.key === 'Enter' && handleMouseDown(null, DRAGGABLE_CONSTANTS.MOVE)\n                            }\n                            onMouseDown={e => handleMouseDown(e, DRAGGABLE_CONSTANTS.TOP_LEFT)}\n                            tabIndex={0}\n                        />\n                    </>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default Draggable;\n",
            "size_bytes": 13844
        },
        "src/pages/bot-builder/quick-strategy/form-wrappers/strategy-list.tsx": {
            "content": "import React from 'react';\nimport Text from '@/components/shared_ui/text';\nimport { Link } from '@deriv-com/quill-ui';\nimport { localize } from '@deriv-com/translations';\nimport {\n    STRATEGY_TRADE_ASSOCIATIONS,\n    TRADE_TYPE_INDEX,\n    TRADE_TYPES,\n    TStrategyTradeAssociations,\n} from './trade-constants';\n\ntype TStrategyListProps = {\n    selector_chip_value: number;\n    search_value: string;\n    is_searching: boolean;\n    onSelectStrategy: (strategy: string, trade_type: string) => void;\n};\ntype TStrategyBlock = {\n    title: string;\n    items: TStrategyTradeAssociations;\n    onSelectStrategy: (strategy: string, trade_type: string) => void;\n};\ntype TStrategyTypes = { type: string; items: TStrategyTradeAssociations }[];\n\nconst StrategyBlock = ({ title, items, onSelectStrategy }: TStrategyBlock) => {\n    return items.length > 0 ? (\n        <div className='strategy-template-picker__strategy'>\n            <div className='strategy-template-picker__title'>\n                <Text size='xs' weight='bold'>\n                    {title}\n                </Text>\n            </div>\n            {items.map((item, index) => (\n                <div className='strategy-template-picker__links' key={index}>\n                    <Link hasChevron size='sm' onClick={() => onSelectStrategy(item.name, title)}>\n                        {item.display_name}\n                    </Link>\n                </div>\n            ))}\n        </div>\n    ) : null;\n};\n\nconst StrategyList = ({ selector_chip_value, search_value, is_searching, onSelectStrategy }: TStrategyListProps) => {\n    const result: TStrategyTradeAssociations = [];\n    let is_parent_match_value = false;\n\n    const filterVisibleParents = (parent: string) => {\n        is_parent_match_value = parent.toLowerCase().includes(search_value.toLowerCase());\n        return (is_searching && is_parent_match_value) || !is_searching;\n    };\n\n    STRATEGY_TRADE_ASSOCIATIONS.filter(\n        item =>\n            item.parent.some(parent => filterVisibleParents(parent)) ||\n            item.display_name.toLowerCase().includes(search_value.toLowerCase())\n    ).forEach(item => {\n        const tmp_item = { ...item };\n        if (is_searching && search_value !== '') {\n            if (item.display_name.toLowerCase().includes(search_value.toLowerCase())) {\n                tmp_item.parent = [...item.parent];\n            } else {\n                const matched_parents = tmp_item.parent.filter(parent =>\n                    parent.toLowerCase().includes(search_value.toLowerCase())\n                );\n                tmp_item.parent = matched_parents.length > 0 ? matched_parents : item.parent;\n            }\n        } else {\n            tmp_item.parent = [...item.parent];\n        }\n        result.push(tmp_item);\n    });\n\n    const options = result.filter(item => item.parent.includes(TRADE_TYPES[TRADE_TYPE_INDEX.OPTIONS]));\n    const multiplier = result.filter(item => item.parent.includes(TRADE_TYPES[TRADE_TYPE_INDEX.MULTIPLIERS]));\n    const accumulator = result.filter(item => item.parent.includes(TRADE_TYPES[TRADE_TYPE_INDEX.ACCUMULATORS]));\n\n    const selected_chip_value = TRADE_TYPES[selector_chip_value];\n\n    const strategy_types: TStrategyTypes = [\n        { type: localize('Accumulators'), items: accumulator },\n        { type: localize('Options'), items: options },\n        { type: localize('Multipliers'), items: multiplier },\n    ];\n\n    const should_render = (type: string) => selected_chip_value === localize('All') || selected_chip_value === type;\n\n    const filtered_strategies = strategy_types.filter(({ type }) => should_render(type));\n    const has_visible_strategies = filtered_strategies.some(({ items }) => items.length > 0);\n\n    return result.length > 0 && has_visible_strategies ? (\n        <div className='strategy-template-picker__strategies'>\n            {filtered_strategies.map(({ type, items }) => (\n                <StrategyBlock key={type} title={type} items={items} onSelectStrategy={onSelectStrategy} />\n            ))}\n        </div>\n    ) : (\n        <div className='no-results'>\n            <Text size='xs'>{localize('No results found')}</Text>\n        </div>\n    );\n};\n\nexport default StrategyList;\n",
            "size_bytes": 4183
        },
        "src/components/shared/utils/digital-options/digital-options.ts": {
            "content": "type TMessage = {\n    title: string;\n    text: string;\n    link: string;\n};\n\ntype TShowError = {\n    message: string;\n    header: string;\n    redirect_label: string;\n    redirectOnClick?: (() => void) | null;\n    should_show_refresh: boolean;\n    redirect_to: string;\n    should_clear_error_on_click: boolean;\n    should_redirect?: boolean;\n};\n\nexport const showDigitalOptionsUnavailableError = (\n    showError: (t: TShowError) => void,\n    message: TMessage,\n    redirectOnClick?: (() => void) | null,\n    should_redirect?: boolean,\n    should_clear_error_on_click = true\n) => {\n    const { title, text, link } = message;\n    showError({\n        message: text,\n        header: title,\n        redirect_label: link,\n        redirectOnClick,\n        should_show_refresh: false,\n        redirect_to: '/appstore/traders-hub',\n        should_clear_error_on_click,\n        should_redirect,\n    });\n};\n\nexport const isEuResidenceWithOnlyVRTC = () => {\n    // Always return false - EU restrictions now handled by backend\n    return false;\n};\n",
            "size_bytes": 1034
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/During Purchase/sell_at_market.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.sell_at_market = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Sell at market price'),\n            colour: window.Blockly.Colours.Special1.colour,\n            colourSecondary: window.Blockly.Colours.Special1.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Special1.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Use this block to sell your contract at the market price.'),\n            category: window.Blockly.Categories.During_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Sell at market price'),\n            description: localize('Use this block to sell your contract at the market price.'),\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    restricted_parents: ['during_purchase'],\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.sell_at_market = () => 'Bot.sellAtMarket();\\n';\n",
            "size_bytes": 1185
        },
        "src/external/bot-skeleton/services/api/account-limits.js": {
            "content": "import { getAccountLimits } from '../../../../components/shared/utils/common-data';\n\nexport default class AccountLimits {\n    constructor(store) {\n        this.ws = store.ws;\n    }\n    // eslint-disable-next-line default-param-last\n    getStakePayoutLimits(currency = 'AUD', selected_market) {\n        // Use common data instead of duplicating here\n        return getAccountLimits(currency, selected_market);\n    }\n}\n",
            "size_bytes": 417
        },
        "src/external/bot-skeleton/services/api/api-middleware.js": {
            "content": "export const REQUESTS = [\n    'active_symbols',\n    'authorize',\n    'balance',\n    'buy',\n    'proposal',\n    'proposal_open_contract',\n    'transaction',\n    'ticks_history',\n    'history',\n];\n\nclass APIMiddleware {\n    constructor(config) {\n        this.config = config;\n        this.debounced_calls = {};\n    }\n\n    getRequestType = request => {\n        let req_type;\n        REQUESTS.forEach(type => {\n            if (type in request && !req_type) req_type = type;\n        });\n\n        return req_type;\n    };\n\n    defineMeasure = res_type => {\n        if (res_type) {\n            let measure;\n            if (res_type === 'history') {\n                performance.mark('ticks_history_end');\n                measure = performance.measure('ticks_history', 'ticks_history_start', 'ticks_history_end');\n            } else {\n                performance.mark(`${res_type}_end`);\n                measure = performance.measure(`${res_type}`, `${res_type}_start`, `${res_type}_end`);\n            }\n            return (measure.startTimeDate = new Date(Date.now() - measure.startTime));\n        }\n        return false;\n    };\n\n    sendIsCalled = ({ response_promise, args: [request] }) => {\n        const req_type = this.getRequestType(request);\n        if (req_type) performance.mark(`${req_type}_start`);\n        response_promise\n            .then(res => {\n                const res_type = this.getRequestType(res);\n                if (res_type) {\n                    this.defineMeasure(res_type);\n                }\n            })\n            .catch(() => {});\n        return response_promise;\n    };\n}\n\nexport default APIMiddleware;\n",
            "size_bytes": 1630
        },
        "src/utils/help-content/help-strings/controls_for.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize(\n            'This block uses the variable \"i\" to control the iterations. With each iteration, the value of \"i\" is determined by the items in a given list.'\n        ),\n        localize('Example:'),\n        localize(\n            '\"i\" starts with the value of 1, and it will be increased by 2 at every iteration. The loop will repeat until \"i\" reaches the value of 12, and then the loop is terminated.'\n        ),\n        localize('You can use \"i\" inside the loop, for example to access list items'),\n    ],\n};\n",
            "size_bytes": 614
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Tools/Time/todatetime.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../../utils';\n\nwindow.Blockly.Blocks.todatetime = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('To date/time {{ input_timestamp }} {{ dummy }}', {\n                input_timestamp: '%1',\n                dummy: '%2',\n            }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'TIMESTAMP',\n                    check: 'Number',\n                },\n                {\n                    // Extra dummy for spacing.\n                    type: 'input_dummy',\n                },\n            ],\n            output: 'String',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize(\n                'This block converts the number of seconds since the Unix Epoch (1 January 1970) into a string of text representing the date and time.'\n            ),\n            category: window.Blockly.Categories.Time,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Convert to date/time'),\n            description: localize(\n                'This block converts the number of seconds since the Unix Epoch (1 January 1970) into a string of text representing the date and time.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            TIMESTAMP: null,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.todatetime = block => {\n    const timestamp = window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n        block,\n        'TIMESTAMP',\n        window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC\n    );\n    const invalid_timestamp = `${localize('Invalid timestamp')}:`;\n\n    // eslint-disable-next-line no-underscore-dangle\n    const function_name = window.Blockly.JavaScript.javascriptGenerator.provideFunction_('timestampToDateString', [\n        // eslint-disable-next-line no-underscore-dangle\n        `function ${window.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(timestamp) {\n            var datetime = new Date(timestamp * 1000);\n\n            if (!datetime.getTime()) {\n                return \"${invalid_timestamp} \" + timestamp;\n            }\n\n            var getTwoDigitValue = function(input) {\n                return input < 10 ? '0' + input : input;\n            }\n\n            var year    = datetime.getFullYear();\n            var month   = getTwoDigitValue(datetime.getMonth() + 1);\n            var day     = getTwoDigitValue(datetime.getDate());\n            var hours   = getTwoDigitValue(datetime.getHours());\n            var minutes = getTwoDigitValue(datetime.getMinutes());\n            var seconds = getTwoDigitValue(datetime.getSeconds());\n\n            var formatGmtOffset = function() {\n                var gmt_offset_raw = datetime.getTimezoneOffset();\n                var sign           = gmt_offset_raw > 0 ? '-' : '+';\n                var gmt_offset     = Math.abs(gmt_offset_raw);\n                var hour           = Math.floor(gmt_offset / 60);\n                var minute         = gmt_offset - hour * 60;\n\n                return 'GMT' + sign + getTwoDigitValue(hour) + getTwoDigitValue(minute);\n            }\n\n            var date_string = year + '-' + month + '-' + day;\n            var time_string = hours + ':' + minutes + ':' + seconds;\n\n            return date_string + ' ' + time_string + ' ' + formatGmtOffset();\n        }`,\n    ]);\n\n    const code = `${function_name}(${timestamp})`;\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_FUNCTION_CALL];\n};\n",
            "size_bytes": 3945
        },
        "src/pages/bot-builder/toolbox/index.ts": {
            "content": "import Toolbox from './toolbox';\nimport './toolbox.scss';\n\nexport default Toolbox;\n",
            "size_bytes": 83
        },
        "src/components/shared_ui/contract-card/contract-card-items/contract-card-body.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport {\n    getCurrentTick,\n    getDisplayStatus,\n    getIndicativePrice,\n    getTotalProfit,\n    isCryptocurrency,\n} from '@/components/shared';\nimport ArrowIndicator from '../../arrow-indicator';\nimport CurrencyBadge from '../../currency-badge';\nimport DesktopWrapper from '../../desktop-wrapper';\nimport MobileWrapper from '../../mobile-wrapper';\nimport Money from '../../money';\nimport ProgressSliderMobile from '../../progress-slider-mobile';\nimport { ResultStatusIcon } from '../result-overlay/result-overlay';\nimport AccumulatorCardBody from './accumulator-card-body';\nimport ContractCardItem from './contract-card-item';\nimport { TGeneralContractCardBodyProps } from './contract-update-form';\nimport LookBacksCardBody from './lookbacks-card-body';\nimport MultiplierCardBody from './multiplier-card-body';\nimport TurbosCardBody from './turbos-card-body';\nimport VanillaOptionsCardBody from './vanilla-options-card-body';\n\nexport type TContractCardBodyProps = {\n    is_accumulator?: boolean;\n    is_lookbacks?: boolean;\n    is_multiplier: boolean;\n    is_turbos?: boolean;\n    is_vanilla?: boolean;\n    server_time: moment.Moment;\n} & TGeneralContractCardBodyProps;\n\nconst ContractCardBody = ({\n    addToast,\n    contract_info,\n    contract_update,\n    currency,\n    current_focus,\n    error_message_alignment,\n    getCardLabels,\n    getContractById,\n    has_progress_slider,\n    is_accumulator,\n    is_mobile,\n    is_multiplier,\n    is_positions,\n    is_sold,\n    is_turbos,\n    is_vanilla,\n    is_lookbacks,\n    onMouseLeave,\n    removeToast,\n    server_time,\n    setCurrentFocus,\n    should_show_cancellation_warning,\n    toggleCancellationWarning,\n}: TContractCardBodyProps) => {\n    const indicative = getIndicativePrice(contract_info);\n    const { buy_price, sell_price, payout, profit, tick_count, date_expiry, purchase_time } = contract_info;\n    const current_tick = tick_count ? getCurrentTick(contract_info) : null;\n    const { CONTRACT_VALUE, POTENTIAL_PAYOUT, TOTAL_PROFIT_LOSS, STAKE } = getCardLabels();\n\n    const progress_slider_mobile_el = (\n        <ProgressSliderMobile\n            current_tick={current_tick}\n            expiry_time={date_expiry}\n            getCardLabels={getCardLabels}\n            is_loading={false}\n            server_time={server_time}\n            start_time={purchase_time}\n            ticks_count={tick_count}\n        />\n    );\n\n    const toggle_card_dialog_props = {\n        addToast,\n        current_focus,\n        error_message_alignment,\n        getContractById,\n        onMouseLeave,\n        removeToast,\n        setCurrentFocus,\n        totalProfit: is_multiplier && !isNaN(Number(profit)) ? getTotalProfit(contract_info) : Number(profit),\n    };\n\n    let card_body;\n\n    if (is_multiplier) {\n        card_body = (\n            <MultiplierCardBody\n                contract_info={contract_info}\n                contract_update={contract_update}\n                currency={currency}\n                getCardLabels={getCardLabels}\n                has_progress_slider={has_progress_slider}\n                progress_slider={progress_slider_mobile_el}\n                is_mobile={is_mobile}\n                is_sold={is_sold}\n                should_show_cancellation_warning={should_show_cancellation_warning}\n                toggleCancellationWarning={toggleCancellationWarning}\n                {...toggle_card_dialog_props}\n            />\n        );\n    } else if (is_accumulator) {\n        card_body = (\n            <AccumulatorCardBody\n                contract_info={contract_info}\n                contract_update={contract_update}\n                currency={currency}\n                getCardLabels={getCardLabels}\n                indicative={indicative}\n                is_sold={is_sold}\n                is_positions={is_positions}\n                {...toggle_card_dialog_props}\n            />\n        );\n    } else if (is_turbos) {\n        card_body = (\n            <TurbosCardBody\n                contract_info={contract_info}\n                contract_update={contract_update}\n                currency={currency}\n                getCardLabels={getCardLabels}\n                is_sold={is_sold}\n                progress_slider_mobile_el={progress_slider_mobile_el}\n                {...toggle_card_dialog_props}\n            />\n        );\n    } else if (is_vanilla) {\n        card_body = (\n            <VanillaOptionsCardBody\n                contract_info={contract_info}\n                currency={currency}\n                getCardLabels={getCardLabels}\n                is_sold={is_sold}\n                progress_slider={progress_slider_mobile_el}\n            />\n        );\n    } else if (is_lookbacks) {\n        card_body = (\n            <LookBacksCardBody\n                contract_info={contract_info}\n                currency={currency}\n                is_sold={is_sold}\n                indicative={indicative}\n                progress_slider_mobile_el={progress_slider_mobile_el}\n            />\n        );\n    } else {\n        card_body = (\n            <React.Fragment>\n                <div className='dc-contract-card-items-wrapper'>\n                    <ContractCardItem\n                        header={TOTAL_PROFIT_LOSS}\n                        is_crypto={isCryptocurrency(currency)}\n                        is_loss={Number(profit) < 0}\n                        is_won={Number(profit) > 0}\n                    >\n                        <Money amount={profit} currency={currency} />\n                        {!is_sold && (\n                            <ArrowIndicator className='dc-contract-card__indicative--movement' value={profit} />\n                        )}\n                    </ContractCardItem>\n                    <ContractCardItem header={CONTRACT_VALUE}>\n                        <div\n                            className={classNames({\n                                'dc-contract-card--profit': Number(profit) > 0,\n                                'dc-contract-card--loss': Number(profit) < 0,\n                            })}\n                        >\n                            <Money currency={currency} amount={Number(sell_price || indicative)} />\n                        </div>\n                        {!is_sold && (\n                            <ArrowIndicator\n                                className='dc-contract-card__indicative--movement'\n                                value={Number(sell_price || indicative)}\n                            />\n                        )}\n                    </ContractCardItem>\n                    <ContractCardItem header={STAKE}>\n                        <Money amount={buy_price} currency={currency} />\n                    </ContractCardItem>\n                    <ContractCardItem header={POTENTIAL_PAYOUT}>\n                        <Money currency={currency} amount={payout} />\n                    </ContractCardItem>\n                </div>\n                <MobileWrapper>\n                    <div className='dc-contract-card__status'>\n                        {is_sold ? (\n                            <ResultStatusIcon\n                                getCardLabels={getCardLabels}\n                                is_contract_won={getDisplayStatus(contract_info) === 'won'}\n                            />\n                        ) : (\n                            progress_slider_mobile_el\n                        )}\n                    </div>\n                </MobileWrapper>\n            </React.Fragment>\n        );\n    }\n\n    return (\n        <React.Fragment>\n            <CurrencyBadge currency={currency} />\n            <DesktopWrapper>{card_body}</DesktopWrapper>\n            <MobileWrapper>\n                <div\n                    className={classNames('dc-contract-card__separatorclass', {\n                        'dc-contract-card__body-wrapper': !is_multiplier && !is_turbos && !is_lookbacks,\n                    })}\n                >\n                    {card_body}\n                </div>\n            </MobileWrapper>\n        </React.Fragment>\n    );\n};\n\nexport default ContractCardBody;\n",
            "size_bytes": 8069
        },
        "src/external/bot-skeleton/scratch/blocks/Math/math_number_positive.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../utils';\n\nwindow.Blockly.Blocks.math_number_positive = {\n    init: window.Blockly.Blocks.math_number.init,\n    definition: window.Blockly.Blocks.math_number.definition,\n    meta() {\n        return {\n            display_name: localize('Math Number Positive'),\n            description: localize('Math Number Description'),\n        };\n    },\n    numberValidator(input) {\n        if (/^([0][.]|[0-9]+[.])?([0]|[1-9]){1,}$/.test(input) && input < Number.MAX_SAFE_INTEGER) {\n            return undefined;\n        }\n        return null;\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.math_number_positive = block => {\n    return window.Blockly.JavaScript.javascriptGenerator.forBlock.math_number(block);\n};\n",
            "size_bytes": 881
        },
        "src/components/shared/utils/browser/index.ts": {
            "content": "export * from './browser_detect';\n",
            "size_bytes": 34
        },
        "src/pages/bot-builder/quick-strategy/types.ts": {
            "content": "import { ReactNode } from 'react';\n\nexport type TDurationItemRaw = {\n    display: string;\n    unit: string;\n    min: number;\n    max: number;\n};\n\nexport type TFormData = {\n    [key: string]: string | number | boolean;\n};\n\nexport type TValidationType = 'min' | 'max' | 'required' | 'number' | 'ceil' | 'floor' | 'integer';\n\nexport interface ValidationObject {\n    getMessage: (min: number | string) => string;\n    getDynamicValue?: (store: any) => number;\n    name?: string;\n    test?: (value: any, context: any) => boolean | string;\n}\n\nexport type TValidationItem =\n    | TValidationType\n    | ({\n          type: TValidationType;\n          value?: number | string;\n      } & ValidationObject);\n\nexport type TStrategyDescription = {\n    item: TDescriptionItem;\n    font_size: string;\n};\n\nexport type TConfigItem = Partial<{\n    type: string;\n    name: keyof TFormData;\n    dependencies: string[];\n    label: string;\n    description: ReactNode | ((additional_data: any) => ReactNode);\n    attached: boolean;\n    hide: string[];\n    validation: TValidationItem[];\n    should_have: {\n        key: string;\n        value: string | number | boolean;\n        multiple?: Array<string>;\n    }[];\n    hide_without_should_have: boolean;\n    has_currency_unit: boolean;\n}>;\n\nexport type TDescriptionItem = Partial<{\n    type: string;\n    content: string[];\n    src: string;\n    alt: string;\n    className: string;\n    expanded: boolean;\n    no_collapsible: boolean;\n    font_size: string;\n    id: number;\n    dark_src?: string;\n    styles?: { [key: string]: string };\n}>;\nexport type TDescription = TDescriptionItem[] | TDescriptionItem[][];\n\nexport type TStrategy = {\n    name: string;\n    label: string;\n    description: TDescriptionItem[];\n    fields: TConfigItem[][];\n    rs_strategy_name?: TRsStrategyName;\n};\n\nexport type TStrategies = {\n    [key: string]: TStrategy;\n};\n\nexport type TShouldHave = {\n    key: string;\n    value: string | number | boolean;\n    multiple?: Array<string>;\n};\n\nexport type TDropdownItems = {\n    text: string;\n    value: string;\n};\n\nexport type TDurationUnitItem = {\n    text: string;\n    value: string;\n    min: number;\n    max: number;\n    display?: string;\n    unit?: string;\n};\n\nexport type TTradeType = {\n    component?: ReactNode;\n    text: string;\n    value: string;\n    group: string;\n    icon: string[];\n};\n\nexport type TApiHelpersInstance = {\n    contracts_for: {\n        getTradeTypesForQuickStrategy: (tradetype: string | number | boolean) => Promise<TTradeType[]>;\n        getContractTypes: (tradetype: string | number | boolean) => Promise<TDropdownItems[]>;\n        getDurations: (\n            symbol: string | number | boolean,\n            tradetype: string | number | boolean\n        ) => Promise<TDurationUnitItem[]>;\n    };\n};\n\nexport type TRsStrategyName =\n    | `d'alembert`\n    | `martingale`\n    | `oscar's-grind`\n    | `reverse martingale`\n    | `reverse d'alembert`\n    | `1-3-2-6`\n    | `accumulators_martingale`\n    | `accumulators_dalembert`\n    | `accumulators_martingale_on_stat_reset`\n    | `accumulators_dalembert_on_stat_reset`\n    | `accumulators_reverse_martingale`\n    | `accumulators_reverse_martingale_on_stat_reset`\n    | `accumulators_reverse_dalembert`\n    | `accumulators_reverse_dalembert_on_stat_reset`;\n\nexport type TDurationType = 't' | 's' | 'm' | 'h' | 'd';\n\nexport type TFormValues = Record<string, string | number | boolean> & {\n    symbol: string;\n    tradetype: string;\n    type?: string;\n    stake?: string;\n};\n",
            "size_bytes": 3485
        },
        "src/external/bot-skeleton/services/tradeEngine/trade/Ticks.js": {
            "content": "/* eslint-disable no-promise-executor-return */\nimport debounce from 'lodash.debounce';\nimport { localize } from '@deriv-com/translations';\nimport { getLast } from '../../../utils/binary-utils';\nimport { observer as globalObserver } from '../../../utils/observer';\nimport { api_base } from '../../api/api-base';\nimport { getDirection, getLastDigit } from '../utils/helpers';\nimport { expectPositiveInteger } from '../utils/sanitize';\nimport * as constants from './state/constants';\n\nlet tickListenerKey;\n\nexport default Engine =>\n    class Ticks extends Engine {\n        async watchTicks(symbol) {\n            if (symbol && this.symbol !== symbol) {\n                this.symbol = symbol;\n                const { ticksService } = this.$scope;\n\n                await ticksService.stopMonitor({\n                    symbol,\n                    key: tickListenerKey,\n                });\n                const callback = ticks => {\n                    if (this.is_proposal_subscription_required) {\n                        this.checkProposalReady();\n                    }\n                    const lastTick = ticks.slice(-1)[0];\n                    const { epoch } = lastTick;\n                    this.store.dispatch({ type: constants.NEW_TICK, payload: epoch });\n                };\n\n                const key = await ticksService.monitor({ symbol, callback });\n                tickListenerKey = key;\n            }\n        }\n\n        checkTicksPromiseExists() {\n            return this.$scope.ticksService.ticks_history_promise;\n        }\n\n        getTicks(toString = false) {\n            return new Promise(resolve => {\n                this.$scope.ticksService.request({ symbol: this.symbol }).then(ticks => {\n                    const ticks_list = ticks.map(tick => {\n                        if (toString) {\n                            return tick.quote.toFixed(this.getPipSize());\n                        }\n                        return tick.quote;\n                    });\n\n                    resolve(ticks_list);\n                });\n            });\n        }\n\n        getLastTick(raw, toString = false) {\n            return new Promise(resolve =>\n                this.$scope.ticksService\n                    .request({ symbol: this.symbol })\n                    .then(ticks => {\n                        let last_tick = raw ? getLast(ticks) : getLast(ticks).quote;\n                        if (!raw && toString) {\n                            last_tick = last_tick.toFixed(this.getPipSize());\n                        }\n                        resolve(last_tick);\n                    })\n                    .catch(e => {\n                        if (e.code === 'MarketIsClosed') {\n                            globalObserver.emit('Error', e);\n                            resolve(e.code);\n                        }\n                    })\n            );\n        }\n\n        getLastDigit() {\n            return new Promise(resolve => this.getLastTick(false, true).then(tick => resolve(getLastDigit(tick))));\n        }\n\n        getLastDigitList() {\n            return new Promise(resolve => this.getTicks().then(ticks => resolve(this.getLastDigitsFromList(ticks))));\n        }\n        getLastDigitsFromList(ticks) {\n            const digits = ticks.map(tick => {\n                return getLastDigit(tick.toFixed(this.getPipSize()));\n            });\n            return digits;\n        }\n\n        checkDirection(dir) {\n            return new Promise(resolve =>\n                this.$scope.ticksService\n                    .request({ symbol: this.symbol })\n                    .then(ticks => resolve(getDirection(ticks) === dir))\n            );\n        }\n\n        getOhlc(args) {\n            const { granularity = this.options.candleInterval || 60, field } = args || {};\n\n            return new Promise(resolve =>\n                this.$scope.ticksService\n                    .request({ symbol: this.symbol, granularity })\n                    .then(ohlc => resolve(field ? ohlc.map(o => o[field]) : ohlc))\n            );\n        }\n\n        getOhlcFromEnd(args) {\n            const { index: i = 1 } = args || {};\n\n            const index = expectPositiveInteger(Number(i), localize('Index must be a positive integer'));\n\n            return new Promise(resolve => this.getOhlc(args).then(ohlc => resolve(ohlc.slice(-index)[0])));\n        }\n\n        getPipSize() {\n            return this.$scope.ticksService.pipSizes[this.symbol];\n        }\n\n        async requestAccumulatorStats() {\n            const subscription_id = this.subscription_id_for_accumulators;\n            const is_proposal_requested = this.is_proposal_requested_for_accumulators;\n            const proposal_request = {\n                ...window.Blockly.accumulators_request,\n                amount: this?.tradeOptions?.amount,\n                basis: this?.tradeOptions?.basis,\n                contract_type: 'ACCU',\n                currency: this?.tradeOptions?.currency,\n                growth_rate: this?.tradeOptions?.growth_rate,\n                proposal: 1,\n                subscribe: 1,\n                underlying_symbol: this?.tradeOptions?.symbol,\n            };\n            if (!subscription_id && !is_proposal_requested) {\n                this.is_proposal_requested_for_accumulators = true;\n                if (proposal_request) {\n                    await api_base?.api?.send(proposal_request);\n                }\n            }\n        }\n\n        async handleOnMessageForAccumulators() {\n            let ticks_stayed_in_list = [];\n            return new Promise(resolve => {\n                const subscription = api_base.api.onMessage().subscribe(({ data }) => {\n                    if (data.msg_type === 'proposal') {\n                        try {\n                            this.subscription_id_for_accumulators = data.subscription.id;\n                            // this was done because we can multile arrays in the respone and the list comes in reverse order\n                            const stat_list = (data.proposal.contract_details.ticks_stayed_in || []).flat().reverse();\n                            ticks_stayed_in_list = [...stat_list, ...ticks_stayed_in_list];\n                            if (ticks_stayed_in_list.length > 0) resolve(ticks_stayed_in_list);\n                        } catch (error) {\n                            globalObserver.emit('Unexpected message type or no proposal found:', error);\n                        }\n                    }\n                });\n                api_base.pushSubscription(subscription);\n            });\n        }\n\n        async fetchStatsForAccumulators() {\n            try {\n                // request stats for accumulators\n                const debouncedAccumulatorsRequest = debounce(() => this.requestAccumulatorStats(), 300);\n                debouncedAccumulatorsRequest();\n                // wait for proposal response\n                const ticks_stayed_in_list = await this.handleOnMessageForAccumulators();\n                return ticks_stayed_in_list;\n            } catch (error) {\n                globalObserver.emit('Error in subscription promise:', error);\n                throw error;\n            } finally {\n                // forget all proposal subscriptions so we can fetch new stats data on new call\n                await api_base?.api?.send({ forget_all: 'proposal' });\n                this.is_proposal_requested_for_accumulators = false;\n                this.subscription_id_for_accumulators = null;\n            }\n        }\n\n        async getCurrentStat() {\n            try {\n                const ticks_stayed_in = await this.fetchStatsForAccumulators();\n                return ticks_stayed_in?.[0];\n            } catch (error) {\n                globalObserver.emit('Error fetching current stat:', error);\n            }\n        }\n\n        async getStatList() {\n            try {\n                const ticks_stayed_in = await this.fetchStatsForAccumulators();\n                // we need to send only lastest 100 ticks\n                return ticks_stayed_in?.slice(0, 100);\n            } catch (error) {\n                globalObserver.emit('Error fetching current stat:', error);\n            }\n        }\n\n        async getDelayTickValue(tick_value) {\n            return new Promise((resolve, reject) => {\n                try {\n                    const ticks = [];\n                    const symbol = this.symbol;\n\n                    const resolveAndExit = () => {\n                        this.$scope.ticksService.stopMonitor({\n                            symbol,\n                            key: '',\n                        });\n                        resolve(ticks);\n                        ticks.length = 0;\n                    };\n\n                    const watchTicks = tick_list => {\n                        ticks.push(tick_list);\n                        const current_tick = ticks.length;\n                        if (current_tick === tick_value) {\n                            resolveAndExit();\n                        }\n                    };\n\n                    const delayExecution = tick_list => watchTicks(tick_list);\n\n                    if (Number(tick_value) <= 0) resolveAndExit();\n                    this.$scope.ticksService.monitor({ symbol, callback: delayExecution });\n                } catch (error) {\n                    reject(new Error(`Failed to start tick monitoring: ${error.message}`));\n                }\n            });\n        }\n    };\n",
            "size_bytes": 9400
        },
        "src/components/shared/index.ts": {
            "content": "export * from './services';\nexport * from './services';\nexport * from './utils/array';\nexport * from './utils/brand';\nexport * from './utils/browser';\nexport * from './utils/config';\nexport * from './utils/constants';\nexport * from './utils/constants';\nexport * from './utils/contract';\nexport * from './utils/currency';\nexport * from './utils/date';\nexport * from './utils/digital-options';\nexport * from './utils/dom';\nexport * from './utils/helpers';\nexport * from './utils/helpers';\nexport * from './utils/hooks';\nexport * from './utils/loader';\nexport * from './utils/loader-handler';\nexport * from './utils/loader-handler';\nexport * from './utils/location';\nexport * from './utils/login';\nexport * from './utils/number';\nexport * from './utils/object';\nexport * from './utils/os';\nexport * from './utils/promise';\nexport * from './utils/routes';\nexport * from './utils/screen';\nexport * from './utils/shortcode';\nexport * from './utils/storage';\nexport * from './utils/string';\nexport * from './utils/types';\nexport * from './utils/url';\nexport * from './utils/validation';\nexport * from './utils/validator';\n",
            "size_bytes": 1115
        },
        "src/components/shared_ui/badge/badge.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport Text from '../text';\n\ntype TBadgeSize = 'medium' | 'large';\ntype TWeight = 'bold' | 'normal';\ntype TBackgroundColor = 'blue' | 'orange' | 'red' | 'gray';\ntype TRoundedCorners = 4 | 2;\n\ninterface Badge extends React.HTMLAttributes<HTMLSpanElement> {\n    className?: string;\n    custom_color?: string;\n    label: string;\n    rounded_corners?: TRoundedCorners;\n    size?: TBadgeSize;\n    weight?: TWeight;\n}\n\ninterface BadgeContained extends Badge {\n    type: 'contained';\n    background_color: TBackgroundColor;\n}\n\ninterface BadgeBordered extends Badge {\n    type: 'bordered';\n}\n\ntype BadgeProps = BadgeContained | BadgeBordered;\n\nconst Badge = (props: BadgeProps) => {\n    const {\n        className,\n        custom_color,\n        label,\n        rounded_corners = 4,\n        size = 'medium',\n        type,\n        weight = 'bold',\n        ...rest\n    } = props;\n\n    const is_contained = type === 'contained';\n    const is_bordered = type === 'bordered';\n\n    const badge_height = React.useMemo(() => {\n        switch (size) {\n            case 'large':\n                return {\n                    height: '2.2rem',\n                    paddingInline: '0.8rem',\n                };\n            case 'medium':\n            default:\n                return {\n                    height: '1.4rem',\n                    paddingInline: '0.4rem',\n                };\n        }\n    }, [size]);\n\n    const badge_class_names = React.useMemo(() => {\n        return classNames(\n            'dc-badge',\n            {\n                'dc-badge--contained': is_contained,\n                'dc-badge--bordered': is_bordered,\n                'dc-badge--blue': is_contained && props.background_color === 'blue',\n                'dc-badge--orange': is_contained && props.background_color === 'orange',\n                'dc-badge--red': is_contained && props.background_color === 'red',\n                'dc-badge--gray': is_contained && props.background_color === 'gray',\n                'dc-badge--full-rounded': rounded_corners === 4,\n                'dc-badge--two-rounded': rounded_corners === 2,\n            },\n            className\n        );\n    }, [className, is_bordered, is_contained, is_contained && props.background_color, rounded_corners]);\n\n    if (!label) return null;\n\n    return (\n        <Text\n            as='span'\n            className={badge_class_names}\n            color={custom_color}\n            size={'xxxs'}\n            styles={badge_height}\n            weight={weight}\n            {...rest}\n        >\n            {label}\n        </Text>\n    );\n};\n\nexport default Badge;\n",
            "size_bytes": 2640
        },
        "src/pages/dashboard/bot-list/save-modal/icon-radio.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport Text from '@/components/shared_ui/text';\nimport { localize } from '@deriv-com/translations';\n\ntype TIconRadio = {\n    google_drive_connected?: boolean;\n    icon: React.ReactElement<{ className: string }, string>;\n    text: string;\n    onDriveConnect?: () => void;\n};\nconst IconRadio = ({ icon, text, google_drive_connected }: TIconRadio) => {\n    const is_drive_radio = text === 'Google Drive';\n\n    return (\n        <div className='save-type__container'>\n            <div className='save-type__radio'>\n                {icon &&\n                    React.cloneElement(icon, {\n                        className: classNames(\n                            'save-type__icon',\n                            {\n                                'save-type__icon--active': is_drive_radio && google_drive_connected,\n                                'save-type__icon--disabled': is_drive_radio && !google_drive_connected,\n                            },\n                            icon.props.className\n                        ),\n                    })}\n                <Text\n                    as='p'\n                    align='center'\n                    size='xxs'\n                    color={is_drive_radio && !google_drive_connected ? 'disabled' : 'prominent'}\n                    lineHeight='s'\n                    className='save-type__radio-text'\n                >\n                    {localize(text)}\n                </Text>\n            </div>\n        </div>\n    );\n};\n\nexport default IconRadio;\n",
            "size_bytes": 1557
        },
        "src/components/shared_ui/radio-group/radio-group.tsx": {
            "content": "import React, { ChangeEvent } from 'react';\nimport classNames from 'classnames';\nimport Text from '../text';\n\ntype TItem = React.HTMLAttributes<HTMLDivElement> & {\n    id?: string;\n    value: string;\n    label: string;\n    disabled?: boolean;\n    hidden?: boolean;\n    has_error?: boolean;\n};\ntype TItemWrapper = {\n    should_wrap_items?: boolean;\n};\ntype TRadioGroup = {\n    className?: string;\n    name: string;\n    onToggle: (e: ChangeEvent<HTMLInputElement>) => void;\n    required?: boolean;\n    selected: string;\n} & TItemWrapper;\n\nconst ItemWrapper = ({ children, should_wrap_items }: React.PropsWithChildren<TItemWrapper>) => {\n    if (should_wrap_items) {\n        return <div className='dc-radio-group__item-wrapper'>{children}</div>;\n    }\n\n    return <React.Fragment>{children}</React.Fragment>;\n};\n\nconst RadioGroup = ({\n    className,\n    name,\n    onToggle,\n    required,\n    selected,\n    should_wrap_items,\n    children,\n}: React.PropsWithChildren<TRadioGroup>) => {\n    const [selected_option, setSelectedOption] = React.useState(selected);\n\n    React.useEffect(() => {\n        setSelectedOption(selected);\n    }, [selected]);\n\n    const onChange = (e: ChangeEvent<HTMLInputElement>) => {\n        setSelectedOption(e.target.value);\n        onToggle(e);\n    };\n\n    return (\n        <div className={classNames('dc-radio-group', className)}>\n            {Array.isArray(children) &&\n                children\n                    .filter(item => !item.props.hidden)\n                    .map(item => (\n                        <ItemWrapper key={item.props.value} should_wrap_items={should_wrap_items}>\n                            <label\n                                className={classNames('dc-radio-group__item', className, {\n                                    'dc-radio-group__item--selected': selected_option === item.props.value,\n                                })}\n                            >\n                                <input\n                                    id={item.props.id}\n                                    name={name}\n                                    className='dc-radio-group__input'\n                                    type='radio'\n                                    value={item.props.value}\n                                    checked={selected_option === item.props.value}\n                                    onChange={onChange}\n                                    disabled={item.props.disabled}\n                                    required={required}\n                                />\n                                <span\n                                    className={classNames('dc-radio-group__circle', {\n                                        'dc-radio-group__circle--selected': selected_option === item.props.value,\n                                        'dc-radio-group__circle--disabled': item.props.disabled,\n                                        'dc-radio-group__circle--error': item.props.has_error,\n                                    })}\n                                />\n                                <Text\n                                    size='xs'\n                                    className={classNames('dc-radio-group__label', {\n                                        'dc-radio-group__label--disabled': item.props.disabled,\n                                        'dc-radio-group__label--error': item.props.has_error,\n                                    })}\n                                >\n                                    {item.props.label}\n                                </Text>\n                            </label>\n                        </ItemWrapper>\n                    ))}\n        </div>\n    );\n};\n\nconst Item = ({ children, hidden = false, ...props }: React.PropsWithChildren<TItem>) => (\n    <div hidden={hidden} {...props}>\n        {children}\n    </div>\n);\n\nRadioGroup.Item = Item;\n\nexport default RadioGroup;\n",
            "size_bytes": 3903
        },
        "src/external/bot-skeleton/services/tradeEngine/Interface/CandleInterface.js": {
            "content": "import { expectCandle, expectCandles } from '../utils/sanitize';\n\nconst getCandleInterface = () => {\n    return {\n        isCandleBlack: candle => expectCandle(candle) && candle.close < candle.open,\n        candleValues: (ohlc, field) => expectCandles(ohlc).map(o => o[field]),\n        candleField: (candle, field) => expectCandle(candle)[field],\n    };\n};\n\nexport default getCandleInterface;\n",
            "size_bytes": 393
        },
        "src/components/shared_ui/contract-card/contract-card-items/contract-card-dialog.tsx": {
            "content": "import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { CSSTransition } from 'react-transition-group';\nimport { useOnClickOutside } from '@/hooks/useOnClickOutside';\nimport './sass/contract-card-dialog.scss';\n\nexport type TContractCardDialogProps = {\n    children: React.ReactNode;\n    is_visible: boolean;\n    left: number;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    toggleDialog: (e: any) => void; // This function accomodates events for various HTML elements, which have no overlap, so typing it to any\n    toggle_ref?: React.RefObject<HTMLElement>;\n    top: number;\n};\n\nconst ContractCardDialog = React.forwardRef(\n    (\n        { children, is_visible, left, toggleDialog, toggle_ref, top }: TContractCardDialogProps,\n        ref: React.ForwardedRef<HTMLDivElement>\n    ) => {\n        const validateClickOutside = (event: MouseEvent) =>\n            is_visible && !toggle_ref?.current?.contains(event.target as Node);\n\n        useOnClickOutside(ref as React.RefObject<HTMLDivElement>, toggleDialog, validateClickOutside);\n\n        const dialog = (\n            <CSSTransition\n                in={is_visible}\n                classNames={{\n                    enter: 'dc-contract-card-dialog--enter',\n                    enterDone: 'dc-contract-card-dialog--enter-done',\n                    exit: 'dc-contract-card-dialog--exit',\n                }}\n                timeout={150}\n                unmountOnExit\n            >\n                <div\n                    ref={ref}\n                    className='dc-contract-card-dialog'\n                    style={{\n                        top,\n                        left: `calc(${left}px + 32px)`,\n                    }}\n                >\n                    {children}\n                </div>\n            </CSSTransition>\n        );\n        const deriv_app_element = document.getElementById('deriv_app');\n        return ReactDOM.createPortal(\n            dialog, // use portal to render dialog above ThemedScrollbars container\n            deriv_app_element || document.body\n        );\n    }\n);\n\nContractCardDialog.displayName = 'ContractCardDialog';\n\nexport default ContractCardDialog;\n",
            "size_bytes": 2174
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Trade Definition/trade_definition_candleinterval.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { config } from '../../../../constants/config';\nimport { excludeOptionFromContextMenu, modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.trade_definition_candleinterval = {\n    init() {\n        this.jsonInit({\n            message0: localize('Default Candle Interval: {{ candle_interval_type }}', { candle_interval_type: '%1' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'CANDLEINTERVAL_LIST',\n                    options: config().candleIntervals.slice(1),\n                },\n            ],\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange(/* event */) {\n        if (!this.workspace || window.Blockly.derivWorkspace.isFlyoutVisible || this.workspace.isDragging()) {\n            return;\n        }\n\n        this.enforceLimitations();\n    },\n    customContextMenu(menu) {\n        const menu_items = [localize('Enable Block'), localize('Disable Block')];\n        excludeOptionFromContextMenu(menu, menu_items);\n        modifyContextMenu(menu);\n    },\n    enforceLimitations: window.Blockly.Blocks.trade_definition_market.enforceLimitations,\n};\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.trade_definition_candleinterval = () => {};\n",
            "size_bytes": 1604
        },
        "src/components/error-modal/__tests__/error-modal.spec.tsx": {
            "content": "import React from 'react';\nimport { render, screen } from '@testing-library/react';\nimport ErrorModal from '../error-modal';\n\ndescribe('<ErrorModal />', () => {\n    let modal_root_el: HTMLDivElement;\n\n    beforeAll(() => {\n        modal_root_el = document.createElement('div');\n        modal_root_el.setAttribute('id', 'modal_root');\n        document.body.appendChild(modal_root_el);\n    });\n\n    afterAll(() => {\n        document.body.removeChild(modal_root_el);\n    });\n\n    const messages = [{ message: 'Sorry for the interruption' }];\n\n    it('should render the error modal with modal content', () => {\n        render(<ErrorModal messages={messages} />);\n        const refresh_button = screen.getByRole('button', { name: /Refresh/i });\n        expect(screen.getByText(/Sorry for the interruption/i)).toBeInTheDocument();\n        expect(refresh_button).toBeInTheDocument();\n    });\n\n    it('should check if the parent container is present', () => {\n        render(<ErrorModal messages={messages} />);\n        const has_modal_root_el = document.body.contains(modal_root_el);\n        // Assert that the element is present\n        expect(has_modal_root_el).toBeTruthy();\n    });\n\n    it('should closes the error modal when the Refresh button is clicked', () => {\n        render(<ErrorModal messages={messages} />);\n        const refresh_button = screen.getByRole('button', { name: /Refresh/i });\n        const reload_mock = jest.fn();\n        Object.defineProperty(window, 'location', {\n            value: { reload: reload_mock },\n            writable: true,\n        });\n        refresh_button.click();\n        expect(window.location.reload).toHaveBeenCalled();\n    });\n});\n",
            "size_bytes": 1674
        },
        "src/components/shared_ui/select-native/select-native.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { Icon } from '@/utils/tmp/dummy';\nimport { LabelPairedChevronDownLgRegularIcon } from '@deriv/quill-icons/LabelPaired';\nimport Field from '../field/field';\nimport Text from '../text';\n\ntype TSelectNative = {\n    className?: string;\n    classNameDisplay?: string;\n    classNameHint?: string;\n    error?: string;\n    hint?: string;\n    label?: string;\n    placeholder?: string;\n    should_show_empty_option?: boolean;\n    suffix_icon?: string;\n    data_testid?: string;\n    hide_selected_value?: boolean;\n    hide_top_placeholder?: boolean;\n    value?: string | number;\n    list_items: Array<TListItem> | { [key: string]: Array<TListItem> };\n} & Omit<TSelectNativeOptions, 'list_items'> &\n    Omit<React.SelectHTMLAttributes<HTMLSelectElement>, 'value'>; // Default type of value in HTMLSelectElement is only string but here string | number is required\n\ntype TSelectNativeOptions = {\n    list_items: Array<TListItem>;\n    should_hide_disabled_options?: boolean;\n    use_text?: boolean;\n};\n\ntype TListItem = {\n    text: string;\n    value: string;\n    disabled?: boolean;\n    nativepicker_text?: React.ReactNode;\n    group?: string;\n    id?: string;\n};\n\nconst getDisplayText = (list_items: Array<TListItem> | { [key: string]: Array<TListItem> }, value: string | number) => {\n    const dropdown_items = Array.isArray(list_items)\n        ? list_items\n        : ([] as Array<TListItem>).concat(...Object.values(list_items)); //typecasting since [] is inferred to be type never[]\n    const list_obj = dropdown_items.find(item =>\n        typeof item.value !== 'string'\n            ? item.value === value\n            : item.value.toLowerCase() === (value as string).toLowerCase()\n    );\n\n    if (list_obj) return list_obj.text;\n    return '';\n};\n\nconst SelectNativeOptions = ({ list_items, should_hide_disabled_options, use_text }: TSelectNativeOptions) => {\n    const options = should_hide_disabled_options ? list_items.filter(opt => !opt.disabled) : list_items;\n    const has_group = Array.isArray(list_items) && !!list_items[0]?.group;\n\n    if (has_group) {\n        const dropdown_items = options.reduce((dropdown_map: { [key: string]: Array<TListItem> }, item) => {\n            if (item.group) {\n                const index = item.group;\n                dropdown_map[index] = dropdown_map[index] || [];\n                dropdown_map[index].push(item);\n            }\n            return dropdown_map;\n        }, {});\n        const group_names = Object.keys(dropdown_items);\n        return (\n            <React.Fragment>\n                {group_names.map(option => (\n                    <optgroup key={option} label={option}>\n                        {dropdown_items[option].map((value: TListItem) => (\n                            <option key={value.value} value={use_text ? value.text : value.value}>\n                                {value.nativepicker_text || value.text}\n                            </option>\n                        ))}\n                    </optgroup>\n                ))}\n            </React.Fragment>\n        );\n    }\n    return (\n        <React.Fragment>\n            {options.map(option => (\n                <option key={option.id || option.value} value={use_text ? option.text : option.value}>\n                    {option.nativepicker_text || option.text}\n                </option>\n            ))}\n        </React.Fragment>\n    );\n};\n\nconst SelectNative = ({\n    className,\n    classNameDisplay,\n    classNameHint,\n    disabled,\n    error,\n    hide_selected_value,\n    hint,\n    label,\n    list_items,\n    placeholder,\n    should_hide_disabled_options = true,\n    should_show_empty_option = true,\n    suffix_icon,\n    use_text,\n    value,\n    data_testid,\n    hide_top_placeholder = false,\n    ...props\n}: TSelectNative) => (\n    <div\n        className={classNames(className, 'dc-select-native', {\n            'dc-select-native--disabled': disabled,\n            'dc-select-native--error': error,\n            'dc-select-native--hide-selected-value': hide_selected_value,\n        })}\n    >\n        <div className='dc-select-native__wrapper'>\n            <div\n                className={classNames('dc-input', {\n                    'dc-input--disabled': disabled,\n                    'dc-input--error': error,\n                })}\n            >\n                <div\n                    className={classNames('dc-select-native__container', {\n                        'dc-select-native__container--error': error,\n                        'dc-select-native__container--disabled': disabled,\n                    })}\n                >\n                    <div className='dc-select-native__display'>\n                        {list_items && value && (\n                            <div\n                                className={classNames('dc-select-native__display-text', classNameDisplay)}\n                                data-testid='selected_value'\n                            >\n                                {!hide_selected_value && (use_text ? value : getDisplayText(list_items, value))}\n                            </div>\n                        )}\n                    </div>\n                    <div\n                        className={classNames('dc-select-native__placeholder', {\n                            'dc-select-native__placeholder--has-value': value,\n                            'dc-select-native__placeholder--hide-top-placeholder': value && hide_top_placeholder,\n                            'dc-select-native__placeholder--disabled': disabled,\n                        })}\n                    >\n                        {label}\n                    </div>\n                    {!suffix_icon ? (\n                        <LabelPairedChevronDownLgRegularIcon\n                            className='dc-select-native__arrow'\n                            height='24px'\n                            width='24px'\n                        />\n                    ) : (\n                        <Icon className='dc-select-native__suffix-icon' icon={suffix_icon} />\n                    )}\n                    <select\n                        className='dc-select-native__picker'\n                        value={value}\n                        disabled={disabled}\n                        data-testid={data_testid}\n                        {...props}\n                        id='dt_components_select-native_select-tag'\n                    >\n                        {Array.isArray(list_items) ? (\n                            <React.Fragment>\n                                {/*\n                                 * In native select, first option is selected by default.\n                                 * Added an empty option to avoid it from selecting first item\n                                 * from list_items provided\n                                 */}\n                                {should_show_empty_option && <option value=''>{placeholder}</option>}\n                                {/*\n                                 * Safari on ios allows to select a disabled option. So, we should avoid showing it\n                                 */}\n                                <SelectNativeOptions\n                                    list_items={list_items}\n                                    should_hide_disabled_options={should_hide_disabled_options}\n                                    use_text={use_text}\n                                />\n                            </React.Fragment>\n                        ) : (\n                            Object.keys(list_items).map((key: string) => {\n                                const items = should_hide_disabled_options\n                                    ? list_items[key].filter((opt: TListItem) => !opt.disabled)\n                                    : list_items[key];\n\n                                if (items.length > 0) {\n                                    return (\n                                        <optgroup key={key} label={key}>\n                                            {/*\n                                             * Safari on ios allows to select a disabled option. So, we should avoid showing it\n                                             */}\n                                            <SelectNativeOptions\n                                                list_items={list_items[key]}\n                                                should_hide_disabled_options={should_hide_disabled_options}\n                                                use_text={use_text}\n                                            />\n                                        </optgroup>\n                                    );\n                                }\n\n                                return null;\n                            })\n                        )}\n                    </select>\n                </div>\n                {error && <Field message={error} type='error' />}\n            </div>\n        </div>\n        {!error && hint && (\n            <Text\n                as='p'\n                color='less-prominent'\n                size='xxs'\n                lineHeight='l'\n                className={classNames('dc-select-native__hint', classNameHint)}\n            >\n                {hint}\n            </Text>\n        )}\n    </div>\n);\n\nexport default SelectNative;\n",
            "size_bytes": 9296
        },
        "src/utils/version-check.ts": {
            "content": "import Cookies from 'js-cookie';\nimport { BOT_VERSION_CONFIG } from '@/constants/bot-version';\n\n/**\n * Clears all localStorage data except for the bot_version\n */\nconst clearLocalStorage = (): void => {\n    try {\n        // Get the current bot_version before clearing\n        const currentBotVersion = localStorage.getItem(BOT_VERSION_CONFIG.STORAGE_KEY);\n\n        // Clear all localStorage\n        localStorage.clear();\n\n        // Restore the bot_version if it existed\n        if (currentBotVersion) {\n            localStorage.setItem(BOT_VERSION_CONFIG.STORAGE_KEY, currentBotVersion);\n        }\n    } catch (error) {\n        console.error('Error clearing localStorage:', error);\n    }\n};\n\n/**\n * Clears all cookies for the current domain and parent domains\n */\nconst clearCookies = (): void => {\n    try {\n        // Get all cookies\n        const cookies = document.cookie.split(';');\n\n        // Clear each cookie for different domain variations\n        const domains = [`.${document.domain.split('.').slice(-2).join('.')}`, `.${document.domain}`, document.domain];\n\n        const paths = ['/', window.location.pathname.split('/', 2)[1] || ''];\n\n        cookies.forEach(cookie => {\n            const cookieName = cookie.split('=')[0].trim();\n            if (cookieName) {\n                // Remove cookie for different domain and path combinations\n                domains.forEach(domain => {\n                    paths.forEach(path => {\n                        Cookies.remove(cookieName, { domain, path });\n                    });\n                });\n                // Also try removing without domain/path\n                Cookies.remove(cookieName);\n            }\n        });\n    } catch (error) {\n        console.error('Error clearing cookies:', error);\n    }\n};\n\n/**\n * Sets the bot version in localStorage to prevent infinite clearing\n */\nconst setBotVersion = (): void => {\n    try {\n        localStorage.setItem(BOT_VERSION_CONFIG.STORAGE_KEY, BOT_VERSION_CONFIG.REQUIRED_VERSION.toString());\n    } catch (error) {\n        console.error('Error setting bot version:', error);\n    }\n};\n\n/**\n * Checks if the current bot version matches the required version\n * @returns true if version matches or is not set, false if version is different\n */\nconst isVersionValid = (): boolean => {\n    try {\n        const currentVersion = localStorage.getItem(BOT_VERSION_CONFIG.STORAGE_KEY);\n\n        // If no version is set, consider it invalid (needs clearing)\n        if (currentVersion === null) {\n            return false;\n        }\n\n        // Parse the version and check if it matches\n        const versionNumber = parseInt(currentVersion, 10);\n        return versionNumber === BOT_VERSION_CONFIG.REQUIRED_VERSION;\n    } catch (error) {\n        console.error('Error checking bot version:', error);\n        return false;\n    }\n};\n\n/**\n * Performs version check and clears storage if necessary\n * This function should be called at the very beginning of app initialization\n * before any other localStorage or cookie operations\n */\nexport const performVersionCheck = (): void => {\n    console.log('Performing bot version check...');\n\n    if (!isVersionValid()) {\n        console.log('Bot version mismatch or not set. Clearing localStorage and cookies...');\n\n        // Clear all storage\n        clearLocalStorage();\n        clearCookies();\n\n        // Set the correct version to prevent infinite clearing\n        setBotVersion();\n\n        console.log('Storage cleared and bot version set to:', BOT_VERSION_CONFIG.REQUIRED_VERSION);\n    } else {\n        console.log('Bot version is valid:', BOT_VERSION_CONFIG.REQUIRED_VERSION);\n    }\n};\n",
            "size_bytes": 3634
        },
        "src/utils/download.ts": {
            "content": "import { LogTypes } from '@/external/bot-skeleton';\nimport { localize } from '@deriv-com/translations';\n\nexport type TTransaction = {\n    display_name?: string;\n    underlying_symbol?: string;\n    transaction_ids?: { buy: string; sell: string };\n    barrier?: string;\n    date_start?: string;\n    purchase_time?: string;\n    entry_spot?: string;\n    entry_tick_time?: string;\n    entry_spot_time?: string;\n    exit_spot?: string;\n    exit_tick_time?: string;\n    exit_spot_time?: string;\n    buy_price?: string | number;\n    profit?: string | number;\n    // Additional fields from new API\n    contract_id?: number;\n    contract_type?: string;\n    currency?: string;\n    current_spot?: string;\n    is_completed?: boolean;\n    is_sold?: boolean;\n    longcode?: string;\n    payout?: string | number;\n    shortcode?: string;\n    status?: string;\n    tick_count?: number;\n};\n\nexport type TLogTypes = Readonly<{\n    LOAD_BLOCK: 'load_block';\n    PURCHASE: 'purchase';\n    SELL: 'sell';\n    NOT_OFFERED: 'not_offered';\n    PROFIT: 'profit';\n    LOST: 'lost';\n    WELCOME_BACK: 'welcome_back';\n    WELCOME: 'welcome';\n}>;\n\nexport type TExtra = {\n    profit?: string;\n    sold_for?: string;\n    longcode?: string;\n    transaction_id?: string;\n    current_currency?: string;\n};\n\nconst getCurrentDateTimeLocale = () => {\n    const date = new Date(); // This will be the current date and time\n\n    const year = date.getUTCFullYear();\n    const month = (date.getUTCMonth() + 1).toString().padStart(2, '0');\n    const day = date.getUTCDate().toString().padStart(2, '0');\n    const hours = date.getUTCHours().toString().padStart(2, '0');\n    const minutes = date.getUTCMinutes().toString().padStart(2, '0');\n    const seconds = date.getUTCSeconds().toString().padStart(2, '0');\n\n    return `${year}-${month}-${day} ${hours}${minutes}${seconds}`;\n};\n\nexport const getSuccessJournalMessage = (message: string, extra: TExtra) => {\n    const { profit, sold_for, longcode, transaction_id, current_currency } = extra;\n    switch (message) {\n        case LogTypes.LOAD_BLOCK: {\n            return localize('Blocks are loaded successfully');\n        }\n        case LogTypes.NOT_OFFERED: {\n            return localize('Resale of this contract is not offered.');\n        }\n        case LogTypes.PURCHASE: {\n            return localize('Bought: {{longcode}} (ID: {{transaction_id}})', { longcode, transaction_id });\n        }\n        case LogTypes.SELL: {\n            return localize('Sold for: {{sold_for}}', { sold_for });\n        }\n        case LogTypes.PROFIT: {\n            return localize('Profit amount: {{profit}}', { profit });\n        }\n        case LogTypes.LOST: {\n            return localize('Loss amount: {{profit}}', { profit });\n        }\n        case LogTypes.WELCOME_BACK: {\n            if (current_currency)\n                return localize(\n                    'Welcome back! Your messages have been restored. You are using your {{current_currency}} account.',\n                    { current_currency }\n                );\n            return localize('Welcome back! Your messages have been restored.');\n        }\n        case LogTypes.WELCOME: {\n            if (current_currency)\n                return localize('You are using your {{current_currency}} account.', { current_currency });\n            break;\n        }\n        default:\n            return '';\n    }\n};\n\nexport const downloadFile = (file_name: string, content: string) => {\n    const uri = encodeURI(`data:text/csv;charset=utf-8, ${content}`);\n    const link = document.createElement('a');\n    link.setAttribute('href', uri);\n    link.setAttribute('download', `${file_name} ${getCurrentDateTimeLocale()}.csv`);\n    document.body.appendChild(link);\n    link.click();\n    const parent_element = link.parentNode;\n    const child_element = link;\n    if (parent_element && child_element && parent_element?.contains(child_element)) {\n        parent_element?.removeChild(child_element);\n    }\n};\n",
            "size_bytes": 3942
        },
        "src/utils/help-content/help-strings/tick_analysis.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize(\n            'Any blocks placed within this block will be executed at every tick. If the default candle interval is set to 1 minute in the Trade Parameters root block, the instructions in this block will be executed once every minute. Place this block outside of any root block.'\n        ),\n    ],\n};\n",
            "size_bytes": 406
        },
        "src/components/loader/rectangle-skeleton/index.tsx": {
            "content": "import React from 'react';\nimport './rectangle-skeleton.scss';\n\nconst RectangleSkeleton: React.FC<{ width: string; height: string }> = ({ width, height }) => {\n    return <div className='skeleton' style={{ width, height }} />;\n};\n\nexport default RectangleSkeleton;\n",
            "size_bytes": 265
        },
        "src/components/shared/utils/screen/index.ts": {
            "content": "export * from './responsive';\n",
            "size_bytes": 30
        },
        "src/external/bot-skeleton/scratch/blocks/Advanced/Variable/variables_get.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.variables_get = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            type: 'variables_get',\n            message0: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VAR',\n                    variable: localize('item'),\n                },\n            ],\n            output: null,\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Special4.colour,\n            colourSecondary: window.Blockly.Colours.Special4.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Special4.colourTertiary,\n            tooltip: localize('Gets variable value'),\n            category: window.Blockly.Categories.Variables,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('User-defined variable'),\n            description: '',\n        };\n    },\n    onchange(event) {\n        if (event.type === window.Blockly.Events.VAR_RENAME) {\n            const all_blocks = this.workspace.getAllBlocks();\n            const function_blocks = all_blocks.filter(block => block.category_ === 'custom_functions');\n            const old_param = event.oldName;\n            const new_param = event.newName;\n            function_blocks.forEach(block => {\n                if (block.arguments?.length) {\n                    const param_index = block.arguments.findIndex(item => item === old_param);\n                    if (param_index !== -1) {\n                        block.arguments[param_index] = new_param;\n                        const param_field = block.getField('PARAMS');\n                        if (param_field) {\n                            block.setFieldValue(`${localize('with: ')} ${block.arguments.join(', ')}`, 'PARAMS');\n                        }\n                        const with_field = block.getField('WITH');\n                        if (with_field) {\n                            block.updateShape();\n                        }\n                    }\n                }\n            });\n        }\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.variables_get = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const code = window.Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VAR'),\n        window.Blockly.Variables.CATEGORY_NAME\n    );\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC];\n};\n",
            "size_bytes": 2670
        },
        "src/constants/quick-strategies/index.ts": {
            "content": "export { D_ALEMBERT } from './d_alembert';\nexport { MARTINGALE } from './martingale';\nexport { OSCARS_GRIND } from './oscars_grind';\nexport { REVERSE_D_ALEMBERT } from './reverse_dalembert';\nexport { REVERSE_MARTINGALE } from './reverse_martingale';\nexport { STRATEGY_1_3_2_6 } from './strategy_1_3_2_6';\n",
            "size_bytes": 305
        },
        "src/stores/load-modal-store.ts": {
            "content": "import React from 'react';\nimport { action, computed, makeObservable, observable, reaction } from 'mobx';\nimport { v4 as uuidv4 } from 'uuid';\nimport {\n    getSavedWorkspaces,\n    load,\n    removeExistingWorkspace,\n    save_types,\n    saveWorkspaceToRecent,\n} from '@/external/bot-skeleton';\nimport { inject_workspace_options, updateXmlValues } from '@/external/bot-skeleton/scratch/utils';\nimport { isDbotRTL } from '@/external/bot-skeleton/utils/workspace';\nimport { TStores } from '@deriv/stores/types';\nimport { localize } from '@deriv-com/translations';\nimport { TStrategy } from 'Types';\nimport {\n    rudderStackSendUploadStrategyCompletedEvent,\n    rudderStackSendUploadStrategyFailedEvent,\n    rudderStackSendUploadStrategyStartEvent,\n} from '../analytics/rudderstack-common-events';\nimport { getStrategyType } from '../analytics/utils';\nimport { tabs_title } from '../constants/load-modal';\nimport { waitForDomElement } from '../utils/dom-observer';\nimport RootStore from './root-store';\n\nexport default class LoadModalStore {\n    root_store: RootStore;\n    core: TStores;\n    imported_strategy_type = 'pending';\n\n    constructor(root_store: RootStore, core: any) {\n        makeObservable(this, {\n            active_index: observable,\n            is_load_modal_open: observable,\n            is_explanation_expand: observable,\n            is_strategy_loaded: observable,\n            is_delete_modal_open: observable,\n            is_strategy_removed: observable,\n            loaded_local_file: observable,\n            recent_strategies: observable,\n            dashboard_strategies: observable,\n            selected_strategy_id: observable,\n            current_workspace_id: observable,\n            upload_id: observable,\n            preview_workspace: computed,\n            selected_strategy: computed,\n            tab_name: computed,\n            is_open_button_disabled: observable,\n            setOpenButtonDisabled: action.bound,\n            getSelectedStrategyID: action.bound,\n            refreshStrategies: action.bound,\n            loadStrategyToBuilder: action.bound,\n            refreshStrategiesTheme: action.bound,\n            handleFileChange: action.bound,\n            loadFileFromRecent: action.bound,\n            loadFileFromLocal: action.bound,\n            imported_strategy_type: observable,\n            onActiveIndexChange: action.bound,\n            onDriveOpen: action.bound,\n            onEntered: action.bound,\n            onLoadModalClose: action.bound,\n            onZoomInOutClick: action.bound,\n            setActiveTabIndex: action.bound,\n            setLoadedLocalFile: action.bound,\n            setRecentStrategies: action.bound,\n            setSelectedStrategyId: action.bound,\n            toggleExplanationExpand: action.bound,\n            toggleLoadModal: action.bound,\n            toggleTourLoadModal: action.bound,\n            readFile: action.bound,\n            resetBotBuilderStrategy: action.bound,\n            setDashboardStrategies: action.bound,\n            updateListStrategies: action.bound,\n            onToggleDeleteDialog: action,\n            loadStrategyOnModalRecentPreview: action,\n            loadStrategyOnBotBuilder: action,\n            saveStrategyToLocalStorage: action,\n            updateXmlValuesOnStrategySelection: action,\n        });\n\n        this.root_store = root_store;\n        this.core = core;\n\n        reaction(\n            () => this.active_index,\n            () => this.onActiveIndexChange()\n        );\n        reaction(\n            () => this.is_load_modal_open,\n            async is_load_modal_open => {\n                if (is_load_modal_open) {\n                    const saved_workspaces = await getSavedWorkspaces();\n                    if (!saved_workspaces) return;\n                    this.setRecentStrategies(saved_workspaces);\n                    if (saved_workspaces.length > 0 && !this.selected_strategy_id) {\n                        this.setSelectedStrategyId(saved_workspaces[0].id);\n                    }\n                } else {\n                    this.onLoadModalClose();\n                }\n            }\n        );\n    }\n\n    recent_workspace: window.Blockly.WorkspaceSvg | null = null;\n    local_workspace: window.Blockly.WorkspaceSvg | null = null;\n    drop_zone: unknown;\n\n    active_index = 0;\n    is_load_modal_open = false;\n    is_explanation_expand = false;\n    is_open_button_loading = false;\n    is_open_button_disabled = false;\n    loaded_local_file: File | null = null;\n    recent_strategies: Array<TStrategy> = [];\n    dashboard_strategies: Array<TStrategy> | [] = [];\n    selected_strategy_id = '';\n    is_strategy_loaded = false;\n    is_delete_modal_open = false;\n    is_strategy_removed = false;\n    current_workspace_id = '';\n    upload_id = '';\n\n    get preview_workspace(): window.Blockly.WorkspaceSvg | null {\n        if (this.tab_name === tabs_title.TAB_LOCAL) return this.local_workspace;\n        if (this.tab_name === tabs_title.TAB_RECENT) return this.recent_workspace;\n        return null;\n    }\n\n    get selected_strategy(): TStrategy {\n        return (\n            this.dashboard_strategies.find((ws: { id: string }) => ws.id === this.selected_strategy_id) ??\n            this.dashboard_strategies[0]\n        );\n    }\n\n    get tab_name(): string {\n        if (this.core.ui.is_mobile) {\n            if (this.active_index === 0) return tabs_title.TAB_LOCAL;\n            if (this.active_index === 1) return tabs_title.TAB_GOOGLE;\n        }\n        if (this.active_index === 0) return tabs_title.TAB_RECENT;\n        if (this.active_index === 1) return tabs_title.TAB_LOCAL;\n        if (this.active_index === 2) return tabs_title.TAB_GOOGLE;\n        return '';\n    }\n\n    setOpenButtonDisabled = (is_open_button_disabled: boolean) => {\n        this.is_open_button_disabled = is_open_button_disabled;\n    };\n\n    getSelectedStrategyID = (current_workspace_id: string) => {\n        this.current_workspace_id = current_workspace_id;\n    };\n\n    setDashboardStrategies = (strategies: Array<TStrategy>) => {\n        this.dashboard_strategies = strategies;\n        if (!strategies.length) {\n            this.selected_strategy_id = '';\n        }\n    };\n\n    getDashboardStrategies = async () => {\n        const recent_strategies = await getSavedWorkspaces();\n        this.dashboard_strategies = recent_strategies;\n    };\n\n    onDriveOpen = async () => {\n        const { google_drive } = this.root_store;\n        const { verifyGoogleDriveAccessToken } = google_drive;\n        const result = await verifyGoogleDriveAccessToken();\n        if (result === 'not_verified') return;\n\n        if (google_drive) {\n            google_drive.upload_id = uuidv4();\n        }\n\n        rudderStackSendUploadStrategyStartEvent({\n            upload_provider: 'google_drive',\n            upload_id: google_drive.upload_id,\n        });\n\n        const { loadFile } = this.root_store.google_drive;\n        const load_file = await loadFile();\n        if (!load_file) return;\n        const xml_doc = load_file?.xml_doc;\n        const file_name = load_file?.file_name;\n        await load({\n            block_string: xml_doc,\n            file_name,\n            workspace: window.Blockly.derivWorkspace,\n            from: save_types.GOOGLE_DRIVE,\n            drop_event: null,\n            strategy_id: null,\n            showIncompatibleStrategyDialog: null,\n        });\n\n        const { active_tab } = this.root_store.dashboard;\n        if (active_tab === 1) this.toggleLoadModal();\n\n        this.root_store.dashboard.is_dialog_open = false;\n    };\n\n    onEntered = (): void => {\n        if (this.recent_strategies.length === 0 || this.tab_name !== tabs_title.TAB_RECENT) return;\n        this.setOpenButtonDisabled(true);\n        const { blockly_store } = this.root_store;\n        const { setLoading } = blockly_store;\n        setLoading(true);\n        this.loadStrategyOnModalRecentPreview(this.selected_strategy_id);\n        this.updateXmlValuesOnStrategySelection();\n        this.setOpenButtonDisabled(false);\n    };\n\n    onLoadModalClose = (): void => {\n        if (this.local_workspace) {\n            this.local_workspace = null;\n        }\n        this.setActiveTabIndex(0); // Reset to first tab.\n        this.setLoadedLocalFile(null);\n    };\n\n    onZoomInOutClick = (is_zoom_in: string): void => {\n        if (this.preview_workspace) {\n            this.preview_workspace.zoomCenter(is_zoom_in ? 1 : -1);\n        }\n    };\n\n    setActiveTabIndex = (index: number): void => {\n        this.active_index = index;\n    };\n\n    setLoadedLocalFile = (loaded_local_file: File | null): void => {\n        this.loaded_local_file = loaded_local_file;\n    };\n\n    setRecentStrategies = (recent_strategies: TStrategy[]): void => {\n        this.recent_strategies = recent_strategies;\n    };\n\n    refreshStrategies = (): void => {\n        this.setRecentStrategies(this.recent_strategies);\n    };\n\n    setSelectedStrategyId = (selected_strategy_id: string): void => {\n        this.selected_strategy_id = selected_strategy_id;\n    };\n\n    toggleExplanationExpand = (): void => {\n        this.is_explanation_expand = !this.is_explanation_expand;\n    };\n\n    toggleLoadModal = (): void => {\n        this.is_load_modal_open = !this.is_load_modal_open;\n        this.recent_workspace?.dispose();\n        this.recent_workspace = null;\n        this.setLoadedLocalFile(null);\n    };\n\n    toggleTourLoadModal = (toggle = !this.is_load_modal_open) => {\n        this.is_load_modal_open = toggle;\n    };\n\n    updateListStrategies = (workspaces: Array<TStrategy>): void => {\n        if (workspaces) {\n            (this.dashboard_strategies as Array<TStrategy>) = workspaces;\n        }\n    };\n\n    getSaveType = (save_type: { [key: string]: string } | string): string => {\n        switch (save_type) {\n            case save_types.UNSAVED:\n                return localize('Unsaved');\n            case save_types.LOCAL:\n                return localize('Local');\n            case save_types.GOOGLE_DRIVE:\n                return localize('Google Drive');\n            default:\n                return localize('Unsaved');\n        }\n    };\n\n    onToggleDeleteDialog = (is_delete_modal_open: boolean): void => {\n        this.is_delete_modal_open = is_delete_modal_open;\n    };\n\n    resetBotBuilderStrategy = () => {\n        const workspace = window.Blockly.derivWorkspace;\n        if (workspace) {\n            window.Blockly.derivWorkspace.asyncClear();\n            window.Blockly.Xml.domToWorkspace(window.Blockly.utils.xml.textToDom(workspace.cached_xml.main), workspace);\n            window.Blockly.derivWorkspace.strategy_to_load = workspace.cached_xml.main;\n        }\n    };\n\n    loadStrategyToBuilder = async (strategy: TStrategy) => {\n        if (strategy?.id) {\n            await load({\n                block_string: strategy.xml,\n                strategy_id: strategy.id,\n                file_name: strategy.name,\n                workspace: window.Blockly?.derivWorkspace,\n                from: strategy.save_type,\n                drop_event: {},\n                showIncompatibleStrategyDialog: false,\n            });\n            window.Blockly.derivWorkspace.strategy_to_load = strategy.xml;\n        }\n    };\n\n    refreshStrategiesTheme = async () => {\n        if (this.recent_workspace) {\n            (this.recent_workspace as any).RTL = isDbotRTL();\n        }\n        await load({\n            block_string: this.selected_strategy?.xml,\n            drop_event: {},\n            workspace: this.recent_workspace,\n            file_name: this.selected_strategy?.name,\n            strategy_id: this.selected_strategy?.id,\n            from: this.selected_strategy?.save_type,\n            showIncompatibleStrategyDialog: false,\n        });\n    };\n\n    loadFileFromRecent = async () => {\n        this.is_open_button_loading = true;\n        if (!this.selected_strategy) {\n            window.Blockly.derivWorkspace.asyncClear();\n            window.Blockly.Xml.domToWorkspace(\n                window.Blockly.utils.xml.textToDom(window.Blockly.derivWorkspace.strategy_to_load),\n                window.Blockly.derivWorkspace\n            );\n            this.is_open_button_loading = false;\n            return;\n        }\n\n        removeExistingWorkspace(this.selected_strategy.id);\n        await load({\n            block_string: this.selected_strategy?.xml,\n            strategy_id: this.selected_strategy.id,\n            file_name: this.selected_strategy.name,\n            workspace: window.Blockly.derivWorkspace,\n            from: this.selected_strategy.save_type,\n            drop_event: {},\n            showIncompatibleStrategyDialog: false,\n        });\n        const recent_files = await getSavedWorkspaces();\n        recent_files.map((strategy: TStrategy) => {\n            const { xml, id } = strategy;\n            if (this.selected_strategy.id === id) {\n                window.Blockly.derivWorkspace.strategy_to_load = xml;\n            }\n        });\n        this.is_open_button_loading = false;\n    };\n\n    loadFileFromLocal = (): void => {\n        this.is_open_button_loading = true;\n        if (this.loaded_local_file) {\n            this.readFile(false, {} as DragEvent, this.loaded_local_file);\n        }\n    };\n\n    onActiveIndexChange = (): void => {\n        this.setOpenButtonDisabled(true);\n        if (this.tab_name === tabs_title.TAB_RECENT) {\n            this.loadStrategyOnModalRecentPreview(this.selected_strategy_id);\n            this.updateXmlValuesOnStrategySelection();\n        } else if (this.recent_workspace) {\n            setTimeout(() => {\n                // Dispose of recent workspace when switching away from Recent tab.\n                // Process in next cycle so user doesn't have to wait.\n                this.recent_workspace?.dispose();\n                this.recent_workspace = null;\n            });\n        }\n\n        if (this.tab_name === tabs_title.TAB_LOCAL) {\n            if (!this.drop_zone) {\n                this.drop_zone = document.querySelector('load-strategy__local-dropzone-area');\n\n                if (this.drop_zone) {\n                    this.drop_zone.addEventListener('drop', event => this.handleFileChange(event, false));\n                }\n            }\n        }\n\n        // Dispose of local workspace when switching away from Local tab.\n        else if (this.local_workspace) {\n            setTimeout(() => {\n                this.local_workspace?.dispose();\n                this.local_workspace = null;\n                this.setLoadedLocalFile(null);\n            }, 0);\n        }\n\n        // Forget about drop zone when not on Local tab.\n        if (this.tab_name !== tabs_title.TAB_LOCAL && this.drop_zone) {\n            this.drop_zone.removeEventListener('drop', event => this.handleFileChange(event, false));\n        }\n        this.setOpenButtonDisabled(false);\n    };\n\n    handleFileChange = (\n        event: React.MouseEvent | React.FormEvent<HTMLFormElement> | DragEvent,\n        is_body = true\n    ): boolean => {\n        this.imported_strategy_type = 'pending';\n        this.upload_id = uuidv4();\n        let files;\n        if (event.type === 'drop') {\n            event.stopPropagation();\n            event.preventDefault();\n            ({ files } = event.dataTransfer as DragEvent);\n        } else {\n            ({ files } = event.target);\n        }\n\n        const [file] = files;\n\n        if (!is_body) {\n            if (file.name.includes('xml')) {\n                this.setLoadedLocalFile(file);\n                this.getDashboardStrategies();\n            } else {\n                return false;\n            }\n        }\n        this.readFile(!is_body, event as DragEvent, file);\n        (event.target as HTMLInputElement).value = '';\n        return true;\n    };\n\n    readFile = (is_preview: boolean, drop_event: DragEvent, file: File): void => {\n        const reader = new FileReader();\n        const file_name = file?.name.replace(/\\.[^/.]+$/, '') || '';\n\n        reader.onload = action(async e => {\n            const load_options = {\n                block_string: e?.target?.result,\n                drop_event,\n                from: save_types.LOCAL,\n                workspace: null as window.Blockly.WorkspaceSvg | null,\n                file_name,\n                strategy_id: '',\n                showIncompatibleStrategyDialog: false,\n            };\n            if (this.local_workspace) {\n                this.local_workspace.dispose();\n                this.local_workspace = null;\n            }\n            this.loadStrategyOnModalLocalPreview(load_options);\n            this.setOpenButtonDisabled(false);\n        });\n\n        reader.readAsText(file);\n    };\n\n    saveStrategyToLocalStorage = async () => {\n        const { save_modal } = this.root_store;\n        const { updateBotName } = save_modal;\n        const { convertedDom, from, file_name } = window.Blockly.xmlValues;\n        updateBotName(file_name);\n        await saveWorkspaceToRecent(convertedDom, from);\n        const recent_files = await getSavedWorkspaces();\n        if (recent_files?.length > 0) this.setSelectedStrategyId(recent_files[0]?.id);\n    };\n\n    loadStrategyOnBotBuilder = async () => {\n        const {\n            strategy_id = window.Blockly.utils.idGenerator.genUid(),\n            convertedDom,\n            block_string,\n        } = window.Blockly.xmlValues;\n        const derivWorkspace = window.Blockly.derivWorkspace;\n\n        window.Blockly.Xml.clearWorkspaceAndLoadFromXml(convertedDom, derivWorkspace);\n        derivWorkspace.cleanUp();\n        derivWorkspace.clearUndo();\n        derivWorkspace.current_strategy_id = strategy_id;\n\n        const upload_type = getStrategyType(block_string ?? '');\n        rudderStackSendUploadStrategyCompletedEvent({\n            upload_provider: 'my_computer',\n            upload_type,\n            upload_id: this.upload_id,\n        });\n    };\n\n    updateXmlValuesOnStrategySelection = () => {\n        if (this.recent_strategies.length === 0) return;\n        updateXmlValues({\n            strategy_id: this.selected_strategy_id,\n            convertedDom: window?.Blockly?.utils?.xml?.textToDom(this.selected_strategy?.xml),\n            file_name: this.selected_strategy?.name,\n            from: this.selected_strategy?.save_type || save_types.UNSAVED,\n        });\n    };\n\n    loadStrategyOnModalRecentPreview = async workspace_id => {\n        this.setOpenButtonDisabled(true);\n        if (this.recent_strategies.length === 0 || this.tab_name !== tabs_title.TAB_RECENT) return;\n\n        const { blockly_store } = this.root_store;\n        const { setLoading } = blockly_store;\n\n        const inject_options = { ...inject_workspace_options, theme: window?.Blockly?.Themes?.zelos_renderer };\n\n        this.setLoadedLocalFile(null);\n        this.setSelectedStrategyId(workspace_id);\n\n        await waitForDomElement('#load-strategy__blockly-container');\n        const ref_preview = document.getElementById('load-strategy__blockly-container');\n\n        if (ref_preview) {\n            if (!this.recent_workspace) this.recent_workspace = window.Blockly.inject(ref_preview, inject_options);\n            (this.recent_workspace as any).RTL = isDbotRTL();\n\n            const convertedDom = window.Blockly?.utils?.xml?.textToDom(this.selected_strategy?.xml);\n            const mainWorkspace = window.Blockly?.getMainWorkspace();\n\n            window.Blockly?.Xml?.clearWorkspaceAndLoadFromXml(convertedDom, mainWorkspace);\n        }\n        setLoading(false);\n        this.setOpenButtonDisabled(false);\n    };\n\n    loadStrategyOnModalLocalPreview = async load_options => {\n        this.setOpenButtonDisabled(true);\n        const injectWorkspace = { ...inject_workspace_options, theme: window?.Blockly?.Themes?.zelos_renderer };\n\n        await waitForDomElement('#load-strategy__blockly-container');\n        const ref_preview = document.getElementById('load-strategy__blockly-container');\n        if (!this.local_workspace) this.local_workspace = await window.Blockly.inject(ref_preview, injectWorkspace);\n\n        load_options.workspace = this.local_workspace;\n\n        if (load_options.workspace) {\n            (load_options.workspace as any).RTL = isDbotRTL();\n        }\n\n        const upload_type = getStrategyType(load_options?.block_string ?? '');\n        const result = await load({ ...load_options, show_snackbar: false });\n        if (!result?.error) {\n            rudderStackSendUploadStrategyStartEvent({ upload_provider: 'my_computer', upload_id: this.upload_id });\n        } else if (result?.error) {\n            rudderStackSendUploadStrategyFailedEvent({\n                upload_provider: 'my_computer',\n                upload_id: this.upload_id,\n                upload_type,\n                error_message: result.error,\n            });\n        }\n    };\n}\n",
            "size_bytes": 20685
        },
        "src/components/notify-item/index.ts": {
            "content": "import { arrayAsMessage, messageWithButton, messageWithImage } from './notify-item';\nimport './notify-item.scss';\n\nexport { arrayAsMessage, messageWithButton, messageWithImage };\n",
            "size_bytes": 179
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/After Purchase/read_details.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { config } from '../../../../constants/config';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.read_details = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Contract Details: {{ contract_detail }}', { contract_detail: '%1' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'DETAIL_INDEX',\n                    options: config().lists.DETAILS,\n                },\n            ],\n            output: null,\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND, // TODO: Investigate why block glitches in square shape.\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Reads a selected property from contract details list'),\n            category: window.Blockly.Categories.After_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Contract details'),\n            description: localize('This block gives you information about your last contract.'),\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    restricted_parents: ['after_purchase'],\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.read_details = block => {\n    const detailIndex = block.getFieldValue('DETAIL_INDEX');\n\n    const code = `Bot.readDetails(${detailIndex})`;\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC];\n};\n",
            "size_bytes": 1721
        },
        "src/components/journal/journal-components/index.ts": {
            "content": "export { default as DateItem } from './date-item';\nexport { default as FilterDialog } from './filter-dialog';\nexport { default as Filters } from './filters';\nexport { default as FormatMessage } from './format-message';\nexport { default as JournalItem } from './journal-item';\nexport { default as JournalLoader } from './journal-loader';\nexport { default as JournalTools } from './journal-tools';\n",
            "size_bytes": 396
        },
        "src/components/shared/utils/helpers/market-underlying.ts": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { getContractConfig, getMarketNamesMap } from '../constants/contract';\nimport { TContractOptions } from '../contract/contract-types';\n\ntype TTradeConfig = {\n    button_name?: JSX.Element;\n    name: JSX.Element;\n    position: string;\n    main_title?: JSX.Element;\n};\n\ntype TMarketInfo = {\n    category: string;\n    underlying: string;\n};\n\nexport const getContractDurationType = (longcode: string, shortcode?: string): string => {\n    if (shortcode && /^(MULTUP|MULTDOWN)/.test(shortcode)) return '';\n\n    const duration_pattern = /ticks|tick|seconds|minutes|minute|hour|hours/;\n    const extracted = duration_pattern.exec(longcode);\n    if (extracted !== null) {\n        const duration_type = extracted[0];\n        const duration_text = duration_type[0].toUpperCase() + duration_type.slice(1);\n        return duration_text.endsWith('s') ? duration_text : `${duration_text}s`;\n    }\n    return localize('Days');\n};\n\n/**\n * Fetch market information from shortcode\n * @param shortcode: string\n * @returns {{underlying: string, category: string}}\n */\n\n// TODO: Combine with  extractInfoFromShortcode function in shared, both are currently used\nexport const getMarketInformation = (shortcode: string): TMarketInfo => {\n    const market_info: TMarketInfo = {\n        category: '',\n        underlying: '',\n    };\n\n    const pattern = /^([A-Z]+)_((1HZ[0-9-V]+)|((CRASH|BOOM)\\d+[A-Z]?)|(OTC_[A-Z0-9]+)|R_[\\d]{2,3}|[A-Z]+)/;\n    const extracted = pattern.exec(shortcode);\n    if (extracted !== null) {\n        market_info.category = extracted[1].toLowerCase();\n        market_info.underlying = extracted[2];\n    }\n\n    return market_info;\n};\n\nexport const getMarketName = (underlying: string) =>\n    underlying ? getMarketNamesMap()[underlying.toUpperCase() as keyof typeof getMarketNamesMap] : null;\n\nexport const getTradeTypeName = (category: string, options: TContractOptions = {}) => {\n    const { isHighLow = false, showButtonName = false, showMainTitle = false } = options;\n\n    const trade_type =\n        category &&\n        (getContractConfig(isHighLow)[category.toUpperCase() as keyof typeof getContractConfig] as TTradeConfig);\n    if (!trade_type) return null;\n    if (showMainTitle) return trade_type?.main_title ?? '';\n    return (showButtonName && trade_type.button_name) || trade_type.name || null;\n};\n",
            "size_bytes": 2365
        },
        "src/components/shared/utils/contract/contract-info.ts": {
            "content": "import { TContractInfo } from './contract-types';\n\nexport const mockContractInfo = (obj: Partial<TContractInfo> = {}): TContractInfo => {\n    return {\n        account_id: 84780920,\n        barrier_count: 1,\n        bid_price: 19.32,\n        buy_price: 10,\n        contract_id: 224304409908,\n        contract_type: 'CALL',\n        currency: 'USD',\n        current_spot: 2415.18,\n        entry_spot: 2415.18,\n        current_spot_time: 1700481950,\n        date_expiry: 1700482235,\n        date_settlement: 1700482235,\n        date_start: 1700481935,\n        display_name: 'Volatility 100 (1s) Index',\n        expiry_time: 1700482235,\n        id: '1498e9ed-ef07-a793-76aa-4bee79cab438',\n        is_expired: 0,\n        is_forward_starting: 0,\n        is_intraday: 1,\n        is_path_dependent: 0,\n        is_settleable: 0,\n        is_sold: 0,\n        is_valid_to_cancel: 0,\n        is_valid_to_sell: 0,\n        longcode:\n            'Win payout if Volatility 100 (1s) Index is strictly higher than entry spot at 5 minutes after contract start time.',\n        payout: 19.55,\n        profit: 9.32,\n        profit_percentage: 93.2,\n        purchase_time: 1700481935,\n        shortcode: 'CALL_1HZ100V_19.55_1700481935_1700482235_S0P_0',\n        status: 'open',\n        transaction_ids: {\n            buy: 447576512008,\n        },\n        underlying: '1HZ100V',\n        underlying_symbol: '1HZ100V',\n        exit_spot: 2420.45,\n        entry_spot_time: '2023-11-20 17:00:00',\n        validation_error: 'Waiting for entry tick.',\n        validation_error_code: 'General',\n        ...obj,\n    };\n};\n",
            "size_bytes": 1588
        },
        "src/utils/help-content/help-strings/trade_definition_tradeoptions.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize(\n            'This block is used to define trade options within the Trade parameters root block. Some options are only applicable for certain trade types. Parameters such as duration and stake are common among most trade types. Prediction is used for trade types such as Digits, while barrier offsets are for trade types that involve barriers such as Touch/No Touch, Ends In/Out, etc.'\n        ),\n        localize('Example:'),\n    ],\n};\n",
            "size_bytes": 542
        },
        "src/external/bot-skeleton/scratch/blocks/Text/text_indexOf.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { emptyTextValidator, modifyContextMenu } from '../../utils';\n\nwindow.Blockly.Blocks.text_indexOf = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize(\n                'in text {{ input_text1 }} find {{ first_or_last }} occurence of text {{ input_text2 }}',\n                {\n                    input_text1: '%1',\n                    first_or_last: '%2',\n                    input_text2: '%3',\n                }\n            ),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'END',\n                    options: [\n                        [localize('first'), 'FIRST'],\n                        [localize('last'), 'LAST'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'FIND',\n                },\n            ],\n            inputsInline: true,\n            output: 'String',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Search for a given string'),\n            cateogry: window.Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Search for string'),\n            description: localize(\n                'Searches through a string of text for a specific occurrence of a given character or word, and returns the position.'\n            ),\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    getRequiredValueInputs() {\n        return {\n            VALUE: emptyTextValidator,\n            FIND: emptyTextValidator,\n        };\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.text_indexOf = block => {\n    const functionName = block.getFieldValue('END') === 'FIRST' ? 'indexOf' : 'lastIndexOf';\n    const substring =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'FIND',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_NONE\n        ) || \"''\";\n    const text =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'VALUE',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_MEMBER\n        ) || \"''\";\n\n    const code = `${text}.${functionName}(${substring})`;\n    if (block.workspace.options.oneBasedIndex) {\n        return [`${code} + 1`, window.Blockly.JavaScript.javascriptGenerator.ORDER_ADDITION];\n    }\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_FUNCTION_CALL];\n};\n",
            "size_bytes": 2965
        },
        "src/components/shared/utils/helpers/details.ts": {
            "content": "import moment from 'moment';\nimport { localize } from '@deriv-com/translations';\nimport { TContractInfo } from '../contract';\nimport { epochToMoment, formatMilliseconds, getDiffDuration } from '../date';\n\ntype TUnitMap = {\n    name_plural?: string;\n    name_singular?: string;\n    name?: string;\n};\n\nexport const getDurationUnitValue = (obj_duration: moment.Duration) => {\n    const duration_ms = obj_duration.asMilliseconds() / 1000;\n    // Check with isEndTime to find out if value of duration has decimals\n    // for days we do not require precision for End Time value since users cannot select with timepicker if not in same day\n    // Seconds is the smallest End Time duration displayed thus we can keep the same formatting as normal Duration\n\n    if (duration_ms >= 86400000) {\n        const duration = duration_ms / (1000 * 60 * 60 * 24);\n        return Math.floor(duration);\n    } else if (duration_ms >= 3600000 && duration_ms < 86400000) {\n        const duration = duration_ms / (1000 * 60 * 60);\n        const is_end_time = isEndTime(duration);\n        const has_seconds = isEndTime(duration_ms / (1000 * 60));\n        const string_format = has_seconds ? 'HH[h] mm[m] ss[s]' : 'HH[h] mm[m]';\n\n        return is_end_time\n            ? formatMilliseconds(duration_ms, string_format)\n            : Math.floor(duration_ms / (1000 * 60 * 60));\n    } else if (duration_ms >= 60000 && duration_ms < 3600000) {\n        const duration = duration_ms / (1000 * 60);\n        const is_end_time = isEndTime(duration);\n        return is_end_time ? formatMilliseconds(duration_ms, 'mm[m] ss[s]') : Math.floor(duration_ms / (1000 * 60));\n    } else if (duration_ms >= 1000 && duration_ms < 60000) {\n        return Math.floor(duration_ms / 1000);\n    }\n    return Math.floor(duration_ms / 1000);\n};\n\nexport const isEndTime = (duration: number) => duration % 1 !== 0;\n\nexport const getUnitMap = () => {\n    return {\n        d: { name_plural: localize('days'), name_singular: localize('day') },\n        h: { name_plural: localize('hours'), name_singular: localize('hour') },\n        m: { name_plural: localize('minutes'), name_singular: localize('minute') },\n        s: { name: localize('seconds') },\n        t: { name_plural: localize('ticks'), name_singular: localize('tick') },\n    } as { [key: string]: TUnitMap };\n};\n\nconst TIME = {\n    SECOND: 1000,\n    MINUTE: 60000,\n    HOUR: 3600000,\n    DAY: 86400000,\n} as const;\n\nexport const getDurationUnitText = (obj_duration: moment.Duration, should_ignore_end_time?: boolean) => {\n    const unit_map = getUnitMap();\n    const duration_ms = obj_duration.asMilliseconds() / TIME.SECOND;\n    // return empty suffix string if duration is End Time set except for days and seconds, refer to L18 and L19\n\n    if (duration_ms >= TIME.DAY) {\n        const days_value = duration_ms / TIME.DAY;\n        return days_value <= 2 ? unit_map.d.name_singular : unit_map.d.name_plural;\n    }\n    if (duration_ms >= TIME.HOUR && duration_ms < TIME.DAY) {\n        if (!should_ignore_end_time && isEndTime(duration_ms / TIME.HOUR)) return '';\n        return duration_ms === TIME.HOUR ? unit_map.h.name_singular : unit_map.h.name_plural;\n    }\n    if (duration_ms >= TIME.MINUTE && duration_ms < TIME.HOUR) {\n        if (!should_ignore_end_time && isEndTime(duration_ms / TIME.MINUTE)) return '';\n        return duration_ms === TIME.MINUTE ? unit_map.m.name_singular : unit_map.m.name_plural;\n    }\n    if (duration_ms >= TIME.SECOND && duration_ms < TIME.MINUTE) {\n        return unit_map.s.name;\n    }\n    return unit_map.s.name;\n};\n\nexport const formatResetDuration = (contract_info: TContractInfo) => {\n    const time_duration = getUnitMap();\n    const duration_ms = getDurationPeriod(contract_info).asMilliseconds() / TIME.SECOND / 2;\n    const reset_hours =\n        duration_ms === TIME.HOUR ? `h [${time_duration.h.name_singular}] ` : `h [${time_duration.h.name_plural}] `;\n    const reset_minutes =\n        duration_ms === TIME.MINUTE ? `m [${time_duration.m.name_singular}] ` : `m [${time_duration.m.name_plural}] `;\n    const reset_seconds = duration_ms % TIME.MINUTE === 0 ? '' : `s [${time_duration.s.name}]`;\n\n    return moment\n        .utc(moment.duration(duration_ms, 'milliseconds').asMilliseconds())\n        .format(\n            `${duration_ms >= TIME.HOUR ? reset_hours : ''}${\n                duration_ms >= TIME.MINUTE && duration_ms % TIME.HOUR !== 0 ? reset_minutes : ''\n            }${reset_seconds}`.trim()\n        );\n};\n\nexport const getDurationPeriod = (contract_info: TContractInfo) =>\n    getDiffDuration(\n        +epochToMoment(contract_info.date_start || contract_info.purchase_time || 0),\n        +epochToMoment(contract_info.date_expiry || 0)\n    );\n\nexport const getDurationTime = (contract_info: TContractInfo) =>\n    contract_info.tick_count ? contract_info.tick_count : getDurationUnitValue(getDurationPeriod(contract_info));\n",
            "size_bytes": 4882
        },
        "src/hooks/growthbook/useRemoteConfig.ts": {
            "content": "import { useEffect, useState } from 'react';\nimport { ObjectUtils } from '@deriv-com/utils';\nimport initData from './remote_config.json';\n\nconst remoteConfigQuery = async function () {\n    const REMOTE_CONFIG_URL =\n        process.env.REMOTE_CONFIG_URL ?? 'https://app-config-prod.firebaseio.com/remote_config/deriv-app.json';\n\n    // Check if URL is properly configured - always use fallback instead of throwing\n    if (!REMOTE_CONFIG_URL || REMOTE_CONFIG_URL === '' || REMOTE_CONFIG_URL === 'undefined') {\n        console.warn('Remote Config URL not properly configured, using default fallback');\n        return initData;\n    }\n\n    const response = await fetch(REMOTE_CONFIG_URL);\n    if (!response.ok) {\n        console.warn('Remote Config Server is not reachable, using default fallback');\n        return initData;\n    }\n    return response.json();\n};\n\nfunction useRemoteConfig(enabled = false) {\n    const [data, setData] = useState(initData);\n\n    useEffect(() => {\n        if (enabled) {\n            remoteConfigQuery()\n                .then(async res => {\n                    const resHash = await ObjectUtils.hashObject(res);\n                    const dataHash = await ObjectUtils.hashObject(data);\n                    if (resHash !== dataHash) {\n                        setData(res);\n                    }\n                })\n                .catch(error => {\n                    console.error('Remote Config error: ', error);\n                    // Don't rethrow - just log and continue with fallback data\n                });\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [enabled]);\n\n    return { data };\n}\n\nexport default useRemoteConfig;\n",
            "size_bytes": 1687
        },
        "src/components/flyout/help-contents/index.ts": {
            "content": "import HelpBase from './flyout-help-base';\n\nexport default HelpBase;\n",
            "size_bytes": 69
        },
        "src/components/shared/utils/validation/form-error-messages-types.ts": {
            "content": "type TMessage = () => string;\ntype TParameter = string | number;\n\nexport type TFormErrorMessagesTypes = Record<\n    | 'empty_address'\n    | 'address'\n    | 'barrier'\n    | 'email'\n    | 'general'\n    | 'name'\n    | 'password'\n    | 'po_box'\n    | 'phone'\n    | 'postcode'\n    | 'signup_token'\n    | 'tax_id'\n    | 'number'\n    | 'validTaxID',\n    TMessage\n> & {\n    decimalPlaces: (decimals: TParameter) => string;\n    value: (value: TParameter) => string;\n    betweenMinMax: (min_value: TParameter, max_value: TParameter) => string;\n    minNumber: (min_value: TParameter) => string;\n    maxNumber: (max_value: TParameter) => string;\n    password_warnings: Record<\n        | 'use_a_few_words'\n        | 'no_need_for_mixed_chars'\n        | 'uncommon_words_are_better'\n        | 'straight_rows_of_keys_are_easy'\n        | 'short_keyboard_patterns_are_easy'\n        | 'use_longer_keyboard_patterns'\n        | 'repeated_chars_are_easy'\n        | 'repeated_patterns_are_easy'\n        | 'avoid_repeated_chars'\n        | 'sequences_are_easy'\n        | 'avoid_sequences'\n        | 'recent_years_are_easy'\n        | 'avoid_recent_years'\n        | 'avoid_associated_years'\n        | 'dates_are_easy'\n        | 'avoid_associated_dates_and_years'\n        | 'top10_common_password'\n        | 'top100_common_password'\n        | 'very_common_password'\n        | 'similar_to_common_password'\n        | 'a_word_is_easy'\n        | 'names_are_easy'\n        | 'common_names_are_easy'\n        | 'capitalization_doesnt_help'\n        | 'all_uppercase_doesnt_help'\n        | 'reverse_doesnt_help'\n        | 'substitution_doesnt_help'\n        | 'user_dictionary',\n        TMessage\n    >;\n};\n",
            "size_bytes": 1666
        },
        "src/external/bot-skeleton/scratch/hooks/data_category.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport DBotStore from '../dbot-store';\n\n/**\n * Construct the blocks required by the flyout for the variable category.\n * @param {!window.Blockly.Workspace} workspace The workspace containing variables.\n * @return {!Array.<!Element>} Array of XML block elements.\n */\nwindow.Blockly.DataCategory = function (workspace) {\n    const variableModelList = workspace.getVariablesOfType('');\n    let xmlList = [];\n\n    // `Create Variable`-Section\n    window.Blockly.DataCategory.addCreateVariable(xmlList, workspace);\n\n    const block_types = ['variables_set', 'variables_get', 'math_change'];\n    xmlList = xmlList.concat(window.Blockly.DataCategory.search(variableModelList, block_types));\n\n    return xmlList;\n};\n\nwindow.Blockly.DataCategory.search = function (variableModelList) {\n    const xmlList = [];\n    if (variableModelList.length > 0) {\n        const generateVariableFieldXmlString = variableModel => {\n            // The variable name may be user input, so it may contain characters that\n            // need to be escaped to create valid XML.\n            const escapedText = `<field name=\"VAR\" id=\"${variableModel.getId()}\" variabletype=\"${encodeURIComponent(\n                variableModel.type\n            )}\">${encodeURIComponent(variableModel.name)}</field>`;\n            return escapedText;\n        };\n\n        const firstVariable = variableModelList[0];\n\n        // Create 'Set `var` to'-block\n        if (window.Blockly.Blocks.variables_set) {\n            const gap = window.Blockly.Blocks.math_change ? 8 : 24;\n            const setBlockText = `<xml><block type=\"variables_set\" gap=\"${gap}\">${generateVariableFieldXmlString(\n                firstVariable\n            )}</block></xml>`;\n            const setBlock = window.Blockly.utils.xml.textToDom(setBlockText).firstChild;\n            xmlList.push(setBlock);\n        }\n\n        // Create 'Change `var` by `1`'-block\n        // if (window.Blockly.Blocks.math_change) {\n        //     const gap = window.Blockly.Blocks.variables_get ? 20 : 8;\n        //     const changeBlockText = `<xml><block type=\"math_change\" gap=\"${gap}\">${generateVariableFieldXmlString(\n        //         firstVariable\n        //     )}<value name=\"DELTA\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></xml>`;\n        //     const changeBlock = window.Blockly.Xml.textToDom(changeBlockText).firstChild;\n        //     xmlList.push(changeBlock);\n        // }\n\n        // Create `variable_get` block for each variable\n        if (window.Blockly.Blocks.variables_get) {\n            // For adding sort base on the creation date\n            variableModelList.sort(\n                (first_variable, second_variable) =>\n                    variableModelList.indexOf(second_variable) - variableModelList.indexOf(first_variable)\n            );\n\n            variableModelList.forEach(variable => {\n                const getBlockText = `<xml><block type=\"variables_get\">${generateVariableFieldXmlString(\n                    variable\n                )}</block></xml>`;\n                const getBlock = window.Blockly.utils.xml.textToDom(getBlockText).firstChild;\n                xmlList.push(getBlock);\n            });\n        }\n    }\n\n    return xmlList;\n};\n\n/**\n * Construct a create variable section and push it to the xmlList.\n * @param {!Array.<!Element>} xmlList Array of XML block elements.\n * @param {window.Blockly.Workspace} workspace Workspace to register callback to.\n * @deriv/bot: We only use a single type of variable, so `type` arg was removed.\n */\nwindow.Blockly.DataCategory.addCreateVariable = function (xmlList, workspace) {\n    const el_button_xml = document.createElement('button');\n    const el_input_xml = document.createElement('input');\n\n    // Set default msg, callbackKey, and callback values for type 'VARIABLE'\n    const button_text = localize('Create');\n    const callback_key = 'CREATE_VARIABLE';\n    const input_placeholder = localize('New variable name');\n\n    // Set attributes for the button\n    el_button_xml.setAttribute('text', button_text);\n    el_button_xml.setAttribute('className', 'flyout__button-new');\n    el_button_xml.setAttribute('callbackKey', callback_key);\n\n    // Set attributes for the input field\n    el_input_xml.setAttribute('className', 'flyout__input');\n    el_input_xml.setAttribute('name', 'variable');\n    el_input_xml.setAttribute('type', 'text');\n    el_input_xml.setAttribute('placeholder', input_placeholder);\n\n    const callback = function (button) {\n        const el_input_container = document.querySelector('.flyout__input > .dc-input__container');\n        const el_input = el_input_container.firstChild;\n\n        const buttonWorkspace = button.getTargetWorkspace();\n        buttonWorkspace.createVariable(el_input.value, '');\n        el_input.value = '';\n\n        const { flyout } = DBotStore.instance;\n        flyout.refreshCategory();\n    };\n\n    workspace.registerButtonCallback(callback_key, callback);\n\n    xmlList.push(el_input_xml);\n    xmlList.push(el_button_xml);\n};\n",
            "size_bytes": 5058
        },
        "src/components/journal/journal.tsx": {
            "content": "import classnames from 'classnames';\nimport { observer } from 'mobx-react-lite';\nimport Text from '@/components/shared_ui/text';\nimport { contract_stages } from '@/constants/contract-stage';\nimport { useStore } from '@/hooks/useStore';\nimport { DerivLightEmptyCardboardBoxIcon } from '@deriv/quill-icons/Illustration';\nimport { Localize } from '@deriv-com/translations';\nimport { useDevice } from '@deriv-com/ui';\nimport DataList from '../data-list';\nimport { TCheckedFilters, TFilterMessageValues, TJournalDataListArgs } from './journal.types';\nimport { JournalItem, JournalLoader, JournalTools } from './journal-components';\n\nconst Journal = observer(() => {\n    const { journal, run_panel } = useStore();\n    const {\n        checked_filters,\n        filterMessage,\n        filters,\n        filtered_messages,\n        is_filter_dialog_visible,\n        toggleFilterDialog,\n        unfiltered_messages,\n    } = journal;\n    const { is_stop_button_visible, contract_stage } = run_panel;\n\n    const filtered_messages_length = Array.isArray(filtered_messages) && filtered_messages.length;\n    const unfiltered_messages_length = Array.isArray(unfiltered_messages) && unfiltered_messages.length;\n    const { isDesktop } = useDevice();\n\n    return (\n        <div\n            className={classnames('journal run-panel-tab__content--no-stat', {\n                'run-panel-tab__content': isDesktop,\n            })}\n            data-testid='dt_mock_journal'\n        >\n            <JournalTools\n                checked_filters={checked_filters}\n                filters={filters}\n                filterMessage={filterMessage}\n                is_filter_dialog_visible={is_filter_dialog_visible}\n                toggleFilterDialog={toggleFilterDialog}\n            />\n            <div className='journal__item-list'>\n                {filtered_messages_length ? (\n                    <DataList\n                        className='journal'\n                        data_source={filtered_messages}\n                        rowRenderer={(args: TJournalDataListArgs) => <JournalItem {...args} />}\n                        keyMapper={(row: TFilterMessageValues) => row.unique_id}\n                    />\n                ) : (\n                    <>\n                        {contract_stage >= contract_stages.STARTING &&\n                        !!Object.keys(checked_filters as TCheckedFilters).length &&\n                        !unfiltered_messages_length &&\n                        is_stop_button_visible ? (\n                            <JournalLoader is_mobile={!isDesktop} />\n                        ) : (\n                            <div className='journal-empty'>\n                                <DerivLightEmptyCardboardBoxIcon\n                                    height='64px'\n                                    width='64px'\n                                    className='journal-empty__icon icon-general-fill-g-path'\n                                    color='secondary'\n                                    fill='var(--text-general)'\n                                />\n                                <Text\n                                    as='h4'\n                                    size='xs'\n                                    weight='bold'\n                                    align='center'\n                                    color='less-prominent'\n                                    lineHeight='s'\n                                    className='journal-empty__header'\n                                >\n                                    <Localize i18n_default_text='There are no messages to display' />\n                                </Text>\n                                <div className='journal-empty__message'>\n                                    <Text size='xxs' color='less-prominent'>\n                                        <Localize i18n_default_text='Here are the possible reasons:' />\n                                    </Text>\n                                    <ul className='journal-empty__list'>\n                                        <li>\n                                            <Text size='xxs' color='less-prominent'>\n                                                <Localize i18n_default_text='The bot is not running' />\n                                            </Text>\n                                        </li>\n                                        <li>\n                                            <Text size='xxs' color='less-prominent'>\n                                                <Localize i18n_default_text='The stats are cleared' />\n                                            </Text>\n                                        </li>\n                                        <li>\n                                            <Text size='xxs' color='less-prominent'>\n                                                <Localize i18n_default_text='All messages are filtered out' />\n                                            </Text>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </div>\n                        )}\n                    </>\n                )}\n            </div>\n        </div>\n    );\n});\n\nexport default Journal;\n",
            "size_bytes": 5265
        },
        "src/components/shared_ui/contract-card/contract-card-items/contract-card-header.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { CSSTransition } from 'react-transition-group';\nimport { MarketIcon } from '@/components/market/market-icon';\nimport {\n    getCurrentTick,\n    getGrowthRatePercentage,\n    getLocalizedTurbosSubtype,\n    isAccumulatorContract,\n    isHighLow,\n    isMultiplierContract,\n    isSmartTraderContract,\n    isTurbosContract,\n} from '@/components/shared';\nimport { TContractInfo } from '@/components/shared/utils/contract/contract-types';\nimport { Button, useDevice } from '@deriv-com/ui';\nimport DesktopWrapper from '../../desktop-wrapper';\nimport MobileWrapper from '../../mobile-wrapper';\nimport ProgressSlider from '../../progress-slider';\nimport Text from '../../text';\nimport { TGetCardLables, TGetContractTypeDisplay } from '../../types/common.types';\nimport ContractTypeCell from './contract-type-cell';\nimport TickCounterBar from './tick-counter-bar';\n\nexport type TContractCardHeaderProps = {\n    contract_info: TContractInfo;\n    display_name: string;\n    getCardLabels: TGetCardLables;\n    getContractTypeDisplay: TGetContractTypeDisplay;\n    has_progress_slider: boolean;\n    is_mobile: boolean;\n    is_sell_requested: boolean;\n    is_valid_to_sell?: boolean;\n    onClickSell: (contract_id?: number) => void;\n    server_time: moment.Moment;\n    id?: number;\n    is_sold?: boolean;\n};\n\nconst ContractCardHeader = ({\n    contract_info,\n    display_name,\n    getCardLabels,\n    getContractTypeDisplay,\n    has_progress_slider,\n    id,\n    is_sell_requested,\n    is_sold: is_contract_sold,\n    is_valid_to_sell,\n    onClickSell,\n    server_time,\n}: TContractCardHeaderProps) => {\n    const current_tick = contract_info.tick_count ? getCurrentTick(contract_info) : null;\n    const {\n        growth_rate,\n        underlying_symbol,\n        multiplier,\n        contract_type,\n        shortcode,\n        purchase_time,\n        date_expiry,\n        tick_count,\n        tick_passed,\n    } = contract_info;\n    const is_bot = true;\n    const is_sold = !!contract_info.is_sold || is_contract_sold;\n    const is_accumulator = isAccumulatorContract(contract_type);\n    const is_smarttrader_contract = isSmartTraderContract(contract_type);\n    const { isMobile } = useDevice();\n    const is_turbos = isTurbosContract(contract_type);\n    const is_multipliers = isMultiplierContract(contract_type);\n    const is_high_low = isHighLow({ shortcode });\n\n    const contract_type_list_info = React.useMemo(\n        () => [\n            {\n                is_param_displayed: is_multipliers,\n                displayed_param: `${getContractTypeDisplay(contract_type ?? '', {\n                    isHighLow: is_high_low,\n                })} x${multiplier}`.trim(),\n            },\n            {\n                is_param_displayed: is_accumulator,\n                displayed_param: `${getGrowthRatePercentage(growth_rate || 0)}%`,\n            },\n            {\n                is_param_displayed: is_turbos,\n                displayed_param: getLocalizedTurbosSubtype(contract_type),\n            },\n        ],\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [contract_type, growth_rate, multiplier, is_accumulator, is_multipliers, is_turbos, is_high_low]\n    );\n\n    const displayed_trade_param =\n        contract_type_list_info.find(contract_type_item_info => contract_type_item_info.is_param_displayed)\n            ?.displayed_param || '';\n\n    return (\n        <React.Fragment>\n            <div\n                className={classNames('dc-contract-card__grid', 'dc-contract-card__grid-underlying-trade', {\n                    'dc-contract-card__grid-underlying-trade--trader': !is_bot,\n                    'dc-contract-card__grid-underlying-trade--trader--accumulator':\n                        !(isMobile || is_bot) && is_accumulator,\n                    'dc-contract-card__grid-underlying-trade--trader--sold':\n                        (is_accumulator || is_turbos || is_multipliers) && is_sold,\n                })}\n            >\n                <div\n                    id='dc-contract_card_underlying_label'\n                    className={classNames('dc-contract-card__underlying-name', {\n                        'dc-contract-card__underlying-name--accumulator': is_accumulator,\n                    })}\n                >\n                    <MarketIcon type={underlying_symbol ?? ''} size='md' />\n                    <Text\n                        size='xxs'\n                        className={classNames('dc-contract-card__symbol', {\n                            'dc-contract-card__symbol--smarttrader-contract': is_smarttrader_contract,\n                        })}\n                        weight='bold'\n                    >\n                        {display_name || contract_info.display_name}\n                    </Text>\n                </div>\n                <div\n                    id='dc-contract_card_type_label'\n                    className={classNames('dc-contract-card__type', {\n                        'dc-contract-card__type--accumulators': is_accumulator,\n                    })}\n                >\n                    <ContractTypeCell\n                        displayed_trade_param={displayed_trade_param}\n                        getContractTypeDisplay={getContractTypeDisplay}\n                        is_high_low={is_high_low}\n                        is_multipliers={is_multipliers}\n                        is_turbos={is_turbos}\n                        type={contract_type}\n                    />\n                </div>\n                <MobileWrapper>\n                    {is_valid_to_sell ? (\n                        <CSSTransition\n                            in={!!is_valid_to_sell}\n                            timeout={250}\n                            classNames={{\n                                enter: 'dc-contract-card__sell-button--enter',\n                                enterDone: 'dc-contract-card__sell-button--enter-done',\n                                exit: 'dc-contract-card__sell-button--exit',\n                            }}\n                            unmountOnExit\n                        >\n                            <div className='dc-contract-card__sell-button-mobile'>\n                                <Button\n                                    id={`dc_contract_card_${id}_button`}\n                                    className={classNames('dc-btn--sell', {\n                                        'dc-btn--loading': is_sell_requested,\n                                    })}\n                                    disabled={!is_valid_to_sell || is_sell_requested}\n                                    onClick={() => onClickSell(id)}\n                                    variant='outlined'\n                                >\n                                    {getCardLabels().SELL}\n                                </Button>\n                            </div>\n                        </CSSTransition>\n                    ) : null}\n                </MobileWrapper>\n            </div>\n            {!is_sold && is_accumulator && <TickCounterBar current_tick={tick_passed} label={getCardLabels().TICKS} />}\n            <MobileWrapper>\n                <div className='dc-progress-slider--completed' />\n            </MobileWrapper>\n            <DesktopWrapper>\n                {(!has_progress_slider || !!is_sold) && <div className='dc-progress-slider--completed' />}\n                {has_progress_slider && !is_sold && !is_accumulator && (\n                    <ProgressSlider\n                        current_tick={current_tick}\n                        expiry_time={date_expiry}\n                        getCardLabels={getCardLabels}\n                        is_loading={false}\n                        server_time={server_time}\n                        start_time={purchase_time}\n                        ticks_count={tick_count}\n                    />\n                )}\n            </DesktopWrapper>\n        </React.Fragment>\n    );\n};\n\nexport default ContractCardHeader;\n",
            "size_bytes": 7967
        },
        "src/components/shared_ui/field/field.tsx": {
            "content": "import classNames from 'classnames';\n\ntype TFieldProps = {\n    className?: string;\n    message: string;\n    type?: 'error' | 'warn';\n};\n\nconst Field = ({ message, className, type }: TFieldProps) => (\n    <div\n        className={classNames('dc-field', className, {\n            'dc-field--error': type === 'error',\n            'dc-field--warn': type === 'warn',\n        })}\n    >\n        {message}\n    </div>\n);\n\nexport default Field;\n",
            "size_bytes": 433
        },
        "src/external/bot-skeleton/scratch/blocks/Text/text_changeCase.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { emptyTextValidator, modifyContextMenu } from '../../utils';\n\nwindow.Blockly.Blocks.text_changeCase = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Transform {{ input_text }} to {{ transform_type }}', {\n                input_text: '%1',\n                transform_type: '%2',\n            }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'TEXT',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'CASE',\n                    options: [\n                        [localize('UPPER CASE'), 'UPPERCASE'],\n                        [localize('lower case'), 'LOWERCASE'],\n                        [localize('Title Case'), 'TITLECASE'],\n                    ],\n                },\n            ],\n            output: 'String',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Changes text case accordingly'),\n            category: window.Blockly.Categories.Text,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    meta() {\n        return {\n            display_name: localize('Change text case'),\n            description: localize(\n                'Changes the capitalisation of a string of text to Upper case, Lower case, Title case.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            TEXT: emptyTextValidator,\n        };\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.text_changeCase = block => {\n    const operators = {\n        UPPERCASE: '.toUpperCase()',\n        LOWERCASE: '.toLowerCase()',\n        TITLECASE: null,\n    };\n    const operator = operators[block.getFieldValue('CASE')];\n    const textOrder = operator\n        ? window.Blockly.JavaScript.javascriptGenerator.ORDER_MEMBER\n        : window.Blockly.JavaScript.javascriptGenerator.ORDER_NONE;\n    const text = window.Blockly.JavaScript.javascriptGenerator.valueToCode(block, 'TEXT', textOrder) || \"''\";\n\n    let code;\n\n    if (operator) {\n        code = `${text}${operator}`;\n    } else {\n        // eslint-disable-next-line no-underscore-dangle\n        const functionName = window.Blockly.JavaScript.javascriptGenerator.provideFunction_('textToTitleCase', [\n            // eslint-disable-next-line no-underscore-dangle\n            `function ${window.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(str) {\n                return str.toLowerCase().split(' ').map(function(word) {\n                    return word.replace(word[0], word[0].toUpperCase());\n                }).join(' ');\n            }`,\n        ]);\n        code = `${functionName}(${text})`;\n    }\n\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_FUNCTION_CALL];\n};\n",
            "size_bytes": 3105
        },
        "analysis-tool/Benanalysistool-final-main/hooks/use-deriv.ts": {
            "content": "\"use client\"\n\nimport { useEffect, useState, useCallback, useRef } from \"react\"\nimport { DerivWebSocket, type DerivSymbol, type ConnectionLog } from \"@/lib/deriv-websocket\"\nimport { AnalysisEngine, type TickData, type AnalysisResult, type Signal } from \"@/lib/analysis-engine\"\nimport { AIPredictor, type PredictionResult } from \"@/lib/ai-predictor\"\n\nexport function useDeriv(initialSymbol = \"R_100\", initialMaxTicks = 100) {\n  const [connectionStatus, setConnectionStatus] = useState<\"connected\" | \"disconnected\" | \"reconnecting\">(\n    \"disconnected\",\n  )\n  const [currentPrice, setCurrentPrice] = useState<number | null>(null)\n  const [currentDigit, setCurrentDigit] = useState<number | null>(null)\n  const [tickCount, setTickCount] = useState(0)\n  const [analysis, setAnalysis] = useState<AnalysisResult | null>(null)\n  const [signals, setSignals] = useState<Signal[]>([])\n  const [aiPrediction, setAiPrediction] = useState<PredictionResult | null>(null)\n  const [symbol, setSymbol] = useState(initialSymbol)\n  const [maxTicks, setMaxTicks] = useState(initialMaxTicks)\n  const [availableSymbols, setAvailableSymbols] = useState<DerivSymbol[]>([])\n  const [connectionLogs, setConnectionLogs] = useState<ConnectionLog[]>([])\n  const [proSignals, setProSignals] = useState<Signal[]>([])\n\n  const wsRef = useRef<DerivWebSocket | null>(null)\n  const engineRef = useRef<AnalysisEngine | null>(null)\n  const predictorRef = useRef<AIPredictor | null>(null)\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") return\n\n    wsRef.current = new DerivWebSocket()\n    engineRef.current = new AnalysisEngine(maxTicks)\n    predictorRef.current = new AIPredictor()\n\n    const unsubscribeStatus = wsRef.current.onConnectionStatus((status) => {\n      setConnectionStatus(status)\n    })\n\n    const unsubscribeTick = wsRef.current.subscribe(\"tick\", (data) => {\n      if (data.tick) {\n        const tick: TickData = {\n          epoch: data.tick.epoch,\n          quote: data.tick.quote,\n          symbol: data.tick.symbol,\n          pipSize: data.tick.pip_size || 2,\n        }\n\n        if (data.tick.pip_size) {\n          engineRef.current?.setPipSize(data.tick.pip_size)\n        }\n\n        engineRef.current?.addTick(tick)\n\n        setCurrentPrice(tick.quote)\n        setCurrentDigit(engineRef.current?.getCurrentDigit() || null)\n        setTickCount((prev) => prev + 1)\n\n        const newAnalysis = engineRef.current?.getAnalysis()\n        const newSignals = engineRef.current?.generateSignals()\n        const newProSignals = engineRef.current?.generateProSignals()\n\n        if (newAnalysis) setAnalysis(newAnalysis)\n        if (newSignals) setSignals(newSignals)\n        if (newProSignals) setProSignals(newProSignals)\n\n        if (predictorRef.current && engineRef.current) {\n          const lastDigits = engineRef.current.getLastDigits()\n          const digitCounts = new Map<number, number>()\n          newAnalysis?.digitFrequencies.forEach((freq) => {\n            digitCounts.set(freq.digit, freq.count)\n          })\n          const prediction = predictorRef.current.predict(lastDigits, digitCounts)\n          setAiPrediction(prediction)\n        }\n      }\n    })\n\n    const unsubscribeSymbols = wsRef.current.subscribe(\"active_symbols\", (data) => {\n      if (data.active_symbols) {\n        setAvailableSymbols(data.active_symbols)\n      }\n    })\n\n    const unsubscribeLogs = wsRef.current.subscribe(\"connection_log\", (log: ConnectionLog) => {\n      setConnectionLogs((prev) => [...prev, log].slice(-100))\n    })\n\n    wsRef.current.connect().then(() => {\n      wsRef.current?.getActiveSymbols()\n      wsRef.current?.subscribeTicks(symbol)\n    })\n\n    return () => {\n      unsubscribeStatus()\n      unsubscribeTick()\n      unsubscribeSymbols()\n      unsubscribeLogs()\n      wsRef.current?.disconnect()\n    }\n  }, [])\n\n  const changeSymbol = useCallback((newSymbol: string) => {\n    if (wsRef.current?.isConnected()) {\n      wsRef.current.unsubscribeTicks()\n      wsRef.current.subscribeTicks(newSymbol)\n      engineRef.current?.clear()\n      setSymbol(newSymbol)\n      setTickCount(0)\n      setCurrentPrice(null)\n      setCurrentDigit(null)\n      setAnalysis(null)\n      setSignals([])\n      setAiPrediction(null)\n    }\n  }, [])\n\n  const changeMaxTicks = useCallback((newMaxTicks: number) => {\n    engineRef.current?.setMaxTicks(newMaxTicks)\n    setMaxTicks(newMaxTicks)\n  }, [])\n\n  const exportData = useCallback(\n    (format: \"csv\" | \"json\") => {\n      const ticks = engineRef.current?.getTicks() || []\n      const analysisData = engineRef.current?.getAnalysis()\n\n      if (format === \"json\") {\n        return JSON.stringify({ ticks, analysis: analysisData, signals }, null, 2)\n      } else {\n        let csv = \"Epoch,Quote,Symbol,LastDigit\\n\"\n        const lastDigits = engineRef.current?.getLastDigits() || []\n        ticks.forEach((tick, index) => {\n          csv += `${tick.epoch},${tick.quote},${tick.symbol},${lastDigits[index]}\\n`\n        })\n        return csv\n      }\n    },\n    [signals],\n  )\n\n  const getRecentDigits = useCallback((count = 20) => {\n    return engineRef.current?.getRecentDigits(count) || []\n  }, [])\n\n  return {\n    connectionStatus,\n    currentPrice,\n    currentDigit,\n    tickCount,\n    analysis,\n    signals: signals || [],\n    proSignals: proSignals || [],\n    aiPrediction,\n    symbol,\n    maxTicks,\n    availableSymbols,\n    connectionLogs,\n    changeSymbol,\n    changeMaxTicks,\n    exportData,\n    getRecentDigits,\n  }\n}\n",
            "size_bytes": 5448
        },
        "jest.setup.ts": {
            "content": "import '@testing-library/jest-dom/jest-globals';\nimport '@testing-library/jest-dom';\n\nlet originalLocalStorage: Storage;\nconst localStorageMock: Storage = {\n    clear() {\n        this.store = {};\n    },\n    getItem(key) {\n        return this.store[key];\n    },\n    key() {\n        return 'test key';\n    },\n    length: 0,\n    removeItem(key) {\n        delete this.store[key];\n    },\n    setItem(key, value) {\n        this.store[key] = value.toString();\n    },\n    store: {},\n};\n\nexport const mockLocalStorageBeforeEachTest = () => {\n    originalLocalStorage = global.localStorage;\n    Object.defineProperty(global, 'localStorage', { value: localStorageMock });\n};\n\nexport const restoreLocalStorageAfterEachTest = () => {\n    Object.defineProperty(global, 'localStorage', { value: originalLocalStorage });\n};\n\nObject.defineProperty(window, 'matchMedia', {\n    writable: true,\n    value: jest.fn().mockImplementation(query => ({\n        matches: false,\n        media: query,\n        onchange: null,\n        addListener: jest.fn(),\n        removeListener: jest.fn(),\n    })),\n});\n\n// Mock fetch for tests\nglobal.fetch = jest.fn(() =>\n    Promise.resolve({\n        ok: true,\n        json: () => Promise.resolve({}),\n    })\n) as jest.Mock;\n",
            "size_bytes": 1235
        },
        "src/components/shared_ui/contract-card/contract-card.tsx": {
            "content": "import React from 'react';\nimport ContractCardLoader from '@/components/contract-card-loading';\nimport { getTotalProfit, TContractInfo } from '@/components/shared/utils/contract';\nimport DesktopWrapper from '../desktop-wrapper';\nimport { TGetCardLables, TGetContractPath } from '../types';\nimport ContractCardBody from './contract-card-items/contract-card-body';\nimport ContractCardFooter from './contract-card-items/contract-card-footer';\nimport ContractCardHeader from './contract-card-items/contract-card-header';\nimport ContractCardSell from './contract-card-items/contract-card-sell';\nimport ContractTypeCell from './contract-card-items/contract-type-cell';\nimport MultiplierCloseActions from './contract-card-items/multiplier-close-actions';\nimport ResultOverlay from './result-overlay';\n\ntype TContractCardProps = {\n    contract_info: TContractInfo;\n    getCardLabels: TGetCardLables;\n    getContractPath?: TGetContractPath;\n    is_multiplier: boolean;\n    is_positions?: boolean;\n    onClickRemove?: (contract_id?: number) => void;\n    profit_loss: number;\n    result?: string;\n    should_show_result_overlay: boolean;\n};\n\nconst ContractCard = ({\n    children,\n    contract_info,\n    getCardLabels,\n    getContractPath,\n    is_multiplier,\n    is_positions,\n    onClickRemove,\n    profit_loss,\n    result,\n    should_show_result_overlay,\n}: React.PropsWithChildren<TContractCardProps>) => {\n    const fallback_result = profit_loss >= 0 ? 'won' : 'lost';\n    const payout_info = is_multiplier ? getTotalProfit(contract_info) : profit_loss;\n    return (\n        <React.Fragment>\n            {should_show_result_overlay && (\n                <DesktopWrapper>\n                    <ResultOverlay\n                        contract_id={contract_info.contract_id}\n                        currency={contract_info.currency}\n                        getCardLabels={getCardLabels}\n                        getContractPath={getContractPath}\n                        is_multiplier={is_multiplier}\n                        is_visible={!!contract_info.is_sold}\n                        onClickRemove={onClickRemove}\n                        payout_info={payout_info}\n                        result={result || fallback_result}\n                        is_positions={is_positions}\n                    />\n                </DesktopWrapper>\n            )}\n            {children}\n        </React.Fragment>\n    );\n};\n\nContractCard.Header = ContractCardHeader;\nContractCard.Body = ContractCardBody;\nContractCard.Footer = ContractCardFooter;\nContractCard.Loader = ContractCardLoader;\nContractCard.ContractTypeCell = ContractTypeCell;\nContractCard.MultiplierCloseActions = MultiplierCloseActions;\nContractCard.Sell = ContractCardSell;\n\nexport default ContractCard;\n",
            "size_bytes": 2737
        },
        "src/external/bot-skeleton/scratch/goog.js": {
            "content": "const goog = {};\n\ngoog.inherits = function (childCtor, parentCtor) {\n    function tempCtor() {}\n    tempCtor.prototype = parentCtor.prototype;\n    childCtor.superClass_ = parentCtor.prototype;\n    // eslint-disable-next-line new-cap\n    childCtor.prototype = new tempCtor();\n    childCtor.prototype.constructor = childCtor;\n\n    childCtor.base = function (me, methodName, ...args) {\n        return parentCtor.prototype[methodName].apply(me, args);\n    };\n};\n\ngoog.math = {};\n\ngoog.isDef = function (e) {\n    return e !== undefined;\n};\n\ngoog.math.Size = function (e, t) {\n    this.width = e;\n    this.height = t;\n};\n\ngoog.isNumber = function (e) {\n    return /^\\s*-?\\d+(\\.\\d+)?\\s*$/.test(e);\n};\n\ngoog.dom = {};\n\ngoog.dom.removeNode = function (node) {\n    const parent_element = node.parentNode;\n    const child_element = node;\n\n    if (child_element && parent_element && parent_element?.contains(child_element)) {\n        parent_element?.removeChild(child_element);\n    }\n};\n\ngoog.math.Coordinate = function (e, t) {\n    this.x = goog.isDef(e) ? e : 0;\n    this.y = goog.isDef(t) ? t : 0;\n};\n\ngoog.math.Coordinate.prototype.scale = function (e, t) {\n    // eslint-disable-next-line no-param-reassign\n    t = goog.isNumber(t) ? t : e;\n    this.x *= e;\n    this.y *= t;\n    return this;\n};\n\ngoog.math.Coordinate.difference = function (coord1, coord2) {\n    return new goog.math.Coordinate(coord1.x - coord2.x, coord1.y - coord2.y);\n};\n\nexport default goog;\n",
            "size_bytes": 1455
        },
        "src/components/shared_ui/static-url/index.ts": {
            "content": "import StaticUrl from './static-url';\n\nexport default StaticUrl;\n",
            "size_bytes": 65
        },
        "src/external/bot-skeleton/scratch/blocks/Math/math_random_float.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../utils';\n\nwindow.Blockly.Blocks.math_random_float = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('random fraction'),\n            output: 'Number',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block gives you a random fraction between 0.0 to 1.0'),\n            category: window.Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Random fraction number'),\n            description: localize('This block gives you a random fraction between 0.0 to 1.0.'),\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.math_random_float = () => [\n    'Math.random()',\n    window.Blockly.JavaScript.javascriptGenerator.ORDER_FUNCTION_CALL,\n];\n",
            "size_bytes": 1218
        },
        "src/components/shared_ui/input-field/input-field.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { getCurrencyDisplayCode, isCryptocurrency } from '@/components/shared';\nimport Text from '../text';\nimport Tooltip from '../tooltip';\nimport IncrementButtons, { TButtonType } from './increment-buttons';\nimport Input, { TInputMode } from './input';\n\nexport type TChangeEvent = { target: { name: string; value: number | string } };\n\n// ToDo: Refactor input_field\n// supports more than two different types of 'value' as a prop.\n// Quick Solution - Pass two different props to input field.\ntype TInputField = {\n    ariaLabel?: string;\n    checked?: boolean;\n    className?: string;\n    classNameDynamicSuffix?: string;\n    classNameInlinePrefix?: string;\n    classNameInput?: string;\n    classNamePrefix?: string;\n    classNameWrapper?: string; // CSS class for the component wrapper\n    currency?: string;\n    current_focus?: string | null;\n    data_testid?: string;\n    data_tip?: string;\n    data_value?: string;\n    decimal_point_change?: number; // Specify which decimal point must be updated when the increment/decrement button is pressed\n    error_message_alignment?: string;\n    error_messages?: string[];\n    format?: (new_value?: string) => string;\n    fractional_digits?: number;\n    helper?: string;\n    icon?: React.ElementType;\n    id?: string;\n    increment_button_type?: TButtonType;\n    inline_prefix?: string;\n    inputmode?: TInputMode;\n    is_autocomplete_disabled?: boolean;\n    is_disabled?: boolean;\n    is_error_tooltip_hidden?: boolean;\n    is_float?: boolean;\n    is_hj_whitelisted?: boolean;\n    is_incrementable_on_long_press?: boolean;\n    is_incrementable?: boolean;\n    is_negative_disabled?: boolean;\n    is_read_only?: boolean;\n    is_signed?: boolean;\n    is_unit_at_right?: boolean;\n    label?: string;\n    max_length?: number;\n    max_value?: number;\n    min_value?: number;\n    name?: string;\n    onBlur?: React.FocusEventHandler<HTMLInputElement>;\n    onChange?: (e: TChangeEvent) => void;\n    onClick?: React.MouseEventHandler<HTMLInputElement>;\n    onClickInputWrapper?: React.MouseEventHandler<HTMLDivElement>;\n    placeholder?: string;\n    prefix?: string;\n    required?: boolean;\n    setCurrentFocus?: (name: string | null) => void;\n    type?: string;\n    unit?: string;\n    value: number | string;\n};\n\nconst InputField = ({\n    ariaLabel,\n    checked,\n    className,\n    classNameDynamicSuffix,\n    classNameInlinePrefix,\n    classNameInput,\n    classNamePrefix,\n    classNameWrapper,\n    currency,\n    current_focus,\n    data_tip,\n    data_value,\n    decimal_point_change,\n    error_messages,\n    error_message_alignment,\n    fractional_digits,\n    helper,\n    icon,\n    id,\n    inline_prefix,\n    is_autocomplete_disabled,\n    is_disabled,\n    is_error_tooltip_hidden = false,\n    is_float,\n    is_hj_whitelisted = false,\n    is_incrementable,\n    is_incrementable_on_long_press,\n    is_negative_disabled,\n    is_read_only = false,\n    is_signed = false,\n    is_unit_at_right = false,\n    inputmode,\n    increment_button_type,\n    label,\n    max_length,\n    max_value,\n    min_value,\n    name = '',\n    format,\n    onBlur,\n    onChange,\n    onClick,\n    onClickInputWrapper,\n    placeholder,\n    prefix,\n    required,\n    setCurrentFocus,\n    type = '',\n    unit,\n    value,\n    data_testid,\n}: TInputField) => {\n    const [local_value, setLocalValue] = React.useState<string>();\n    const Icon = icon as React.ElementType;\n    const has_error = error_messages && !!error_messages.length && !is_error_tooltip_hidden;\n    const max_is_disabled = max_value && (+value >= +max_value || Number(local_value) >= +max_value);\n    const min_is_disabled = min_value && (+value <= +min_value || Number(local_value) <= +min_value);\n    let has_valid_length = true;\n\n    const changeValue = (\n        e: React.ChangeEvent<HTMLInputElement>,\n        callback?: (evt: React.ChangeEvent<HTMLInputElement>) => void\n    ) => {\n        if (unit) {\n            e.target.value = e.target.value.replace(unit, '').trim();\n        }\n\n        if (e.target.value === value && type !== 'checkbox') {\n            return;\n        }\n\n        if (type === 'number' || type === 'tel') {\n            const is_empty = !e.target.value || e.target.value === '' || e.target.value === '  ';\n            const signed_regex = is_signed ? '^([+-.0-9])' : '^';\n            e.target.value = e.target.value.replace(',', '.');\n\n            const is_number = new RegExp(`${signed_regex}(\\\\d*)?${is_float ? '(\\\\.\\\\d+)?' : ''}$`).test(e.target.value);\n\n            const is_not_completed_number =\n                is_float && new RegExp(`${signed_regex}(\\\\.|\\\\d+\\\\.)?$`).test(e.target.value);\n            // This regex check whether there is any zero at the end of fractional part or not.\n            const has_zero_at_end = new RegExp(`${signed_regex}(\\\\d+)?\\\\.(\\\\d+)?[0]+$`).test(e.target.value);\n\n            const is_scientific_notation = /e/.test(`${+e.target.value}`);\n\n            if (max_length && (fractional_digits || fractional_digits === 0)) {\n                has_valid_length = new RegExp(\n                    `${signed_regex}(\\\\d{0,${max_length}})(\\\\${fractional_digits && '.'}\\\\d{0,${fractional_digits}})?$`\n                ).test(e.target.value);\n            }\n\n            if ((is_number || is_empty) && has_valid_length) {\n                (e.target.value as string | number) =\n                    is_empty || is_signed || has_zero_at_end || is_scientific_notation || type === 'tel'\n                        ? e.target.value\n                        : +e.target.value;\n            } else if (!is_not_completed_number) {\n                (e.target.value as string | number) = value;\n                return;\n            }\n        }\n\n        onChange?.(e);\n        if (callback) {\n            callback(e);\n        }\n    };\n\n    const getDecimals = (val: string | number) => {\n        const array_value = typeof val === 'string' ? val.split('.') : val.toString().split('.');\n        return array_value && array_value.length > 1 ? array_value[1].length : 0;\n    };\n\n    const getClampedValue = (val: number) => {\n        let new_value = val;\n        if (min_value) {\n            new_value = Math.max(new_value, min_value);\n        }\n        if (max_value) {\n            new_value = Math.min(new_value, max_value);\n        }\n        return new_value;\n    };\n\n    const incrementValue = (\n        ev?: React.MouseEvent<HTMLButtonElement> | React.TouchEvent<HTMLButtonElement>,\n        long_press_step?: number\n    ) => {\n        if (max_is_disabled) return;\n        let increment_value;\n\n        const current_value = local_value || value.toString();\n\n        const decimal_places = current_value ? getDecimals(current_value) : 0;\n        const is_crypto = !!currency && isCryptocurrency(currency);\n\n        if (long_press_step) {\n            const increase_percentage = Math.min(long_press_step, Math.max(long_press_step, 10)) / 10;\n            const increase = (+value * increase_percentage) / 100;\n            const new_value = parseFloat(current_value || '0') + Math.abs(increase);\n\n            increment_value = parseFloat(getClampedValue(new_value).toString()).toFixed(decimal_places);\n        } else if (is_crypto || (!currency && is_float)) {\n            const new_value =\n                parseFloat(current_value || '0') +\n                parseFloat((1 * 10 ** (0 - (decimal_point_change || decimal_places))).toString());\n            increment_value = parseFloat(new_value.toString()).toFixed(decimal_point_change || decimal_places);\n        } else {\n            increment_value = parseFloat(((+current_value || 0) + 1).toString()).toFixed(decimal_places);\n        }\n\n        updateValue(increment_value, !!long_press_step);\n    };\n\n    const calculateDecrementedValue = (long_press_step?: number) => {\n        let decrement_value;\n        const current_value = local_value || value?.toString();\n\n        const decimal_places = current_value ? getDecimals(current_value) : 0;\n        const is_crypto = !!currency && isCryptocurrency(currency);\n\n        if (long_press_step) {\n            const decrease_percentage = Math.min(long_press_step, Math.max(long_press_step, 10)) / 10;\n            const decrease = (+value * decrease_percentage) / 100;\n            const new_value = parseFloat(current_value || '0') - Math.abs(decrease);\n\n            decrement_value = parseFloat(getClampedValue(new_value).toString()).toFixed(decimal_places);\n        } else if (is_crypto || (!currency && is_float)) {\n            const new_value =\n                parseFloat(current_value || '0') -\n                parseFloat((1 * 10 ** (0 - (decimal_point_change || decimal_places))).toString());\n            decrement_value = parseFloat(new_value.toString()).toFixed(decimal_point_change || decimal_places);\n        } else {\n            decrement_value = parseFloat(((+current_value || 0) - 1).toString()).toFixed(decimal_places);\n        }\n        return decrement_value;\n    };\n\n    const decrementValue = (\n        ev?: React.MouseEvent<HTMLButtonElement> | React.TouchEvent<HTMLButtonElement>,\n        long_press_step?: number\n    ) => {\n        if (min_is_disabled) {\n            return;\n        }\n        const decrement_value = calculateDecrementedValue(long_press_step);\n        if (is_negative_disabled && +decrement_value < 0) {\n            return;\n        }\n\n        updateValue(decrement_value, !!long_press_step);\n    };\n\n    const updateValue = (new_value: string, is_long_press: boolean) => {\n        let formatted_value = format ? format(new_value) : new_value;\n        if (is_long_press) {\n            setLocalValue(formatted_value);\n        } else {\n            if (is_signed && /^\\d+/.test(formatted_value) && +formatted_value > 0) {\n                formatted_value = `+${formatted_value}`;\n            }\n            onChange?.({ target: { value: formatted_value, name } });\n        }\n    };\n\n    const onLongPressEnd = () => {\n        const new_value = local_value;\n        const formatted_value = format ? format(new_value) : new_value;\n        onChange?.({ target: { value: formatted_value || '', name } });\n\n        setLocalValue('');\n    };\n\n    const onKeyPressed = (e: React.KeyboardEvent<HTMLInputElement>) => {\n        if (e.keyCode === 38) incrementValue(); // up-arrow pressed\n        if (e.keyCode === 40) decrementValue(); // down-arrow pressed\n    };\n\n    let display_value = local_value || value;\n\n    if (unit) {\n        display_value = is_unit_at_right ? `${value} ${unit}` : `${unit} ${value}`;\n    }\n\n    const is_increment_input = is_incrementable && (type === 'number' || type === 'tel');\n\n    const input = (\n        <Input\n            ariaLabel={ariaLabel}\n            changeValue={changeValue}\n            checked={checked}\n            current_focus={current_focus}\n            className={classNames(\n                is_increment_input ? 'dc-input-wrapper__input' : '',\n                inline_prefix ? 'input--has-inline-prefix' : '',\n                'input',\n                { 'input--error': error_messages && !!error_messages.length },\n                classNameInput\n            )}\n            classNameDynamicSuffix={classNameDynamicSuffix}\n            classNameInlinePrefix={classNameInlinePrefix}\n            data_tip={data_tip}\n            data_testid={data_testid}\n            data_value={data_value}\n            display_value={display_value}\n            fractional_digits={fractional_digits}\n            has_error={has_error}\n            id={id}\n            inline_prefix={inline_prefix}\n            is_autocomplete_disabled={is_autocomplete_disabled}\n            is_disabled={is_disabled}\n            is_hj_whitelisted={is_hj_whitelisted}\n            is_incrementable={is_increment_input}\n            is_read_only={is_read_only}\n            max_length={max_length}\n            name={name}\n            onBlur={onBlur}\n            onClick={onClick}\n            onKeyPressed={onKeyPressed}\n            placeholder={placeholder}\n            required={required}\n            setCurrentFocus={setCurrentFocus}\n            type={type}\n            inputmode={inputmode}\n        />\n    );\n\n    const increment_buttons = (\n        <IncrementButtons\n            id={id}\n            max_is_disabled={max_is_disabled || !!is_disabled}\n            incrementValue={incrementValue}\n            min_is_disabled={\n                min_is_disabled || (is_negative_disabled && +calculateDecrementedValue() < 0) || !!is_disabled\n            }\n            decrementValue={decrementValue}\n            onLongPressEnd={onLongPressEnd}\n            is_incrementable_on_long_press={is_incrementable_on_long_press}\n            type={increment_button_type}\n        />\n    );\n\n    const input_tooltip = (\n        <Tooltip\n            className={classNames('trade-container__tooltip', { 'dc-tooltip--with-label': label })}\n            alignment={error_message_alignment || 'left'}\n            message={has_error ? error_messages[0] : null}\n            has_error={has_error}\n        >\n            {!!label && (\n                <label htmlFor={name} className='dc-input-field__label'>\n                    {label}\n                </label>\n            )}\n            {!!helper && (\n                <Text size='xxs' color='less-prominent' weight='lighter'>\n                    {helper}\n                </Text>\n            )}\n            {is_increment_input ? (\n                <div\n                    className={classNames(\n                        'dc-input-wrapper',\n                        {\n                            'dc-input-wrapper--disabled': !!is_disabled,\n                        },\n                        classNameWrapper\n                    )}\n                >\n                    {increment_buttons}\n                    {input}\n                </div>\n            ) : (\n                input\n            )}\n        </Tooltip>\n    );\n\n    return (\n        <React.Fragment>\n            {!!prefix && (\n                <div className={classNamePrefix}>\n                    <span className={classNames(`${classNamePrefix}--symbol`, 'symbols')}>\n                        {getCurrencyDisplayCode(currency)}\n                    </span>\n                </div>\n            )}\n            <div className={classNames('dc-input-field', className)} onClick={onClickInputWrapper}>\n                {icon && <Icon onClick={onClick} />}\n                {input_tooltip}\n            </div>\n        </React.Fragment>\n    );\n};\n\nexport default InputField;\n",
            "size_bytes": 14425
        },
        "src/components/shared/utils/object/index.ts": {
            "content": "export { default as cloneThorough } from './clone';\nexport * from './object';\n",
            "size_bytes": 78
        },
        "src/components/shared_ui/input/input.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport Field from '../field';\nimport Text from '../text';\n\nexport type TInputProps = {\n    autoComplete?: string;\n    bottom_label?: string;\n    className?: string;\n    classNameError?: string;\n    classNameHint?: string;\n    classNameWarn?: string;\n    data_testId?: string;\n    disabled?: boolean;\n    error?: string;\n    field_className?: string;\n    has_character_counter?: boolean;\n    hint?: React.ReactNode;\n    id?: string;\n    initial_character_count?: number;\n    inputMode?: React.HTMLAttributes<HTMLInputElement | HTMLTextAreaElement>['inputMode'];\n    input_id?: string;\n    is_relative_hint?: boolean;\n    label_className?: string;\n    label?: string;\n    leading_icon?: React.ReactElement;\n    max_characters?: number;\n    maxLength?: number;\n    name?: string;\n    onBlur?: React.FocusEventHandler<HTMLInputElement | HTMLTextAreaElement>;\n    onChange?: React.ChangeEventHandler<HTMLInputElement | HTMLTextAreaElement>;\n    onMouseDown?: React.MouseEventHandler<HTMLInputElement | HTMLTextAreaElement>;\n    onMouseUp?: React.MouseEventHandler<HTMLInputElement | HTMLTextAreaElement>;\n    onFocus?: React.FocusEventHandler<HTMLInputElement | HTMLTextAreaElement>;\n    onPaste?: React.ClipboardEventHandler<HTMLInputElement | HTMLTextAreaElement>;\n    onKeyUp?: React.FormEventHandler<HTMLInputElement | HTMLTextAreaElement>;\n    onKeyDown?: React.FormEventHandler<HTMLInputElement | HTMLTextAreaElement>;\n    onInput?: React.FormEventHandler<HTMLInputElement | HTMLTextAreaElement>;\n    onClick?: React.MouseEventHandler<HTMLInputElement | HTMLTextAreaElement>;\n    onMouseEnter?: React.MouseEventHandler<HTMLInputElement | HTMLTextAreaElement>;\n    onMouseLeave?: React.MouseEventHandler<HTMLInputElement | HTMLTextAreaElement>;\n    placeholder?: string;\n    ref?: React.RefObject<\n        React.ComponentType extends 'textarea'\n            ? HTMLTextAreaElement\n            : React.ComponentType extends 'input'\n              ? HTMLInputElement\n              : never\n    >;\n    required?: boolean;\n    trailing_icon?: React.ReactElement | null;\n    type?: string;\n    value?: string | number;\n    warn?: string;\n    readOnly?: boolean;\n    is_autocomplete_disabled?: string;\n    is_hj_whitelisted?: string;\n} & Omit<React.ComponentProps<'input'>, 'ref'>;\n\ntype TInputWrapper = {\n    has_footer: boolean;\n};\n\nconst InputWrapper = ({ children, has_footer }: React.PropsWithChildren<TInputWrapper>) =>\n    has_footer ? <div className='dc-input__wrapper'>{children}</div> : <React.Fragment>{children}</React.Fragment>;\n\nconst Input = React.forwardRef<HTMLInputElement & HTMLTextAreaElement, TInputProps>(\n    (\n        {\n            bottom_label,\n            className,\n            classNameError,\n            classNameHint,\n            classNameWarn,\n            disabled = false,\n            error,\n            field_className,\n            has_character_counter,\n            hint,\n            initial_character_count,\n            input_id,\n            is_relative_hint,\n            label_className,\n            label,\n            leading_icon,\n            max_characters,\n            trailing_icon,\n            warn,\n            data_testId,\n            maxLength,\n            placeholder,\n            ...props\n        },\n        ref?\n    ) => {\n        const [counter, setCounter] = React.useState(0);\n\n        React.useEffect(() => {\n            if (initial_character_count || initial_character_count === 0) {\n                setCounter(initial_character_count);\n            }\n        }, [initial_character_count]);\n\n        const changeHandler: React.ChangeEventHandler<HTMLTextAreaElement | HTMLInputElement> = e => {\n            let input_value = e.target.value;\n\n            // Special handling for tick_count - completely prevent decimal input\n            if (e.target.name === 'tick_count') {\n                // Remove any decimal point and everything after it\n                const decimal_index = input_value.indexOf('.');\n                if (decimal_index !== -1) {\n                    input_value = input_value.substring(0, decimal_index);\n                }\n            }\n            // For other inputs, limit to 2 decimal places\n            else {\n                const decimal_index = input_value.indexOf('.');\n                if (decimal_index !== -1) {\n                    const decimal_part = input_value.substring(decimal_index + 1);\n                    if (decimal_part.length > 2) {\n                        input_value = input_value.substring(0, decimal_index + 3);\n                    }\n                }\n            }\n            setCounter(input_value.length);\n            e.target.value = input_value;\n            props.onChange?.(e);\n        };\n\n        const has_footer = !!has_character_counter || (!!hint && !!is_relative_hint);\n        const field_placeholder = label ? '' : placeholder;\n        return (\n            <InputWrapper has_footer={has_footer}>\n                <div\n                    className={classNames('dc-input', className, {\n                        'dc-input--disabled': disabled,\n                        'dc-input--error': error,\n                        'dc-input--hint': hint,\n                        'dc-input--bottom-label-active': bottom_label,\n                    })}\n                >\n                    <div\n                        className={classNames('dc-input__container', {\n                            'dc-input__container--disabled': disabled,\n                            'dc-input__container--error': error,\n                        })}\n                    >\n                        {leading_icon &&\n                            React.cloneElement(leading_icon, {\n                                className: classNames('dc-input__leading-icon', leading_icon.props.className),\n                            })}\n                        {props.type === 'textarea' ? (\n                            <textarea\n                                ref={ref}\n                                data-testid={data_testId}\n                                {...(props as React.ComponentProps<'textarea'>)}\n                                className={classNames('dc-input__field dc-input__textarea', {\n                                    'dc-input__field--placeholder-visible': !label && placeholder,\n                                })}\n                                onChange={changeHandler}\n                                disabled={disabled}\n                                id={input_id}\n                                maxLength={maxLength}\n                                placeholder={field_placeholder}\n                            />\n                        ) : (\n                            <input\n                                ref={ref}\n                                data-testid={data_testId}\n                                {...props}\n                                className={classNames('dc-input__field', field_className, {\n                                    'dc-input__field--placeholder-visible': !label && placeholder,\n                                })}\n                                onFocus={props.onFocus}\n                                onBlur={props.onBlur}\n                                onChange={changeHandler}\n                                onKeyDown={props.onKeyDown}\n                                onMouseDown={props.onMouseDown}\n                                onMouseUp={props.onMouseUp}\n                                onPaste={props.onPaste}\n                                disabled={disabled}\n                                data-lpignore={props.type === 'password' ? undefined : true}\n                                id={input_id}\n                                aria-label={label as string}\n                                maxLength={maxLength}\n                                placeholder={field_placeholder}\n                            />\n                        )}\n                        {trailing_icon &&\n                            React.cloneElement(trailing_icon, {\n                                className: classNames('dc-input__trailing-icon', trailing_icon.props.className),\n                            })}\n                        {label && (\n                            <label className={classNames('dc-input__label', label_className)} htmlFor={props.id}>\n                                {label}\n                            </label>\n                        )}\n                    </div>\n                    <div>\n                        {!has_footer && (\n                            <React.Fragment>\n                                {error && <Field className={classNameError} message={error} type='error' />}\n                                {warn && <Field className={classNameWarn} message={warn} type='warn' />}\n                                {!error && hint && !is_relative_hint && (\n                                    <div className='dc-input__hint'>\n                                        <Text as='p' color='less-prominent' size='xs' className={classNameHint}>\n                                            {hint}\n                                        </Text>\n                                    </div>\n                                )}\n                            </React.Fragment>\n                        )}\n                    </div>\n                </div>\n                {has_footer && (\n                    // Added like below for backward compatibility.\n                    // TODO: refactor existing usages to use \"relative\" hints\n                    // i.e. get rid of absolute hints, errors, counters.\n                    <div className='dc-input__footer'>\n                        {error && <Field className={classNameError} message={error} type='error' />}\n                        {warn && <Field className={classNameWarn} message={warn} type='warn' />}\n                        {!error && hint && (\n                            <div className='dc-input__hint dc-input__hint--relative'>\n                                <Text color='less-prominent' line-height='m' size='xs'>\n                                    {hint}\n                                </Text>\n                            </div>\n                        )}\n                        {has_character_counter && (\n                            <div className='dc-input__counter'>\n                                <Text color='less-prominent' line-height='m' size='xs'>\n                                    {counter}\n                                    {max_characters ? `/${max_characters}` : ''}\n                                </Text>\n                            </div>\n                        )}\n                    </div>\n                )}\n                {bottom_label && !error && (\n                    <div className='dc-input__bottom-label'>\n                        <Text size='xs' color='less-prominent'>\n                            {bottom_label}\n                        </Text>\n                    </div>\n                )}\n            </InputWrapper>\n        );\n    }\n);\n\nInput.displayName = 'Input';\n\nexport default Input;\n",
            "size_bytes": 11081
        },
        "src/components/shared_ui/mobile-wrapper/index.ts": {
            "content": "import MobileWrapper from './mobile-wrapper';\nimport './mobile-wrapper.scss';\n\nexport default MobileWrapper;\n",
            "size_bytes": 109
        },
        "src/external/indicators/indicators/relative-strength-index.js": {
            "content": "/* eslint-disable no-confusing-arrow */\n\nimport { sequence } from '@/components/shared';\nimport { takeField } from '../utils/math';\n\nconst calcGain = (q1, q2) => (q2 > q1 ? q2 - q1 : 0);\nconst calcLoss = (q1, q2) => (q2 < q1 ? q1 - q2 : 0);\n\nconst calcFirstAvgDiff = (vals, comp, periods) => {\n    let prev;\n    return (\n        vals.reduce((r, q, i) => {\n            if (i === 1) {\n                prev = r;\n            }\n            const diff = comp(prev, q);\n            prev = q;\n            return diff + (i === 1 ? 0 : r);\n        }) / periods\n    );\n};\n\nconst calcSecondAvgDiff = (vals, comp, periods, init_avg) => {\n    let prev;\n    if (vals.length === 1) {\n        // There is no data to calc avg\n        return init_avg;\n    }\n    return vals.reduce((r, q, i) => {\n        if (i === 1) {\n            prev = r;\n        }\n        const diff = comp(prev, q);\n        prev = q;\n        const prev_avg = i === 1 ? init_avg : r;\n        return (prev_avg * (periods - 1) + diff) / periods;\n    });\n};\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  pipSize: number,\n * }\n * @param {any} memoized_diff\n */\nexport const relativeStrengthIndex = (data, config, memoized_diff) => {\n    const { periods, field } = config;\n\n    if (data.length < periods) {\n        throw new Error('Periods longer than data length');\n    }\n\n    if (data.length === periods) {\n        return 0;\n    }\n\n    const vals = takeField(data.slice(0, periods + 1), field);\n\n    let rest_seq, init_avg_gain, init_avg_loss;\n\n    if (memoized_diff && 'gain' in memoized_diff) {\n        rest_seq = takeField(data.slice(-2), field);\n\n        init_avg_gain = memoized_diff.gain;\n        init_avg_loss = memoized_diff.loss;\n    } else {\n        // include last element from above to calc diff\n        rest_seq = takeField(data.slice(periods, data.length), field);\n\n        init_avg_gain = calcFirstAvgDiff(vals, calcGain, periods);\n        init_avg_loss = calcFirstAvgDiff(vals, calcLoss, periods);\n    }\n\n    const avg_gain = calcSecondAvgDiff(rest_seq, calcGain, periods, init_avg_gain);\n    const avg_loss = calcSecondAvgDiff(rest_seq, calcLoss, periods, init_avg_loss);\n\n    if (memoized_diff) {\n        memoized_diff.gain = avg_gain;\n        memoized_diff.loss = avg_loss;\n    }\n\n    if (avg_gain === 0) {\n        return 0;\n    } else if (avg_loss === 0) {\n        return 100;\n    }\n\n    const RS = avg_gain / avg_loss;\n\n    return 100 - 100 / (1 + RS);\n};\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  pipSize: number,\n * }\n */\nexport const relativeStrengthIndexArray = (data, config) => {\n    const { periods, pipSize = 2 } = config;\n    const memoized_diff = {};\n    return sequence(data.length - periods).map(\n        (x, i) => +relativeStrengthIndex(data.slice(0, i + periods + 1), config, memoized_diff).toFixed(pipSize)\n    );\n};\n",
            "size_bytes": 2991
        },
        "src/utils/session-storage.ts": {
            "content": "import LZString from 'lz-string';\n\nexport const getStoredItemsByUser = (storage_key: string, loginid?: string, default_value?: any) => {\n    if (!loginid) {\n        return default_value;\n    }\n\n    const storage = getStoredItemsByKey(storage_key, default_value);\n    return storage[loginid] || default_value;\n};\n\nexport const getStoredItemsByKey = (storage_key: string, default_value: any) => {\n    try {\n        const session_storage_item = sessionStorage.getItem(storage_key);\n        const decompressed_item = LZString.decompress(session_storage_item);\n        const stored_items = JSON.parse(decompressed_item);\n\n        if (stored_items) {\n            return stored_items;\n        }\n    } catch (e) {\n        // Do nothing.\n    }\n\n    return default_value;\n};\n\nexport const setStoredItemsByKey = (storage_key: string, value: any) => {\n    try {\n        const compressed_value = LZString.compress(JSON.stringify(value));\n        sessionStorage.setItem(storage_key, compressed_value);\n    } catch (e) {\n        // eslint-disable-next-line no-console\n        console.warn('Could not write to storage.');\n    }\n};\n",
            "size_bytes": 1115
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/After Purchase/after_purchase.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { appendCollapsedMainBlocksFields, modifyContextMenu } from '../../../utils';\nimport { finishSign } from '../../images';\n\nwindow.Blockly.Blocks.after_purchase = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2 %3',\n            message1: '%1',\n            message2: '%1',\n            args0: [\n                {\n                    type: 'field_image',\n                    src: finishSign,\n                    width: 25,\n                    height: 25,\n                    alt: 'F',\n                },\n                {\n                    type: 'field_label',\n                    text: localize('4. Restart trading conditions'),\n                    class: 'blocklyTextRootBlockHeader',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'AFTERPURCHASE_STACK',\n                    check: 'TradeAgain',\n                },\n            ],\n            args2: [\n                {\n                    type: 'field_image',\n                    src: ' ', // this is here to add extra padding\n                    width: 380,\n                    height: 10,\n                },\n            ],\n            colour: window.Blockly.Colours.RootBlock.colour,\n            colourSecondary: window.Blockly.Colours.RootBlock.colourSecondary,\n            colourTertiary: window.Blockly.Colours.RootBlock.colourTertiary,\n            tooltip: localize('Get the last trade information and result, then trade again.'),\n            category: window.Blockly.Categories.After_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Restart trading conditions'),\n            description: localize('Here is where you can decide if your bot should continue trading.'),\n        };\n    },\n    onchange(event) {\n        if (\n            event.type === window.Blockly.Events.BLOCK_CHANGE ||\n            (event.type === window.Blockly.Events.BLOCK_DRAG && !event.isStart)\n        ) {\n            if (this.isCollapsed()) {\n                appendCollapsedMainBlocksFields(this);\n            }\n        }\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.after_purchase = block => {\n    const stack = window.Blockly.JavaScript.javascriptGenerator.statementToCode(block, 'AFTERPURCHASE_STACK');\n    const code = `\n    BinaryBotPrivateAfterPurchase = function BinaryBotPrivateAfterPurchase() {\n        Bot.highlightBlock('${block.id}');\n        ${stack}\n        Bot.isTradeAgain(false);\n        return false;\n    };`;\n    return code;\n};\n",
            "size_bytes": 2827
        },
        "src/external/bot-skeleton/services/tradeEngine/Interface/BotInterface.js": {
            "content": "import { observer as globalObserver } from '../../../utils/observer';\nimport { createDetails } from '../utils/helpers';\n\nconst getBotInterface = tradeEngine => {\n    const getDetail = i => createDetails(tradeEngine.data.contract)[i];\n\n    return {\n        init: (...args) => tradeEngine.init(...args),\n        start: (...args) => tradeEngine.start(...args),\n        stop: (...args) => tradeEngine.stop(...args),\n        purchase: contract_type => tradeEngine.purchase(contract_type),\n        getAskPrice: contract_type => Number(getProposal(contract_type, tradeEngine).ask_price),\n        getPayout: contract_type => Number(getProposal(contract_type, tradeEngine).payout),\n        getPurchaseReference: () => tradeEngine.getPurchaseReference(),\n        isSellAvailable: () => tradeEngine.isSellAtMarketAvailable(),\n        sellAtMarket: () => tradeEngine.sellAtMarket(),\n        getSellPrice: () => getSellPrice(tradeEngine),\n        isResult: result => getDetail(10) === result,\n        isTradeAgain: result => globalObserver.emit('bot.trade_again', result),\n        readDetails: i => getDetail(i - 1),\n    };\n};\n\nconst getProposal = (contract_type, tradeEngine) => {\n    return tradeEngine.data.proposals.find(\n        proposal =>\n            proposal.contract_type === contract_type &&\n            proposal.purchase_reference === tradeEngine.getPurchaseReference()\n    );\n};\n\nconst getSellPrice = tradeEngine => {\n    return tradeEngine.getSellPrice();\n};\n\nexport default getBotInterface;\n",
            "size_bytes": 1492
        },
        "src/components/market/market-icon.tsx": {
            "content": "import { lazy, Suspense } from 'react';\nimport { IconSize } from '@deriv/quill-icons';\n\nconst MARKET_ICONS = {\n    FRXAUDCAD: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketForexAudcadIcon }))\n    ),\n    FRXAUDCHF: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketForexAudchfIcon }))\n    ),\n    FRXAUDJPY: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketForexAudjpyIcon }))\n    ),\n    FRXAUDNZD: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketForexAudnzdIcon }))\n    ),\n    FRXAUDPLN: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketForexAudsgdIcon }))\n    ),\n    FRXAUDUSD: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketForexAudusdIcon }))\n    ),\n    FRXBROUSD: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketForexCadchfIcon }))\n    ),\n    FRXEURAUD: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketForexEuraudIcon }))\n    ),\n    FRXEURCAD: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketForexEurcadIcon }))\n    ),\n    FRXEURCHF: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketForexEurchfIcon }))\n    ),\n    FRXEURGBP: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketForexEurgbpIcon }))\n    ),\n    FRXEURJPY: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketForexEurjpyIcon }))\n    ),\n    FRXEURNZD: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketForexEurnzdIcon }))\n    ),\n    FRXEURUSD: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketForexEurusdIcon }))\n    ),\n    FRXGBPAUD: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketForexGbpaudIcon }))\n    ),\n    FRXGBPCAD: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketForexGbpcadIcon }))\n    ),\n    FRXGBPCHF: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketForexGbpchfIcon }))\n    ),\n    FRXGBPJPY: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketForexGbpjpyIcon }))\n    ),\n    FRXGBPNOK: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketForexGbpnokIcon }))\n    ),\n    FRXGBPUSD: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketForexGbpusdIcon }))\n    ),\n    FRXGBPNZD: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketForexGbpnzdIcon }))\n    ),\n    FRXNZDJPY: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketForexNzdjpnIcon }))\n    ),\n    FRXNZDUSD: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketForexNzdusdIcon }))\n    ),\n    FRXUSDCAD: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketForexUsdcadIcon }))\n    ),\n    FRXUSDCHF: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketForexUsdchfIcon }))\n    ),\n    FRXUSDJPY: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketForexUsdjpyIcon }))\n    ),\n    FRXUSDNOK: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketForexUsdnokIcon }))\n    ),\n    FRXUSDPLN: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketForexUsdplnIcon }))\n    ),\n    FRXUSDSEK: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketForexUsdsekIcon }))\n    ),\n    FRXUSDMXN: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketForexUsdmxnIcon }))\n    ),\n    FRXXAGUSD: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketCommoditySilverusdIcon }))\n    ),\n    FRXXAUUSD: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketCommodityGoldusdIcon }))\n    ),\n    FRXXPDUSD: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketCommodityPalladiumusdIcon }))\n    ),\n    FRXXPTUSD: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketCommodityPlatinumusdIcon }))\n    ),\n    OTC_AEX: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketIndicesNetherlands25Icon }))\n    ),\n    OTC_AS51: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketIndicesAustralia200Icon }))\n    ),\n    OTC_DJI: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketIndicesWallStreet30Icon }))\n    ),\n    OTC_FCHI: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketIndicesFrance40Icon }))\n    ),\n    OTC_FTSE: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketIndicesUk100Icon }))\n    ),\n    OTC_GDAXI: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketIndicesUk100Icon }))\n    ),\n    OTC_HSI: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketIndicesHongKong50Icon }))\n    ),\n    OTC_IBEX35: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketIndicesSpain35Icon }))\n    ),\n    OTC_N225: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketIndicesJapan225Icon }))\n    ),\n    OTC_NDX: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketIndicesUsTech100Icon }))\n    ),\n    OTC_SPC: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketIndicesUs500Icon }))\n    ),\n    OTC_SSMI: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketIndicesSwiss20Icon }))\n    ),\n    OTC_SX5E: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketIndicesEuro50Icon }))\n    ),\n    R_10: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedVolatility10Icon }))\n    ),\n    R_25: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedVolatility25Icon }))\n    ),\n    R_50: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedVolatility50Icon }))\n    ),\n    R_75: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedVolatility75Icon }))\n    ),\n    R_100: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedVolatility100Icon }))\n    ),\n    BOOM300N: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedBoom300Icon }))\n    ),\n    BOOM500: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedBoom500Icon }))\n    ),\n    BOOM600: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedBoom600Icon }))\n    ),\n    BOOM900: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedBoom900Icon }))\n    ),\n    BOOM1000: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedBoom1000Icon }))\n    ),\n    CRASH300N: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedCrash300Icon }))\n    ),\n    CRASH500: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedCrash500Icon }))\n    ),\n    CRASH600: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedCrash600Icon }))\n    ),\n    CRASH900: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedCrash900Icon }))\n    ),\n    CRASH1000: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedCrash1000Icon }))\n    ),\n    RDBEAR: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedBearIcon }))\n    ),\n    RDBULL: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedBullIcon }))\n    ),\n    STPRNG: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedStepIndices100Icon }))\n    ),\n    STPRNG2: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedStepIndices200Icon }))\n    ),\n    STPRNG3: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedStepIndices300Icon }))\n    ),\n    STPRNG4: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedStepIndices400Icon }))\n    ),\n    STPRNG5: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedStepIndices500Icon }))\n    ),\n    WLDAUD: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedAudBasketIcon }))\n    ),\n    WLDEUR: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedEurBasketIcon }))\n    ),\n    WLDGBP: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedGbpBasketIcon }))\n    ),\n    WLDXAU: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedGoldBasketIcon }))\n    ),\n    WLDUSD: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedUsdBasketIcon }))\n    ),\n    '1HZ10V': lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedVolatility101sIcon }))\n    ),\n    '1HZ15V': lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedVolatility151sIcon }))\n    ),\n    '1HZ25V': lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedVolatility251sIcon }))\n    ),\n    '1HZ30V': lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedVolatility301sIcon }))\n    ),\n    '1HZ50V': lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedVolatility501sIcon }))\n    ),\n    '1HZ75V': lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedVolatility751sIcon }))\n    ),\n    '1HZ90V': lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedVolatility901sIcon }))\n    ),\n    '1HZ100V': lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedVolatility1001sIcon }))\n    ),\n    '1HZ150V': lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedVolatility1501sIcon }))\n    ),\n    '1HZ200V': lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedVolatility2001sIcon }))\n    ),\n    '1HZ250V': lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedVolatility2501sIcon }))\n    ),\n    '1HZ300V': lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedVolatility3001sIcon }))\n    ),\n    JD10: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedJump10Icon }))\n    ),\n    JD25: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedJump25Icon }))\n    ),\n    JD50: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedJump50Icon }))\n    ),\n    JD75: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedJump75Icon }))\n    ),\n    JD100: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedJump100Icon }))\n    ),\n    JD150: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedJump150Icon }))\n    ),\n    JD200: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketDerivedJump200Icon }))\n    ),\n    CRYBCHUSD: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketCryptocurrencyBchusdIcon }))\n    ),\n    CRYBNBUSD: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketCryptocurrencyBnbusdIcon }))\n    ),\n    CRYBTCLTC: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketCryptocurrencyBtcltcIcon }))\n    ),\n    CRYIOTUSD: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketCryptocurrencyIotusdIcon }))\n    ),\n    CRYNEOUSD: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketCryptocurrencyNeousdIcon }))\n    ),\n    CRYOMGUSD: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketCryptocurrencyOmgusdIcon }))\n    ),\n    CRYTRXUSD: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketCryptocurrencyTrxusdIcon }))\n    ),\n    CRYBTCETH: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketCryptocurrencyBtcethIcon }))\n    ),\n    CRYZECUSD: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketCryptocurrencyZecusdIcon }))\n    ),\n    CRYXMRUSD: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketCryptocurrencyXmrusdIcon }))\n    ),\n    CRYXMLUSD: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketCryptocurrencyXlmusdIcon }))\n    ),\n    CRYXRPUSD: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketCryptocurrencyXrpusdIcon }))\n    ),\n    CRYBTCUSD: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketCryptocurrencyBtcusdIcon }))\n    ),\n    CRYDSHUSD: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketCryptocurrencyDshusdIcon }))\n    ),\n    CRYETHUSD: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketCryptocurrencyEthusdIcon }))\n    ),\n    CRYEOSUSD: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketCryptocurrencyEosusdIcon }))\n    ),\n    CRYLTCUSD: lazy(() =>\n        import('@deriv/quill-icons/Markets').then(module => ({ default: module.MarketCryptocurrencyLtcusdIcon }))\n    ),\n    unknown: lazy(() =>\n        import('@deriv/quill-icons/Illustrative').then(module => ({ default: module.IllustrativeMarketsIcon }))\n    ),\n};\n\nexport const MarketIcon = ({ type, size }: { type: string; size?: IconSize }) => {\n    const Icon = MARKET_ICONS[type?.toUpperCase() as keyof typeof MARKET_ICONS] || MARKET_ICONS.unknown;\n\n    return (\n        <Suspense fallback={null}>\n            <Icon iconSize={size ?? 'xs'} />\n        </Suspense>\n    );\n};\n",
            "size_bytes": 16164
        },
        "src/external/bot-skeleton/scratch/backward-compatibility.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { config } from '../constants/config';\nimport ApiHelpers from '../services/api/api-helpers';\nimport { convertStrategyToIsDbot } from '../utils';\n\n/* eslint-disable no-underscore-dangle */\nexport default class BlockConversion {\n    constructor() {\n        this.blocks_pending_reconnect = {};\n        this.workspace = this.createWorkspace();\n        this.workspace_variables = {};\n        this.has_market_block = false;\n        this.exception_blocks = ['r_100'];\n    }\n\n    getConversions() {\n        const generateGrowingListBlock = (block_node, block_type, variable_name, child_value_input_name) => {\n            const block = this.workspace.newBlock(block_type);\n            const block_child_nodes = Array.from(block_node.children);\n            const mutation_dom = block_child_nodes.find(child_node => child_node.tagName.toLowerCase() === 'mutation');\n\n            if (mutation_dom) {\n                const items_amount = parseInt(mutation_dom.getAttribute('items')) || 0;\n\n                if (items_amount > 0) {\n                    // In DBot we have a statement block for each value part of the list, so we need to\n                    // generate blocks for these and connect them to the parent's statement.\n                    for (let i = 0; i < items_amount; i++) {\n                        block.onIconClick();\n                    }\n\n                    // Note that value_input_nodes.length can be different than the items_amount\n                    // user can have empty entries in their list!\n                    block_child_nodes\n                        .filter(child_node => child_node.tagName.toLowerCase() === 'value')\n                        .forEach(child_node => {\n                            const value_input_name = child_node.getAttribute('name');\n                            const value_input_index = parseInt(value_input_name.replace(/[^0-9]+/g, ''));\n\n                            Array.from(child_node.children).forEach(value_block_node => {\n                                const value_block = this.convertBlockNode(value_block_node, block);\n\n                                // Now connect this converted block to the new text_statement.\n                                const statement_block = block\n                                    .getBlocksInStatement('STACK')\n                                    .find((b, i) => value_input_index === i);\n                                const value_input = statement_block.getInput(child_value_input_name);\n\n                                value_input.connection.connect(value_block.outputConnection);\n                            });\n                            const parent_element = child_node.parentNode;\n                            const child_element = child_node;\n\n                            if (parent_element && child_element && parent_element?.contains(child_element)) {\n                                parent_element?.removeChild(child_element);\n                            }\n                        });\n                }\n            }\n\n            // Return variable block instead of statement.\n            const variable = this.generateUniqueVariable(variable_name);\n            const variable_block = this.workspace.newBlock('variables_get');\n\n            variable_block.setFieldValue(variable.getId(), 'VAR');\n            block.setFieldValue(variable.getId(), 'VARIABLE');\n\n            return {\n                block_to_attach: variable_block,\n                statement_blocks: [block],\n            };\n        };\n        const generateIndicatorBlock = (block_node, block_type, variable_name) => {\n            const block = this.workspace.newBlock(block_type);\n            const value_input_name_mappings = {\n                input_list: [{ old: 'INPUT', new: 'INPUT_LIST' }],\n                period: [{ old: 'PERIOD', new: 'PERIOD' }],\n                fast_ema_period: [{ old: 'FAST_EMA_PERIOD', new: 'FAST_EMA_PERIOD' }],\n                signal_ema_period: [\n                    // https://github.com/binary-com/binary-bot/pull/1123\n                    { old: 'SMA_PERIOD', new: 'SIGNAL_EMA_PERIOD' },\n                    { old: 'SIGNAL_EMA_PERIOD', new: 'SIGNAL_EMA_PERIOD' },\n                ],\n                slow_ema_period: [{ old: 'SLOW_EMA_PERIOD', new: 'SLOW_EMA_PERIOD' }],\n                std_dev_multiplier_up: [{ old: 'UPMULTIPLIER', new: 'UPMULTIPLIER' }],\n                std_dev_multiplier_down: [{ old: 'DOWNMULTIPLIER', new: 'DOWNMULTIPLIER' }],\n            };\n\n            // Bollinger Bands + MACDA have some fields we need to carry over.\n            switch (block_type) {\n                case 'bb_statement':\n                case 'bba_statement': {\n                    const bb_result_list = block.getField('BBRESULT_LIST');\n                    if (bb_result_list) {\n                        bb_result_list.setValue(this.getFieldValue(block_node, 'BBRESULT_LIST'));\n                    }\n                    break;\n                }\n                case 'macda_statement': {\n                    const macd_fields_list = block.getField('MACDFIELDS_LIST');\n                    if (macd_fields_list) {\n                        macd_fields_list.setValue(this.getFieldValue(block_node, 'MACDFIELDS_LIST'));\n                    }\n                    break;\n                }\n                default:\n                    break;\n            }\n\n            // Attach required child blocks (these are defined on each indicator block).\n            const required_child_blocks = block.required_child_blocks || [];\n\n            required_child_blocks.forEach(required_child_block_name => {\n                const child_block = this.workspace.newBlock(required_child_block_name);\n                const last_connection = block.getLastConnectionInStatement('STATEMENT');\n\n                last_connection.connect(child_block.previousConnection);\n            });\n\n            const blocks_in_statement = block.getBlocksInStatement('STATEMENT');\n\n            blocks_in_statement.forEach(block_in_statement => {\n                const value_name_mappings = value_input_name_mappings[block_in_statement.type];\n\n                if (value_name_mappings) {\n                    value_name_mappings.forEach(value_name_mapping => {\n                        const el_value = block_node.querySelector(`value[name=\"${value_name_mapping.old}\"]`);\n\n                        if (el_value) {\n                            const value_input = block_in_statement.getInput(value_name_mapping.new);\n\n                            Array.from(el_value.children).forEach(el_value_child => {\n                                const converted_block = this.convertBlockNode(el_value_child, block);\n                                const input_child_type = el_value_child.tagName.toLowerCase();\n\n                                if (input_child_type === 'shadow') {\n                                    converted_block.setShadow(true);\n                                }\n\n                                value_input.connection.connect(converted_block.outputConnection);\n                            });\n                            const parent_element = el_value?.parentNode;\n                            const child_element = el_value;\n\n                            if (parent_element && child_element && parent_element?.contains(child_element)) {\n                                el_value?.parentNode?.removeChild(el_value);\n                            }\n                        }\n                    });\n                }\n            });\n\n            // Return variable block instead of statement.\n            const variable = this.generateUniqueVariable(variable_name);\n            const variable_block = this.workspace.newBlock('variables_get');\n\n            variable_block.setFieldValue(variable.getId(), 'VAR');\n            block.setFieldValue(variable.getId(), 'VARIABLE');\n\n            return {\n                block_to_attach: variable_block,\n                statement_blocks: [block],\n            };\n        };\n        const tradeOptions = (block_node, is_symbol_type = false) => {\n            const block = this.workspace.newBlock('trade_definition_tradeoptions');\n            const block_node_to_use = block_node;\n\n            // Legacy symbol blocks used a statement \"CONDITION\" populated with a trade type block.\n            // This trade type block has the same structure as tradeOptions, hence we can use it here.\n            if (is_symbol_type) {\n                return false;\n            }\n\n            const fields = [\n                'DURATIONTYPE_LIST',\n                'CURRENCY_LIST',\n                'BARRIEROFFSETTYPE_LIST',\n                'SECONDBARRIEROFFSETTYPE_LIST',\n            ];\n            const block_child_nodes = Array.from(block_node_to_use.children);\n\n            let barrier_inputs = 0;\n            let has_prediction = false;\n\n            block_child_nodes\n                .filter(block_child_node => block_child_node.tagName.toLowerCase() === 'value')\n                .forEach(block_child_node => {\n                    const value_input_name = block_child_node.getAttribute('name');\n\n                    if (value_input_name === 'BARRIEROFFSET' || value_input_name === 'SECONDBARRIEROFFSET') {\n                        barrier_inputs++;\n                    } else if (value_input_name === 'PREDICTION') {\n                        has_prediction = true;\n                    }\n                });\n\n            if (barrier_inputs > 0) {\n                block.createBarrierInputs({\n                    allow_both_types: true,\n                    values: [1, -1],\n                });\n            }\n\n            if (has_prediction) {\n                block.createPredictionInput([0]);\n            }\n\n            fields.forEach(field_name => {\n                const field = block.getField(field_name);\n                if (field) {\n                    field.setValue(this.getFieldValue(block_node_to_use, field_name));\n                }\n            });\n\n            return { block_to_attach: block };\n        };\n        const conversions = {\n            bb: block_node => generateIndicatorBlock(block_node, 'bb_statement', 'bb'),\n            bba: block_node => generateIndicatorBlock(block_node, 'bba_statement', 'bba'),\n            ema: block_node => generateIndicatorBlock(block_node, 'ema_statement', 'ema'),\n            emaa: block_node => generateIndicatorBlock(block_node, 'emaa_statement', 'emaa'),\n            lists_create_with: block_node =>\n                generateGrowingListBlock(block_node, 'lists_create_with', localize('list'), 'VALUE'),\n            macda: block_node => generateIndicatorBlock(block_node, 'macda_statement', 'macda'),\n            market: block_node => {\n                this.has_market_block = true;\n                return tradeOptions(block_node);\n            },\n            rsi: block_node => generateIndicatorBlock(block_node, 'rsi_statement', 'rsi'),\n            rsia: block_node => generateIndicatorBlock(block_node, 'rsia_statement', 'rsia'),\n            sma: block_node => generateIndicatorBlock(block_node, 'sma_statement', 'sma'),\n            smaa: block_node => generateIndicatorBlock(block_node, 'smaa_statement', 'smaa'),\n            text_join: block_node => generateGrowingListBlock(block_node, 'text_join', localize('text'), 'TEXT'),\n            trade: block_node => {\n                const block = this.workspace.newBlock('trade_definition');\n                const block_fields = {\n                    trade_definition_market: ['MARKET_LIST', 'SUBMARKET_LIST', 'SYMBOL_LIST'],\n                    trade_definition_tradetype: ['TRADETYPECAT_LIST', 'TRADETYPE_LIST'],\n                    trade_definition_contracttype: ['TYPE_LIST'],\n                    trade_definition_candleinterval: ['CANDLEINTERVAL_LIST'],\n                    trade_definition_restartbuysell: ['TIME_MACHINE_ENABLED'],\n                    trade_definition_restartonerror: ['RESTARTONERROR'],\n                };\n\n                const blocks_to_connect = {};\n\n                Object.keys(block_fields).forEach(child_block_name => {\n                    const child_block = this.workspace.newBlock(child_block_name);\n\n                    block_fields[child_block_name].forEach(field_name => {\n                        child_block.setFieldValue(this.getFieldValue(block_node, field_name), field_name);\n                    });\n\n                    blocks_to_connect[child_block_name] = child_block;\n                });\n\n                Object.values(blocks_to_connect).forEach(child_block => {\n                    const last_connection = block.getLastConnectionInStatement('TRADE_OPTIONS');\n                    last_connection.connect(child_block.previousConnection);\n                });\n\n                return { block_to_attach: block };\n            },\n            tradeOptions,\n        };\n\n        return conversions;\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    getIllegalBlocks() {\n        const illegal_blocks = [];\n\n        // Legacy symbol + trade_type blocks are special cases, they are turned into multiple blocks.\n        // We don't convert these atm, as a workaround users can import to BBot, then export and load\n        // into DBot.\n        const { active_symbols } = ApiHelpers?.instance?.active_symbols ?? {\n            active_symbols: [],\n        };\n        const { opposites } = config();\n\n        active_symbols.forEach(active_symbol => {\n            const symbol_name = active_symbol.symbol.toLowerCase();\n            if (!illegal_blocks.includes(symbol_name)) {\n                illegal_blocks.push(symbol_name);\n            }\n        });\n\n        // All trade types blocks cannot be converted at this time.\n        Object.keys(opposites).forEach(opposites_name => illegal_blocks.push(opposites_name));\n\n        return illegal_blocks;\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    createWorkspace() {\n        const options = new window.Blockly.Options({ media: `assets/images` });\n        const el_injection_div = new DocumentFragment();\n        const workspace = window.Blockly.createVirtualWorkspace_(el_injection_div, options, false, false);\n\n        return workspace;\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    getFieldValue(el_block, field_name) {\n        const el_field = el_block.querySelector(`field[name=\"${field_name}\"]`);\n        return el_field ? el_field.textContent : '';\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    getFirstBlockInStack(block) {\n        let current_previous_connection = block.previousConnection;\n        let previous_block = block.getPreviousBlock();\n\n        if (!current_previous_connection) {\n            return block;\n        }\n\n        while (previous_block) {\n            if (previous_block === block.getSurroundParent()) {\n                break;\n            }\n\n            current_previous_connection = previous_block.previousConnection;\n            previous_block = previous_block.getPreviousBlock();\n        }\n\n        return current_previous_connection.sourceBlock_;\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    updateRenamedFields(xml) {\n        const renamed_fields = {\n            MARKET_LIST: {\n                volidx: 'synthetic_index',\n            },\n            TRADETYPECAT_LIST: {\n                endsinout: 'inout',\n                staysinout: 'inout',\n                callputequal: 'callput',\n            },\n            TRADETYPE_LIST: {\n                risefall: 'callput',\n                risefallequals: 'callputequal',\n            },\n        };\n\n        Object.keys(renamed_fields).forEach(field_name => {\n            const el_field = xml.querySelector(`field[name=\"${field_name}\"]`);\n\n            if (el_field) {\n                const value = el_field.innerText;\n\n                Object.keys(renamed_fields[field_name]).forEach(old_name => {\n                    if (value === old_name) {\n                        el_field.innerText = renamed_fields[field_name][old_name];\n                    }\n                });\n            }\n        });\n\n        return xml;\n    }\n\n    naivelyFixLegacyStrategyAfterConversion() {\n        // For old \"market\" blocks, move everything in \"Trade options\" except \"DURATION\"\n        // to \"Run once at start\". Legacy \"market\" blocks had no such thing as \"Run once at start\"\n        // not moving everything would kill Martingale strategies as they'd be reinitialised each run.\n        const trade_definition_block = this.workspace?.getTradeDefinitionBlock();\n        const has_initialization_block = trade_definition_block?.getBlocksInStatement('INITIALIZATION').length > 0;\n        if (trade_definition_block) {\n            trade_definition_block.getBlocksInStatement('SUBMARKET').forEach(block => {\n                if (\n                    block.type !== 'trade_definition_tradeoptions' &&\n                    this.has_market_block &&\n                    !has_initialization_block\n                ) {\n                    const last_connection = trade_definition_block.getLastConnectionInStatement('INITIALIZATION');\n                    block.unplug(true);\n                    last_connection.connect(block.previousConnection);\n                }\n            });\n        }\n    }\n\n    generateUniqueVariable(variable_name) {\n        let current_name = variable_name;\n        let counter = 0;\n\n        while (Object.values(this.workspace_variables).includes(current_name)) {\n            counter++;\n            current_name = variable_name + counter;\n        }\n\n        const ws_variable = window.Blockly.Variables.getOrCreateVariablePackage(this.workspace, '', current_name, '');\n        this.workspace_variables[ws_variable.id_] = current_name; // eslint-disable-line\n\n        return ws_variable;\n    }\n\n    convertStrategy(strategy_node, showIncompatibleStrategyDialog) {\n        // Disable events (globally) to suppress block onchange listeners from firing.\n        window.Blockly.Events.disable();\n\n        // We only want to update renamed fields for modern strategies.\n        const xml = this.updateRenamedFields(strategy_node);\n\n        // Don't convert already compatible strategies.\n        if (strategy_node.hasAttribute('is_dbot') && strategy_node.getAttribute('is_dbot') === 'true') {\n            window.Blockly.Events.enable();\n            return xml;\n        }\n\n        const has_illegal_block = this.getIllegalBlocks().some(illegal_block_type => {\n            if (!this.exception_blocks.includes(illegal_block_type)) {\n                return !!xml.querySelector(`block[type=\"${illegal_block_type}\"]`);\n            }\n        });\n\n        if (has_illegal_block) {\n            if (showIncompatibleStrategyDialog) {\n                showIncompatibleStrategyDialog();\n            }\n            window.Blockly.Events.enable();\n            return window.Blockly.utils.xml.textToDom('<xml />');\n        }\n\n        const variable_nodes = [];\n        const block_nodes = [];\n\n        Array.from(xml.children).forEach(strategy_child_node => {\n            const tag_name = strategy_child_node.nodeName.toLowerCase();\n\n            switch (tag_name) {\n                case 'block':\n                case 'shadow': {\n                    block_nodes.push(strategy_child_node);\n                    break;\n                }\n                case 'variables': {\n                    variable_nodes.push(...strategy_child_node.children);\n                    break;\n                }\n                default:\n                    break;\n            }\n        });\n\n        const registerVariables = el_variables => {\n            el_variables.forEach(el_variable => {\n                const variable_id = el_variable.getAttribute('id');\n                const variable_name = el_variable.textContent;\n\n                if (!this.workspace_variables[variable_id]) {\n                    const variable = window.Blockly.Variables.getOrCreateVariablePackage(\n                        this.workspace,\n                        variable_id,\n                        variable_name,\n                        ''\n                    );\n                    this.workspace_variables[variable.id_] = variable.name;\n                }\n            });\n        };\n\n        // Register pre-existing variables taken from XML file. Users may register variables\n        // but not use them, we should not delete them nor create only the ones used in the strategy.\n        registerVariables(variable_nodes);\n\n        // Collection strategies don't pre-register variables, find these and register\n        // variable instances for them if they don't exist yet.\n        registerVariables(xml.querySelectorAll('field[name=\"VAR\"]'));\n\n        block_nodes.forEach(block_node => this.convertBlockNode(block_node));\n\n        // Re-connect blocks that have been transformed into multiples. i.e. in the case\n        // of old multiline blocks converted to statement blocks.\n        Object.keys(this.blocks_pending_reconnect).forEach(previous_sibling_id => {\n            const previous_sibling_block = this.workspace.getBlockById(previous_sibling_id);\n            const child_blocks = this.blocks_pending_reconnect[previous_sibling_id];\n            const sibling_previous_connection = previous_sibling_block.previousConnection;\n\n            if (sibling_previous_connection) {\n                const sibling_previous_target_connection = sibling_previous_connection.targetConnection;\n                let highest_previous_connection = sibling_previous_connection;\n\n                // Connect all the blocks to be connected in reverse, we do this to maintain\n                // the original order of statement blocks, although the order mostly doesn't\n                // matter. (This may change, it may matter for other statement blocks.)\n                child_blocks.reverse().forEach(child_block => {\n                    highest_previous_connection.connect(child_block.nextConnection);\n                    highest_previous_connection = child_block.previousConnection;\n                });\n\n                if (sibling_previous_target_connection) {\n                    // Reconnect the first block in this statement to the original parent connection.\n                    let current_previous_connection = previous_sibling_block.previousConnection;\n                    let previous_block = previous_sibling_block.getPreviousBlock();\n\n                    while (previous_block) {\n                        if (previous_block === previous_block.getSurroundParent()) {\n                            break;\n                        }\n\n                        current_previous_connection = previous_block.previousConnection;\n                        previous_block = previous_block.getPreviousBlock();\n                    }\n\n                    sibling_previous_target_connection.connect(current_previous_connection);\n                }\n            }\n        });\n\n        this.naivelyFixLegacyStrategyAfterConversion();\n\n        this.workspace.getAllBlocks(true).forEach(block => {\n            block.initSvg();\n            block.renderEfficiently();\n        });\n\n        this.workspace.cleanUp();\n\n        const converted_xml = window.Blockly.Xml.workspaceToDom(this.workspace);\n\n        convertStrategyToIsDbot(converted_xml);\n\n        this.workspace = null;\n\n        window.Blockly.Events.enable();\n\n        return converted_xml;\n    }\n\n    convertBlockNode(el_block, parent_block = null) {\n        const conversions = this.getConversions();\n        const block_type = el_block.getAttribute('type');\n        const is_old_block = Object.keys(conversions).includes(block_type);\n        let block = null;\n\n        const is_collapsed =\n            (el_block.getAttribute('collapsed') && el_block.getAttribute('collapsed') === 'true') || false;\n        const is_immovable = el_block.getAttribute('movable') && el_block.getAttribute('movable') === 'false';\n        const is_undeletable = el_block.getAttribute('deletable') && el_block.getAttribute('deletable') === 'false';\n        const is_disabled = el_block.getAttribute('disabled') && el_block.getAttribute('disabled') === 'true';\n\n        const setBlockAttributes = b => {\n            b.setCollapsed(is_collapsed);\n            b.setMovable(!is_immovable);\n            b.setDeletable(!is_undeletable);\n            b.setDisabled(is_disabled);\n        };\n\n        if (is_old_block) {\n            const conversion_obj = conversions[block_type](el_block);\n\n            // block is a value block that needs to be reattached. TODO?\n            if (conversion_obj.block_to_attach) {\n                block = conversion_obj.block_to_attach;\n                setBlockAttributes(block);\n            }\n\n            // Statement blocks coming from the conversion_obj need to be attached to the block's previousConnection.\n            if (parent_block && conversion_obj.statement_blocks) {\n                conversion_obj.statement_blocks.forEach(statement_block => {\n                    // Persist block attributes.\n                    setBlockAttributes(statement_block);\n\n                    const previous_connection = this.getClosestLegalPreviousConnection(parent_block);\n\n                    if (previous_connection) {\n                        const target_block = previous_connection.sourceBlock_;\n\n                        if (!this.blocks_pending_reconnect[target_block.id]) {\n                            this.blocks_pending_reconnect[target_block.id] = [];\n                        }\n\n                        this.blocks_pending_reconnect[target_block.id].push(statement_block);\n                    }\n                });\n            }\n        } else {\n            const is_legal_block = Object.keys(window.Blockly.Blocks).includes(block_type);\n\n            if (is_legal_block) {\n                block = this.workspace.newBlock(block_type);\n                setBlockAttributes(block);\n\n                // Ensure mutations are correctly rendered. This logic happens here because\n                // we should ignore mutations on blocks that are already converted i.e mutations\n                // will be taken care of in conversion, not here.\n                if (block) {\n                    const mutation_dom = Array.from(el_block.children).find(\n                        child_node => child_node.tagName.toLowerCase() === 'mutation'\n                    );\n\n                    if (mutation_dom && block.domToMutation) {\n                        block.domToMutation(mutation_dom);\n                    }\n                }\n            }\n        }\n\n        if (!block) {\n            console.warn('Unrecognised block found.', block_type); // eslint-disable-line no-console\n            return false;\n        }\n\n        // Keep track of parent_block, especially important for blocks\n        // nested in <next> statements. This property is only set during conversion.\n        if (parent_block) {\n            block.conversion_parent = parent_block;\n        }\n\n        Array.from(el_block.children).forEach(el_block_child => {\n            const tag_name = el_block_child.tagName.toLowerCase();\n\n            switch (tag_name) {\n                case 'field': {\n                    const field_name = el_block_child.getAttribute('name');\n                    const field = block.getField(field_name);\n\n                    if (field) {\n                        if (field instanceof window.Blockly.FieldVariable) {\n                            const variable_id = el_block_child.getAttribute('id');\n                            const variable_name = el_block_child.innerText.trim();\n                            const variable = window.Blockly.Variables.getOrCreateVariablePackage(\n                                this.workspace,\n                                variable_id,\n                                variable_name,\n                                ''\n                            );\n                            this.workspace_variables[variable.id_] = variable_name;\n                            field.setValue(variable.id_);\n                        } else {\n                            field.setValue(el_block_child.innerText);\n                        }\n                    }\n                    break;\n                }\n                case 'value': {\n                    this.processValueInputs(block, el_block_child);\n                    break;\n                }\n                case 'statement': {\n                    const statement_name = el_block_child.getAttribute('name');\n                    this.processStatementInputs(block, statement_name, el_block_child);\n                    break;\n                }\n                case 'next': {\n                    const closest_statement = el_block_child.closest('statement');\n\n                    if (closest_statement) {\n                        const statement_name = closest_statement.getAttribute('name');\n                        this.processStatementInputs(block, statement_name, el_block_child, block.conversion_parent);\n                    } else if (block.nextConnection) {\n                        Array.from(el_block_child.children).forEach(el_sibling_block => {\n                            const sibling_block = this.convertBlockNode(el_sibling_block);\n                            block.nextConnection.connect(sibling_block.previousConnection);\n                        });\n                    }\n                    break;\n                }\n                default:\n                    break;\n            }\n        });\n\n        return block;\n    }\n\n    // eslint-disable-next-line consistent-return\n    processValueInputs(block, el_input) {\n        const input_name = el_input.getAttribute('name');\n        const input = block.getInput(input_name);\n\n        if (!input) {\n            console.warn('Unrecognised value input', input_name); // eslint-disable-line no-console\n            return false;\n        }\n\n        // Each of the children of a value node is a shadow or block node. Recursively\n        // convert these block nodes to their new counterpart and re-connect them.\n        // eslint-disable-next-line consistent-return\n        Array.from(el_input.children).forEach(el_input_child_block => {\n            const input_child_block = this.convertBlockNode(el_input_child_block, block);\n\n            if (!input_child_block) {\n                // eslint-disable-next-line no-console\n                console.warn('Illegal child.', el_input_child_block.getAttribute('type'));\n                return false;\n            }\n\n            // Set shadow property for shadow blocks.\n            const input_child_type = el_input_child_block.tagName.toLowerCase();\n            if (input_child_type === 'shadow') {\n                input_child_block.setShadow(true);\n            }\n\n            // Re-connect the child block to the value input.\n            input.connection.connect(input_child_block.outputConnection);\n        });\n    }\n\n    // eslint-disable-next-line consistent-return\n    processStatementInputs(block, statement_name, el_node_with_children, block_to_search = null) {\n        const block_to_use = block_to_search || block;\n        const input = block_to_use.getInput(statement_name);\n\n        if (!input) {\n            console.warn('Unrecognised statement input', statement_name); // eslint-disable-line no-console\n            return false;\n        }\n\n        // Each of the children of a statement node is a block node. Recursively\n        // convert these block nodes to their new counterpart and reconnect them.\n        // eslint-disable-next-line consistent-return\n        Array.from(el_node_with_children.children).forEach(el_input_child_block => {\n            const input_child_block = this.convertBlockNode(el_input_child_block, block_to_use);\n            if (!input_child_block) {\n                // eslint-disable-next-line no-console\n                console.warn('Unrecognised child in statement', el_input_child_block.getAttribute('type'));\n                return false;\n            }\n\n            // Note that blocks are connected recursively so more deeply nested blocks\n            // (i.e. nested in <next>) will be connected before less nested blocks.\n            // Luckily Blockly API works in our favour and helps maintain the correct order.\n            const statement_input = block_to_use.getInput(statement_name);\n\n            if (statement_input && input_child_block.previousConnection) {\n                statement_input.connection.connect(input_child_block.previousConnection);\n            }\n        });\n    }\n\n    getClosestLegalPreviousConnection(supposed_parent_block) {\n        // Procedures are a bit special, it's hard to find the correct connection for them so we\n        // generate a (completely useless) filler block and connect it to the procedure's statement\n        // so we can return that useless block's previousConnection.\n        if (config().procedureDefinitionBlocks.includes(supposed_parent_block.type)) {\n            const blocks_in_statement = supposed_parent_block.getBlocksInStatement('STACK');\n\n            if (blocks_in_statement.length === 0) {\n                const input = supposed_parent_block.getInput('STACK');\n                const useless_block = this.workspace.newBlock('useless_block');\n\n                input.connection.connect(useless_block.previousConnection);\n\n                return useless_block.previousConnection;\n            }\n\n            return supposed_parent_block.getInputTargetBlock('STACK').previousConnection;\n        }\n\n        let current_block = this.getFirstBlockInStack(supposed_parent_block);\n        let is_protected_statement = this.isConnectedToProtectedStatementInput(current_block);\n\n        while (is_protected_statement) {\n            const new_parent = current_block.getParent();\n\n            if (new_parent) {\n                current_block = new_parent;\n                is_protected_statement = this.isConnectedToProtectedStatementInput(current_block);\n            }\n        }\n\n        if (current_block.previousConnection) {\n            return current_block.previousConnection;\n        }\n\n        if (supposed_parent_block.conversion_parent) {\n            return this.getClosestLegalPreviousConnection(supposed_parent_block.conversion_parent);\n        }\n\n        return false;\n    }\n\n    isConnectedToProtectedStatementInput(block) {\n        const first_block = this.getFirstBlockInStack(block);\n        const previous_connection = first_block.previousConnection;\n\n        if (previous_connection) {\n            const target_connection = previous_connection.targetConnection;\n\n            if (target_connection) {\n                const target_block = target_connection.sourceBlock_; // eslint-disable-line\n                const input = target_block.getInputWithConnection(target_connection);\n                const protected_statements = target_block.protected_statements || [];\n\n                if (input && protected_statements.includes(input.name)) {\n                    return true;\n                }\n            }\n        }\n\n        return false;\n    }\n}\n",
            "size_bytes": 34933
        },
        "src/components/button-link/button-link.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { Link } from 'react-router-dom';\n\ntype TButtonLinkProps = Omit<React.HTMLProps<HTMLAnchorElement>, 'size'> & {\n    to: string;\n    size?: 'small' | 'medium' | 'large';\n};\n\nconst ButtonLink = ({\n    children,\n    className,\n    to,\n    onClick,\n    size = 'medium',\n}: React.PropsWithChildren<Partial<TButtonLinkProps>>) => (\n    <Link\n        className={classNames('dc-btn dc-btn--primary', className, 'effect', `dc-btn__${size}`)}\n        to={to ?? ''}\n        onClick={onClick}\n    >\n        {children}\n    </Link>\n);\n\nexport default ButtonLink;\n",
            "size_bytes": 620
        },
        "analysis-tool/Benanalysistool-final-main/components/statistical-analysis.tsx": {
            "content": "\"use client\"\n\nimport type { AnalysisResult } from \"@/lib/analysis-engine\"\n\ninterface StatisticalAnalysisProps {\n  analysis: AnalysisResult\n  recentDigits: number[]\n  theme?: \"light\" | \"dark\"\n}\n\nexport function StatisticalAnalysis({ analysis, recentDigits, theme = \"dark\" }: StatisticalAnalysisProps) {\n  // Even/Odd stats\n  const evenCount = recentDigits.filter((d) => d % 2 === 0).length\n  const oddCount = recentDigits.filter((d) => d % 2 !== 0).length\n  const evenPercentage = recentDigits.length > 0 ? (evenCount / recentDigits.length) * 100 : 0\n  const oddPercentage = recentDigits.length > 0 ? (oddCount / recentDigits.length) * 100 : 0\n\n  // Over/Under/Middle stats\n  const underCount = recentDigits.filter((d) => d <= 4).length\n  const middleCount = recentDigits.filter((d) => d >= 3 && d <= 6).length\n  const overCount = recentDigits.filter((d) => d >= 5).length\n  const underPercentage = recentDigits.length > 0 ? (underCount / recentDigits.length) * 100 : 0\n  const middlePercentage = recentDigits.length > 0 ? (middleCount / recentDigits.length) * 100 : 0\n  const overPercentage = recentDigits.length > 0 ? (overCount / recentDigits.length) * 100 : 0\n\n  return (\n    <div className=\"space-y-8\">\n      <h3 className=\"text-xl sm:text-2xl font-bold text-white text-center\">Statistical Analysis</h3>\n\n      {/* Even / Odd Distribution */}\n      <div className=\"space-y-4\">\n        <h4 className=\"text-lg sm:text-xl font-bold text-white text-center\">Even / Odd Distribution</h4>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8\">\n          {/* Even */}\n          <div className=\"space-y-2\">\n            <div className=\"flex justify-between items-center\">\n              <span className=\"text-white font-semibold text-sm sm:text-base\">Even Numbers</span>\n              <span className=\"text-white font-bold text-lg sm:text-xl\">{evenPercentage.toFixed(1)}%</span>\n            </div>\n            <div className=\"h-3 bg-gray-800 rounded-full overflow-hidden\">\n              <div\n                className=\"h-full bg-gradient-to-r from-blue-500 to-blue-400 rounded-full transition-all duration-500\"\n                style={{ width: `${evenPercentage}%` }}\n              />\n            </div>\n          </div>\n\n          {/* Odd */}\n          <div className=\"space-y-2\">\n            <div className=\"flex justify-between items-center\">\n              <span className=\"text-white font-semibold text-sm sm:text-base\">Odd Numbers</span>\n              <span className=\"text-white font-bold text-lg sm:text-xl\">{oddPercentage.toFixed(1)}%</span>\n            </div>\n            <div className=\"h-3 bg-gray-800 rounded-full overflow-hidden\">\n              <div\n                className=\"h-full bg-gradient-to-r from-purple-500 to-pink-500 rounded-full transition-all duration-500\"\n                style={{ width: `${oddPercentage}%` }}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Over / Under Analysis */}\n      <div className=\"space-y-4\">\n        <h4 className=\"text-lg sm:text-xl font-bold text-white text-center\">Over / Under Analysis</h4>\n\n        <div className=\"space-y-4\">\n          {/* Under (0-4) */}\n          <div className=\"space-y-2\">\n            <div className=\"flex justify-between items-center\">\n              <span className=\"text-white font-semibold text-sm sm:text-base\">0-4 (Under)</span>\n              <span className=\"text-white font-bold text-lg sm:text-xl\">{underPercentage.toFixed(1)}%</span>\n            </div>\n            <div className=\"h-3 bg-gray-800 rounded-full overflow-hidden\">\n              <div\n                className=\"h-full bg-gradient-to-r from-green-500 to-emerald-400 rounded-full transition-all duration-500\"\n                style={{ width: `${underPercentage}%` }}\n              />\n            </div>\n          </div>\n\n          {/* Middle (3-6) */}\n          <div className=\"space-y-2\">\n            <div className=\"flex justify-between items-center\">\n              <span className=\"text-white font-semibold text-sm sm:text-base\">3-6 (Middle)</span>\n              <span className=\"text-white font-bold text-lg sm:text-xl\">{middlePercentage.toFixed(1)}%</span>\n            </div>\n            <div className=\"h-3 bg-gray-800 rounded-full overflow-hidden\">\n              <div\n                className=\"h-full bg-gradient-to-r from-orange-500 to-yellow-500 rounded-full transition-all duration-500\"\n                style={{ width: `${middlePercentage}%` }}\n              />\n            </div>\n          </div>\n\n          {/* Over (5-9) */}\n          <div className=\"space-y-2\">\n            <div className=\"flex justify-between items-center\">\n              <span className=\"text-white font-semibold text-sm sm:text-base\">5-9 (Over)</span>\n              <span className=\"text-white font-bold text-lg sm:text-xl\">{overPercentage.toFixed(1)}%</span>\n            </div>\n            <div className=\"h-3 bg-gray-800 rounded-full overflow-hidden\">\n              <div\n                className=\"h-full bg-gradient-to-r from-red-500 to-pink-500 rounded-full transition-all duration-500\"\n                style={{ width: `${overPercentage}%` }}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n",
            "size_bytes": 5236
        },
        "src/external/bot-skeleton/services/api/observables/connection-status-stream.ts": {
            "content": "// connection-status-stream.ts (This will manage our observable stream)\nimport { BehaviorSubject } from 'rxjs';\nimport { TAuthData } from '@/types/api-types';\n\nexport enum CONNECTION_STATUS {\n    OPENED = 'opened',\n    CLOSED = 'closed',\n    UNKNOWN = 'unknown',\n}\n\n// Initial connection status will be 'unknown'\nexport const connectionStatus$ = new BehaviorSubject<string>('unknown');\nexport const isAuthorizing$ = new BehaviorSubject<boolean>(true); // Start with true to show loader immediately\nexport const isAuthorized$ = new BehaviorSubject<boolean>(false);\nexport const account_list$ = new BehaviorSubject<TAuthData['account_list']>([]);\nexport const authData$ = new BehaviorSubject<TAuthData | null>(null);\n\n// Create functions to easily update status\nexport const setConnectionStatus = (status: CONNECTION_STATUS) => {\n    connectionStatus$.next(status);\n};\n\n// Set the authorized status\nexport const setIsAuthorized = (isAuthorized: boolean) => {\n    isAuthorized$.next(isAuthorized);\n};\n\n// Set the authorizing status\nexport const setIsAuthorizing = (isAuthorizing: boolean) => {\n    isAuthorizing$.next(isAuthorizing);\n};\n\n// Set the account list\nexport const setAccountList = (accountList: TAuthData['account_list']) => {\n    account_list$.next(accountList);\n};\n\n// Set the auth data\nexport const setAuthData = (authData: TAuthData | null) => {\n    if (authData?.loginid) {\n        localStorage.setItem('active_loginid', authData.loginid);\n    }\n    authData$.next(authData);\n};\n",
            "size_bytes": 1492
        },
        "src/components/shared_ui/loading/index.ts": {
            "content": "import Loading from './loading';\n\nimport './loading.scss';\n\nexport default Loading;\n",
            "size_bytes": 84
        },
        "src/components/shared/common/utility.ts": {
            "content": "// countries where only multipliers are offered\nconst multipliers_only_countries = ['de', 'es', 'it', 'lu', 'gr', 'au', 'fr'];\nexport const isMultipliersOnly = (country: string) => multipliers_only_countries.includes(country);\n\n// countries where binary options are blocked\nconst blocked_options_countries = ['au', 'fr'];\nexport const isOptionsBlocked = (country: string) => blocked_options_countries.includes(country);\n",
            "size_bytes": 420
        },
        "src/components/bot-notification/bot-notification-utils.ts": {
            "content": "import { toast, ToastPosition, TypeOptions } from 'react-toastify';\nimport { isDbotRTL } from '@/external/bot-skeleton/utils/workspace';\nimport { localize } from '@deriv-com/translations';\n\nconst getToastPosition = () => {\n    const is_RTL = isDbotRTL();\n    if (is_RTL) return toast.POSITION.BOTTOM_RIGHT;\n    return toast.POSITION.BOTTOM_LEFT;\n};\n\nexport type TNotificationContent = {\n    message: string;\n    primary_action?: TAction;\n    closeToast?: () => void;\n};\n\nexport type TAction = {\n    label: string;\n    onClick: (closeToast?: () => void) => void;\n};\n\nexport type TNotificationStyle = {\n    type: TypeOptions;\n    position: ToastPosition;\n    autoClose: number;\n    hideProgressBar: boolean;\n    closeOnClick: boolean;\n    pauseOnHover: boolean;\n    pauseOnFocusLoss: boolean;\n    closeButton: boolean;\n    className?: string;\n};\n\nexport enum NOTIFICATION_TYPE {\n    BOT_IMPORT = 'BOT_IMPORT',\n    BOT_DELETE = 'BOT_DELETE',\n}\n\nexport const notification_message = () => ({\n    bot_stop: localize('Bot stopped. Check Reports for contract history'),\n    workspace_change: localize('Changes you make will not affect your running bot.'),\n    block_delete: localize('Youve just deleted a block.'),\n    invalid_xml: localize('Your import failed due to an invalid file. Upload a complete file in XML format.'),\n    [NOTIFICATION_TYPE.BOT_IMPORT]: localize('Youve successfully imported a bot.'),\n    [NOTIFICATION_TYPE.BOT_DELETE]: localize('Youve successfully deleted a bot.'),\n    strategy_conversion: localize('Save this strategy as an XML file from Deriv Bot for faster re-imports.'),\n    google_drive_error: localize('Your session has expired. Please sign in again.'),\n    xml_import_error: localize('Unsupported file format. Please import a valid XML file.'),\n});\n\nexport const notification_style = {\n    type: toast.TYPE.DEFAULT,\n    position: getToastPosition(),\n    autoClose: 6000,\n    hideProgressBar: true,\n    closeOnClick: false,\n    pauseOnHover: true,\n    pauseOnFocusLoss: false,\n};\n",
            "size_bytes": 2015
        },
        "src/components/shared_ui/contract-card/contract-card-items/contract-card-footer.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { CSSTransition } from 'react-transition-group';\nimport { hasContractEntered, isOpen, isValidToCancel, isValidToSell, useNewRowTransition } from '@/components/shared';\nimport { TContractInfo } from '@/components/shared/src/utils/contract/contract-types';\nimport { Localize } from '@deriv-com/translations';\nimport Text from '../../text';\nimport { TGetCardLables } from '../../types';\nimport ContractCardSell from './contract-card-sell';\nimport MultiplierCloseActions from './multiplier-close-actions';\n\nexport type TCardFooterPropTypes = {\n    contract_info: TContractInfo;\n    getCardLabels: TGetCardLables;\n    is_multiplier?: boolean;\n    is_positions?: boolean;\n    is_sell_requested: boolean;\n    is_lookbacks?: boolean;\n    onClickCancel: (contract_id?: number) => void;\n    onClickSell: (contract_id?: number) => void;\n    onFooterEntered?: () => void;\n    server_time: moment.Moment;\n    should_show_transition?: boolean;\n};\n\nconst CardFooter = ({\n    contract_info,\n    getCardLabels,\n    is_multiplier,\n    is_positions,\n    is_sell_requested,\n    is_lookbacks,\n    onClickCancel,\n    onClickSell,\n    onFooterEntered,\n    server_time,\n    should_show_transition,\n}: TCardFooterPropTypes) => {\n    const { in_prop } = useNewRowTransition(!!should_show_transition);\n\n    const is_valid_to_cancel = isValidToCancel(contract_info);\n\n    const should_show_sell = hasContractEntered(contract_info) && isOpen(contract_info);\n    const should_show_sell_note = is_lookbacks && isValidToSell(contract_info) && should_show_sell;\n\n    if (!should_show_sell) return null;\n\n    return (\n        <CSSTransition\n            in={in_prop}\n            timeout={should_show_transition ? 250 : 0}\n            classNames={\n                should_show_transition\n                    ? {\n                          enter: 'dc-contract-card__sell-button--enter',\n                          enterDone: 'dc-contract-card__sell-button--enter-done',\n                          exit: 'dc-contract-card__sell-button--exit',\n                      }\n                    : {}\n            }\n            onEntered={onFooterEntered}\n            unmountOnExit\n        >\n            <div className='dc-contract-card-item__footer'>\n                {is_multiplier ? (\n                    <div\n                        className={classNames('dc-contract-card__sell-button', {\n                            'dc-contract-card__sell-button--has-cancel-btn': is_valid_to_cancel,\n                            'dc-contract-card__sell-button--positions': is_positions,\n                        })}\n                    >\n                        <MultiplierCloseActions\n                            className='dc-btn--sell'\n                            contract_info={contract_info}\n                            getCardLabels={getCardLabels}\n                            is_sell_requested={is_sell_requested}\n                            onClickCancel={onClickCancel}\n                            onClickSell={onClickSell}\n                            server_time={server_time}\n                        />\n                    </div>\n                ) : (\n                    <React.Fragment>\n                        <div\n                            className={classNames('dc-contract-card__sell-button', {\n                                'dc-contract-card__sell-button--positions': is_positions,\n                            })}\n                        >\n                            <ContractCardSell\n                                contract_info={contract_info}\n                                is_sell_requested={is_sell_requested}\n                                getCardLabels={getCardLabels}\n                                onClickSell={onClickSell}\n                            />\n                        </div>\n                        {should_show_sell_note && (\n                            <Text\n                                as='div'\n                                size='xxxs'\n                                color='less-prominent'\n                                lineHeight='s'\n                                className='lookbacks--note'\n                            >\n                                <Localize\n                                    i18n_default_text='<0>Note:</0> Contract will be sold at the prevailing market price when the request is received by our servers. This price may differ from the indicated price.'\n                                    components={[<strong key={0} />]}\n                                />\n                            </Text>\n                        )}\n                    </React.Fragment>\n                )}\n            </div>\n        </CSSTransition>\n    );\n};\n\nexport default CardFooter;\n",
            "size_bytes": 4756
        },
        "src/components/shared_ui/modal/modal-footer.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\n\ntype TFooter = {\n    className: string;\n    has_separator: boolean;\n    is_bypassed: boolean;\n};\n\nconst Footer = ({ children, className, has_separator, is_bypassed }: React.PropsWithChildren<Partial<TFooter>>) => {\n    if (is_bypassed) return <React.Fragment>{children}</React.Fragment>;\n    return (\n        <div\n            data-testid='dt_modal_footer'\n            className={classNames(\n                'dc-modal-footer',\n                {\n                    'dc-modal-footer--separator': has_separator,\n                },\n                className\n            )}\n        >\n            {children}\n        </div>\n    );\n};\n\nexport default Footer;\n",
            "size_bytes": 716
        },
        "src/external/bot-skeleton/services/tradeEngine/Interface/IndicatorsInterface.js": {
            "content": "import {\n    bollingerBands as bb,\n    bollingerBandsArray as bba,\n    exponentialMovingAverage as ema,\n    exponentialMovingAverageArray as emaa,\n    macdArray as macda,\n    relativeStrengthIndex as rsi,\n    relativeStrengthIndexArray as rsia,\n    simpleMovingAverage as sma,\n    simpleMovingAverageArray as smaa,\n} from '@/external/indicators/index';\n\nconst decorate = (f, input, tradeEngine, config, ...args) => {\n    const pipSize = tradeEngine.getPipSize();\n    return f(input, { pipSize, ...config }, ...args);\n};\n\nconst getIndicatorsInterface = tradeEngine => {\n    return {\n        sma: (input, periods) => decorate(sma, input, tradeEngine, { periods }),\n        smaa: (input, periods) => decorate(smaa, input, tradeEngine, { periods }),\n        ema: (input, periods) => decorate(ema, input, tradeEngine, { periods }),\n        emaa: (input, periods) => decorate(emaa, input, tradeEngine, { periods }),\n        rsi: (input, periods) => decorate(rsi, input, tradeEngine, { periods }),\n        rsia: (input, periods) => decorate(rsia, input, tradeEngine, { periods }),\n        bb: (input, config, field) => decorate(bb, input, tradeEngine, config)[field],\n        bba: (input, config, field) => decorate(bba, input, tradeEngine, config).map(r => r[field]),\n        macda: (input, config, field) => decorate(macda, input, tradeEngine, config).map(r => r[field]),\n    };\n};\n\nexport default getIndicatorsInterface;\n",
            "size_bytes": 1417
        },
        "src/components/shared_ui/mobile-wrapper/mobile-wrapper.tsx": {
            "content": "import React from 'react';\nimport { isMobile } from '@/components/shared/utils/screen';\n\ntype TMobileWrapper = {\n    children: React.ReactNode;\n};\n\nconst MobileWrapper = ({ children }: TMobileWrapper) => {\n    if (!isMobile()) return null;\n\n    return <React.Fragment>{children}</React.Fragment>;\n};\n\nexport default MobileWrapper;\n",
            "size_bytes": 331
        },
        "src/components/run-panel/index.ts": {
            "content": "import RunPanel from './run-panel';\nimport './run-panel.scss';\n\nexport default RunPanel;\n",
            "size_bytes": 89
        },
        "src/analytics/rudderstack-quick-strategy.ts": {
            "content": "import { Analytics, TEvents } from '@deriv-com/analytics';\nimport { ACTION, form_name, type TFormStrategy } from './constants';\nimport { getRsStrategyType, getTradeParameterData } from './utils';\n\nexport const rudderStackSendQsRunStrategyEvent = ({\n    form_values,\n    selected_strategy,\n}: TEvents['ce_bot_form'] & TFormStrategy) => {\n    Analytics.trackEvent('ce_bot_form', {\n        action: ACTION.RUN_QUICK_STRATEGY,\n        form_name,\n        subform_name: 'quick_strategy',\n        strategy_name: getRsStrategyType(selected_strategy),\n        ...getTradeParameterData({ form_values, selected_strategy }),\n    });\n};\n\nexport const rudderStackSendQsEditStrategyEvent = ({\n    form_values,\n    selected_strategy,\n}: TEvents['ce_bot_form'] & TFormStrategy) => {\n    Analytics.trackEvent('ce_bot_form', {\n        action: ACTION.EDIT_QUICK_STRATEGY,\n        form_name,\n        subform_name: 'quick_strategy',\n        strategy_name: getRsStrategyType(selected_strategy),\n        ...getTradeParameterData({ form_values, selected_strategy }),\n    });\n};\n\nexport const rudderStackSendQsSelectedTabEvent = ({ quick_strategy_tab }: TEvents['ce_bot_form']) => {\n    Analytics.trackEvent('ce_bot_form', {\n        action: ACTION.SWITCH_QUICK_STRATEGY_TAB,\n        form_name,\n        subform_name: 'quick_strategy',\n        quick_strategy_tab,\n    });\n};\n",
            "size_bytes": 1346
        },
        "src/components/layout/header/common/eu-accounts.tsx": {
            "content": "import React from 'react';\nimport clsx from 'clsx';\nimport { localize } from '@deriv-com/translations';\nimport { AccountSwitcher as UIAccountSwitcher } from '@deriv-com/ui';\nimport { TEuAccounts } from './types';\n\nconst EuAccounts = ({\n    isVirtual,\n    tabs_labels,\n    modifiedMFAccountList,\n    switchAccount,\n    is_low_risk_country,\n}: TEuAccounts) => {\n    const account_switcher_title_eu =\n        modifiedMFAccountList?.length === 0 || !is_low_risk_country\n            ? localize('Deriv accounts')\n            : localize('Eu Deriv accounts');\n    return (\n        <UIAccountSwitcher.AccountsPanel\n            isOpen\n            title={account_switcher_title_eu}\n            className='account-switcher-panel'\n            key={!isVirtual ? tabs_labels.demo.toLowerCase() : tabs_labels.real.toLowerCase()}\n        >\n            {modifiedMFAccountList.map(account => {\n                account.currencyLabel = localize('Multipliers');\n                return (\n                    <span\n                        className={clsx('account-switcher__item', {\n                            'account-switcher__item--disabled': account.is_disabled,\n                        })}\n                        key={account.loginid}\n                    >\n                        <UIAccountSwitcher.AccountsItem\n                            account={account}\n                            onSelectAccount={() => {\n                                if (!account.is_disabled) switchAccount(account.loginid);\n                            }}\n                        />\n                    </span>\n                );\n            })}\n        </UIAccountSwitcher.AccountsPanel>\n    );\n};\n\nexport default EuAccounts;\n",
            "size_bytes": 1687
        },
        "src/pages/bot-builder/quick-strategy/form-wrappers/desktop-form-wrapper.tsx": {
            "content": "import React from 'react';\nimport { useFormikContext } from 'formik';\nimport { observer } from 'mobx-react-lite';\nimport Button from '@/components/shared_ui/button';\nimport Text from '@/components/shared_ui/text';\nimport ThemedScrollbars from '@/components/shared_ui/themed-scrollbars';\nimport { useStore } from '@/hooks/useStore';\nimport { LegacyClose1pxIcon } from '@deriv/quill-icons/Legacy';\nimport { localize } from '@deriv-com/translations';\nimport { rudderStackSendQsEditStrategyEvent } from '../../../../analytics/rudderstack-quick-strategy';\nimport { STRATEGIES } from '../config';\nimport { TFormData, TFormValues } from '../types';\nimport QSStepper from './qs-stepper';\nimport StrategyTabContent from './strategy-tab-content';\nimport StrategyTemplatePicker from './strategy-template-picker';\nimport { QsSteps } from './trade-constants';\nimport useQsSubmitHandler from './useQsSubmitHandler';\n\ntype TDesktopFormWrapper = {\n    children: React.ReactNode;\n    current_step: QsSteps;\n    setCurrentStep: (current_step: QsSteps) => void;\n    onClickClose: () => void;\n    selected_trade_type: string;\n    setSelectedTradeType: (selected_trade_type: string) => void;\n};\n\nconst QuickSelectionPanel = ({\n    selected_trade_type,\n    selected_startegy_label,\n    children,\n}: Pick<TDesktopFormWrapper, 'selected_trade_type' | 'children'> & { selected_startegy_label: string }) => (\n    <>\n        <div className='qs__selected-options'>\n            <div className='qs__selected-options__item'>\n                <Text size='xs' lineHeight='s'>\n                    {localize('Trade type')}\n                </Text>\n                <Text size='xs' weight='bold' lineHeight='s'>\n                    {selected_trade_type}\n                </Text>\n            </div>\n            <div className='qs__selected-options__item'>\n                <Text size='xs' lineHeight='s'>\n                    {localize('Strategy')}\n                </Text>\n                <Text className='qs__selected-options__item__description' weight='bold' lineHeight='s'>\n                    {selected_startegy_label}\n                </Text>\n            </div>\n        </div>\n        <StrategyTabContent formfields={children} active_tab={'TRADE_PARAMETERS'} />\n    </>\n);\n\nconst FormWrapper = observer(\n    ({\n        children,\n        current_step,\n        setCurrentStep,\n        onClickClose,\n        selected_trade_type,\n        setSelectedTradeType,\n    }: TDesktopFormWrapper) => {\n        const scroll_ref = React.useRef<HTMLDivElement & SVGSVGElement>(null);\n        const { submitForm, isValid, setFieldValue, validateForm, values } = useFormikContext<TFormValues>();\n        const { quick_strategy } = useStore();\n        const { selected_strategy, onSubmit, is_stop_bot_dialog_open } = quick_strategy;\n        const { handleSubmit } = useQsSubmitHandler();\n\n        const selected_startegy_label = STRATEGIES()[selected_strategy as keyof typeof STRATEGIES].label;\n        const is_selected_strategy_step = current_step === QsSteps.StrategySelect;\n\n        React.useEffect(() => {\n            if (isValid && current_step === QsSteps.StrategyVerified) {\n                setCurrentStep(QsSteps.StrategyCompleted);\n            }\n            if (!isValid && current_step === QsSteps.StrategyCompleted) {\n                setCurrentStep(QsSteps.StrategyVerified);\n            }\n        }, [isValid, current_step]);\n\n        React.useEffect(() => {\n            validateForm();\n        }, [selected_strategy, validateForm]);\n\n        const onEdit = async () => {\n            await setFieldValue('action', 'EDIT');\n            validateForm();\n            submitForm().then((form_data: TFormData | void) => {\n                if (isValid && form_data) {\n                    rudderStackSendQsEditStrategyEvent({\n                        form_values: values,\n                        selected_strategy,\n                    });\n                    onSubmit(form_data); // true to load and run the bot\n                }\n            });\n        };\n\n        const onRun = () => {\n            handleSubmit();\n        };\n\n        const onBack = () => {\n            setCurrentStep(QsSteps.StrategySelect);\n        };\n\n        const renderContent = React.useCallback(() => {\n            switch (current_step) {\n                case QsSteps.StrategySelect:\n                    return (\n                        <StrategyTemplatePicker\n                            setCurrentStep={setCurrentStep}\n                            setSelectedTradeType={setSelectedTradeType}\n                        />\n                    );\n                case QsSteps.StrategyVerified:\n                    return (\n                        <QuickSelectionPanel\n                            selected_trade_type={selected_trade_type}\n                            selected_startegy_label={selected_startegy_label}\n                        >\n                            {children}\n                        </QuickSelectionPanel>\n                    );\n                case QsSteps.StrategyCompleted:\n                    return (\n                        <QuickSelectionPanel\n                            selected_trade_type={selected_trade_type}\n                            selected_startegy_label={selected_startegy_label}\n                        >\n                            {children}\n                        </QuickSelectionPanel>\n                    );\n                default:\n                    return null;\n            }\n        }, [\n            current_step,\n            selected_trade_type,\n            selected_startegy_label,\n            children,\n            setCurrentStep,\n            setSelectedTradeType,\n        ]);\n\n        return (\n            !is_stop_bot_dialog_open && (\n                <div className='qs'>\n                    <div className='qs__head'>\n                        <div className='qs__head__title'>\n                            <Text weight='bold'>{localize('Quick Strategy')}</Text>\n                        </div>\n                        <div className='qs__head__action'>\n                            <span\n                                data-testid='qs-desktop-close-button'\n                                onClick={onClickClose}\n                                tabIndex={0}\n                                onKeyDown={(e: React.KeyboardEvent) => {\n                                    if (e.key === 'Enter') {\n                                        onClickClose();\n                                    }\n                                }}\n                            >\n                                <LegacyClose1pxIcon height='20px' width='20px' />\n                            </span>\n                        </div>\n                    </div>\n                    <div className='qs__body'>\n                        <div className='qs__body__sidebar'>\n                            <div className='qs__body__sidebar__subtitle'>\n                                <Text size='xs'>\n                                    {localize('Choose a template below and set your trade parameters.')}\n                                </Text>\n                            </div>\n                            <QSStepper current_step={current_step} />\n                        </div>\n                        <div className='qs__body__content'>\n                            <ThemedScrollbars\n                                className='qs__form__container qs__form__container--footer'\n                                autohide={false}\n                                refSetter={scroll_ref}\n                            >\n                                {renderContent()}\n                            </ThemedScrollbars>\n                            {!is_selected_strategy_step && (\n                                <div className='qs__body__content__footer'>\n                                    <Button\n                                        transparent\n                                        classNameSpan='qs__body__content__footer--back'\n                                        disabled={is_selected_strategy_step}\n                                        onClick={onBack}\n                                    >\n                                        {localize('Back')}\n                                    </Button>\n                                    <Button secondary disabled={!isValid} onClick={onEdit}>\n                                        {localize('Load')}\n                                    </Button>\n                                    <Button\n                                        data-testid='qs-run-button'\n                                        primary\n                                        onClick={e => {\n                                            e.preventDefault();\n                                            onRun();\n                                        }}\n                                        disabled={!isValid}\n                                    >\n                                        {localize('Run')}\n                                    </Button>\n                                </div>\n                            )}\n                        </div>\n                    </div>\n                </div>\n            )\n        );\n    }\n);\n\nexport default React.memo(FormWrapper);\n",
            "size_bytes": 9239
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/During Purchase/during_purchase.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { appendCollapsedMainBlocksFields, modifyContextMenu } from '../../../utils';\nimport { sellContract } from '../../images';\n\nwindow.Blockly.Blocks.during_purchase = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2 %3',\n            message1: '%1',\n            message2: '%1',\n            args0: [\n                {\n                    type: 'field_image',\n                    src: sellContract,\n                    width: 25,\n                    height: 25,\n                    alt: 'S',\n                },\n                {\n                    type: 'field_label',\n                    text: localize('3. Sell conditions'),\n                    class: 'blocklyTextRootBlockHeader',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'DURING_PURCHASE_STACK',\n                    check: 'SellAtMarket',\n                },\n            ],\n            args2: [\n                {\n                    type: 'field_image',\n                    src: ' ', // this is here to add extra padding\n                    width: 380,\n                    height: 10,\n                },\n            ],\n            colour: window.Blockly.Colours.RootBlock.colour,\n            colourSecondary: window.Blockly.Colours.RootBlock.colourSecondary,\n            colourTertiary: window.Blockly.Colours.RootBlock.colourTertiary,\n            tooltip: localize('Sell your active contract if needed (optional)'),\n            category: window.Blockly.Categories.During_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Sell conditions'),\n            description: localize(\n                'Here is where you can decide to sell your contract before it expires. Only one copy of this block is allowed.'\n            ),\n        };\n    },\n    onchange(event) {\n        if (\n            event.type === window.Blockly.Events.BLOCK_CHANGE ||\n            (event.type === window.Blockly.Events.BLOCK_DRAG && !event.isStart)\n        ) {\n            if (this.isCollapsed()) {\n                appendCollapsedMainBlocksFields(this);\n            }\n        }\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.during_purchase = block => {\n    const stack = window.Blockly.JavaScript.javascriptGenerator.statementToCode(block, 'DURING_PURCHASE_STACK');\n\n    const code = `BinaryBotPrivateDuringPurchase = function BinaryBotPrivateDuringPurchase() {\n        Bot.highlightBlock('${block.id}');\n        ${stack}\n    };\\n`;\n    return code;\n};\n",
            "size_bytes": 2823
        },
        "src/pages/chart/chart.tsx": {
            "content": "import { useEffect, useRef, useState } from 'react';\nimport classNames from 'classnames';\nimport { observer } from 'mobx-react-lite';\nimport { api_base } from '@/external/bot-skeleton';\nimport chart_api from '@/external/bot-skeleton/services/api/chart-api';\nimport { useStore } from '@/hooks/useStore';\nimport {\n    ActiveSymbolsRequest,\n    ServerTimeRequest,\n    TicksHistoryResponse,\n    TicksStreamRequest,\n    TradingTimesRequest,\n} from '@deriv/api-types';\nimport { ChartTitle, SmartChart } from '@deriv-com/derivatives-charts';\nimport { useDevice } from '@deriv-com/ui';\nimport ToolbarWidgets from './toolbar-widgets';\nimport '@deriv-com/derivatives-charts/dist/smartcharts.css';\n\ntype TSubscription = {\n    [key: string]: null | {\n        unsubscribe?: () => void;\n    };\n};\n\ntype TError = null | {\n    error?: {\n        code?: string;\n        message?: string;\n    };\n};\n\nconst subscriptions: TSubscription = {};\n\nconst Chart = observer(({ show_digits_stats }: { show_digits_stats: boolean }) => {\n    const barriers: [] = [];\n    const { common, ui } = useStore();\n    const { chart_store, run_panel, dashboard } = useStore();\n    const [isSafari, setIsSafari] = useState(false);\n\n    const {\n        chart_type,\n        getMarketsOrder,\n        granularity,\n        onSymbolChange,\n        setChartStatus,\n        symbol,\n        updateChartType,\n        updateGranularity,\n        updateSymbol,\n        setChartSubscriptionId,\n        chart_subscription_id,\n    } = chart_store;\n    const chartSubscriptionIdRef = useRef(chart_subscription_id);\n    const { isDesktop, isMobile } = useDevice();\n    const { is_drawer_open } = run_panel;\n    const { is_chart_modal_visible } = dashboard;\n    const settings = {\n        assetInformation: false, // ui.is_chart_asset_info_visible,\n        countdown: true,\n        isHighestLowestMarkerEnabled: false, // TODO: Pending UI,\n        language: common.current_language.toLowerCase(),\n        position: ui.is_chart_layout_default ? 'bottom' : 'left',\n        theme: ui.is_dark_mode_on ? 'dark' : 'light',\n    };\n\n    useEffect(() => {\n        // Safari browser detection\n        const isSafariBrowser = () => {\n            const ua = navigator.userAgent.toLowerCase();\n            return ua.indexOf('safari') !== -1 && ua.indexOf('chrome') === -1 && ua.indexOf('android') === -1;\n        };\n\n        setIsSafari(isSafariBrowser());\n\n        return () => {\n            chart_api.api.forgetAll('ticks');\n        };\n    }, []);\n\n    useEffect(() => {\n        chartSubscriptionIdRef.current = chart_subscription_id;\n    }, [chart_subscription_id]);\n\n    useEffect(() => {\n        if (!symbol) updateSymbol();\n    }, [symbol, updateSymbol]);\n\n    const [forceChartRefresh, setForceChartRefresh] = useState(0);\n\n    useEffect(() => {\n        // FORCE INJECT 1s volatility indices directly into api_base.active_symbols\n        if (api_base.active_symbols && Array.isArray(api_base.active_symbols)) {\n            let symbols = [...api_base.active_symbols];\n\n            // Check if our symbols are already present\n            const existing_1s_symbols = symbols.filter((s: any) =>\n                ['1HZ15V', '1HZ30V', '1HZ90V'].includes(s.symbol || s.underlying_symbol)\n            );\n\n            if (existing_1s_symbols.length < 3) {\n                // Remove Spain 35 and any existing instances of our symbols\n                symbols = symbols.filter((symbol: any) => {\n                    const symbol_code = symbol.symbol || symbol.underlying_symbol;\n                    // symbol_code !== 'OTC_IBEX35' &&\n                    return !['1HZ15V', '1HZ30V', '1HZ90V'].includes(symbol_code);\n                });\n\n                // Force add our 1s volatility indices\n                const required_1s_symbols = [\n                    {\n                        symbol: '1HZ15V',\n                        underlying_symbol: '1HZ15V',\n                        display_name: 'Volatility 15 (1s) Index',\n                        market: 'synthetic_index',\n                        market_display_name: 'Derived',\n                        submarket: 'random_index',\n                        submarket_display_name: 'Continuous Indices',\n                        pip: 0.001,\n                        pip_size: 0.001,\n                        exchange_is_open: true,\n                        is_trading_suspended: false,\n                    },\n                    {\n                        symbol: '1HZ30V',\n                        underlying_symbol: '1HZ30V',\n                        display_name: 'Volatility 30 (1s) Index',\n                        market: 'synthetic_index',\n                        market_display_name: 'Derived',\n                        submarket: 'random_index',\n                        submarket_display_name: 'Continuous Indices',\n                        pip: 0.001,\n                        pip_size: 0.001,\n                        exchange_is_open: true,\n                        is_trading_suspended: false,\n                    },\n                    {\n                        symbol: '1HZ90V',\n                        underlying_symbol: '1HZ90V',\n                        display_name: 'Volatility 90 (1s) Index',\n                        market: 'synthetic_index',\n                        market_display_name: 'Derived',\n                        submarket: 'random_index',\n                        submarket_display_name: 'Continuous Indices',\n                        pip: 0.001,\n                        pip_size: 0.001,\n                        exchange_is_open: true,\n                        is_trading_suspended: false,\n                    },\n                ];\n\n                // Add our symbols\n                symbols.push(...required_1s_symbols);\n\n                // Replace the global api_base.active_symbols\n                api_base.active_symbols = symbols;\n\n                // Force chart to refresh by triggering a re-render\n                setTimeout(() => {\n                    setForceChartRefresh(prev => prev + 1);\n                }, 100);\n            }\n        }\n    }, [symbol]);\n\n    const requestAPI = async (req: ServerTimeRequest | ActiveSymbolsRequest | TradingTimesRequest) => {\n        const response = await chart_api.api.send(req);\n\n        // Only modify active_symbols responses to keep it simple and avoid breaking the chart\n        if (req && (req as ActiveSymbolsRequest).active_symbols && response && response.active_symbols) {\n            let symbols = [...response.active_symbols];\n\n            // Remove Spain 35 from chart\n            // symbols = symbols.filter(symbol => {\n            //     const symbol_code = symbol.symbol || symbol.underlying_symbol;\n            //     return symbol_code !== 'OTC_IBEX35';\n            // });\n\n            // Force add our 1s volatility indices with sorting prefixes\n            const required_1s_symbols = [\n                {\n                    symbol: '1HZ15V',\n                    underlying_symbol: '1HZ15V',\n                    display_name: 'Volatility 15 (1s) Index',\n                    market: 'synthetic_index',\n                    market_display_name: 'Derived',\n                    submarket: 'random_index',\n                    submarket_display_name: 'Continuous Indices',\n                    pip: 0.001,\n                    pip_size: 0.001,\n                    exchange_is_open: true,\n                    is_trading_suspended: false,\n                },\n                {\n                    symbol: '1HZ30V',\n                    underlying_symbol: '1HZ30V',\n                    display_name: 'Volatility 30 (1s) Index',\n                    market: 'synthetic_index',\n                    market_display_name: 'Derived',\n                    submarket: 'random_index',\n                    submarket_display_name: 'Continuous Indices',\n                    pip: 0.001,\n                    pip_size: 0.001,\n                    exchange_is_open: true,\n                    is_trading_suspended: false,\n                },\n                {\n                    symbol: '1HZ90V',\n                    underlying_symbol: '1HZ90V',\n                    display_name: 'Volatility 90 (1s) Index',\n                    market: 'synthetic_index',\n                    market_display_name: 'Derived',\n                    submarket: 'random_index',\n                    submarket_display_name: 'Continuous Indices',\n                    pip: 0.001,\n                    pip_size: 0.001,\n                    exchange_is_open: true,\n                    is_trading_suspended: false,\n                },\n            ];\n\n            // Apply alphabetical sorting prefixes to force correct order\n            // Since SmartChart uses alphabetical sorting internally, we need to make our desired order alphabetical\n            const volatilityOrderMap: Record<string, string> = {\n                'Volatility 10 (1s) Index': '01a_Volatility 10 (1s) Index',\n                'Volatility 10 Index': '01b_Volatility 10 Index',\n                'Volatility 15 (1s) Index': '02a_Volatility 15 (1s) Index',\n                'Volatility 25 (1s) Index': '03a_Volatility 25 (1s) Index',\n                'Volatility 25 Index': '03b_Volatility 25 Index',\n                'Volatility 30 (1s) Index': '04a_Volatility 30 (1s) Index',\n                'Volatility 50 (1s) Index': '05a_Volatility 50 (1s) Index',\n                'Volatility 50 Index': '05b_Volatility 50 Index',\n                'Volatility 75 (1s) Index': '06a_Volatility 75 (1s) Index',\n                'Volatility 75 Index': '06b_Volatility 75 Index',\n                'Volatility 90 (1s) Index': '07a_Volatility 90 (1s) Index',\n                'Volatility 100 (1s) Index': '08a_Volatility 100 (1s) Index',\n                'Volatility 100 Index': '08b_Volatility 100 Index',\n            };\n\n            // Apply sorting prefixes to volatility indices\n            symbols.forEach((symbol: any) => {\n                if (symbol.display_name && volatilityOrderMap[symbol.display_name]) {\n                    symbol.original_display_name = symbol.display_name;\n                    symbol.display_name = volatilityOrderMap[symbol.display_name];\n                }\n            });\n\n            // Remove any existing instances first to avoid duplicates\n            symbols = symbols.filter(symbol => {\n                const symbol_code = symbol.symbol || symbol.underlying_symbol;\n                return !['1HZ15V', '1HZ30V', '1HZ90V'].includes(symbol_code);\n            });\n\n            // Add our 1s volatility indices\n            symbols.push(...required_1s_symbols);\n\n            const modified_response = {\n                ...response,\n                active_symbols: symbols,\n            };\n\n            // Force update the global api_base.active_symbols as well to ensure consistency\n            if (api_base.active_symbols) {\n                api_base.active_symbols = symbols;\n            }\n\n            return modified_response;\n        }\n\n        return response;\n    };\n\n    const requestForgetStream = (subscription_id: string) => {\n        subscription_id && chart_api.api.forget(subscription_id);\n    };\n\n    const requestSubscribe = async (req: TicksStreamRequest, callback: (data: any) => void) => {\n        try {\n            requestForgetStream(chartSubscriptionIdRef.current);\n            const history = await chart_api.api.send(req);\n            setChartSubscriptionId(history?.subscription.id);\n            if (history) callback(history);\n            if (req.subscribe === 1) {\n                subscriptions[history?.subscription.id] = chart_api.api\n                    .onMessage()\n                    ?.subscribe(({ data }: { data: TicksHistoryResponse }) => {\n                        callback(data);\n                    });\n            }\n        } catch (e) {\n            // eslint-disable-next-line no-console\n            (e as TError)?.error?.code === 'MarketIsClosed' && callback([]); //if market is closed sending a empty array  to resolve\n            console.log((e as TError)?.error?.message);\n        }\n    };\n\n    if (!symbol) return null;\n    const is_connection_opened = !!chart_api?.api;\n    return (\n        <div\n            className={classNames('dashboard__chart-wrapper', {\n                'dashboard__chart-wrapper--expanded': is_drawer_open && isDesktop,\n                'dashboard__chart-wrapper--modal': is_chart_modal_visible && isDesktop,\n                'dashboard__chart-wrapper--safari': isSafari,\n            })}\n            dir='ltr'\n        >\n            <SmartChart\n                id={`dbot-${forceChartRefresh}`}\n                key={`chart-${forceChartRefresh}`}\n                barriers={barriers}\n                showLastDigitStats={show_digits_stats}\n                chartControlsWidgets={null}\n                enabledChartFooter={false}\n                stateChangeListener={(state: string) => {\n                    // Handle state changes: INITIAL, READY, SCROLL_TO_LEFT\n                    if (state === 'READY') {\n                        setChartStatus(true);\n                    }\n                }}\n                toolbarWidget={() => (\n                    <ToolbarWidgets\n                        updateChartType={updateChartType}\n                        updateGranularity={updateGranularity}\n                        position={!isDesktop ? 'bottom' : 'top'}\n                        isDesktop={isDesktop}\n                    />\n                )}\n                chartType={chart_type}\n                isMobile={isMobile}\n                enabledNavigationWidget={isDesktop}\n                granularity={granularity}\n                requestAPI={requestAPI}\n                requestForget={() => {}}\n                requestForgetStream={() => {}}\n                requestSubscribe={requestSubscribe}\n                settings={settings}\n                symbol={symbol}\n                topWidgets={() => <ChartTitle onChange={onSymbolChange} />}\n                isConnectionOpened={is_connection_opened}\n                getMarketsOrder={active_symbols => {\n                    // Check if our 1s volatility indices are present\n                    const volatility_1s_present =\n                        active_symbols?.filter((s: any) =>\n                            ['1HZ15V', '1HZ30V', '1HZ90V'].includes(s.symbol || s.underlying_symbol)\n                        ) || [];\n\n                    // If our symbols are missing, force add them here\n                    if (active_symbols && volatility_1s_present.length < 3) {\n                        const required_1s_symbols = [\n                            {\n                                symbol: '1HZ15V',\n                                underlying_symbol: '1HZ15V',\n                                display_name: 'Volatility 15 (1s) Index',\n                                market: 'synthetic_index',\n                                market_display_name: 'Derived',\n                                submarket: 'random_index',\n                                submarket_display_name: 'Continuous Indices',\n                                pip: 0.001,\n                                pip_size: 0.001,\n                                exchange_is_open: true,\n                                is_trading_suspended: false,\n                            },\n                            {\n                                symbol: '1HZ30V',\n                                underlying_symbol: '1HZ30V',\n                                display_name: 'Volatility 30 (1s) Index',\n                                market: 'synthetic_index',\n                                market_display_name: 'Derived',\n                                submarket: 'random_index',\n                                submarket_display_name: 'Continuous Indices',\n                                pip: 0.001,\n                                pip_size: 0.001,\n                                exchange_is_open: true,\n                                is_trading_suspended: false,\n                            },\n                            {\n                                symbol: '1HZ90V',\n                                underlying_symbol: '1HZ90V',\n                                display_name: 'Volatility 90 (1s) Index',\n                                market: 'synthetic_index',\n                                market_display_name: 'Derived',\n                                submarket: 'random_index',\n                                submarket_display_name: 'Continuous Indices',\n                                pip: 0.001,\n                                pip_size: 0.001,\n                                exchange_is_open: true,\n                                is_trading_suspended: false,\n                            },\n                        ];\n\n                        // Remove Spain 35 and any existing instances of our symbols\n                        const modified_symbols = active_symbols.filter((symbol: any) => {\n                            const symbol_code = symbol.symbol || symbol.underlying_symbol;\n                            //symbol_code !== 'OTC_IBEX35' &&\n                            return !['1HZ15V', '1HZ30V', '1HZ90V'].includes(symbol_code);\n                        });\n\n                        // Add our 1s volatility indices\n                        modified_symbols.push(...required_1s_symbols);\n\n                        return getMarketsOrder(modified_symbols);\n                    }\n\n                    return getMarketsOrder(active_symbols);\n                }}\n                isLive\n                leftMargin={80}\n            />\n        </div>\n    );\n});\n\nexport default Chart;\n",
            "size_bytes": 17517
        },
        "src/constants/contract-stage.ts": {
            "content": "export type TContractStage = 0 | 1 | 2 | 3 | 4 | 5 | 6;\n\nexport const contract_stages = Object.freeze({\n    NOT_RUNNING: 0,\n    STARTING: 1,\n    RUNNING: 2,\n    PURCHASE_SENT: 3,\n    PURCHASE_RECEIVED: 4,\n    IS_STOPPING: 5,\n    CONTRACT_CLOSED: 6,\n});\n",
            "size_bytes": 253
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Tick Analysis/last_digit.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.last_digit = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Last Digit'),\n            output: 'Number',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the last digit of the latest tick'),\n            category: window.Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Last Digit'),\n            description: localize('This block gives you the last digit of the latest tick value.'),\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.last_digit = () => [\n    'Bot.getLastDigit()',\n    window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC,\n];\n",
            "size_bytes": 1176
        },
        "src/external/bot-skeleton/scratch/blocks/Advanced/List/lists_split.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.lists_split = {\n    init() {\n        const dropdown = new window.Blockly.FieldDropdown(\n            [\n                [localize('make list from text'), 'SPLIT'],\n                [localize('make text from list'), 'JOIN'],\n            ],\n            newMode => this.updateType(newMode)\n        );\n\n        this.appendValueInput('INPUT').setCheck('String').appendField(dropdown, 'MODE');\n        this.appendValueInput('DELIM')\n            .setCheck('String')\n            .appendField('', 'SPACE1')\n            .appendField(localize('with delimiter'), 'DELIM_LABEL');\n        this.appendDummyInput().appendField('', 'SPACE2');\n\n        this.setOutput(true, 'Array');\n        this.setOutputShape(window.Blockly.OUTPUT_SHAPE_ROUND);\n\n        this.setColour(window.Blockly.Colours.Base.colour);\n        // eslint-disable-next-line no-underscore-dangle\n\n        this.setTooltip(\n            localize(\n                'This block creates a list from a given string of text, splitting it with the given delimiter. It can also join items in a list into a string of text.'\n            )\n        );\n    },\n    meta() {\n        return {\n            display_name: localize('Create list from text'),\n            description: localize(\n                'This block creates a list from a given string of text, splitting it with the given delimiter. It can also join items in a list into a string of text.'\n            ),\n            category: window.Blockly.Categories.List,\n        };\n    },\n    mutationToDom() {\n        const container = document.createElement('mutation');\n        container.setAttribute('mode', this.getFieldValue('MODE'));\n        return container;\n    },\n    domToMutation(xmlElement) {\n        this.updateType(xmlElement.getAttribute('mode'));\n    },\n    updateType(newMode) {\n        const delimInput = this.getInput('DELIM');\n        const spaceField = this.getField('SPACE1');\n\n        if (newMode === 'SPLIT') {\n            this.outputConnection.setCheck('Array');\n            this.getInput('INPUT').setCheck('String');\n\n            // Create extra spacing for OUTPUT_SHAPE_SQUARE (i.e. string shapes)\n            if (!spaceField) {\n                delimInput.insertFieldAt(0, '', 'SPACE1');\n            }\n        } else {\n            this.outputConnection.setCheck('String');\n            this.getInput('INPUT').setCheck(null);\n\n            if (spaceField) {\n                delimInput.removeField('SPACE1');\n            }\n        }\n\n        this.initSvg();\n        this.renderEfficiently();\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.lists_split = block => {\n    const input = window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n        block,\n        'INPUT',\n        window.Blockly.JavaScript.javascriptGenerator.ORDER_MEMBER\n    );\n    const delimiter =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'DELIM',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_NONE\n        ) || \"''\";\n    const mode = block.getFieldValue('MODE');\n\n    let code;\n\n    if (mode === 'SPLIT') {\n        code = `${input || \"''\"}.split(${delimiter})`;\n    } else if (mode === 'JOIN') {\n        code = `${input || '[]'}.join(${delimiter})`;\n    }\n\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_FUNCTION_CALL];\n};\n",
            "size_bytes": 3518
        },
        "src/external/indicators/indicators/exponential-moving-average.js": {
            "content": "import { mean, takeField } from '../utils/math';\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  pipSize: number,\n * }\n * @param {Number} init_val\n */\nexport const exponentialMovingAverage = (data, config, init_val) => {\n    const { periods, field, pipSize = 2 } = config;\n\n    const weighting_multiplier = 2 / (periods + 1);\n\n    const vals = takeField(data, field);\n\n    if (init_val) {\n        return (vals[0] - init_val) * weighting_multiplier + init_val;\n    }\n\n    if (data.length < periods) {\n        throw new Error('Periods longer than data length');\n    }\n\n    const mean_val = mean(takeField(data.slice(0, periods), field));\n\n    return +vals\n        .slice(periods)\n        .reduce((prev, e) => (e - prev) * weighting_multiplier + prev, mean_val)\n        .toFixed(pipSize);\n};\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  pipSize: number,\n * }\n */\nexport const exponentialMovingAverageArray = (data, config) => {\n    const { periods } = config;\n\n    let init_val = exponentialMovingAverage(data.slice(0, periods), config);\n\n    return (\n        data\n            .slice(periods - 1)\n            // eslint-disable-next-line no-confusing-arrow\n            .map((x, i) => (!i ? init_val : (init_val = exponentialMovingAverage([x], config, init_val))))\n    );\n};\n",
            "size_bytes": 1455
        },
        "src/components/shared/utils/storage/index.ts": { "content": "export * from './storage';\n", "size_bytes": 27 },
        "src/components/layout/header/mobile-menu/reports-submenu.tsx": {
            "content": "import { standalone_routes } from '@/components/shared';\nimport { generateUrlWithRedirect } from '@/utils/url-redirect-utils';\nimport { LegacyOpenPositionIcon, LegacyProfitTableIcon, LegacyStatementIcon } from '@deriv/quill-icons/Legacy';\nimport { useTranslations } from '@deriv-com/translations';\nimport { MenuItem, Text } from '@deriv-com/ui';\n\nconst ReportsSubmenu = () => {\n    const { localize } = useTranslations();\n    const textSize = 'sm';\n\n    const reportItems = [\n        {\n            icon: LegacyOpenPositionIcon,\n            label: localize('Open positions'),\n            href: generateUrlWithRedirect(standalone_routes.positions),\n        },\n        {\n            icon: LegacyProfitTableIcon,\n            label: localize('Trade table'),\n            href: generateUrlWithRedirect(standalone_routes.profit),\n        },\n        {\n            icon: LegacyStatementIcon,\n            label: localize('Statement'),\n            href: generateUrlWithRedirect(standalone_routes.statement),\n        },\n    ];\n\n    return (\n        <div className='mobile-menu__content__items'>\n            <div className='mobile-menu__content__items--padding'>\n                {reportItems.map(({ icon: Icon, label, href }) => (\n                    <MenuItem\n                        as='a'\n                        className='mobile-menu__content__items__item mobile-menu__content__items__icons'\n                        disableHover\n                        href={href}\n                        key={label}\n                        leftComponent={<Icon className='mobile-menu__content__items--right-margin' iconSize='xs' />}\n                    >\n                        <Text size={textSize}>{label}</Text>\n                    </MenuItem>\n                ))}\n            </div>\n        </div>\n    );\n};\n\nexport default ReportsSubmenu;\n",
            "size_bytes": 1820
        },
        "src/pages/bot-builder/quick-strategy/inputs/qs-input.tsx": {
            "content": "import React, { MouseEvent, useEffect } from 'react';\nimport classNames from 'classnames';\nimport { Field, FieldProps, useFormikContext } from 'formik';\nimport { observer } from 'mobx-react-lite';\nimport Input from '@/components/shared_ui/input';\nimport Popover from '@/components/shared_ui/popover';\nimport { useStore } from '@/hooks/useStore';\n\ntype TQSInput = {\n    name: string;\n    onChange: (key: string, value: string | number | boolean) => void;\n    type?: string;\n    attached?: boolean;\n    should_have?: { key: string; value: string | number | boolean }[];\n    disabled?: boolean;\n    min?: number;\n    max?: number;\n    has_currency_unit?: boolean;\n};\n\n// Create a context to share error state between components\nconst MaxStakeErrorContext = React.createContext<{\n    hasError: boolean;\n    errorMessage: string | null;\n    setError: (hasError: boolean, message: string | null) => void;\n}>({\n    hasError: false,\n    errorMessage: null,\n    setError: () => {},\n});\n\n// Create a provider component to wrap the QSInput components\nexport const MaxStakeErrorProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n    const [hasError, setHasError] = React.useState(false);\n    const [errorMessage, setErrorMessage] = React.useState<string | null>(null);\n\n    const setError = React.useCallback((hasError: boolean, message: string | null) => {\n        setHasError(hasError);\n        setErrorMessage(message);\n    }, []);\n\n    return (\n        <MaxStakeErrorContext.Provider value={{ hasError, errorMessage, setError }}>\n            {children}\n        </MaxStakeErrorContext.Provider>\n    );\n};\n\nconst QSInput: React.FC<TQSInput> = observer(\n    ({\n        name,\n        onChange,\n        type = 'text',\n        attached = false,\n        disabled = false,\n        min,\n        max,\n        has_currency_unit = false,\n    }: TQSInput) => {\n        const {\n            client: { currency },\n        } = useStore();\n        const { quick_strategy } = useStore();\n        const { loss_threshold_warning_data } = quick_strategy;\n\n        const [, setFocus] = React.useState(false);\n        const [error_message, setErrorMessage] = React.useState<string | null>(null);\n        const { setFieldValue, setFieldTouched, values } = useFormikContext<{\n            stake?: string | number;\n            max_stake?: string | number;\n        }>();\n        const is_number = type === 'number';\n        const max_value = 999999999999;\n\n        // Add useEffect to watch for changes in stake values and update error message accordingly\n        useEffect(() => {\n            // For max_stake field: show error if initial stake > max stake\n            if (name === 'max_stake' && values.stake && values.max_stake) {\n                // Convert to numbers with fixed precision to handle floating point comparison correctly\n                const initial_stake = parseFloat(Number(values.stake).toFixed(2));\n                const max_stake = parseFloat(Number(values.max_stake).toFixed(2));\n\n                if (initial_stake > max_stake) {\n                    // If initial stake is greater than max stake, show error\n                    setErrorMessage(`Initial stake cannot be greater than max stake`);\n\n                    // Also update the UI to show the error state\n                    const max_stake_input = document.querySelector('input[name=\"max_stake\"]');\n                    if (max_stake_input) {\n                        // Add error class to the input\n                        max_stake_input.closest('.qs__input')?.classList.add('error');\n\n                        // Force the popover to show\n                        const popover = max_stake_input\n                            .closest('.qs__form__field__input')\n                            ?.querySelector('.qs__warning-bubble');\n                        if (popover) {\n                            popover.setAttribute('data-show', 'true');\n                        }\n                    }\n                } else {\n                    // Clear error message if values are now valid\n                    setErrorMessage(null);\n                }\n            }\n\n            // For stake field: trigger validation on max_stake field when initial stake changes\n            if (name === 'stake' && values.stake && values.max_stake) {\n                // Convert to numbers with fixed precision to handle floating point comparison correctly\n                const initial_stake = parseFloat(Number(values.stake).toFixed(2));\n                const max_stake = parseFloat(Number(values.max_stake).toFixed(2));\n\n                if (initial_stake > max_stake) {\n                    // If initial stake is greater than max stake, update the max_stake field's error state\n                    // Find the max_stake input and its popover\n                    const max_stake_input = document.querySelector('input[name=\"max_stake\"]');\n                    if (max_stake_input) {\n                        // Add error class to the input\n                        const inputElement = max_stake_input.closest('.qs__input');\n                        if (inputElement) {\n                            inputElement.classList.add('error');\n                        }\n\n                        // Set error message on the max_stake field\n                        const max_stake_component = document.querySelector('[data-testid=\"max_stake-popover\"]');\n                        if (max_stake_component) {\n                            // Force the popover to be visible by setting a custom attribute\n                            max_stake_component.setAttribute('data-force-show', 'true');\n\n                            // Find the message element inside the popover\n                            const messageElement = max_stake_component.querySelector('.qs__warning-bubble div');\n                            if (messageElement) {\n                                messageElement.textContent = 'Initial stake cannot be greater than max stake';\n                            }\n\n                            // Try to force the popover to be visible by directly manipulating the DOM\n                            const popoverElement = max_stake_component.querySelector('.qs__warning-bubble');\n                            if (popoverElement) {\n                                // Make the popover visible\n                                (popoverElement as HTMLElement).style.display = 'block';\n                                (popoverElement as HTMLElement).style.opacity = '1';\n                                (popoverElement as HTMLElement).style.visibility = 'visible';\n                                (popoverElement as HTMLElement).style.position = 'absolute';\n                                (popoverElement as HTMLElement).style.zIndex = '9999';\n                            }\n                        }\n\n                        // Update the Formik state for the max_stake field\n                        setFieldValue('max_stake', values.max_stake);\n                        setFieldTouched('max_stake', true, true);\n\n                        // Create a custom error message for the max_stake field\n                        const errorMessage = 'Initial stake cannot be greater than max stake';\n\n                        // Find all QSInput components for max_stake\n                        const allMaxStakeInputs = document.querySelectorAll('input[name=\"max_stake\"]');\n                        allMaxStakeInputs.forEach(input => {\n                            // Set a custom attribute to indicate there's an error\n                            input.setAttribute('data-has-error', 'true');\n                            input.setAttribute('data-error-message', errorMessage);\n\n                            // Dispatch events to trigger validation\n                            const blurEvent = new Event('blur', { bubbles: true });\n                            input.dispatchEvent(blurEvent);\n\n                            const keyupEvent = new Event('keyup', { bubbles: true });\n                            input.dispatchEvent(keyupEvent);\n\n                            // Create a custom event to notify the component of the error\n                            const errorEvent = new CustomEvent('qs-error', {\n                                detail: { message: errorMessage },\n                                bubbles: true,\n                            });\n                            input.dispatchEvent(errorEvent);\n                        });\n                    }\n                }\n            }\n        }, [name, values.stake, values.max_stake]);\n\n        const handleButtonInputChange = (e: MouseEvent<HTMLButtonElement>, value: string) => {\n            e?.preventDefault();\n\n            // For tick_count field or duration field with ticks, ensure we only allow integer values\n            if (name === 'tick_count' || (name === 'duration' && quick_strategy.form_data?.durationtype === 't')) {\n                const intValue = Math.floor(Number(value));\n                value = String(intValue);\n            }\n\n            // For stake field, ensure the value is within the allowed range\n            if (name === 'stake') {\n                const min_stake = (quick_strategy?.additional_data as any)?.min_stake || 0.35;\n                const max_stake = (quick_strategy?.additional_data as any)?.max_stake || 1000;\n\n                if (Number(value) < min_stake) {\n                    value = String(min_stake);\n                } else if (Number(value) > max_stake) {\n                    value = String(max_stake);\n                }\n            }\n\n            onChange(name, value);\n            setFieldTouched(name, true, true);\n            setFieldValue(name, value);\n        };\n\n        const handleOnChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n            const input_value = e.target.value;\n            let value: number | string = 0;\n            const max_characters = 12;\n\n            // Clear any previous error message\n            setErrorMessage(null);\n\n            // Allow empty string or partial input to support backspace\n            if (input_value === '' || input_value === '0' || input_value === '0.') {\n                onChange(name, input_value);\n\n                // Show error message for empty values in fields\n                if (name === 'stake' || name === 'max_stake') {\n                    const min_stake = (quick_strategy?.additional_data as any)?.min_stake || 0.35;\n                    setErrorMessage(`Minimum stake allowed is ${min_stake}`);\n                }\n                return;\n            }\n\n            if (max_characters && input_value.length >= max_characters) {\n                value = input_value.slice(0, max_characters);\n                value = is_number ? Number(value) : value;\n            } else {\n                value = is_number ? Number(input_value) : input_value;\n            }\n\n            // For tick_count field or duration field with ticks, ensure we only allow integer values\n            if (\n                is_number &&\n                (name === 'tick_count' || (name === 'duration' && quick_strategy.form_data?.durationtype === 't')) &&\n                !Number.isInteger(value)\n            ) {\n                value = Math.floor(Number(value));\n            }\n\n            // For all number fields, prevent decimal values less than 1\n            if (is_number && typeof value === 'number' && value < 1 && !Number.isInteger(value)) {\n                value = 1;\n            }\n\n            // For stake field, check if value is within the allowed range\n            if (name === 'stake' && is_number) {\n                const min_stake = (quick_strategy?.additional_data as any)?.min_stake || 0.35;\n                const max_stake = (quick_strategy?.additional_data as any)?.max_stake || 1000;\n                const numValue = Number(value);\n\n                // Clear error message if value is valid\n                if (numValue >= min_stake && numValue <= max_stake) {\n                    setErrorMessage(null);\n                } else {\n                    // Show error message if value is less than minimum stake\n                    if (numValue < min_stake) {\n                        setErrorMessage(`Minimum stake allowed is ${min_stake}`);\n                    } else if (numValue > max_stake) {\n                        // Allow entering any value but show error message\n                        setErrorMessage(`Maximum stake allowed is ${max_stake}`);\n                    }\n                }\n\n                ``; // Note: We're not adding a custom error message for when initial stake > max stake\n                // The standard error message will be displayed by the form validation\n            }\n\n            // For max_stake field, check if value is within the allowed range\n            if (name === 'max_stake' && is_number) {\n                const min_stake = (quick_strategy?.additional_data as any)?.min_stake || 0.35;\n                const max_stake = (quick_strategy?.additional_data as any)?.max_stake || 1000;\n                const numValue = Number(value);\n\n                // Clear error message if value is valid\n                if (numValue >= min_stake && numValue <= max_stake) {\n                    setErrorMessage(null);\n                } else {\n                    // Show error message if value is less than minimum stake\n                    if (numValue < min_stake) {\n                        setErrorMessage(`Minimum stake allowed is ${min_stake}`);\n                    } else if (numValue > max_stake) {\n                        // Allow entering any value but show error message\n                        setErrorMessage(`Maximum stake allowed is ${max_stake}`);\n                    }\n                }\n\n                // Cross-validate with initial stake\n                const initial_stake_value = values.stake;\n                if (initial_stake_value && Number(initial_stake_value) > numValue) {\n                    // If initial stake is greater than max stake, show error\n                    setErrorMessage(`Initial stake cannot be greater than max stake`);\n                }\n            }\n\n            onChange(name, value);\n        };\n\n        return (\n            <Field name={name} key={name} id={name}>\n                {({ field, meta }: FieldProps) => {\n                    const { error } = meta;\n                    const has_error = error;\n                    const is_exclusive_field = has_currency_unit;\n                    return (\n                        <div\n                            className={classNames('qs__form__field qs__form__field__input', {\n                                'no-top-spacing': attached,\n                                'no-border-top': attached,\n                            })}\n                        >\n                            <div\n                                data-testid='qs-input-container'\n                                onMouseEnter={() => setFocus(true)}\n                                onMouseLeave={() => setFocus(false)}\n                            >\n                                <Popover\n                                    alignment='bottom'\n                                    message={error || error_message} // Prioritize backend error over client-side error\n                                    is_open={\n                                        !!(error || error_message) &&\n                                        (name === 'stake' ||\n                                            name === 'max_stake' ||\n                                            name === 'loss' ||\n                                            name === 'profit' ||\n                                            name === 'take_profit' ||\n                                            name === 'tick_count' ||\n                                            name === 'size')\n                                    } // Show error message for all input fields that need validation\n                                    zIndex='9999'\n                                    classNameBubble='qs__warning-bubble'\n                                    has_error\n                                    should_disable_pointer_events\n                                    data-testid={`${name}-popover`}\n                                >\n                                    <Input\n                                        data_testId='qs-input'\n                                        className={classNames(\n                                            'qs__input',\n                                            {\n                                                error:\n                                                    (has_error || !!error_message) &&\n                                                    (name === 'stake' ||\n                                                        name === 'max_stake' ||\n                                                        name === 'loss' ||\n                                                        name === 'profit' ||\n                                                        name === 'take_profit' ||\n                                                        name === 'tick_count'),\n                                            },\n                                            { highlight: loss_threshold_warning_data?.highlight_field?.includes(name) }\n                                        )}\n                                        type={type}\n                                        leading_icon={\n                                            is_number ? (\n                                                <button\n                                                    disabled={\n                                                        disabled ||\n                                                        (!!min && Number(field.value) === min) ||\n                                                        (name === 'stake' &&\n                                                            Number(field.value) <=\n                                                                ((quick_strategy?.additional_data as any)?.min_stake ||\n                                                                    0.35)) ||\n                                                        Number(field.value) <= 1 // Disable minus button for all inputs when value is <= 1\n                                                    }\n                                                    data-testid='qs-input-decrease'\n                                                    onClick={(e: MouseEvent<HTMLButtonElement>) => {\n                                                        const min_stake =\n                                                            (quick_strategy?.additional_data as any)?.min_stake || 0.35;\n                                                        const current_value = Number(field.value);\n                                                        const field_min = name === 'stake' ? min_stake : min || 1;\n\n                                                        // For all fields\n                                                        // If value is greater than 1, subtract 1 from the value\n                                                        if (current_value > 1) {\n                                                            const new_value = current_value - 1;\n                                                            handleButtonInputChange(\n                                                                e,\n                                                                String(new_value % 1 ? new_value.toFixed(2) : new_value)\n                                                            );\n                                                            return;\n                                                        }\n                                                        // If value is less than or equal to 1 but greater than minimum, set to minimum\n                                                        else if (current_value <= 1 && current_value > field_min) {\n                                                            handleButtonInputChange(e, String(field_min));\n                                                            return;\n                                                        }\n                                                        // If already at minimum, do nothing\n                                                        else if (current_value <= field_min) {\n                                                            return;\n                                                        }\n                                                    }}\n                                                >\n                                                    -\n                                                </button>\n                                            ) : undefined\n                                        }\n                                        trailing_icon={\n                                            is_number ? (\n                                                <button\n                                                    disabled={\n                                                        disabled ||\n                                                        field.value == max_value ||\n                                                        (!!max && field.value >= max)\n                                                    }\n                                                    data-testid='qs-input-increase'\n                                                    onClick={(e: MouseEvent<HTMLButtonElement>) => {\n                                                        const value = Number(field.value) + 1;\n                                                        handleButtonInputChange(\n                                                            e,\n                                                            String(value % 1 ? value.toFixed(2) : value)\n                                                        );\n                                                    }}\n                                                >\n                                                    +\n                                                </button>\n                                            ) : null\n                                        }\n                                        {...field}\n                                        disabled={disabled}\n                                        onChange={(e: React.ChangeEvent<HTMLInputElement>) => handleOnChange(e)}\n                                        onWheel={e => {\n                                            // Prevent scrolling from changing the input value\n                                            e.currentTarget.blur();\n                                            e.preventDefault();\n                                        }}\n                                        onBlur={e => {\n                                            // Don't reset empty values, just show error message\n                                            if (name === 'stake' || name === 'max_stake') {\n                                                const min_stake =\n                                                    (quick_strategy?.additional_data as any)?.min_stake || 0.35;\n                                                const max_stake =\n                                                    (quick_strategy?.additional_data as any)?.max_stake || 1000;\n                                                const value = e.target.value;\n\n                                                // For empty values, show error message but don't reset\n                                                if (value === '' || value === '0' || value === '0.') {\n                                                    setErrorMessage(`Minimum stake allowed is ${min_stake}`);\n                                                } else {\n                                                    // For non-empty values, validate and show appropriate message\n                                                    const numValue = Number(value);\n\n                                                    // Prevent decimal values less than 1\n                                                    if (numValue < 1 && !Number.isInteger(numValue)) {\n                                                        setFieldValue(name, 1);\n                                                        return;\n                                                    }\n\n                                                    if (numValue < min_stake) {\n                                                        setErrorMessage(`Minimum stake allowed is ${min_stake}`);\n                                                    } else if (numValue > max_stake) {\n                                                        setErrorMessage(`Maximum stake allowed is ${max_stake}`);\n                                                    } else {\n                                                        setErrorMessage(null);\n                                                    }\n                                                }\n\n                                                // Cross-validate between stake and max_stake\n                                                if (name === 'stake') {\n                                                    // When initial stake changes, validate against max_stake\n                                                    const max_stake_value = values.max_stake;\n                                                    const numValue = Number(value);\n                                                    // Convert to numbers with fixed precision to handle floating point comparison correctly\n                                                    const numValueFixed = parseFloat(numValue.toFixed(2));\n                                                    const maxStakeFixed = max_stake_value\n                                                        ? parseFloat(Number(max_stake_value).toFixed(2))\n                                                        : 0;\n\n                                                    if (max_stake_value && maxStakeFixed < numValueFixed) {\n                                                        // Don't show error on initial stake field\n                                                        // Instead, trigger validation on the max stake field to show the error there\n                                                        const max_stake_input =\n                                                            document.querySelector('input[name=\"max_stake\"]');\n                                                        if (max_stake_input) {\n                                                            // Update the max stake field value to trigger validation\n                                                            // This ensures the max stake field listens to changes in the initial stake field\n                                                            setFieldValue('max_stake', max_stake_value);\n                                                            setFieldTouched('max_stake', true, true);\n\n                                                            // Dispatch both blur and keyup events to ensure validation runs\n                                                            const blurEvent = new Event('blur', { bubbles: true });\n                                                            max_stake_input.dispatchEvent(blurEvent);\n\n                                                            const keyupEvent = new Event('keyup', { bubbles: true });\n                                                            max_stake_input.dispatchEvent(keyupEvent);\n                                                        }\n                                                    } else if (max_stake_value) {\n                                                        // Clear error message if values are now valid\n                                                        // Also trigger validation on the max_stake field to clear its error\n                                                        const max_stake_input =\n                                                            document.querySelector('input[name=\"max_stake\"]');\n                                                        if (max_stake_input) {\n                                                            const event = new Event('keyup', { bubbles: true });\n                                                            max_stake_input.dispatchEvent(event);\n                                                        }\n                                                    }\n                                                } else if (name === 'max_stake') {\n                                                    // When max stake changes, validate against initial stake\n                                                    const initial_stake_value = values.stake;\n                                                    const numValue = Number(value);\n                                                    // Convert to numbers with fixed precision to handle floating point comparison correctly\n                                                    const numValueFixed = parseFloat(numValue.toFixed(2));\n                                                    const initialStakeFixed = initial_stake_value\n                                                        ? parseFloat(Number(initial_stake_value).toFixed(2))\n                                                        : 0;\n\n                                                    if (initial_stake_value && initialStakeFixed > numValueFixed) {\n                                                        // If initial stake is greater than max stake, show error\n                                                        setErrorMessage(\n                                                            `Initial stake cannot be greater than max stake`\n                                                        );\n                                                    } else {\n                                                        // Clear error message if values are now valid\n                                                        setErrorMessage(null);\n                                                    }\n                                                }\n                                            }\n                                        }}\n                                        placeholder={is_exclusive_field ? '0.00' : ''}\n                                        bottom_label={is_exclusive_field ? currency : ''}\n                                        max_characters={2}\n                                        maxLength={2}\n                                        inputMode={\n                                            name === 'tick_count' ||\n                                            (name === 'duration' && quick_strategy.form_data?.durationtype === 't')\n                                                ? 'numeric'\n                                                : undefined\n                                        }\n                                        pattern={\n                                            name === 'tick_count' ||\n                                            (name === 'duration' && quick_strategy.form_data?.durationtype === 't')\n                                                ? '[0-9]*'\n                                                : undefined\n                                        }\n                                        onKeyPress={\n                                            name === 'tick_count' ||\n                                            (name === 'duration' && quick_strategy.form_data?.durationtype === 't')\n                                                ? e => {\n                                                      if (e.key === '.') {\n                                                          e.preventDefault();\n                                                      }\n                                                  }\n                                                : undefined\n                                        }\n                                        onKeyUp={e => {\n                                            // Check value on each keystroke for stake field\n                                            if (name === 'stake' || name === 'max_stake') {\n                                                const min_stake =\n                                                    (quick_strategy?.additional_data as any)?.min_stake || 0.35;\n                                                const max_stake =\n                                                    (quick_strategy?.additional_data as any)?.max_stake || 1000;\n                                                const value = e.currentTarget.value;\n\n                                                // For empty values, show error message but don't reset\n                                                if (value === '' || value === '0' || value === '0.') {\n                                                    setErrorMessage(`Minimum stake allowed is ${min_stake}`);\n                                                    return;\n                                                }\n\n                                                const numValue = Number(value);\n\n                                                // Prevent decimal values less than 1\n                                                if (numValue < 1 && !Number.isInteger(numValue)) {\n                                                    setFieldValue(name, 1);\n                                                    return;\n                                                }\n\n                                                // Clear error message if value is valid\n                                                if (numValue >= min_stake && numValue <= max_stake) {\n                                                    setErrorMessage(null);\n                                                    return;\n                                                }\n\n                                                // Show error message if value is less than minimum stake or greater than maximum\n                                                if (numValue < min_stake) {\n                                                    setErrorMessage(`Minimum stake allowed is ${min_stake}`);\n                                                } else if (numValue > max_stake) {\n                                                    // Allow entering any value but show error message for maximum\n                                                    setErrorMessage(`Maximum stake allowed is ${max_stake}`);\n                                                }\n\n                                                // Cross-validate between stake and max_stake\n                                                if (name === 'stake') {\n                                                    // When initial stake changes, validate against max_stake\n                                                    const max_stake_value = values.max_stake;\n                                                    const numValueFixed = parseFloat(Number(value).toFixed(2));\n                                                    const maxStakeFixed = max_stake_value\n                                                        ? parseFloat(Number(max_stake_value).toFixed(2))\n                                                        : 0;\n\n                                                    if (max_stake_value && maxStakeFixed < numValueFixed) {\n                                                        // Don't show error on initial stake field\n                                                        // Instead, trigger validation on the max stake field to show the error there\n                                                        const max_stake_input =\n                                                            document.querySelector('input[name=\"max_stake\"]');\n                                                        if (max_stake_input) {\n                                                            // Update the max stake field value to trigger validation\n                                                            // This ensures the max stake field listens to changes in the initial stake field\n                                                            setFieldValue('max_stake', max_stake_value);\n                                                            setFieldTouched('max_stake', true, true);\n\n                                                            // Dispatch both blur and keyup events to ensure validation runs\n                                                            const blurEvent = new Event('blur', { bubbles: true });\n                                                            max_stake_input.dispatchEvent(blurEvent);\n\n                                                            const keyupEvent = new Event('keyup', { bubbles: true });\n                                                            max_stake_input.dispatchEvent(keyupEvent);\n                                                        }\n                                                    } else if (max_stake_value) {\n                                                        // Clear error message if values are now valid\n                                                        // Also trigger validation on the max_stake field to clear its error\n                                                        const max_stake_input =\n                                                            document.querySelector('input[name=\"max_stake\"]');\n                                                        if (max_stake_input) {\n                                                            const event = new Event('keyup', { bubbles: true });\n                                                            max_stake_input.dispatchEvent(event);\n                                                        }\n                                                    }\n                                                } else if (name === 'max_stake') {\n                                                    // When max stake changes, validate against initial stake\n                                                    const initial_stake_value = values.stake;\n                                                    const numValueFixed = parseFloat(Number(value).toFixed(2));\n                                                    const initialStakeFixed = initial_stake_value\n                                                        ? parseFloat(Number(initial_stake_value).toFixed(2))\n                                                        : 0;\n\n                                                    if (initial_stake_value && initialStakeFixed > numValueFixed) {\n                                                        // If initial stake is greater than max stake, show error\n                                                        setErrorMessage(\n                                                            `Initial stake cannot be greater than max stake`\n                                                        );\n                                                    } else {\n                                                        // Clear error message if values are now valid\n                                                        setErrorMessage(null);\n                                                    }\n                                                }\n                                            }\n                                        }}\n                                    />\n                                </Popover>\n                            </div>\n                        </div>\n                    );\n                }}\n            </Field>\n        );\n    }\n);\n\nexport default QSInput;\n",
            "size_bytes": 40030
        },
        "src/components/shared/utils/helpers/chart-notifications.tsx": {
            "content": "import { Localize } from '@deriv-com/translations';\n\nexport const switch_to_tick_chart = {\n    key: 'switch_to_tick_chart',\n    header: <Localize i18n_default_text='This chart display is not ideal for tick contracts' />,\n    message: <Localize i18n_default_text='Please change the chart duration to tick for a better trading experience.' />,\n    type: 'info',\n};\n",
            "size_bytes": 363
        },
        "src/components/draggable/draggable-resize-wrapper.tsx": {
            "content": "import React, { useState } from 'react';\nimport debounce from 'debounce';\nimport Draggable from './draggable';\n\ntype DraggableResizeWrapperProps = {\n    boundary: string;\n    children: React.ReactNode;\n    onClose: () => void;\n    enableResizing?: boolean;\n    enableDragging?: boolean;\n    header: string;\n    minHeight?: number;\n    minWidth?: number;\n    modalHeight?: number;\n    modalWidth?: number;\n};\n\nconst DraggableResizeWrapper: React.FC<DraggableResizeWrapperProps> = ({\n    boundary,\n    children,\n    onClose,\n    enableResizing = false,\n    enableDragging = true,\n    header = '',\n    minHeight = 100,\n    minWidth = 100,\n    modalHeight = 400,\n    modalWidth = 400,\n}) => {\n    const [show, setShow] = useState(false);\n    const xAxisValue = (window.innerWidth - modalWidth) / 2;\n    const yAxisValue = (window.innerHeight - modalHeight) / 2;\n\n    const [initialValues, setInitialValues] = React.useState({\n        width: modalWidth,\n        height: modalHeight,\n        xAxis: xAxisValue >= 0 ? xAxisValue : 0,\n        yAxis: yAxisValue >= 0 ? yAxisValue : 0,\n    });\n\n    const handleResize = debounce(() => {\n        const newWidth = window.innerWidth > modalWidth ? modalWidth : window.innerWidth - 50;\n        const newHeight = window.innerHeight > modalHeight ? modalHeight : window.innerHeight - 50;\n        const newx = (window.innerWidth - newWidth) / 2;\n        const newy = (window.innerHeight - newHeight) / 2;\n\n        setInitialValues({\n            width: newWidth,\n            height: newHeight,\n            xAxis: newx >= 0 ? newx : 0,\n            yAxis: newy >= 0 ? newy : 0,\n        });\n        setShow(true);\n    }, 0);\n\n    React.useEffect(() => {\n        handleResize();\n        window.addEventListener('resize', handleResize);\n        return () => {\n            window.removeEventListener('resize', handleResize);\n        };\n    }, [handleResize]);\n\n    return (\n        <div id='draggable_resize_container'>\n            {show && (\n                <Draggable\n                    boundary={boundary}\n                    initialValues={initialValues}\n                    minWidth={minWidth}\n                    minHeight={minHeight}\n                    enableResizing={enableResizing}\n                    enableDragging={enableDragging}\n                    header={header}\n                    onClose={onClose}\n                >\n                    {children}\n                </Draggable>\n            )}\n        </div>\n    );\n};\n\nexport default DraggableResizeWrapper;\n",
            "size_bytes": 2504
        },
        "src/external/bot-skeleton/index.js": {
            "content": "export * from './constants';\nexport * from './scratch';\nexport { default as DBot } from './scratch/dbot';\nexport * from './services/api';\nexport * from './utils';\n",
            "size_bytes": 163
        },
        "src/external/bot-skeleton/scratch/hooks/icon.js": {
            "content": "/**\n * Render the icon.\n * @param {number} cursorX Horizontal offset at which to position the icon.\n * @return {number} Horizontal offset for next item to draw.\n */\n\nwindow.Blockly.Icon = new window.Blockly.icons.Icon();\n\nwindow.Blockly.Icon.renderIcon = function (cursorX) {\n    if (this.collapseHidden && this.block_.isCollapsed()) {\n        this.iconGroup_.setAttribute('display', 'none');\n        return cursorX;\n    }\n    this.iconGroup_.setAttribute('display', 'block');\n\n    let newCursorX = cursorX;\n\n    const TOP_MARGIN = 9;\n    const width = this.SIZE;\n\n    if (this.block_.RTL) {\n        newCursorX -= width;\n    }\n\n    this.iconGroup_.setAttribute('transform', `localize(${newCursorX},${TOP_MARGIN})`);\n    this.computeIconLocation();\n\n    if (this.block_.RTL) {\n        newCursorX -= window.Blockly.BlockSvg.SEP_SPACE_X;\n    } else {\n        newCursorX += width + window.Blockly.BlockSvg.SEP_SPACE_X;\n    }\n\n    return newCursorX;\n};\n",
            "size_bytes": 948
        },
        "src/components/shared_ui/contract-card/result-overlay/result-overlay.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { NavLink } from 'react-router-dom';\nimport { CSSTransition } from 'react-transition-group';\nimport { StandaloneFlagCheckeredFillIcon } from '@deriv/quill-icons';\nimport Money from '../../money';\nimport Text from '../../text';\nimport { TGetCardLables, TGetContractPath } from '../../types';\n\ntype TResultOverlayProps = {\n    currency?: string;\n    contract_id?: number;\n    getCardLabels: TGetCardLables;\n    getContractPath?: TGetContractPath;\n    is_multiplier?: boolean;\n    is_positions?: boolean;\n    is_visible: boolean;\n    onClickRemove?: (contract_id?: number) => void;\n    payout_info: number;\n    result: string;\n};\n\ntype TResultStatusIcon = {\n    getCardLabels: TGetCardLables;\n    is_contract_won?: boolean;\n};\n\nexport const ResultStatusIcon = ({ getCardLabels, is_contract_won }: TResultStatusIcon) => (\n    <span\n        className={classNames('dc-result__caption', {\n            'dc-result__caption--won': is_contract_won,\n            'dc-result__caption--lost': !is_contract_won,\n        })}\n    >\n        <div className='dc-result__icon'>\n            <StandaloneFlagCheckeredFillIcon\n                iconSize='sm'\n                fill={is_contract_won ? 'var(--text-profit-success)' : 'var(--text-loss-danger)'}\n            />\n        </div>\n        {getCardLabels().CLOSED}\n    </span>\n);\n\nconst ResultOverlay = ({\n    currency,\n    contract_id,\n    getCardLabels,\n    getContractPath,\n    is_positions,\n    is_visible,\n    onClickRemove,\n    payout_info,\n    result,\n}: TResultOverlayProps) => {\n    const is_contract_won = result === 'won';\n\n    return (\n        <React.Fragment>\n            <CSSTransition\n                in={is_visible}\n                timeout={250}\n                classNames={{\n                    enter: 'dc-contract-card__result--enter',\n                    enterDone: 'dc-contract-card__result--enter-done',\n                    exit: 'dc-contract-card__result--exit',\n                }}\n                unmountOnExit\n            >\n                <div\n                    id={`dc_contract_card_${contract_id}_result`}\n                    className={classNames('dc-contract-card__result', {\n                        'dc-result__positions-overlay': is_positions,\n                        'dc-contract-card__result--won': is_contract_won,\n                        'dc-contract-card__result--lost': !is_contract_won,\n                    })}\n                >\n                    {is_positions && (\n                        <span\n                            id={`dc_contract_card_${contract_id}_result_close_icon`}\n                            className='dc-result__close-btn'\n                            onClick={() => {\n                                if (contract_id) onClickRemove?.(contract_id);\n                            }}\n                        />\n                    )}\n                    {getContractPath && (\n                        <NavLink className='dc-result__caption-wrapper' to={getContractPath(contract_id)} />\n                    )}\n                    <div className='dc-result__content'>\n                        <ResultStatusIcon getCardLabels={getCardLabels} is_contract_won={is_contract_won} />\n                        <Text\n                            weight='bold'\n                            size='s'\n                            lineHeight='2xl'\n                            color={is_contract_won ? 'profit-success' : 'loss-danger'}\n                        >\n                            <Money amount={payout_info} currency={currency} has_sign show_currency />\n                        </Text>\n                    </div>\n                </div>\n            </CSSTransition>\n        </React.Fragment>\n    );\n};\n\nexport default ResultOverlay;\n",
            "size_bytes": 3774
        },
        "analysis-tool/Benanalysistool-final-main/components/market-selector.tsx": {
            "content": "\"use client\"\n\nimport { useState, useMemo } from \"react\"\nimport { Check, ChevronsUpDown } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Command, CommandEmpty, CommandGroup, CommandInput, CommandItem, CommandList } from \"@/components/ui/command\"\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\"\nimport type { DerivSymbol } from \"@/lib/deriv-websocket\"\n\ninterface MarketSelectorProps {\n  symbols: DerivSymbol[]\n  currentSymbol: string\n  onSymbolChange: (symbol: string) => void\n  theme?: \"light\" | \"dark\"\n}\n\nexport function MarketSelector({ symbols, currentSymbol, onSymbolChange, theme = \"dark\" }: MarketSelectorProps) {\n  const [open, setOpen] = useState(false)\n\n  const groupedSymbols = useMemo(() => {\n    const volatility1s: DerivSymbol[] = []\n    const volatilityIndices: DerivSymbol[] = []\n    const otherSymbols: DerivSymbol[] = []\n\n    symbols.forEach((symbol) => {\n      if (symbol.symbol.includes(\"1s\")) {\n        volatility1s.push(symbol)\n      } else if (symbol.symbol.includes(\"R_\") || symbol.market === \"synthetic_index\") {\n        volatilityIndices.push(symbol)\n      } else {\n        otherSymbols.push(symbol)\n      }\n    })\n\n    volatility1s.sort((a, b) => {\n      const aNum = Number.parseInt(a.symbol.match(/\\d+/)?.[0] || \"0\")\n      const bNum = Number.parseInt(b.symbol.match(/\\d+/)?.[0] || \"0\")\n      return aNum - bNum\n    })\n\n    volatilityIndices.sort((a, b) => {\n      const aNum = Number.parseInt(a.symbol.replace(\"R_\", \"\").replace(\"1s\", \"\")) || 0\n      const bNum = Number.parseInt(b.symbol.replace(\"R_\", \"\").replace(\"1s\", \"\")) || 0\n      return aNum - bNum\n    })\n\n    const groups: Record<string, DerivSymbol[]> = {}\n    otherSymbols.forEach((symbol) => {\n      const market = symbol.market_display_name || symbol.market\n      if (!groups[market]) {\n        groups[market] = []\n      }\n      groups[market].push(symbol)\n    })\n\n    const sortedGroups: Record<string, DerivSymbol[]> = {}\n\n    if (volatility1s.length > 0) {\n      sortedGroups[\"Volatility 1s\"] = volatility1s\n    }\n    if (volatilityIndices.length > 0) {\n      sortedGroups[\"Volatility Indices\"] = volatilityIndices\n    }\n\n    Object.keys(groups)\n      .sort()\n      .forEach((market) => {\n        sortedGroups[market] = groups[market]\n      })\n\n    return sortedGroups\n  }, [symbols])\n\n  const currentSymbolData = symbols.find((s) => s.symbol === currentSymbol)\n\n  return (\n    <Popover open={open} onOpenChange={setOpen}>\n      <PopoverTrigger asChild>\n        <Button\n          variant=\"outline\"\n          role=\"combobox\"\n          aria-expanded={open}\n          className={`w-[220px] justify-between ${\n            theme === \"dark\"\n              ? \"bg-[#0f1629]/50 border-blue-500/30 text-white hover:bg-[#1a2235] hover:text-white\"\n              : \"bg-white border-gray-300 text-gray-900 hover:bg-gray-50\"\n          }`}\n        >\n          {currentSymbolData?.display_name || currentSymbol}\n          <ChevronsUpDown className=\"ml-2 h-4 w-4 shrink-0 opacity-50\" />\n        </Button>\n      </PopoverTrigger>\n      <PopoverContent\n        className={`w-[320px] p-0 max-h-[450px] overflow-y-auto ${\n          theme === \"dark\" ? \"bg-[#0a0e27] border-blue-500/30\" : \"bg-white border-gray-300\"\n        }`}\n      >\n        <Command className={theme === \"dark\" ? \"bg-[#0a0e27]\" : \"bg-white\"}>\n          <CommandInput placeholder=\"Search markets...\" className={theme === \"dark\" ? \"text-white\" : \"text-gray-900\"} />\n          <CommandList>\n            <CommandEmpty className={`py-6 text-center ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>\n              No market found.\n            </CommandEmpty>\n            {Object.entries(groupedSymbols).map(([market, marketSymbols]) => (\n              <CommandGroup\n                key={market}\n                heading={market}\n                className={theme === \"dark\" ? \"text-blue-400 font-semibold\" : \"text-blue-600 font-semibold\"}\n              >\n                {marketSymbols.map((symbol) => (\n                  <CommandItem\n                    key={symbol.symbol}\n                    value={symbol.symbol}\n                    onSelect={() => {\n                      onSymbolChange(symbol.symbol)\n                      setOpen(false)\n                    }}\n                    className={\n                      theme === \"dark\"\n                        ? \"text-white hover:bg-blue-500/20 cursor-pointer\"\n                        : \"text-gray-900 hover:bg-blue-50 cursor-pointer\"\n                    }\n                  >\n                    <Check\n                      className={`mr-2 h-4 w-4 ${\n                        currentSymbol === symbol.symbol ? \"opacity-100 text-green-400\" : \"opacity-0\"\n                      }`}\n                    />\n                    {symbol.display_name}\n                  </CommandItem>\n                ))}\n              </CommandGroup>\n            ))}\n          </CommandList>\n        </Command>\n      </PopoverContent>\n    </Popover>\n  )\n}\n",
            "size_bytes": 4988
        },
        "src/utils/help-content/help-strings/before_purchase.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize(\n            'This block is mandatory. Only one copy of this block is allowed. It is added to the canvas by default when you open Deriv Bot.'\n        ),\n        localize(\n            'After defining trade parameters and trade options, you may want to instruct your bot to purchase contracts when specific conditions are met. To do that you can use conditional blocks and indicators blocks to help your bot to make decisions.'\n        ),\n    ],\n};\n",
            "size_bytes": 552
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Tick Analysis/stat_list.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../utils';\n\nBlockly.Blocks.stat_list = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Current stat list'),\n            output: 'Array',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the list of last digits of 1000 recent tick values'),\n            category: Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Current stat list'),\n            description: localize('This block gives you a list of the cuurent stats of the last 1000 tick values.'),\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nBlockly.JavaScript.javascriptGenerator.forBlock.stat_list = () => [\n    'Bot.getStatList()',\n    Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC,\n];\n",
            "size_bytes": 1164
        },
        "src/stores/summary-card-store.ts": {
            "content": "import { action, computed, makeObservable, observable, reaction } from 'mobx';\nimport {\n    getIndicativePrice,\n    isAccumulatorContract,\n    isEqualObject,\n    isMultiplierContract,\n    Validator,\n} from '@/components/shared';\nimport { TContractInfo } from '@/components/summary/summary-card.types';\nimport { getValidationRules, TValidationRuleIndex, TValidationRules } from '@/constants/contract';\nimport { contract_stages } from '@/constants/contract-stage';\nimport { api_base } from '@/external/bot-skeleton';\nimport { getContractUpdateConfig } from '@/utils/multiplier';\nimport { ProposalOpenContract, UpdateContractResponse } from '@deriv/api-types';\nimport { TStores } from '@deriv/stores/types';\nimport RootStore from './root-store';\n\ntype TLimitOrder = {\n    take_profit?: number;\n    stop_loss?: number;\n};\n\ntype TMovements = {\n    profit?: number;\n    indicative?: number;\n};\n\nexport default class SummaryCardStore {\n    root_store: RootStore;\n    core: TStores;\n    disposeReactionsFn: () => void | null;\n    disposeSwitchAcountListener: (() => void | null) | undefined;\n    contract_info: ProposalOpenContract | null = null;\n    is_loading = false;\n    indicative_movement = '';\n    profit_movement = '';\n\n    validation_errors = {};\n    validation_rules: TValidationRules = getValidationRules();\n\n    // Multiplier contract update config\n    contract_update_take_profit?: number | string | null = null;\n    contract_update_stop_loss?: number | string | null = null;\n    has_contract_update_take_profit = false;\n    has_contract_update_stop_loss = false;\n    contract_update_config = {};\n    profit_loss?: number = 0;\n    contract_id?: string | null = null;\n    profit?: number = 0;\n    indicative?: number = 0;\n    is_bot_running?: boolean = false;\n\n    constructor(root_store: RootStore, core: TStores) {\n        makeObservable(this, {\n            contract_info: observable,\n            indicative_movement: observable,\n            profit_movement: observable,\n            validation_errors: observable,\n            validation_rules: observable,\n            contract_update_take_profit: observable,\n            contract_update_stop_loss: observable,\n            has_contract_update_take_profit: observable,\n            has_contract_update_stop_loss: observable,\n            is_bot_running: observable,\n            contract_update_config: observable,\n            contract_id: observable,\n            profit: observable,\n            indicative: observable,\n            is_contract_completed: computed,\n            is_contract_loading: computed,\n            is_contract_inactive: computed,\n            is_multiplier: computed,\n            clear: action.bound,\n            clearContractUpdateConfigValues: action.bound,\n            getLimitOrder: action.bound,\n            onBotContractEvent: action.bound,\n            onChange: action.bound,\n            populateContractUpdateConfig: action.bound,\n            setContractUpdateConfig: action.bound,\n            setIsBotRunning: action.bound,\n            updateLimitOrder: action.bound,\n            setValidationErrorMessages: action,\n            validateProperty: action,\n            registerReactions: action.bound,\n        });\n\n        this.root_store = root_store;\n        this.core = core;\n        this.disposeReactionsFn = this.registerReactions();\n    }\n\n    get is_contract_completed() {\n        return (\n            !!this.contract_info?.is_sold &&\n            this.root_store.run_panel.contract_stage !== contract_stages.PURCHASE_RECEIVED\n        );\n    }\n\n    get is_contract_loading() {\n        return (\n            (this.root_store.run_panel.is_running && this.contract_info === null) ||\n            this.root_store.run_panel.contract_stage === contract_stages.PURCHASE_SENT ||\n            this.root_store.run_panel.contract_stage === contract_stages.STARTING\n        );\n    }\n\n    get is_contract_inactive() {\n        return !this.contract_info && !this.is_loading;\n    }\n\n    get is_multiplier() {\n        return isMultiplierContract(this.contract_info?.contract_type);\n    }\n\n    get is_accumulator() {\n        return isAccumulatorContract(this.contract_info?.contract_type);\n    }\n\n    clear(should_unset_contract = true) {\n        if (should_unset_contract) {\n            this.contract_info = null;\n        }\n\n        this.profit = 0;\n        this.profit_loss = 0;\n        this.indicative = 0;\n        this.indicative_movement = '';\n        this.profit_movement = '';\n    }\n\n    clearContractUpdateConfigValues() {\n        if (this.contract_info) {\n            const {\n                contract_update_stop_loss,\n                contract_update_take_profit,\n                has_contract_update_stop_loss,\n                has_contract_update_take_profit,\n            } = getContractUpdateConfig(this.contract_info.limit_order);\n\n            this.contract_update_stop_loss = contract_update_stop_loss;\n            this.contract_update_take_profit = contract_update_take_profit;\n            this.has_contract_update_stop_loss = has_contract_update_stop_loss;\n            this.has_contract_update_take_profit = has_contract_update_take_profit;\n        }\n    }\n\n    getLimitOrder() {\n        const limit_order: TLimitOrder = {};\n        // send positive take_profit to update or null to cancel\n        limit_order.take_profit = this.has_contract_update_take_profit ? +(this.contract_update_take_profit ?? 0) : 0;\n        // send positive stop_loss to update or null to cancel\n        limit_order.stop_loss = this.has_contract_update_stop_loss ? +(this.contract_update_stop_loss ?? 0) : 0;\n\n        return limit_order;\n    }\n\n    onBotContractEvent(contract: TContractInfo) {\n        const { profit } = contract;\n        const indicative = getIndicativePrice(contract as ProposalOpenContract);\n        this.profit = profit;\n\n        if (this.contract_id !== contract.id) {\n            this.clear(false);\n            this.contract_id = contract.id;\n            this.indicative = indicative;\n        }\n\n        const movements: TMovements = { profit, indicative };\n\n        Object.keys(movements).forEach(name => {\n            const movement = movements[name as keyof TMovements];\n            const current_movement = this[name as keyof TMovements];\n\n            if (name in this && movement && movement !== current_movement) {\n                this[`${name as keyof TMovements}_movement`] =\n                    movement && movement > (this[name as keyof TMovements] || 0) ? 'profit' : 'loss';\n            } else if (this[`${name as keyof TMovements}_movement`] !== '') {\n                this.indicative_movement = '';\n            }\n\n            if (name === 'profit') this.profit_loss = movement;\n            if (name === 'indicative') this.indicative = movement;\n        });\n\n        // TODO only add props that is being used\n        this.contract_info = contract;\n    }\n\n    onChange({ name, value }: { name: TValidationRuleIndex; value: string | boolean }) {\n        this[name] = value;\n        this.validateProperty(name, value);\n    }\n\n    populateContractUpdateConfig(response: UpdateContractResponse) {\n        const contract_update_config = getContractUpdateConfig(response?.contract_update);\n\n        if (!isEqualObject(this.contract_update_config, contract_update_config)) {\n            Object.assign(this, contract_update_config);\n            this.contract_update_config = contract_update_config;\n\n            const { contract_update, error } = response;\n            if (this.contract_info && contract_update && !error) {\n                this.contract_info.limit_order = Object.assign(this.contract_info?.limit_order || {}, contract_update);\n            }\n        }\n    }\n\n    setContractUpdateConfig(contract_update_take_profit?: number | null, contract_update_stop_loss?: number | null) {\n        if (contract_update_take_profit && contract_update_stop_loss) {\n            this.has_contract_update_take_profit = !!contract_update_take_profit;\n            this.has_contract_update_stop_loss = !!contract_update_stop_loss;\n            this.contract_update_take_profit = this.has_contract_update_take_profit\n                ? +contract_update_take_profit\n                : null;\n            this.contract_update_stop_loss = this.has_contract_update_stop_loss ? +contract_update_stop_loss : null;\n        }\n    }\n\n    /**\n     * Sets the bot's running state based on whether the contract is still loading\n     */\n    setIsBotRunning() {\n        if (!this.is_contract_loading) {\n            this.is_bot_running = false;\n            return;\n        }\n\n        const onTimeout = () => {\n            if (this.is_contract_loading) {\n                this.is_bot_running = true;\n                this.root_store.run_panel.setContractStage(contract_stages.RUNNING);\n            }\n        };\n\n        const timeout = setTimeout(onTimeout, 5000);\n        return () => clearTimeout(timeout);\n    }\n\n    updateLimitOrder() {\n        const limit_order = this.getLimitOrder();\n\n        if (this.contract_info?.contract_id) {\n            if (this.contract_info?.contract_id) {\n                api_base.api\n                    ?.send({\n                        contract_update: 1,\n                        contract_id: this.contract_info?.contract_id,\n                        limit_order,\n                    })\n                    .then(response => {\n                        // Update contract store\n                        this.populateContractUpdateConfig(response);\n                    })\n                    .catch((error: { error: Error }) => {\n                        this.root_store.run_panel.showContractUpdateErrorDialog(error?.error?.message);\n                    });\n            }\n        }\n    }\n\n    /**\n     * Sets validation error messages for an observable property of the store\n     *\n     * @param {String} propertyName - The observable property's name\n     * @param [{String}] messages - An array of strings that contains validation error messages for the particular property.\n     *\n     */\n    setValidationErrorMessages(propertyName: TValidationRuleIndex, messages: string) {\n        const is_different = () =>\n            !!this.validation_errors[propertyName]\n                .filter(x => !messages.includes(x))\n                .concat(messages.filter(x => !this.validation_errors[propertyName].includes(x))).length;\n        if (!this.validation_errors[propertyName] || is_different()) {\n            this.validation_errors[propertyName] = messages;\n        }\n    }\n\n    /**\n     * Validates a particular property of the store\n     *\n     * @param {String} property - The name of the property in the store\n     * @param {object} value    - The value of the property, it can be undefined.\n     *\n     */\n    validateProperty(property: TValidationRuleIndex, value?: string) {\n        const trigger = this.validation_rules[property].trigger;\n        const inputs = { [property]: value !== undefined ? value : this[property] };\n        const validation_rules = { [property]: this.validation_rules[property].rules || [] };\n\n        if (!!trigger && Object.hasOwnProperty.call(this, trigger)) {\n            inputs[trigger] = this[trigger];\n            validation_rules[trigger] = this.validation_rules[trigger].rules || [];\n        }\n\n        const validator = new Validator(inputs, validation_rules, this);\n\n        validator.isPassed();\n\n        Object.keys(inputs).forEach(key => {\n            this.setValidationErrorMessages(key, validator.errors.get(key));\n        });\n    }\n\n    registerReactions() {\n        const { client } = this.core;\n        this.disposeSwitchAcountListener = reaction(\n            () => client.loginid,\n            () => this.clear()\n        );\n\n        return () => {\n            if (typeof this.disposeSwitchAcountListener === 'function') {\n                this.disposeSwitchAcountListener();\n            }\n        };\n    }\n}\n",
            "size_bytes": 11836
        },
        "src/components/shared_ui/expansion-panel/expansion-panel.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { LabelPairedChevronDownLgRegularIcon } from '@deriv/quill-icons/LabelPaired';\nimport { TItem } from '../types/common.types';\nimport ArrayRenderer from './array-renderer';\n\ntype TExpansionPanel = {\n    message: { header: React.ReactNode; content: (Array<React.ReactNode> & Array<TItem>) | React.ReactNode };\n    onResize?: () => void;\n};\n\nconst ExpansionPanel = ({ message, onResize }: TExpansionPanel) => {\n    const [open_ids, setOpenIds] = React.useState<string[]>([]);\n    const [is_open, setIsOpen] = React.useState(false);\n\n    React.useEffect(() => {\n        if (typeof onResize === 'function') {\n            onResize();\n        }\n    }, [is_open, onResize]);\n\n    const onClick = () => {\n        // close if clicking the expansion panel that's open, otherwise open the new one\n        setIsOpen(!is_open);\n    };\n\n    return (\n        <React.Fragment>\n            <div\n                className={classNames('dc-expansion-panel__header-container', {\n                    'dc-expansion-panel__header-active': is_open,\n                })}\n            >\n                {message.header}\n                <LabelPairedChevronDownLgRegularIcon\n                    className='dc-expansion-panel__header-chevron-icon'\n                    onClick={onClick}\n                    height='24px'\n                    width='24px'\n                />\n            </div>\n            {is_open &&\n                (Array.isArray(message.content) ? (\n                    <ArrayRenderer array={message.content} open_ids={open_ids} setOpenIds={setOpenIds} />\n                ) : (\n                    message.content\n                ))}\n        </React.Fragment>\n    );\n};\n\nexport default ExpansionPanel;\n",
            "size_bytes": 1757
        },
        "src/components/error-modal/error-modal.tsx": {
            "content": "import React from 'react';\nimport DesktopWrapper from '../shared_ui/desktop-wrapper';\nimport MobileDialog from '../shared_ui/mobile-dialog';\nimport MobileWrapper from '../shared_ui/mobile-wrapper';\nimport Modal from '../shared_ui/modal';\nimport ErrorModalContent from './error-modal-content';\n\ntype TMessageObject = {\n    message: string;\n    toString: () => string;\n};\n\ntype TErrorModalProps = {\n    messages: Array<TMessageObject | React.ReactNode>;\n};\n\nconst ErrorModal = ({ messages }: TErrorModalProps) => {\n    const [is_error_modal_open, setErrorModalOpen] = React.useState(false);\n    const error_message_description = messages?.[0]?.toString();\n\n    React.useEffect(() => {\n        setErrorModalOpen(true);\n    }, []);\n\n    const toggleErrorModal = () => {\n        setErrorModalOpen(!is_error_modal_open);\n    };\n\n    return (\n        <Modal has_close_icon width='440px' height='284px' is_open={is_error_modal_open} toggleModal={toggleErrorModal}>\n            <DesktopWrapper>\n                <Modal.Body>\n                    <ErrorModalContent error_message={error_message_description} />\n                </Modal.Body>\n            </DesktopWrapper>\n            <MobileWrapper>\n                <MobileDialog\n                    portal_element_id='modal_root'\n                    has_close_icon\n                    visible={is_error_modal_open}\n                    onClose={toggleErrorModal}\n                >\n                    <Modal.Body>\n                        <ErrorModalContent error_message={error_message_description} />\n                    </Modal.Body>\n                </MobileDialog>\n            </MobileWrapper>\n        </Modal>\n    );\n};\n\nexport default ErrorModal;\n",
            "size_bytes": 1689
        },
        "src/external/bot-skeleton/scratch/blocks/index.js": {
            "content": "import './Advanced/Functions';\nimport './Advanced/List';\nimport './Advanced/Loops';\nimport './Advanced/Variable';\nimport './Binary/After Purchase';\nimport './Binary/Before Purchase';\nimport './Binary/During Purchase';\nimport './Binary/Indicators';\nimport './Binary/Tick Analysis';\nimport './Binary/Tools/Candle';\nimport './Binary/Tools/Misc';\nimport './Binary/Tools/Time';\nimport './Binary/Trade Definition';\nimport './Logic';\nimport './Math';\nimport './Text';\n",
            "size_bytes": 461
        },
        "src/components/shared_ui/contract-card/contract-card-items/turbos-card-body.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { addComma, getLimitOrderAmount, isCryptocurrency, isValidToSell } from '@/components/shared';\nimport ArrowIndicator from '../../arrow-indicator';\nimport MobileWrapper from '../../mobile-wrapper';\nimport Money from '../../money';\nimport { ResultStatusIcon } from '../result-overlay/result-overlay';\nimport ContractCardItem from './contract-card-item';\nimport { TGeneralContractCardBodyProps } from './contract-update-form';\nimport ToggleCardDialog from './toggle-card-dialog';\n\ntype TTurbosCardBody = Pick<\n    TGeneralContractCardBodyProps,\n    | 'addToast'\n    | 'contract_info'\n    | 'contract_update'\n    | 'currency'\n    | 'current_focus'\n    | 'error_message_alignment'\n    | 'getCardLabels'\n    | 'getContractById'\n    | 'is_sold'\n    | 'onMouseLeave'\n    | 'removeToast'\n    | 'setCurrentFocus'\n> & {\n    progress_slider_mobile_el: React.ReactNode;\n    totalProfit: number;\n};\n\nconst TurbosCardBody = ({\n    contract_info,\n    contract_update,\n    currency,\n    getCardLabels,\n    is_sold,\n    progress_slider_mobile_el,\n    ...toggle_card_dialog_props\n}: TTurbosCardBody) => {\n    const { bid_price, buy_price, profit, barrier, entry_spot, limit_order = {}, sell_price } = contract_info;\n    const { take_profit } = getLimitOrderAmount(contract_update || limit_order);\n    const is_valid_to_sell = isValidToSell(contract_info);\n    const contract_value = is_sold ? sell_price : bid_price;\n    const { BARRIER, CONTRACT_VALUE, ENTRY_SPOT, TAKE_PROFIT, TOTAL_PROFIT_LOSS, STAKE } = getCardLabels();\n\n    return (\n        <React.Fragment>\n            <div className={classNames('dc-contract-card-items-wrapper dc-contract-card--turbos')}>\n                <ContractCardItem\n                    className='dc-contract-card__buy-price'\n                    is_crypto={isCryptocurrency(currency)}\n                    header={STAKE}\n                >\n                    <Money amount={buy_price} currency={currency} />\n                </ContractCardItem>\n                <ContractCardItem header={CONTRACT_VALUE} className='dc-contract-card__contract-value'>\n                    <div\n                        className={classNames({\n                            'dc-contract-card--profit': Number(profit) > 0,\n                            'dc-contract-card--loss': Number(profit) < 0,\n                        })}\n                    >\n                        <Money amount={contract_value} currency={currency} />\n                    </div>\n                    {!is_sold && (\n                        <ArrowIndicator\n                            className='dc-contract-card__indicative--movement'\n                            value={sell_price || contract_value}\n                        />\n                    )}\n                </ContractCardItem>\n                <ContractCardItem\n                    header={ENTRY_SPOT}\n                    is_crypto={isCryptocurrency(currency)}\n                    className='dc-contract-card__entry-spot'\n                >\n                    {addComma(entry_spot)}\n                </ContractCardItem>\n\n                <div className='dc-contract-card__limit-order-info'>\n                    <ContractCardItem header={TAKE_PROFIT} className='dc-contract-card__take-profit'>\n                        {take_profit ? <Money amount={take_profit} currency={currency} /> : <strong>-</strong>}\n                        {is_valid_to_sell && (\n                            <ToggleCardDialog\n                                contract_id={contract_info.contract_id}\n                                getCardLabels={getCardLabels}\n                                is_turbos\n                                {...toggle_card_dialog_props}\n                            />\n                        )}\n                    </ContractCardItem>\n                </div>\n                <ContractCardItem header={BARRIER} className='dc-contract-card__barrier-level'>\n                    {addComma(barrier)}\n                </ContractCardItem>\n                <MobileWrapper>\n                    <div className='dc-contract-card__status'>\n                        {is_sold ? (\n                            <ResultStatusIcon getCardLabels={getCardLabels} is_contract_won={!!profit && profit > 0} />\n                        ) : (\n                            progress_slider_mobile_el\n                        )}\n                    </div>\n                </MobileWrapper>\n            </div>\n            <ContractCardItem\n                className='dc-contract-card-item__total-profit-loss'\n                header={TOTAL_PROFIT_LOSS}\n                is_crypto={isCryptocurrency(currency)}\n                is_loss={Number(profit) < 0}\n                is_won={Number(profit) > 0}\n            >\n                <Money amount={profit} currency={currency} />\n                {!is_sold && <ArrowIndicator className='dc-contract-card__indicative--movement' value={profit} />}\n            </ContractCardItem>\n        </React.Fragment>\n    );\n};\n\nexport default React.memo(TurbosCardBody);\n",
            "size_bytes": 5044
        },
        "src/components/load-modal/google-drive/index.ts": {
            "content": "import GoogleDrive from './google-drive';\n\nexport default GoogleDrive;\n",
            "size_bytes": 71
        },
        "src/external/bot-skeleton/services/tradeEngine/Interface/TicksInterface.js": {
            "content": "const getTicksInterface = tradeEngine => {\n    return {\n        getDelayTickValue: (...args) => tradeEngine.getDelayTickValue(...args),\n        getCurrentStat: (...args) => tradeEngine.getCurrentStat(...args),\n        getStatList: (...args) => tradeEngine.getStatList(...args),\n        getLastTick: (...args) => tradeEngine.getLastTick(...args),\n        getLastDigit: (...args) => tradeEngine.getLastDigit(...args),\n        getTicks: (...args) => tradeEngine.getTicks(...args),\n        checkDirection: (...args) => tradeEngine.checkDirection(...args),\n        getOhlcFromEnd: (...args) => tradeEngine.getOhlcFromEnd(...args),\n        getOhlc: (...args) => tradeEngine.getOhlc(...args),\n        getLastDigitList: (...args) => tradeEngine.getLastDigitList(...args),\n    };\n};\n\nexport default getTicksInterface;\n",
            "size_bytes": 809
        },
        "src/utils/url-utils.ts": {
            "content": "/**\n * Clears all query parameters from URL when invalid token is detected\n */\nexport const clearInvalidTokenParams = (): void => {\n    try {\n        const url = new URL(window.location.href);\n        // Clear all query parameters by creating empty search params\n        const newUrl = `${url.pathname}${url.hash}`;\n        window.history.replaceState({}, '', newUrl);\n    } catch (error) {\n        console.error('Error clearing all URL query parameters:', error);\n    }\n};\n",
            "size_bytes": 474
        },
        "src/pages/bot-builder/quick-strategy/parts/loss-threshold-warning-dialog.tsx": {
            "content": "import { observer } from 'mobx-react-lite';\nimport Checkbox from '@/components/shared_ui/checkbox';\nimport Dialog from '@/components/shared_ui/dialog';\nimport { useStore } from '@/hooks/useStore';\nimport { Localize, localize } from '@deriv-com/translations';\nimport useQsSubmitHandler from '../form-wrappers/useQsSubmitHandler';\nimport './loss-threshold-warning-dialog.scss';\n\nconst base_classname = 'loss-threshold-warning-dialog';\n\nconst LossThresholdWarningDialog = observer(() => {\n    const { quick_strategy } = useStore();\n    const { loss_threshold_warning_data, setLossThresholdWarningData, initializeLossThresholdWarningData } =\n        quick_strategy;\n    const { proceedFormSubmission } = useQsSubmitHandler();\n\n    const handleAmountEdit = () => {\n        setLossThresholdWarningData({\n            show: false,\n            highlight_field: ['loss'],\n        });\n    };\n\n    const handleContinueBot = () => {\n        initializeLossThresholdWarningData();\n        proceedFormSubmission();\n    };\n\n    const handleDontShowAgain = () => {\n        const stored_dont_show_warning_value = localStorage?.getItem('qs-dont-show-loss-threshold-warning');\n        const dont_show_warning = JSON.parse(stored_dont_show_warning_value ?? 'false');\n        localStorage?.setItem('qs-dont-show-loss-threshold-warning', `${!dont_show_warning}`);\n    };\n\n    return (\n        <Dialog\n            portal_element_id='modal_root'\n            title={localize('Are you sure you want to continue?')}\n            is_visible={loss_threshold_warning_data.show}\n            confirm_button_text={localize('Yes, continue')}\n            onConfirm={handleContinueBot}\n            cancel_button_text={localize('Edit the amount')}\n            onCancel={handleAmountEdit}\n            is_mobile_full_width={false}\n            has_close_icon={false}\n            className={base_classname}\n        >\n            <div className={`${base_classname}__body-text`}>\n                <Localize\n                    i18n_default_text={`Please confirm that your loss threshold amount is {{loss_amount}} {{currency}}.`}\n                    values={{\n                        loss_amount: loss_threshold_warning_data?.loss_amount,\n                        currency: loss_threshold_warning_data?.currency,\n                    }}\n                />\n            </div>\n            <Checkbox\n                defaultChecked={false}\n                label={localize('Do not show this message again.')}\n                onChange={handleDontShowAgain}\n            />\n        </Dialog>\n    );\n});\n\nexport default LossThresholdWarningDialog;\n",
            "size_bytes": 2589
        },
        "src/pages/tutorials/common/no-search-result-found/no-search-result.tsx": {
            "content": "import { observer } from 'mobx-react-lite';\nimport Text from '@/components/shared_ui/text';\nimport { useStore } from '@/hooks/useStore';\nimport { LabelPairedCircleExclamationCaptionFillIcon } from '@deriv/quill-icons/LabelPaired';\nimport { Localize } from '@deriv-com/translations';\n\nconst NoSearchResult = observer(() => {\n    const { dashboard } = useStore();\n    const { faq_search_value } = dashboard;\n    return (\n        <div className='dc-tabs__content dc-tabs__content--no-result' data-testid='no-search-result'>\n            <LabelPairedCircleExclamationCaptionFillIcon height='80px' width='80px' fill='#ff444f' />\n            <Text className='dc-tabs__content--no-result__title' as='h1' weight='bold' lineHeight='xxs'>\n                <Localize i18n_default_text='No results found' />\n            </Text>\n            <Text className='dc-tabs__content--no-result__content' lineHeight='xxs'>\n                <Localize i18n_default_text='We couldnt find anything matching' />\n                <Localize i18n_default_text={` ${faq_search_value}`} />\n            </Text>\n            <Text className='dc-tabs__content--no-result__content' lineHeight='xxs'>\n                <Localize i18n_default_text='Try another term.' />\n            </Text>\n        </div>\n    );\n});\n\nexport default NoSearchResult;\n",
            "size_bytes": 1307
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Tools/Candle/ohlc_values_in_list.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { config } from '../../../../../constants/config';\nimport { modifyContextMenu } from '../../../../utils';\n\nwindow.Blockly.Blocks.ohlc_values_in_list = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Make a list of {{ candle_property }} values from candles list {{ candle_list }}', {\n                candle_property: '%1',\n                candle_list: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'OHLCFIELD_LIST',\n                    options: config().ohlcFields,\n                },\n                {\n                    type: 'input_value',\n                    name: 'OHLCLIST',\n                },\n            ],\n            output: 'Array',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns a list of specific values from a given candle list'),\n            category: window.Blockly.Categories.Candle,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Create a list of candle values (2)'),\n            description: localize('This block gives you the selected candle value from a list of candles.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            OHLCLIST: null,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.ohlc_values_in_list = block => {\n    const ohlcField = block.getFieldValue('OHLCFIELD_LIST') || 'open';\n    const ohlcList =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'OHLCLIST',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC\n        ) || '[]';\n\n    const code = `Bot.candleValues(${ohlcList}, '${ohlcField}')`;\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC];\n};\n",
            "size_bytes": 2229
        },
        "src/components/shared_ui/input-field/input.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { getCurrencyDisplayCode } from '@/components/shared';\nimport Text from '../text';\n\nexport type TInputMode = 'search' | 'text' | 'none' | 'tel' | 'url' | 'email' | 'numeric' | 'decimal';\ntype TInputProps = {\n    ariaLabel?: string;\n    changeValue: (\n        e: React.ChangeEvent<HTMLInputElement>,\n        callback?: (evt: React.ChangeEvent<HTMLInputElement>) => void\n    ) => void;\n    checked?: boolean;\n    className?: string;\n    classNameDynamicSuffix?: string;\n    classNameInlinePrefix?: string;\n    current_focus?: string | null;\n    data_testid?: string;\n    data_tip?: string;\n    data_value?: number | string;\n    display_value: number | string;\n    fractional_digits?: number;\n    has_error?: boolean;\n    id?: string;\n    inline_prefix?: string;\n    inputmode?: TInputMode;\n    is_autocomplete_disabled?: boolean;\n    is_disabled?: boolean;\n    is_hj_whitelisted: boolean;\n    is_incrementable?: boolean;\n    is_read_only: boolean;\n    max_length?: number;\n    name: string;\n    onBlur?: React.FocusEventHandler<HTMLInputElement>;\n    onClick?: React.MouseEventHandler<HTMLInputElement>;\n    onClickInputWrapper?: React.MouseEventHandler<HTMLDivElement>;\n    onKeyPressed: React.KeyboardEventHandler<HTMLInputElement>;\n    placeholder?: string;\n    required?: boolean;\n    setCurrentFocus?: (name: string | null) => void;\n    type: string;\n    value?: number | string;\n};\n\nconst Input = ({\n    ariaLabel,\n    changeValue,\n    checked,\n    className,\n    classNameDynamicSuffix,\n    classNameInlinePrefix,\n    current_focus,\n    data_testid,\n    data_tip,\n    data_value,\n    display_value,\n    fractional_digits,\n    id,\n    inline_prefix,\n    inputmode,\n    is_autocomplete_disabled,\n    is_disabled,\n    is_hj_whitelisted,\n    is_incrementable,\n    is_read_only,\n    max_length,\n    name,\n    onBlur,\n    onClick,\n    onKeyPressed,\n    placeholder,\n    required,\n    setCurrentFocus,\n    type,\n}: TInputProps) => {\n    const ref = React.useRef<HTMLInputElement>(null);\n    React.useEffect(() => {\n        if (current_focus === name) {\n            ref?.current?.focus();\n        }\n    }, [current_focus, name]);\n\n    const onBlurHandler = (e: React.FocusEvent<HTMLInputElement>) => {\n        setCurrentFocus?.(null);\n        onBlur?.(e);\n    };\n    const onFocus = () => setCurrentFocus?.(name);\n\n    const onChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        /**\n         * fix for Safari\n         * we have to keep track of the current cursor position, update the value in store,\n         * then reset the cursor position to the current cursor position\n         */\n        // TODO: find better ways to target browsers\n        if (navigator.userAgent.indexOf('Safari') !== -1 && type !== 'checkbox') {\n            const cursor = e.target.selectionStart;\n            changeValue(e, evt => {\n                (evt as React.ChangeEvent<HTMLInputElement>).target.selectionEnd = cursor; // reset the cursor position in callback\n            });\n        } else {\n            changeValue(e);\n        }\n    };\n\n    return (\n        <div className={classNameDynamicSuffix}>\n            {inline_prefix ? (\n                <div className={classNameInlinePrefix}>\n                    <Text\n                        className={classNames(classNameInlinePrefix ? `${classNameInlinePrefix}--symbol` : '', {\n                            disabled: !!is_disabled,\n                        })}\n                        size='xs'\n                    >\n                        {inline_prefix === 'UST' ? getCurrencyDisplayCode(inline_prefix) : inline_prefix}\n                    </Text>\n                </div>\n            ) : null}\n            <input\n                autoComplete={is_autocomplete_disabled ? 'off' : undefined}\n                checked={checked}\n                className={classNames(className)}\n                data-for={`error_tooltip_${name}`}\n                data-hj-whitelist={is_hj_whitelisted}\n                data-tip={data_tip}\n                data-testid={data_testid}\n                data-value={data_value}\n                disabled={!!is_disabled}\n                id={id}\n                maxLength={fractional_digits && max_length ? max_length + fractional_digits + 1 : max_length}\n                name={name}\n                onBlur={onBlurHandler}\n                onChange={onChange}\n                onClick={onClick}\n                onFocus={onFocus}\n                onKeyDown={is_incrementable ? onKeyPressed : undefined}\n                placeholder={placeholder || undefined}\n                readOnly={is_read_only}\n                ref={ref}\n                required={required || undefined}\n                inputMode={inputmode}\n                type={type === 'number' ? 'text' : type}\n                value={display_value ?? ''}\n                aria-label={ariaLabel}\n                data-lpignore={type !== 'password'}\n            />\n        </div>\n    );\n};\n\nexport default Input;\n",
            "size_bytes": 4987
        },
        "src/components/shared_ui/contract-card/contract-card-items/accumulator-card-body.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { getLimitOrderAmount, isCryptocurrency, isValidToSell } from '@/components/shared';\nimport { ContractUpdate } from '@deriv/api-types';\nimport ArrowIndicator from '../../arrow-indicator';\nimport MobileWrapper from '../../mobile-wrapper';\nimport Money from '../../money';\nimport { TGetCardLables } from '../../types/common.types';\nimport { TToastConfig } from '../../types/contract.types';\nimport { ResultStatusIcon } from '../result-overlay/result-overlay';\nimport ContractCardItem from './contract-card-item';\nimport ToggleCardDialog from './toggle-card-dialog';\n\ntype TAccumulatorCardBody = {\n    addToast: (toast_config: TToastConfig) => void;\n    contract_info: TContractInfo;\n    contract_update?: ContractUpdate;\n    currency: Required<TContractInfo>['currency'];\n    current_focus?: string | null;\n    error_message_alignment?: string;\n    getCardLabels: TGetCardLables;\n    getContractById: React.ComponentProps<typeof ToggleCardDialog>['getContractById'];\n    indicative?: number;\n    is_sold: boolean;\n    onMouseLeave?: () => void;\n    removeToast: (toast_id: string) => void;\n    setCurrentFocus: (value: string | null) => void;\n    totalProfit: number;\n    is_positions?: boolean;\n};\n\nconst AccumulatorCardBody = ({\n    contract_info,\n    contract_update,\n    currency,\n    getCardLabels,\n    indicative,\n    is_sold,\n    is_positions,\n    ...toggle_card_dialog_props\n}: TAccumulatorCardBody) => {\n    const { buy_price, profit, limit_order, sell_price } = contract_info;\n    const { take_profit } = getLimitOrderAmount(contract_update || limit_order);\n    const is_valid_to_sell = isValidToSell(contract_info);\n    const { CONTRACT_VALUE, STAKE, TAKE_PROFIT, TOTAL_PROFIT_LOSS } = getCardLabels();\n    let is_won, is_loss;\n    if (profit) {\n        is_won = +profit > 0;\n        is_loss = +profit < 0;\n    }\n\n    return (\n        <React.Fragment>\n            <div className='dc-contract-card-items-wrapper'>\n                <ContractCardItem header={STAKE} className='dc-contract-card__stake'>\n                    <Money amount={buy_price} currency={currency} />\n                </ContractCardItem>\n                <ContractCardItem header={CONTRACT_VALUE} className='dc-contract-card__current-stake'>\n                    <div\n                        className={classNames({\n                            'dc-contract-card--profit': is_won,\n                            'dc-contract-card--loss': is_loss,\n                        })}\n                    >\n                        <Money amount={sell_price || indicative} currency={currency} />\n                    </div>\n                    {!is_sold && (\n                        <ArrowIndicator\n                            className='dc-contract-card__indicative--movement'\n                            value={sell_price || indicative}\n                        />\n                    )}\n                </ContractCardItem>\n                <ContractCardItem\n                    header={TOTAL_PROFIT_LOSS}\n                    is_crypto={isCryptocurrency(currency)}\n                    is_loss={is_loss}\n                    is_won={is_won}\n                >\n                    <Money amount={profit} currency={currency} />\n                    {!is_sold && <ArrowIndicator className='dc-contract-card__indicative--movement' value={profit} />}\n                </ContractCardItem>\n                <ContractCardItem header={TAKE_PROFIT} className='dc-contract-card__take-profit'>\n                    {take_profit ? <Money amount={take_profit} currency={currency} /> : <strong>-</strong>}\n                    {is_valid_to_sell && (\n                        <ToggleCardDialog\n                            contract_id={contract_info.contract_id}\n                            getCardLabels={getCardLabels}\n                            is_accumulator\n                            {...toggle_card_dialog_props}\n                        />\n                    )}\n                </ContractCardItem>\n            </div>\n            {!!is_sold && (\n                <MobileWrapper>\n                    <div\n                        className={classNames('dc-contract-card__status', {\n                            'dc-contract-card__status--accumulator-mobile-positions': is_positions,\n                        })}\n                    >\n                        <ResultStatusIcon getCardLabels={getCardLabels} is_contract_won={is_won} />\n                    </div>\n                </MobileWrapper>\n            )}\n        </React.Fragment>\n    );\n};\n\nexport default React.memo(AccumulatorCardBody);\n",
            "size_bytes": 4600
        },
        "src/components/layout/header/menu-items/index.ts": {
            "content": "import MenuItems from './menu-items';\n\nexport default MenuItems;\n",
            "size_bytes": 65
        },
        "src/components/shared_ui/loading/loading.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\n\nimport Text from '../text/text';\n\nexport type TLoadingProps = React.HTMLProps<HTMLDivElement> & {\n    is_fullscreen: boolean;\n    is_slow_loading: boolean;\n    status: string[];\n    theme: string;\n};\n\nconst Loading = ({ className, id, is_fullscreen = true, is_slow_loading, status, theme }: Partial<TLoadingProps>) => {\n    const theme_class = theme ? `barspinner-${theme}` : 'barspinner-light';\n    return (\n        <div\n            data-testid='dt_initial_loader'\n            className={classNames(\n                'initial-loader',\n                {\n                    'initial-loader--fullscreen': is_fullscreen,\n                },\n                className\n            )}\n        >\n            <div id={id} className={classNames('initial-loader__barspinner', 'barspinner', theme_class)}>\n                {Array.from(new Array(5)).map((x, inx) => (\n                    <div\n                        key={inx}\n                        className={`initial-loader__barspinner--rect barspinner__rect barspinner__rect--${\n                            inx + 1\n                        } rect${inx + 1}`}\n                    />\n                ))}\n            </div>\n            {is_slow_loading &&\n                status?.map((text, inx) => (\n                    <Text as='h3' color='prominent' size='xs' align='center' key={inx}>\n                        {text}\n                    </Text>\n                ))}\n        </div>\n    );\n};\n\nexport default Loading;\n",
            "size_bytes": 1520
        },
        "src/components/blockly-loading/blockly-loading.tsx": {
            "content": "import { observer } from 'mobx-react-lite';\nimport { useStore } from '@/hooks/useStore';\nimport { Loader } from '@deriv-com/ui';\n\nconst BlocklyLoading = observer(() => {\n    const { blockly_store } = useStore();\n    const { is_loading } = blockly_store;\n\n    return (\n        <>\n            {is_loading && (\n                <div className='bot__loading' data-testid='blockly-loader'>\n                    <Loader />\n                    <div>Loading Blockly...</div>\n                </div>\n            )}\n        </>\n    );\n});\n\nexport default BlocklyLoading;\n",
            "size_bytes": 558
        },
        "src/pages/dashboard/bot-list/delete-dialog/delete-dialog.tsx": {
            "content": "import React from 'react';\nimport localForage from 'localforage';\nimport LZString from 'lz-string';\nimport { observer } from 'mobx-react-lite';\nimport { NOTIFICATION_TYPE } from '@/components/bot-notification/bot-notification-utils';\nimport Dialog from '@/components/shared_ui/dialog';\nimport Text from '@/components/shared_ui/text';\nimport { getSavedWorkspaces } from '@/external/bot-skeleton';\nimport { useStore } from '@/hooks/useStore';\nimport { TStrategy } from '@/types';\nimport { localize } from '@deriv-com/translations';\nimport './delete-dialog.scss';\n\nconst DeleteDialog = observer(() => {\n    const { load_modal, dashboard } = useStore();\n    const {\n        is_delete_modal_open,\n        onToggleDeleteDialog,\n        selected_strategy_id,\n        setDashboardStrategies,\n        loadStrategyToBuilder,\n        refreshStrategiesTheme,\n        resetBotBuilderStrategy,\n    } = load_modal;\n    const { setOpenSettings } = dashboard;\n\n    const resetStrategiesAfterDelete = async (deleted_strategy_id: string, updated_workspaces: Array<TStrategy>) => {\n        if (updated_workspaces.length) {\n            if (selected_strategy_id === deleted_strategy_id) {\n                await loadStrategyToBuilder(updated_workspaces?.[0]);\n            }\n            // Change preview strategy to the one that was previously previewed\n            await refreshStrategiesTheme();\n        } else {\n            resetBotBuilderStrategy();\n        }\n    };\n\n    const removeBotStrategy = async (strategy_id: string) => {\n        const workspaces = await getSavedWorkspaces();\n        const updated_workspaces = workspaces.filter(\n            (strategy_from_workspace: TStrategy) => strategy_from_workspace.id !== strategy_id\n        );\n        setDashboardStrategies(updated_workspaces);\n        // TODO: Need to move this to skeleton\n        localForage.setItem('saved_workspaces', LZString.compress(JSON.stringify(updated_workspaces)));\n        await resetStrategiesAfterDelete(strategy_id, updated_workspaces);\n        onToggleDeleteDialog(false);\n    };\n    return (\n        <div>\n            <Dialog\n                title={localize('Delete bot')}\n                is_visible={is_delete_modal_open}\n                confirm_button_text={localize('Yes, delete')}\n                onConfirm={() => {\n                    removeBotStrategy(selected_strategy_id);\n                    onToggleDeleteDialog(false);\n                    setOpenSettings(NOTIFICATION_TYPE.BOT_DELETE);\n                }}\n                cancel_button_text={localize('No')}\n                onCancel={() => {\n                    onToggleDeleteDialog(false);\n                }}\n                is_mobile_full_width={false}\n                className={'dc-dialog__delete-strategy--delete'}\n                has_close_icon\n            >\n                <div>\n                    <Text color='prominent' lineHeight='s' size='xs'>\n                        {localize('Your bot will be permanently deleted when you hit ')}\n                        <strong>{localize('Yes, delete.')}</strong>\n                    </Text>\n                </div>\n                <div>\n                    <Text color='prominent' lineHeight='xl' size='xs'>\n                        {localize('Are you sure you want to delete it?')}\n                    </Text>\n                </div>\n            </Dialog>\n        </div>\n    );\n});\n\nexport default DeleteDialog;\n",
            "size_bytes": 3391
        },
        "src/pages/dashboard/announcements/announcements.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { observer } from 'mobx-react-lite';\nimport { useNavigate } from 'react-router-dom';\nimport Text from '@/components/shared_ui/text';\nimport { useStore } from '@/hooks/useStore';\nimport { StandaloneBullhornRegularIcon } from '@deriv/quill-icons';\nimport { localize } from '@deriv-com/translations';\nimport { Notifications as Announcement } from '@deriv-com/ui';\nimport { rudderStackSendOpenEvent } from '../../../analytics/rudderstack-common-events';\nimport {\n    rudderStackSendAnnouncementActionEvent,\n    rudderStackSendAnnouncementClickEvent,\n} from '../../../analytics/rudderstack-dashboard';\nimport { guide_content } from '../../tutorials/constants';\nimport { performButtonAction } from './utils/accumulator-helper-functions';\nimport { MessageAnnounce, TitleAnnounce } from './announcement-components';\nimport AnnouncementDialog from './announcement-dialog';\nimport { BOT_ANNOUNCEMENTS_LIST, TAnnouncement, TNotifications } from './config';\nimport './announcements.scss';\n\ntype TAnnouncements = {\n    is_mobile?: boolean;\n    is_tablet?: boolean;\n    handleTabChange: (item: number) => void;\n};\n\nconst Announcements = observer(({ is_mobile, is_tablet, handleTabChange }: TAnnouncements) => {\n    const {\n        load_modal: { toggleLoadModal },\n        dashboard: { showVideoDialog },\n        quick_strategy: { setFormVisibility },\n    } = useStore();\n    const [is_announce_dialog_open, setIsAnnounceDialogOpen] = React.useState(false);\n    const [is_open_announce_list, setIsOpenAnnounceList] = React.useState(false);\n    const [selected_announcement, setSelectedAnnouncement] = React.useState<TAnnouncement | null>(null);\n    const [read_announcements_map, setReadAnnouncementsMap] = React.useState({} as Record<string, boolean>);\n    const [amount_active_announce, setAmountActiveAnnounce] = React.useState(0);\n    const navigate = useNavigate();\n    const [notifications, setNotifications] = React.useState([] as TNotifications[]);\n\n    const action_button_class_name = 'announcements__label';\n\n    const storeDataInLocalStorage = (updated_local_storage_data: Record<string, boolean>) => {\n        localStorage?.setItem('bot-announcements', JSON.stringify(updated_local_storage_data));\n    };\n\n    const updateLocalStorage = (announce_id: string) => {\n        let data: Record<string, boolean> | null = null;\n        data = JSON.parse(localStorage.getItem('bot-announcements') ?? '{}');\n        storeDataInLocalStorage({ ...data, [announce_id]: false });\n        const temp_notifications = updateNotifications();\n        setReadAnnouncementsMap(temp_notifications);\n    };\n\n    const modalButtonAction = (announce_id: string, announcement: TAnnouncement) => () => {\n        setSelectedAnnouncement(announcement);\n        setIsAnnounceDialogOpen(true);\n        setIsOpenAnnounceList(prev => !prev);\n        rudderStackSendAnnouncementClickEvent({ announcement_name: announcement.announcement.main_title });\n        updateLocalStorage(announce_id);\n    };\n\n    const handleRedirect = (url: string) => () => {\n        if (navigate) {\n            navigate(url);\n        }\n    };\n\n    const updateNotifications = () => {\n        let data: Record<string, boolean> | null = null;\n        data = JSON.parse(localStorage.getItem('bot-announcements') ?? '{}');\n        const tmp_notifications: TNotifications[] = [];\n        const temp_localstorage_data: Record<string, boolean> | null = {};\n        const loggedInAccountId = localStorage.getItem('active_loginid');\n        let allUserAccounts = localStorage.getItem('client_account_details');\n        let accountDate = null;\n        if (allUserAccounts) {\n            allUserAccounts = JSON.parse(allUserAccounts);\n            const currentAccount = allUserAccounts?.find(account => account.loginid == loggedInAccountId);\n            accountDate = new Date(currentAccount.created_at * 1000);\n        }\n\n        BOT_ANNOUNCEMENTS_LIST.map(item => {\n            let is_not_read = true;\n            if (data && Object.prototype.hasOwnProperty.call(data, item.id)) {\n                is_not_read = data[item.id];\n            }\n            const notificationDate = new Date(item.date);\n            if (accountDate && notificationDate > accountDate) {\n                tmp_notifications.push({\n                    id: item.id,\n                    icon: <item.icon announce={is_not_read} />,\n                    title: <TitleAnnounce title={item.title} announce={is_not_read} />,\n                    message: <MessageAnnounce message={item.message} date={item.date} announce={is_not_read} />,\n                    buttonAction: performButtonAction(item, modalButtonAction, handleRedirect),\n                    actionText: item.actionText,\n                });\n                temp_localstorage_data[item.id] = is_not_read;\n            }\n        });\n        setNotifications(tmp_notifications);\n        return temp_localstorage_data;\n    };\n\n    React.useEffect(() => {\n        const temp_localstorage_data = updateNotifications();\n        storeDataInLocalStorage(temp_localstorage_data);\n        setReadAnnouncementsMap(temp_localstorage_data);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    React.useEffect(() => {\n        const number_ammount_active_announce = Object.values(read_announcements_map).filter(value => value).length;\n        setAmountActiveAnnounce(number_ammount_active_announce);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [read_announcements_map]);\n\n    const openAccumulatorsVideo = () => {\n        const accumulators_video = guide_content().find(guide_content => guide_content.id === 4);\n        if (accumulators_video) {\n            showVideoDialog({ url: accumulators_video.url, type: 'url' });\n        }\n    };\n\n    const handleOnCancel = () => {\n        rudderStackSendAnnouncementActionEvent({\n            announcement_name: selected_announcement?.announcement.main_title,\n            announcement_action: selected_announcement?.announcement.cancel_button_text,\n        });\n        if (selected_announcement?.switch_tab_on_cancel) {\n            handleTabChange(selected_announcement.switch_tab_on_cancel);\n            if (selected_announcement.announcement.id === 'ACCUMULATOR_ANNOUNCE') {\n                openAccumulatorsVideo();\n            }\n        }\n        selected_announcement?.onCancel?.();\n        setSelectedAnnouncement(null);\n    };\n\n    const handleOnConfirm = () => {\n        rudderStackSendAnnouncementActionEvent({\n            announcement_name: selected_announcement?.announcement.main_title,\n            announcement_action: selected_announcement?.announcement.confirm_button_text,\n        });\n        if (selected_announcement?.switch_tab_on_confirm) {\n            handleTabChange(selected_announcement.switch_tab_on_confirm);\n        }\n        if (selected_announcement?.should_toggle_qs_modal) {\n            setFormVisibility(true);\n        }\n        if (selected_announcement?.should_toggle_load_modal) {\n            toggleLoadModal();\n        }\n        selected_announcement?.onConfirm?.();\n        setSelectedAnnouncement(null);\n    };\n\n    const clearNotificationsCallback = () => {\n        const temp_read_announcements_map = Object.fromEntries(\n            Object.keys(read_announcements_map).map(key => [key, false])\n        );\n        storeDataInLocalStorage(temp_read_announcements_map);\n        const temp_notifications = updateNotifications();\n        setReadAnnouncementsMap(temp_notifications);\n    };\n\n    return (\n        <div className='announcements'>\n            <button\n                className='announcements__button'\n                onClick={() => {\n                    setIsOpenAnnounceList(prevState => !prevState);\n                    if (!is_open_announce_list) {\n                        rudderStackSendOpenEvent({\n                            subform_name: 'announcements',\n                            subform_source: 'dashboard',\n                        });\n                    }\n                }}\n                data-testid='btn-announcements'\n            >\n                <StandaloneBullhornRegularIcon fill='var(--icon-black-plus)' iconSize='sm' />\n                {!is_mobile && (\n                    <Text size='xs' line_height='s' className={action_button_class_name}>\n                        {localize('Announcements')}\n                    </Text>\n                )}\n                {amount_active_announce !== 0 && (\n                    <div className='announcements__amount'>\n                        <p data-testid='announcements__amount'>{amount_active_announce}</p>\n                    </div>\n                )}\n            </button>\n            <div className='notifications__wrapper'>\n                <Announcement\n                    className={classNames('', {\n                        'notifications__wrapper--mobile': is_mobile,\n                        'notifications__wrapper--desktop': !is_mobile,\n                        'notifications__wrapper--tablet': is_tablet,\n                    })}\n                    clearNotificationsCallback={clearNotificationsCallback}\n                    componentConfig={{\n                        clearButtonText: localize('Mark all as read'),\n                        modalTitle: localize('Announcements'),\n                        noNotificationsMessage: '',\n                        noNotificationsTitle: '',\n                    }}\n                    isOpen={is_open_announce_list}\n                    setIsOpen={setIsOpenAnnounceList}\n                    notifications={notifications}\n                    excludedClickOutsideClass={action_button_class_name}\n                    {...(is_mobile && { appElement: document.getElementById('modal_root') })}\n                />\n            </div>\n            {selected_announcement?.announcement && (\n                <AnnouncementDialog\n                    announcement={selected_announcement.announcement}\n                    is_announce_dialog_open={is_announce_dialog_open}\n                    setIsAnnounceDialogOpen={setIsAnnounceDialogOpen}\n                    handleOnCancel={!selected_announcement?.should_not_be_cancel ? handleOnCancel : null}\n                    handleOnConfirm={handleOnConfirm}\n                    is_tablet={is_tablet}\n                />\n            )}\n        </div>\n    );\n});\n\nexport default Announcements;\n",
            "size_bytes": 10386
        },
        "src/components/shared_ui/tick-progress/index.ts": {
            "content": "import TickProgress from './tick-progress';\nimport './tick-progress.scss';\n\nexport default TickProgress;\n",
            "size_bytes": 105
        },
        "src/components/journal/journal-components/filters.tsx": {
            "content": "import Checkbox from '@/components/shared_ui/checkbox';\nimport { TFiltersProps } from '../journal.types';\n\nconst Filters = ({ wrapper_ref, checked_filters, filters, filterMessage, className }: TFiltersProps) => (\n    <div ref={wrapper_ref} className={className}>\n        {filters.map(item => {\n            const hasFilter = Array.isArray(checked_filters) && checked_filters.includes(item.id);\n            return (\n                <Checkbox\n                    key={item.id}\n                    checked={hasFilter}\n                    label={item.label}\n                    onChange={() => filterMessage(!hasFilter, item.id)}\n                    name={item.id}\n                    defaultChecked={hasFilter}\n                />\n            );\n        })}\n    </div>\n);\n\nexport default Filters;\n",
            "size_bytes": 792
        },
        "analysis-tool/Benanalysistool-final-main/components/connection-indicator.tsx": {
            "content": "\"use client\"\n\nimport { motion } from \"framer-motion\"\n\ninterface ConnectionIndicatorProps {\n  status: \"connected\" | \"disconnected\" | \"reconnecting\"\n}\n\nexport function ConnectionIndicator({ status }: ConnectionIndicatorProps) {\n  const statusConfig = {\n    connected: {\n      color: \"bg-success\",\n      text: \"Connected\",\n      pulse: true,\n    },\n    disconnected: {\n      color: \"bg-destructive\",\n      text: \"Disconnected\",\n      pulse: false,\n    },\n    reconnecting: {\n      color: \"bg-chart-5\",\n      text: \"Reconnecting...\",\n      pulse: true,\n    },\n  }\n\n  const config = statusConfig[status]\n\n  return (\n    <div className=\"flex items-center gap-2\">\n      <div className=\"relative\">\n        <div className={`h-2.5 w-2.5 rounded-full ${config.color}`} />\n        {config.pulse && (\n          <motion.div\n            className={`absolute inset-0 h-2.5 w-2.5 rounded-full ${config.color}`}\n            animate={{\n              scale: [1, 1.5, 1],\n              opacity: [1, 0, 1],\n            }}\n            transition={{\n              duration: 2,\n              repeat: Number.POSITIVE_INFINITY,\n              ease: \"easeInOut\",\n            }}\n          />\n        )}\n      </div>\n      <span className=\"text-sm font-medium text-muted-foreground\">{config.text}</span>\n    </div>\n  )\n}\n",
            "size_bytes": 1290
        },
        "src/components/shared/utils/currency/index.ts": {
            "content": "export * from './currency';\n",
            "size_bytes": 28
        },
        "src/main.tsx": {
            "content": "import { configure } from 'mobx';\nimport ReactDOM from 'react-dom/client';\nimport { AuthWrapper } from './app/AuthWrapper';\nimport { AnalyticsInitializer } from './utils/analytics';\nimport { performVersionCheck } from './utils/version-check';\nimport './styles/index.scss';\n\n// Configure MobX to handle multiple instances in production builds\nconfigure({ isolateGlobalState: true });\n\n// Perform version check FIRST - before any other operations\nperformVersionCheck();\n\nAnalyticsInitializer();\n\nReactDOM.createRoot(document.getElementById('root')!).render(<AuthWrapper />);\n",
            "size_bytes": 573
        },
        "src/pages/dashboard/bot-list/save-modal/save-modal.tsx": {
            "content": "import React, { useEffect } from 'react';\nimport classNames from 'classnames';\nimport { Field, Form, Formik } from 'formik';\nimport { observer } from 'mobx-react-lite';\nimport Button from '@/components/shared_ui/button';\nimport Input from '@/components/shared_ui/input';\nimport MobileFullPageModal from '@/components/shared_ui/mobile-full-page-modal';\nimport Modal from '@/components/shared_ui/modal';\nimport RadioGroup from '@/components/shared_ui/radio-group';\nimport Text from '@/components/shared_ui/text';\nimport ThemedScrollbars from '@/components/shared_ui/themed-scrollbars';\nimport { config, save_types } from '@/external/bot-skeleton';\nimport { useStore } from '@/hooks/useStore';\nimport {\n    DerivLightGoogleDriveIcon,\n    DerivLightLocalDeviceIcon,\n    DerivLightMyComputerIcon,\n} from '@deriv/quill-icons/Illustration';\nimport { localize } from '@deriv-com/translations';\nimport { useDevice } from '@deriv-com/ui';\nimport IconRadio from './icon-radio';\nimport './save-modal.scss';\n\ntype TSaveModalForm = {\n    bot_name: string;\n    button_status: number;\n    google_drive_connected?: boolean;\n    is_authorised: boolean;\n    is_mobile?: boolean;\n    is_onscreen_keyboard_active?: boolean;\n    is_save_modal_open?: boolean;\n    icon?: string;\n    text?: string;\n    onDriveConnect?: () => void;\n    onConfirmSave: (values: { is_local: boolean; save_as_collection: boolean; bot_name: string }) => void;\n    setCurrentFocus: (current_focus: string) => void;\n    toggleSaveModal: () => void;\n    validateBotName: (values: string) => { [key: string]: string };\n};\n\nconst SaveModalForm: React.FC<TSaveModalForm> = ({\n    bot_name,\n    button_status,\n    is_authorised,\n    onConfirmSave,\n    onDriveConnect,\n    validateBotName,\n    toggleSaveModal,\n    is_mobile,\n    is_onscreen_keyboard_active,\n    setCurrentFocus,\n}) => (\n    <Formik\n        initialValues={{\n            is_local: true,\n            save_as_collection: false,\n            bot_name: bot_name === config().default_file_name ? '' : bot_name,\n        }}\n        validate={validateBotName}\n        onSubmit={onConfirmSave}\n    >\n        {({ values: { is_local }, setFieldValue, touched, errors }) => {\n            const content_height = !is_mobile ? '500px' : `calc(100%)`;\n            return (\n                <ThemedScrollbars height={content_height} autohide>\n                    <Form className={classNames({ 'form--active-keyboard': is_onscreen_keyboard_active })}>\n                        <div className='modal__content'>\n                            <Text size='xs' lineHeight='l'>\n                                {localize(\n                                    'Enter your bot name, choose to save on your computer or Google Drive, and hit '\n                                )}\n                                <strong>{localize('Save.')}</strong>\n                            </Text>\n                            <div className='modal__content-row'>\n                                <Field name='bot_name'>\n                                    {({ field }) => (\n                                        <Input\n                                            className='save-type__input'\n                                            type='text'\n                                            placeholder={localize('Untitled Strategy')}\n                                            error={touched[field.name] && errors[field.name]}\n                                            label={localize('Bot name')}\n                                            onFocus={e => setCurrentFocus(e.currentTarget.value)}\n                                            onBlur={() => setCurrentFocus('')}\n                                            {...field}\n                                            max_characters={25}\n                                        />\n                                    )}\n                                </Field>\n                            </div>\n                            <div className='modal__content-row'>\n                                <RadioGroup\n                                    className='radio-group__save-type'\n                                    name='is_local'\n                                    selected={() => {\n                                        if (is_authorised && !is_local) return save_types.GOOGLE_DRIVE;\n                                        return save_types.LOCAL;\n                                    }}\n                                    onToggle={() => setFieldValue('is_local', !is_local)}\n                                >\n                                    <RadioGroup.Item\n                                        id='local'\n                                        label={\n                                            <IconRadio\n                                                text={localize('Local')}\n                                                icon={\n                                                    is_mobile ? (\n                                                        <DerivLightLocalDeviceIcon height='48px' width='48px' />\n                                                    ) : (\n                                                        <DerivLightMyComputerIcon height='48px' width='48px' />\n                                                    )\n                                                }\n                                            />\n                                        }\n                                        value={save_types.LOCAL}\n                                    />\n                                    <RadioGroup.Item\n                                        id='drive'\n                                        label={\n                                            <IconRadio\n                                                text={'Google Drive'}\n                                                icon={<DerivLightGoogleDriveIcon height='48px' width='48px' />}\n                                                google_drive_connected={is_authorised}\n                                                onDriveConnect={onDriveConnect}\n                                            />\n                                        }\n                                        value={save_types.GOOGLE_DRIVE}\n                                        disabled={!is_authorised}\n                                        className={classNames({\n                                            'dc-radio-group__item-disabled': !is_authorised,\n                                        })}\n                                    />\n                                </RadioGroup>\n                            </div>\n                        </div>\n                        <div\n                            className={classNames('modal__footer', {\n                                'modal__footer--active-keyboard': is_onscreen_keyboard_active,\n                            })}\n                        >\n                            <Button\n                                type='button'\n                                className='modal__footer--button'\n                                text={localize('Cancel')}\n                                onClick={toggleSaveModal}\n                                secondary\n                            />\n                            <Button\n                                className='modal__footer--button'\n                                type='submit'\n                                is_loading={button_status === 1}\n                                is_submit_success={button_status === 2}\n                                text={localize('Save')}\n                                primary\n                            />\n                        </div>\n                    </Form>\n                </ThemedScrollbars>\n            );\n        }}\n    </Formik>\n);\nconst SaveModal = observer(() => {\n    const { save_modal, google_drive, dashboard, load_modal, ui } = useStore();\n    const { dashboard_strategies } = load_modal;\n    const {\n        button_status,\n        bot_name,\n        is_save_modal_open,\n        onConfirmSave,\n        toggleSaveModal,\n        updateBotName,\n        validateBotName,\n    } = save_modal;\n    const { is_authorised, onDriveConnect } = google_drive;\n    const { is_onscreen_keyboard_active, setCurrentFocus } = ui;\n    const { isMobile } = useDevice();\n    const { active_tab } = dashboard;\n\n    useEffect(() => {\n        if (active_tab === 1) {\n            updateBotName(dashboard_strategies?.[0]?.name ?? '');\n        }\n    }, [active_tab, dashboard_strategies, updateBotName]);\n\n    return isMobile ? (\n        <MobileFullPageModal\n            is_modal_open={is_save_modal_open}\n            className='save-modal__wrapper'\n            header={localize('Save strategy')}\n            onClickClose={toggleSaveModal}\n            height_offset='80px'\n            page_overlay\n        >\n            <SaveModalForm\n                bot_name={bot_name}\n                button_status={button_status}\n                is_authorised={is_authorised}\n                onConfirmSave={onConfirmSave}\n                onDriveConnect={onDriveConnect}\n                validateBotName={validateBotName}\n                toggleSaveModal={toggleSaveModal}\n                is_mobile={isMobile}\n                is_onscreen_keyboard_active={is_onscreen_keyboard_active}\n                setCurrentFocus={setCurrentFocus}\n            />\n        </MobileFullPageModal>\n    ) : (\n        <Modal\n            title={localize('Save strategy')}\n            className='modal--save'\n            width='32.8rem'\n            height='50rem'\n            is_open={is_save_modal_open}\n            toggleModal={toggleSaveModal}\n        >\n            <SaveModalForm\n                bot_name={bot_name}\n                button_status={button_status}\n                is_authorised={is_authorised}\n                onConfirmSave={onConfirmSave}\n                onDriveConnect={onDriveConnect}\n                validateBotName={validateBotName}\n                toggleSaveModal={toggleSaveModal}\n                setCurrentFocus={setCurrentFocus}\n            />\n        </Modal>\n    );\n});\n\nexport default SaveModal;\n",
            "size_bytes": 10129
        },
        "src/components/load-modal/recent.tsx": {
            "content": "import React from 'react';\nimport classnames from 'classnames';\nimport { observer } from 'mobx-react-lite';\nimport { useStore } from '@/hooks/useStore';\nimport { DerivLightDeclinedPoaIcon } from '@deriv/quill-icons';\nimport { Localize } from '@deriv-com/translations';\nimport RecentWorkspace from './recent-workspace';\nimport WorkspaceControl from './workspace-control';\n\nconst RecentComponent = observer(() => {\n    const { load_modal } = useStore();\n    const { is_explanation_expand, recent_strategies, toggleExplanationExpand } = load_modal;\n    if (recent_strategies.length) {\n        return (\n            <div className='load-strategy__container load-strategy__container--has-footer'>\n                <div className='load-strategy__recent'>\n                    <div className='load-strategy__recent__files'>\n                        {recent_strategies.map(workspace => (\n                            <RecentWorkspace key={workspace.id} workspace={workspace} />\n                        ))}\n                    </div>\n                    <div className='load-strategy__recent__preview'>\n                        <div className='load-strategy__title load-strategy__recent-preview-title'>\n                            <Localize i18n_default_text='Preview' />\n                        </div>\n                        <div className='load-strategy__preview-workspace'>\n                            <div id='load-strategy__blockly-container' style={{ height: '100%' }}>\n                                <WorkspaceControl />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n    return (\n        <div className='load-strategy__container'>\n            <div className='load-strategy__recent__empty' data-testid='dt-load-strategy__recent__empty'>\n                <div className='load-strategy__recent__empty-icon'>\n                    <DerivLightDeclinedPoaIcon height='128px' width='128px' />\n                </div>\n                <div className='load-strategy__recent__empty-title'>\n                    <Localize i18n_default_text='You do not have any recent bots' />\n                </div>\n                <div className='load-strategy__recent__empty-description'>\n                    <Localize i18n_default_text='Create one or upload one from your local drive or Google Drive.' />\n                </div>\n                <div\n                    tabIndex={0}\n                    className='load-strategy__recent__empty-expand'\n                    data-testid='dt-load-strategy__recent__empty-expand'\n                    onClick={toggleExplanationExpand}\n                    onKeyDown={(e: React.KeyboardEvent) => {\n                        if (e.key === 'Enter') toggleExplanationExpand();\n                    }}\n                >\n                    <Localize i18n_default_text=\"Why can't I see my recent bots?\" />\n                </div>\n                <div\n                    data-testid={\n                        is_explanation_expand ? 'dt-empty-explanation-list--open' : 'dt-empty-explanation-list--close'\n                    }\n                    className={classnames('load-strategy__recent__empty-explanation', {\n                        'load-strategy__recent__empty-explanation--show': is_explanation_expand,\n                    })}\n                >\n                    <div>\n                        <Localize i18n_default_text=\"If you've recently used bots but don't see them in this list, it may be because you:\" />\n                    </div>\n                    <ol className='load-strategy__recent__empty-explanation-list'>\n                        <li>\n                            <Localize i18n_default_text='1. Logged in from a different device' />\n                        </li>\n                        <li>\n                            <Localize i18n_default_text='2. Logged in from a different browser' />\n                        </li>\n                        <li>\n                            <Localize i18n_default_text='3. Cleared your browser cache' />\n                        </li>\n                    </ol>\n                </div>\n            </div>\n        </div>\n    );\n});\n\nexport default RecentComponent;\n",
            "size_bytes": 4224
        },
        "src/components/shared_ui/progress-bar-tracker/index.ts": {
            "content": "import ProgressBarTracker from './progress-bar-tracker';\nimport './progress-bar-tracker.scss';\n\nexport default ProgressBarTracker;\n",
            "size_bytes": 131
        },
        "src/utils/languages.tsx": {
            "content": "import {\n    FlagArabLeagueIcon,\n    FlagBangladeshIcon,\n    FlagCambodiaIcon,\n    FlagChinaSimplifiedIcon,\n    FlagChinaTraditionalIcon,\n    FlagFranceIcon,\n    FlagGermanyIcon,\n    FlagItalyIcon,\n    FlagPolandIcon,\n    FlagPortugalIcon,\n    FlagRussiaIcon,\n    FlagSouthKoreaIcon,\n    FlagSpainIcon,\n    FlagSriLankaIcon,\n    FlagTanzaniaIcon,\n    FlagThailandIcon,\n    FlagTurkeyIcon,\n    FlagUnitedKingdomIcon,\n    FlagUzbekistanIcon,\n    FlagVietnamIcon,\n} from '@deriv/quill-icons/Flags';\n\nexport const LANGUAGES = [\n    {\n        code: 'EN',\n        displayName: 'English',\n        icon: <FlagUnitedKingdomIcon height={24} width={36} />,\n        placeholderIcon: <FlagUnitedKingdomIcon height={12} width={18} />,\n        placeholderIconInMobile: <FlagUnitedKingdomIcon height={14.67} width={22} />,\n    },\n    {\n        code: 'AR',\n        displayName: '',\n        icon: <FlagArabLeagueIcon height={24} width={36} />,\n        placeholderIcon: <FlagArabLeagueIcon height={12} width={18} />,\n        placeholderIconInMobile: <FlagArabLeagueIcon height={14.67} width={22} />,\n    },\n    {\n        code: 'BN',\n        displayName: '',\n        icon: <FlagBangladeshIcon height={24} width={36} />,\n        placeholderIcon: <FlagBangladeshIcon height={12} width={18} />,\n        placeholderIconInMobile: <FlagBangladeshIcon height={14.67} width={22} />,\n    },\n    {\n        code: 'DE',\n        displayName: 'Deutsch',\n        icon: <FlagGermanyIcon height={24} width={36} />,\n        placeholderIcon: <FlagGermanyIcon height={12} width={18} />,\n        placeholderIconInMobile: <FlagGermanyIcon height={14.67} width={22} />,\n    },\n\n    {\n        code: 'ES',\n        displayName: 'Espaol',\n        icon: <FlagSpainIcon height={24} width={36} />,\n        placeholderIcon: <FlagSpainIcon height={12} width={18} />,\n        placeholderIconInMobile: <FlagSpainIcon height={14.67} width={22} />,\n    },\n    {\n        code: 'FR',\n        displayName: 'Franais',\n        icon: <FlagFranceIcon height={24} width={36} />,\n        placeholderIcon: <FlagFranceIcon height={12} width={18} />,\n        placeholderIconInMobile: <FlagFranceIcon height={14.67} width={22} />,\n    },\n    {\n        code: 'IT',\n        displayName: 'Italiano',\n        icon: <FlagItalyIcon height={24} width={36} />,\n        placeholderIcon: <FlagItalyIcon height={12} width={18} />,\n        placeholderIconInMobile: <FlagItalyIcon height={14.67} width={22} />,\n    },\n    {\n        code: 'SW',\n        displayName: 'Kiswahili',\n        icon: <FlagTanzaniaIcon height={24} width={36} />,\n        placeholderIcon: <FlagTanzaniaIcon height={12} width={18} />,\n        placeholderIconInMobile: <FlagTanzaniaIcon height={14.67} width={22} />,\n    },\n    {\n        code: 'KM',\n        displayName: '',\n        icon: <FlagCambodiaIcon height={24} width={36} />,\n        placeholderIcon: <FlagCambodiaIcon height={12} width={18} />,\n        placeholderIconInMobile: <FlagCambodiaIcon height={14.67} width={22} />,\n    },\n    {\n        code: 'KO',\n        displayName: '',\n        icon: <FlagSouthKoreaIcon height={24} width={36} />,\n        placeholderIcon: <FlagSouthKoreaIcon height={12} width={18} />,\n        placeholderIconInMobile: <FlagSouthKoreaIcon height={14.67} width={22} />,\n    },\n    {\n        code: 'PL',\n        displayName: 'Polish',\n        icon: <FlagPolandIcon height={24} width={36} />,\n        placeholderIcon: <FlagPolandIcon height={12} width={18} />,\n        placeholderIconInMobile: <FlagPolandIcon height={14.67} width={22} />,\n    },\n    {\n        code: 'PT',\n        displayName: 'Portugus',\n        icon: <FlagPortugalIcon height={24} width={36} />,\n        placeholderIcon: <FlagPortugalIcon height={12} width={18} />,\n        placeholderIconInMobile: <FlagPortugalIcon height={14.67} width={22} />,\n    },\n    {\n        code: 'RU',\n        displayName: '',\n        icon: <FlagRussiaIcon height={24} width={36} />,\n        placeholderIcon: <FlagRussiaIcon height={12} width={18} />,\n        placeholderIconInMobile: <FlagRussiaIcon height={14.67} width={22} />,\n    },\n    {\n        code: 'SI',\n        displayName: '',\n        icon: <FlagSriLankaIcon height={24} width={36} />,\n        placeholderIcon: <FlagSriLankaIcon height={12} width={18} />,\n        placeholderIconInMobile: <FlagSriLankaIcon height={14.67} width={22} />,\n    },\n    {\n        code: 'TH',\n        displayName: '',\n        icon: <FlagThailandIcon height={24} width={36} />,\n        placeholderIcon: <FlagThailandIcon height={12} width={18} />,\n        placeholderIconInMobile: <FlagThailandIcon height={14.67} width={22} />,\n    },\n    {\n        code: 'TR',\n        displayName: 'Trke',\n        icon: <FlagTurkeyIcon height={24} width={36} />,\n        placeholderIcon: <FlagTurkeyIcon height={12} width={18} />,\n        placeholderIconInMobile: <FlagTurkeyIcon height={14.67} width={22} />,\n    },\n    {\n        code: 'UZ',\n        displayName: `O'zbek`,\n        icon: <FlagUzbekistanIcon height={24} width={36} />,\n        placeholderIcon: <FlagUzbekistanIcon height={12} width={18} />,\n        placeholderIconInMobile: <FlagUzbekistanIcon height={14.67} width={22} />,\n    },\n\n    {\n        code: 'VI',\n        displayName: 'Ting Vit',\n        icon: <FlagVietnamIcon height={24} width={36} />,\n        placeholderIcon: <FlagVietnamIcon height={12} width={18} />,\n        placeholderIconInMobile: <FlagVietnamIcon height={14.67} width={22} />,\n    },\n    {\n        code: 'ZH_CN',\n        displayName: '',\n        icon: <FlagChinaSimplifiedIcon height={24} width={36} />,\n        placeholderIcon: <FlagChinaSimplifiedIcon height={12} width={18} />,\n        placeholderIconInMobile: <FlagChinaSimplifiedIcon height={14.67} width={22} />,\n    },\n    {\n        code: 'ZH_TW',\n        displayName: '',\n        icon: <FlagChinaTraditionalIcon height={24} width={36} />,\n        placeholderIcon: <FlagChinaTraditionalIcon height={12} width={18} />,\n        placeholderIconInMobile: <FlagChinaTraditionalIcon height={14.67} width={22} />,\n    },\n];\n\n// Filtered languages for the language switcher (only show specific languages)\nexport const FILTERED_LANGUAGES = LANGUAGES.filter(lang =>\n    ['EN', 'ES', 'FR', 'PT', 'AR', 'IT', 'RU'].includes(lang.code)\n);\n",
            "size_bytes": 6347
        },
        "src/external/bot-skeleton/scratch/hooks/constant.js": {
            "content": "/**\n * ENUM for categories.\n * @const\n */\nwindow.Blockly.Categories = {\n    Trade_Definition: 'trade_parameters',\n    Before_Purchase: 'purchase_conditions',\n    During_Purchase: 'sell_conditions',\n    After_Purchase: 'trade_results',\n    Mathematical: 'math',\n    Logic: 'logic',\n    Text: 'text',\n    Variables: 'variables',\n    Functions: 'custom_functions',\n    List: 'lists',\n    Indicators: 'indicators',\n    Time: 'time',\n    Tick_Analysis: 'technical_analysis',\n    Candle: 'candle',\n    Miscellaneous: 'miscellaneous',\n    Loop: 'loops',\n};\nwindow.Blockly.OUTPUT_SHAPE_HEXAGONAL = 1;\nwindow.Blockly.OUTPUT_SHAPE_ROUND = 2;\n\nwindow.Blockly.isNumber = str => {\n    return /^\\s*-?\\d+(\\.\\d+)?\\s*$/.test(str);\n};\n/**\n * Number of pixels the mouse must move before a drag starts.\n */\nwindow.Blockly.DRAG_RADIUS = 3;\n\n/**\n * Number of pixels the mouse must move before a drag/scroll starts from the\n * flyout.  Because the drag-intention is determined when this is reached, it is\n * larger than window.Blockly.DRAG_RADIUS so that the drag-direction is clearer.\n */\nwindow.Blockly.FLYOUT_DRAG_RADIUS = 1;\n\nwindow.Blockly.BlockSvg.SEP_SPACE_X = 8;\n\n// @deriv/bot: Set the minimum width of a statement block to be wider than default.\nwindow.Blockly.BlockSvg.MIN_BLOCK_X_WITH_STATEMENT = 100 * window.Blockly.BlockSvg.GRID_UNIT;\n\n// @deriv/bot: Root block hat replaces with standard rounded corner\nwindow.Blockly.BlockSvg.START_HAT_PATH = `m 0,${window.Blockly.BlockSvg.CORNER_RADIUS} A ${window.Blockly.BlockSvg.CORNER_RADIUS}, ${window.Blockly.BlockSvg.CORNER_RADIUS} 0 0,1 ${window.Blockly.BlockSvg.CORNER_RADIUS},0`;\n\n// @deriv/bot: Changed the height of a row in a statement block to be 10.\nwindow.Blockly.BlockSvg.EXTRA_STATEMENT_ROW_Y = 10 * window.Blockly.BlockSvg.GRID_UNIT;\n\n// @deriv/bot: visual improvement: changed editable field padding from 8 to 16\nwindow.Blockly.BlockSvg.EDITABLE_FIELD_PADDING = 16;\n\nwindow.Blockly.Field.prototype.setText = function (e) {\n    // eslint-disable-next-line no-param-reassign\n    e !== null && (e = String(e)) !== this.text_ && ((this.text_ = e), this.forceRerender());\n};\n\nwindow.Blockly.FieldDropdown.prototype.isEmpty = function () {\n    return this.menuGenerator_.length === 0 || !this.menuGenerator_[0][1];\n};\n\nwindow.Blockly.Xml.NODE_BLOCK = 'BLOCK';\nwindow.Blockly.Xml.NODE_BUTTON = 'BUTTON';\nwindow.Blockly.Xml.NODE_LABEL = 'LABEL';\nwindow.Blockly.Xml.NODE_SHADOW = 'SHADOW';\nwindow.Blockly.Xml.NODE_INPUT = 'INPUT';\n",
            "size_bytes": 2471
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Indicators/bba_statement.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { config } from '../../../../constants/config';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.bba_statement = {\n    protected_statements: ['STATEMENT'],\n    required_child_blocks: ['input_list', 'period', 'std_dev_multiplier_up', 'std_dev_multiplier_down'],\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to Bollinger Bands Array {{ band_type }} {{ dummy }}', {\n                variable: '%1',\n                band_type: '%2',\n                dummy: '%3',\n            }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: 'bba',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'BBRESULT_LIST',\n                    options: config().bbResult,\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STATEMENT',\n                    check: null,\n                },\n            ],\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Calculates Bollinger Bands (BB) list from a list with a period'),\n            previousStatement: null,\n            nextStatement: null,\n            category: window.Blockly.Categories.Indicators,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Bollinger Bands Array (BBA)'),\n            description: localize(\n                'Similar to BB. This block gives you a choice of returning the values of either the lower band, higher band, or the SMA line in the middle.'\n            ),\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    onchange: window.Blockly.Blocks.bb_statement.onchange,\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.bba_statement = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = window.Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        window.Blockly.Variables.CATEGORY_NAME\n    );\n    const bb_result = block.getFieldValue('BBRESULT_LIST');\n    const input = block.childValueToCode('input_list', 'INPUT_LIST');\n    const period = block.childValueToCode('period', 'PERIOD');\n    const std_dev_up = block.childValueToCode('std_dev_multiplier_up', 'UPMULTIPLIER');\n    const std_dev_down = block.childValueToCode('std_dev_multiplier_down', 'DOWNMULTIPLIER');\n    const code = `${var_name} = Bot.bba(${input}, { \n        periods: ${period}, \n        stdDevUp: ${std_dev_up}, \n        stdDevDown: ${std_dev_down} \n    }, ${bb_result});\\n`;\n\n    return code;\n};\n",
            "size_bytes": 3097
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Tick Analysis/ticks.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.ticks = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Ticks list'),\n            output: 'Array',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block gives you a list of the last 1000 tick values.'),\n            category: window.Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Tick list'),\n            description: localize('This block gives you a list of the last 1000 tick values.'),\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.Blocks.ticks_string = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Ticks String List'),\n            output: 'Array',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the list of tick values in string format'),\n            category: window.Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Tick List String'),\n            description: localize('Tick List String Description'),\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    onchange: window.Blockly.Blocks.ticks.onchange,\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.ticks = block => {\n    const parent = block.getParent();\n    const type_list = ['notify', 'text_print'];\n    return [\n        `Bot.getTicks(${type_list.includes(parent?.type)})`,\n        window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC,\n    ];\n};\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.ticks_string = () => [\n    'Bot.getTicks(true)',\n    window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC,\n];\n",
            "size_bytes": 2437
        },
        "src/components/flyout/help-contents/flyout-text.tsx": {
            "content": "import Text from '@/components/shared_ui/text';\n\nconst FlyoutText = (props: { text: string }) => {\n    const { text } = props;\n\n    return (\n        <Text as='p' size='xs' styles={{ lineHeight: '1.3em' }}>\n            {text}\n        </Text>\n    );\n};\n\nexport default FlyoutText;\n",
            "size_bytes": 279
        },
        "src/external/bot-skeleton/scratch/hooks/gesture.js": {
            "content": "/**\n * Update this gesture to record whether a block is being dragged from the\n * flyout. This function should be called on a mouse/touch move event the first time the\n * drag radius is exceeded.  It should be called no more than once per gesture.\n * If a block should be dragged from the flyout this function creates the new\n * block on the main workspace and updates targetBlock_ and startWorkspace_.\n * @return {boolean} True if a block is being dragged from the flyout.\n * @private\n */\nwindow.Blockly.Gesture.prototype.updateIsDraggingFromFlyout = function () {\n    // Disabled blocks may not be dragged from the flyout.\n    if (this.targetBlock.disabled) {\n        return false;\n    }\n\n    if (!this.flyout.isScrollable() || this.flyout.isDragTowardWorkspace(this.currentDragDeltaXY)) {\n        this.startWorkspace_ = this.flyout.targetWorkspace;\n        this.startWorkspace_.updateScreenCalculationsIfScrolled();\n\n        // Start the event group now, so that the same event group is used for block\n        // creation and block dragging.\n        if (!window.Blockly.Events.getGroup()) {\n            window.Blockly.Events.setGroup(true);\n        }\n\n        // This is done because when this flag is set to true inside Blockly,\n        // the handleMove function is called, which also triggers handleTouchMove\n        // if the flag is false. This method wont be called everything will be handled in handleMove.\n        const is_mobile = window.innerWidth < 768;\n        if (is_mobile) this.isMultiTouch_ = false;\n\n        // The start block is no longer relevant, because this is a drag.\n        this.startBlock.workspace.clearGesture();\n        this.startBlock = null;\n        this.targetBlock = this.flyout.createBlock(this.mostRecentEvent, this.targetBlock);\n        this.targetBlock.select();\n        return true;\n    }\n    return false;\n};\n",
            "size_bytes": 1851
        },
        "src/components/transaction-details/desktop-transaction-table.tsx": {
            "content": "import { ReactElement } from 'react';\nimport classNames from 'classnames';\nimport ContentLoader from 'react-content-loader';\nimport { transaction_elements } from '@/constants/transactions';\nimport { getContractTypeName } from '@/external/bot-skeleton';\nimport { isDbotRTL } from '@/external/bot-skeleton/utils/workspace';\nimport { getSymbolDisplayNameSync } from '@/utils/symbol-display-name';\nimport { MarketIcon } from '../market/market-icon';\nimport { convertDateFormat } from '../shared';\nimport Popover from '../shared_ui/popover';\nimport { TradeTypeIcon } from '../trade-type/trade-type-icon';\nimport { TColumn, TDesktopTransactionTable, TTableCell } from './transaction-details.types';\n\nconst PARENT_CLASS = 'transaction-details-modal-desktop';\n\nconst TableCell = ({ label, extra_classes = [], loader = false }: TTableCell) => {\n    return (\n        <div className={classNames(`${PARENT_CLASS}__table-cell`, ...extra_classes)}>\n            {loader ? <CellLoader /> : label}\n        </div>\n    );\n};\n\nconst TableHeader = ({ columns }: { columns: TColumn[] }) => (\n    <div className={classNames(`${PARENT_CLASS}__table-row`, `${PARENT_CLASS}__table-header`)}>\n        {columns?.map(column => (\n            <TableCell\n                key={column.key}\n                extra_classes={[column.extra_class ? `${PARENT_CLASS}__table-cell${column.extra_class}` : '']}\n                label={column.label}\n                loader={false}\n            />\n        ))}\n    </div>\n);\n\nconst IconWrapper = ({ message, icon }: { message: string; icon: ReactElement }) => (\n    <div className={`${PARENT_CLASS}__icon-wrapper`}>\n        <Popover alignment={isDbotRTL() ? 'right' : 'left'} message={message} zIndex='9999'>\n            {icon}\n        </Popover>\n    </div>\n);\n\nconst CellLoader = () => (\n    <ContentLoader\n        className='transactions__loader-text'\n        data-testid='transaction_details_table_cell_loader'\n        height={10}\n        width={30}\n        speed={3}\n        backgroundColor={'var(--general-section-2)'}\n        foregroundColor={'var(--general-hover)'}\n    >\n        <rect x='0' y='0' rx='0' ry='0' width='60' height='12' />\n    </ContentLoader>\n);\n\nexport default function DesktopTransactionTable({\n    result,\n    result_columns,\n    transactions,\n    transaction_columns,\n    account,\n    balance,\n}: TDesktopTransactionTable) {\n    return (\n        <div data-testid='transaction_details_tables' className='transaction-details-tables'>\n            <div\n                className={classNames(\n                    `${PARENT_CLASS}__table-container`,\n                    `${PARENT_CLASS}__table-container__top-table`\n                )}\n            >\n                <TableHeader columns={transaction_columns} />\n                {transactions?.map(transaction => {\n                    const { data, type } = transaction;\n                    if (type === transaction_elements.CONTRACT) {\n                        return (\n                            <div className={`${PARENT_CLASS}__table-row`} key={data?.transaction_ids?.buy}>\n                                <TableCell\n                                    label={\n                                        data?.date_start &&\n                                        convertDateFormat(\n                                            data?.date_start,\n                                            'YYYY-M-D HH:mm:ss [GMT]',\n                                            'YYYY-MM-DD HH:mm:ss [GMT]'\n                                        )\n                                    }\n                                    extra_classes={[`${PARENT_CLASS}__table-cell--grow-big`]}\n                                />\n                                <TableCell\n                                    label={data?.transaction_ids?.buy}\n                                    extra_classes={[`${PARENT_CLASS}__table-cell--grow-mid`]}\n                                />\n                                <TableCell\n                                    label={\n                                        <IconWrapper\n                                            message={\n                                                data?.display_name ||\n                                                getSymbolDisplayNameSync(data?.underlying_symbol || '')\n                                            }\n                                            icon={<MarketIcon type={data?.underlying_symbol} size='sm' />}\n                                        />\n                                    }\n                                />\n                                <TableCell\n                                    label={\n                                        <IconWrapper\n                                            message={getContractTypeName(data)}\n                                            icon={<TradeTypeIcon type={data?.contract_type} size='sm' />}\n                                        />\n                                    }\n                                />\n                                <TableCell label={data?.entry_spot} loader={!data?.entry_spot} />\n                                <TableCell label={data?.exit_spot} loader={!data.exit_spot} />\n                                <TableCell label={Math.abs(data?.buy_price ?? 0).toFixed(2)} />\n                                <TableCell\n                                    label={\n                                        <div\n                                            className={classNames({\n                                                [`${PARENT_CLASS}__profit--win`]: data?.profit > 0,\n                                                [`${PARENT_CLASS}__profit--loss`]: data?.profit < 0,\n                                            })}\n                                        >\n                                            {Math.abs(data?.profit ?? 0).toFixed(2)}\n                                        </div>\n                                    }\n                                    loader={!data.is_completed}\n                                />\n                            </div>\n                        );\n                    }\n\n                    return (\n                        <div className={`${PARENT_CLASS}__table-row`} key={`transaction-row-divider-${data}`}>\n                            <div className={`${PARENT_CLASS}__divider`}>\n                                <div className='transactions__divider-line' />\n                            </div>\n                        </div>\n                    );\n                })}\n            </div>\n            <div\n                className={classNames(\n                    `${PARENT_CLASS}__table-container`,\n                    `${PARENT_CLASS}__table-container__bottom-table`\n                )}\n            >\n                <TableHeader columns={result_columns} />\n                <div className={`${PARENT_CLASS}__table-row`}>\n                    <TableCell label={account} extra_classes={[`${PARENT_CLASS}__table-cell--grow-mid`]} />\n                    <TableCell label={result?.number_of_runs} />\n                    <TableCell label={Math.abs(result?.total_stake ?? 0).toFixed(2)} />\n                    <TableCell label={Math.abs(result?.total_payout ?? 0).toFixed(2)} />\n                    <TableCell label={result?.won_contracts} />\n                    <TableCell label={result?.lost_contracts} extra_classes={[`${PARENT_CLASS}__loss`]} />\n                    <TableCell\n                        label={\n                            <div\n                                className={classNames(\n                                    result?.total_profit && {\n                                        [`${PARENT_CLASS}__profit--win`]: result?.total_profit > 0,\n                                        [`${PARENT_CLASS}__profit--loss`]: result?.total_profit < 0,\n                                    }\n                                )}\n                                data-testid='transaction_details_table_profit'\n                            >\n                                {Math.abs(result?.total_profit ?? 0).toFixed(2)}\n                            </div>\n                        }\n                    />\n                    <TableCell label={balance} />\n                </div>\n            </div>\n        </div>\n    );\n}\n",
            "size_bytes": 8276
        },
        "src/external/bot-skeleton/utils/date-time-helper.js": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport const timeSince = timestamp => {\n    const now = new Date();\n    const secondPast = (now.getTime() - timestamp) / 1000;\n\n    if (secondPast < 60) {\n        return localize('{{secondPast}}s ago', { secondPast: parseInt(secondPast) });\n    }\n    if (secondPast < 3600) {\n        return localize('{{minutePast}}m ago', { minutePast: parseInt(secondPast / 60) });\n    }\n    if (secondPast <= 86400) {\n        return localize('{{hourPast}}h ago', { hourPast: parseInt(secondPast / 3600) });\n    }\n\n    const timestampDate = new Date(timestamp);\n    const day = timestampDate.getDate();\n    const month = timestampDate\n        .toDateString()\n        .match(/ [a-zA-Z]*/)[0]\n        .replace(' ', '');\n    const year = `${timestampDate.getFullYear() === now.getFullYear() ? '' : ' '}${timestampDate.getFullYear()}`;\n    return `${day} ${month}${year}`;\n};\n",
            "size_bytes": 910
        },
        "src/components/shared_ui/contract-card/contract-card-items/contract-card-item.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\n\nexport type TContractCardItemProps = {\n    className: string;\n    header: string;\n    is_crypto: boolean;\n    is_loss: boolean;\n    is_won: boolean;\n};\n\nconst ContractCardItem = ({\n    className,\n    children,\n    header,\n    is_crypto,\n    is_loss,\n    is_won,\n}: React.PropsWithChildren<Partial<TContractCardItemProps>>) => {\n    return (\n        <div className={classNames('dc-contract-card-item', className)}>\n            <div className='dc-contract-card-item__header'>{header}</div>\n            <div\n                className={classNames('dc-contract-card-item__body', {\n                    'dc-contract-card-item__body--crypto': is_crypto,\n                    'dc-contract-card-item__body--loss': is_loss,\n                    'dc-contract-card-item__body--profit': is_won,\n                })}\n            >\n                {children}\n            </div>\n        </div>\n    );\n};\n\nexport default ContractCardItem;\n",
            "size_bytes": 983
        },
        "src/components/shared_ui/expansion-panel/array-renderer.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { Icon } from '@/utils/tmp/dummy';\nimport { TItem } from '../types/common.types';\n\ntype TArrayRenderer = {\n    array: Array<TItem>;\n    open_ids: Array<string>;\n    setOpenIds: (props: Array<string>) => void;\n};\n\nconst ArrayRenderer = ({ array, open_ids, setOpenIds }: TArrayRenderer) => {\n    const onArrayItemClick = (id: string) => {\n        if (open_ids.includes(id)) {\n            setOpenIds(open_ids.filter(open_id => open_id !== id));\n        } else {\n            setOpenIds([...open_ids, id]);\n        }\n    };\n\n    return (\n        <React.Fragment>\n            {array.map((item, index) => {\n                if (Array.isArray(item?.value)) {\n                    return (\n                        <div key={index} className='dc-expansion-panel__content-array'>\n                            <div\n                                className={classNames('dc-expansion-panel__content-array', {\n                                    'dc-expansion-panel__content-active': open_ids.includes(item.id),\n                                })}\n                            >\n                                <span className='dc-expansion-panel__content-array-item-index'>{`${index + 1}: `}</span>\n                                ({`${item.value.length}`})\n                                <Icon\n                                    className='dc-expansion-panel__content-chevron-icon'\n                                    icon='IcChevronRight'\n                                    onClick={() => onArrayItemClick(item.id)}\n                                />\n                            </div>\n                            {open_ids.includes(item.id) ? (\n                                <ArrayRenderer array={item.value} open_ids={open_ids} setOpenIds={setOpenIds} />\n                            ) : null}\n                        </div>\n                    );\n                }\n                return (\n                    <div key={index} className='dc-expansion-panel__content-array'>\n                        <span className='dc-expansion-panel__content-array-item-index'>{`${index + 1}: `}</span>\n                        {item?.value?.toString()}\n                    </div>\n                );\n            })}\n        </React.Fragment>\n    );\n};\n\nexport default ArrayRenderer;\n",
            "size_bytes": 2329
        },
        "src/external/bot-skeleton/scratch/blocks/Math/math_modulo.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../utils';\n\nwindow.Blockly.Blocks.math_modulo = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('remainder of {{ number1 }}  {{ number2 }}', {\n                number1: '%1',\n                number2: '%2',\n            }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'DIVIDEND',\n                    check: 'Number',\n                },\n                {\n                    type: 'input_value',\n                    name: 'DIVISOR',\n                    check: 'Number',\n                },\n            ],\n            inputsInline: true,\n            output: 'Number',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the remainder after a division'),\n            category: window.Blockly.Categories.Mathematical,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    meta() {\n        return {\n            display_name: localize('Remainder after division'),\n            description: localize('Returns the remainder after the division of the given numbers.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            DIVIDEND: null,\n            DIVISOR: null,\n        };\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.math_modulo = block => {\n    const argument0 =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'DIVIDEND',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_MODULUS\n        ) || '0';\n    const argument1 =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'DIVISOR',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_MODULUS\n        ) || '0';\n\n    const code = `${argument0} % ${argument1}`;\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_MODULUS];\n};\n",
            "size_bytes": 2277
        },
        "src/hooks/useTrackjs.ts": {
            "content": "import { TrackJS } from 'trackjs';\n\nconst { TRACKJS_TOKEN } = process.env;\n\n/**\n * Custom hook to initialize TrackJS.\n * @returns {Object} An object containing the `init` function.\n */\nconst useTrackjs = () => {\n    const isProduction = process.env.APP_ENV === 'production';\n    const trackjs_version = process.env.REF_NAME ?? 'undefined';\n\n    const initTrackJS = (loginid: string) => {\n        try {\n            if (!TrackJS.isInstalled()) {\n                TrackJS.install({\n                    application: 'derivatives-bot',\n                    dedupe: false,\n                    enabled: isProduction,\n                    token: TRACKJS_TOKEN!,\n                    userId: loginid,\n                    version:\n                        (document.querySelector('meta[name=version]') as HTMLMetaElement)?.content ?? trackjs_version,\n                });\n            }\n        } catch (error) {\n            // eslint-disable-next-line no-console\n            console.error('Failed to initialize TrackJS', error);\n        }\n    };\n\n    return { initTrackJS };\n};\n\nexport default useTrackjs;\n",
            "size_bytes": 1090
        },
        "src/components/layout/header/utils/index.js": {
            "content": "export const HUB_ENABLED_COUNTRY_LIST = () => [\n    'bs',\n    'tw',\n    'rs',\n    'am',\n    'pg',\n    'gn',\n    'al',\n    'gd',\n    'sr',\n    'gy',\n    'mk',\n    'td',\n    'is',\n    'gm',\n    'ad',\n    'cv',\n    'mr',\n    'bz',\n    'sc',\n    'cf',\n    'aq',\n    'dz',\n    'tm',\n    'gp',\n    'kn',\n    'lc',\n    'fj',\n    'gg',\n    'bt',\n    'km',\n    'mc',\n    'pw',\n    'sb',\n    'gl',\n    'dm',\n    'sv',\n    'ge',\n    'kw',\n    'kg',\n    'ax',\n    'vg',\n    'aw',\n    're',\n    'cw',\n    'mq',\n    'gf',\n    'pf',\n    'ms',\n    'me',\n    'ai',\n    'bm',\n    'tc',\n    'mo',\n    'io',\n    'nu',\n    'yt',\n    'sx',\n    'cn',\n    'va',\n    'mf',\n    'ki',\n    'gi',\n    'er',\n    'tk',\n    'st',\n    'sm',\n    'wf',\n    'cx',\n    'nf',\n    'cc',\n    'to',\n    'fo',\n    'eh',\n    'mh',\n    'sh',\n    'pn',\n    'fm',\n    'gl',\n    'rk',\n    'li',\n    'nr',\n    'pm',\n    'mx',\n    'au',\n    'bo',\n    'do',\n    'eg',\n];\n\nexport const LOW_RISK_COUNTRIES = () => ['za', 'ec', 'bw'];\n",
            "size_bytes": 982
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Indicators/rsi_statement.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.rsi_statement = {\n    protected_statements: ['STATEMENT'],\n    required_child_blocks: ['input_list', 'period'],\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to Relative Strength Index {{ dummy }}', {\n                variable: '%1',\n                dummy: '%2',\n            }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: 'rsi',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STATEMENT',\n                    check: null,\n                },\n            ],\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Relative Strength Index (RSI) from a list with a period'),\n            previousStatement: null,\n            nextStatement: null,\n            category: window.Blockly.Categories.Indicators,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Relative Strength Index (RSI)'),\n            description: localize(\n                'RSI is a technical analysis tool that helps you identify the market trend. It will give you a value from 0 to 100. An RSI value of 70 and above means that the asset is overbought and the current trend may reverse, while a value of 30 and below means that the asset is oversold.'\n            ),\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    onchange: window.Blockly.Blocks.bb_statement.onchange,\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.rsi_statement = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = window.Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        window.Blockly.Variables.CATEGORY_NAME\n    );\n    const input = block.childValueToCode('input_list', 'INPUT_LIST');\n    const period = block.childValueToCode('period', 'PERIOD');\n    const code = `${var_name} = Bot.rsi(${input}, ${period});\\n`;\n\n    return code;\n};\n",
            "size_bytes": 2550
        },
        "src/components/shared_ui/page-overlay/index.ts": {
            "content": "import PageOverlay from './page-overlay';\nimport './page-overlay.scss';\n\nexport default PageOverlay;\n",
            "size_bytes": 101
        },
        "src/external/bot-skeleton/scratch/index.js": {
            "content": "import './index.scss';\n\nexport {\n    load,\n    runGroupedEvents,\n    runIrreversibleEvents,\n    save,\n    scrollWorkspace,\n    updateWorkspaceName,\n} from './utils/index';\n",
            "size_bytes": 172
        },
        "src/pages/dashboard/bot-list/delete-dialog/index.ts": {
            "content": "import DeleteDialog from './delete-dialog';\n\nexport default DeleteDialog;\n",
            "size_bytes": 74
        },
        "src/external/bot-skeleton/services/tradeEngine/utils/sanitize.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { createError } from '../../../utils/error';\n\nconst isPositiveNumber = num => Number.isFinite(num) && num > 0;\n\nconst isPositiveInteger = num => isPositiveNumber(num) && Number.isInteger(num);\n\nexport const expectPositiveInteger = (num, msg) => {\n    if (!isPositiveInteger(num)) {\n        throw createError('PositiveIntegerExpected', msg);\n    }\n    return num;\n};\n\nconst expectOptions = options => {\n    const { symbol, contractTypes } = options;\n\n    if (!symbol) {\n        throw createError('OptionError', localize('Underlying market is not selected'));\n    }\n\n    if (!contractTypes[0]) {\n        throw createError('OptionError', localize('Contract type is not selected'));\n    }\n};\n\nexport const expectInitArg = args => {\n    const [token, options] = args;\n\n    if (!token) {\n        throw createError('LoginError', localize('Please login'));\n    }\n\n    expectOptions(options);\n\n    return args;\n};\n\nconst isCandle = candle =>\n    candle instanceof Object &&\n    ['open', 'high', 'low', 'close'].every(key => isPositiveNumber(candle[key])) &&\n    isPositiveInteger(candle.epoch);\n\nexport const expectCandle = candle => {\n    if (!isCandle(candle)) {\n        throw createError('CandleExpected', localize('Given candle is not valid'));\n    }\n    return candle;\n};\n\nexport const expectCandles = candles => {\n    if (!(candles instanceof Array) || !candles.every(c => isCandle(c))) {\n        throw createError('CandleListExpected', localize('Given candle list is not valid'));\n    }\n    return candles;\n};\n",
            "size_bytes": 1567
        },
        "src/external/bot-skeleton/scratch/blocks/Text/text_append.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { emptyTextValidator, modifyContextMenu } from '../../utils';\n\nwindow.Blockly.Blocks.text_append = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('to {{ variable }} append text {{ input_text }}', {\n                variable: '%1',\n                input_text: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VAR',\n                    variable: localize('text'),\n                },\n                {\n                    type: 'input_value',\n                    name: 'TEXT',\n                },\n            ],\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Appends a given text to a variable'),\n            category: window.Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Text Append'),\n            description: localize('Appends a given text to a variable.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            TEXT: emptyTextValidator,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.text_append = block => {\n    const forceString = value => {\n        const strRegExp = /^\\s*'([^']|\\\\')*'\\s*$/;\n        if (strRegExp.test(value)) {\n            return value;\n        }\n        return `String(${value})`;\n    };\n\n    // eslint-disable-next-line no-underscore-dangle\n    const varName = window.Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VAR'),\n        window.Blockly.Variables.CATEGORY_NAME\n    );\n    const value =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'TEXT',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_NONE\n        ) || \"''\";\n\n    const code = `${varName} += ${forceString(value)};\\n`;\n    return code;\n};\n",
            "size_bytes": 2281
        },
        "src/external/indicators/utils/math.js": {
            "content": "// eslint-disable-next-line no-confusing-arrow\nexport const takeField = (arr, field) => arr.map(x => (field ? x[field] : x));\n\nexport const takeLast = (arr, n, field) => takeField(arr.slice(n > arr.length ? 0 : arr.length - n, arr.length), field);\n\nexport const sum = data => data.reduce((acc, x) => acc + x, 0);\n\nexport const mean = data => data.reduce((a, b) => a + b, 0) / data.length;\n\nexport const stddev = data => {\n    const data_mean = mean(data);\n    const sq_diff = data.map(n => (n - data_mean) ** 2);\n    const avg_sq_diff = mean(sq_diff);\n    return Math.sqrt(avg_sq_diff);\n};\n",
            "size_bytes": 590
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Trade Definition/index.js": {
            "content": "import './trade_definition';\nimport './trade_definition_market';\nimport './trade_definition_tradetype';\nimport './trade_definition_contracttype';\nimport './trade_definition_candleinterval';\nimport './trade_definition_restartbuysell';\nimport './trade_definition_restartonerror';\nimport './trade_definition_tradeoptions';\nimport './trade_definition_multiplier';\nimport './multiplier_stop_loss';\nimport './accumulator_take_profit';\nimport './multiplier_take_profit';\nimport './trade_definition_accumulator';\n",
            "size_bytes": 505
        },
        "src/components/shared_ui/button/button_loading.tsx": {
            "content": "import Loading, { TLoadingProps } from '../loading/loading';\n\nimport '../loading/loading.scss';\n\nconst ButtonLoading = (\n    props: Omit<TLoadingProps, 'is_fullscreen' | 'className' | 'is_slow_loading' | 'status' | 'theme'>\n) => {\n    return <Loading {...props} is_fullscreen={false} className='initial-loader--btn' />;\n};\n\nexport default ButtonLoading;\n",
            "size_bytes": 354
        },
        "src/components/shared/styles/index.js": {
            "content": "const path = require('path');\n\nconst resources = ['_constants.scss', '_mixins.scss', '_fonts.scss', '_inline-icons.scss', '_devices.scss'];\n\nmodule.exports = resources.map(file => path.resolve(__dirname, file));\n",
            "size_bytes": 212
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Before Purchase/before_purchase.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { appendCollapsedMainBlocksFields, excludeOptionFromContextMenu, modifyContextMenu } from '../../../utils';\nimport { purchase } from '../../images';\n\nwindow.Blockly.Blocks.before_purchase = {\n    init() {\n        this.jsonInit(this.definition());\n        this.setDeletable(false);\n    },\n    definition() {\n        return {\n            message0: '%1 %2 %3',\n            message1: '%1',\n            message2: '%1',\n            args0: [\n                {\n                    type: 'field_image',\n                    src: purchase,\n                    width: 25,\n                    height: 25,\n                    alt: 'P',\n                },\n                {\n                    type: 'field_label',\n                    text: localize('2. Purchase conditions'),\n                    class: 'blocklyTextRootBlockHeader',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'BEFOREPURCHASE_STACK',\n                    check: 'Purchase',\n                },\n            ],\n            args2: [\n                {\n                    type: 'field_image',\n                    src: ' ', // this is here to add extra padding\n                    width: 380,\n                    height: 10,\n                },\n            ],\n            colour: window.Blockly.Colours.RootBlock.colour,\n            colourSecondary: window.Blockly.Colours.RootBlock.colourSecondary,\n            colourTertiary: window.Blockly.Colours.RootBlock.colourTertiary,\n            tooltip: localize('Specify contract type and purchase conditions.'),\n            category: window.Blockly.Categories.Before_Purchase,\n        };\n    },\n    onchange(event) {\n        if (\n            event.type === window.Blockly.Events.BLOCK_CHANGE ||\n            (event.type === window.Blockly.Events.BLOCK_DRAG && !event.isStart)\n        ) {\n            if (this.isCollapsed()) {\n                appendCollapsedMainBlocksFields(this);\n            }\n        }\n    },\n    customContextMenu(menu) {\n        const menu_items = [localize('Enable Block'), localize('Disable Block')];\n        excludeOptionFromContextMenu(menu, menu_items);\n        modifyContextMenu(menu);\n    },\n    meta() {\n        return {\n            display_name: localize('Purchase conditions'),\n            description: localize(\n                'This block is mandatory. Only one copy of this block is allowed. You can place the Purchase block (see below) here as well as conditional blocks to define your purchase conditions.'\n            ),\n        };\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.before_purchase = block => {\n    const stack = window.Blockly.JavaScript.javascriptGenerator.statementToCode(block, 'BEFOREPURCHASE_STACK');\n\n    const code = `BinaryBotPrivateBeforePurchase = function BinaryBotPrivateBeforePurchase() {\n        Bot.highlightBlock('${block.id}');\n        ${stack}\n    };\\n`;\n    return code;\n};\n",
            "size_bytes": 3090
        },
        "src/utils/help-content/help-strings/during_purchase.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize(\n            'Here is where you can decide to sell your contract before it expires. Only one copy of this block is allowed.'\n        ),\n        localize('Example:'),\n    ],\n};\n",
            "size_bytes": 281
        },
        "src/components/flyout/flyout-block-group.tsx": {
            "content": "import classNames from 'classnames';\nimport { browserOptimizer } from '@/utils/browser-performance-optimizer';\nimport { clickRateLimiter } from '@/utils/click-rate-limiter';\nimport { LabelPairedPlusLgFillIcon } from '@deriv/quill-icons/LabelPaired';\nimport { Localize } from '@deriv-com/translations';\nimport Button from '../shared_ui/button';\nimport Text from '../shared_ui/text';\nimport FlyoutBlock from './flyout-block';\n\ntype TFlyoutBlockGroup = {\n    onInfoClick: () => void;\n    block_node: Element;\n    is_active: boolean;\n    should_hide_display_name: boolean;\n};\n\nconst FlyoutBlockGroup = ({ onInfoClick, block_node, is_active, should_hide_display_name }: TFlyoutBlockGroup) => {\n    const block_type = (block_node.getAttribute('type') || '') as string;\n    const block_meta = window.Blockly.Blocks[block_type].meta();\n    const is_variables_get = block_type === 'variables_get';\n    const is_variables_set = block_type === 'variables_set';\n    const { display_name, description } = block_meta;\n\n    const AddButton = () => (\n        <div className='flyout__item-buttons'>\n            <Button\n                id={`db-flyout__add--${block_type}`}\n                data-testid={`dt_flyout__add_${block_type}`}\n                className='flyout__button-add flyout__button-add--hide'\n                has_effect\n                is_plus\n                onClick={() => {\n                    // Safari-specific rate limiting and operation queuing for block additions with reduced lag\n                    if (browserOptimizer.isSafariBrowser() && !clickRateLimiter.canClick()) {\n                        console.warn('Block add click rate limit exceeded');\n                        return;\n                    }\n\n                    const executeBlockAdd = () => {\n                        if (block_type === 'trade_definition') {\n                            const has_trade_definition = window.Blockly.derivWorkspace\n                                .getAllBlocks()\n                                .some(block => block.type === 'trade_definition');\n\n                            if (has_trade_definition) {\n                                window.Blockly.derivWorkspace.addBlockNode(null);\n                                return;\n                            }\n                        }\n                        window.Blockly.derivWorkspace.addBlockNode(block_node);\n                    };\n\n                    // Only queue operations for Safari/Firefox, execute directly for Chrome\n                    if (browserOptimizer.needsPerformanceOptimization()) {\n                        const operationId = `flyout-add-block-${block_type}`;\n                        browserOptimizer.queueOperation(operationId, executeBlockAdd);\n                    } else {\n                        executeBlockAdd();\n                    }\n                }}\n                type='button'\n            >\n                <LabelPairedPlusLgFillIcon height='24px' width='24px' fill='var(--text-general)' />\n            </Button>\n        </div>\n    );\n\n    return (\n        <>\n            {is_variables_set && <div className='flyout__hr' />}\n            <div className={classNames('flyout__item', { 'flyout__item--active': is_active })}>\n                {!should_hide_display_name && (\n                    <>\n                        <div className='flyout__item-header'>\n                            <Text\n                                size={is_variables_get ? 'xs' : 'xsm'}\n                                lineHeight={is_variables_get ? undefined : 'xl'}\n                                weight={is_variables_get ? undefined : 'bold'}\n                            >\n                                {display_name}\n                            </Text>\n                            {!is_variables_get && <AddButton />}\n                        </div>\n                        <div className='flyout__item-description'>\n                            {description}\n                            {onInfoClick && (\n                                <a\n                                    id={display_name.replace(/\\s/gi, '-')}\n                                    className='flyout__item-info'\n                                    onClick={() => {\n                                        // Safari-specific rate limiting for info clicks with reduced lag\n                                        if (browserOptimizer.isSafariBrowser() && !clickRateLimiter.canClick()) {\n                                            console.warn('Info click rate limit exceeded');\n                                            return;\n                                        }\n\n                                        // Only queue operations for Safari/Firefox, execute directly for Chrome\n                                        if (browserOptimizer.needsPerformanceOptimization()) {\n                                            const operationId = `flyout-info-${block_type}`;\n                                            browserOptimizer.queueOperation(operationId, () => {\n                                                onInfoClick();\n                                            });\n                                        } else {\n                                            onInfoClick();\n                                        }\n                                    }}\n                                >\n                                    <Localize i18n_default_text='Learn more' />\n                                </a>\n                            )}\n                        </div>\n                    </>\n                )}\n                <div className='flyout__block-workspace__header'>\n                    <FlyoutBlock block_node={block_node} should_hide_display_name />\n                    {is_variables_get && <AddButton />}\n                </div>\n            </div>\n        </>\n    );\n};\n\nexport default FlyoutBlockGroup;\n",
            "size_bytes": 5861
        },
        "src/components/journal/journal-components/format-message.tsx": {
            "content": "import classnames from 'classnames';\nimport { formatMoney, getCurrencyDisplayCode } from '@/components/shared';\nimport Text from '@/components/shared_ui/text';\nimport { LogTypes } from '@/external/bot-skeleton';\nimport { Localize, localize } from '@deriv-com/translations';\nimport { TFormatMessageProps } from '../journal.types';\n\nconst FormatMessage = ({ logType, className, extra }: TFormatMessageProps) => {\n    const getLogMessage = () => {\n        switch (logType) {\n            case LogTypes.LOAD_BLOCK: {\n                return localize('Blocks are loaded successfully');\n            }\n            case LogTypes.NOT_OFFERED: {\n                return localize('Resale of this contract is not offered.');\n            }\n            case LogTypes.PURCHASE: {\n                const { longcode, transaction_id } = extra;\n                return (\n                    <Localize\n                        i18n_default_text='<0>Bought</0>: {{longcode}} (ID: {{transaction_id}})'\n                        values={{ longcode, transaction_id }}\n                        components={[<Text key={0} size='xxs' styles={{ color: 'var(--status-info)' }} />]}\n                        options={{ interpolation: { escapeValue: false } }}\n                    />\n                );\n            }\n            case LogTypes.SELL: {\n                const { sold_for } = extra;\n                return (\n                    <Localize\n                        i18n_default_text='<0>Sold for</0>: {{sold_for}}'\n                        values={{ sold_for }}\n                        components={[<Text key={0} size='xxs' styles={{ color: 'var(--status-warning)' }} />]}\n                    />\n                );\n            }\n            case LogTypes.PROFIT: {\n                const { currency, profit } = extra;\n                return (\n                    <Localize\n                        i18n_default_text='Profit amount: <0>{{profit}}</0>'\n                        values={{\n                            profit: `${formatMoney(currency, profit, true)} ${getCurrencyDisplayCode(currency)}`,\n                        }}\n                        components={[<Text key={0} size='xxs' styles={{ color: 'var(--status-success)' }} />]}\n                    />\n                );\n            }\n            case LogTypes.LOST: {\n                const { currency, profit } = extra;\n                return (\n                    <Localize\n                        i18n_default_text='Loss amount: <0>{{profit}}</0>'\n                        values={{\n                            profit: `${formatMoney(currency, profit, true)} ${getCurrencyDisplayCode(currency)}`,\n                        }}\n                        components={[<Text key={0} size='xxs' styles={{ color: 'var(--status-danger)' }} />]}\n                    />\n                );\n            }\n            case LogTypes.WELCOME_BACK: {\n                const { current_currency } = extra;\n                if (current_currency)\n                    return (\n                        <Localize\n                            i18n_default_text='Welcome back! Your messages have been restored. You are using your {{current_currency}} account.'\n                            values={{\n                                current_currency,\n                            }}\n                        />\n                    );\n                return <Localize i18n_default_text='Welcome back! Your messages have been restored.' />;\n            }\n\n            case LogTypes.WELCOME: {\n                const { current_currency } = extra;\n                if (current_currency)\n                    return (\n                        <Localize\n                            i18n_default_text='You are using your {{current_currency}} account.'\n                            values={{\n                                current_currency,\n                            }}\n                        />\n                    );\n                break;\n            }\n            default:\n                return null;\n        }\n    };\n\n    return <div className={classnames('journal__text', className)}>{getLogMessage()}</div>;\n};\n\nexport default FormatMessage;\n",
            "size_bytes": 4131
        },
        "src/components/shared/utils/brand/brand.ts": {
            "content": "import config_data from '../../../../../brand.config.json';\n\ntype TPlatform = {\n    name: string;\n    icon: string;\n};\n\ntype TPlatformAppstore = {\n    name: string;\n    icon: string;\n    availability: string;\n};\n\ntype TPlatforms = {\n    ctrader: TPlatform;\n    trader: TPlatform;\n    dbot: TPlatform;\n    mt5: TPlatform;\n    dxtrade: TPlatform;\n    smarttrader: TPlatform;\n    bbot: TPlatform;\n    go: TPlatform;\n};\n\ntype TPlatformsAppstore = {\n    ctrader: TPlatformAppstore;\n    trader: TPlatformAppstore;\n    dbot: TPlatformAppstore;\n    smarttrader: TPlatformAppstore;\n    bbot: TPlatformAppstore;\n    go: TPlatformAppstore;\n};\n\nconst isDomainAllowed = (domain_name: string) => {\n    // This regex will match any official deriv production and testing domain names.\n    // Allowed deriv domains: localhost, binary.sx, binary.com, deriv.com, deriv.be, deriv.me and their subdomains.\n    return /^(((.*)\\.)?(localhost:8444|pages.dev|binary\\.(sx|com)|deriv.(com|me|be|dev)))$/.test(domain_name);\n};\n\nexport const getBrandWebsiteName = () => {\n    return config_data.domain_name;\n};\n\nexport const getPlatformSettings = (platform_key: keyof TPlatforms): TPlatform => {\n    const allowed_config_data = config_data.platforms[platform_key];\n\n    if (!isDomainAllowed(window.location.host)) {\n        // Remove all official platform logos if the app is hosted under unofficial domain\n        allowed_config_data.icon = '';\n    }\n\n    return allowed_config_data;\n};\n\nexport const getAppstorePlatforms = () => {\n    const platform_data: Record<string, Record<string, string>> = config_data.platforms_appstore;\n    return Object.keys(platform_data).map(key => platform_data[key]);\n};\n\nexport const getPlatformSettingsAppstore = (platform_key: keyof TPlatformsAppstore): TPlatformAppstore => {\n    return config_data.platforms_appstore[platform_key];\n};\n",
            "size_bytes": 1844
        },
        "src/components/transaction-details/transaction-details-desktop.tsx": {
            "content": "import React from 'react';\nimport { observer } from 'mobx-react-lite';\nimport DraggableResizeWrapper from '@/components/draggable/draggable-resize-wrapper';\nimport { useStore } from '@/hooks/useStore';\nimport { localize } from '@deriv-com/translations';\nimport DesktopTransactionTable from './desktop-transaction-table';\nimport { TColumn, TRunPanelStore, TTransactionStore } from './transaction-details.types';\nimport './transaction-details-desktop.scss';\n\nconst transaction_columns = (): TColumn[] => [\n    { key: 'timestamp', label: localize('Timestamp'), extra_class: '--grow-big' },\n    { key: 'reference', label: localize('Reference'), extra_class: '--grow-mid' },\n    { key: 'market', label: localize('Market') },\n    { key: 'contract_type', label: localize('Trade type') },\n    { key: 'entry_spot', label: localize('Entry spot') },\n    { key: 'exit_spot', label: localize('Exit spot') },\n    { key: 'buy_price', label: localize('Buy price') },\n    { key: 'profit', label: localize('Profit/Loss') },\n];\n\n/* TODO: Add back account & balance when we have support from transaction store */\nconst result_columns = (): TColumn[] => [\n    { key: 'account', label: localize('Account'), extra_class: '--grow-mid' },\n    { key: 'no_of_runs', label: localize('No. of runs') },\n    { key: 'total_stake', label: localize('Total stake') },\n    { key: 'total_payout', label: localize('Total payout') },\n    { key: 'win', label: localize('Win') },\n    { key: 'loss', label: localize('Loss') },\n    { key: 'total_profit', label: localize('Total profit/loss') },\n    { key: 'balance', label: localize('Balance') },\n];\n\nconst TransactionDetailsDesktop = observer(() => {\n    const { client } = useStore();\n    const { loginid, balance } = client;\n    const { transactions } = useStore();\n    const {\n        toggleTransactionDetailsModal,\n        is_transaction_details_modal_open,\n        transactions: transaction_list,\n    }: Partial<TTransactionStore> = transactions;\n    const { statistics }: Partial<TRunPanelStore> = transactions;\n\n    return (\n        <React.Fragment>\n            {is_transaction_details_modal_open && (\n                <DraggableResizeWrapper\n                    boundary='.main'\n                    header={localize('Transactions detailed summary')}\n                    onClose={() => toggleTransactionDetailsModal(false)}\n                    modalWidth={882}\n                    modalHeight={404}\n                    minWidth={882}\n                    minHeight={404}\n                    enableResizing\n                >\n                    <DesktopTransactionTable\n                        transaction_columns={transaction_columns()}\n                        transactions={transaction_list}\n                        result_columns={result_columns()}\n                        result={statistics}\n                        account={loginid ?? ''}\n                        balance={balance ?? 0}\n                    />\n                </DraggableResizeWrapper>\n            )}\n        </React.Fragment>\n    );\n});\n\nexport default TransactionDetailsDesktop;\n",
            "size_bytes": 3063
        },
        "analysis-tool/Benanalysistool-final-main/components/ui/accordion.tsx": {
            "content": "'use client'\n\nimport * as React from 'react'\nimport * as AccordionPrimitive from '@radix-ui/react-accordion'\nimport { ChevronDownIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Accordion({\n  ...props\n}: React.ComponentProps<typeof AccordionPrimitive.Root>) {\n  return <AccordionPrimitive.Root data-slot=\"accordion\" {...props} />\n}\n\nfunction AccordionItem({\n  className,\n  ...props\n}: React.ComponentProps<typeof AccordionPrimitive.Item>) {\n  return (\n    <AccordionPrimitive.Item\n      data-slot=\"accordion-item\"\n      className={cn('border-b last:border-b-0', className)}\n      {...props}\n    />\n  )\n}\n\nfunction AccordionTrigger({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof AccordionPrimitive.Trigger>) {\n  return (\n    <AccordionPrimitive.Header className=\"flex\">\n      <AccordionPrimitive.Trigger\n        data-slot=\"accordion-trigger\"\n        className={cn(\n          'focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180',\n          className,\n        )}\n        {...props}\n      >\n        {children}\n        <ChevronDownIcon className=\"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200\" />\n      </AccordionPrimitive.Trigger>\n    </AccordionPrimitive.Header>\n  )\n}\n\nfunction AccordionContent({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof AccordionPrimitive.Content>) {\n  return (\n    <AccordionPrimitive.Content\n      data-slot=\"accordion-content\"\n      className=\"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm\"\n      {...props}\n    >\n      <div className={cn('pt-0 pb-4', className)}>{children}</div>\n    </AccordionPrimitive.Content>\n  )\n}\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n",
            "size_bytes": 2054
        },
        "src/utils/help-content/help-strings/todatetime.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize(\n            'This block converts the number of seconds since the Unix Epoch to a date and time format such as 2019-08-01 00:00:00.'\n        ),\n        localize('Example:'),\n        localize('In this example, the date and time will be displayed in a green notification box.'),\n    ],\n};\n",
            "size_bytes": 392
        },
        "src/components/shared_ui/data-list/data-list-cell.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { isTurbosContract, isVanillaContract } from '@/components/shared';\nimport { TPassThrough, TRow } from '../types/common.types';\n\nexport type TColIndex =\n    | 'type'\n    | 'reference'\n    | 'currency'\n    | 'purchase'\n    | 'payout'\n    | 'profit'\n    | 'indicative'\n    | 'id'\n    | 'multiplier'\n    | 'buy_price'\n    | 'cancellation'\n    | 'limit_order'\n    | 'bid_price'\n    | 'action';\n\nexport type TRenderCellContent = {\n    cell_value: string;\n    is_footer?: boolean;\n    passthrough?: TPassThrough;\n    row_obj: TRow;\n    is_turbos?: boolean;\n    is_vanilla?: boolean;\n};\nexport type THeaderProps = {\n    title?: React.ReactNode;\n    is_vanilla?: boolean;\n};\n\nexport type TDataListCell = {\n    className?: string;\n    column?: {\n        key?: string;\n        title?: string;\n        col_index?: TColIndex;\n        renderCellContent?: (props: TRenderCellContent) => React.ReactNode;\n        renderHeader?: (prop: renderHeaderType) => React.ReactNode;\n    };\n    is_footer?: boolean;\n    passthrough?: TPassThrough;\n    row?: TRow;\n};\n\ntype renderHeaderType = { title?: string; is_vanilla?: boolean };\n\nconst DataListCell = ({ className, column, is_footer, passthrough, row }: TDataListCell) => {\n    if (!column) return null;\n    const { col_index, title } = column;\n    const cell_value = row?.[col_index as TColIndex];\n    const is_turbos = isTurbosContract(row?.contract_info?.contract_type);\n    const is_vanilla = isVanillaContract(row?.contract_info?.contract_type);\n\n    return (\n        <div className={classNames(className, column.col_index)}>\n            {!is_footer && (\n                <div className={classNames(`${column.col_index}__row-title`, 'data-list__row-title')}>\n                    {column.renderHeader ? column.renderHeader({ title, is_vanilla }) : title}\n                </div>\n            )}\n            <div className='data-list__row-content'>\n                {column.renderCellContent\n                    ? column.renderCellContent({\n                          cell_value,\n                          is_footer,\n                          passthrough,\n                          row_obj: row as TRow,\n                          is_vanilla,\n                          is_turbos,\n                      })\n                    : cell_value}\n            </div>\n        </div>\n    );\n};\n\nexport default React.memo(DataListCell);\n",
            "size_bytes": 2422
        },
        "src/components/shared_ui/button/index.ts": {
            "content": "import Button from './button';\n\nimport './button.scss';\n\nexport default Button;\n",
            "size_bytes": 80
        },
        "src/components/transactions/index.js": {
            "content": "import Transactions from './transactions';\nimport './transactions.scss';\n\nexport default Transactions;\n",
            "size_bytes": 103
        },
        "src/types/ws.types.ts": {
            "content": "import {\n    PriceProposalOpenContractsRequest,\n    PriceProposalOpenContractsResponse,\n    TicksStreamRequest,\n    TicksStreamResponse,\n    UpdateContractRequest,\n    UpdateContractResponse,\n} from '@deriv/api-types';\n\nexport type TServerError = {\n    code: string;\n    message: string;\n    details?: { [key: string]: string };\n    fields?: string[];\n};\n\ntype TWebSocketCall = {\n    subscribeProposalOpenContract: (\n        contract_id: PriceProposalOpenContractsRequest['contract_id'],\n        callback: (response: PriceProposalOpenContractsResponse) => void\n    ) => void;\n    send?: (req?: Record<string, unknown>) => Promise<{ error?: TServerError & Record<string, unknown> }>;\n};\n\nexport type TWebSocket = {\n    authorized: TWebSocketCall;\n    storage: {\n        send?: (req?: Record<string, unknown>) => Promise<{ error?: TServerError & Record<string, unknown> }>;\n    };\n    contractUpdate: (\n        contract_id: UpdateContractRequest['contract_id'],\n        limit_order: UpdateContractRequest['limit_order']\n    ) => Promise<{ error?: TServerError } & UpdateContractResponse>;\n    subscribeTicksHistory: (\n        req: TicksStreamRequest,\n        callback: () => void\n    ) => Promise<{ error?: TServerError } & TicksStreamResponse>;\n    forgetStream: (stream_id: string) => void;\n    activeSymbols: (mode?: 'string') => void;\n\n    send?: (req?: Record<string, unknown>) => Promise<{ error?: TServerError & Record<string, unknown> }>;\n};\n",
            "size_bytes": 1448
        },
        "src/components/shared/utils/validation/regex-validation.ts": {
            "content": "export const regex_checks = {\n    address_details: {\n        address_city: /^\\p{L}[\\p{L}\\s'.-]{0,99}$/u,\n        address_line_1: /^[\\p{L}\\p{Nd}\\s'.,:;()\\u00b0@#/-]{1,70}$/u,\n        address_line_2: /^[\\p{L}\\p{Nd}\\s'.,:;()\\u00b0@#/-]{0,70}$/u,\n        address_postcode: /^(?! )[a-zA-Z0-9\\s-]{0,20}$/,\n        address_state: /^[\\w\\s\\W'.;,-]{0,99}$/,\n    },\n};\n",
            "size_bytes": 358
        },
        "src/components/shared_ui/contract-card/result-overlay/index.ts": {
            "content": "import ResultOverlay from './result-overlay';\nimport './result-overlay.scss';\n\nexport default ResultOverlay;\n",
            "size_bytes": 109
        },
        "src/external/bot-skeleton/utils/observer.js": {
            "content": "import { List, Map } from 'immutable';\n/**\nBelow are the list of events we can register to listen to :\n \n-bot.running : Emitted in trade/index.js, in old Binary Bot this is only used\nto set the label to is running.\n\n-bot.stop: Bot was stopped by the user\n\n-bot.contract: Called in OpenContract.js, object consisting of\naccountID and a proposal_open_contract response, this will\nbe emitted on each POC message from the server.\n\n-bot.info: Emitted in trade/Balance.js, it announces account ID and balance,\nwe don't need this in DerivBot. Can also be emitted during running\ncontract, it then announces an object consisting of accountID,\ntotal_runs, transaction_ids, contract_type, and buy_price.\n\n-contract.status:  First emitted in trade/Purchase.js with an idea that's more\nof a flag e.g. contract_purchase_sent (when buy was sent to\nAPI, or contract_purchase_recieved (when buy was acknowledged\nby API), or contract.sold (when a contract was sold/expired).\n\n-contract.settled: this event was emitted to initiate a\nsettlement of a contract, i.e. it would call proposal_open_contract to retrieve\nlatest values for contract, not required atm by DerivBot\n\n-googledrive.authorise : event to start auturize google flow\n\n-ui.log.success: UI Notifications\n\n-ui.log.error: UI errors\n\n-ui.log.warn: UI warning\n\n-Notify: Server Notifications\n\n-Error : Server errors\n\n */\n\nexport default class Observer {\n    constructor() {\n        this.eam = new Map(); // event action map\n    }\n\n    register(event, _action, once, unregisterIfError, unregisterAllBefore) {\n        if (unregisterAllBefore) {\n            this.unregisterAll(event);\n        }\n        const apiError = error => {\n            if (error.type === unregisterIfError.type) {\n                this.unregister('api.error', apiError);\n                unregisterIfError.unregister.forEach(unreg => {\n                    if (unreg instanceof Array) {\n                        this.unregister(...unreg);\n                    } else {\n                        this.unregisterAll(unreg);\n                    }\n                });\n            }\n        };\n        if (unregisterIfError) {\n            this.register('api.error', apiError);\n        }\n        const action = (...args) => {\n            if (once) {\n                this.unregister(event, _action);\n            }\n            if (unregisterIfError) {\n                this.unregister('api.error', apiError);\n            }\n            _action(...args);\n        };\n\n        const actionList = this.eam.get(event);\n\n        this.eam = actionList\n            ? this.eam.set(event, actionList.push({ action, searchBy: _action }))\n            : this.eam.set(event, new List().push({ action, searchBy: _action }));\n    }\n\n    unregister(event, f) {\n        this.eam = this.eam.set(\n            event,\n            this.eam.get(event).filter(r => r.searchBy !== f)\n        );\n    }\n\n    isRegistered(event) {\n        return this.eam.has(event);\n    }\n\n    unregisterAll(event) {\n        this.eam = this.eam.delete(event);\n    }\n\n    emit(event, data) {\n        if (this.eam.has(event)) {\n            this.eam.get(event).forEach(action => action.action(data));\n        }\n    }\n    setState(state = {}) {\n        this.state = { ...this.state, ...state };\n    }\n    getState(key) {\n        return this.state?.[key];\n    }\n}\n\nexport const observer = new Observer();\n",
            "size_bytes": 3348
        },
        "src/pages/dashboard/constants.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport type TSidebarItem = {\n    label: string;\n    content: { data: string; faq_id?: string }[];\n    link: boolean;\n};\n\nexport const SIDEBAR_INTRO = (): TSidebarItem[] => [\n    {\n        label: localize('Welcome to Deriv Bot!'),\n        content: [\n            {\n                data: localize(\n                    'Ready to automate your trading strategy without writing any code? Youve come to the right place.'\n                ),\n            },\n            { data: localize('Check out these guides and FAQs to learn more about building your bot:') },\n        ],\n        link: false,\n    },\n    {\n        label: localize('Guide'),\n        content: [{ data: localize('Deriv Bot - your automated trading partner') }],\n        link: true,\n    },\n    {\n        label: localize('FAQs'),\n        content: [\n            {\n                data: localize('What is Deriv Bot?'),\n                faq_id: 'faq-0',\n            },\n            {\n                data: localize('Where do I find the blocks I need?'),\n                faq_id: 'faq-1',\n            },\n            {\n                data: localize('How do I remove blocks from the workspace?'),\n                faq_id: 'faq-2',\n            },\n        ],\n        link: true,\n    },\n];\n",
            "size_bytes": 1288
        },
        "src/utils/help-content/help-strings/ohlc.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize('This block gives you a list of candles within a selected time interval.'),\n        localize(\n            'In this example, this block is used with another block to get the open prices from a list of candles. The open prices are then assigned to the variable called \"cl\".'\n        ),\n    ],\n};\n",
            "size_bytes": 399
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Tools/Misc/block_holder.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../../utils';\n\nwindow.Blockly.Blocks.block_holder = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2 %3',\n            args0: [\n                {\n                    type: 'field_label',\n                    text: 'Ignore',\n                    class: 'blocklyTextRootBlockHeader',\n                },\n                {\n                    type: 'input_dummy',\n                },\n                {\n                    type: 'input_statement',\n                    name: 'USELESS_STACK',\n                    check: null,\n                },\n            ],\n            colour: window.Blockly.Colours.RootBlock.colour,\n            colourSecondary: window.Blockly.Colours.RootBlock.colourSecondary,\n            colourTertiary: window.Blockly.Colours.RootBlock.colourTertiary,\n            tooltip: localize('Put your blocks in here to prevent them from being removed'),\n            category: window.Blockly.Categories.Miscellaneous,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    meta() {\n        return {\n            display_name: localize('Ignore'),\n            description: localize(\n                'Use this block if you want some instructions to be ignored when your bot runs. Instructions within this block wont be executed.'\n            ),\n        };\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.block_holder = () => '';\n",
            "size_bytes": 1560
        },
        "src/components/layout/header/account-info-loader.tsx": {
            "content": "import ContentLoader from 'react-content-loader';\n\ntype TAccountsInfoLoaderProps = {\n    isLoggedIn: boolean;\n    isMobile: boolean;\n    speed: number;\n};\n\nconst LoggedInPreloader = ({ isMobile }: Pick<TAccountsInfoLoaderProps, 'isMobile'>) => (\n    <>\n        {isMobile ? (\n            <>\n                <circle cx='14' cy='22' r='13' />\n                <rect height='7' rx='4' ry='4' width='76' x='35' y='19' />\n                <rect height='32' rx='4' ry='4' width='82' x='120' y='6' />\n            </>\n        ) : (\n            <>\n                <circle cx='14' cy='22' r='12' />\n                <circle cx='58' cy='22' r='12' />\n                <rect height='7' rx='4' ry='4' width='76' x='150' y='20' />\n                <circle cx='118' cy='24' r='13' />\n                <rect height='30' rx='4' ry='4' width='1' x='87' y='8' />\n                <rect height='32' rx='4' ry='4' width='82' x='250' y='8' />\n            </>\n        )}\n    </>\n);\n\nconst AccountsInfoLoader = ({ isMobile, speed }: TAccountsInfoLoaderProps) => (\n    <ContentLoader\n        data-testid='dt_accounts_info_loader'\n        height={isMobile ? 42 : 46}\n        speed={speed}\n        width={isMobile ? 216 : 350}\n        backgroundColor={'var(--general-section-1)'}\n        foregroundColor={'var(--general-hover)'}\n    >\n        <LoggedInPreloader isMobile={isMobile} />\n    </ContentLoader>\n);\n\nexport default AccountsInfoLoader;\n",
            "size_bytes": 1410
        },
        "src/external/bot-skeleton/scratch/hooks/block_svg.js": {
            "content": "import debounce from 'lodash.debounce';\nimport { localize } from '@deriv-com/translations';\nimport DBotStore from '../dbot-store';\n\nwindow.Blockly.BlockSvg.prototype.removeSelect = function () {\n    window.Blockly.utils.dom.removeClass(this.svgGroup_, 'blocklySelected');\n    if (window.Blockly.derivWorkspace.lastAddedBlock === this) {\n        window.Blockly.derivWorkspace.lastAddedBlock = null;\n    }\n};\n\nwindow.Blockly.BlockSvg.prototype.addSelect = function () {\n    if (!window.Blockly.derivWorkspace.isFlyoutVisible) {\n        const { flyout } = DBotStore.instance;\n        if (flyout) {\n            flyout.setVisibility(false);\n        }\n\n        // If there's a lastAddedBlock that's not this block, remove its highlight\n        if (\n            window.Blockly.derivWorkspace.lastAddedBlock &&\n            window.Blockly.derivWorkspace.lastAddedBlock !== this &&\n            window.Blockly.derivWorkspace.lastAddedBlock.svgGroup_\n        ) {\n            window.Blockly.utils.dom.removeClass(\n                window.Blockly.derivWorkspace.lastAddedBlock.svgGroup_,\n                'blocklySelected'\n            );\n        }\n\n        // Add highlight to this block and update lastAddedBlock\n        window.Blockly.utils.dom.addClass(/** @type {!Element} */ (this.svgGroup_), 'blocklySelected');\n        window.Blockly.derivWorkspace.lastAddedBlock = this;\n    }\n};\n\n/**\n * Set whether the block is disabled or not.\n * @param {boolean} disabled True if disabled.\n * @deriv/bot: Call updateDisabled() when setDisabled is called.\n */\nwindow.Blockly.BlockSvg.prototype.setDisabled = function (disabled) {\n    this.disabled = disabled;\n    this.updateDisabled();\n};\n\n/**\n * Set whether the block is error highlighted or not.\n * @param {boolean} highlighted True if highlighted for error.\n */\nwindow.Blockly.BlockSvg.prototype.setErrorHighlighted = function (\n    should_be_error_highlighted,\n    error_message = localize(\n        'The block(s) highlighted in red are missing input values. Please update them and click \"Run bot\".'\n    )\n) {\n    if (this.is_error_highlighted === should_be_error_highlighted) {\n        return;\n    }\n\n    const highlight_class = 'block--error-highlighted';\n\n    if (should_be_error_highlighted) {\n        // Below function does its own checks to check if class already exists.\n        window.Blockly.utils.dom.addClass(this.svgGroup_, highlight_class);\n    } else {\n        window.Blockly.utils.dom.removeClass(this.svgGroup_, highlight_class);\n    }\n\n    this.is_error_highlighted = should_be_error_highlighted;\n    this.error_message = error_message;\n};\n\n// Highlight the block that is being executed\nwindow.Blockly.BlockSvg.prototype.highlightExecutedBlock = function () {\n    const highlight_block_class = 'block--execution-highlighted';\n    if (!window.Blockly.utils.dom.hasClass(this.svgGroup_, highlight_block_class)) {\n        window.Blockly.utils.dom.addClass(this.svgGroup_, highlight_block_class);\n        setTimeout(() => {\n            if (this.svgGroup_) {\n                window.Blockly.utils.dom.removeClass(this.svgGroup_, highlight_block_class);\n            }\n        }, 1505);\n    }\n};\n\n/**\n * Set block animation (Blink)\n */\n\nwindow.Blockly.BlockSvg.prototype.blink = function () {\n    const blink_class = 'block--blink';\n    window.Blockly.utils.dom.addClass(this.svgGroup_, blink_class);\n\n    setTimeout(() => {\n        window.Blockly.utils.dom.removeClass(this.svgGroup_, blink_class);\n    }, 2000);\n};\n\n/**\n * Set whether the block is collapsed or not.\n * @param {boolean} collapsed True if collapsed.\n */\n\n/**\n * Toggles the collapse state of the block after a short delay to prevent workspace freezing.\n * @param {boolean} collapsed - Whether to collapse the block.\n */\nwindow.Blockly.BlockSvg.prototype.toggleCollapseWithDelay = function (collapsed) {\n    debounce(async () => {\n        this.setCollapsed(collapsed);\n    }, 100)();\n};\n\n// Store original onMouseDown_ function\nconst originalOnMouseDown = window.Blockly.BlockSvg.prototype.onMouseDown_;\n\n// Override onMouseDown_ to handle both selection and dragging\nwindow.Blockly.BlockSvg.prototype.onMouseDown_ = function (e) {\n    if (!this.workspace.options.readOnly && !e.shiftKey) {\n        this.addSelect();\n    }\n    // Call original handler to maintain drag functionality\n    originalOnMouseDown.call(this, e);\n};\n",
            "size_bytes": 4332
        },
        "src/components/shared/utils/os/os_detect.ts": {
            "content": "import UAParser from 'ua-parser-js';\n\ndeclare global {\n    interface Window {\n        opera?: string;\n        MSStream?: {\n            readonly type: string;\n            msClose: () => void;\n            msDetachStream: () => void;\n        };\n    }\n    interface Navigator {\n        userAgentData?: NavigatorUAData;\n    }\n}\n\ntype NavigatorUAData = {\n    brands: Array<{ brand: string; version: string }>;\n    mobile: boolean;\n    getHighEntropyValues(hints: string[]): Promise<HighEntropyValues>;\n};\n\ntype HighEntropyValues = {\n    platform?: string;\n    platformVersion?: string;\n    model?: string;\n    uaFullVersion?: string;\n};\n\nexport const systems = {\n    mac: ['Mac68K', 'MacIntel', 'MacPPC'],\n    linux: [\n        'HP-UX',\n        'Linux i686',\n        'Linux amd64',\n        'Linux i686 on x86_64',\n        'Linux i686 X11',\n        'Linux x86_64',\n        'Linux x86_64 X11',\n        'FreeBSD',\n        'FreeBSD i386',\n        'FreeBSD amd64',\n        'X11',\n    ],\n    ios: ['iPhone', 'iPod', 'iPad', 'iPhone Simulator', 'iPod Simulator', 'iPad Simulator'],\n    android: [\n        'Android',\n        'Linux armv7l', // Samsung galaxy s2 ~ s5, nexus 4/5\n        'Linux armv8l',\n        null,\n    ],\n    windows: ['Win16', 'Win32', 'Win64', 'WinCE'],\n};\n\nexport const isDesktopOs = () => {\n    const os = OSDetect();\n    return !!['windows', 'mac', 'linux'].find(system => system === os);\n};\n\nexport const isMobileOs = () =>\n    /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n\nexport const OSDetect = () => {\n    // For testing purposes or more compatibility, if we set 'config.os'\n    // inside our localStorage, we ignore fetching information from\n    // navigator object and return what we have straight away.\n    if (localStorage.getItem('config.os')) {\n        return localStorage.getItem('config.os');\n    }\n    if (typeof navigator !== 'undefined' && navigator.platform) {\n        return Object.keys(systems)\n            .map(os => {\n                if (systems[os as keyof typeof systems].some(platform => navigator.platform === platform)) {\n                    return os;\n                }\n                return false;\n            })\n            .filter(os => os)[0];\n    }\n\n    return 'Unknown OS';\n};\n\nexport const mobileOSDetect = () => {\n    const userAgent = navigator.userAgent || navigator.vendor || window.opera || '';\n    // huawei devices regex from: https://gist.github.com/megaacheyounes/e1c7eec5c790e577db602381b8c50bfa\n    const huaweiDevicesRegex =\n        /\\bK\\b|ALP-|AMN-|ANA-|ANE-|ANG-|AQM-|ARS-|ART-|ATU-|BAC-|BLA-|BRQ-|CAG-|CAM-|CAN-|CAZ-|CDL-|CDY-|CLT-|CRO-|CUN-|DIG-|DRA-|DUA-|DUB-|DVC-|ELE-|ELS-|EML-|EVA-|EVR-|FIG-|FLA-|FRL-|GLK-|HMA-|HW-|HWI-|INE-|JAT-|JEF-|JER-|JKM-|JNY-|JSC-|LDN-|LIO-|LON-|LUA-|LYA-|LYO-|MAR-|MED-|MHA-|MLA-|MRD-|MYA-|NCE-|NEO-|NOH-|NOP-|OCE-|PAR-|PIC-|POT-|PPA-|PRA-|RNE-|SEA-|SLA-|SNE-|SPN-|STK-|TAH-|TAS-|TET-|TRT-|VCE-|VIE-|VKY-|VNS-|VOG-|VTR-|WAS-|WKG-|WLZ-|JAD-|WKG-|MLD-|RTE-|NAM-|NEN-|BAL-|JAD-|JLN-|YAL/i;\n\n    // Windows Phone must come first because its UA also contains \"Android\"\n    if (/windows phone/i.test(userAgent)) {\n        return 'Windows Phone';\n    }\n\n    if (/android/i.test(userAgent)) {\n        // Huawei UA is the same as android so we have to detect by the model\n        if (huaweiDevicesRegex.test(userAgent) || /huawei/i.test(userAgent)) {\n            return 'huawei';\n        }\n        return 'Android';\n    }\n\n    // iOS detection from: http://stackoverflow.com/a/9039885/177710\n    if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {\n        return 'iOS';\n    }\n\n    return 'unknown';\n};\n\n// Simple regular expression to match potential Huawei device codes\nconst huaweiDevicesRegex = /\\b([A-Z]{3}-)\\b/gi;\n\n// Set of valid Huawei device codes\nconst validCodes = new Set([\n    'ALP-',\n    'AMN-',\n    'ANA-',\n    'ANE-',\n    'ANG-',\n    'AQM-',\n    'ARS-',\n    'ART-',\n    'ATU-',\n    'BAC-',\n    'BLA-',\n    'BRQ-',\n    'CAG-',\n    'CAM-',\n    'CAN-',\n    'CAZ-',\n    'CDL-',\n    'CDY-',\n    'CLT-',\n    'CRO-',\n    'CUN-',\n    'DIG-',\n    'DRA-',\n    'DUA-',\n    'DUB-',\n    'DVC-',\n    'ELE-',\n    'ELS-',\n    'EML-',\n    'EVA-',\n    'EVR-',\n    'FIG-',\n    'FLA-',\n    'FRL-',\n    'GLK-',\n    'HMA-',\n    'HW-',\n    'HWI-',\n    'INE-',\n    'JAT-',\n    'JEF-',\n    'JER-',\n    'JKM-',\n    'JNY-',\n    'JSC-',\n    'LDN-',\n    'LIO-',\n    'LON-',\n    'LUA-',\n    'LYA-',\n    'LYO-',\n    'MAR-',\n    'MED-',\n    'MHA-',\n    'MLA-',\n    'MRD-',\n    'MYA-',\n    'NCE-',\n    'NEO-',\n    'NOH-',\n    'NOP-',\n    'OCE-',\n    'PAR-',\n    'PIC-',\n    'POT-',\n    'PPA-',\n    'PRA-',\n    'RNE-',\n    'SEA-',\n    'SLA-',\n    'SNE-',\n    'SPN-',\n    'STK-',\n    'TAH-',\n    'TAS-',\n    'TET-',\n    'TRT-',\n    'VCE-',\n    'VIE-',\n    'VKY-',\n    'VNS-',\n    'VOG-',\n    'VTR-',\n    'WAS-',\n    'WKG-',\n    'WLZ-',\n    'JAD-',\n    'MLD-',\n    'RTE-',\n    'NAM-',\n    'NEN-',\n    'BAL-',\n    'JLN-',\n    'YAL-',\n    'MGA-',\n    'FGD-',\n    'XYAO-',\n    'BON-',\n    'ALN-',\n    'ALT-',\n    'BRA-',\n    'DBY2-',\n    'STG-',\n    'MAO-',\n    'LEM-',\n    'GOA-',\n    'FOA-',\n    'MNA-',\n    'LNA-',\n]);\n\n// Function to validate Huawei device codes from a string\nfunction validateHuaweiCodes(inputString: string) {\n    const matches = inputString.match(huaweiDevicesRegex);\n    if (matches) {\n        return matches.filter(code => validCodes.has(code.toUpperCase())).length > 0;\n    }\n    return false;\n}\n\nexport const mobileOSDetectAsync = async () => {\n    const userAgent = navigator.userAgent ?? window.opera ?? '';\n    // Windows Phone must come first because its UA also contains \"Android\"\n    if (/windows phone/i.test(userAgent)) {\n        return 'Windows Phone';\n    }\n\n    if (/android/i.test(userAgent)) {\n        // Check if navigator.userAgentData is available for modern browsers\n        if (navigator?.userAgentData) {\n            const ua = await navigator.userAgentData.getHighEntropyValues(['model']);\n            if (validateHuaweiCodes(ua?.model || '')) {\n                return 'huawei';\n            }\n        } else if (validateHuaweiCodes(userAgent) || /huawei/i.test(userAgent)) {\n            return 'huawei';\n        }\n        return 'Android';\n    }\n\n    if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {\n        return 'iOS';\n    }\n\n    return 'unknown';\n};\n\nexport const getOSNameWithUAParser = () => UAParser().os.name;\n",
            "size_bytes": 6392
        },
        "src/components/shared/utils/loader-handler/index.ts": {
            "content": "export * from './loader-handler';\n",
            "size_bytes": 34
        },
        "src/components/shared/utils/screen/responsive.ts": {
            "content": "declare global {\n    interface Navigator {\n        msMaxTouchPoints: number;\n    }\n    interface Window {\n        // TODO DocumentTouch been removed from the standards, we need to change this with Touch and TouchList later\n        DocumentTouch: any;\n    }\n}\n\nexport const MAX_MOBILE_WIDTH = 600; // iPhone 12 Pro Max has the world largest viewport size of 428 x 926\nexport const MAX_TABLET_WIDTH = 1279;\n\nexport const isTouchDevice = () =>\n    'ontouchstart' in window ||\n    'ontouchstart' in document.documentElement ||\n    (window.DocumentTouch && document instanceof window.DocumentTouch) ||\n    navigator.maxTouchPoints > 0 ||\n    window.navigator.msMaxTouchPoints > 0;\n/** @deprecated Use `is_mobile` from ui-store instead. */\nexport const isMobile = () => window.innerWidth <= MAX_MOBILE_WIDTH;\nexport const isDesktop = () => isTablet() || window.innerWidth > MAX_TABLET_WIDTH; // TODO: remove tablet once there is a design for the specific size.\nexport const isTablet = () => MAX_MOBILE_WIDTH < window.innerWidth && window.innerWidth <= MAX_TABLET_WIDTH;\nexport const isTabletDrawer = () => window.innerWidth < 768;\n",
            "size_bytes": 1125
        },
        "src/components/shared/services/trading-times-service.ts": {
            "content": "class TradingTimesService {\n    private trading_times_cache: any = null;\n    private cache_expiry: number = 0;\n    private readonly CACHE_DURATION = 5 * 60 * 1000; // 5 minutes\n\n    /**\n     * Get trading times data with caching\n     */\n    async getTradingTimes(): Promise<any> {\n        const now = Date.now();\n\n        // Return cached data if still valid\n        if (this.trading_times_cache && now < this.cache_expiry && this.trading_times_cache.markets) {\n            return this.trading_times_cache;\n        }\n\n        // Always ensure we return valid data with markets array\n        const trading_data = this.getFallbackTradingTimes();\n\n        // For now, skip API call and use trading data directly to avoid authentication issues\n        const trading_times = trading_data.trading_times;\n        this.trading_times_cache = trading_times;\n        this.cache_expiry = now + this.CACHE_DURATION;\n\n        // Double-check the structure before returning\n        if (!trading_times.markets || !Array.isArray(trading_times.markets)) {\n            // Return a minimal valid structure as emergency fallback\n            return {\n                markets: [\n                    {\n                        name: 'Derived',\n                        submarkets: [\n                            {\n                                name: 'Continuous Indices',\n                                symbols: [\n                                    { symbol: 'R_10', display_name: 'Volatility 10 Index', underlying_symbol: 'R_10' },\n                                ],\n                            },\n                        ],\n                    },\n                ],\n            };\n        }\n\n        return trading_times;\n    }\n\n    /**\n     * Fetch trading times from API\n     */\n    private async fetchTradingTimes(): Promise<any> {\n        // For now, always use trading data to avoid circular import and API authentication issues\n        const fallback = this.getFallbackTradingTimes();\n        return fallback.trading_times;\n    }\n\n    /**\n     * Get trading times as fallback\n     */\n    private getFallbackTradingTimes(): any {\n        return {\n            trading_times: {\n                markets: [\n                    {\n                        name: 'Derived',\n                        submarkets: [\n                            {\n                                name: 'Continuous Indices',\n                                symbols: [\n                                    {\n                                        symbol: 'R_10',\n                                        display_name: 'Volatility 10 Index',\n                                        underlying_symbol: 'R_10',\n                                    },\n                                    {\n                                        symbol: 'R_25',\n                                        display_name: 'Volatility 25 Index',\n                                        underlying_symbol: 'R_25',\n                                    },\n                                    {\n                                        symbol: 'R_50',\n                                        display_name: 'Volatility 50 Index',\n                                        underlying_symbol: 'R_50',\n                                    },\n                                    {\n                                        symbol: 'R_75',\n                                        display_name: 'Volatility 75 Index',\n                                        underlying_symbol: 'R_75',\n                                    },\n                                    {\n                                        symbol: 'R_100',\n                                        display_name: 'Volatility 100 Index',\n                                        underlying_symbol: 'R_100',\n                                    },\n                                    {\n                                        symbol: '1HZ10V',\n                                        display_name: 'Volatility 10 (1s) Index',\n                                        underlying_symbol: '1HZ10V',\n                                    },\n                                    {\n                                        symbol: '1HZ15V',\n                                        display_name: 'Volatility 15 (1s) Index',\n                                        underlying_symbol: '1HZ15V',\n                                    },\n                                    {\n                                        symbol: '1HZ25V',\n                                        display_name: 'Volatility 25 (1s) Index',\n                                        underlying_symbol: '1HZ25V',\n                                    },\n                                    {\n                                        symbol: '1HZ30V',\n                                        display_name: 'Volatility 30 (1s) Index',\n                                        underlying_symbol: '1HZ30V',\n                                    },\n                                    {\n                                        symbol: '1HZ50V',\n                                        display_name: 'Volatility 50 (1s) Index',\n                                        underlying_symbol: '1HZ50V',\n                                    },\n                                    {\n                                        symbol: '1HZ75V',\n                                        display_name: 'Volatility 75 (1s) Index',\n                                        underlying_symbol: '1HZ75V',\n                                    },\n                                    {\n                                        symbol: '1HZ90V',\n                                        display_name: 'Volatility 90 (1s) Index',\n                                        underlying_symbol: '1HZ90V',\n                                    },\n                                    {\n                                        symbol: '1HZ100V',\n                                        display_name: 'Volatility 100 (1s) Index',\n                                        underlying_symbol: '1HZ100V',\n                                    },\n                                ],\n                            },\n                            {\n                                name: 'Crash/Boom',\n                                symbols: [\n                                    {\n                                        symbol: 'CRASH500',\n                                        display_name: 'Crash 500 Index',\n                                        underlying_symbol: 'CRASH500',\n                                    },\n                                    {\n                                        symbol: 'CRASH1000',\n                                        display_name: 'Crash 1000 Index',\n                                        underlying_symbol: 'CRASH1000',\n                                    },\n                                    { symbol: 'BOOM500', display_name: 'Boom 500 Index', underlying_symbol: 'BOOM500' },\n                                    {\n                                        symbol: 'BOOM1000',\n                                        display_name: 'Boom 1000 Index',\n                                        underlying_symbol: 'BOOM1000',\n                                    },\n                                ],\n                            },\n                        ],\n                    },\n                    {\n                        name: 'Forex',\n                        submarkets: [\n                            {\n                                name: 'Major Pairs',\n                                symbols: [\n                                    { symbol: 'frxEURUSD', display_name: 'EUR/USD', underlying_symbol: 'frxEURUSD' },\n                                    { symbol: 'frxGBPUSD', display_name: 'GBP/USD', underlying_symbol: 'frxGBPUSD' },\n                                    { symbol: 'frxUSDJPY', display_name: 'USD/JPY', underlying_symbol: 'frxUSDJPY' },\n                                    { symbol: 'frxAUDUSD', display_name: 'AUD/USD', underlying_symbol: 'frxAUDUSD' },\n                                ],\n                            },\n                            {\n                                name: 'Forex Basket',\n                                symbols: [\n                                    { symbol: 'WLDAUD', display_name: 'AUD Basket', underlying_symbol: 'WLDAUD' },\n                                    { symbol: 'WLDEUR', display_name: 'EUR Basket', underlying_symbol: 'WLDEUR' },\n                                    { symbol: 'WLDGBP', display_name: 'GBP Basket', underlying_symbol: 'WLDGBP' },\n                                    { symbol: 'WLDUSD', display_name: 'USD Basket', underlying_symbol: 'WLDUSD' },\n                                ],\n                            },\n                        ],\n                    },\n                    {\n                        name: 'Stock Indices',\n                        submarkets: [\n                            {\n                                name: 'American Indices',\n                                symbols: [\n                                    { symbol: 'OTC_DJI', display_name: 'Wall Street 30', underlying_symbol: 'OTC_DJI' },\n                                    { symbol: 'OTC_SPC', display_name: 'US 500', underlying_symbol: 'OTC_SPC' },\n                                    { symbol: 'OTC_NDX', display_name: 'US Tech 100', underlying_symbol: 'OTC_NDX' },\n                                ],\n                            },\n                            {\n                                name: 'European Indices',\n                                symbols: [\n                                    { symbol: 'OTC_FTSE', display_name: 'UK 100', underlying_symbol: 'OTC_FTSE' },\n                                    { symbol: 'OTC_GDAXI', display_name: 'Germany 40', underlying_symbol: 'OTC_GDAXI' },\n                                    { symbol: 'OTC_SX5E', display_name: 'Euro 50', underlying_symbol: 'OTC_SX5E' },\n                                ],\n                            },\n                            {\n                                name: 'Asian Indices',\n                                symbols: [\n                                    {\n                                        symbol: 'OTC_AS51',\n                                        display_name: 'Australia 200',\n                                        underlying_symbol: 'OTC_AS51',\n                                    },\n                                    { symbol: 'OTC_N225', display_name: 'Japan 225', underlying_symbol: 'OTC_N225' },\n                                ],\n                            },\n                        ],\n                    },\n                    {\n                        name: 'Cryptocurrencies',\n                        submarkets: [\n                            {\n                                name: 'Non-Stable Coins',\n                                symbols: [\n                                    { symbol: 'cryBTCUSD', display_name: 'BTC/USD', underlying_symbol: 'cryBTCUSD' },\n                                    { symbol: 'cryETHUSD', display_name: 'ETH/USD', underlying_symbol: 'cryETHUSD' },\n                                ],\n                            },\n                        ],\n                    },\n                    {\n                        name: 'Commodities',\n                        submarkets: [\n                            {\n                                name: 'Metals',\n                                symbols: [\n                                    { symbol: 'frxXAUUSD', display_name: 'Gold/USD', underlying_symbol: 'frxXAUUSD' },\n                                    { symbol: 'frxXAGUSD', display_name: 'Silver/USD', underlying_symbol: 'frxXAGUSD' },\n                                    {\n                                        symbol: 'FRXXPDUSD',\n                                        display_name: 'Palladium/USD',\n                                        underlying_symbol: 'FRXXPDUSD',\n                                    },\n                                    {\n                                        symbol: 'FRXXPTUSD',\n                                        display_name: 'Platinum/USD',\n                                        underlying_symbol: 'FRXXPTUSD',\n                                    },\n                                    { symbol: 'WLDXAU', display_name: 'Gold Basket', underlying_symbol: 'WLDXAU' },\n                                ],\n                            },\n                        ],\n                    },\n                ],\n            },\n        };\n    }\n\n    /**\n     * Clear cached trading times data\n     */\n    clearCache(): void {\n        this.trading_times_cache = null;\n        this.cache_expiry = 0;\n    }\n\n    /**\n     * Check if cache is valid\n     */\n    isCacheValid(): boolean {\n        return this.trading_times_cache && Date.now() < this.cache_expiry;\n    }\n}\n\n// Export singleton instance\nexport const tradingTimesService = new TradingTimesService();\n",
            "size_bytes": 13001
        },
        "src/components/journal/journal-components/journal-loader.tsx": {
            "content": "import classnames from 'classnames';\nimport ContentLoader from 'react-content-loader';\n\nconst JournalLoader = ({ is_mobile }: { is_mobile: boolean }) => (\n    <ContentLoader\n        className={classnames('journal__loader', { 'journal__loader--mobile': is_mobile })}\n        speed={3}\n        width={350}\n        height={92}\n        backgroundColor={'var(--general-section-1)'}\n        foregroundColor={'var(--general-hover)'}\n    >\n        <rect x='15' y='15' rx='5' ry='5' width='320' height='40' />\n        <rect x='15' y='60' rx='5' ry='5' width='180' height='7' />\n    </ContentLoader>\n);\n\nexport default JournalLoader;\n",
            "size_bytes": 624
        },
        "src/external/bot-skeleton/utils/token-helper.js": {
            "content": "export const getTokenList = () => {\n    const tokenList = localStorage.getItem('tokenList');\n    return JSON.parse(tokenList || '{}');\n};\n\nexport const removeAllTokens = () => {\n    localStorage.removeItem('tokenList');\n};\n",
            "size_bytes": 223
        },
        "src/pages/main/main.tsx": {
            "content": "import React, { lazy, Suspense, useEffect, useState } from 'react';\nimport classNames from 'classnames';\nimport { observer } from 'mobx-react-lite';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport ChunkLoader from '@/components/loader/chunk-loader';\nimport { generateOAuthURL } from '@/components/shared';\nimport DesktopWrapper from '@/components/shared_ui/desktop-wrapper';\nimport Dialog from '@/components/shared_ui/dialog';\nimport MobileWrapper from '@/components/shared_ui/mobile-wrapper';\nimport Tabs from '@/components/shared_ui/tabs/tabs';\nimport TradeTypeConfirmationModal from '@/components/trade-type-confirmation-modal';\nimport TradingViewModal from '@/components/trading-view-chart/trading-view-modal';\nimport { DBOT_TABS, TAB_IDS } from '@/constants/bot-contents';\nimport { api_base, updateWorkspaceName } from '@/external/bot-skeleton';\nimport { CONNECTION_STATUS } from '@/external/bot-skeleton/services/api/observables/connection-status-stream';\nimport { isDbotRTL } from '@/external/bot-skeleton/utils/workspace';\nimport { useApiBase } from '@/hooks/useApiBase';\nimport { useStore } from '@/hooks/useStore';\nimport {\n    disableUrlParameterApplication,\n    enableUrlParameterApplication,\n    setupTradeTypeChangeListener,\n} from '@/utils/blockly-url-param-handler';\nimport {\n    checkAndShowTradeTypeModal,\n    getModalState,\n    handleTradeTypeCancel,\n    handleTradeTypeConfirm,\n    resetUrlParamProcessing,\n    setModalStateChangeCallback,\n} from '@/utils/trade-type-modal-handler';\nimport {\n    LabelPairedChartLineCaptionRegularIcon,\n    LabelPairedObjectsColumnCaptionRegularIcon,\n    LabelPairedPuzzlePieceTwoCaptionBoldIcon,\n} from '@deriv/quill-icons/LabelPaired';\nimport { LegacyGuide1pxIcon } from '@deriv/quill-icons/Legacy';\nimport { Localize, localize } from '@deriv-com/translations';\nimport { useDevice } from '@deriv-com/ui';\nimport RunPanel from '../../components/run-panel';\nimport ChartModal from '../chart/chart-modal';\nimport Dashboard from '../dashboard';\nimport RunStrategy from '../dashboard/run-strategy';\nimport './main.scss';\n\nconst ChartWrapper = lazy(() => import('../chart/chart-wrapper'));\nconst Tutorial = lazy(() => import('../tutorials'));\n\nconst AppWrapper = observer(() => {\n    const { connectionStatus } = useApiBase();\n    const { dashboard, load_modal, run_panel, quick_strategy, summary_card, blockly_store } = useStore();\n    const { is_loading } = blockly_store;\n    const {\n        active_tab,\n        active_tour,\n        is_chart_modal_visible,\n        is_trading_view_modal_visible,\n        setActiveTab,\n        setWebSocketState,\n        setActiveTour,\n        setTourDialogVisibility,\n    } = dashboard;\n    const { dashboard_strategies } = load_modal;\n    const {\n        is_dialog_open,\n        is_drawer_open,\n        dialog_options,\n        onCancelButtonClick,\n        onCloseDialog,\n        onOkButtonClick,\n        stopBot,\n    } = run_panel;\n    const { is_open } = quick_strategy;\n    const { cancel_button_text, ok_button_text, title, message, dismissable, is_closed_on_cancel } = dialog_options as {\n        [key: string]: string;\n    };\n    const { clear } = summary_card;\n    const { DASHBOARD, BOT_BUILDER } = DBOT_TABS;\n    const init_render = React.useRef(true);\n    const hash = ['dashboard', 'bot_builder', 'chart', 'tutorial'];\n    const { isDesktop } = useDevice();\n    const location = useLocation();\n    const navigate = useNavigate();\n    const [left_tab_shadow, setLeftTabShadow] = useState<boolean>(false);\n    const [right_tab_shadow, setRightTabShadow] = useState<boolean>(false);\n\n    // Trade type modal state\n    const [tradeTypeModalState, setTradeTypeModalState] = useState(getModalState());\n\n    /**\n     * Helper function to get modal props with enhanced type safety and clear documentation\n     *\n     * Props serve distinct purposes:\n     * - current_trade_type: Technical identifier for API/internal use (format: \"category/type\")\n     * - current_trade_type_display_name: Human-readable name for UI display\n     *\n     * This separation ensures proper data flow between technical systems and user interface\n     */\n    const getTradeTypeModalProps = () => {\n        const { tradeTypeData } = tradeTypeModalState;\n\n        return {\n            is_visible: tradeTypeModalState.isVisible,\n            trade_type_display_name: tradeTypeData?.displayName || '',\n\n            // Technical identifier for internal/API use (e.g., \"callput/callput\")\n            // Used by backend systems and technical integrations\n            current_trade_type: tradeTypeData?.currentTradeType\n                ? `${tradeTypeData.currentTradeType.tradeTypeCategory}/${tradeTypeData.currentTradeType.tradeType}`\n                : 'N/A',\n\n            // Human-readable display name for UI (e.g., \"Rise/Fall\")\n            // Used for user-facing text and modal content\n            current_trade_type_display_name: tradeTypeData?.currentTradeTypeDisplayName || 'N/A',\n\n            onConfirm: handleTradeTypeConfirm,\n            onCancel: handleTradeTypeCancel,\n        };\n    };\n\n    let tab_value: number | string = active_tab;\n    const GetHashedValue = (tab: number) => {\n        tab_value = location.hash?.split('#')[1];\n        if (!tab_value) return tab;\n        return Number(hash.indexOf(String(tab_value)));\n    };\n    const active_hash_tab = GetHashedValue(active_tab);\n\n    // Set up modal state change listener\n    React.useEffect(() => {\n        setModalStateChangeCallback(new_state => {\n            setTradeTypeModalState(new_state);\n        });\n    }, [is_loading]);\n\n    // Reset URL parameter processing when location changes\n    React.useEffect(() => {\n        resetUrlParamProcessing();\n    }, [location.search]);\n\n    React.useEffect(() => {\n        const el_dashboard = document.getElementById('id-dbot-dashboard');\n        const el_tutorial = document.getElementById('id-tutorials');\n\n        const observer_dashboard = new window.IntersectionObserver(\n            ([entry]) => {\n                if (entry.isIntersecting) {\n                    setLeftTabShadow(false);\n                    return;\n                }\n                setLeftTabShadow(true);\n            },\n            {\n                root: null,\n                threshold: 0.5, // set offset 0.1 means trigger if atleast 10% of element in viewport\n            }\n        );\n\n        const observer_tutorial = new window.IntersectionObserver(\n            ([entry]) => {\n                if (entry.isIntersecting) {\n                    setRightTabShadow(false);\n                    return;\n                }\n                setRightTabShadow(true);\n            },\n            {\n                root: null,\n                threshold: 0.5, // set offset 0.1 means trigger if atleast 10% of element in viewport\n            }\n        );\n        observer_dashboard.observe(el_dashboard);\n        observer_tutorial.observe(el_tutorial);\n    });\n\n    React.useEffect(() => {\n        if (connectionStatus !== CONNECTION_STATUS.OPENED) {\n            const is_bot_running = document.getElementById('db-animation__stop-button') !== null;\n            if (is_bot_running) {\n                clear();\n                stopBot();\n                api_base.setIsRunning(false);\n                setWebSocketState(false);\n            }\n        }\n    }, [clear, connectionStatus, setWebSocketState, stopBot]);\n\n    // Update tab shadows height to match bot builder height\n    const updateTabShadowsHeight = () => {\n        const botBuilderEl = document.getElementById('id-bot-builder');\n        const leftShadow = document.querySelector('.tabs-shadow--left') as HTMLElement;\n        const rightShadow = document.querySelector('.tabs-shadow--right') as HTMLElement;\n\n        if (botBuilderEl && leftShadow && rightShadow) {\n            const height = botBuilderEl.offsetHeight;\n            leftShadow.style.height = `${height}px`;\n            rightShadow.style.height = `${height}px`;\n        }\n    };\n\n    React.useEffect(() => {\n        let pollTimeoutId: ReturnType<typeof setTimeout> | null = null;\n\n        // Handle URL trade type parameters when switching to Bot Builder tab\n        if (active_tab === BOT_BUILDER) {\n            // Use requestAnimationFrame to ensure Blockly workspace is fully initialized\n            requestAnimationFrame(() => {\n                // Disable automatic URL parameter application to prevent changes before modal\n                disableUrlParameterApplication();\n\n                // Set up listener for manual trade type changes (only once)\n                setupTradeTypeChangeListener();\n\n                // Create unified handler for both immediate and delayed execution\n                const handleTradeTypeModal = () => {\n                    checkAndShowTradeTypeModal(\n                        // onConfirm: Changes are now handled by the modal component\n                        () => {\n                            // Re-enable URL parameter application for future parameters\n                            enableUrlParameterApplication();\n                        },\n                        // onCancel: URL parameter removal is now handled by the modal component\n                        () => {}\n                    );\n                };\n\n                // Wait for Blockly to finish loading before checking for URL parameters\n                if (!blockly_store.is_loading) {\n                    // Blockly is loaded, but add longer delay to ensure workspace is fully initialized\n                    // and trade type fields are populated\n                    setTimeout(() => {\n                        handleTradeTypeModal();\n                    }, 500);\n                } else {\n                    // Blockly is still loading, wait for it to finish with optimized polling\n                    let pollAttempts = 0;\n                    const maxPollAttempts = 10; // Maximum 5 seconds (10 * 500ms) - optimized performance\n\n                    const checkBlocklyLoaded = () => {\n                        if (!blockly_store.is_loading) {\n                            handleTradeTypeModal();\n                            return; // Exit polling once loaded\n                        }\n\n                        if (pollAttempts < maxPollAttempts) {\n                            pollAttempts++;\n                            // Use 500ms intervals for better performance (5x improvement from 100ms)\n                            pollTimeoutId = setTimeout(checkBlocklyLoaded, 500);\n                        } else {\n                            console.warn(\n                                'Blockly loading timeout after 5 seconds - proceeding without URL parameter check'\n                            );\n                        }\n                    };\n\n                    checkBlocklyLoaded();\n                }\n            });\n        }\n\n        // Cleanup function to prevent memory leaks\n        return () => {\n            if (pollTimeoutId) {\n                clearTimeout(pollTimeoutId);\n                pollTimeoutId = null;\n            }\n        };\n    }, [active_tab, is_loading]);\n\n    React.useEffect(() => {\n        // Run on mount and when active tab changes\n        updateTabShadowsHeight();\n\n        if (is_open) {\n            setTourDialogVisibility(false);\n        }\n        if (init_render.current) {\n            setActiveTab(Number(active_hash_tab));\n            if (!isDesktop) handleTabChange(Number(active_hash_tab));\n            init_render.current = false;\n        } else {\n            // Preserve URL parameters when navigating\n            const currentSearch = window.location.search;\n            navigate(`${currentSearch}#${hash[active_tab] || hash[0]}`);\n        }\n        if (active_tour !== '') {\n            setActiveTour('');\n        }\n\n        // Prevent scrolling when tutorial tab is active (only on mobile)\n        const mainElement = document.querySelector('.main__container');\n        if (active_tab === DBOT_TABS.TUTORIAL && !isDesktop) {\n            document.body.style.overflow = 'hidden';\n            if (mainElement instanceof HTMLElement) {\n                mainElement.classList.add('no-scroll');\n            }\n        } else {\n            document.body.style.overflow = '';\n            if (mainElement instanceof HTMLElement) {\n                mainElement.classList.remove('no-scroll');\n            }\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [active_tab]);\n\n    React.useEffect(() => {\n        const trashcan_init_id = setTimeout(() => {\n            if (active_tab === BOT_BUILDER && Blockly?.derivWorkspace?.trashcan) {\n                const trashcanY = window.innerHeight - 250;\n                let trashcanX;\n                if (is_drawer_open) {\n                    trashcanX = isDbotRTL() ? 380 : window.innerWidth - 460;\n                } else {\n                    trashcanX = isDbotRTL() ? 20 : window.innerWidth - 100;\n                }\n                Blockly?.derivWorkspace?.trashcan?.setTrashcanPosition(trashcanX, trashcanY);\n            }\n        }, 100);\n\n        return () => {\n            clearTimeout(trashcan_init_id); // Clear the timeout on unmount\n        };\n        //eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [active_tab, is_drawer_open]);\n\n    useEffect(() => {\n        let timer: ReturnType<typeof setTimeout>;\n        if (dashboard_strategies.length > 0) {\n            // Needed to pass this to the Callback Queue as on tab changes\n            // document title getting override by 'Bot | Deriv' only\n            timer = setTimeout(() => {\n                updateWorkspaceName();\n            });\n        }\n        return () => {\n            if (timer) clearTimeout(timer);\n        };\n    }, [dashboard_strategies, active_tab]);\n\n    const handleTabChange = React.useCallback(\n        (tab_index: number) => {\n            setActiveTab(tab_index);\n            const el_id = TAB_IDS[tab_index];\n            if (el_id) {\n                const el_tab = document.getElementById(el_id);\n                setTimeout(() => {\n                    el_tab?.scrollIntoView({ behavior: 'smooth', block: 'center', inline: 'center' });\n                }, 10);\n            }\n        },\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [active_tab]\n    );\n\n    const handleLoginGeneration = () => {\n        window.location.replace(generateOAuthURL());\n    };\n    return (\n        <React.Fragment>\n            <div className='main'>\n                <div\n                    className={classNames('main__container', {\n                        'main__container--active': active_tour && active_tab === DASHBOARD && !isDesktop,\n                    })}\n                >\n                    <div>\n                        {!isDesktop && left_tab_shadow && <span className='tabs-shadow tabs-shadow--left' />}{' '}\n                        <Tabs active_index={active_tab} className='main__tabs' onTabItemClick={handleTabChange} top>\n                            <div\n                                label={\n                                    <>\n                                        <LabelPairedObjectsColumnCaptionRegularIcon\n                                            height='24px'\n                                            width='24px'\n                                            fill='var(--text-general)'\n                                        />\n                                        <Localize i18n_default_text='Dashboard' />\n                                    </>\n                                }\n                                id='id-dbot-dashboard'\n                            >\n                                <Dashboard handleTabChange={handleTabChange} />\n                            </div>\n                            <div\n                                label={\n                                    <>\n                                        <LabelPairedPuzzlePieceTwoCaptionBoldIcon\n                                            height='24px'\n                                            width='24px'\n                                            fill='var(--text-general)'\n                                        />\n                                        <Localize i18n_default_text='Bot Builder' />\n                                    </>\n                                }\n                                id='id-bot-builder'\n                            />\n                            <div\n                                label={\n                                    <>\n                                        <LabelPairedChartLineCaptionRegularIcon\n                                            height='24px'\n                                            width='24px'\n                                            fill='var(--text-general)'\n                                        />\n                                        <Localize i18n_default_text='Charts' />\n                                    </>\n                                }\n                                id={\n                                    is_chart_modal_visible || is_trading_view_modal_visible\n                                        ? 'id-charts--disabled'\n                                        : 'id-charts'\n                                }\n                            >\n                                <Suspense\n                                    fallback={<ChunkLoader message={localize('Please wait, loading chart...')} />}\n                                >\n                                    <ChartWrapper show_digits_stats={false} />\n                                </Suspense>\n                            </div>\n                            <div\n                                label={\n                                    <>\n                                        <LegacyGuide1pxIcon\n                                            height='16px'\n                                            width='16px'\n                                            fill='var(--text-general)'\n                                            className='icon-general-fill-g-path'\n                                        />\n                                        <Localize i18n_default_text='Tutorials' />\n                                    </>\n                                }\n                                id='id-tutorials'\n                            >\n                                <div className='tutorials-wrapper'>\n                                    <Suspense\n                                        fallback={\n                                            <ChunkLoader message={localize('Please wait, loading tutorials...')} />\n                                        }\n                                    >\n                                        <Tutorial handleTabChange={handleTabChange} />\n                                    </Suspense>\n                                </div>\n                            </div>\n                        </Tabs>\n                        {!isDesktop && right_tab_shadow && <span className='tabs-shadow tabs-shadow--right' />}{' '}\n                    </div>\n                </div>\n            </div>\n            <DesktopWrapper>\n                <div className='main__run-strategy-wrapper'>\n                    <RunStrategy />\n                    <RunPanel />\n                </div>\n                <ChartModal />\n                <TradingViewModal />\n            </DesktopWrapper>\n            <MobileWrapper>{!is_open && <RunPanel />}</MobileWrapper>\n            <Dialog\n                cancel_button_text={cancel_button_text || localize('Cancel')}\n                className='dc-dialog__wrapper--fixed'\n                confirm_button_text={ok_button_text || localize('Ok')}\n                has_close_icon\n                is_mobile_full_width={false}\n                is_visible={is_dialog_open}\n                onCancel={onCancelButtonClick}\n                onClose={onCloseDialog}\n                onConfirm={onOkButtonClick || onCloseDialog}\n                portal_element_id='modal_root'\n                title={title}\n                login={handleLoginGeneration}\n                dismissable={dismissable} // Prevents closing on outside clicks\n                is_closed_on_cancel={is_closed_on_cancel}\n            >\n                {message}\n            </Dialog>\n\n            {/* Trade Type Confirmation Modal */}\n            {(() => {\n                const modalProps = getTradeTypeModalProps();\n                return (\n                    <TradeTypeConfirmationModal\n                        is_visible={modalProps.is_visible}\n                        trade_type_display_name={modalProps.trade_type_display_name}\n                        current_trade_type={modalProps.current_trade_type}\n                        current_trade_type_display_name={modalProps.current_trade_type_display_name}\n                        onConfirm={modalProps.onConfirm}\n                        onCancel={modalProps.onCancel}\n                    />\n                );\n            })()}\n        </React.Fragment>\n    );\n});\n\nexport default AppWrapper;\n",
            "size_bytes": 21057
        },
        "src/components/transaction-details/transaction-details-mobile.tsx": {
            "content": "import { observer } from 'mobx-react-lite';\nimport { StatisticsSummary } from '@/components/run-panel/run-panel';\nimport { transaction_elements } from '@/constants/transactions';\nimport { useStore } from '@/hooks/useStore';\nimport { localize } from '@deriv-com/translations';\nimport MobileFullPageModal from '../shared_ui/mobile-full-page-modal';\nimport MobileTransactionCards from './mobile-transaction-card';\nimport { TRunPanelStore } from './transaction-details.types';\nimport './transaction-details-mobile.scss';\n\nconst TransactionDetailsMobile = observer(() => {\n    const { client } = useStore();\n    const { transactions, run_panel } = useStore();\n    const {\n        toggleTransactionDetailsModal,\n        is_transaction_details_modal_open,\n        transactions: transaction_list,\n        statistics,\n    } = transactions;\n\n    const { toggleStatisticsInfoModal }: Partial<TRunPanelStore> = run_panel;\n\n    return (\n        <MobileFullPageModal\n            is_modal_open={is_transaction_details_modal_open}\n            className='transaction-details-modal-mobile'\n            header={localize('Transactions detailed summary')}\n            onClickClose={() => {\n                toggleTransactionDetailsModal(false);\n            }}\n            height_offset='80px'\n        >\n            <div className='transaction-details-modal-mobile__wrapper' data-testid='transaction_details_cards'>\n                {transaction_list?.map(({ data, type }) => {\n                    if (type === transaction_elements.CONTRACT)\n                        return <MobileTransactionCards transaction={data} key={data?.transaction_ids?.buy} />;\n                    return (\n                        <div\n                            className='transaction-details-modal-mobile__divider'\n                            key={`transaction-row-divider-${data}`}\n                        >\n                            <div className='transactions__divider-line' />\n                        </div>\n                    );\n                })}\n            </div>\n            <div className='transaction-details-modal-mobile__card__footer'>\n                <StatisticsSummary\n                    is_mobile\n                    currency={client?.currency}\n                    lost_contracts={statistics?.lost_contracts ?? 0}\n                    number_of_runs={statistics?.number_of_runs ?? 0}\n                    total_payout={statistics?.total_payout ?? 0}\n                    total_profit={statistics?.total_profit ?? 0}\n                    total_stake={statistics?.total_stake ?? 0}\n                    won_contracts={statistics?.won_contracts ?? 0}\n                    toggleStatisticsInfoModal={toggleStatisticsInfoModal}\n                />\n            </div>\n        </MobileFullPageModal>\n    );\n});\n\nexport default TransactionDetailsMobile;\n",
            "size_bytes": 2815
        },
        "src/external/bot-skeleton/services/tradeEngine/utils/cliTools.js": {
            "content": "import Observer from '../../../utils/observer';\nimport TicksService from '../../api/ticks_service';\n\nexport const createScope = () => {\n    const observer = new Observer();\n    const ticksService = new TicksService();\n    const stopped = false;\n    return { observer, ticksService, stopped };\n};\n",
            "size_bytes": 296
        },
        "src/external/bot-skeleton/scratch/hooks/field.js": {
            "content": "import { runInvisibleEvents } from '../utils';\n\nwindow.Blockly.FieldDropdown.prototype.updateOptions = function (dropdown_options, options = {}) {\n    if (window.Blockly.DropDownDiv.isVisible()) {\n        window.Blockly.DropDownDiv.hideWithoutAnimation();\n    }\n\n    this.menuGenerator_ = dropdown_options;\n\n    // Blockly won't actually fire an event if the oldValue and newValue are the same. This prop\n    // sets the event's oldValue to an empty string so it's always executed.\n    let previous_value = this.getValue();\n\n    if (options.should_pretend_empty) {\n        previous_value = '';\n    }\n\n    // Set a flag indicating whether the default value passed to this function is available in the newly\n    // set dropdown options, if false the default option will be the first available one.\n    const has_default_value = dropdown_options.findIndex(item => item[1] === options.default_value) !== -1;\n\n    runInvisibleEvents(() => {\n        //kept this commented to remove console errors\n        //this.setValue('');\n\n        if (has_default_value) {\n            this.setValue(options.default_value);\n        } else if (dropdown_options.length > 0) {\n            // Default to first if option isn't available.\n            this.setValue(this.menuGenerator_[0][1]);\n        } else {\n            this.setValue(previous_value);\n        }\n    });\n\n    // If \"should_trigger_event\" prop is omitted or set to true, fire an event.\n    if (!options.should_trigger_event || options.should_trigger_event === true) {\n        const event = new window.Blockly.Events.BlockChange(\n            this.sourceBlock_,\n            'field',\n            this.name,\n            previous_value,\n            this.getValue()\n        );\n        event.recordUndo = false;\n        event.group = options.event_group;\n        window.Blockly.Events.fire(event);\n    }\n};\n",
            "size_bytes": 1840
        },
        "src/components/layout/header/mobile-menu/menu-content.tsx": {
            "content": "import clsx from 'clsx';\nimport { observer } from 'mobx-react-lite';\nimport { useStore } from '@/hooks/useStore';\nimport { LegacyChevronRight1pxIcon } from '@deriv/quill-icons/Legacy';\nimport { MenuItem, Text, useDevice } from '@deriv-com/ui';\nimport useMobileMenuConfig from './use-mobile-menu-config';\n\ntype TMenuContentProps = {\n    onOpenSubmenu?: (submenu: string) => void;\n    onLogout?: () => void;\n};\n\nconst MenuContent = observer(({ onOpenSubmenu, onLogout }: TMenuContentProps) => {\n    const { isDesktop } = useDevice();\n    const { client } = useStore();\n    const textSize = isDesktop ? 'sm' : 'md';\n    const { config } = useMobileMenuConfig(client, onLogout);\n\n    return (\n        <div className='mobile-menu__content'>\n            <div className='mobile-menu__content__items'>\n                {config.map((item, index) => {\n                    const removeBorderBottom = item.find(({ removeBorderBottom }) => removeBorderBottom);\n                    const isLastSection = index === config.length - 1;\n\n                    return (\n                        <div\n                            className={clsx('mobile-menu__content__items--padding', {\n                                'mobile-menu__content__items--bottom-border': !removeBorderBottom && !isLastSection,\n                            })}\n                            data-testid='dt_menu_item'\n                            key={index}\n                        >\n                            {item.map(\n                                (\n                                    {\n                                        LeftComponent,\n                                        RightComponent,\n                                        as,\n                                        href,\n                                        label,\n                                        onClick,\n                                        submenu,\n                                        target,\n                                        isActive,\n                                    },\n                                    itemIndex\n                                ) => {\n                                    const is_deriv_logo = label === 'Deriv.com';\n                                    if (as === 'a') {\n                                        return (\n                                            <MenuItem\n                                                as='a'\n                                                className={clsx('mobile-menu__content__items__item', {\n                                                    'mobile-menu__content__items__icons': !is_deriv_logo,\n                                                    'mobile-menu__content__items__item--active': isActive,\n                                                })}\n                                                disableHover\n                                                href={href}\n                                                key={`${index}-${itemIndex}-${label}`}\n                                                leftComponent={\n                                                    <LeftComponent\n                                                        className='mobile-menu__content__items--right-margin'\n                                                        height={16}\n                                                        width={16}\n                                                    />\n                                                }\n                                                target={target}\n                                            >\n                                                <Text size={textSize}>{label}</Text>\n                                            </MenuItem>\n                                        );\n                                    }\n                                    return (\n                                        <MenuItem\n                                            as='button'\n                                            className={clsx('mobile-menu__content__items__item', {\n                                                'mobile-menu__content__items__icons': !is_deriv_logo,\n                                                'mobile-menu__content__items__item--active': isActive,\n                                            })}\n                                            disableHover\n                                            key={`${index}-${itemIndex}-${label}`}\n                                            leftComponent={\n                                                <LeftComponent\n                                                    className='mobile-menu__content__items--right-margin'\n                                                    iconSize='xs'\n                                                />\n                                            }\n                                            onClick={() => {\n                                                if (submenu && onOpenSubmenu) {\n                                                    onOpenSubmenu(submenu);\n                                                } else if (onClick) {\n                                                    onClick();\n                                                }\n                                            }}\n                                            rightComponent={\n                                                submenu ? (\n                                                    <LegacyChevronRight1pxIcon\n                                                        className='mobile-menu__content__items--chevron'\n                                                        iconSize='xs'\n                                                    />\n                                                ) : (\n                                                    RightComponent\n                                                )\n                                            }\n                                        >\n                                            <Text size={textSize}>{label}</Text>\n                                        </MenuItem>\n                                    );\n                                }\n                            )}\n                        </div>\n                    );\n                })}\n            </div>\n        </div>\n    );\n});\n\nexport default MenuContent;\n",
            "size_bytes": 6350
        },
        "src/components/layout/header/account-info-wrapper.tsx": {
            "content": "import React from 'react';\n\ntype TAccountInfoWrapper = {\n    is_disabled?: boolean;\n    disabled_message?: string;\n    is_mobile?: boolean;\n    children: React.ReactNode;\n};\n\nconst AccountInfoWrapper = ({ is_disabled, children }: TAccountInfoWrapper) => {\n    return (\n        <div className={`account-info-wrapper ${is_disabled ? 'account-info-wrapper--disabled' : ''}`}>{children}</div>\n    );\n};\n\nexport default AccountInfoWrapper;\n",
            "size_bytes": 435
        },
        "src/components/summary/summary-card.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { observer } from 'mobx-react-lite';\nimport Text from '@/components/shared_ui/text';\nimport { getContractTypeDisplay } from '@/constants/contract';\nimport { useStore } from '@/hooks/useStore';\nimport { getSymbolDisplayNameSync } from '@/utils/symbol-display-name';\nimport { localize } from '@deriv-com/translations';\nimport { useDevice } from '@deriv-com/ui';\nimport ContractCardLoader from '../contract-card-loading';\nimport { getCardLabels } from '../shared';\nimport ContractCard from '../shared_ui/contract-card';\nimport { TSummaryCardProps } from './summary-card.types';\n\nconst SummaryCard = observer(({ contract_info, is_contract_loading, is_bot_running }: TSummaryCardProps) => {\n    const { summary_card, run_panel, ui, common } = useStore();\n    const { is_contract_completed, is_contract_inactive, is_multiplier, is_accumulator, setIsBotRunning } =\n        summary_card;\n    const { onClickSell, is_sell_requested, contract_stage } = run_panel;\n    const { addToast, current_focus, removeToast, setCurrentFocus } = ui;\n    const { server_time } = common;\n\n    const { isDesktop } = useDevice();\n\n    React.useEffect(() => {\n        const cleanup = setIsBotRunning();\n        return cleanup;\n    }, [is_contract_loading]);\n\n    const card_header = (\n        <ContractCard.Header\n            contract_info={contract_info}\n            display_name={\n                (contract_info as any)?.underlying_symbol\n                    ? getSymbolDisplayNameSync((contract_info as any).underlying_symbol)\n                    : ''\n            }\n            getCardLabels={getCardLabels}\n            getContractTypeDisplay={getContractTypeDisplay}\n            has_progress_slider={!is_multiplier}\n            is_sold={is_contract_completed}\n            server_time={server_time}\n        />\n    );\n\n    const card_body = (\n        <ContractCard.Body\n            addToast={addToast}\n            contract_info={contract_info}\n            currency={contract_info?.currency ?? ''}\n            current_focus={current_focus}\n            error_message_alignment='left'\n            getCardLabels={getCardLabels}\n            getContractById={() => summary_card}\n            is_mobile={!isDesktop}\n            is_multiplier={is_multiplier}\n            is_accumulator={is_accumulator}\n            is_sold={is_contract_completed}\n            removeToast={removeToast}\n            server_time={server_time}\n            setCurrentFocus={setCurrentFocus}\n        />\n    );\n\n    const card_footer = (\n        <ContractCard.Footer\n            contract_info={contract_info}\n            getCardLabels={getCardLabels}\n            is_multiplier={is_multiplier}\n            is_sell_requested={is_sell_requested}\n            onClickSell={onClickSell}\n        />\n    );\n\n    const contract_el = (\n        <React.Fragment>\n            {card_header}\n            {card_body}\n            {card_footer}\n        </React.Fragment>\n    );\n\n    return (\n        <div\n            className={classNames('db-summary-card', {\n                'db-summary-card--mobile': !isDesktop,\n                'db-summary-card--inactive': is_contract_inactive && !is_contract_loading && !contract_info,\n                'db-summary-card--completed': is_contract_completed,\n                'db-summary-card--completed-mobile': is_contract_completed && !isDesktop,\n                'db-summary-card--delayed-loading': is_bot_running,\n            })}\n            data-testid='dt_mock_summary_card'\n        >\n            {is_contract_loading && !is_bot_running && <ContractCardLoader speed={2} />}\n            {is_bot_running && <ContractCardLoader speed={2} contract_stage={contract_stage} />}\n            {!is_contract_loading && contract_info && !is_bot_running && (\n                <ContractCard\n                    contract_info={contract_info}\n                    getCardLabels={getCardLabels}\n                    is_multiplier={is_multiplier}\n                    profit_loss={contract_info.profit}\n                    should_show_result_overlay={true}\n                >\n                    <div\n                        className={classNames('dc-contract-card', {\n                            'dc-contract-card--green': contract_info.profit > 0,\n                            'dc-contract-card--red': contract_info.profit < 0,\n                        })}\n                    >\n                        {contract_el}\n                    </div>\n                </ContractCard>\n            )}\n            {!is_contract_loading && !contract_info && !is_bot_running && (\n                <Text as='p' align='center' lineHeight='s' size='xs'>\n                    {localize('When youre ready to trade, hit ')}\n                    <strong className='summary-panel-inactive__strong'>{localize('Run')}</strong>\n                    {localize('. Youll be able to track your bots performance here.')}\n                </Text>\n            )}\n        </div>\n    );\n});\n\nexport default SummaryCard;\n",
            "size_bytes": 5002
        },
        "src/components/trading-view-chart/trading-view.tsx": {
            "content": "const TradingViewComponent = () => {\n    return (\n        <iframe\n            id='trading-view-iframe'\n            style={{ width: '100%', height: '100%', backgroundColor: 'white' }}\n            src='https://charts.deriv.com/deriv?hide-signup=true'\n        />\n    );\n};\n\nexport default TradingViewComponent;\n",
            "size_bytes": 308
        },
        "src/components/layout/header/mobile-menu/__tests__/toggle-button.spec.tsx": {
            "content": "import { render, screen } from '@testing-library/react';\nimport userEvent from '@testing-library/user-event';\nimport ToggleButton from '../toggle-button';\n\nconst mockOnClick = jest.fn();\n\ndescribe('ToggleButton component', () => {\n    it('renders correctly', () => {\n        render(<ToggleButton onClick={mockOnClick} />);\n        expect(screen.getByRole('button')).toBeInTheDocument();\n        expect(screen.getByRole('img')).toBeInTheDocument();\n    });\n\n    it('calls onClick when clicked', async () => {\n        render(<ToggleButton onClick={mockOnClick} />);\n        await userEvent.click(screen.getByRole('button'));\n        expect(mockOnClick).toHaveBeenCalledTimes(1);\n    });\n});\n",
            "size_bytes": 689
        },
        "src/external/bot-skeleton/scratch/blocks/Text/text_getSubstring.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { emptyTextValidator, modifyContextMenu } from '../../utils';\n\nwindow.Blockly.Blocks.text_getSubstring = {\n    init() {\n        this.WHERE_OPTIONS_1 = [\n            [localize('letter #'), 'FROM_START'],\n            [localize('letter # from end'), 'FROM_END'],\n            [localize('first'), 'FIRST'],\n        ];\n        this.WHERE_OPTIONS_2 = [\n            [localize('letter #'), 'FROM_START'],\n            [localize('letter # from end'), 'FROM_END'],\n            [localize('last'), 'LAST'],\n        ];\n\n        this.jsonInit(this.definition());\n        this.updateAt(1, true);\n        this.updateAt(2, true);\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    definition() {\n        return {\n            message0: localize(\n                'in text {{ input_text }} get substring from {{ position1 }} {{ index1 }} to {{ position2 }} {{ index2 }}',\n                {\n                    input_text: '%1',\n                    position1: '%2',\n                    index1: '%3',\n                    position2: '%4',\n                    index2: '%5',\n                }\n            ),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'STRING',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'WHERE1',\n                    options: this.WHERE_OPTIONS_1,\n                },\n                {\n                    type: 'input_dummy',\n                    name: 'AT1',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'WHERE2',\n                    options: this.WHERE_OPTIONS_2,\n                },\n                {\n                    type: 'input_dummy',\n                    name: 'AT2',\n                },\n            ],\n            inputsInline: true,\n            output: 'String',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns a specific portion of a given string of text.'),\n            category: window.Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Get substring'),\n            description: localize('Returns a specific portion of a given string of text.'),\n        };\n    },\n    mutationToDom() {\n        const container = document.createElement('mutation');\n        const isAt1 = this.getInput('AT1').type === window.Blockly.INPUT_VALUE;\n        const isAt2 = this.getInput('AT2').type === window.Blockly.INPUT_VALUE;\n\n        container.setAttribute('at1', isAt1);\n        container.setAttribute('at2', isAt2);\n\n        return container;\n    },\n    domToMutation(xmlElement) {\n        const isAt1 = xmlElement.getAttribute('at1') === 'true';\n        const isAt2 = xmlElement.getAttribute('at2') === 'true';\n\n        this.updateAt(1, isAt1);\n        this.updateAt(2, isAt2);\n    },\n    updateAt(n, is_at) {\n        const input = this.getInput(`AT${n}`);\n        let old_label_text;\n\n        // Keep track of initial FieldLabel, we'll restore this when\n        // input types were changed.\n        if (input) {\n            input.fieldRow.some(field => {\n                if (field instanceof window.Blockly.FieldLabel) {\n                    old_label_text = field.text_; // eslint-disable-line no-underscore-dangle\n                }\n            });\n            this.removeInput(`AT${n}`);\n        }\n\n        const new_input = is_at ? this.appendValueInput(`AT${n}`).setCheck('Number') : this.appendDummyInput(`AT${n}`);\n\n        if (old_label_text) {\n            new_input.insertFieldAt(0, new window.Blockly.FieldLabel(old_label_text));\n        }\n\n        const menu = new window.Blockly.FieldDropdown(this[`WHERE_OPTIONS_${n}`], value => {\n            const new_at = ['FROM_START', 'FROM_END'].includes(value);\n\n            if (new_at !== is_at) {\n                this.updateAt(n, new_at);\n                this.setFieldValue(value, `WHERE${n}`);\n\n                return null;\n            }\n\n            return undefined;\n        });\n\n        this.getInput(`AT${n}`).appendField(menu, `WHERE${n}`);\n\n        if (n === 1) {\n            this.moveInputBefore('AT1', 'AT2');\n        }\n\n        this.initSvg();\n        this.renderEfficiently();\n    },\n    getRequiredValueInputs() {\n        const hasInput = input_name => this.getInput(input_name)?.type === window.Blockly.INPUT_VALUE;\n        return {\n            STRING: emptyTextValidator,\n            ...(hasInput('AT1') ? { AT1: emptyTextValidator } : {}),\n            ...(hasInput('AT2') ? { AT2: emptyTextValidator } : {}),\n        };\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.text_getSubstring = block => {\n    const text =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'STRING',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_FUNCTION_CALL\n        ) || \"''\";\n    const where1 = block.getFieldValue('WHERE1');\n    const where2 = block.getFieldValue('WHERE2');\n\n    let at1, at2, code;\n\n    if (where1 === 'FIRST' && where2 === 'LAST') {\n        code = text;\n    } else if (\n        text.match(/^'?\\w+'?$/) ||\n        (where1 !== 'FROM_END' && where1 !== 'LAST' && where2 !== 'FROM_END' && where2 !== 'LAST')\n    ) {\n        switch (where1) {\n            case 'FROM_START': {\n                at1 = window.Blockly.JavaScript.javascriptGenerator.getAdjusted(block, 'AT1');\n                break;\n            }\n            case 'FROM_END': {\n                at1 = window.Blockly.JavaScript.javascriptGenerator.getAdjusted(\n                    block,\n                    'AT1',\n                    1,\n                    false,\n                    window.Blockly.JavaScript.javascriptGenerator.ORDER_SUBTRACTION\n                );\n                at1 = `${text}.length - ${at1}`;\n                break;\n            }\n            case 'FIRST': {\n                at1 = '0';\n                break;\n            }\n            default:\n                break;\n        }\n\n        switch (where2) {\n            case 'FROM_START': {\n                at2 = window.Blockly.JavaScript.javascriptGenerator.getAdjusted(block, 'AT2', 1);\n                break;\n            }\n            case 'FROM_END': {\n                at2 = window.Blockly.JavaScript.javascriptGenerator.getAdjusted(\n                    block,\n                    'AT2',\n                    0,\n                    false,\n                    window.Blockly.JavaScript.javascriptGenerator.ORDER_SUBTRACTION\n                );\n                at2 = `${text}.length - ${at2}`;\n                break;\n            }\n            case 'LAST': {\n                at2 = `${text}.length`;\n                break;\n            }\n            default:\n                break;\n        }\n\n        code = `${text}.slice(${at1}, ${at2})`;\n    } else {\n        at1 = window.Blockly.JavaScript.javascriptGenerator.getAdjusted(block, 'AT1');\n        at2 = window.Blockly.JavaScript.javascriptGenerator.getAdjusted(block, 'AT2');\n\n        const getIndex = (string_name, where, opt_at) => {\n            if (where === 'FIRST') {\n                return '0';\n            } else if (where === 'FROM_END') {\n                return `${string_name}.length - 1 - ${opt_at}`;\n            } else if (where === 'LAST') {\n                return `${string_name}.length - 1`;\n            }\n            return opt_at;\n        };\n        const where_pascal_case = {\n            FIRST: 'First',\n            LAST: 'Last',\n            FROM_START: 'FromStart',\n            FROM_END: 'FromEnd',\n        };\n        // eslint-disable-next-line no-underscore-dangle\n        const functionName = window.Blockly.JavaScript.javascriptGenerator.provideFunction_(\n            `subsequence${where_pascal_case[where1]}${where_pascal_case[where2]}`,\n            [\n                // eslint-disable-next-line no-underscore-dangle\n                `function ${window.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(\n                    sequence\n                    ${where1 === 'FROM_END' || where1 === 'FROM_START' ? ', at1' : ''}\n                    ${where2 === 'FROM_END' || where2 === 'FROM_START' ? ', at2' : ''}\n                ) {\n                    var start = ${getIndex('sequence', where1, 'at1')};\n                    var end   = ${getIndex('sequence', where2, 'at2')} + 1;\n                    \n                    return sequence.slice(start, end);\n                }`,\n            ]\n        );\n\n        code = `${functionName}(\n            ${text}\n            ${where1 === 'FROM_END' || where1 === 'FROM_START' ? `, ${at1}` : ''}\n            ${where2 === 'FROM_END' || where2 === 'FROM_START' ? `, ${at2}` : ''}\n        )`;\n    }\n\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_FUNCTION_CALL];\n};\n",
            "size_bytes": 9044
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Trade Definition/trade_definition_multiplier.js": {
            "content": "import { getCurrencyDisplayCode, getDecimalPlaces } from '@/components/shared';\nimport { localize } from '@deriv-com/translations';\nimport { config } from '../../../../constants/config';\nimport ApiHelpers from '../../../../services/api/api-helpers';\nimport DBotStore from '../../../dbot-store';\nimport {\n    excludeOptionFromContextMenu,\n    modifyContextMenu,\n    runGroupedEvents,\n    runIrreversibleEvents,\n    setCurrency,\n} from '../../../utils';\n\nwindow.Blockly.Blocks.trade_definition_multiplier = {\n    init() {\n        this.jsonInit(this.definition());\n\n        // Ensure one of this type per statement-stack\n        this.setNextStatement(false);\n    },\n    definition() {\n        return {\n            message0: localize('Multiplier: {{ multiplier }}', {\n                multiplier: '%1',\n            }),\n            message1: `${localize('Stake')}: %1 %2 %3`,\n            message2: '%1',\n            message3: '%1',\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'MULTIPLIERTYPE_LIST',\n                    options: [['', '']],\n                },\n            ],\n            args1: [\n                {\n                    type: 'field_label',\n                    name: 'CURRENCY_LIST',\n                    text: getCurrencyDisplayCode(config().lists.CURRENCY[0]),\n                },\n                {\n                    type: 'input_value',\n                    name: 'AMOUNT',\n                    check: 'Number',\n                },\n                {\n                    type: 'field_label',\n                    name: 'AMOUNT_LIMITS',\n                    text: '',\n                },\n            ],\n            args2: [\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args3: [\n                {\n                    type: 'input_statement',\n                    name: 'MULTIPLIER_PARAMS',\n                },\n            ],\n            inputsInline: true,\n            colour: window.Blockly.Colours.Special1.colour,\n            colourSecondary: window.Blockly.Colours.Special1.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Special1.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Define your trade options such as multiplier and stake.'),\n            category: window.Blockly.Categories.Trade_Definition,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Multiplier trade options'),\n            description: localize(\n                'Define your trade options such as multiplier and stake. This block can only be used with the multipliers trade type. If you select another trade type, this block will be replaced with the Trade options block.'\n            ),\n        };\n    },\n    validateBlocksInStatement() {\n        // Enforce only multiplier_<type> blocks in MULTIPLIER_PARAMS statement.\n        const blocks_in_multiplier = this.getBlocksInStatement('MULTIPLIER_PARAMS');\n\n        if (blocks_in_multiplier.length > 0) {\n            const block_types_in_multiplier = [];\n            blocks_in_multiplier.forEach(block => {\n                block_types_in_multiplier.push(block.type);\n                const block_multiplier_take_profit = block.childValueToCode('multiplier_take_profit', 'AMOUNT');\n                const block_multiplier_stop_loss = block.childValueToCode('multiplier_stop_loss', 'AMOUNT');\n                if (block_multiplier_take_profit <= 0 || block_multiplier_stop_loss <= 0) {\n                    block.setDisabled(true);\n                }\n\n                if (block.type === 'multiplier_stop_loss' && block_multiplier_stop_loss > 0) {\n                    block.setDisabled(false);\n                }\n\n                if (block.type === 'multiplier_take_profit' && block_multiplier_take_profit > 0) {\n                    block.setDisabled(false);\n                }\n\n                if (\n                    !/^multiplier_.+$/.test(block.type) ||\n                    new Set(block_types_in_multiplier).size !== block_types_in_multiplier.length\n                ) {\n                    runIrreversibleEvents(() => {\n                        block.unplug(true);\n                    });\n                }\n            });\n        }\n    },\n    onchange(event) {\n        if (!this.workspace || window.Blockly.derivWorkspace.isFlyoutVisible || this.workspace.isDragging()) {\n            return;\n        }\n\n        const trade_definition_block = this.workspace\n            .getAllBlocks(true)\n            .find(block => block.type === 'trade_definition');\n        if (!trade_definition_block) {\n            return;\n        }\n\n        const market_block = trade_definition_block.getChildByType('trade_definition_market');\n        const trade_type_block = trade_definition_block.getChildByType('trade_definition_tradetype');\n\n        if (!market_block || !trade_type_block) {\n            return;\n        }\n\n        this.selected_symbol = market_block.getFieldValue('SYMBOL_LIST');\n        this.selected_market = market_block.getFieldValue('MARKET_LIST');\n        this.selected_trade_type_category = trade_type_block.getFieldValue('TRADETYPECAT_LIST');\n        this.selected_trade_type = trade_type_block.getFieldValue('TRADETYPE_LIST');\n        this.selected_multiplier = this.getFieldValue('MULTIPLIERTYPE_LIST');\n\n        const is_load_event = /^dbot-load/.test(event.group);\n\n        if (event.type === window.Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id)) {\n            setCurrency(this);\n            if (is_load_event) {\n                // Do NOT touch any values when a strategy is being loaded.\n                this.updateMultiplierInput(false);\n            } else {\n                this.updateMultiplierInput(true);\n            }\n            return;\n        }\n\n        if (event.type === window.Blockly.Events.BLOCK_CHANGE) {\n            setCurrency(this);\n            this.validateBlocksInStatement();\n            if (is_load_event) {\n                if (event.name === 'TRADETYPE_LIST') {\n                    this.updateMultiplierInput(false);\n                }\n            } else if (event.blockId === this.id) {\n                switch (event.name) {\n                    case 'MULTIPLIERTYPE_LIST': {\n                        this.updateMultiplierInput(false);\n                        break;\n                    }\n                    default:\n                        break;\n                }\n            } else if (event.name === 'SYMBOL_LIST' || event.name === 'TRADETYPE_LIST') {\n                this.updateMultiplierInput(true);\n            }\n            return;\n        }\n\n        if (event.type === window.Blockly.Events.BLOCK_DRAG && !event.isStart) {\n            this.validateBlocksInStatement();\n            if (event.blockId === this.id) {\n                // Ensure this block is populated after initial drag from flyout.\n                if (!this.selected_multiplier) {\n                    const fake_creation_event = new window.Blockly.Events.BlockCreate(this);\n                    fake_creation_event.recordUndo = false;\n                    window.Blockly.Events.fire(fake_creation_event);\n                } else if (this.selected_trade_type !== 'multiplier') {\n                    this.updateMultiplierInput(true);\n                }\n            }\n        }\n    },\n\n    updateMultiplierInput(should_use_default_value) {\n        const { contracts_for } = ApiHelpers?.instance ?? {};\n\n        if (this.selected_trade_type === 'multiplier') {\n            contracts_for\n                ?.getMultiplierRange?.(this.selected_symbol, this.selected_trade_type)\n                ?.then(multiplier_range => {\n                    if (multiplier_range && multiplier_range.length > 0) {\n                        const multiplier_list_dropdown = this.getField('MULTIPLIERTYPE_LIST');\n                        const multiplier_options = multiplier_range.map(value => {\n                            const option = value.toString();\n                            return [option, option];\n                        });\n                        multiplier_list_dropdown?.updateOptions(multiplier_options, {\n                            default_value: should_use_default_value ? undefined : multiplier_list_dropdown.getValue(),\n                        });\n                    } else {\n                        // If no multiplier range available, set default fallback options\n                        console.warn('DEBUG: No multiplier range available, using fallback options');\n                        const multiplier_list_dropdown = this.getField('MULTIPLIERTYPE_LIST');\n                        const fallback_options = [\n                            ['100', '100'],\n                            ['200', '200'],\n                            ['300', '300'],\n                            ['500', '500'],\n                            ['1000', '1000'],\n                        ];\n\n                        multiplier_list_dropdown?.updateOptions(fallback_options, {\n                            default_value: should_use_default_value ? undefined : multiplier_list_dropdown.getValue(),\n                        });\n                    }\n                })\n                ?.catch(error => {\n                    console.error('DEBUG: Error getting multiplier range:', error);\n                    // Set fallback options on error\n                    const multiplier_list_dropdown = this.getField('MULTIPLIERTYPE_LIST');\n                    const fallback_options = [\n                        ['100', '100'],\n                        ['200', '200'],\n                        ['300', '300'],\n                        ['500', '500'],\n                        ['1000', '1000'],\n                    ];\n\n                    multiplier_list_dropdown?.updateOptions(fallback_options, {\n                        default_value: should_use_default_value ? undefined : multiplier_list_dropdown.getValue(),\n                    });\n                });\n            return;\n        }\n\n        if (this.isDescendantOf('trade_definition')) {\n            runIrreversibleEvents(() => {\n                runGroupedEvents(false, () => {\n                    const {\n                        workspaces: {\n                            indentWorkspace: { x, y },\n                        },\n                    } = config();\n\n                    const duration_block = this.workspace.newBlock('trade_definition_tradeoptions');\n                    duration_block.initSvg();\n                    duration_block.renderEfficiently();\n\n                    const trade_definition_block = this.workspace.getTradeDefinitionBlock();\n                    const parent_connection = trade_definition_block.getInput('SUBMARKET').connection;\n                    const child_connection = duration_block.previousConnection;\n                    parent_connection.connect(child_connection);\n\n                    const duration_input = duration_block.getInput('DURATION');\n\n                    const duration_shadow_block = this.workspace.newBlock('math_number_positive');\n                    duration_shadow_block.setShadow(true);\n                    duration_shadow_block.outputConnection.connect(duration_input.connection);\n                    duration_shadow_block.initSvg();\n                    duration_shadow_block.renderEfficiently();\n\n                    const stake_input = duration_block.getInput('AMOUNT');\n\n                    const stake_shadow_block = this.workspace.newBlock('math_number_positive');\n                    stake_shadow_block.setShadow(true);\n                    stake_shadow_block.setFieldValue(1, 'NUM');\n                    stake_shadow_block.outputConnection.connect(stake_input.connection);\n                    stake_shadow_block.initSvg();\n                    stake_shadow_block.renderEfficiently();\n\n                    this.dispose();\n                    window.Blockly.getMainWorkspace().cleanUp(x, y);\n                });\n            });\n        }\n    },\n    customContextMenu(menu) {\n        const menu_items = [localize('Enable Block'), localize('Disable Block')];\n        excludeOptionFromContextMenu(menu, menu_items);\n        modifyContextMenu(menu);\n    },\n    restricted_parents: ['trade_definition'],\n    getRequiredValueInputs() {\n        return {\n            AMOUNT: input => {\n                const input_number = Number(input);\n                const max_payout = this.amount_limits?.max_payout;\n                const min_stake = this.amount_limits?.min_stake;\n                if (min_stake && input_number < min_stake) {\n                    this.error_message = localize(\"Please enter a stake amount that's at least {{min_stake}}.\", {\n                        min_stake,\n                    });\n                    return input_number < min_stake;\n                }\n                if (max_payout && input_number > max_payout) {\n                    this.error_message = localize(\"Please enter a payout amount that's lower than {{max_payout}}.\", {\n                        max_payout,\n                    });\n                    return input_number > max_payout;\n                }\n                this.error_message = localize('Amount must be a positive number.');\n                return !isNaN(input_number) && input_number <= 0;\n            },\n        };\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.trade_definition_multiplier = block => {\n    const amount =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'AMOUNT',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC\n        ) || '0';\n    const { currency } = DBotStore.instance.client;\n    const { setContractUpdateConfig } = DBotStore.instance;\n    const multiplier_value = block.getFieldValue('MULTIPLIERTYPE_LIST') || '1';\n    const stop_loss =\n        !block.getChildByType('multiplier_stop_loss')?.disabled &&\n        block.childValueToCode('multiplier_stop_loss', 'AMOUNT');\n    const take_profit =\n        !block.getChildByType('multiplier_take_profit')?.disabled &&\n        block.childValueToCode('multiplier_take_profit', 'AMOUNT');\n    const limit_order = {\n        stop_loss: stop_loss ? `+(Number(${stop_loss}).toFixed(2))` : undefined,\n        take_profit: take_profit ? `+(Number(${take_profit}).toFixed(2))` : undefined,\n    };\n\n    setContractUpdateConfig(take_profit, stop_loss);\n    // Determine decimal places for rounding the stake, this is done so Martingale multipliers\n    // are not affected by fractional values e.g. USD 12.232323 will become 12.23.\n    const decimal_places = getDecimalPlaces(currency);\n    const stake_amount = `+(Number(${amount}).toFixed(${decimal_places}))`;\n\n    const code = `\n        Bot.start({\n            limitations        : BinaryBotPrivateLimitations,\n            multiplier         : ${multiplier_value},\n            currency           : '${currency}',\n            amount             : ${stake_amount},\n            limit_order        : ${JSON.stringify(limit_order)},\n            basis              : 'stake',\n            stop_loss          : ${limit_order.stop_loss},\n            take_profit        : ${limit_order.take_profit},\n        });\n        BinaryBotPrivateHasCalledTradeOptions = true;\n    `;\n\n    return code;\n};\n",
            "size_bytes": 15273
        },
        "src/utils/session-token-utils.ts": {
            "content": "import Cookies from 'js-cookie';\n\n/**\n * Get the wildcard domain for cookies (e.g., \".deriv.com\" from \"staging.deriv.com\")\n * This allows cookies to be shared across subdomains\n */\nconst getWildcardDomain = (): string => {\n    try {\n        return '.' + window.location.hostname.split('.').slice(-2).join('.');\n    } catch (error) {\n        console.error('Error getting wildcard domain:', error);\n        return '';\n    }\n};\n\n/**\n * Set session token in both localStorage and cookies\n * @param token - The session token to store\n * @param expires - Optional ISO 8601 expiry date string from API\n */\nexport const setSessionToken = (token: string, expires?: string): void => {\n    try {\n        // Store in localStorage for backward compatibility and local tab sync\n        localStorage.setItem('session_token', token);\n\n        // Store in cookies for cross-app synchronization\n        const domain = getWildcardDomain();\n        const cookieOptions: Cookies.CookieAttributes = {\n            domain: domain,\n            secure: window.location.protocol === 'https:',\n            sameSite: 'Lax',\n        };\n\n        // Use API expiry if provided, otherwise no expiration (like localStorage)\n        if (expires) {\n            cookieOptions.expires = new Date(expires);\n        }\n\n        Cookies.set('session_token', token, cookieOptions);\n    } catch (error) {\n        console.error('Error setting session token:', error);\n    }\n};\n\n/**\n * Get session token from localStorage (primary) or cookies (fallback)\n * @returns The session token or null if not found\n */\nexport const getSessionToken = (): string | null => {\n    try {\n        // Try localStorage first for better performance\n        const localToken = localStorage.getItem('session_token');\n        if (localToken) {\n            return localToken;\n        }\n\n        // Fallback to cookies if localStorage is empty\n        const cookieToken = Cookies.get('session_token');\n        return cookieToken || null;\n    } catch (error) {\n        console.error('Error getting session token:', error);\n        return null;\n    }\n};\n\n/**\n * Remove session token from both localStorage and cookies\n */\nexport const removeSessionToken = (): void => {\n    try {\n        // Remove from localStorage\n        localStorage.removeItem('session_token');\n\n        // Remove from cookies\n        const domain = getWildcardDomain();\n        Cookies.remove('session_token', { domain: domain });\n\n        // Also try removing without domain for cleanup\n        Cookies.remove('session_token');\n    } catch (error) {\n        console.error('Error removing session token:', error);\n    }\n};\n",
            "size_bytes": 2623
        },
        "src/pages/bot-builder/quick-strategy/inputs/qs-input-label.tsx": {
            "content": "import React from 'react';\nimport Popover from '@/components/shared_ui/popover';\nimport Text from '@/components/shared_ui/text';\n\ntype TQSInputLabel = {\n    children?: React.ReactNode;\n    label?: string;\n    description?: string | ((additional_data?: Record<string, unknown>) => React.ReactNode);\n    additional_data?: Record<string, unknown>;\n};\n\nconst QSInputLabel: React.FC<TQSInputLabel> = ({ label, description, additional_data }) => {\n    let tooltip_msg;\n    if (typeof description === 'function') {\n        tooltip_msg = description(additional_data);\n    } else {\n        tooltip_msg = description;\n    }\n    return (\n        <div className='qs__form__field'>\n            <div className='qs__input-label'>\n                <Text weight='bold' className='qs__input-label__wrapper' size='xs'>\n                    {label}\n                </Text>\n                <span>\n                    <Popover message={tooltip_msg} zIndex='9999' alignment='top' icon='info' />\n                </span>\n            </div>\n        </div>\n    );\n};\n\nexport default QSInputLabel;\n",
            "size_bytes": 1068
        },
        "src/components/error-modal/index.ts": {
            "content": "import ErrorModal from './error-modal';\nimport './error-modal.scss';\n\nexport default ErrorModal;\n",
            "size_bytes": 97
        },
        "src/components/logout-success-modal/logout-success-modal.tsx": {
            "content": "import React from 'react';\nimport { observer } from 'mobx-react-lite';\nimport { useStore } from '@/hooks/useStore';\nimport { Modal } from '@deriv-com/quill-ui-next';\nimport { useTranslations } from '@deriv-com/translations';\n\nconst LogoutSuccessModal: React.FC = observer(() => {\n    const { localize } = useTranslations();\n    const { client } = useStore();\n\n    const handleClose = () => {\n        client.setShowLogoutSuccessModal(false);\n    };\n\n    if (!client.show_logout_success_modal) return null;\n\n    return (\n        <Modal\n            show={client.show_logout_success_modal}\n            type='auto'\n            title={localize('Log out successful')}\n            description={localize('To sign out everywhere, log out from Home and your other active platforms.')}\n            showCloseButton={false}\n            showHandleBar={false}\n            buttonPrimary={{\n                label: localize('Got it'),\n                style: 'primary',\n                size: 'lg',\n                color: 'coral',\n                onClick: handleClose,\n            }}\n            onClose={handleClose}\n        />\n    );\n});\n\nexport default LogoutSuccessModal;\n",
            "size_bytes": 1155
        },
        "src/external/bot-skeleton/scratch/dbot-store.js": {
            "content": "import { reaction } from 'mobx';\nimport { api_base } from '../services/api/api-base';\n\nclass DBotStoreInterface {\n    // TODO here we are suppose to define an interface and implement fields of DBotStore.\n    handleFileChange = () => {\n        throw Error('handleFileChange has not been implemented.');\n    };\n\n    toggleStrategyModal = () => {\n        throw Error('handleFileChange has not been implemented.');\n    };\n}\n\nclass DBotStore extends DBotStoreInterface {\n    static singleton = null;\n\n    constructor(store) {\n        super();\n        this.is_mobile = store.is_mobile || false;\n        this.is_dark_mode_on = store.is_dark_mode_on || false;\n        this.client = store.client;\n        this.dashboard = store.dashboard;\n        this.flyout = store.flyout;\n        this.toolbar = store.toolbar;\n        this.toolbox = store.toolbox;\n        this.save_modal = store.save_modal;\n        this.load_modal = store.load_modal;\n        this.setContractUpdateConfig = store.setContractUpdateConfig;\n        this.toggleStrategyModal = store.toggleStrategyModal;\n        this.handleFileChange = store.handleFileChange;\n        this.setLoading = store.setLoading;\n\n        reaction(\n            () => this.client.loginid,\n            () => api_base.createNewInstance(this.client.loginid)\n        );\n    }\n\n    static setInstance(store) {\n        this.singleton = new DBotStore(store);\n        return this.instance;\n    }\n\n    static get instance() {\n        return this.singleton;\n    }\n}\n\nexport default DBotStore;\n",
            "size_bytes": 1514
        },
        "src/components/layout/header/wallets/wallet-badge.tsx": {
            "content": "import React from 'react';\nimport Badge from '@/components/shared_ui/badge';\nimport { localize } from '@deriv-com/translations';\n\ntype TWalletBadge = {\n    is_demo: boolean;\n    label?: string;\n};\n\nconst WalletBadge = ({ is_demo, label }: TWalletBadge) => {\n    return is_demo ? (\n        <Badge type='contained' background_color='blue' label={localize('Demo')} custom_color='colored-background' />\n    ) : (\n        <Badge type='bordered' label={label?.toUpperCase() ?? ''} />\n    );\n};\n\nexport default WalletBadge;\n",
            "size_bytes": 517
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Indicators/ema_statement.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.ema_statement = {\n    protected_statements: ['STATEMENT'],\n    required_child_blocks: ['input_list', 'period'],\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to Exponential Moving Average {{ dummy }}', {\n                variable: '%1',\n                dummy: '%2',\n            }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: 'ema',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STATEMENT',\n                    check: null,\n                },\n            ],\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Calculates Exponential Moving Average (EMA) from a list with a period'),\n            previousStatement: null,\n            nextStatement: null,\n            category: window.Blockly.Categories.Indicators,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Exponential Moving Average (EMA)'),\n            description: localize(\n                'EMA is a type of moving average that places more significance on the most recent data points. Its also known as the exponentially weighted moving average. EMA is different from SMA in that it reacts more significantly to recent price changes.'\n            ),\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    onchange: window.Blockly.Blocks.bb_statement.onchange,\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.ema_statement = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = window.Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        window.Blockly.Variables.CATEGORY_NAME\n    );\n    const input = block.childValueToCode('input_list', 'INPUT_LIST');\n    const period = block.childValueToCode('period', 'PERIOD');\n    const code = `${var_name} = Bot.ema(${input}, ${period});\\n`;\n\n    return code;\n};\n",
            "size_bytes": 2538
        },
        "src/constants/quick-strategies/d_alembert.ts": {
            "content": "import { getImageLocation } from '../../public-path';\nimport { localize } from '@deriv-com/translations';\nimport { TDescriptionItem } from '../../pages/bot-builder/quick-strategy/types';\n\nexport const D_ALEMBERT = (): TDescriptionItem[] => [\n    {\n        type: 'subtitle',\n        content: [localize('Exploring the DAlembert strategy in Deriv Bot')],\n        expanded: true,\n        no_collapsible: false,\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                \"The D'Alembert strategy involves increasing your stake after a losing trade and reducing it after a successful trade by a predetermined number of units.\"\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('Key parameters')],\n    },\n    {\n        type: 'text',\n        content: [localize('These are the trade parameters used for DAlembert strategy in Deriv Bot.')],\n    },\n    {\n        type: 'text',\n        content: [localize('<strong>Initial stake:</strong> The starting trade amount.')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                '<strong>Unit:</strong> The number of units that are added in the event of a trade resulting in loss or the number of units removed in the event of a trade resulting in profit. For example, if the unit is set at 2, the stake increases or decreases by two times the initial stake of 1 USD, meaning it changes by 2 USD.'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                '<strong>Profit threshold:</strong> The bot will stop trading if your total profit exceeds this amount.'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                '<strong>Loss threshold:</strong> The bot will stop trading if your total loss exceeds this amount.'\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('An example of DAlembert strategy')],\n    },\n    {\n        type: 'media',\n        src: getImageLocation('dalembert.svg'),\n        alt: localize('An example of DAlembert strategy'),\n    },\n    {\n        type: 'text',\n        content: [\n            localize('1. Start with the initial stake. In this example, well use 1 USD.'),\n            localize('2. Set your preferred unit. In this example, it is 2 units or 2 USD.'),\n            localize(\n                '3. If the first trade results in profit, the stake for the following trade will not reduce but remain at the initial stake. The strategy minimally trades at the initial stake of 1 USD. See A1.'\n            ),\n            localize(\n                '4. If the second trade results in a loss, the Deriv Bot will automatically increase your stake for the next trade by 2 USD. Deriv Bot will continue to add 2 USD to the previous rounds stake after every losing trade. See A2.'\n            ),\n            localize(\n                '5. If the next trades are profitable, the stake for the following trade will be reduced by 2 USD. This can be shown above where the stake of 3 USD is reduced to 1 USD. See A3.'\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('Profit and loss thresholds')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                \"With Deriv Bot, traders can set the profit and loss thresholds to secure potential profits and limit potential losses. This means that the trading bot will automatically stop when either the profit or loss thresholds are reached. It's a form of risk management that can potentially enhance returns. For example, if a trader sets the profit threshold at 100 USD and the strategy exceeds 100 USD of profit from all trades, then the bot will stop running.\"\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('Estimating the lifespan of your trades')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                'The DAlembert strategy is less risky than Martingale, but you can still determine how long your funds will last with this strategy before trading. Simply use this formula.'\n            ),\n        ],\n    },\n    {\n        type: 'media',\n        src: getImageLocation('dalembert_formula_1.svg'),\n        dark_src: getImageLocation('dalembert_formula_dark_1.svg'),\n        alt: localize('DAlembert formula 1'),\n        className: 'formula',\n        styles: { height: '6rem' },\n    },\n    {\n        type: 'text',\n        content: [\n            localize('Where:'),\n            localize('R is the number of rounds a trader can sustain given a specific loss threshold.'),\n            localize('B is the loss threshold.'),\n            localize('s is the initial stake.'),\n            localize('f is the unit increment.'),\n        ],\n        className: 'no-margin',\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                'For instance, if a trader has a loss threshold (B) of 100 USD, with an initial stake (s) of 1 USD and 2 units of increment (f), the calculation would be as follows:'\n            ),\n        ],\n        className: 'top-margin',\n    },\n    {\n        type: 'media',\n        src: getImageLocation('dalembert_formula_2.svg'),\n        dark_src: getImageLocation('dalembert_formula_dark_2.svg'),\n        alt: localize('DAlembert formula 2'),\n        className: 'formula',\n        styles: { height: '6rem' },\n    },\n    {\n        type: 'text',\n        content: [localize('Number of rounds (R) = 10')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                'This means after 10 rounds of consecutive losses, this trader will lose 100 USD. This reaches the loss threshold of 100 USD, stopping the bot.'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                'This formula helps you plan your trades by considering the amount of money you have and your comfort level with risk. It involves determining your loss threshold and the initial stake you want to trade with. Then, you use this formula to calculate the number of rounds you can trade. This process provides insight into stake sizing and expectations.'\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('Summary')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                \"The D'Alembert system offers more balanced trading through controlled stake progression. With prudent risk management like stake limits, it can be effectively automated in Deriv Bot. However, traders should thoroughly assess their risk appetite, test strategies on a demo account to align with their trading style before trading with real money. This allows optimising the approach and striking a balance between potential gains and losses whilst managing risk.\"\n            ),\n        ],\n    },\n    {\n        type: 'text_italic',\n        content: [localize('<strong>Disclaimer:</strong>')],\n    },\n    {\n        type: 'text_italic',\n        content: [\n            localize(\n                'Please be aware that while we may use rounded figures for illustration, a stake of a specific amount does not guarantee an exact amount in successful trades. For example, a 1 USD stake does not necessarily equate to a 1 USD profit in successful trades.'\n            ),\n        ],\n    },\n    {\n        type: 'text_italic',\n        content: [\n            localize(\n                'Trading inherently involves risks, and actual profits can fluctuate due to various factors, including market volatility and other unforeseen variables. As such, exercise caution and conduct thorough research before engaging in any trading activities.'\n            ),\n        ],\n    },\n];\n",
            "size_bytes": 7873
        },
        "analysis-tool/Benanalysistool-final-main/components/charts/over-under-pie-chart.tsx": {
            "content": "\"use client\"\n\nimport { PieChart, Pie, Cell, ResponsiveContainer, Legend, Tooltip } from \"recharts\"\n\ninterface OverUnderPieChartProps {\n  highCount: number\n  lowCount: number\n}\n\nexport function OverUnderPieChart({ highCount, lowCount }: OverUnderPieChartProps) {\n  const data = [\n    { name: \"Over 4.5\", value: highCount, color: \"hsl(var(--success))\" },\n    { name: \"Under 4.5\", value: lowCount, color: \"hsl(var(--chart-5))\" },\n  ]\n\n  return (\n    <ResponsiveContainer width=\"100%\" height={300}>\n      <PieChart>\n        <Pie\n          data={data}\n          cx=\"50%\"\n          cy=\"50%\"\n          labelLine={false}\n          label={({ name, percent }) => `${name}: ${(percent * 100).toFixed(1)}%`}\n          outerRadius={100}\n          fill=\"#8884d8\"\n          dataKey=\"value\"\n        >\n          {data.map((entry, index) => (\n            <Cell key={`cell-${index}`} fill={entry.color} />\n          ))}\n        </Pie>\n        <Tooltip\n          contentStyle={{\n            backgroundColor: \"hsl(var(--card))\",\n            border: \"1px solid hsl(var(--border))\",\n            borderRadius: \"0.5rem\",\n          }}\n        />\n        <Legend />\n      </PieChart>\n    </ResponsiveContainer>\n  )\n}\n",
            "size_bytes": 1190
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Tick Analysis/tick_analysis.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.tick_analysis = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2 %3',\n            args0: [\n                {\n                    type: 'field_label',\n                    text: localize('The content of this block is called on every tick'),\n                    class: 'blocklyTextTickAnalysis',\n                },\n                {\n                    type: 'input_dummy',\n                },\n                {\n                    type: 'input_statement',\n                    name: 'TICKANALYSIS_STACK',\n                    check: null,\n                },\n            ],\n            colour: window.Blockly.Colours.RootBlock.colour,\n            colourSecondary: window.Blockly.Colours.RootBlock.colourSecondary,\n            colourTertiary: window.Blockly.Colours.RootBlock.colourTertiary,\n            tooltip: localize('You can use this block to analyze the ticks, regardless of your trades'),\n            category: window.Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Run on every tick'),\n            description: localize(\n                'The content of this block is called on every tick. Place this block outside of any root block.'\n            ),\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.tick_analysis = block => {\n    const stack = window.Blockly.JavaScript.javascriptGenerator.statementToCode(block, 'TICKANALYSIS_STACK') || '';\n    const code = `\n    BinaryBotPrivateTickAnalysisList.push(function BinaryBotPrivateTickAnalysis() {\n        ${stack}\n    });\\n`;\n    return code;\n};\n",
            "size_bytes": 1870
        },
        "src/external/bot-skeleton/scratch/blocks/Math/math_number_property.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../utils';\n\nwindow.Blockly.Blocks.math_number_property = {\n    init() {\n        this.jsonInit(this.definition());\n\n        this.setOnChange(event => {\n            if (event.name === 'PROPERTY') {\n                const hasDivisorInput = this.getFieldValue('PROPERTY') === 'DIVISIBLE_BY';\n                this.updateShape(hasDivisorInput);\n            }\n        });\n    },\n    definition() {\n        return {\n            message0: localize('{{ number }} is {{ type }}', {\n                number: '%1',\n                type: '%2',\n            }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'NUMBER_TO_CHECK',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'PROPERTY',\n                    options: [\n                        [localize('even'), 'EVEN'],\n                        [localize('odd'), 'ODD'],\n                        [localize('prime'), 'PRIME'],\n                        [localize('whole'), 'WHOLE'],\n                        [localize('positive'), 'POSITIVE'],\n                        [localize('negative'), 'NEGATIVE'],\n                        [localize('divisible by'), 'DIVISIBLE_BY'],\n                    ],\n                },\n            ],\n            output: 'Boolean',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            toolip: localize('This block tests a given number according to the selection'),\n            category: window.Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Test a number'),\n            description: localize(\n                'This block tests a given number according to the selection and it returns a value of True or False. Available options: Even, Odd, Prime, Whole, Positive, Negative, Divisible'\n            ),\n        };\n    },\n    domToMutation(xmlElement) {\n        const hasDivisorInput = xmlElement.getAttribute('divisor_input') === 'true';\n        this.updateShape(hasDivisorInput);\n    },\n    mutationToDom() {\n        const container = document.createElement('mutation');\n        const divisorInput = this.getFieldValue('PROPERTY') === 'DIVISIBLE_BY';\n        container.setAttribute('divisor_input', divisorInput);\n        return container;\n    },\n    updateShape(hasDivisorInput) {\n        if (hasDivisorInput) {\n            const inputExists = this.getInput('DIVISOR');\n            if (inputExists) {\n                this.removeInput('DIVISOR');\n            } else {\n                this.appendValueInput('DIVISOR').setCheck('Number');\n                this.initSvg();\n                this.renderEfficiently();\n            }\n        }\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    getRequiredValueInputs() {\n        return {\n            NUMBER_TO_CHECK: null,\n        };\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.math_number_property = block => {\n    const argument0 =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'NUMBER_TO_CHECK',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_MODULUS\n        ) || '0';\n    const property = block.getFieldValue('PROPERTY');\n\n    let code;\n\n    if (property === 'PRIME') {\n        // eslint-disable-next-line no-underscore-dangle\n        const functionName = window.Blockly.JavaScript.javascriptGenerator.provideFunction_('mathIsPrime', [\n            // eslint-disable-next-line no-underscore-dangle\n            `function ${window.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(n) {\n                // https://en.wikipedia.org/wiki/Primality_test#Naive_methods\n                if (n == 2 || n == 3) {\n                    return true;\n                }\n\n                // False if n is NaN, negative, is 1, or not whole.\n                // And false if n is divisible by 2 or 3.\n                if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {\n                    return false;\n                }\n\n                // Check all the numbers of form 6k +/- 1, up to sqrt(n).\n                for (var x  = 6; x <= Math.sqrt(n) + 1; x += 6) {\n                    if (n % (x - 1) == 0 || n % (x + 1) == 0) {\n                        return false;\n                    }\n                }\n                return true;\n            }`,\n        ]);\n        code = `${functionName}(${argument0})`;\n        return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_FUNCTION_CALL];\n    } else if (property === 'EVEN') {\n        code = `${argument0} % 2 === 0`;\n    } else if (property === 'ODD') {\n        code = `${argument0} % 2 === 1`;\n    } else if (property === 'WHOLE') {\n        code = `${argument0} % 1 === 0`;\n    } else if (property === 'POSITIVE') {\n        code = `${argument0} > 0`;\n    } else if (property === 'NEGATIVE') {\n        code = `${argument0} < 0`;\n    } else if (property === 'DIVISIBLE_BY') {\n        const divisor =\n            window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n                block,\n                'DIVISOR',\n                window.Blockly.JavaScript.javascriptGenerator.ORDER_MODULUS\n            ) || '0';\n        code = `${argument0} % ${divisor} == 0`;\n    }\n\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_EQUALITY];\n};\n",
            "size_bytes": 5641
        },
        "src/components/auth-loading-wrapper/index.tsx": {
            "content": "import React from 'react';\n\ntype AuthLoadingWrapperProps = {\n    children: React.ReactNode;\n};\n\nconst AuthLoadingWrapper = ({ children }: AuthLoadingWrapperProps) => {\n    return <>{children}</>;\n};\n\nexport default AuthLoadingWrapper;\n",
            "size_bytes": 235
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Before Purchase/payout.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.payout = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Payout {{ contract_type }}', { contract_type: '%1' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'PURCHASE_LIST',\n                    options: [['', '']],\n                },\n            ],\n            output: 'Number',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block returns the potential payout for the selected trade type'),\n            category: window.Blockly.Categories.Before_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Potential payout'),\n            description: localize(\n                'This block returns the potential payout for the selected trade type. This block can be used only in the \"Purchase conditions\" root block.'\n            ),\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    onchange: window.Blockly.Blocks.purchase.onchange,\n    populatePurchaseList: window.Blockly.Blocks.purchase.populatePurchaseList,\n    enforceLimitations: window.Blockly.Blocks.purchase.enforceLimitations,\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.payout = block => {\n    const purchaseList = block.getFieldValue('PURCHASE_LIST');\n\n    const code = `Bot.getPayout('${purchaseList}')`;\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC];\n};\n",
            "size_bytes": 1868
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Indicators/Parts/index.js": {
            "content": "import './input_list';\nimport './period';\nimport './std_dev_multiplier_up';\nimport './std_dev_multiplier_down';\nimport './fast_ema_period';\nimport './slow_ema_period';\nimport './signal_ema_period';\n",
            "size_bytes": 198
        },
        "src/utils/index.ts": {
            "content": "export const print = (message: string) => {\n    console.log(message); // eslint-disable-line no-console\n};\n\nexport { generateUrlWithRedirect } from './url-redirect-utils';\n",
            "size_bytes": 172
        },
        "src/components/account-change-modal/account-change-modal.tsx": {
            "content": "import React from 'react';\nimport { Modal } from '@deriv-com/quill-ui-next';\nimport { useTranslations } from '@deriv-com/translations';\n\ntype TAccountChangeModalProps = {\n    isOpen: boolean;\n    onReload: () => void;\n    onClose: () => void;\n};\n\nconst AccountChangeModal: React.FC<TAccountChangeModalProps> = ({ isOpen, onReload, onClose }) => {\n    const { localize } = useTranslations();\n\n    const handleClose = () => {\n        // If user clicks outside or closes modal, reload anyway\n        onClose();\n        onReload();\n    };\n\n    const handleReload = () => {\n        onReload();\n    };\n\n    if (!isOpen) {\n        return null;\n    }\n\n    return (\n        <Modal\n            show={isOpen}\n            title={''}\n            description={localize(\n                'Your account has changed in another tab. Reloading will switch to the new account and stop the running bot in this tab.'\n            )}\n            type='auto'\n            height='hug-content'\n            showCloseButton={false}\n            showHandleBar={false}\n            buttonPrimary={{\n                label: localize('Reload'),\n                style: 'primary',\n                size: 'lg',\n                color: 'coral',\n                onClick: handleReload,\n            }}\n            onClose={handleClose}\n        />\n    );\n};\n\nexport default AccountChangeModal;\n",
            "size_bytes": 1347
        },
        "src/utils/getActiveTabUrl.ts": {
            "content": "export const getActiveTabUrl = () => {\n    const current_tab_number = localStorage.getItem('active_tab');\n    const TAB_NAMES = ['dashboard', 'bot_builder', 'chart', 'tutorial'] as const;\n    const getTabName = (index: number) => TAB_NAMES[index];\n    const current_tab_name = getTabName(Number(current_tab_number));\n\n    const current_url = window.location.href.split('#')[0];\n    const active_tab_url = `${current_url}#${current_tab_name}`;\n    return active_tab_url;\n};\n",
            "size_bytes": 473
        },
        "src/stores/quick-strategy-store.ts": {
            "content": "import { action, makeObservable, observable, reaction } from 'mobx';\nimport { ApiHelpers, config as qs_config, load } from '@/external/bot-skeleton';\nimport { save_types } from '@/external/bot-skeleton/constants/save-type';\nimport { addDynamicBlockToDOM } from '@/utils/xml-dom-quick-strategy';\nimport { STRATEGIES } from '../pages/bot-builder/quick-strategy/config';\nimport { TFormData } from '../pages/bot-builder/quick-strategy/types';\nimport RootStore from './root-store';\n\nexport type TActiveSymbol = {\n    group: string;\n    text: string;\n    value: string;\n};\n\nexport type TLossThresholdWarningData = {\n    show: boolean;\n    loss_amount?: string | number;\n    currency?: string;\n    highlight_field?: Array<string>;\n    already_shown?: boolean;\n};\n\ninterface IQuickStrategyStore {\n    additional_data: Record<string, unknown>;\n    current_duration_min_max: {\n        min: number;\n        max: number;\n    };\n    root_store: RootStore;\n    is_open: boolean;\n    selected_strategy: string;\n    form_data: TFormData;\n    loss_threshold_warning_data: {\n        show: boolean;\n    };\n    is_contract_dialog_open: boolean;\n    is_stop_bot_dialog_open: boolean;\n    setLossThresholdWarningData: (data: TLossThresholdWarningData) => void;\n    setFormVisibility: (is_open: boolean) => void;\n    setSelectedStrategy: (strategy: string) => void;\n    setValue: (name: string, value: string) => void;\n    onSubmit: (data: TFormData) => void;\n    toggleStopBotDialog: () => void;\n    setCurrentDurationMinMax: (min: number, max: number) => void;\n}\n\nexport default class QuickStrategyStore implements IQuickStrategyStore {\n    root_store: RootStore;\n    is_open = false;\n    selected_strategy = 'MARTINGALE';\n    form_data: TFormData = {\n        symbol: qs_config().QUICK_STRATEGY.DEFAULT.symbol,\n        tradetype: qs_config().QUICK_STRATEGY.DEFAULT.tradetype,\n        durationtype: qs_config().QUICK_STRATEGY.DEFAULT.durationtype,\n        action: 'RUN',\n    };\n    is_contract_dialog_open = false;\n    is_stop_bot_dialog_open = false;\n    current_duration_min_max = {\n        min: 0,\n        max: 10,\n    };\n    loss_threshold_warning_data: TLossThresholdWarningData = {\n        show: false,\n    };\n    additional_data = {};\n\n    constructor(root_store: RootStore) {\n        makeObservable(this, {\n            additional_data: observable,\n            current_duration_min_max: observable,\n            form_data: observable,\n            is_contract_dialog_open: observable,\n            is_open: observable,\n            is_stop_bot_dialog_open: observable,\n            initializeLossThresholdWarningData: action,\n            selected_strategy: observable,\n            loss_threshold_warning_data: observable,\n            onSubmit: action,\n            setAdditionalData: action,\n            setCurrentDurationMinMax: action,\n            setFormVisibility: action,\n            setSelectedStrategy: action,\n            setLossThresholdWarningData: action,\n            setValue: action,\n            toggleStopBotDialog: action,\n        });\n        this.root_store = root_store;\n        reaction(\n            () => this.is_open,\n            () => {\n                if (!this.is_open) {\n                    this.selected_strategy = 'MARTINGALE';\n                }\n            }\n        );\n    }\n\n    setAdditionalData = (data: Record<string, unknown>) => {\n        this.additional_data = {\n            ...this.additional_data,\n            ...data,\n        };\n    };\n\n    setLossThresholdWarningData = (data: TLossThresholdWarningData) => {\n        this.loss_threshold_warning_data = {\n            ...this.loss_threshold_warning_data,\n            ...data,\n        };\n    };\n\n    initializeLossThresholdWarningData = () => {\n        this.loss_threshold_warning_data = {\n            show: false,\n            highlight_field: [],\n            already_shown: false,\n        };\n    };\n\n    setFormVisibility = (is_open: boolean) => {\n        this.is_open = is_open;\n    };\n\n    setSelectedStrategy = (strategy: string) => {\n        this.selected_strategy = strategy;\n    };\n\n    setValue = (name: string, value: string | number | boolean) => {\n        this.form_data[name as keyof TFormData] = value;\n    };\n\n    setCurrentDurationMinMax = (min = 0, max = 10) => {\n        this.current_duration_min_max = {\n            min,\n            max,\n        };\n    };\n\n    onSubmit = async (data: TFormData) => {\n        const { contracts_for } = ApiHelpers?.instance ?? {};\n        if (!contracts_for) return;\n        const market = await contracts_for.getMarketBySymbol(data.symbol);\n        const submarket = await contracts_for.getSubmarketBySymbol(data.symbol);\n        const trade_type_cat = await contracts_for.getTradeTypeCategoryByTradeType(data.tradetype);\n        const selected_strategy = STRATEGIES()[this.selected_strategy];\n        const strategy_xml = await import(/* webpackChunkName: `[request]` */ `../xml/${selected_strategy.name}.xml`);\n        const strategy_dom = window.Blockly.utils.xml.textToDom(strategy_xml.default);\n        addDynamicBlockToDOM('PREDICTION', 'last_digit_prediction', trade_type_cat, strategy_dom);\n\n        const modifyValueInputs = (key: string, value: number) => {\n            const el_value_inputs = strategy_dom?.querySelectorAll(`value[strategy_value=\"${key}\"]`);\n            el_value_inputs?.forEach((el_value_input: HTMLElement) => {\n                if (key.includes('boolean'))\n                    if (value)\n                        el_value_input.innerHTML = `<block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block>`;\n                    else\n                        el_value_input.innerHTML = `<block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block>`;\n                else\n                    el_value_input.innerHTML = `<shadow type=\"math_number\"><field name=\"NUM\">${value}</field></shadow>`;\n            });\n        };\n\n        const modifyFieldDropdownValues = (name: string, value: string) => {\n            const name_list = `${name.toUpperCase()}_LIST`;\n            const el_blocks = strategy_dom?.querySelectorAll(`field[name=\"${name_list}\"]`);\n            el_blocks?.forEach((el_block: HTMLElement) => {\n                el_block.innerHTML = value;\n            });\n        };\n        const { unit, action, type, growth_rate, ...rest_data } = data;\n        const fields_to_update = {\n            market,\n            submarket,\n            tradetypecat: trade_type_cat,\n            dalembert_unit: unit,\n            oscar_unit: unit,\n            type: 'both',\n            ...rest_data,\n            purchase: type,\n            growthrate: growth_rate ? growth_rate.toString() : undefined,\n        };\n\n        Object.keys(fields_to_update).forEach(key => {\n            const value = fields_to_update[key as keyof typeof fields_to_update];\n\n            if (!isNaN(value as number) && key !== 'growthrate') {\n                modifyValueInputs(key, value as number);\n            } else if (typeof value === 'string') {\n                modifyFieldDropdownValues(key, value);\n            }\n        });\n\n        const { derivWorkspace: workspace } = Blockly;\n\n        if (action === 'RUN') {\n            workspace\n                ?.waitForBlockEvent({\n                    block_type: 'trade_definition',\n                    event_type: window.Blockly.Events.BLOCK_CREATE,\n                    timeout: 5000,\n                })\n                .then(() => {\n                    this.root_store.run_panel.onRunButtonClick();\n                });\n        }\n\n        this.setFormVisibility(false);\n\n        await load({\n            block_string: window.Blockly.Xml.domToText(strategy_dom),\n            file_name: selected_strategy.label,\n            workspace,\n            from: save_types.UNSAVED,\n            drop_event: null,\n            strategy_id: null,\n            showIncompatibleStrategyDialog: null,\n        });\n    };\n\n    toggleStopBotDialog = (): void => {\n        this.is_contract_dialog_open = !this.is_contract_dialog_open;\n        this.is_stop_bot_dialog_open = !this.is_stop_bot_dialog_open;\n        this.setFormVisibility(false);\n    };\n}\n",
            "size_bytes": 8100
        },
        "src/external/bot-skeleton/utils/html-helper.js": {
            "content": "export const importExternal = url => {\n    return new Promise((resolve, reject) => {\n        const script = document.createElement('script');\n        script.src = url;\n        script.async = true;\n        script.onload = () => resolve(window.external_global_component);\n        script.onerror = reject;\n\n        document.body.appendChild(script);\n    });\n};\n",
            "size_bytes": 358
        },
        "src/external/bot-skeleton/scratch/blocks/Advanced/Functions/procedures_defnoreturn.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { appendCollapsedProcedureBlocksFields, modifyContextMenu } from '../../../utils';\nimport { plusIconLight } from '../../images';\n\nwindow.Blockly.Blocks.procedures_defnoreturn = {\n    init() {\n        this.arguments = [];\n        this.argument_var_models = [];\n        this.is_adding = false;\n        this.timeout_id;\n        this.jsonInit(this.definition());\n\n        if (window.Blockly.Msg.PROCEDURES_DEFNORETURN_COMMENT) {\n            this.setCommentText(window.Blockly.Msg.PROCEDURES_DEFNORETURN_COMMENT);\n        }\n\n        // Enforce unique procedure names\n        const nameField = this.getField('NAME');\n        nameField.setValidator(window.Blockly.Procedures.rename);\n\n        // Render a -icon for adding parameters\n        const fieldImage = new window.Blockly.FieldImage(plusIconLight, 24, 24, '+', () => this.onAddClick());\n\n        const dropdown_path = `${this.workspace.options.pathToMedia}dropdown-arrow.svg`;\n        // Render a v-icon for adding parameters\n        const fieldImageCollapse = new window.Blockly.FieldImage(\n            dropdown_path,\n            16,\n            16,\n            'v',\n            () => this.toggleCollapseWithDelay(true),\n            false,\n            true\n        );\n        this.appendDummyInput('ADD_ICON').appendField(fieldImage);\n        this.appendDummyInput('COLLAPSED_INPUT').appendField(fieldImageCollapse);\n\n        this.setStatements(true);\n    },\n    definition() {\n        return {\n            message0: localize('function {{ function_name }} {{ function_params }}', {\n                function_name: '%1',\n                function_params: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_input',\n                    name: 'NAME',\n                    text: '',\n                },\n                {\n                    type: 'field_label',\n                    name: 'PARAMS',\n                    text: '',\n                },\n            ],\n            inputsInline: true,\n            colour: window.Blockly.Colours.Special2.colour,\n            colourSecondary: window.Blockly.Colours.Special2.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Special2.colourTertiary,\n            tooltip: localize('Function with no return value'),\n            category: window.Blockly.Categories.Functions,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Function'),\n            description: localize(\n                'This block creates a function, which is a group of instructions that can be executed at any time. Place other blocks in here to perform any kind of action that you need in your strategy. When all the instructions in a function have been carried out, your bot will continue with the remaining blocks in your strategy. Click the do something field to give it a name of your choice. Click the plus icon to send a value (as a named variable) to your function.'\n            ),\n        };\n    },\n    /**\n     * Sets the block colour and updates this procedure's caller blocks\n     * to reflect the same name on a change.\n     * @param {!window.Blockly.Events.Abstract} event Change event.\n     * @this window.Blockly.Block\n     */\n    onchange(event) {\n        const allowedEvents = [\n            window.Blockly.Events.BLOCK_DELETE,\n            window.Blockly.Events.BLOCK_CREATE,\n            window.Blockly.Events.BLOCK_CHANGE,\n        ];\n\n        if (!this.workspace || window.Blockly.derivWorkspace.isFlyoutVisible || !allowedEvents.includes(event.type)) {\n            return;\n        }\n        if (event.type === window.Blockly.Events.BLOCK_CREATE || window.Blockly.Events.BLOCK_CHANGE) {\n            // Sync names between definition- and execution-block\n            if (event.blockId === this.id && event.name === 'NAME') {\n                this.getProcedureCallers().forEach(block => {\n                    block.setFieldValue(event.newValue, 'NAME');\n                });\n            }\n            appendCollapsedProcedureBlocksFields(this);\n        }\n    },\n    /**\n     * Prompt the user for parameter name\n     * @this window.Blockly.Block\n     */\n    onAddClick() {\n        if (this.is_adding || this.workspace.options.readOnly || window.Blockly.derivWorkspace.isFlyoutVisible) {\n            return;\n        }\n\n        this.is_adding = true;\n        clearTimeout(this.timeout_id);\n\n        // Wrap in setTimeout so block doesn't stick to mouse (window.Blockly.Events.END_DRAG event isn't blocked).\n        this.timeout_id = setTimeout(() => {\n            const promptMessage = localize('Specify a parameter name:');\n            window.Blockly.dialog.prompt(promptMessage, '', paramName => {\n                if (paramName) {\n                    const variable = window.Blockly.Variables.getOrCreateVariablePackage(\n                        this.workspace,\n                        null,\n                        paramName,\n                        ''\n                    );\n                    if (variable) {\n                        this.arguments.push(paramName);\n                        this.argument_var_models.push(variable);\n\n                        const paramField = this.getField('PARAMS');\n                        paramField.setText(`${localize('with: ')} ${this.arguments.join(', ')}`);\n\n                        this.getProcedureCallers().forEach(block => {\n                            block.setProcedureParameters(this.arguments);\n                            block.initSvg();\n                            block.renderEfficiently();\n                        });\n                    }\n                }\n                this.is_adding = false;\n            });\n        }, 0);\n    },\n    /**\n     * Add or remove the statement block from this function definition.\n     * @param {boolean} hasStatements True if a statement block is needed.\n     * @this window.Blockly.Block\n     */\n    setStatements(hasStatements) {\n        if (this.hasStatements === hasStatements) {\n            return;\n        }\n\n        if (hasStatements) {\n            this.appendStatementInput('STACK').appendField('');\n            if (this.getInput('RETURN')) {\n                this.moveInputBefore('STACK', 'RETURN');\n            }\n        } else {\n            this.removeInput('STACK', true);\n        }\n\n        this.hasStatements = hasStatements;\n    },\n    /**\n     * Update the display of parameters for this procedure definition block.\n     * @private\n     * @this window.Blockly.Block\n     */\n    updateParams() {\n        let paramString = '';\n\n        if (this.arguments.length) {\n            paramString = `${localize('with:')} ${this.arguments.join(', ')}`;\n        }\n\n        // The params field is deterministic based on the mutation,\n        // no need to fire a change event.\n        window.Blockly.Events.disable();\n        try {\n            this.setFieldValue(paramString, 'PARAMS');\n        } finally {\n            window.Blockly.Events.enable();\n        }\n    },\n    /**\n     * Create XML to represent the argument inputs.\n     * @param {boolean=} optParamIds If true include the IDs of the parameter\n     *     quarks.  Used by window.Blockly.Procedures.mutateCallers for reconnection.\n     * @return {!Element} XML storage element.\n     * @this window.Blockly.Block\n     */\n    mutationToDom(optParamIds) {\n        const container = document.createElement('mutation');\n\n        if (optParamIds) {\n            container.setAttribute('name', this.getFieldValue('NAME'));\n        }\n\n        this.argument_var_models.forEach((arg, i) => {\n            const parameter = document.createElement('arg');\n            parameter.setAttribute('name', arg.name);\n            parameter.setAttribute('varid', arg.getId());\n\n            if (optParamIds && this.paramIds) {\n                parameter.setAttribute('paramId', this.paramIds[i]);\n            }\n            container.appendChild(parameter);\n        });\n\n        // Save whether the statement input is visible.\n        if (!this.hasStatements) {\n            container.setAttribute('statements', 'false');\n        }\n\n        return container;\n    },\n    /**\n     * Parse XML to restore the argument inputs.\n     * @param {!Element} xmlElement XML storage element.\n     * @this window.Blockly.Block\n     */\n    domToMutation(xmlElement) {\n        this.arguments = [];\n        this.argument_var_models = [];\n\n        xmlElement.childNodes.forEach(childNode => {\n            if (childNode.nodeName.toLowerCase() === 'arg') {\n                const var_name = childNode.getAttribute('name');\n                const var_id = childNode.getAttribute('varid') || childNode.getAttribute('varId');\n                const variable = window.Blockly.Variables.getOrCreateVariablePackage(\n                    this.workspace,\n                    var_id,\n                    var_name,\n                    ''\n                );\n\n                this.arguments.push(var_name);\n\n                if (variable !== null) {\n                    this.argument_var_models.push(variable);\n                } else {\n                    // eslint-disable-next-line no-console\n                    console.log(`Failed to create a variable with name ${var_name}, ignoring.`);\n                }\n            }\n        });\n\n        this.updateParams();\n\n        // Show or hide the statement input.\n        this.setStatements(xmlElement.getAttribute('statements') !== 'false');\n    },\n    /**\n     * Return the signature of this procedure definition.\n     * @return {!Array} Tuple containing three elements:\n     *     - the name of the defined procedure,\n     *     - a list of all its arguments,\n     *     - that it DOES NOT have a return value.\n     * @this window.Blockly.Block\n     */\n    getProcedureDef() {\n        return [this.getFieldValue('NAME'), this.arguments, false];\n    },\n    /**\n     * Return all procedure callers related to this block.\n     * @return {!Array.<window.Blockly.Block>} List of procedure caller blocks\n     * @this window.Blockly.Block\n     */\n    getProcedureCallers() {\n        return this.workspace\n            .getAllBlocks(false)\n            .filter(block => block.type === this.callType && block.data === this.id);\n    },\n    /**\n     * Return all variables referenced by this block.\n     * @return {!Array.<string>} List of variable names.\n     * @this window.Blockly.Block\n     */\n    getVars() {\n        return this.arguments;\n    },\n    /**\n     * Return all variables referenced by this block.\n     * @return {!Array.<!window.Blockly.VariableModel>} List of variable models.\n     * @this window.Blockly.Block\n     */\n    getVarModels() {\n        return this.argument_var_models;\n    },\n    /**\n     * Add custom menu options to this block's context menu.\n     * @param {!Array} options List of menu options to add to.\n     * @this window.Blockly.Block\n     */\n    customContextMenu(options) {\n        modifyContextMenu(options);\n        if (window.Blockly.derivWorkspace.isFlyoutVisible) {\n            return;\n        }\n        // Add option to create caller.\n        const option = { enabled: true };\n        const name = this.getFieldValue('NAME');\n        option.text = localize('Create \"%1\"').replace('%1', name);\n\n        const xmlMutation = document.createElement('mutation');\n        xmlMutation.setAttribute('name', name);\n\n        this.arguments.forEach(argumentName => {\n            const xmlArg = document.createElement('arg');\n            xmlArg.setAttribute('name', argumentName);\n            xmlMutation.appendChild(xmlArg);\n        });\n\n        const xmlBlock = document.createElement('block');\n        xmlBlock.setAttribute('type', this.callType);\n        xmlBlock.appendChild(xmlMutation);\n        option.callback = window.Blockly.ContextMenu.callbackFactory(this, xmlBlock);\n        options.push(option);\n\n        // Add options to create getters for each parameter.\n        if (!this.isCollapsed()) {\n            this.argument_var_models.forEach(argumentVarModel => {\n                const getOption = { enabled: true };\n\n                getOption.text = localize('Create \"get %1\"').replace('%1', argumentVarModel.name);\n\n                const xmlField = window.Blockly.Variables.generateVariableFieldDom(argumentVarModel);\n                const xmlOptionBlock = document.createElement('block');\n\n                xmlOptionBlock.setAttribute('type', 'variables_get');\n                xmlOptionBlock.appendChild(xmlField);\n\n                getOption.callback = window.Blockly.ContextMenu.callbackFactory(this, xmlOptionBlock);\n                options.push(getOption);\n            });\n        }\n    },\n    callType: 'procedures_callnoreturn',\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.procedures_defnoreturn = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const functionName = window.Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('NAME'),\n        window.Blockly.Procedures.CATEGORY_NAME\n    );\n\n    let branch = window.Blockly.JavaScript.javascriptGenerator.statementToCode(block, 'STACK');\n\n    if (window.Blockly.JavaScript.STATEMENT_PREFIX) {\n        const id = block.id.replace(/\\$/g, '$$$$'); // Issue 251.\n\n        branch =\n            window.Blockly.JavaScript.prefixLines(\n                window.Blockly.JavaScript.STATEMENT_PREFIX.replace(/%1/g, `'${id}'`),\n                window.Blockly.JavaScript.INDENT\n            ) + branch;\n    }\n\n    if (window.Blockly.JavaScript.INFINITE_LOOP_TRAP) {\n        branch = window.Blockly.JavaScript.INFINITE_LOOP_TRAP.replace(/%1/g, `'${block.id}'`) + branch;\n    }\n\n    let returnValue =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'RETURN',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_NONE\n        ) || '';\n    if (returnValue) {\n        returnValue = `${window.Blockly.JavaScript.INDENT}return ${returnValue};\\n`;\n    }\n\n    const args = block.arguments.map(\n        argumentName =>\n            window.Blockly.JavaScript.variableDB_.getName(argumentName, window.Blockly.Variables.CATEGORY_NAME) // eslint-disable-line no-underscore-dangle\n    );\n\n    // eslint-disable-next-line no-underscore-dangle\n    const code = window.Blockly.JavaScript.javascriptGenerator.scrub_(\n        block,\n        `\n    function ${functionName}(${args.join(', ')}) {\n        ${branch}\n        ${returnValue}\n    }\\n`\n    );\n\n    // Add % so as not to collide with helper functions in definitions list.\n    // eslint-disable-next-line no-underscore-dangle\n    window.Blockly.JavaScript.javascriptGenerator.definitions_[`%${functionName}`] = code;\n    return null;\n};\n",
            "size_bytes": 14623
        },
        "src/utils/datadog.ts": {
            "content": "import { datadogRum } from '@datadog/browser-rum';\n\nconst getConfigValues = (is_production: boolean) => {\n    if (is_production) {\n        return {\n            service: 'dbot',\n            version: `v${process.env.REF_NAME}`,\n            sessionReplaySampleRate: Number(process.env.DATADOG_SESSION_REPLAY_SAMPLE_RATE ?? 1),\n            sessionSampleRate: Number(process.env.DATADOG_SESSION_SAMPLE_RATE ?? 10),\n            env: 'production',\n            applicationId: process.env.DATADOG_APPLICATION_ID ?? '',\n            clientToken: process.env.DATADOG_CLIENT_TOKEN ?? '',\n        };\n    }\n    return {\n        service: 'staging-dbot',\n        version: `v${process.env.REF_NAME}`,\n        sessionReplaySampleRate: 0,\n        sessionSampleRate: 100,\n        env: 'staging',\n        applicationId: process.env.DATADOG_APPLICATION_ID ?? '',\n        clientToken: process.env.DATADOG_CLIENT_TOKEN ?? '',\n    };\n};\n\nconst initDatadog = (is_datadog_enabled: boolean) => {\n    if (!is_datadog_enabled) return;\n    if (process.env.APP_ENV === 'production' || process.env.APP_ENV === 'staging') {\n        const is_production = process.env.APP_ENV === 'production';\n        const {\n            service,\n            version,\n            sessionReplaySampleRate,\n            sessionSampleRate,\n            env,\n            applicationId = '',\n            clientToken = '',\n        } = getConfigValues(is_production) ?? {};\n\n        datadogRum.init({\n            service,\n            version,\n            sessionReplaySampleRate,\n            sessionSampleRate,\n            env,\n            applicationId,\n            clientToken,\n            site: 'datadoghq.com',\n            trackUserInteractions: true,\n            trackResources: true,\n            trackLongTasks: true,\n            defaultPrivacyLevel: 'mask-user-input',\n            enableExperimentalFeatures: ['clickmap'],\n        });\n    }\n};\n\nexport default initDatadog;\n",
            "size_bytes": 1918
        },
        "src/components/shared/utils/contract/index.ts": {
            "content": "export * from './contract';\nexport * from './contract-info';\nexport * from './contract-types';\nexport * from './trade-url-params-config';\n",
            "size_bytes": 138
        },
        "src/components/shared_ui/types/multi-step.types.ts": {
            "content": "import React from 'react';\n\nexport type TMultiStepRefProps = {\n    // TODO: Remove the type defined in MT5 and reference this one instead\n    goNextStep: () => void;\n    goPrevStep: () => void;\n};\n\nexport type TMultiStepProps = {\n    className?: string;\n    lbl_previous?: string;\n    steps: Array<{ component: React.ReactElement }>;\n};\n",
            "size_bytes": 337
        },
        "src/components/summary/summary.tsx": {
            "content": "import classnames from 'classnames';\nimport { observer } from 'mobx-react-lite';\nimport { useStore } from '@/hooks/useStore';\nimport { useDevice } from '@deriv-com/ui';\nimport ThemedScrollbars from '../shared_ui/themed-scrollbars';\nimport SummaryCard from './summary-card';\n\ntype TSummary = {\n    is_drawer_open: boolean;\n};\n\nconst Summary = observer(({ is_drawer_open }: TSummary) => {\n    const { dashboard, summary_card } = useStore();\n    const { is_contract_loading, contract_info, is_bot_running } = summary_card;\n    const { active_tour } = dashboard;\n    const { isDesktop } = useDevice();\n    return (\n        <div\n            className={classnames({\n                'run-panel-tab__content': isDesktop,\n                'run-panel-tab__content--mobile': !isDesktop && is_drawer_open,\n                'run-panel-tab__content--summary-tab': (isDesktop && is_drawer_open) || active_tour,\n            })}\n            data-testid='mock-summary'\n        >\n            <ThemedScrollbars\n                className={classnames({\n                    summary: (!is_contract_loading && !contract_info) || is_bot_running,\n                    'summary--loading':\n                        (!isDesktop && is_contract_loading) || (!isDesktop && !is_contract_loading && contract_info),\n                })}\n            >\n                <SummaryCard\n                    is_contract_loading={is_contract_loading}\n                    contract_info={contract_info}\n                    is_bot_running={is_bot_running}\n                />\n            </ThemedScrollbars>\n        </div>\n    );\n});\n\nexport default Summary;\n",
            "size_bytes": 1605
        },
        "src/pages/bot-builder/quick-strategy/selects/sell-conditions.tsx": {
            "content": "import React, { useState } from 'react';\nimport classNames from 'classnames';\nimport { Field, FieldProps, useFormikContext } from 'formik';\nimport Autocomplete from '@/components/shared_ui/autocomplete';\nimport { TItem } from '@/components/shared_ui/dropdown-list';\nimport { useStore } from '@/hooks/useStore';\nimport { TDurationUnitItem, TFormData } from '../types';\n\ntype TDurationUnit = {\n    attached?: boolean;\n};\n\ntype TSellConditionItem = {\n    text: string;\n    value: string;\n};\n\nconst list_options = [\n    { text: 'Take Profit', value: 'take_profit' },\n    { text: 'Tick Count', value: 'tick_count' },\n];\n\nconst SellConditions: React.FC<TDurationUnit> = ({ attached }: TDurationUnit) => {\n    const { quick_strategy } = useStore();\n    const { setValue } = quick_strategy;\n    const { setFieldValue, values } = useFormikContext<TFormData>();\n    const [selectedValue, setSelectedValue] = useState<TSellConditionItem>(\n        values.boolean_tick_count ? list_options[1] : list_options[0]\n    );\n\n    const handleItemSelection = (item: TItem) => {\n        if ((item as TDurationUnitItem)?.value) {\n            const { value } = item as TDurationUnitItem;\n            const is_take_profit = value === 'take_profit';\n            const text = is_take_profit ? 'Take Profit' : 'Tick Count';\n            setValue('boolean_tick_count', !is_take_profit);\n            setFieldValue?.('boolean_tick_count', !is_take_profit);\n            setSelectedValue({ ...selectedValue, text });\n        }\n    };\n\n    return (\n        <div\n            className={classNames('qs__form__field qs__form__field__input', {\n                'no-top-border-radius': attached,\n            })}\n        >\n            <Field name='sell_conditions' key='sell_conditions' id='sell_conditions'>\n                {({ field }: FieldProps) => {\n                    return (\n                        <Autocomplete\n                            {...field}\n                            readOnly\n                            inputMode='none'\n                            data-testid='dt_qs_sell_conditions'\n                            autoComplete='off'\n                            className='qs__select'\n                            value={selectedValue.text}\n                            list_items={list_options}\n                            onItemSelection={handleItemSelection}\n                        />\n                    );\n                }}\n            </Field>\n        </div>\n    );\n};\n\nexport default SellConditions;\n",
            "size_bytes": 2485
        },
        "src/external/bot-skeleton/scratch/blocks/Advanced/List/lists_create_with.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu, runGroupedEvents, runIrreversibleEvents } from '../../../utils';\nimport { plusIconDark } from '../../images';\n\nwindow.Blockly.Blocks.lists_create_with = {\n    protected_statements: ['STACK'],\n    allowed_children: ['lists_statement'],\n    init() {\n        const field_image = new window.Blockly.FieldImage(plusIconDark, 25, 25, '', this.onIconClick.bind(this));\n        this.jsonInit(this.definition());\n        this.appendDummyInput('ADD_ICON').appendField(field_image);\n        this.moveInputBefore('ADD_ICON', 'STACK');\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to create list with', { variable: '%1' }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: localize('list'),\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STACK',\n                },\n            ],\n            inputsInline: true,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('This block creates a list with strings and numbers.'),\n            category: window.Blockly.Categories.List,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Create list'),\n            description: localize('This block creates a list with strings and numbers.'),\n        };\n    },\n    onIconClick() {\n        if (this.workspace.options.readOnly || window.Blockly.derivWorkspace.isFlyoutVisible) {\n            return;\n        }\n\n        runGroupedEvents(false, () => {\n            const statement_block = this.workspace.newBlock('lists_statement');\n            statement_block.required_parent_id = this.id;\n            statement_block.setMovable(false);\n            statement_block.initSvg();\n            statement_block.renderEfficiently();\n\n            const connection = this.getLastConnectionInStatement('STACK');\n            connection.connect(statement_block.previousConnection);\n        });\n    },\n    onchange(event) {\n        if (!this.workspace || window.Blockly.derivWorkspace.isFlyoutVisible || this.workspace.isDragging()) {\n            return;\n        }\n\n        if (event.type === window.Blockly.Events.BLOCK_DRAG && !event.isStart) {\n            // Only allow \"text_statement\" type blocks\n            const blocks_in_stack = this.getBlocksInStatement('STACK');\n            blocks_in_stack.forEach(block => {\n                if (!this.allowed_children.includes(block.type)) {\n                    runIrreversibleEvents(() => {\n                        block.unplug(/* healStack */ false);\n                    });\n                }\n            });\n        }\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\n// Head's up! This is also the code generation for the \"text_join\" block.\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.lists_create_with = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = window.Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        window.Blockly.Variables.CATEGORY_NAME\n    );\n    const blocks_in_stack = block.getBlocksInStatement('STACK');\n    const elements = blocks_in_stack.map(b => {\n        const value = window.Blockly.JavaScript.javascriptGenerator.forBlock[b.type](b);\n        return Array.isArray(value) ? value[0] : value;\n    });\n\n    const code = `${var_name} = [${elements.join(', ')}];\\n`;\n    return code;\n};\n",
            "size_bytes": 3869
        },
        "src/hooks/useHover.ts": {
            "content": "import React, { RefObject } from 'react';\n\nexport const useHover = <T extends HTMLElement | SVGSVGElement>(\n    refSetter?: RefObject<T> | null,\n    should_prevent_bubbling?: boolean\n) => {\n    const [value, setValue] = React.useState(false);\n    const default_ref = React.useRef(null);\n    const ref = refSetter || default_ref;\n\n    const handleHoverBegin = () => setValue(true);\n    const handleHoverFinish = () => setValue(false);\n\n    React.useEffect(() => {\n        const node = ref.current;\n        if (node) {\n            if (should_prevent_bubbling) {\n                node.addEventListener('mouseenter', handleHoverBegin);\n                node.addEventListener('mouseleave', handleHoverFinish);\n            } else {\n                node.addEventListener('mouseover', handleHoverBegin);\n                node.addEventListener('mouseout', handleHoverFinish);\n            }\n\n            return () => {\n                if (should_prevent_bubbling) {\n                    node.removeEventListener('mouseenter', handleHoverBegin);\n                    node.removeEventListener('mouseleave', handleHoverFinish);\n                } else {\n                    node.removeEventListener('mouseover', handleHoverBegin);\n                    node.removeEventListener('mouseout', handleHoverFinish);\n                }\n            };\n        }\n        return undefined;\n    }, [ref, should_prevent_bubbling]);\n\n    return [ref, value] as const;\n};\n\nexport const useHoverCallback = () => {\n    const [value, setValue] = React.useState(false);\n\n    const handleMouseOver = React.useCallback(() => setValue(true), []);\n    const handleMouseOut = React.useCallback(() => setValue(false), []);\n    const ref = React.useRef<HTMLElement | null>(null);\n\n    const callbackRef = React.useCallback(\n        (node: HTMLElement) => {\n            if (ref.current) {\n                ref.current.removeEventListener('mouseover', handleMouseOver);\n                ref.current.removeEventListener('mouseout', handleMouseOut);\n            }\n\n            ref.current = node;\n\n            if (ref.current) {\n                ref.current.addEventListener('mouseover', handleMouseOver);\n                ref.current.addEventListener('mouseout', handleMouseOut);\n            }\n        },\n        [handleMouseOver, handleMouseOut]\n    );\n\n    return [callbackRef, value];\n};\n",
            "size_bytes": 2337
        },
        "src/external/bot-skeleton/scratch/blocks/Logic/logic_compare.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../utils';\n\nwindow.Blockly.Blocks.logic_compare = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2 %3',\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'A',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'OP',\n                    options: [\n                        ['=', 'EQ'],\n                        ['\\u2260', 'NEQ'],\n                        ['\\u200F<', 'LT'],\n                        ['\\u200F\\u2264', 'LTE'],\n                        ['\\u200F>', 'GT'],\n                        ['\\u200F\\u2265', 'GTE'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'B',\n                },\n            ],\n            inputsInline: true,\n            output: 'Boolean',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Compares two values'),\n            category: window.Blockly.Categories.Logic,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Compare'),\n            description: localize('This block compares two values and is used to build a conditional structure.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            A: null,\n            B: null,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.logic_compare = block => {\n    const operatorMapping = {\n        EQ: '==',\n        NEQ: '!=',\n        LT: '<',\n        LTE: '<=',\n        GT: '>',\n        GTE: '>=',\n    };\n\n    const operator = operatorMapping[block.getFieldValue('OP') || 'EQ'];\n    const order = ['==', '!='].includes(operator)\n        ? window.Blockly.JavaScript.javascriptGenerator.ORDER_EQUALITY\n        : window.Blockly.JavaScript.javascriptGenerator.ORDER_RELATIONAL;\n\n    const argument0 = window.Blockly.JavaScript.javascriptGenerator.valueToCode(block, 'A', order) || 'false';\n    const argument1 = window.Blockly.JavaScript.javascriptGenerator.valueToCode(block, 'B', order) || 'false';\n\n    const code = `${argument0} ${operator} ${argument1}`;\n    return [code, order];\n};\n",
            "size_bytes": 2611
        },
        "src/stores/blockly-store.ts": {
            "content": "import { action, computed, makeObservable, observable } from 'mobx';\nimport { tabs_title } from '@/constants/bot-contents';\nimport { getSavedWorkspaces, onWorkspaceResize } from '@/external/bot-skeleton';\nimport { getSetting, storeSetting } from '@/utils/settings';\nimport RootStore from './root-store';\n\nexport default class BlocklyStore {\n    root_store: RootStore;\n\n    constructor(root_store: RootStore) {\n        makeObservable(this, {\n            is_loading: observable,\n            active_tab: observable,\n            _has_saved_bots: observable,\n            has_active_bot: computed,\n            has_saved_bots: computed,\n            setLoading: action,\n            setActiveTab: action,\n            checkForSavedBots: action,\n        });\n        this.root_store = root_store;\n    }\n\n    is_loading = false;\n    active_tab = tabs_title.WORKSPACE;\n\n    // Computed property to check if there's an active bot\n    get has_active_bot(): boolean {\n        // Check if there's an active bot in the workspace\n        const workspace = window.Blockly?.derivWorkspace;\n        if (!workspace) return false;\n\n        // Check if there are any blocks in the workspace\n        const top_blocks = workspace.getTopBlocks();\n        return top_blocks && top_blocks.length > 0;\n    }\n\n    // Computed property to check if there are saved bots\n    get has_saved_bots(): boolean {\n        // Since we can't make this async, we'll use a cached value\n        // This value will be updated when the component mounts\n        return this._has_saved_bots;\n    }\n\n    // Private property to cache the result of the async check\n    _has_saved_bots = false;\n\n    // Method to check for saved bots and update the cache\n    checkForSavedBots = async (): Promise<void> => {\n        try {\n            const workspaces = await getSavedWorkspaces();\n            // Use action to update observable property\n            this._has_saved_bots = Array.isArray(workspaces) && workspaces.length > 0;\n        } catch (e) {\n            console.error('Error checking for saved workspaces:', e);\n            this._has_saved_bots = false;\n        }\n    };\n\n    setActiveTab = (tab: string): void => {\n        this.active_tab = tab;\n        storeSetting('active_tab', this.active_tab);\n    };\n\n    setContainerSize = (): void => {\n        if (this.active_tab === tabs_title.WORKSPACE) {\n            onWorkspaceResize();\n        }\n    };\n\n    onMount = (): void => {\n        window.addEventListener('resize', this.setContainerSize);\n        // Check for saved bots when the component mounts\n        this.checkForSavedBots();\n    };\n\n    getCachedActiveTab = (): void => {\n        if (getSetting('active_tab')) {\n            this.active_tab = getSetting('active_tab');\n        }\n    };\n\n    onUnmount = (): void => {\n        window.removeEventListener('resize', this.setContainerSize);\n    };\n\n    setLoading = (is_loading: boolean): void => {\n        this.is_loading = is_loading;\n    };\n}\n",
            "size_bytes": 2951
        },
        "src/components/shared_ui/contract-card/contract-card-items/toggle-card-dialog.tsx": {
            "content": "/* eslint-disable no-unsafe-optional-chaining */\nimport React from 'react';\nimport { isDesktop, isMobile } from '@/components/shared';\nimport { LegacyEdit1pxIcon } from '@deriv/quill-icons';\nimport DesktopWrapper from '../../desktop-wrapper';\nimport Div100vhContainer from '../../div100vh-container';\nimport MobileDialog from '../../mobile-dialog';\nimport MobileWrapper from '../../mobile-wrapper';\nimport Popover from '../../popover';\nimport ContractCardDialog from './contract-card-dialog';\nimport ContractUpdateForm, { TGeneralContractCardBodyProps } from './contract-update-form';\nimport './sass/contract-card-dialog.scss';\n\nexport type TToggleCardDialogProps = Pick<\n    TGeneralContractCardBodyProps,\n    | 'addToast'\n    | 'current_focus'\n    | 'error_message_alignment'\n    | 'getCardLabels'\n    | 'getContractById'\n    | 'onMouseLeave'\n    | 'removeToast'\n    | 'setCurrentFocus'\n> & {\n    contract_id?: number;\n    is_valid_to_cancel?: boolean;\n    should_show_cancellation_warning?: boolean;\n    toggleCancellationWarning?: () => void;\n    is_accumulator?: boolean;\n    is_turbos?: boolean;\n    totalProfit: number;\n};\n\nconst ToggleCardDialog = ({\n    addToast,\n    contract_id,\n    getCardLabels,\n    getContractById,\n    is_valid_to_cancel,\n    should_show_cancellation_warning,\n    toggleCancellationWarning,\n    ...passthrough_props\n}: TToggleCardDialogProps) => {\n    const [is_visible, setIsVisible] = React.useState(false);\n    const [top, setTop] = React.useState(0);\n    const [left, setLeft] = React.useState(0);\n\n    const toggle_ref = React.useRef<HTMLButtonElement>(null);\n    const dialog_ref = React.useRef<HTMLDivElement>(null);\n    const contract = getContractById(Number(contract_id));\n\n    React.useEffect(() => {\n        if (is_visible && toggle_ref?.current && dialog_ref?.current) {\n            const icon_bound = toggle_ref.current.getBoundingClientRect();\n            const target_bound = dialog_ref.current.getBoundingClientRect();\n            const body_bound = document.body.getBoundingClientRect();\n\n            let { top: icon_bound_top } = icon_bound;\n            const { right } = icon_bound;\n\n            if (icon_bound_top + target_bound?.height > body_bound.height) {\n                icon_bound_top -= target_bound?.height - icon_bound.height;\n            }\n\n            if (right + target_bound?.width > body_bound.width) {\n                setLeft(right - target_bound?.width - 16);\n            } else {\n                setLeft(right - 16);\n            }\n            setTop(icon_bound_top);\n        }\n    }, [is_visible]);\n\n    const handleClick = (e: React.MouseEvent<HTMLDivElement>) => {\n        e.stopPropagation();\n    };\n\n    const onPopoverClose = () => {\n        toggleCancellationWarning?.();\n    };\n\n    const toggleDialog = (e: React.MouseEvent<HTMLButtonElement | HTMLDivElement>) => {\n        e.preventDefault();\n        e.stopPropagation();\n        if (isMobile() && should_show_cancellation_warning && is_valid_to_cancel) {\n            addToast({\n                key: 'deal_cancellation_active',\n                content: getCardLabels().TAKE_PROFIT_LOSS_NOT_AVAILABLE,\n                type: 'error',\n            });\n        }\n\n        if (is_valid_to_cancel) return;\n\n        setIsVisible(!is_visible);\n    };\n\n    const toggleDialogWrapper = React.useCallback(toggleDialog, [toggleDialog]);\n\n    const edit_icon = (\n        <div className='dc-contract-card-dialog-toggle__icon'>\n            <LegacyEdit1pxIcon height={12} width={12} />\n        </div>\n    );\n\n    return (\n        <div onClick={handleClick}>\n            {is_valid_to_cancel && should_show_cancellation_warning && isDesktop() ? (\n                <Popover\n                    alignment='right'\n                    classNameBubble='dc-contract-card-dialog__popover-bubble'\n                    className='dc-contract-card-dialog__popover'\n                    is_bubble_hover_enabled\n                    margin={2}\n                    zIndex='2'\n                    message={getCardLabels().TAKE_PROFIT_LOSS_NOT_AVAILABLE}\n                    onBubbleClose={onPopoverClose}\n                >\n                    <button ref={toggle_ref} className='dc-contract-card-dialog-toggle' onClick={toggleDialogWrapper}>\n                        {edit_icon}\n                    </button>\n                </Popover>\n            ) : (\n                <button ref={toggle_ref} className='dc-contract-card-dialog-toggle' onClick={toggleDialogWrapper}>\n                    {edit_icon}\n                </button>\n            )}\n            <MobileWrapper>\n                <MobileDialog\n                    portal_element_id='modal_root'\n                    visible={is_visible}\n                    onClose={toggleDialogWrapper}\n                    wrapper_classname='contract-update'\n                >\n                    <Div100vhContainer className='contract-update__wrapper' height_offset='40px'>\n                        <ContractUpdateForm\n                            addToast={addToast}\n                            contract={contract}\n                            getCardLabels={getCardLabels}\n                            getContractById={getContractById}\n                            isMobile\n                            toggleDialog={toggleDialogWrapper}\n                            {...passthrough_props}\n                        />\n                    </Div100vhContainer>\n                </MobileDialog>\n            </MobileWrapper>\n            <DesktopWrapper>\n                <ContractCardDialog\n                    ref={dialog_ref}\n                    is_visible={is_visible}\n                    left={left}\n                    top={top}\n                    toggle_ref={toggle_ref}\n                    toggleDialog={toggleDialogWrapper}\n                >\n                    <ContractUpdateForm\n                        addToast={addToast}\n                        contract={contract}\n                        getCardLabels={getCardLabels}\n                        getContractById={getContractById}\n                        toggleDialog={toggleDialogWrapper}\n                        {...passthrough_props}\n                    />\n                </ContractCardDialog>\n            </DesktopWrapper>\n        </div>\n    );\n};\n\nToggleCardDialog.displayName = 'ToggleCardDialog';\n\nexport default React.memo(ToggleCardDialog);\n",
            "size_bytes": 6330
        },
        "src/stores/google-drive-store.ts": {
            "content": "import { action, makeObservable, observable } from 'mobx';\nimport { botNotification } from '@/components/bot-notification/bot-notification';\nimport { notification_message } from '@/components/bot-notification/bot-notification-utils';\nimport { button_status } from '@/constants/button-status';\nimport { config, importExternal } from '@/external/bot-skeleton';\nimport { getInitialLanguage, localize } from '@deriv-com/translations';\nimport {\n    rudderStackSendUploadStrategyCompletedEvent,\n    rudderStackSendUploadStrategyFailedEvent,\n} from '../analytics/rudderstack-common-events';\nimport { getStrategyType } from '../analytics/utils';\nimport RootStore from './root-store';\n\nexport type TErrorWithStatus = Error & { status?: number; result?: { error: { message: string } } };\n\nexport type TFileOptions = {\n    content: string;\n    mimeType: string;\n    name: string;\n};\n\nexport type TPickerCallbackResponse = {\n    action: string;\n    docs: { id: string; name: string; driveError?: string }[];\n};\n\nexport default class GoogleDriveStore {\n    root_store: RootStore;\n    bot_folder_name: string;\n    client_id: string | undefined;\n    app_id: string | undefined;\n    api_key: string | undefined;\n    scope: string | undefined;\n    discovery_docs = '';\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    client: any;\n    access_token: string;\n    upload_id?: string;\n\n    constructor(root_store: RootStore) {\n        makeObservable(this, {\n            is_authorised: observable,\n            upload_id: observable,\n            is_google_drive_token_valid: observable,\n            setIsAuthorized: action.bound,\n            saveFile: action.bound,\n            loadFile: action.bound,\n            setKey: action.bound,\n            initialise: action.bound,\n            signIn: action.bound,\n            signOut: action.bound,\n            getPickerLanguage: action.bound,\n            checkFolderExists: action.bound,\n            createSaveFilePicker: action.bound,\n            createLoadFilePicker: action.bound,\n            showGoogleDriveFilePicker: action.bound,\n            setGoogleDriveTokenValid: action.bound,\n            verifyGoogleDriveAccessToken: action.bound,\n            onDriveConnect: action,\n        });\n\n        this.root_store = root_store;\n        this.bot_folder_name = `Binary Bot - ${localize('Strategies')}`;\n        this.setKey();\n        this.client = null;\n        this.access_token = localStorage.getItem('google_access_token') ?? '';\n        setTimeout(() => {\n            importExternal('https://accounts.google.com/gsi/client').then(() => this.initialiseClient());\n            importExternal('https://apis.google.com/js/api.js').then(() => this.initialise());\n        }, 3000);\n    }\n\n    is_google_drive_token_valid = true;\n    is_authorised = !!localStorage.getItem('google_access_token');\n\n    setGoogleDriveTokenValid = (is_google_drive_token_valid: boolean) => {\n        this.is_google_drive_token_valid = is_google_drive_token_valid;\n    };\n\n    setKey = () => {\n        const { SCOPE, DISCOVERY_DOCS } = config().GOOGLE_DRIVE;\n        this.client_id = process.env.GD_CLIENT_ID;\n        this.app_id = process.env.GD_APP_ID;\n        this.api_key = process.env.GD_API_KEY;\n        this.scope = SCOPE;\n        this.discovery_docs = DISCOVERY_DOCS;\n    };\n\n    initialise = () => {\n        gapi.load('client:picker', () => gapi.client.load(this.discovery_docs));\n    };\n\n    setGoogleDriveTokenExpiry = (seconds: number) => {\n        const currentEpochTime = Math.floor(Date.now() / 1000);\n        const expiry_time = currentEpochTime + seconds;\n        localStorage.setItem('google_access_token_expiry', expiry_time.toString());\n    };\n\n    initialiseClient = () => {\n        this.client = google.accounts.oauth2.initTokenClient({\n            client_id: this.client_id,\n            scope: this.scope,\n            callback: (response: { expires_in: number; access_token: string; error?: TErrorWithStatus }) => {\n                if (response?.access_token && !response?.error) {\n                    this.access_token = response.access_token;\n                    this.setIsAuthorized(true);\n                    localStorage.setItem('google_access_token', response.access_token);\n                    this.setGoogleDriveTokenExpiry(response?.expires_in);\n                    this.setGoogleDriveTokenValid(true);\n                }\n            },\n        });\n    };\n\n    setIsAuthorized(is_authorized: boolean) {\n        this.is_authorised = is_authorized;\n    }\n\n    verifyGoogleDriveAccessToken = async () => {\n        const expiry_time = localStorage?.getItem('google_access_token_expiry');\n        if (!expiry_time) return 'not_verified';\n        const current_epoch_time = Math.floor(Date.now() / 1000);\n        if (current_epoch_time > Number(expiry_time)) {\n            this.signOut();\n            this.setGoogleDriveTokenValid(false);\n            localStorage.removeItem('google_access_token_expiry');\n            localStorage.removeItem('google_access_token');\n            botNotification(notification_message().google_drive_error, undefined, { closeButton: false });\n            return 'not_verified';\n        }\n        return 'verified';\n    };\n\n    async signIn() {\n        if (!this.is_authorised) {\n            await this.client.requestAccessToken();\n        }\n    }\n\n    async signOut() {\n        if (this.access_token) {\n            await window?.gapi?.client?.setToken({ access_token: '' });\n            if (localStorage.getItem('google_access_token')) {\n                await window?.google?.accounts?.oauth2?.revoke(this.access_token);\n                localStorage?.removeItem('google_access_token');\n            }\n            this.access_token = '';\n        }\n        this.setIsAuthorized(false);\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    getPickerLanguage() {\n        const language = getInitialLanguage();\n\n        if (language === 'zhTw') {\n            return 'zh-TW';\n        } else if (language === 'zhCn') {\n            return 'zh-CN';\n        }\n        return language;\n    }\n\n    async saveFile(options: TFileOptions) {\n        try {\n            await this.signIn();\n            if (this.access_token) gapi.client.setToken({ access_token: this.access_token });\n            await this.checkFolderExists();\n            await this.createSaveFilePicker('application/vnd.google-apps.folder', localize('Select a folder'), options);\n        } catch (err) {\n            if ((err as TErrorWithStatus).status === 401) {\n                this.signOut();\n            }\n        }\n    }\n\n    async loadFile() {\n        if (!this.is_google_drive_token_valid) return;\n        await this.signIn();\n\n        if (this.access_token) gapi.client.setToken({ access_token: this.access_token });\n        try {\n            await gapi.client.drive.files.list({\n                pageSize: 10,\n                fields: 'files(id, name)',\n            });\n        } catch (err) {\n            if ((err as TErrorWithStatus)?.status === 401) {\n                await this.signOut();\n                const picker = document.getElementsByClassName('picker-dialog-content')[0] as HTMLElement;\n                const parent_element = picker?.parentNode;\n                const child_element = picker;\n                if (child_element && parent_element && parent_element?.contains(child_element)) {\n                    parent_element?.removeChild(child_element);\n                }\n                picker?.parentNode?.removeChild(picker);\n                const pickerBackground = document.getElementsByClassName(\n                    'picker-dialog-bg'\n                ) as HTMLCollectionOf<HTMLElement>;\n\n                if (pickerBackground.length) {\n                    for (let i = 0; i < pickerBackground.length; i++) {\n                        pickerBackground[i].style.display = 'none';\n                    }\n                }\n            }\n            rudderStackSendUploadStrategyFailedEvent({\n                upload_provider: 'google_drive',\n                upload_id: this.upload_id,\n                upload_type: 'not_found',\n                error_message: (err as TErrorWithStatus)?.result?.error?.message,\n                error_code: (err as TErrorWithStatus)?.status?.toString(),\n            });\n        }\n\n        const xml_doc = await this.createLoadFilePicker(\n            'text/xml,application/xml',\n            localize('Select a Deriv Bot Strategy')\n        );\n\n        return xml_doc;\n    }\n\n    async checkFolderExists() {\n        const { files } = gapi.client.drive;\n        const response = await files.list({ q: 'trashed=false' });\n        const mime_type = 'application/vnd.google-apps.folder';\n        const folder = response.result.files?.find(file => file.mimeType === mime_type);\n\n        if (folder) {\n            return;\n        }\n\n        await files.create({\n            resource: {\n                name: this.bot_folder_name,\n                mimeType: mime_type,\n            },\n            fields: 'id',\n        });\n    }\n\n    createSaveFilePicker(mime_type: string, title: string, options: TFileOptions) {\n        const { setButtonStatus } = this.root_store.save_modal;\n        return new Promise<void>(resolve => {\n            const savePickerCallback = (data: TPickerCallbackResponse) => {\n                if (data.action === google.picker.Action.PICKED) {\n                    const folder_id = data.docs[0].id;\n                    const strategy_file = new Blob([options.content], { type: options.mimeType });\n                    const strategy_file_metadata = JSON.stringify({\n                        name: options.name,\n                        mimeType: options.mimeType,\n                        parents: [folder_id],\n                    });\n\n                    const form_data = new FormData();\n                    form_data.append('metadata', new Blob([strategy_file_metadata], { type: 'application/json' }));\n                    form_data.append('file', strategy_file);\n\n                    const xhr = new XMLHttpRequest();\n                    xhr.responseType = 'json';\n                    xhr.open('POST', 'https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart');\n                    xhr.setRequestHeader('Authorization', `Bearer ${this.access_token}`);\n                    xhr.onload = () => {\n                        if (xhr.status === 401) {\n                            this.signOut();\n                        }\n\n                        setButtonStatus(button_status.NORMAL);\n                        resolve();\n                    };\n                    xhr.send(form_data);\n                } else if (data.action === google.picker.Action.CANCEL) {\n                    setButtonStatus(button_status.NORMAL);\n                }\n            };\n\n            this.showGoogleDriveFilePicker(true, mime_type, title, savePickerCallback);\n        });\n    }\n\n    onDriveConnect = async () => {\n        if (this.is_authorised) {\n            this.signOut();\n        } else {\n            this.signIn();\n        }\n    };\n\n    createLoadFilePicker(mime_type: string, title: string) {\n        return new Promise(resolve => {\n            const loadPickerCallback = async (data: TPickerCallbackResponse) => {\n                if (data.action === google.picker.Action.PICKED) {\n                    const file = data.docs[0];\n                    if (file?.driveError === 'NETWORK') {\n                        rudderStackSendUploadStrategyFailedEvent({\n                            upload_provider: 'google_drive',\n                            upload_id: this.upload_id,\n                            upload_type: 'not_found',\n                            error_message: 'File not found',\n                            error_code: '404',\n                        });\n                    }\n\n                    const file_name = file.name;\n                    const fileId = file.id;\n                    const { files } = gapi.client.drive;\n\n                    const response = await files.get({\n                        alt: 'media',\n                        fileId,\n                    });\n\n                    resolve({ xml_doc: response.body, file_name });\n                    const upload_type = getStrategyType(response.body);\n                    rudderStackSendUploadStrategyCompletedEvent({\n                        upload_provider: 'google_drive',\n                        upload_type,\n                        upload_id: this.upload_id,\n                    });\n                }\n            };\n\n            this.showGoogleDriveFilePicker(false, mime_type, title, loadPickerCallback);\n        });\n    }\n\n    showGoogleDriveFilePicker(\n        is_save: boolean,\n        mime_type: string,\n        title: string,\n        callback: (data: TPickerCallbackResponse) => void\n    ) {\n        const docs_view = new google.picker.DocsView();\n        docs_view.setIncludeFolders(true);\n        docs_view.setMimeTypes(mime_type);\n\n        if (is_save) {\n            docs_view.setSelectFolderEnabled(true);\n        }\n        const picker = new google.picker.PickerBuilder();\n        picker\n            .setOrigin(`${window.location.protocol}//${window.location.host}`)\n            .setTitle(localize(title))\n            .setLocale(this.getPickerLanguage())\n            .setAppId(this.app_id)\n            .setOAuthToken(this.access_token)\n            .addView(docs_view)\n            .setDeveloperKey(this.api_key)\n            .setSize(1051, 650)\n            .setCallback(callback)\n            .build()\n            .setVisible(true);\n    }\n}\n",
            "size_bytes": 13517
        },
        "src/constants/quick-strategies/strategy_1_3_2_6.ts": {
            "content": "import { getImageLocation } from '../../public-path';\nimport { localize } from '@deriv-com/translations';\nimport { TDescriptionItem } from '../../pages/bot-builder/quick-strategy/types';\n\nexport const STRATEGY_1_3_2_6 = (): TDescriptionItem[] => [\n    {\n        type: 'subtitle',\n        content: [localize('Exploring the 1-3-2-6 strategy in Deriv Bot')],\n        expanded: true,\n        no_collapsible: false,\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                'The 1-3-2-6 strategy aims to maximise potential profits with four consecutive successful trades. One unit is equal to the amount of the initial stake. The stake will adjust from 1 unit to 3 units after the first successful trade, then to 2 units after your second successful trade, and to 6 units after the third successful trade. The stake for the next trade will reset to the initial stake if there is a losing trade or a completion of the trade cycle.'\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('Key parameters')],\n    },\n    {\n        type: 'text',\n        content: [localize('These are the trade parameters used in Deriv Bot with 1-3-2-6 strategy.')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                '<strong>Initial stake:</strong> The starting trade amount. Stake is reverted to this amount when a session completes or after a losing trade.'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                '<strong>Profit threshold:</strong> The bot will stop trading if your total profit exceeds this amount.'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                '<strong>Loss threshold:</strong> The bot will stop trading if your total loss exceeds this amount.'\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('An example of 1-3-2-6 strategy')],\n    },\n    {\n        type: 'media',\n        src: getImageLocation('1-3-2-6.svg'),\n        alt: localize('An example of 1-3-2-6 strategy'),\n    },\n    {\n        type: 'text',\n        content: [\n            localize('1. Start with the initial stake. Lets say 1 USD.'),\n            localize(\n                '2. If the trade is successful, this strategy will automatically adjust your stake to 3 units of your initial stake for the next trade. In this case, the stake adjustment is 3 units and the initial stake is 1 USD, hence the next trade will start at 3 USD.'\n            ),\n            localize(\n                '3. If the second trade is also successful, your stake will adjust to 2 USD or 2 units of the initial stake for the next trade.'\n            ),\n            localize(\n                '4. However, if any trade results in a loss, your stake will reset back to the initial stake of 1 USD for the next trade. The third trade results in a loss hence the stake resets to the initial stake of 1 USD for the next trade.'\n            ),\n            localize(\n                '5. Upon reaching the initial stake, if the next trade still results in a loss, your stake will remain at the initial stake of 1 USD. This strategy will minimally trade at the initial stake. Refer to the fourth and fifth trade.'\n            ),\n            localize(\n                '6. If consecutive successful trades were to happen, the stake would follow a sequence of adjustment from 1 to 3, then 2, and 6 units of initial stake. After 4 consecutive successful trades, it completes one cycle and then the strategy will repeat itself for another cycle. If any trade results in a loss, your stake will reset back to the initial stake for the next trade.'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                'The 1-3-2-6 strategy is designed to capitalise on consecutive successful trades while minimising losses during losing streaks. The rationale behind this strategy lies in statistical probabilities, with adjustments to stake sizes based on the perceived likelihood of success. There is a higher likelihood of success in the second trade after one successful trade. Hence the stake adjusts to 3 in the second trade. In the third trade, the stake adjusts to 2 units due to a lower probability of a successful trade. If the third trade is also successful, the strategy then allocates all the previous gains (a total of 6 units of initial stake) into the fourth trade with the aim of doubling the potential profits. If the fourth trade results in a positive outcome, the strategy helps achieve a total gain of 12 units. However, it is crucial to exercise caution, as the risk can escalate quickly with this strategy, and any loss in the fourth trade forfeits all previous gains.'\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('Profit and loss thresholds')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                'With Deriv Bot, traders can set the profit and loss thresholds to secure potential profits and limit potential losses. This means that the trading bot will automatically stop when either the profit or loss threshold is reached. This is a form of risk management that can potentially boost successful trades whilst limiting the impact of loss. For example, if a trader sets the profit threshold at 100 USD and the strategy exceeds 100 USD of profit from all trades, then the bot will stop running.'\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('Summary')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                'The 1-3-2-6 strategy in trading may offer substantial gains but also comes with significant risks. Each stake is independent, and the strategy does not increase your chances of successful trades in the long run. If you encounter a series of losses, the strategy can lead to significant losses. Therefore, it is crucial for traders to assess their risk tolerance, practice in a demo account, utilise profit and loss thresholds, and fully comprehend the strategy before engaging in real-money trading.'\n            ),\n        ],\n    },\n    {\n        type: 'text_italic',\n        content: [localize('<strong>Disclaimer:</strong>')],\n    },\n    {\n        type: 'text_italic',\n        content: [\n            localize(\n                'Please be aware that while we may use rounded figures for illustration, a stake of a specific amount does not guarantee an exact amount in successful trades. For example, a 1 USD stake does not necessarily equate to a 1 USD profit in successful trades.'\n            ),\n            localize(\n                'Trading inherently involves risks, and actual profits can fluctuate due to various factors, including market volatility and other unforeseen variables. As such, exercise caution and conduct thorough research before engaging in any trading activities.'\n            ),\n        ],\n    },\n];\n",
            "size_bytes": 7089
        },
        "src/components/shared/utils/helpers/validation-rules.ts": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { getTotalProfit } from '../contract';\nimport { TContractStore } from '../contract/contract-types';\nimport { getBuyPrice } from './logic';\n\ntype TOptions = {\n    message?: string;\n    min?: number;\n    max?: number;\n};\n\nexport const getContractValidationRules = () => ({\n    has_contract_update_stop_loss: {\n        trigger: 'contract_update_stop_loss',\n    },\n    contract_update_stop_loss: {\n        rules: [\n            [\n                'req',\n                {\n                    condition: (contract_store: TContractStore) => !contract_store.contract_update_stop_loss,\n                    message: localize('Please enter a stop loss amount.'),\n                },\n            ],\n            [\n                'custom',\n                {\n                    func: (value: number, options: TOptions, contract_store: TContractStore) => {\n                        const profit = getTotalProfit(contract_store.contract_info);\n                        return !(profit < 0 && -value > profit);\n                    },\n                    message: localize(\"Please enter a stop loss amount that's higher than the current potential loss.\"),\n                },\n            ],\n            [\n                'custom',\n                {\n                    func: (value: number, options: TOptions, contract_store: TContractStore) => {\n                        const stake = getBuyPrice(contract_store);\n                        return value < Number(stake) + 1;\n                    },\n                    message: localize('Invalid stop loss. Stop loss cannot be more than stake.'),\n                },\n            ],\n        ],\n    },\n    has_contract_update_take_profit: {\n        trigger: 'contract_update_take_profit',\n    },\n    contract_update_take_profit: {\n        rules: [\n            [\n                'req',\n                {\n                    condition: (contract_store: TContractStore) => !contract_store.contract_update_take_profit,\n                    message: localize('Please enter a take profit amount.'),\n                },\n            ],\n            [\n                'custom',\n                {\n                    func: (value: string | number, options: TOptions, contract_store: TContractStore) => {\n                        const profit = getTotalProfit(contract_store.contract_info);\n                        return !(profit > 0 && +value < profit);\n                    },\n                    message: localize(\n                        \"Please enter a take profit amount that's higher than the current potential profit.\"\n                    ),\n                },\n            ],\n        ],\n    },\n});\n",
            "size_bytes": 2671
        },
        "src/components/layout/footer/NetworkStatus.tsx": {
            "content": "import { useMemo } from 'react';\nimport clsx from 'clsx';\nimport useNetworkStatus from '@/hooks/useNetworkStatus';\nimport { localize } from '@deriv-com/translations';\nimport { Tooltip } from '@deriv-com/ui';\n\nconst statusConfigs = () => ({\n    blinking: {\n        className: 'app-footer__network-status-online app-footer__network-status-blinking',\n        tooltip: localize('Connecting to server'),\n    },\n    offline: { className: 'app-footer__network-status-offline', tooltip: 'Offline' },\n    online: { className: 'app-footer__network-status-online', tooltip: 'Online' },\n});\n\nconst NetworkStatus = () => {\n    const status = useNetworkStatus();\n    const { className, tooltip } = useMemo(() => statusConfigs()[status], [status]);\n\n    return (\n        <Tooltip\n            as='div'\n            className='app-footer__icon'\n            data-testid='dt_network_status'\n            tooltipContent={localize('Network status: {{status}}', { status: tooltip })}\n        >\n            <div className={clsx('app-footer__network-status', className)} data-testid='dt_circle' />\n        </Tooltip>\n    );\n};\n\nexport default NetworkStatus;\n",
            "size_bytes": 1132
        },
        "src/stores/flyout-store.ts": {
            "content": "/* eslint-disable no-underscore-dangle */\nimport { action, computed, makeObservable, observable } from 'mobx';\nimport { config } from '@/external/bot-skeleton';\nimport { browserOptimizer } from '@/utils/browser-performance-optimizer';\nimport GTM from '@/utils/gtm';\nimport RootStore from './root-store';\n\nexport interface IFlyoutStore {\n    block_listeners: unknown[];\n    block_workspaces: Element[];\n    flyout_min_width: number;\n    options: {\n        media: string;\n        move: { scrollbars: boolean; drag: boolean; wheel: boolean };\n        zoom: { startScale: number };\n        sounds: boolean;\n    };\n    is_help_content: boolean;\n    flyout_content: Element[];\n    flyout_width: number;\n    is_visible: boolean;\n    is_search_flyout: boolean;\n    is_loading: boolean;\n    search_term: string;\n    selected_category: Element | null;\n    onMount: () => void;\n    onUnmount: () => void;\n    initFlyout: () => void;\n    initBlockWorkspace: (el_block_workspace: HTMLElement, block_node: Node) => void;\n    getFlyout: () => Element;\n    setContents: (xml_list: Element[], search_term: string) => void;\n    setFlyoutWidth: (xmlList: Element[]) => void;\n    setVisibility: (is_visible: boolean) => void;\n    setIsSearchFlyout: (is_search: boolean) => void;\n    setSelectedCategory: (selected_category: Element | null) => void;\n    getSelectedCategory: () => Element | null;\n    onClickOutsideFlyout: (event: unknown) => void;\n    refreshCategory: () => void;\n    variables_blocks_count: number;\n    first_get_variable_block_index: number;\n}\n\nexport default class FlyoutStore implements IFlyoutStore {\n    root_store: RootStore;\n    flyout = null;\n    block_listeners = [];\n    block_workspaces = [];\n    flyout_min_width = 440;\n    flyout_width_timer: ReturnType<typeof setTimeout> | undefined = undefined;\n    options = {\n        renderer: 'zelos',\n        media: 'assets/media/',\n        move: { scrollbars: false, drag: true, wheel: false },\n        zoom: { startScale: config().workspaces.flyoutWorkspacesStartScale },\n        sounds: false,\n        theme: window?.Blockly?.Themes?.zelos_renderer,\n    };\n\n    is_help_content = false;\n    flyout_content: Element[] = [];\n    flyout_width = this.flyout_min_width;\n    is_visible = false;\n    is_search_flyout = false;\n    is_loading = false;\n    search_term = '';\n    selected_category: Element | null = null;\n\n    constructor(root_store: RootStore) {\n        makeObservable(this, {\n            is_help_content: observable,\n            flyout_content: observable,\n            flyout_width: observable,\n            is_visible: observable,\n            is_search_flyout: observable,\n            is_loading: observable,\n            search_term: observable,\n            selected_category: observable,\n            onMount: action.bound,\n            onUnmount: action.bound,\n            initFlyout: action.bound,\n            initBlockWorkspace: action.bound,\n            getFlyout: action.bound,\n            setContents: action.bound,\n            setFlyoutWidth: action.bound,\n            setVisibility: action.bound,\n            setIsSearchFlyout: action.bound,\n            setSelectedCategory: action.bound,\n            getSelectedCategory: action.bound,\n            onClickOutsideFlyout: action.bound,\n            refreshCategory: action.bound,\n            variables_blocks_count: computed,\n            first_get_variable_block_index: computed,\n        });\n\n        this.root_store = root_store;\n    }\n\n    onMount() {\n        this.initFlyout();\n        window.addEventListener('click', this.onClickOutsideFlyout);\n    }\n\n    onUnmount() {\n        window.removeEventListener('click', this.onClickOutsideFlyout);\n        // Enhanced cleanup on unmount to prevent memory leaks\n        this.cleanupBlockWorkspaces();\n        this.flyout_content = [];\n        this.selected_category = null;\n\n        // Clean up flyout width timer\n        if (this.flyout_width_timer) {\n            clearTimeout(this.flyout_width_timer);\n            this.flyout_width_timer = undefined;\n        }\n    }\n\n    initFlyout() {\n        const workspace = window.Blockly.derivWorkspace;\n\n        const flyoutWorkspaceOptions = new window.Blockly.Options({\n            parentWorkspace: workspace,\n            rtl: workspace.RTL,\n            horizontalLayout: true,\n            theme: window?.Blockly?.Themes?.zelos_renderer,\n        });\n\n        if (workspace.horizontalLayout) {\n            this.flyout = new window.Blockly.HorizontalFlyout(flyoutWorkspaceOptions);\n        } else {\n            this.flyout = new window.Blockly.VerticalFlyout(flyoutWorkspaceOptions);\n        }\n\n        this.flyout.targetWorkspace = workspace;\n        this.flyout.workspace_.targetWorkspace = workspace;\n\n        // A flyout connected to a workspace doesn't have its own current gesture.\n        this.flyout.workspace_.getGesture = this.flyout.targetWorkspace.getGesture.bind(this.flyout.targetWorkspace_);\n\n        // Get variables from the main workspace rather than the target workspace.\n        workspace.VariableMap = this.flyout.targetWorkspace.getVariableMap();\n\n        this.flyout.workspace_.createPotentialVariableMap();\n    }\n\n    /**\n     * Intialises a workspace unique to the passed block_node\n     * @param {Element} el_block_workspace Element where window.Blockly.Workspace will be mounted on\n     * @param {Element} block_node DOM of a window.Blockly.Block\n     * @memberof FlyoutStore\n     */\n    initBlockWorkspace(el_block_workspace: HTMLElement, block_node: Node) {\n        const workspace = window.Blockly.inject(el_block_workspace, this.options);\n\n        workspace.targetWorkspace = window.Blockly.derivWorkspace;\n\n        const block = window.Blockly.Xml.domToBlock(block_node, workspace);\n        // Using block.getHeightWidth() here because getDimentions() also calls window.Blockly.Xml.domToBlock\n        const block_hw = block.getHeightWidth();\n\n        block.isInFlyout = true;\n\n        // Update block workspace widths to accommodate block widths.\n        // addind 1px to highet and then moving the block 1px down to make block top border visible\n        el_block_workspace.style.height = `${Math.ceil(block_hw.height * this.options.zoom.startScale) + 1}px`;\n        el_block_workspace.style.width = `${Math.ceil(block_hw.width * this.options.zoom.startScale) + 1}px`;\n        block.moveBy(1, 1);\n\n        // Use original Blockly flyout functionality to create block on drag.\n        const block_svg_root = block.getSvgRoot();\n\n        this.block_listeners.push(\n            window?.Blockly?.browserEvents?.conditionalBind(block_svg_root, 'mousedown', null, event => {\n                GTM?.pushDataLayer?.({\n                    event: 'dbot_drag_block',\n                    block_type: block.type,\n                });\n                this.flyout.blockMouseDown(block)(event as window.Blockly.Events.UiBase);\n            }),\n            window?.Blockly?.browserEvents?.bind(block_svg_root, 'mouseout', block, block.removeSelect),\n            window?.Blockly?.browserEvents?.bind(block_svg_root, 'mouseover', block, block.addSelect)\n        );\n\n        this.block_workspaces.push(workspace);\n        window.Blockly.svgResize(workspace);\n    }\n\n    getFlyout() {\n        return this.flyout;\n    }\n\n    /**\n     * Parses XML contents passed by window.Blockly.Toolbox. Supports all default\n     * window.Blockly.Flyout elements i.e. <block>, <label>, <button> in their\n     * original format, e.g. <label text=\"Hello World\" />\n     * @param {Element[]} xml_list list of XML nodes\n     * @memberof FlyoutStore\n     */\n    setContents(xml_list: Element[], search_term = '') {\n        const text_limit = 20;\n        const processed_xml = xml_list;\n\n        // Enhanced cleanup to prevent memory leaks\n        this.cleanupBlockWorkspaces();\n\n        this.is_help_content = false;\n        this.search_term = search_term.length > text_limit ? `${search_term.substring(0, text_limit)}...` : search_term;\n        this.flyout_content = xml_list;\n\n        this.setFlyoutWidth(processed_xml);\n\n        // Don't auto-show flyout here - let caller control visibility\n        // this.setVisibility(true);\n\n        // apparently setFlyoutWidth doesn't calculate blocks dimentions until they're visible\n        // using setTimeout is a workaround to solve this issue\n        setTimeout(() => this.setFlyoutWidth(processed_xml), 50);\n    }\n\n    private cleanupBlockWorkspaces() {\n        // More thorough cleanup of listeners and workspaces\n        try {\n            this.block_listeners.forEach(listener => {\n                if (listener && typeof window.Blockly.browserEvents.unbind === 'function') {\n                    window.Blockly.browserEvents.unbind(listener);\n                }\n            });\n        } catch (error) {\n            console.warn('Error cleaning up block listeners:', error);\n        }\n\n        try {\n            this.block_workspaces.forEach(workspace => {\n                if (workspace && typeof workspace.dispose === 'function') {\n                    workspace.dispose();\n                }\n            });\n        } catch (error) {\n            console.warn('Error disposing block workspaces:', error);\n        }\n\n        this.block_listeners = [];\n        this.block_workspaces = [];\n    }\n\n    /**\n     * Walks through xmlList and finds width of the longest block while setting\n     * height and width (in workspace pixels) attributes on each of the block nodes.\n     * @param {Element[]} xmlList\n     * @memberof FlyoutStore\n     */\n    setFlyoutWidth(xmlList: Element[]) {\n        // Throttle flyout width calculations to prevent excessive DOM operations\n        if (this.flyout_width_timer) {\n            clearTimeout(this.flyout_width_timer);\n        }\n\n        // Browser-specific throttle delay (Safari/Firefox)\n        const throttleDelay = browserOptimizer.getThrottleDelay();\n\n        this.flyout_width_timer = setTimeout(() => {\n            this.calculateFlyoutWidth(xmlList);\n        }, throttleDelay);\n    }\n\n    private calculateFlyoutWidth(xmlList: Element[]) {\n        // Browser-specific DOM operation wrapper (Safari/Firefox)\n        browserOptimizer.safeDOMOperation(() => {\n            let longest_block_width = 0;\n\n            try {\n                xmlList.forEach((node: Element) => {\n                    const tag_name = node.tagName.toUpperCase();\n\n                    if (tag_name === window.Blockly.Xml.NODE_BLOCK) {\n                        const block_hw = window.Blockly.Block.getDimensions(node);\n\n                        node.setAttribute('width', String(Math.ceil(block_hw.width * this.options.zoom.startScale)));\n                        node.setAttribute('height', String(Math.ceil(block_hw.height * this.options.zoom.startScale)));\n                        longest_block_width = Math.max(\n                            longest_block_width,\n                            Math.ceil(block_hw.width * this.options.zoom.startScale)\n                        );\n                    }\n                });\n\n                this.flyout_width = Math.max(this.flyout_min_width, longest_block_width + 65);\n            } catch (error) {\n                console.warn('Error calculating flyout width:', error);\n                this.flyout_width = this.flyout_min_width;\n            }\n        });\n    }\n\n    /**\n     * Sets whether the flyout is visible or not.\n     * @param {boolean} is_visible\n     * @memberof FlyoutStore\n     */\n    setVisibility(is_visible: boolean) {\n        this.is_visible = is_visible;\n\n        if (!is_visible) {\n            this.setSelectedCategory(null);\n            this.flyout_content = [];\n        }\n\n        window.Blockly.derivWorkspace.isFlyoutVisible = is_visible;\n    }\n\n    /**\n     * Sets whether the flyout is search or not.\n     * @param {boolean} is_search\n     * @memberof FlyoutStore\n     */\n    setIsSearchFlyout(is_search: boolean) {\n        this.is_search_flyout = is_search;\n    }\n\n    setSelectedCategory(selected_category: Element | null) {\n        this.selected_category = selected_category;\n    }\n\n    getSelectedCategory() {\n        return this.selected_category;\n    }\n\n    /**\n     * Close the flyout on click outside itself or parent toolbox.\n     */\n    onClickOutsideFlyout(event: MouseEvent) {\n        if (!this.is_visible || !window.Blockly.derivWorkspace) {\n            return;\n        }\n\n        const toolbox = document.getElementById('gtm-toolbox');\n        const path = event?.composedPath() || [];\n\n        const is_flyout_click = path.some(\n            el => (el as Element).classList && (el as Element).classList.contains('flyout')\n        );\n        const is_search_focus = this.root_store.toolbox.is_search_focus;\n        const isToolboxClick = () => toolbox?.contains(event.target as Node);\n\n        if (!is_flyout_click && !isToolboxClick() && !is_search_focus) {\n            this.setVisibility(false);\n            this.setSelectedCategory(null);\n        }\n    }\n\n    refreshCategory() {\n        const category = this.getSelectedCategory();\n        const { toolbox } = this.root_store;\n        const flyout_content = toolbox.getCategoryContents(category);\n        this.setContents(flyout_content);\n    }\n\n    get variables_blocks_count() {\n        return this.flyout_content.filter((block: Element) => block.getAttribute('type') === 'variables_get').length;\n    }\n\n    get first_get_variable_block_index() {\n        return this.flyout_content.length - this.variables_blocks_count;\n    }\n}\n",
            "size_bytes": 13417
        },
        "src/pages/bot-builder/quick-strategy/selects/contract-type.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { Field, FieldProps, useFormikContext } from 'formik';\nimport { observer } from 'mobx-react-lite';\nimport Autocomplete from '@/components/shared_ui/autocomplete';\nimport { TItem } from '@/components/shared_ui/dropdown-list';\nimport Text from '@/components/shared_ui/text';\nimport { ApiHelpers } from '@/external/bot-skeleton';\nimport { useStore } from '@/hooks/useStore';\nimport { useDevice } from '@deriv-com/ui';\nimport { TApiHelpersInstance, TDropdownItems, TFormData } from '../types';\n\ntype TContractTypes = {\n    name: string;\n    attached?: boolean;\n};\n\nconst ContractTypes: React.FC<TContractTypes> = observer(({ name }) => {\n    const { isDesktop } = useDevice();\n    const [list, setList] = React.useState<TDropdownItems[]>([]);\n    const { quick_strategy } = useStore();\n    const { setValue } = quick_strategy;\n    const { setFieldValue, values } = useFormikContext<TFormData>();\n    const { symbol, tradetype } = values;\n\n    React.useEffect(() => {\n        if (tradetype && symbol) {\n            const selected = values?.type;\n            const getContractTypes = async () => {\n                const { contracts_for } = (ApiHelpers?.instance as unknown as TApiHelpersInstance) ?? {};\n                const categories = await contracts_for?.getContractTypes?.(tradetype);\n                setList(categories);\n                const has_selected = categories?.some(contract => contract.value === selected);\n                if (!has_selected) {\n                    setFieldValue?.(name, categories?.[0]?.value);\n                    setValue(name, categories?.[0]?.value);\n                }\n            };\n            getContractTypes();\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [symbol, tradetype]);\n\n    const handleChange = (value: string) => {\n        setFieldValue?.(name, value);\n        setValue(name, value);\n    };\n\n    const key = `qs-contract-type-${name}`;\n\n    return (\n        <div className='qs__form__field qs__form__field__input no-top-spacing'>\n            <Field name={name} key={key} id={key}>\n                {({ field }: FieldProps) => {\n                    const selected_item = list?.find(item => item?.value === field?.value);\n                    if (!isDesktop) {\n                        return (\n                            <ul className='qs__form__field__list' data-testid='dt_qs_contract_types'>\n                                {list.map(item => {\n                                    const is_active = selected_item?.value === item?.value;\n                                    return (\n                                        <li\n                                            key={item?.value}\n                                            className={classNames('qs__form__field__list__item', {\n                                                'qs__form__field__list__item--active': is_active,\n                                            })}\n                                            onClick={() => {\n                                                handleChange(item?.value);\n                                            }}\n                                        >\n                                            <Text size='xs' color='prominent' weight={is_active ? 'bold ' : 'normal'}>\n                                                {item?.text}\n                                            </Text>\n                                        </li>\n                                    );\n                                })}\n                            </ul>\n                        );\n                    }\n                    return (\n                        <Autocomplete\n                            {...field}\n                            readOnly\n                            inputMode='none'\n                            data-testid='dt_qs_contract_type'\n                            autoComplete='off'\n                            className='qs__select contract-type'\n                            value={selected_item?.text || ''}\n                            list_items={list}\n                            onItemSelection={(item: TItem) => {\n                                const { value } = item as TDropdownItems;\n                                if (value) {\n                                    handleChange(value);\n                                }\n                            }}\n                        />\n                    );\n                }}\n            </Field>\n        </div>\n    );\n});\n\nexport default ContractTypes;\n",
            "size_bytes": 4568
        },
        "analysis-tool/Benanalysistool-final-main/components/ui/dialog.tsx": {
            "content": "'use client'\n\nimport * as React from 'react'\nimport * as DialogPrimitive from '@radix-ui/react-dialog'\nimport { XIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Dialog({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />\n}\n\nfunction DialogTrigger({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />\n}\n\nfunction DialogPortal({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />\n}\n\nfunction DialogClose({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />\n}\n\nfunction DialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\n  return (\n    <DialogPrimitive.Overlay\n      data-slot=\"dialog-overlay\"\n      className={cn(\n        'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogContent({\n  className,\n  children,\n  showCloseButton = true,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Content> & {\n  showCloseButton?: boolean\n}) {\n  return (\n    <DialogPortal data-slot=\"dialog-portal\">\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n          'bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg',\n          className,\n        )}\n        {...props}\n      >\n        {children}\n        {showCloseButton && (\n          <DialogPrimitive.Close\n            data-slot=\"dialog-close\"\n            className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\"\n          >\n            <XIcon />\n            <span className=\"sr-only\">Close</span>\n          </DialogPrimitive.Close>\n        )}\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  )\n}\n\nfunction DialogHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"dialog-header\"\n      className={cn('flex flex-col gap-2 text-center sm:text-left', className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"dialog-footer\"\n      className={cn(\n        'flex flex-col-reverse gap-2 sm:flex-row sm:justify-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\n  return (\n    <DialogPrimitive.Title\n      data-slot=\"dialog-title\"\n      className={cn('text-lg leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\n  return (\n    <DialogPrimitive.Description\n      data-slot=\"dialog-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n}\n",
            "size_bytes": 3985
        },
        "src/pages/dashboard/announcements/config.tsx": {
            "content": "import React from 'react';\nimport { getUrlBase } from '@/components/shared';\nimport OpenLiveChatLink from '@/components/shared_ui/open-livechat-link';\nimport Text from '@/components/shared_ui/text';\nimport { DBOT_TABS } from '@/constants/bot-contents';\nimport { Localize, localize } from '@deriv-com/translations';\nimport { rudderStackSendOpenEvent } from '../../../analytics/rudderstack-common-events';\nimport { handleOnConfirmAccumulator } from './utils/accumulator-helper-functions';\nimport { IconAnnounce } from './announcement-components';\n\nexport type TContentItem = {\n    id: number;\n    text: React.ReactNode;\n};\n\nexport type TAnnounce = {\n    id: string;\n    main_title: string;\n    confirm_button_text?: string;\n    cancel_button_text?: string;\n    base_classname: string;\n    title: React.ReactNode;\n    content?: TContentItem[];\n    numbered_content?: TContentItem[];\n    plain_text?: TContentItem[];\n    media?: Array<string>;\n    unordered_list?: TContentItem[];\n};\n\nexport type TAnnouncement = {\n    announcement: TAnnounce;\n    switch_tab_on_cancel?: number;\n    switch_tab_on_confirm?: number;\n    onConfirm?: () => void;\n    onCancel?: () => void;\n    url_redirect?: string;\n    should_not_be_cancel?: boolean;\n    should_toggle_load_modal?: boolean;\n    should_toggle_qs_modal?: boolean;\n};\n\nexport const ANNOUNCEMENTS: Record<string, TAnnouncement> = {\n    UPDATES_QUICK_STRATEGY_MODAL_ANNOUNCE: {\n        announcement: {\n            id: 'UPDATES_QUICK_STRATEGY_MODAL_ANNOUNCE',\n            main_title: localize('Updates: Quick strategy modal'),\n            confirm_button_text: localize('Explore now'),\n            base_classname: 'announcement-dialog',\n            media: [getUrlBase('assets/images/dbot-new-look-QS-and-accumulators-addition.gif')],\n            title: [\n                <Text key={0} as='div' align='left' size='xs' className='announcement-dialog__title'>\n                    <Localize i18n_default_text=\"We've improved the Quick strategy (QS) modal for a better trading experience.\" />\n                </Text>,\n                <Localize key={1} i18n_default_text='<0>Whats new:</0>' components={[<div key={0} />]} />,\n            ],\n            unordered_list: [\n                {\n                    id: 0,\n                    text: (\n                        <Localize\n                            i18n_default_text='<0>A revamped design</0> for improved functionality.'\n                            components={[<strong key={0} />]}\n                        />\n                    ),\n                },\n                {\n                    id: 1,\n                    text: (\n                        <Localize\n                            i18n_default_text='<0>Support for multiple trade types </0> with a filter to find strategies by preference.'\n                            components={[<strong key={0} />]}\n                        />\n                    ),\n                },\n                {\n                    id: 2,\n                    text: (\n                        <Localize\n                            i18n_default_text='<0>Integration of Accumulators Options</0> for direct strategy application within the QS modal.'\n                            components={[<strong key={0} />]}\n                        />\n                    ),\n                },\n            ],\n        },\n        should_not_be_cancel: true,\n        switch_tab_on_confirm: DBOT_TABS.BOT_BUILDER,\n        should_toggle_qs_modal: true,\n    },\n\n    MOVING_STRATEGIES_ANNOUNCE: {\n        announcement: {\n            id: 'MOVING_STRATEGIES_ANNOUNCE',\n            main_title: localize('Moving strategies to Deriv Bot'),\n            confirm_button_text: localize('Import strategy'),\n            base_classname: 'announcement-dialog',\n            title: (\n                <Localize\n                    i18n_default_text='<0>Follow these steps to smoothly transfer your strategies:</0>'\n                    components={[<strong key={0} />]}\n                />\n            ),\n            numbered_content: [\n                {\n                    id: 0,\n                    text: localize('Download your strategy in XML format and import it to Deriv Bot.'),\n                },\n                {\n                    id: 1,\n                    text: localize('Run your updated strategy to check its performance.'),\n                },\n                {\n                    id: 2,\n                    text: localize('Save the updated strategy for quicker re-imports.'),\n                },\n            ],\n            plain_text: [\n                {\n                    id: 0,\n                    text: (\n                        <Localize\n                            i18n_default_text='<0>Note</0>: Uploading complex strategies may take some time. Saving them from Deriv Bot ensures quicker access later. If you have questions, contact us via <1/>.'\n                            components={[<strong key={0} />, <OpenLiveChatLink className='' key={1} />]}\n                        />\n                    ),\n                },\n            ],\n        },\n        should_not_be_cancel: true,\n        should_toggle_load_modal: true,\n        switch_tab_on_confirm: DBOT_TABS.BOT_BUILDER,\n        onConfirm: () => {\n            rudderStackSendOpenEvent({\n                subpage_name: 'bot_builder',\n                subform_source: 'announcements',\n                subform_name: 'load_strategy',\n                load_strategy_tab: 'recent',\n            });\n        },\n    },\n\n    BLOCKLY_ANNOUNCE: {\n        announcement: {\n            id: 'BLOCKLY_ANNOUNCE',\n            main_title: localize('Google Blockly v10 update'),\n            base_classname: 'announcement-dialog',\n            title: (\n                <Localize\n                    i18n_default_text='We have updated our Blockly system in Deriv Bot from <0>version 3 to version 10</0>. This brings:'\n                    components={[<strong key={0} />]}\n                />\n            ),\n            numbered_content: [\n                {\n                    id: 0,\n                    text: localize('Better security.'),\n                },\n                {\n                    id: 1,\n                    text: localize('Faster performance.'),\n                },\n                {\n                    id: 2,\n                    text: localize('New features for developers.'),\n                },\n            ],\n            plain_text: [\n                {\n                    id: 0,\n                    text: (\n                        <Localize\n                            i18n_default_text='<0>Note</0>: Some complex strategies might face issues in the Bot Builder. If you have questions, contact us via <1/>.'\n                            components={[<strong key={0} />, <OpenLiveChatLink className='' key={1} />]}\n                        />\n                    ),\n                },\n            ],\n        },\n        should_not_be_cancel: true,\n    },\n\n    ACCUMULATOR_ANNOUNCE: {\n        announcement: {\n            id: 'ACCUMULATOR_ANNOUNCE',\n            main_title: localize('Accumulators now on Deriv Bot'),\n            confirm_button_text: localize('Try now'),\n            cancel_button_text: localize('Learn more'),\n            base_classname: 'announcement-dialog',\n            title: (\n                <Localize\n                    i18n_default_text='<0>Boost your trading strategy with Accumulators</0>'\n                    components={[<strong key={0} />]}\n                />\n            ),\n            content: [\n                {\n                    id: 0,\n                    text: localize('Trade Accumulators to build up potential profits with a structured approach.'),\n                },\n                {\n                    id: 1,\n                    text: localize('Customise your investment period and price levels to fit your trading goals.'),\n                },\n                { id: 2, text: localize('Manage risks while capitalising on market opportunities.') },\n            ],\n        },\n        switch_tab_on_cancel: DBOT_TABS.TUTORIAL,\n        switch_tab_on_confirm: DBOT_TABS.BOT_BUILDER,\n        onConfirm: () => handleOnConfirmAccumulator(),\n    },\n};\n\nexport type TAnnouncementItem = {\n    id: string;\n    icon: React.ReactElement;\n    title: string;\n    message: string;\n    date: string;\n    buttonAction: string;\n    actionText: string;\n};\n\nexport type TNotifications = {\n    key: string;\n    icon: React.ReactNode;\n    title: React.ReactNode;\n    message: React.ReactNode;\n    buttonAction: (() => void) | false | void;\n    actionText: string;\n};\n\nexport const BUTTON_ACTION_TYPE = {\n    MODAL_BUTTON_ACTION: 'modal_button_action',\n    REDIRECT_BUTTON_ACTION: 'redirect_button_action',\n    NO_ACTION: 'no_action',\n};\n\nexport const BOT_ANNOUNCEMENTS_LIST: TAnnouncementItem[] = [\n    {\n        id: 'UPDATES_QUICK_STRATEGY_MODAL_ANNOUNCE',\n        icon: IconAnnounce,\n        title: localize('Updated: Quick Strategy Modal'),\n        message: localize(\"We've improved the Quick strategy (QS) modal for a better trading experience.\"),\n        date: '18 November 2024 00:00 UTC',\n        buttonAction: BUTTON_ACTION_TYPE.MODAL_BUTTON_ACTION,\n        actionText: '',\n    },\n    {\n        id: 'MOVING_STRATEGIES_ANNOUNCE',\n        icon: IconAnnounce,\n        title: localize('Moving strategies to Deriv Bot'),\n        message: localize('Follow these steps to smoothly transfer your strategies'),\n        date: '1 August 2024 00:00 UTC',\n        buttonAction: BUTTON_ACTION_TYPE.MODAL_BUTTON_ACTION,\n        actionText: '',\n    },\n    {\n        id: 'BLOCKLY_ANNOUNCE',\n        icon: IconAnnounce,\n        title: localize('Google Blockly v10 update'),\n        message: localize('We have updated our Blockly system in Deriv Bot from version 3 to version 10.'),\n        date: '24 July 2024 00:00 UTC',\n        buttonAction: BUTTON_ACTION_TYPE.MODAL_BUTTON_ACTION,\n        actionText: '',\n    },\n    {\n        id: 'ACCUMULATOR_ANNOUNCE',\n        icon: IconAnnounce,\n        title: localize('Accumulators is now on Deriv Bot'),\n        message: localize('Boost your trading strategy with Accumulators.'),\n        date: '2 July 2024 00:00 UTC',\n        buttonAction: BUTTON_ACTION_TYPE.MODAL_BUTTON_ACTION,\n        actionText: '',\n    },\n];\n",
            "size_bytes": 10219
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Tools/Time/totimestamp.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { emptyTextValidator, modifyContextMenu } from '../../../../utils';\n\nwindow.Blockly.Blocks.totimestamp = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('To timestamp {{ input_datetime }} {{ dummy }}', { input_datetime: '%1', dummy: '%2' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'DATETIME',\n                },\n                {\n                    // Extra dummy for spacing.\n                    type: 'input_dummy',\n                },\n            ],\n            output: 'Number',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize(\n                'Converts a string representing a date/time string into seconds since Epoch. Example: 2019-01-01 21:03:45 GMT+0800 will be converted to 1546347825. Time and time zone offset are optional.'\n            ),\n            category: window.Blockly.Categories.Time,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Convert to timestamp'),\n            description: localize(\n                'This block converts a string of text that represents the date and time into seconds since the Unix Epoch (1 January 1970). The time and time zone offset are optional. Example: 2019-01-01 21:03:45 GMT+0800 will be converted to 1546347825.'\n            ),\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    getRequiredValueInputs() {\n        return {\n            DATETIME: emptyTextValidator,\n        };\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.totimestamp = block => {\n    const datetime_string = window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n        block,\n        'DATETIME',\n        window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC\n    );\n    const code = `Bot.dateTimeStringToTimestamp(${datetime_string})`;\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_FUNCTION_CALL];\n};\n",
            "size_bytes": 2308
        },
        "src/utils/help-content/help-strings/console.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize(\n            'This block displays messages in the developers console with an input that can be either a string of text, a number, boolean, or an array of data.'\n        ),\n        localize('There are 4 message types:'),\n        localize(\"1. 'Log' displays a regular message.\"),\n        localize(\"2. 'Warn' displays a message in yellow to highlight something that needs attention.\"),\n        localize(\"3. 'Error' displays a message in red to highlight something that needs to be resolved immediately.\"),\n        localize(\"4. 'Table' takes an array of data, such as a list of candles, and displays it in a table format.\"),\n    ],\n};\n",
            "size_bytes": 739
        },
        "src/app/AuthWrapper.tsx": {
            "content": "import React from 'react';\nimport Cookies from 'js-cookie';\nimport ErrorModal from '@/components/error-modal';\nimport ChunkLoader from '@/components/loader/chunk-loader';\nimport PageError from '@/components/page-error';\nimport { getAuthError, getDefaultError } from '@/components/shared/utils/constants/error';\nimport { generateDerivApiInstance } from '@/external/bot-skeleton/services/api/appId';\nimport { observer as globalObserver } from '@/external/bot-skeleton/utils/observer';\nimport { clearAuthData } from '@/utils/auth-utils';\nimport { localize } from '@deriv-com/translations';\nimport { URLUtils } from '@deriv-com/utils';\nimport App from './App';\n\nconst setLocalStorageToken = async (\n    loginInfo: URLUtils.LoginInfo[],\n    paramsToDelete: string[],\n    setIsAuthComplete: React.Dispatch<React.SetStateAction<boolean>>,\n    setTokenError: React.Dispatch<React.SetStateAction<string | null>>,\n    setIsAuthError: React.Dispatch<React.SetStateAction<boolean>>\n) => {\n    // Extract token and account_type from URL params\n    const urlParams = new URLSearchParams(window.location.search);\n    const token = urlParams.get('token');\n    const accountType = urlParams.get('account_type');\n\n    // Only save account_type when BOTH token and account_type are present\n    if (token && accountType) {\n        localStorage.setItem('account_type', accountType);\n    }\n    // If no token or account_type, don't save anything - will fallback to demo server\n\n    if (loginInfo.length) {\n        URLUtils.filterSearchParams(paramsToDelete);\n\n        try {\n            const api = await generateDerivApiInstance();\n\n            if (api) {\n                const { authorize, error } = await api.authorize(loginInfo[0].token);\n                api.disconnect();\n                if (error) {\n                    // Check if the error is due to an invalid token\n                    if (error.code === 'InvalidToken') {\n                        // Set error message to show PageError for auth errors\n                        setTokenError(getAuthError().description);\n                        setIsAuthError(true);\n                        setIsAuthComplete(true);\n\n                        // Don't emit InvalidToken event to prevent automatic reloads from other handlers\n                        // Only clear auth data if user is logged out\n                        if (Cookies.get('logged_state') === 'false') {\n                            // If the user is not logged out, we need to clear the local storage\n                            clearAuthData();\n                        }\n                        return; // Don't proceed with token storage\n                    } else {\n                        // Handle other API errors - use existing modal behavior\n                        setTokenError(getDefaultError().description);\n                        setIsAuthError(false);\n                        setIsAuthComplete(true);\n                        return;\n                    }\n                } else {\n                    localStorage.setItem('client.country', authorize.country);\n                    const firstId = authorize?.account_list[0]?.loginid;\n                    const filteredTokens = loginInfo.filter(token => token.loginid === firstId);\n                    if (filteredTokens.length) {\n                        localStorage.setItem('authToken', filteredTokens[0].token);\n                        localStorage.setItem('active_loginid', filteredTokens[0].loginid);\n                        return;\n                    }\n                }\n            }\n\n            localStorage.setItem('authToken', loginInfo[0].token);\n        } catch (error) {\n            console.error('Error during token exchange:', error);\n            setTokenError(getDefaultError().description);\n            setIsAuthError(false);\n        }\n    }\n};\n\nexport const AuthWrapper = () => {\n    const [isAuthComplete, setIsAuthComplete] = React.useState(false);\n    const [tokenError, setTokenError] = React.useState<string | null>(null);\n    const [isAuthError, setIsAuthError] = React.useState(false);\n    const { loginInfo, paramsToDelete } = URLUtils.getLoginInfoFromURL();\n\n    React.useEffect(() => {\n        const initializeAuth = async () => {\n            await setLocalStorageToken(loginInfo, paramsToDelete, setIsAuthComplete, setTokenError, setIsAuthError);\n            URLUtils.filterSearchParams(['lang']);\n            setIsAuthComplete(true);\n        };\n\n        initializeAuth();\n    }, [loginInfo, paramsToDelete]);\n\n    // Listen for InvalidToken events from URL parameter token exchange\n    React.useEffect(() => {\n        const handleInvalidToken = () => {\n            // Show error page for invalid URL parameter tokens\n            setTokenError(getAuthError().description);\n            setIsAuthError(true);\n            setIsAuthComplete(true);\n        };\n\n        globalObserver.register('InvalidToken', handleInvalidToken);\n\n        return () => {\n            globalObserver.unregister('InvalidToken', handleInvalidToken);\n        };\n    }, []);\n\n    if (!isAuthComplete) {\n        return <ChunkLoader message={localize('Initializing...')} />;\n    }\n\n    // Show error page if there's an authentication error\n    if (tokenError && isAuthError) {\n        const authError = getAuthError();\n        return (\n            <PageError\n                header={authError.header}\n                messages={[authError.description]}\n                redirect_labels={[authError.cta_label]}\n                redirect_urls={[window.location.origin]}\n                should_redirect={false}\n                buttonOnClick={() => {\n                    // Clear auth data and redirect to login only when user clicks the button\n                    clearAuthData();\n                    window.location.href = window.location.origin;\n                }}\n            />\n        );\n    }\n\n    // Show error modal for other types of errors (keep existing behavior for non-auth errors)\n    if (tokenError) {\n        return <ErrorModal messages={[tokenError]} />;\n    }\n\n    return <App />;\n};\n",
            "size_bytes": 6053
        },
        "src/hooks/api/account/useActiveAccount.tsx": {
            "content": "import { useMemo } from 'react';\nimport { CurrencyIcon } from '@/components/currency/currency-icon';\nimport { addComma, getDecimalPlaces } from '@/components/shared';\nimport { useApiBase } from '@/hooks/useApiBase';\nimport { Balance } from '@deriv/api-types';\nimport { localize } from '@deriv-com/translations';\n\n/** A custom hook that returns the account object for the current active account. */\nconst useActiveAccount = ({\n    allBalanceData,\n    directBalance,\n}: {\n    allBalanceData: Balance | null;\n    directBalance?: string;\n}) => {\n    const { accountList, activeLoginid } = useApiBase();\n\n    const activeAccount = useMemo(\n        () => accountList?.find(account => account.loginid === activeLoginid),\n        [activeLoginid, accountList]\n    );\n\n    const currentBalanceData = allBalanceData?.accounts?.[activeAccount?.loginid ?? ''];\n\n    const modifiedAccount = useMemo(() => {\n        if (!activeAccount) return undefined;\n\n        // Check if account should be treated as virtual/demo\n        // Use localStorage account_type as the source of truth for demo vs real\n        const savedAccountType = localStorage.getItem('account_type');\n        const isVirtual = Boolean(activeAccount?.is_virtual) || savedAccountType === 'demo';\n\n        return {\n            ...activeAccount,\n            balance: currentBalanceData?.balance\n                ? addComma(currentBalanceData.balance.toFixed(getDecimalPlaces(currentBalanceData.currency)))\n                : directBalance\n                  ? addComma(parseFloat(directBalance).toFixed(getDecimalPlaces(activeAccount.currency)))\n                  : addComma(parseFloat('0').toFixed(getDecimalPlaces(activeAccount.currency))),\n            currencyLabel: isVirtual ? localize('Demo') : activeAccount?.currency,\n            icon: <CurrencyIcon currency={activeAccount?.currency?.toLowerCase()} isVirtual={isVirtual} />,\n            isVirtual: isVirtual,\n            isActive: activeAccount?.loginid === activeLoginid,\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [activeAccount, activeLoginid, allBalanceData, directBalance]);\n\n    return {\n        /** User's current active account. */\n        data: modifiedAccount,\n    };\n};\n\nexport default useActiveAccount;\n",
            "size_bytes": 2259
        },
        "src/pages/dashboard/info-panel.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { observer } from 'mobx-react-lite';\nimport Modal from '@/components/shared_ui/modal';\nimport Text from '@/components/shared_ui/text';\nimport { DBOT_TABS } from '@/constants/bot-contents';\nimport { useStore } from '@/hooks/useStore';\nimport { LegacyClose1pxIcon } from '@deriv/quill-icons/Legacy';\nimport { useDevice } from '@deriv-com/ui';\nimport { SIDEBAR_INTRO } from './constants';\n\nconst InfoPanel = observer(() => {\n    const { isDesktop } = useDevice();\n    const { dashboard } = useStore();\n\n    const [is_tour_open, setIsTourOpen] = React.useState(false);\n\n    const {\n        active_tour,\n        is_info_panel_visible,\n        setActiveTab,\n        setActiveTabTutorial,\n        setInfoPanelVisibility,\n        setFaqTitle,\n    } = dashboard;\n    const switchTab = (link: boolean, label: string, faq_id: string) => {\n        const tutorial_link = link ? setActiveTab(DBOT_TABS.TUTORIAL) : null;\n        const tutorial_label = label === 'Guide' ? setActiveTabTutorial(0) : setActiveTabTutorial(1);\n        setFaqTitle(faq_id);\n        return {\n            tutorial_link,\n            tutorial_label,\n        };\n    };\n\n    const handleClose = () => {\n        setInfoPanelVisibility(false);\n        setIsTourOpen(false);\n        localStorage.setItem('dbot_should_show_info', JSON.stringify(Date.now()));\n    };\n\n    React.useEffect(() => {\n        if (is_info_panel_visible) {\n            setIsTourOpen(true);\n        } else {\n            setIsTourOpen(false);\n        }\n    }, [is_info_panel_visible]);\n\n    const renderInfo = () => (\n        <div className='db-info-panel'>\n            <div data-testid='close-icon' className='db-info-panel__close-action' onClick={handleClose}>\n                <LegacyClose1pxIcon height='18px' width='18px' fill='var(--text-prominent)' />\n            </div>\n\n            {SIDEBAR_INTRO().map(sidebar_item => {\n                const { label, content, link } = sidebar_item;\n                return (\n                    <div key={`${label}-${content}`}>\n                        <Text color='prominent' lineHeight='xxl' size={isDesktop ? 'm' : 's'} weight='bold' as='h1'>\n                            {label}\n                        </Text>\n                        {content.map(text => (\n                            <Text\n                                key={`info-panel-tour${text.data}`}\n                                className={classNames('db-info-panel__card', {\n                                    'db-info-panel__content': link,\n                                })}\n                                color='prominent'\n                                lineHeight='xl'\n                                as='p'\n                                onClick={() => switchTab(link, label, text.faq_id)}\n                                size={isDesktop ? 's' : 'xxs'}\n                            >\n                                {text.data}\n                            </Text>\n                        ))}\n                    </div>\n                );\n            })}\n        </div>\n    );\n\n    return isDesktop ? (\n        !active_tour && (\n            <div\n                className={classNames('tab__dashboard__info-panel', {\n                    'tab__dashboard__info-panel--active': is_info_panel_visible,\n                })}\n            >\n                {renderInfo()}\n            </div>\n        )\n    ) : (\n        <Modal\n            className='statistics__modal statistics__modal--mobile'\n            is_open={is_tour_open}\n            toggleModal={handleClose}\n            width={'440px'}\n        >\n            <Modal.Body>{renderInfo()}</Modal.Body>\n        </Modal>\n    );\n});\n\nexport default InfoPanel;\n",
            "size_bytes": 3716
        },
        "src/utils/help-content/help-strings/logic_operation.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize('This block performs the \"AND\" or the \"OR\" logic operation with the given values.'),\n        localize(\n            'In case if the \"AND\" operation is selected, the block returns \"True\" only if both given values are \"True\"'\n        ),\n        localize(\n            'In case if the \"OR\" operation is selected, the block returns \"True\" in case if one or both given values are \"True\"'\n        ),\n    ],\n};\n",
            "size_bytes": 507
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Tools/Candle/read_ohlc_obj.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { config } from '../../../../../constants/config';\nimport { modifyContextMenu } from '../../../../utils';\n\nwindow.Blockly.Blocks.read_ohlc_obj = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Read {{ candle_property }} value in candle {{ input_candle }}', {\n                candle_property: '%1',\n                input_candle: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'OHLCFIELD_LIST',\n                    options: config().ohlcFields,\n                },\n                {\n                    type: 'input_value',\n                    name: 'OHLCOBJ',\n                },\n            ],\n            output: 'Number',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block gives you the selected candle value.'),\n            category: window.Blockly.Categories.Candle,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Read candle value (2)'),\n            description: localize('This block gives you the selected candle value.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            OHLCOBJ: null,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.read_ohlc_obj = block => {\n    const ohlcField = block.getFieldValue('OHLCFIELD_LIST');\n    const ohlcObj =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'OHLCOBJ',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC\n        ) || '{}';\n\n    const code = `Bot.candleField(${ohlcObj}, '${ohlcField}')`;\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC];\n};\n",
            "size_bytes": 2138
        },
        "src/components/bot-notification/bot-notification.tsx": {
            "content": "import React from 'react';\nimport { toast } from 'react-toastify';\nimport { notification_style, TAction, TNotificationContent, TNotificationStyle } from './bot-notification-utils';\n\nexport const NotificationContent: React.FC<TNotificationContent> = ({ message, primary_action, closeToast }) => {\n    React.useEffect(() => {\n        const handleToastVisibility = () => {\n            if (document.visibilityState === 'hidden') {\n                toast.dismiss();\n            }\n        };\n\n        document.addEventListener('visibilitychange', handleToastVisibility);\n\n        return () => {\n            document.removeEventListener('visibilitychange', handleToastVisibility);\n        };\n    }, []);\n\n    return (\n        <div className='notification-content' data-testid='dt_bot_notification'>\n            <div>{message}</div>\n            {primary_action && (\n                <button onClick={() => primary_action.onClick(closeToast)}>{primary_action.label}</button>\n            )}\n        </div>\n    );\n};\n\nexport const botNotification = (\n    message: string,\n    primary_action?: TAction,\n    custom_style?: Partial<TNotificationStyle>\n) => {\n    return toast(\n        ({ closeToast }) => (\n            <NotificationContent message={message} primary_action={primary_action} closeToast={closeToast} />\n        ),\n        {\n            type: custom_style?.type ?? notification_style.type,\n            position: custom_style?.position ?? notification_style.position,\n            autoClose: custom_style?.autoClose ?? notification_style.autoClose,\n            hideProgressBar: custom_style?.hideProgressBar ?? notification_style.hideProgressBar,\n            closeOnClick: custom_style?.closeOnClick ?? notification_style.closeOnClick,\n            pauseOnHover: custom_style?.pauseOnHover ?? notification_style.pauseOnHover,\n            pauseOnFocusLoss: custom_style?.pauseOnFocusLoss ?? notification_style.pauseOnFocusLoss,\n            closeButton: custom_style?.closeButton ?? true,\n            className: custom_style?.className ?? '',\n        }\n    );\n};\n",
            "size_bytes": 2055
        },
        "src/external/bot-skeleton/services/api/active-symbols.js": {
            "content": "/* eslint-disable no-confusing-arrow */\nimport { localize } from '@deriv-com/translations';\nimport {\n    ACTIVE_SYMBOLS,\n    MARKET_MAPPINGS,\n    MARKET_OPTIONS,\n    SUBMARKET_OPTIONS,\n    SYMBOL_OPTIONS,\n    TRADING_TIMES,\n} from '../../../../components/shared/utils/common-data';\nimport { config } from '../../constants/config';\nimport PendingPromise from '../../utils/pending-promise';\nimport { api_base } from './api-base';\n\nexport default class ActiveSymbols {\n    constructor(trading_times) {\n        this.active_symbols = [];\n        this.disabled_symbols = config().DISABLED_SYMBOLS;\n        this.disabled_submarkets = config().DISABLED_SUBMARKETS;\n        this.init_promise = new PendingPromise();\n        this.is_initialised = false;\n        this.processed_symbols = {};\n        this.trading_times = trading_times;\n    }\n\n    clearCache() {\n        this.active_symbols = [];\n        this.processed_symbols = {};\n        this.is_initialised = false;\n        this.init_promise = new PendingPromise();\n    }\n\n    async retrieveActiveSymbols(is_forced_update = false) {\n        await this.trading_times.initialise();\n\n        if (!is_forced_update && this.is_initialised) {\n            await this.init_promise;\n            return this.active_symbols;\n        }\n\n        this.is_initialised = true;\n\n        if (api_base.has_active_symbols) {\n            this.active_symbols = api_base?.active_symbols ?? [];\n        } else {\n            await api_base.active_symbols_promise;\n            this.active_symbols = api_base?.active_symbols ?? [];\n        }\n\n        // Fallback to static data if API fails completely\n        if (this.active_symbols.length === 0) {\n            this.active_symbols = ACTIVE_SYMBOLS;\n        }\n\n        this.processed_symbols = this.processActiveSymbols();\n\n        // Also create chart-specific processed symbols\n        // this.chart_processed_symbols = this.getProcessedSymbolsForChart();\n\n        // TODO: fix need to look into it as the method is not present\n        this.trading_times.onMarketOpenCloseChanged = changes => {\n            Object.keys(changes).forEach(symbol_name => {\n                const symbol_obj = this.active_symbols[symbol_name];\n\n                if (symbol_obj) {\n                    symbol_obj.exchange_is_open = changes[symbol_name];\n                }\n            });\n\n            this.changes = changes;\n            this.processActiveSymbols();\n        };\n\n        this.init_promise.resolve();\n        return this.active_symbols;\n    }\n\n    processActiveSymbols() {\n        if (this.active_symbols.length === 0) {\n            return {};\n        }\n\n        return this.active_symbols.reduce((processed_symbols, symbol) => {\n            // Handle both old and new field names for backward compatibility\n            const symbol_code = symbol.underlying_symbol || symbol.symbol;\n            const symbol_submarket = symbol.submarket;\n            const symbol_market = symbol.market;\n\n            if (\n                config().DISABLED_SYMBOLS.includes(symbol_code) ||\n                config().DISABLED_SUBMARKETS.includes(symbol_submarket)\n            ) {\n                return processed_symbols;\n            }\n\n            const isExistingValue = (object, prop_value) => Object.keys(object).includes(prop_value);\n\n            if (!isExistingValue(processed_symbols, symbol_market)) {\n                processed_symbols[symbol_market] = {\n                    display_name: symbol.market_display_name || symbol_market,\n                    submarkets: {},\n                };\n            }\n\n            const { submarkets } = processed_symbols[symbol_market];\n\n            if (!isExistingValue(submarkets, symbol_submarket)) {\n                // Use our custom submarket display name mapping, fallback to API display name, then submarket code\n                const custom_display_name = MARKET_MAPPINGS.SUBMARKET_DISPLAY_NAMES.get(symbol_submarket);\n                const display_name = custom_display_name || symbol.submarket_display_name || symbol_submarket;\n\n                submarkets[symbol_submarket] = {\n                    display_name: display_name,\n                    symbols: {},\n                };\n            }\n\n            const { symbols } = submarkets[symbol_submarket];\n\n            if (!isExistingValue(symbols, symbol_code)) {\n                // Use custom display name mapping first, then API display name, then symbol code\n                const custom_display_name =\n                    TRADING_TIMES.SYMBOL_DISPLAY_NAMES[symbol_code] ||\n                    TRADING_TIMES.SYMBOL_DISPLAY_NAMES[symbol.display_name];\n                const display_name = custom_display_name || symbol.display_name || symbol_code;\n\n                symbols[symbol_code] = {\n                    display_name: display_name,\n                    pip_size: `${symbol.pip || symbol.pip_size || 0}`.length - 2,\n                    is_active: !symbol.is_trading_suspended && symbol.exchange_is_open,\n                };\n            }\n\n            return processed_symbols;\n        }, {});\n    }\n\n    /**\n     * Retrieves all symbols and returns an array of symbol objects consisting of symbol and their linked market + submarket.\n     * @returns {Array} Symbols and their submarkets + markets.\n     */\n    getAllSymbols(should_be_open = false) {\n        const all_symbols = [];\n\n        Object.keys(this.processed_symbols).forEach(market_name => {\n            if (should_be_open && this.isMarketClosed(market_name)) {\n                return;\n            }\n\n            const market = this.processed_symbols[market_name];\n            const { submarkets } = market;\n\n            Object.keys(submarkets).forEach(submarket_name => {\n                const submarket = submarkets[submarket_name];\n                const { symbols } = submarket;\n\n                Object.keys(symbols).forEach(symbol_name => {\n                    const symbol = symbols[symbol_name];\n\n                    all_symbols.push({\n                        market: market_name,\n                        market_display: market.display_name,\n                        submarket: submarket_name,\n                        submarket_display: submarket.display_name,\n                        symbol: symbol_name,\n                        symbol_display: symbol.display_name,\n                    });\n                });\n            });\n        });\n        this.getSymbolsForBot();\n        return all_symbols;\n    }\n\n    /**\n     *\n     * @returns {Array} Symbols and their submarkets + markets for deriv-bot\n     */\n    getSymbolsForBot() {\n        const { DISABLED } = config().QUICK_STRATEGY;\n        const symbols_for_bot = [];\n        Object.keys(this.processed_symbols).forEach(market_name => {\n            if (this.isMarketClosed(market_name)) return;\n\n            const market = this.processed_symbols[market_name];\n            const { submarkets } = market;\n\n            Object.keys(submarkets).forEach(submarket_name => {\n                if (DISABLED.SUBMARKETS.includes(submarket_name)) return;\n                const submarket = submarkets[submarket_name];\n                const { symbols } = submarket;\n\n                // Get symbol keys and sort them properly for volatility indices\n                const symbol_keys = Object.keys(symbols);\n\n                // Custom sorting for volatility indices to ensure correct numerical order\n                // const isVolatilitySubmarket =\n                //     submarket_name === 'random_index' ||\n                //     submarket.display_name === 'Continuous Indices' ||\n                //     submarket.display_name?.includes('Volatility') ||\n                //     submarket_name?.includes('volatility');\n\n                // if (isVolatilitySubmarket) {\n                //     symbol_keys.sort((a, b) => {\n                //         // Extract numeric values from volatility indices (1HZ10V, 1HZ25V, etc.)\n                //         const getVolatilityNumber = symbol => {\n                //             // Check for 1HZ format (1HZ10V, 1HZ25V, 1HZ50V, etc.)\n                //             const hzMatch = symbol.match(/1HZ(\\d+)V/);\n                //             if (hzMatch) return parseInt(hzMatch[1], 10);\n\n                //             // Check for R_ format (R_10, R_25, etc.) as fallback\n                //             const rMatch = symbol.match(/R_(\\d+)/);\n                //             if (rMatch) return parseInt(rMatch[1], 10);\n\n                //             return 0;\n                //         };\n\n                //         const aNum = getVolatilityNumber(a);\n                //         const bNum = getVolatilityNumber(b);\n\n                //         // If both are volatility indices, sort by number\n                //         if (aNum > 0 && bNum > 0) {\n                //             return aNum - bNum;\n                //         }\n\n                //         // Otherwise, use alphabetical sorting\n                //         return a.localeCompare(b);\n                //     });\n                // }\n\n                symbol_keys.forEach(symbol_name => {\n                    if (DISABLED.SYMBOLS.includes(symbol_name)) return;\n                    const symbol = symbols[symbol_name];\n                    symbols_for_bot.push({\n                        group: submarket.display_name,\n                        text: symbol.display_name,\n                        value: symbol_name,\n                    });\n                });\n            });\n        });\n\n        return symbols_for_bot;\n    }\n\n    // /**\n    //  * Get processed symbols specifically for chart usage\n    //  * Removes chart-specific exclusions and ensures new 1s volatility indices are present\n    //  * @returns {Object} Processed symbols for chart\n    //  */\n    // getProcessedSymbolsForChart() {\n    //     // Start with the regular processed symbols\n    //     const chart_processed_symbols = JSON.parse(JSON.stringify(this.processed_symbols));\n\n    //     // Chart-specific symbol exclusions\n    //     const CHART_EXCLUDED_SYMBOLS = ['OTC_IBEX35']; // Spain 35\n\n    //     // Remove excluded symbols from chart processed symbols\n    //     Object.keys(chart_processed_symbols).forEach(market_name => {\n    //         const market = chart_processed_symbols[market_name];\n    //         const { submarkets } = market;\n\n    //         Object.keys(submarkets).forEach(submarket_name => {\n    //             const submarket = submarkets[submarket_name];\n    //             const { symbols } = submarket;\n\n    //             // Remove excluded symbols\n    //             CHART_EXCLUDED_SYMBOLS.forEach(excluded_symbol => {\n    //                 if (symbols[excluded_symbol]) {\n    //                     delete symbols[excluded_symbol];\n    //                 }\n    //             });\n    //         });\n    //     });\n\n    //     // Ensure new 1s volatility indices are present in chart processed symbols\n    //     const required_1s_symbols = ['1HZ15V', '1HZ30V', '1HZ90V'];\n\n    //     const symbol_configs = {\n    //         '1HZ15V': {\n    //             display_name: 'Volatility 15 (1s) Index',\n    //             pip_size: 3,\n    //             is_active: true,\n    //         },\n    //         '1HZ30V': {\n    //             display_name: 'Volatility 30 (1s) Index',\n    //             pip_size: 3,\n    //             is_active: true,\n    //         },\n    //         '1HZ90V': {\n    //             display_name: 'Volatility 90 (1s) Index',\n    //             pip_size: 3,\n    //             is_active: true,\n    //         },\n    //     };\n\n    //     // Ensure synthetic_index market exists\n    //     if (!chart_processed_symbols['synthetic_index']) {\n    //         chart_processed_symbols['synthetic_index'] = {\n    //             display_name: 'Derived',\n    //             submarkets: {},\n    //         };\n    //     }\n\n    //     // Ensure random_index submarket exists\n    //     if (!chart_processed_symbols['synthetic_index'].submarkets['random_index']) {\n    //         chart_processed_symbols['synthetic_index'].submarkets['random_index'] = {\n    //             display_name: 'Continuous Indices',\n    //             symbols: {},\n    //         };\n    //     }\n\n    //     // Add missing 1s volatility indices to chart processed symbols\n    //     const random_index_symbols = chart_processed_symbols['synthetic_index'].submarkets['random_index'].symbols;\n\n    //     required_1s_symbols.forEach(symbol_code => {\n    //         if (!random_index_symbols[symbol_code]) {\n    //             random_index_symbols[symbol_code] = symbol_configs[symbol_code];\n    //         }\n    //     });\n\n    //     return chart_processed_symbols;\n    // }\n\n    getMarketDropdownOptions() {\n        const market_options = [];\n\n        Object.keys(this.processed_symbols).forEach(market_name => {\n            const { display_name } = this.processed_symbols[market_name];\n            const market_display_name =\n                display_name + (this.isMarketClosed(market_name) ? ` ${localize('(Closed)')}` : '');\n            market_options.push([market_display_name, market_name]);\n        });\n\n        // Fallback markets if no processed symbols available\n        if (market_options.length === 0) {\n            return MARKET_OPTIONS;\n        }\n\n        market_options.sort(a => (a[1] === 'synthetic_index' ? -1 : 1));\n\n        const has_closed_markets = market_options.some(market_option => this.isMarketClosed(market_option[1]));\n\n        if (has_closed_markets) {\n            const sorted_options = this.sortDropdownOptions(market_options, this.isMarketClosed);\n\n            if (this.isMarketClosed('forex')) {\n                return sorted_options.sort(a => (a[1] === 'synthetic_index' ? -1 : 1));\n            }\n\n            return sorted_options;\n        }\n\n        return market_options;\n    }\n\n    getSubmarketDropdownOptions(market) {\n        const submarket_options = [];\n        const market_obj = this.processed_symbols[market];\n        if (market_obj) {\n            const { submarkets } = market_obj;\n\n            Object.keys(submarkets).forEach(submarket_name => {\n                const { display_name } = submarkets[submarket_name];\n                const submarket_display_name =\n                    display_name + (this.isSubmarketClosed(submarket_name) ? ` ${localize('(Closed)')}` : '');\n                submarket_options.push([submarket_display_name, submarket_name]);\n            });\n        }\n\n        // Fallback submarkets based on market\n        if (submarket_options.length === 0) {\n            return SUBMARKET_OPTIONS[market] || [['Default', 'default']];\n        }\n\n        if (market === 'synthetic_index') {\n            submarket_options.sort(a => (a[1] === 'random_index' ? -1 : 1));\n        }\n\n        return this.sortDropdownOptions(submarket_options, this.isSubmarketClosed);\n    }\n\n    getSymbolDropdownOptions(submarket) {\n        const symbol_options = Object.keys(this.processed_symbols).reduce((accumulator, market_name) => {\n            const { submarkets } = this.processed_symbols[market_name];\n\n            Object.keys(submarkets).forEach(submarket_name => {\n                if (submarket_name === submarket) {\n                    const submarket_obj = submarkets[submarket_name];\n                    const { symbols } = submarket_obj;\n\n                    // Get symbol keys and sort them properly for volatility indices\n                    const symbol_keys = Object.keys(symbols);\n\n                    // Custom sorting for volatility indices to ensure correct numerical order\n                    // const isVolatilitySubmarket =\n                    //     submarket_name === 'random_index' ||\n                    //     submarket_obj.display_name === 'Continuous Indices' ||\n                    //     submarket_obj.display_name?.includes('Volatility') ||\n                    //     submarket_name?.includes('volatility');\n\n                    // if (isVolatilitySubmarket) {\n                    //     symbol_keys.sort((a, b) => {\n                    //         // Extract numeric values from volatility indices (1HZ10V, 1HZ25V, etc.)\n                    //         const getVolatilityNumber = symbol => {\n                    //             // Check for 1HZ format (1HZ10V, 1HZ25V, 1HZ50V, etc.)\n                    //             const hzMatch = symbol.match(/1HZ(\\d+)V/);\n                    //             if (hzMatch) return parseInt(hzMatch[1], 10);\n\n                    //             // Check for R_ format (R_10, R_25, etc.) as fallback\n                    //             const rMatch = symbol.match(/R_(\\d+)/);\n                    //             if (rMatch) return parseInt(rMatch[1], 10);\n\n                    //             return 0;\n                    //         };\n\n                    //         const aNum = getVolatilityNumber(a);\n                    //         const bNum = getVolatilityNumber(b);\n\n                    //         // If both are volatility indices, sort by number\n                    //         if (aNum > 0 && bNum > 0) {\n                    //             return aNum - bNum;\n                    //         }\n\n                    //         // Otherwise, use alphabetical sorting\n                    //         return a.localeCompare(b);\n                    //     });\n                    // }\n\n                    symbol_keys.forEach(symbol_name => {\n                        const { display_name } = symbols[symbol_name];\n                        const symbol_display_name =\n                            display_name + (this.isSymbolClosed(symbol_name) ? ` ${localize('(Closed)')}` : '');\n                        accumulator.push([symbol_display_name, symbol_name]);\n                    });\n                }\n            });\n\n            return accumulator;\n        }, []);\n\n        // Fallback symbols based on submarket\n        if (symbol_options.length === 0) {\n            const fallback_options = SYMBOL_OPTIONS[submarket] || [['Default Symbol', 'DEFAULT']];\n\n            // Apply the same sorting logic to fallback options for volatility indices\n            // if (submarket === 'random_index') {\n            //     return fallback_options.sort((a, b) => {\n            //         const getVolatilityNumber = symbol => {\n            //             // Check for 1HZ format (1HZ10V, 1HZ25V, 1HZ50V, etc.)\n            //             const hzMatch = symbol[1].match(/1HZ(\\d+)V/);\n            //             if (hzMatch) return parseInt(hzMatch[1], 10);\n\n            //             // Check for R_ format (R_10, R_25, etc.) as fallback\n            //             const rMatch = symbol[1].match(/R_(\\d+)/);\n            //             if (rMatch) return parseInt(rMatch[1], 10);\n\n            //             return 0;\n            //         };\n\n            //         const aNum = getVolatilityNumber(a);\n            //         const bNum = getVolatilityNumber(b);\n\n            //         // If both are volatility indices, sort by number\n            //         if (aNum > 0 && bNum > 0) {\n            //             return aNum - bNum;\n            //         }\n\n            //         // Otherwise, use alphabetical sorting\n            //         return a[0].localeCompare(b[0]);\n            //     });\n            // }\n\n            return fallback_options;\n        }\n\n        // Apply custom sorting to the final symbol_options for volatility indices\n        // if (submarket === 'random_index') {\n        //     symbol_options.sort((a, b) => {\n        //         const getVolatilityNumber = symbol => {\n        //             // Check for 1HZ format (1HZ10V, 1HZ25V, 1HZ50V, etc.)\n        //             const hzMatch = symbol[1].match(/1HZ(\\d+)V/);\n        //             if (hzMatch) return parseInt(hzMatch[1], 10);\n\n        //             // Check for R_ format (R_10, R_25, etc.) as fallback\n        //             const rMatch = symbol[1].match(/R_(\\d+)/);\n        //             if (rMatch) return parseInt(rMatch[1], 10);\n\n        //             return 0;\n        //         };\n\n        //         const aNum = getVolatilityNumber(a);\n        //         const bNum = getVolatilityNumber(b);\n\n        //         // If both are volatility indices, sort by number\n        //         if (aNum > 0 && bNum > 0) {\n        //             return aNum - bNum;\n        //         }\n\n        //         // Otherwise, use alphabetical sorting\n        //         return a[0].localeCompare(b[0]);\n        //     });\n        // }\n\n        return this.sortDropdownOptions(symbol_options, this.isSymbolClosed);\n    }\n\n    isMarketClosed(market_name) {\n        const market = this.processed_symbols[market_name];\n\n        if (!market) {\n            return true;\n        }\n\n        return Object.keys(market.submarkets).every(submarket_name => this.isSubmarketClosed(submarket_name));\n    }\n\n    isSubmarketClosed(submarket_name) {\n        const market_name = Object.keys(this.processed_symbols).find(name => {\n            const market = this.processed_symbols[name];\n            return Object.keys(market.submarkets).includes(submarket_name);\n        });\n\n        if (!market_name) {\n            return true;\n        }\n\n        const market = this.processed_symbols[market_name];\n        const submarket = market.submarkets[submarket_name];\n\n        if (!submarket) {\n            return true;\n        }\n\n        const { symbols } = submarket;\n        return Object.keys(symbols).every(symbol_name => this.isSymbolClosed(symbol_name));\n    }\n\n    isSymbolClosed(symbol_name) {\n        return this.active_symbols.some(active_symbol => {\n            const symbol_code = active_symbol.underlying_symbol || active_symbol.symbol;\n            return (\n                symbol_code === symbol_name && (!active_symbol.exchange_is_open || active_symbol.is_trading_suspended)\n            );\n        });\n    }\n\n    sortDropdownOptions = (dropdown_options, closedFunc) => {\n        const options = [...dropdown_options];\n\n        options.sort((a, b) => {\n            const is_a_closed = closedFunc.call(this, a[1]);\n            const is_b_closed = closedFunc.call(this, b[1]);\n\n            if (is_a_closed && !is_b_closed) {\n                return 1;\n            } else if (is_a_closed === is_b_closed) {\n                return 0;\n            }\n            return -1;\n        });\n\n        return options;\n    };\n}\n",
            "size_bytes": 22223
        },
        "src/components/shared/utils/hooks/mounted.tsx": {
            "content": "import React from 'react';\n\nexport const useIsMounted = () => {\n    const is_mounted = React.useRef(false);\n\n    React.useEffect(() => {\n        is_mounted.current = true;\n\n        return () => {\n            is_mounted.current = false;\n        };\n    }, []);\n    return () => is_mounted.current;\n};\n",
            "size_bytes": 299
        },
        "src/components/account-change-modal/index.ts": {
            "content": "import AccountChangeModal from './account-change-modal';\n\nexport default AccountChangeModal;\n",
            "size_bytes": 93
        },
        "analysis-tool/Benanalysistool-final-main/components/tabs/signals-tab.tsx": {
            "content": "\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Progress } from \"@/components/ui/progress\"\nimport { Badge } from \"@/components/ui/badge\"\nimport type { Signal, AnalysisResult } from \"@/lib/analysis-engine\"\n\ninterface SignalsTabProps {\n  signals: Signal[]\n  proSignals: Signal[]\n  analysis: AnalysisResult | null\n  theme?: \"light\" | \"dark\"\n}\n\nexport function SignalsTab({ signals, proSignals, analysis, theme = \"dark\" }: SignalsTabProps) {\n  const [signalValidity, setSignalValidity] = useState<Map<number, number>>(new Map())\n\n  useEffect(() => {\n    const newValidity = new Map<number, number>()\n    signals.forEach((_, index) => {\n      newValidity.set(index, 30)\n    })\n    setSignalValidity(newValidity)\n\n    const interval = setInterval(() => {\n      setSignalValidity((prev) => {\n        const updated = new Map(prev)\n        updated.forEach((value, key) => {\n          if (value > 0) {\n            updated.set(key, value - 1)\n          }\n        })\n        return updated\n      })\n    }, 1000)\n\n    return () => clearInterval(interval)\n  }, [signals.length])\n\n  const allSignals = [...signals, ...proSignals]\n\n  if (!allSignals || allSignals.length === 0) {\n    return (\n      <div className=\"text-center py-16\">\n        <p className={theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}>No signals available yet</p>\n      </div>\n    )\n  }\n\n  const powerfulSignals = allSignals.filter((s) => s.status === \"TRADE NOW\")\n  const waitSignals = allSignals.filter((s) => s.status === \"WAIT\")\n  const sortedSignals = [...powerfulSignals, ...waitSignals]\n\n  const powerfulSignalsCount = powerfulSignals.length\n  const validatedCount = 1\n  const stdDev = 3.6\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6\">\n        {sortedSignals.map((signal, index) => {\n          const isTradeNow = signal.status === \"TRADE NOW\"\n          const isWait = signal.status === \"WAIT\"\n          const confidence = Math.min(signal.probability * 0.9, 100)\n\n          const isProSignal = signal.type.startsWith(\"pro_\")\n\n          return (\n            <div\n              key={index}\n              className={`rounded-xl p-4 sm:p-6 border-2 relative overflow-hidden ${\n                isTradeNow\n                  ? theme === \"dark\"\n                    ? \"border-emerald-500/50 bg-gradient-to-br from-emerald-900/10 to-green-900/10 shadow-[0_0_20px_rgba(16,185,129,0.4)]\"\n                    : \"border-emerald-300 bg-emerald-50/50 shadow-[0_0_20px_rgba(16,185,129,0.3)]\"\n                  : isWait\n                    ? theme === \"dark\"\n                      ? \"border-slate-500/50 bg-gradient-to-br from-slate-900/10 to-gray-900/10 shadow-[0_0_20px_rgba(100,116,139,0.3)]\"\n                      : \"border-slate-300 bg-slate-50/50 shadow-[0_0_20px_rgba(100,116,139,0.2)]\"\n                    : theme === \"dark\"\n                      ? \"border-slate-500/50 bg-gradient-to-br from-slate-900/10 to-gray-900/10\"\n                      : \"border-slate-300 bg-slate-50/50\"\n              }`}\n            >\n              <div\n                className={`absolute -inset-1 rounded-xl pointer-events-none blur-md ${\n                  isTradeNow ? \"animate-edge-glow-green\" : isWait ? \"animate-edge-glow-blue\" : \"\"\n                }`}\n              />\n\n              <div className=\"relative z-10\">\n                <div className=\"flex items-center justify-between mb-4\">\n                  <div className=\"flex items-center gap-2\">\n                    {isProSignal && (\n                      <Badge className=\"bg-gradient-to-r from-amber-500 to-yellow-500 text-white text-xs shadow-[0_0_10px_rgba(217,119,6,0.6)] mr-1\">\n                        PRO\n                      </Badge>\n                    )}\n                    <span\n                      className={`text-lg sm:text-xl font-bold ${\n                        isTradeNow\n                          ? theme === \"dark\"\n                            ? \"text-emerald-400 drop-shadow-[0_0_8px_rgba(16,185,129,0.8)]\"\n                            : \"text-emerald-600\"\n                          : isWait\n                            ? theme === \"dark\"\n                              ? \"text-slate-400 drop-shadow-[0_0_8px_rgba(100,116,139,0.8)]\"\n                              : \"text-slate-600\"\n                            : theme === \"dark\"\n                              ? \"text-slate-400\"\n                              : \"text-slate-600\"\n                      }`}\n                    >\n                      {signal.type === \"over_under\"\n                        ? \"Over/Under 4.5\"\n                        : signal.type === \"pro_over_under\"\n                          ? \"Over/Under (Pro)\"\n                          : signal.type === \"matches\"\n                            ? `Match Digit ${signal.recommendation.match(/\\d+/)?.[0] || \"\"}`\n                            : signal.type.replace(\"_\", \" / \").replace(\"pro \", \"\").toUpperCase()}\n                    </span>\n                    {signal.status === \"WAIT\" && (\n                      <Badge\n                        className={\n                          theme === \"dark\"\n                            ? \"bg-slate-600 text-slate-200 text-xs\"\n                            : \"bg-slate-300 text-slate-700 text-xs\"\n                        }\n                      >\n                        Validated\n                      </Badge>\n                    )}\n                  </div>\n                  <Button\n                    size=\"sm\"\n                    className={`px-4 py-2 text-sm font-bold ${\n                      isTradeNow\n                        ? \"bg-gradient-to-r from-emerald-500 to-green-500 hover:from-emerald-600 hover:to-green-600 text-white shadow-[0_0_20px_rgba(16,185,129,0.6)] animate-pulse\"\n                        : isWait\n                          ? theme === \"dark\"\n                            ? \"bg-slate-600 hover:bg-slate-700 text-white\"\n                            : \"bg-slate-500 hover:bg-slate-600 text-white\"\n                          : theme === \"dark\"\n                            ? \"bg-slate-600 hover:bg-slate-700 text-slate-200\"\n                            : \"bg-slate-400 hover:bg-slate-500 text-white\"\n                    }`}\n                  >\n                    {isTradeNow ? \"TRADE NOW\" : isWait ? \"WAIT\" : \"NEUTRAL\"}\n                  </Button>\n                </div>\n\n                <div className=\"mb-3\">\n                  <div className=\"flex justify-between items-center mb-1\">\n                    <span className={`text-sm ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>Power</span>\n                    <span\n                      className={`text-lg font-bold ${\n                        isTradeNow\n                          ? theme === \"dark\"\n                            ? \"text-emerald-400 drop-shadow-[0_0_6px_rgba(16,185,129,0.8)]\"\n                            : \"text-emerald-600\"\n                          : isWait\n                            ? theme === \"dark\"\n                              ? \"text-slate-400 drop-shadow-[0_0_6px_rgba(100,116,139,0.8)]\"\n                              : \"text-slate-600\"\n                            : theme === \"dark\"\n                              ? \"text-slate-400\"\n                              : \"text-slate-600\"\n                      }`}\n                    >\n                      {signal.probability.toFixed(1)}%\n                    </span>\n                  </div>\n                  <Progress value={signal.probability} className=\"h-2 animate-pulse-slow\" />\n                </div>\n\n                <div className=\"mb-4\">\n                  <div className=\"flex justify-between items-center mb-1\">\n                    <span className={`text-sm ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>\n                      Confidence\n                    </span>\n                    <span\n                      className={`text-lg font-bold ${\n                        isTradeNow\n                          ? theme === \"dark\"\n                            ? \"text-emerald-400 drop-shadow-[0_0_6px_rgba(16,185,129,0.8)]\"\n                            : \"text-emerald-600\"\n                          : isWait\n                            ? theme === \"dark\"\n                              ? \"text-slate-400 drop-shadow-[0_0_6px_rgba(100,116,139,0.8)]\"\n                              : \"text-slate-600\"\n                            : theme === \"dark\"\n                              ? \"text-slate-400\"\n                              : \"text-slate-600\"\n                      }`}\n                    >\n                      {confidence.toFixed(0)}%\n                    </span>\n                  </div>\n                  <Progress value={confidence} className=\"h-2 animate-pulse-slow\" />\n                </div>\n\n                <div className=\"mb-3\">\n                  <div className={`text-sm font-semibold mb-1 ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}>\n                    Trade Explanation:\n                  </div>\n                  <div\n                    className={`text-sm ${isTradeNow ? (theme === \"dark\" ? \"text-emerald-300\" : \"text-emerald-700\") : isWait ? (theme === \"dark\" ? \"text-amber-300\" : \"text-amber-700\") : theme === \"dark\" ? \"text-slate-400\" : \"text-slate-600\"}`}\n                  >\n                    {signal.recommendation}\n                  </div>\n                </div>\n\n                <div className=\"mb-3\">\n                  <div className={`text-sm font-semibold mb-1 ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}>\n                    Entry Rule:\n                  </div>\n                  <div\n                    className={`text-sm ${isTradeNow ? (theme === \"dark\" ? \"text-emerald-300\" : \"text-emerald-700\") : isWait ? (theme === \"dark\" ? \"text-amber-300\" : \"text-amber-700\") : theme === \"dark\" ? \"text-slate-400\" : \"text-slate-600\"}`}\n                  >\n                    {signal.entryCondition}\n                  </div>\n                </div>\n\n                {isWait && (\n                  <div className={`text-xs text-center mt-2 ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>\n                    Validated 8/5 times\n                  </div>\n                )}\n              </div>\n            </div>\n          )\n        })}\n      </div>\n\n      {analysis && (\n        <div\n          className={`rounded-xl p-6 border ${\n            theme === \"dark\"\n              ? \"bg-gradient-to-br from-[#0f1629]/80 to-[#1a2235]/80 border-blue-500/20\"\n              : \"bg-white border-gray-200\"\n          }`}\n        >\n          <h3 className={`text-xl font-bold mb-6 ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}>\n            Analysis Summary\n          </h3>\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n            <div className=\"text-center\">\n              <div\n                className={`text-3xl sm:text-4xl font-bold ${theme === \"dark\" ? \"text-cyan-400 drop-shadow-[0_0_10px_rgba(34,211,238,0.8)]\" : \"text-cyan-600\"}`}\n              >\n                {analysis.totalTicks || 100}\n              </div>\n              <div className={`text-sm mt-1 ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>Total Ticks</div>\n            </div>\n            <div className=\"text-center\">\n              <div\n                className={`text-3xl sm:text-4xl font-bold ${theme === \"dark\" ? \"text-emerald-400 drop-shadow-[0_0_10px_rgba(16,185,129,0.8)]\" : \"text-emerald-600\"}`}\n              >\n                {powerfulSignalsCount}\n              </div>\n              <div className={`text-sm mt-1 ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>\n                Powerful Signals\n              </div>\n            </div>\n            <div className=\"text-center\">\n              <div\n                className={`text-3xl sm:text-4xl font-bold ${theme === \"dark\" ? \"text-blue-400 drop-shadow-[0_0_10px_rgba(59,130,246,0.8)]\" : \"text-blue-600\"}`}\n              >\n                {validatedCount}\n              </div>\n              <div className={`text-sm mt-1 ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>Validated</div>\n            </div>\n            <div className=\"text-center\">\n              <div\n                className={`text-3xl sm:text-4xl font-bold ${theme === \"dark\" ? \"text-purple-400 drop-shadow-[0_0_10px_rgba(168,85,247,0.8)]\" : \"text-purple-600\"}`}\n              >\n                {stdDev}\n              </div>\n              <div className={`text-sm mt-1 ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>Std Dev</div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n",
            "size_bytes": 12593
        },
        "analysis-tool/Benanalysistool-final-main/lib/ai-predictor.ts": {
            "content": "\"use client\"\n\n// AI Predictor using pattern analysis (simplified approach for browser)\n// Note: Full LSTM would require training data and significant computation\n// This implementation uses statistical patterns and frequency analysis\n\nexport interface PredictionResult {\n  predictions: { digit: number; probability: number }[]\n  topPrediction: { digit: number; confidence: number }\n  secondPrediction: { digit: number; confidence: number }\n  explanation: string\n}\n\nexport class AIPredictor {\n  private sequenceLength = 10\n\n  predict(lastDigits: number[], digitFrequencies: Map<number, number>): PredictionResult {\n    if (lastDigits.length < this.sequenceLength) {\n      return this.getDefaultPrediction()\n    }\n\n    // Get recent sequence\n    const recentSequence = lastDigits.slice(-this.sequenceLength)\n\n    // Calculate predictions based on multiple factors\n    const predictions = this.calculatePredictions(recentSequence, digitFrequencies, lastDigits.length)\n\n    // Sort by probability\n    const sortedPredictions = predictions.sort((a, b) => b.probability - a.probability)\n\n    const topPrediction = sortedPredictions[0]\n    const secondPrediction = sortedPredictions[1]\n\n    const explanation = this.generateExplanation(topPrediction, secondPrediction, recentSequence)\n\n    return {\n      predictions: sortedPredictions,\n      topPrediction: { digit: topPrediction.digit, confidence: topPrediction.probability },\n      secondPrediction: { digit: secondPrediction.digit, confidence: secondPrediction.probability },\n      explanation,\n    }\n  }\n\n  private calculatePredictions(\n    recentSequence: number[],\n    digitFrequencies: Map<number, number>,\n    totalTicks: number,\n  ): { digit: number; probability: number }[] {\n    const predictions: { digit: number; probability: number }[] = []\n\n    for (let digit = 0; digit <= 9; digit++) {\n      let score = 0\n\n      // Factor 1: Overall frequency (30% weight)\n      const frequency = (digitFrequencies.get(digit) || 0) / totalTicks\n      score += frequency * 0.3\n\n      // Factor 2: Recent appearance (25% weight)\n      const recentAppearances = recentSequence.filter((d) => d === digit).length\n      score += (recentAppearances / this.sequenceLength) * 0.25\n\n      // Factor 3: Pattern continuation (20% weight)\n      // Check if digit follows common patterns\n      const lastDigit = recentSequence[recentSequence.length - 1]\n      const transitionScore = this.calculateTransitionProbability(lastDigit, digit, recentSequence)\n      score += transitionScore * 0.2\n\n      // Factor 4: Absence penalty (15% weight)\n      // Digits that haven't appeared recently are more likely\n      const lastAppearance = this.getLastAppearanceIndex(digit, recentSequence)\n      const absenceBonus = lastAppearance === -1 ? 0.15 : (lastAppearance / this.sequenceLength) * 0.15\n      score += absenceBonus\n\n      // Factor 5: Randomness factor (10% weight)\n      // Add slight randomness to simulate unpredictability\n      score += Math.random() * 0.1\n\n      predictions.push({\n        digit,\n        probability: Math.min(score * 100, 100),\n      })\n    }\n\n    // Normalize probabilities to sum to 100%\n    const totalProb = predictions.reduce((sum, p) => sum + p.probability, 0)\n    return predictions.map((p) => ({\n      ...p,\n      probability: (p.probability / totalProb) * 100,\n    }))\n  }\n\n  private calculateTransitionProbability(fromDigit: number, toDigit: number, sequence: number[]): number {\n    // Count how often fromDigit is followed by toDigit in the sequence\n    let transitions = 0\n    let totalFromDigit = 0\n\n    for (let i = 0; i < sequence.length - 1; i++) {\n      if (sequence[i] === fromDigit) {\n        totalFromDigit++\n        if (sequence[i + 1] === toDigit) {\n          transitions++\n        }\n      }\n    }\n\n    return totalFromDigit > 0 ? transitions / totalFromDigit : 0.1\n  }\n\n  private getLastAppearanceIndex(digit: number, sequence: number[]): number {\n    for (let i = sequence.length - 1; i >= 0; i--) {\n      if (sequence[i] === digit) {\n        return sequence.length - 1 - i\n      }\n    }\n    return -1\n  }\n\n  private generateExplanation(\n    topPrediction: { digit: number; probability: number },\n    secondPrediction: { digit: number; probability: number },\n    recentSequence: number[],\n  ): string {\n    const reasons: string[] = []\n\n    // Check for streaks\n    const lastDigit = recentSequence[recentSequence.length - 1]\n    const streak = this.countStreak(lastDigit, recentSequence)\n\n    if (streak >= 2) {\n      reasons.push(`Recent streak of ${streak}x digit ${lastDigit}`)\n    }\n\n    // Check for absence\n    const topAbsence = this.getLastAppearanceIndex(topPrediction.digit, recentSequence)\n    if (topAbsence > 5 || topAbsence === -1) {\n      reasons.push(`Digit ${topPrediction.digit} hasn't appeared recently`)\n    }\n\n    // Check for frequency\n    const topCount = recentSequence.filter((d) => d === topPrediction.digit).length\n    if (topCount >= 3) {\n      reasons.push(`Digit ${topPrediction.digit} has high recent frequency`)\n    }\n\n    // Default explanation\n    if (reasons.length === 0) {\n      reasons.push(\"Based on statistical pattern analysis\")\n    }\n\n    return `Model favors digit ${topPrediction.digit} at ${topPrediction.probability.toFixed(1)}% confidence. ${reasons.join(\". \")}.`\n  }\n\n  private countStreak(digit: number, sequence: number[]): number {\n    let streak = 0\n    for (let i = sequence.length - 1; i >= 0; i--) {\n      if (sequence[i] === digit) {\n        streak++\n      } else {\n        break\n      }\n    }\n    return streak\n  }\n\n  private getDefaultPrediction(): PredictionResult {\n    const predictions = Array.from({ length: 10 }, (_, i) => ({\n      digit: i,\n      probability: 10,\n    }))\n\n    return {\n      predictions,\n      topPrediction: { digit: 0, confidence: 10 },\n      secondPrediction: { digit: 1, confidence: 10 },\n      explanation: \"Insufficient data for prediction. Collecting more ticks...\",\n    }\n  }\n}\n",
            "size_bytes": 5948
        },
        "analysis-tool/Benanalysistool-final-main/components/ui/switch.tsx": {
            "content": "'use client'\n\nimport * as React from 'react'\nimport * as SwitchPrimitive from '@radix-ui/react-switch'\n\nimport { cn } from '@/lib/utils'\n\nfunction Switch({\n  className,\n  ...props\n}: React.ComponentProps<typeof SwitchPrimitive.Root>) {\n  return (\n    <SwitchPrimitive.Root\n      data-slot=\"switch\"\n      className={cn(\n        'peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    >\n      <SwitchPrimitive.Thumb\n        data-slot=\"switch-thumb\"\n        className={\n          'bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0'\n        }\n      />\n    </SwitchPrimitive.Root>\n  )\n}\n\nexport { Switch }\n",
            "size_bytes": 1174
        },
        "src/components/shared/services/performance-metrics-methods.ts": {
            "content": "import { Analytics } from '@deriv-com/analytics';\nimport { isMobile } from '../utils/screen';\n\ndeclare global {\n    interface Window {\n        performance_metrics: {\n            create_ctrader_account_time: number;\n            create_dxtrade_account_time: number;\n            create_mt5_account_time: number;\n            load_cashier_time: number;\n            load_crypto_deposit_cashier_time: number;\n            load_fiat_deposit_cashier_time: number;\n            login_time: number;\n            redirect_from_deriv_com_time: number;\n            signup_time: number;\n            switch_currency_accounts_time: number;\n            switch_from_demo_to_real_time: number;\n            switch_from_real_to_demo_time: number;\n            options_multipliers_section_loading_time: number;\n        };\n    }\n}\n\n// action type will be updated based on the type from Analytics package when it will be updated\nexport const startPerformanceEventTimer = (action: keyof typeof global.Window.prototype.performance_metrics) => {\n    if (!window.performance_metrics) {\n        window.performance_metrics = {\n            create_ctrader_account_time: 0,\n            create_dxtrade_account_time: 0,\n            create_mt5_account_time: 0,\n            load_cashier_time: 0,\n            load_crypto_deposit_cashier_time: 0,\n            load_fiat_deposit_cashier_time: 0,\n            login_time: 0,\n            redirect_from_deriv_com_time: 0,\n            signup_time: 0,\n            switch_currency_accounts_time: 0,\n            switch_from_demo_to_real_time: 0,\n            switch_from_real_to_demo_time: 0,\n            options_multipliers_section_loading_time: 0,\n        };\n    }\n\n    window.performance_metrics[action] = Date.now();\n};\n\nexport const setPerformanceValue = (action: keyof typeof global.Window.prototype.performance_metrics) => {\n    if (window.performance_metrics?.[action]) {\n        const value = (Date.now() - window.performance_metrics[action]) / 1000;\n        window.performance_metrics[action] = 0;\n\n        const event_name = 'ce_traders_hub_performance_metrics';\n        // @ts-expect-error types will be added in the next version of analytics package\n        Analytics.trackEvent(event_name, {\n            action,\n            value,\n            device: isMobile() ? 'mobile' : 'desktop',\n        });\n    }\n};\n",
            "size_bytes": 2316
        },
        "src/external/bot-skeleton/services/api/ticks_service.js": {
            "content": "/* eslint-disable no-confusing-arrow */\nimport { Map } from 'immutable';\nimport { getLast, historyToTicks } from '../../utils/binary-utils';\nimport { observer as globalObserver } from '../../utils/observer';\nimport { doUntilDone, getUUID } from '../tradeEngine/utils/helpers';\nimport { api_base } from './api-base';\n\nconst parseTick = tick => ({\n    epoch: +tick.epoch,\n    quote: +tick.quote,\n});\n\nconst parseOhlc = ohlc => ({\n    open: +ohlc.open,\n    high: +ohlc.high,\n    low: +ohlc.low,\n    close: +ohlc.close,\n    epoch: +(ohlc.open_time || ohlc.epoch),\n});\n\nconst parseCandles = candles => candles.map(t => parseOhlc(t));\n\nconst updateTicks = (ticks, newTick) => (getLast(ticks).epoch >= newTick.epoch ? ticks : [...ticks.slice(1), newTick]);\n\nconst updateCandles = (candles, ohlc) => {\n    const lastCandle = getLast(candles);\n    if (\n        (lastCandle.open === ohlc.open &&\n            lastCandle.high === ohlc.high &&\n            lastCandle.low === ohlc.low &&\n            lastCandle.close === ohlc.close &&\n            lastCandle.epoch === ohlc.epoch) ||\n        lastCandle.epoch > ohlc.epoch\n    ) {\n        return candles;\n    }\n    const prevCandles = lastCandle.epoch === ohlc.epoch ? candles.slice(0, -1) : candles.slice(1);\n    return [...prevCandles, ohlc];\n};\n\nconst getType = isCandle => (isCandle ? 'candles' : 'ticks');\n\nexport default class TicksService {\n    constructor() {\n        this.ticks = new Map();\n        this.candles = new Map();\n        this.tickListeners = new Map();\n        this.ohlcListeners = new Map();\n        this.subscriptions = new Map();\n        this.ticks_history_promise = null;\n        this.active_symbols_promise = null;\n        this.candles_promise = null;\n\n        this.observe();\n    }\n\n    requestPipSizes() {\n        if (this.pipSizes) {\n            return Promise.resolve(this.pipSizes);\n        }\n\n        if (!this.active_symbols_promise) {\n            this.active_symbols_promise = new Promise(resolve => {\n                this.pipSizes = api_base.pip_sizes;\n                resolve(this.pipSizes);\n            });\n        }\n        return this.active_symbols_promise;\n    }\n\n    async request(options) {\n        return new Promise((resolve, reject) => {\n            const { symbol, granularity } = options;\n\n            const style = getType(granularity);\n\n            if (style === 'ticks' && this.ticks.has(symbol)) {\n                resolve(this.ticks.get(symbol));\n            }\n\n            if (style === 'candles' && this.candles.hasIn([symbol, Number(granularity)])) {\n                resolve(this.candles.getIn([symbol, Number(granularity)]));\n            }\n            this.requestStream({ ...options, style })\n                .then(res => {\n                    resolve(res);\n                })\n                .catch(e => {\n                    reject(e);\n                });\n        });\n    }\n\n    monitor(options) {\n        return new Promise((resolve, reject) => {\n            const { symbol, granularity, callback } = options;\n\n            const type = getType(granularity);\n\n            const key = getUUID();\n            this.request(options)\n                .then(() => {\n                    if (type === 'ticks') {\n                        this.tickListeners = this.tickListeners.setIn([symbol, key], callback);\n                        globalObserver.emit('bot.bot_ready');\n                        api_base.toggleRunButton(false);\n                    } else {\n                        this.ohlcListeners = this.ohlcListeners.setIn([symbol, Number(granularity), key], callback);\n                    }\n                    resolve(key);\n                })\n                .catch(e => {\n                    globalObserver.emit('Error', e);\n                    this.ticks_history_promise = null;\n                    api_base.toggleRunButton(false);\n                    reject(e);\n                });\n        });\n    }\n\n    async stopMonitor(options) {\n        const { symbol, granularity, key } = options;\n        const type = getType(granularity);\n\n        if (type === 'ticks' && this.tickListeners.hasIn([symbol, key])) {\n            this.tickListeners = this.tickListeners.deleteIn([symbol, key]);\n        }\n\n        if (type === 'candles' && this.ohlcListeners.hasIn([symbol, Number(granularity), key])) {\n            this.ohlcListeners = this.ohlcListeners.deleteIn([symbol, Number(granularity), key]);\n        }\n\n        await this.unsubscribeIfEmptyListeners(options);\n    }\n\n    async unsubscribeIfEmptyListeners(options) {\n        const { symbol, granularity } = options;\n\n        let needToUnsubscribe = false;\n\n        const tickListener = this.tickListeners.get(symbol);\n\n        if (tickListener && !tickListener.size) {\n            this.tickListeners = this.tickListeners.delete(symbol);\n            this.ticks = this.ticks.delete(symbol);\n            needToUnsubscribe = true;\n        }\n\n        const ohlcListener = this.ohlcListeners.getIn([symbol, Number(granularity)]);\n\n        if (ohlcListener && !ohlcListener.size) {\n            this.ohlcListeners = this.ohlcListeners.deleteIn([symbol, Number(granularity)]);\n            this.candles = this.candles.deleteIn([symbol, Number(granularity)]);\n            needToUnsubscribe = true;\n        }\n\n        if (needToUnsubscribe) {\n            await this.unsubscribeAllAndSubscribeListeners(symbol);\n        }\n    }\n\n    unsubscribeAllAndSubscribeListeners(symbol) {\n        const ohlcSubscriptions = this.subscriptions.getIn(['ohlc', symbol]);\n\n        const subscription = [...(ohlcSubscriptions ? Array.from(ohlcSubscriptions.values()) : [])];\n\n        Promise.all(subscription.map(id => doUntilDone(() => api_base.api.forget(id))));\n\n        this.subscriptions = new Map();\n    }\n\n    updateTicksAndCallListeners(symbol, ticks) {\n        if (this.ticks.get(symbol) === ticks) {\n            return;\n        }\n        this.ticks = this.ticks.set(symbol, ticks);\n\n        const listeners = this.tickListeners.get(symbol);\n\n        if (listeners) {\n            listeners.forEach(callback => callback(this.ticks.get(symbol)));\n        }\n    }\n\n    updateCandlesAndCallListeners(address, candles) {\n        if (this.ticks.getIn(address) === candles) {\n            return;\n        }\n        this.candles = this.candles.setIn(address, candles);\n\n        const listeners = this.ohlcListeners.getIn(address);\n\n        if (listeners) {\n            listeners.forEach(callback => callback(this.candles.getIn(address)));\n        }\n    }\n\n    observe() {\n        if (api_base.api) {\n            const subscription = api_base.api.onMessage().subscribe(({ data }) => {\n                if (data.msg_type === 'tick') {\n                    const { tick } = data;\n                    const { symbol, id } = tick;\n                    if (this.ticks.has(symbol)) {\n                        this.subscriptions = this.subscriptions.setIn(['tick', symbol], id);\n                        this.updateTicksAndCallListeners(symbol, updateTicks(this.ticks.get(symbol), parseTick(tick)));\n                    }\n                }\n\n                if (data.msg_type === 'ohlc') {\n                    const { ohlc } = data;\n                    const { symbol, granularity, id } = ohlc;\n                    if (this.candles.hasIn([symbol, Number(granularity)])) {\n                        this.subscriptions = this.subscriptions.setIn(['ohlc', symbol, Number(granularity)], id);\n                        const address = [symbol, Number(granularity)];\n                        this.updateCandlesAndCallListeners(\n                            address,\n                            updateCandles(this.candles.getIn(address), parseOhlc(ohlc))\n                        );\n                    }\n                }\n            });\n            api_base.pushSubscription(subscription);\n        }\n    }\n\n    requestStream(options) {\n        const { style } = options;\n        const stringified_options = JSON.stringify(options);\n\n        if (style === 'ticks') {\n            // Check if we already have a promise for these exact options\n            if (!this.ticks_history_promise || this.ticks_history_promise.stringified_options !== stringified_options) {\n                this.ticks_history_promise = {\n                    promise: this.requestPipSizes().then(() => this.requestTicks(options)),\n                    stringified_options,\n                };\n            }\n\n            return this.ticks_history_promise.promise;\n        }\n\n        if (style === 'candles') {\n            // Check if we already have a promise for these exact options\n            if (!this.candles_promise || this.candles_promise.stringified_options !== stringified_options) {\n                this.candles_promise = {\n                    promise: this.requestPipSizes().then(() => this.requestTicks(options)),\n                    stringified_options,\n                };\n            }\n\n            return this.candles_promise.promise;\n        }\n\n        return [];\n    }\n\n    requestTicks(options) {\n        const { symbol, granularity, style } = options;\n        const request_object = {\n            ticks_history: symbol === 'na' ? 'R_100' : symbol,\n            subscribe: 1,\n            end: 'latest',\n            count: 1000,\n            granularity: granularity ? Number(granularity) : undefined,\n            style,\n        };\n        return new Promise((resolve, reject) => {\n            if (!api_base.api) resolve([]);\n            doUntilDone(() => api_base.api.send(request_object), ['AlreadySubscribed'], api_base)\n                .then(r => {\n                    if (style === 'ticks') {\n                        const ticks = historyToTicks(r.history);\n\n                        this.updateTicksAndCallListeners(symbol, ticks);\n                        resolve(ticks);\n                    } else {\n                        const candles = parseCandles(r.candles);\n\n                        this.updateCandlesAndCallListeners([symbol, Number(granularity)], candles);\n\n                        resolve(candles);\n                    }\n                })\n                .catch(error => {\n                    // Handle AlreadySubscribed errors gracefully - they're not fatal\n                    if (error?.code === 'AlreadySubscribed') {\n                        // For AlreadySubscribed errors, we can still resolve with existing data\n                        if (style === 'ticks' && this.ticks.has(symbol)) {\n                            resolve(this.ticks.get(symbol));\n                        } else if (style === 'candles' && this.candles.hasIn([symbol, Number(granularity)])) {\n                            resolve(this.candles.getIn([symbol, Number(granularity)]));\n                        } else {\n                            resolve([]);\n                        }\n                        return;\n                    }\n                    // Don't clear auth data for InvalidSymbol errors as it causes unwanted logouts\n                    // InvalidSymbol errors can occur for various reasons and don't necessarily mean the user is unauthorized\n                    reject(error);\n                });\n        });\n    }\n\n    forget = () => {\n        return new Promise((resolve, reject) => {\n            if (api_base?.api) {\n                try {\n                    api_base.api\n                        .forgetAll('ticks')\n                        .then(() => {\n                            resolve();\n                        })\n                        .catch(reject);\n                } catch (e) {\n                    console.log('Error in forget ticks', e);\n                }\n            } else {\n                resolve();\n            }\n        });\n    };\n\n    forgetCandleSubscription = () => {\n        return new Promise((resolve, reject) => {\n            if (api_base?.api) {\n                try {\n                    api_base.api\n                        .forgetAll('candles')\n                        .then(() => {\n                            resolve();\n                        })\n                        .catch(reject);\n                } catch (e) {\n                    console.log('Error in forget candles', e);\n                }\n            } else {\n                resolve();\n            }\n        });\n    };\n\n    unsubscribeFromTicksService() {\n        return new Promise((resolve, reject) => {\n            this.forget()\n                .then(() => {\n                    try {\n                        this.forgetCandleSubscription()\n                            .then(() => {\n                                resolve();\n                            })\n                            .catch(reject);\n                    } catch (e) {\n                        console.log('Error in unsubscribeFromTicksService', e);\n                    }\n                })\n                .catch(reject);\n            this.ticks_history_promise = null;\n        });\n    }\n}\n",
            "size_bytes": 12827
        },
        "analysis-tool/Benanalysistool-final-main/lib/utils.ts": {
            "content": "import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n",
            "size_bytes": 166
        },
        "src/components/shared_ui/drawer/index.ts": {
            "content": "import Drawer from './drawer';\nimport './drawer.scss';\n\nexport default Drawer;\n",
            "size_bytes": 79
        },
        "analysis-tool/Benanalysistool-final-main/pnpm-lock.yaml": {
            "content": "lockfileVersion: '9.0'\n\nsettings:\n  autoInstallPeers: true\n  excludeLinksFromLockfile: false\n\nimporters:\n\n  .:\n    dependencies:\n      '@emotion/is-prop-valid':\n        specifier: latest\n        version: 1.4.0\n      '@hookform/resolvers':\n        specifier: ^3.10.0\n        version: 3.10.0(react-hook-form@7.65.0(react@19.0.0))\n      '@radix-ui/react-accordion':\n        specifier: latest\n        version: 1.2.12(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-alert-dialog':\n        specifier: latest\n        version: 1.1.15(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-aspect-ratio':\n        specifier: latest\n        version: 1.1.7(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-avatar':\n        specifier: latest\n        version: 1.1.10(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-checkbox':\n        specifier: latest\n        version: 1.3.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-collapsible':\n        specifier: latest\n        version: 1.1.12(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-context-menu':\n        specifier: latest\n        version: 2.2.16(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-dialog':\n        specifier: latest\n        version: 1.1.15(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-dropdown-menu':\n        specifier: latest\n        version: 2.1.16(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-hover-card':\n        specifier: latest\n        version: 1.1.15(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-label':\n        specifier: latest\n        version: 2.1.7(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-menubar':\n        specifier: latest\n        version: 1.1.16(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-navigation-menu':\n        specifier: latest\n        version: 1.2.14(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-popover':\n        specifier: latest\n        version: 1.1.15(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-progress':\n        specifier: latest\n        version: 1.1.7(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-radio-group':\n        specifier: latest\n        version: 1.3.8(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-scroll-area':\n        specifier: latest\n        version: 1.2.10(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-select':\n        specifier: latest\n        version: 2.2.6(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-separator':\n        specifier: latest\n        version: 1.1.7(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-slider':\n        specifier: latest\n        version: 1.3.6(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-slot':\n        specifier: latest\n        version: 1.2.3(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-switch':\n        specifier: latest\n        version: 1.2.6(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-tabs':\n        specifier: latest\n        version: 1.1.13(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-toast':\n        specifier: latest\n        version: 1.2.15(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-toggle':\n        specifier: latest\n        version: 1.1.10(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-toggle-group':\n        specifier: latest\n        version: 1.1.11(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-tooltip':\n        specifier: latest\n        version: 1.2.8(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@vercel/analytics':\n        specifier: latest\n        version: 1.5.0(next@15.2.4(react-dom@19.0.0(react@19.0.0))(react@19.0.0))(react@19.0.0)\n      autoprefixer:\n        specifier: ^10.4.20\n        version: 10.4.20(postcss@8.5.0)\n      class-variance-authority:\n        specifier: ^0.7.1\n        version: 0.7.1\n      clsx:\n        specifier: ^2.1.1\n        version: 2.1.1\n      cmdk:\n        specifier: latest\n        version: 1.1.1(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      date-fns:\n        specifier: 4.1.0\n        version: 4.1.0\n      embla-carousel-react:\n        specifier: latest\n        version: 8.6.0(react@19.0.0)\n      framer-motion:\n        specifier: latest\n        version: 12.23.24(@emotion/is-prop-valid@1.4.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      geist:\n        specifier: latest\n        version: 1.5.1(next@15.2.4(react-dom@19.0.0(react@19.0.0))(react@19.0.0))\n      input-otp:\n        specifier: latest\n        version: 1.4.2(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      lightweight-charts:\n        specifier: 5.0.9\n        version: 5.0.9\n      lucide-react:\n        specifier: ^0.454.0\n        version: 0.454.0(react@19.0.0)\n      next:\n        specifier: 15.2.4\n        version: 15.2.4(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      next-themes:\n        specifier: latest\n        version: 0.4.6(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      react:\n        specifier: ^19\n        version: 19.0.0\n      react-day-picker:\n        specifier: latest\n        version: 9.11.1(react@19.0.0)\n      react-dom:\n        specifier: ^19\n        version: 19.0.0(react@19.0.0)\n      react-hook-form:\n        specifier: latest\n        version: 7.65.0(react@19.0.0)\n      react-resizable-panels:\n        specifier: latest\n        version: 3.0.6(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      recharts:\n        specifier: latest\n        version: 3.2.1(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react-is@19.2.0)(react@19.0.0)(redux@5.0.1)\n      sonner:\n        specifier: latest\n        version: 2.0.7(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      tailwind-merge:\n        specifier: ^2.5.5\n        version: 2.5.5\n      tailwindcss-animate:\n        specifier: ^1.0.7\n        version: 1.0.7(tailwindcss@4.1.9)\n      vaul:\n        specifier: latest\n        version: 1.1.2(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      zod:\n        specifier: 3.25.67\n        version: 3.25.67\n    devDependencies:\n      '@tailwindcss/postcss':\n        specifier: ^4.1.9\n        version: 4.1.9\n      '@types/node':\n        specifier: ^22\n        version: 22.0.0\n      '@types/react':\n        specifier: ^19\n        version: 19.0.0\n      '@types/react-dom':\n        specifier: ^19\n        version: 19.0.0\n      postcss:\n        specifier: ^8.5\n        version: 8.5.0\n      tailwindcss:\n        specifier: ^4.1.9\n        version: 4.1.9\n      tw-animate-css:\n        specifier: 1.3.3\n        version: 1.3.3\n      typescript:\n        specifier: ^5\n        version: 5.0.2\n\npackages:\n\n  '@alloc/quick-lru@5.2.0':\n    resolution: {integrity: sha512-UrcABB+4bUrFABwbluTIBErXwvbsU/V7TZWfmbgJfbkwiBuziS9gxdODUyuiecfdGQ85jglMW6juS3+z5TsKLw==}\n    engines: {node: '>=10'}\n\n  '@ampproject/remapping@2.3.0':\n    resolution: {integrity: sha512-30iZtAPgz+LTIYoeivqYo853f02jBYSd5uGnGpkFV0M3xOt9aN73erkgYAmZU43x4VfqcnLxW9Kpg3R5LC4YYw==}\n    engines: {node: '>=6.0.0'}\n\n  '@date-fns/tz@1.4.1':\n    resolution: {integrity: sha512-P5LUNhtbj6YfI3iJjw5EL9eUAG6OitD0W3fWQcpQjDRc/QIsL0tRNuO1PcDvPccWL1fSTXXdE1ds+l95DV/OFA==}\n\n  '@emnapi/runtime@1.5.0':\n    resolution: {integrity: sha512-97/BJ3iXHww3djw6hYIfErCZFee7qCtrneuLa20UXFCOTCfBM2cvQHjWJ2EG0s0MtdNwInarqCTz35i4wWXHsQ==}\n\n  '@emotion/is-prop-valid@1.4.0':\n    resolution: {integrity: sha512-QgD4fyscGcbbKwJmqNvUMSE02OsHUa+lAWKdEUIJKgqe5IwRSKd7+KhibEWdaKwgjLj0DRSHA9biAIqGBk05lw==}\n\n  '@emotion/memoize@0.9.0':\n    resolution: {integrity: sha512-30FAj7/EoJ5mwVPOWhAyCX+FPfMDrVecJAM+Iw9NRoSl4BBAQeqj4cApHHUXOVvIPgLVDsCFoz/hGD+5QQD1GQ==}\n\n  '@floating-ui/core@1.7.3':\n    resolution: {integrity: sha512-sGnvb5dmrJaKEZ+LDIpguvdX3bDlEllmv4/ClQ9awcmCZrlx5jQyyMWFM5kBI+EyNOCDDiKk8il0zeuX3Zlg/w==}\n\n  '@floating-ui/dom@1.7.4':\n    resolution: {integrity: sha512-OOchDgh4F2CchOX94cRVqhvy7b3AFb+/rQXyswmzmGakRfkMgoWVjfnLWkRirfLEfuD4ysVW16eXzwt3jHIzKA==}\n\n  '@floating-ui/react-dom@2.1.6':\n    resolution: {integrity: sha512-4JX6rEatQEvlmgU80wZyq9RT96HZJa88q8hp0pBd+LrczeDI4o6uA2M+uvxngVHo4Ihr8uibXxH6+70zhAFrVw==}\n    peerDependencies:\n      react: '>=16.8.0'\n      react-dom: '>=16.8.0'\n\n  '@floating-ui/utils@0.2.10':\n    resolution: {integrity: sha512-aGTxbpbg8/b5JfU1HXSrbH3wXZuLPJcNEcZQFMxLs3oSzgtVu6nFPkbbGGUvBcUjKV2YyB9Wxxabo+HEH9tcRQ==}\n\n  '@hookform/resolvers@3.10.0':\n    resolution: {integrity: sha512-79Dv+3mDF7i+2ajj7SkypSKHhl1cbln1OGavqrsF7p6mbUv11xpqpacPsGDCTRvCSjEEIez2ef1NveSVL3b0Ag==}\n    peerDependencies:\n      react-hook-form: ^7.0.0\n\n  '@img/sharp-darwin-arm64@0.33.5':\n    resolution: {integrity: sha512-UT4p+iz/2H4twwAoLCqfA9UH5pI6DggwKEGuaPy7nCVQ8ZsiY5PIcrRvD1DzuY3qYL07NtIQcWnBSY/heikIFQ==}\n    engines: {node: ^18.17.0 || ^20.3.0 || >=21.0.0}\n    cpu: [arm64]\n    os: [darwin]\n\n  '@img/sharp-darwin-x64@0.33.5':\n    resolution: {integrity: sha512-fyHac4jIc1ANYGRDxtiqelIbdWkIuQaI84Mv45KvGRRxSAa7o7d1ZKAOBaYbnepLC1WqxfpimdeWfvqqSGwR2Q==}\n    engines: {node: ^18.17.0 || ^20.3.0 || >=21.0.0}\n    cpu: [x64]\n    os: [darwin]\n\n  '@img/sharp-libvips-darwin-arm64@1.0.4':\n    resolution: {integrity: sha512-XblONe153h0O2zuFfTAbQYAX2JhYmDHeWikp1LM9Hul9gVPjFY427k6dFEcOL72O01QxQsWi761svJ/ev9xEDg==}\n    cpu: [arm64]\n    os: [darwin]\n\n  '@img/sharp-libvips-darwin-x64@1.0.4':\n    resolution: {integrity: sha512-xnGR8YuZYfJGmWPvmlunFaWJsb9T/AO2ykoP3Fz/0X5XV2aoYBPkX6xqCQvUTKKiLddarLaxpzNe+b1hjeWHAQ==}\n    cpu: [x64]\n    os: [darwin]\n\n  '@img/sharp-libvips-linux-arm64@1.0.4':\n    resolution: {integrity: sha512-9B+taZ8DlyyqzZQnoeIvDVR/2F4EbMepXMc/NdVbkzsJbzkUjhXv/70GQJ7tdLA4YJgNP25zukcxpX2/SueNrA==}\n    cpu: [arm64]\n    os: [linux]\n\n  '@img/sharp-libvips-linux-arm@1.0.5':\n    resolution: {integrity: sha512-gvcC4ACAOPRNATg/ov8/MnbxFDJqf/pDePbBnuBDcjsI8PssmjoKMAz4LtLaVi+OnSb5FK/yIOamqDwGmXW32g==}\n    cpu: [arm]\n    os: [linux]\n\n  '@img/sharp-libvips-linux-s390x@1.0.4':\n    resolution: {integrity: sha512-u7Wz6ntiSSgGSGcjZ55im6uvTrOxSIS8/dgoVMoiGE9I6JAfU50yH5BoDlYA1tcuGS7g/QNtetJnxA6QEsCVTA==}\n    cpu: [s390x]\n    os: [linux]\n\n  '@img/sharp-libvips-linux-x64@1.0.4':\n    resolution: {integrity: sha512-MmWmQ3iPFZr0Iev+BAgVMb3ZyC4KeFc3jFxnNbEPas60e1cIfevbtuyf9nDGIzOaW9PdnDciJm+wFFaTlj5xYw==}\n    cpu: [x64]\n    os: [linux]\n\n  '@img/sharp-libvips-linuxmusl-arm64@1.0.4':\n    resolution: {integrity: sha512-9Ti+BbTYDcsbp4wfYib8Ctm1ilkugkA/uscUn6UXK1ldpC1JjiXbLfFZtRlBhjPZ5o1NCLiDbg8fhUPKStHoTA==}\n    cpu: [arm64]\n    os: [linux]\n\n  '@img/sharp-libvips-linuxmusl-x64@1.0.4':\n    resolution: {integrity: sha512-viYN1KX9m+/hGkJtvYYp+CCLgnJXwiQB39damAO7WMdKWlIhmYTfHjwSbQeUK/20vY154mwezd9HflVFM1wVSw==}\n    cpu: [x64]\n    os: [linux]\n\n  '@img/sharp-linux-arm64@0.33.5':\n    resolution: {integrity: sha512-JMVv+AMRyGOHtO1RFBiJy/MBsgz0x4AWrT6QoEVVTyh1E39TrCUpTRI7mx9VksGX4awWASxqCYLCV4wBZHAYxA==}\n    engines: {node: ^18.17.0 || ^20.3.0 || >=21.0.0}\n    cpu: [arm64]\n    os: [linux]\n\n  '@img/sharp-linux-arm@0.33.5':\n    resolution: {integrity: sha512-JTS1eldqZbJxjvKaAkxhZmBqPRGmxgu+qFKSInv8moZ2AmT5Yib3EQ1c6gp493HvrvV8QgdOXdyaIBrhvFhBMQ==}\n    engines: {node: ^18.17.0 || ^20.3.0 || >=21.0.0}\n    cpu: [arm]\n    os: [linux]\n\n  '@img/sharp-linux-s390x@0.33.5':\n    resolution: {integrity: sha512-y/5PCd+mP4CA/sPDKl2961b+C9d+vPAveS33s6Z3zfASk2j5upL6fXVPZi7ztePZ5CuH+1kW8JtvxgbuXHRa4Q==}\n    engines: {node: ^18.17.0 || ^20.3.0 || >=21.0.0}\n    cpu: [s390x]\n    os: [linux]\n\n  '@img/sharp-linux-x64@0.33.5':\n    resolution: {integrity: sha512-opC+Ok5pRNAzuvq1AG0ar+1owsu842/Ab+4qvU879ippJBHvyY5n2mxF1izXqkPYlGuP/M556uh53jRLJmzTWA==}\n    engines: {node: ^18.17.0 || ^20.3.0 || >=21.0.0}\n    cpu: [x64]\n    os: [linux]\n\n  '@img/sharp-linuxmusl-arm64@0.33.5':\n    resolution: {integrity: sha512-XrHMZwGQGvJg2V/oRSUfSAfjfPxO+4DkiRh6p2AFjLQztWUuY/o8Mq0eMQVIY7HJ1CDQUJlxGGZRw1a5bqmd1g==}\n    engines: {node: ^18.17.0 || ^20.3.0 || >=21.0.0}\n    cpu: [arm64]\n    os: [linux]\n\n  '@img/sharp-linuxmusl-x64@0.33.5':\n    resolution: {integrity: sha512-WT+d/cgqKkkKySYmqoZ8y3pxx7lx9vVejxW/W4DOFMYVSkErR+w7mf2u8m/y4+xHe7yY9DAXQMWQhpnMuFfScw==}\n    engines: {node: ^18.17.0 || ^20.3.0 || >=21.0.0}\n    cpu: [x64]\n    os: [linux]\n\n  '@img/sharp-wasm32@0.33.5':\n    resolution: {integrity: sha512-ykUW4LVGaMcU9lu9thv85CbRMAwfeadCJHRsg2GmeRa/cJxsVY9Rbd57JcMxBkKHag5U/x7TSBpScF4U8ElVzg==}\n    engines: {node: ^18.17.0 || ^20.3.0 || >=21.0.0}\n    cpu: [wasm32]\n\n  '@img/sharp-win32-ia32@0.33.5':\n    resolution: {integrity: sha512-T36PblLaTwuVJ/zw/LaH0PdZkRz5rd3SmMHX8GSmR7vtNSP5Z6bQkExdSK7xGWyxLw4sUknBuugTelgw2faBbQ==}\n    engines: {node: ^18.17.0 || ^20.3.0 || >=21.0.0}\n    cpu: [ia32]\n    os: [win32]\n\n  '@img/sharp-win32-x64@0.33.5':\n    resolution: {integrity: sha512-MpY/o8/8kj+EcnxwvrP4aTJSWw/aZ7JIGR4aBeZkZw5B7/Jn+tY9/VNwtcoGmdT7GfggGIU4kygOMSbYnOrAbg==}\n    engines: {node: ^18.17.0 || ^20.3.0 || >=21.0.0}\n    cpu: [x64]\n    os: [win32]\n\n  '@isaacs/fs-minipass@4.0.1':\n    resolution: {integrity: sha512-wgm9Ehl2jpeqP3zw/7mo3kRHFp5MEDhqAdwy1fTGkHAwnkGOVsgpvQhL8B5n1qlb01jV3n/bI0ZfZp5lWA1k4w==}\n    engines: {node: '>=18.0.0'}\n\n  '@jridgewell/gen-mapping@0.3.13':\n    resolution: {integrity: sha512-2kkt/7niJ6MgEPxF0bYdQ6etZaA+fQvDcLKckhy1yIQOzaoKjBBjSj63/aLVjYE3qhRt5dvM+uUyfCg6UKCBbA==}\n\n  '@jridgewell/resolve-uri@3.1.2':\n    resolution: {integrity: sha512-bRISgCIjP20/tbWSPWMEi54QVPRZExkuD9lJL+UIxUKtwVJA8wW1Trb1jMs1RFXo1CBTNZ/5hpC9QvmKWdopKw==}\n    engines: {node: '>=6.0.0'}\n\n  '@jridgewell/sourcemap-codec@1.5.5':\n    resolution: {integrity: sha512-cYQ9310grqxueWbl+WuIUIaiUaDcj7WOq5fVhEljNVgRfOUhY9fy2zTvfoqWsnebh8Sl70VScFbICvJnLKB0Og==}\n\n  '@jridgewell/trace-mapping@0.3.31':\n    resolution: {integrity: sha512-zzNR+SdQSDJzc8joaeP8QQoCQr8NuYx2dIIytl1QeBEZHJ9uW6hebsrYgbz8hJwUQao3TWCMtmfV8Nu1twOLAw==}\n\n  '@next/env@15.2.4':\n    resolution: {integrity: sha512-+SFtMgoiYP3WoSswuNmxJOCwi06TdWE733D+WPjpXIe4LXGULwEaofiiAy6kbS0+XjM5xF5n3lKuBwN2SnqD9g==}\n\n  '@next/swc-darwin-arm64@15.2.4':\n    resolution: {integrity: sha512-1AnMfs655ipJEDC/FHkSr0r3lXBgpqKo4K1kiwfUf3iE68rDFXZ1TtHdMvf7D0hMItgDZ7Vuq3JgNMbt/+3bYw==}\n    engines: {node: '>= 10'}\n    cpu: [arm64]\n    os: [darwin]\n\n  '@next/swc-darwin-x64@15.2.4':\n    resolution: {integrity: sha512-3qK2zb5EwCwxnO2HeO+TRqCubeI/NgCe+kL5dTJlPldV/uwCnUgC7VbEzgmxbfrkbjehL4H9BPztWOEtsoMwew==}\n    engines: {node: '>= 10'}\n    cpu: [x64]\n    os: [darwin]\n\n  '@next/swc-linux-arm64-gnu@15.2.4':\n    resolution: {integrity: sha512-HFN6GKUcrTWvem8AZN7tT95zPb0GUGv9v0d0iyuTb303vbXkkbHDp/DxufB04jNVD+IN9yHy7y/6Mqq0h0YVaQ==}\n    engines: {node: '>= 10'}\n    cpu: [arm64]\n    os: [linux]\n\n  '@next/swc-linux-arm64-musl@15.2.4':\n    resolution: {integrity: sha512-Oioa0SORWLwi35/kVB8aCk5Uq+5/ZIumMK1kJV+jSdazFm2NzPDztsefzdmzzpx5oGCJ6FkUC7vkaUseNTStNA==}\n    engines: {node: '>= 10'}\n    cpu: [arm64]\n    os: [linux]\n\n  '@next/swc-linux-x64-gnu@15.2.4':\n    resolution: {integrity: sha512-yb5WTRaHdkgOqFOZiu6rHV1fAEK0flVpaIN2HB6kxHVSy/dIajWbThS7qON3W9/SNOH2JWkVCyulgGYekMePuw==}\n    engines: {node: '>= 10'}\n    cpu: [x64]\n    os: [linux]\n\n  '@next/swc-linux-x64-musl@15.2.4':\n    resolution: {integrity: sha512-Dcdv/ix6srhkM25fgXiyOieFUkz+fOYkHlydWCtB0xMST6X9XYI3yPDKBZt1xuhOytONsIFJFB08xXYsxUwJLw==}\n    engines: {node: '>= 10'}\n    cpu: [x64]\n    os: [linux]\n\n  '@next/swc-win32-arm64-msvc@15.2.4':\n    resolution: {integrity: sha512-dW0i7eukvDxtIhCYkMrZNQfNicPDExt2jPb9AZPpL7cfyUo7QSNl1DjsHjmmKp6qNAqUESyT8YFl/Aw91cNJJg==}\n    engines: {node: '>= 10'}\n    cpu: [arm64]\n    os: [win32]\n\n  '@next/swc-win32-x64-msvc@15.2.4':\n    resolution: {integrity: sha512-SbnWkJmkS7Xl3kre8SdMF6F/XDh1DTFEhp0jRTj/uB8iPKoU2bb2NDfcu+iifv1+mxQEd1g2vvSxcZbXSKyWiQ==}\n    engines: {node: '>= 10'}\n    cpu: [x64]\n    os: [win32]\n\n  '@radix-ui/number@1.1.1':\n    resolution: {integrity: sha512-MkKCwxlXTgz6CFoJx3pCwn07GKp36+aZyu/u2Ln2VrA5DcdyCZkASEDBTd8x5whTQQL5CiYf4prXKLcgQdv29g==}\n\n  '@radix-ui/primitive@1.1.3':\n    resolution: {integrity: sha512-JTF99U/6XIjCBo0wqkU5sK10glYe27MRRsfwoiq5zzOEZLHU3A3KCMa5X/azekYRCJ0HlwI0crAXS/5dEHTzDg==}\n\n  '@radix-ui/react-accordion@1.2.12':\n    resolution: {integrity: sha512-T4nygeh9YE9dLRPhAHSeOZi7HBXo+0kYIPJXayZfvWOWA0+n3dESrZbjfDPUABkUNym6Hd+f2IR113To8D2GPA==}\n    peerDependencies:\n      '@types/react': '*'\n      '@types/react-dom': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n      '@types/react-dom':\n        optional: true\n\n  '@radix-ui/react-alert-dialog@1.1.15':\n    resolution: {integrity: sha512-oTVLkEw5GpdRe29BqJ0LSDFWI3qu0vR1M0mUkOQWDIUnY/QIkLpgDMWuKxP94c2NAC2LGcgVhG1ImF3jkZ5wXw==}\n    peerDependencies:\n      '@types/react': '*'\n      '@types/react-dom': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n      '@types/react-dom':\n        optional: true\n\n  '@radix-ui/react-arrow@1.1.7':\n    resolution: {integrity: sha512-F+M1tLhO+mlQaOWspE8Wstg+z6PwxwRd8oQ8IXceWz92kfAmalTRf0EjrouQeo7QssEPfCn05B4Ihs1K9WQ/7w==}\n    peerDependencies:\n      '@types/react': '*'\n      '@types/react-dom': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n      '@types/react-dom':\n        optional: true\n\n  '@radix-ui/react-aspect-ratio@1.1.7':\n    resolution: {integrity: sha512-Yq6lvO9HQyPwev1onK1daHCHqXVLzPhSVjmsNjCa2Zcxy2f7uJD2itDtxknv6FzAKCwD1qQkeVDmX/cev13n/g==}\n    peerDependencies:\n      '@types/react': '*'\n      '@types/react-dom': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n      '@types/react-dom':\n        optional: true\n\n  '@radix-ui/react-avatar@1.1.10':\n    resolution: {integrity: sha512-V8piFfWapM5OmNCXTzVQY+E1rDa53zY+MQ4Y7356v4fFz6vqCyUtIz2rUD44ZEdwg78/jKmMJHj07+C/Z/rcog==}\n    peerDependencies:\n      '@types/react': '*'\n      '@types/react-dom': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n      '@types/react-dom':\n        optional: true\n\n  '@radix-ui/react-checkbox@1.3.3':\n    resolution: {integrity: sha512-wBbpv+NQftHDdG86Qc0pIyXk5IR3tM8Vd0nWLKDcX8nNn4nXFOFwsKuqw2okA/1D/mpaAkmuyndrPJTYDNZtFw==}\n    peerDependencies:\n      '@types/react': '*'\n      '@types/react-dom': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n      '@types/react-dom':\n        optional: true\n\n  '@radix-ui/react-collapsible@1.1.12':\n    resolution: {integrity: sha512-Uu+mSh4agx2ib1uIGPP4/CKNULyajb3p92LsVXmH2EHVMTfZWpll88XJ0j4W0z3f8NK1eYl1+Mf/szHPmcHzyA==}\n    peerDependencies:\n      '@types/react': '*'\n      '@types/react-dom': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n      '@types/react-dom':\n        optional: true\n\n  '@radix-ui/react-collection@1.1.7':\n    resolution: {integrity: sha512-Fh9rGN0MoI4ZFUNyfFVNU4y9LUz93u9/0K+yLgA2bwRojxM8JU1DyvvMBabnZPBgMWREAJvU2jjVzq+LrFUglw==}\n    peerDependencies:\n      '@types/react': '*'\n      '@types/react-dom': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n      '@types/react-dom':\n        optional: true\n\n  '@radix-ui/react-compose-refs@1.1.2':\n    resolution: {integrity: sha512-z4eqJvfiNnFMHIIvXP3CY57y2WJs5g2v3X0zm9mEJkrkNv4rDxu+sg9Jh8EkXyeqBkB7SOcboo9dMVqhyrACIg==}\n    peerDependencies:\n      '@types/react': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n\n  '@radix-ui/react-context-menu@2.2.16':\n    resolution: {integrity: sha512-O8morBEW+HsVG28gYDZPTrT9UUovQUlJue5YO836tiTJhuIWBm/zQHc7j388sHWtdH/xUZurK9olD2+pcqx5ww==}\n    peerDependencies:\n      '@types/react': '*'\n      '@types/react-dom': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n      '@types/react-dom':\n        optional: true\n\n  '@radix-ui/react-context@1.1.2':\n    resolution: {integrity: sha512-jCi/QKUM2r1Ju5a3J64TH2A5SpKAgh0LpknyqdQ4m6DCV0xJ2HG1xARRwNGPQfi1SLdLWZ1OJz6F4OMBBNiGJA==}\n    peerDependencies:\n      '@types/react': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n\n  '@radix-ui/react-dialog@1.1.15':\n    resolution: {integrity: sha512-TCglVRtzlffRNxRMEyR36DGBLJpeusFcgMVD9PZEzAKnUs1lKCgX5u9BmC2Yg+LL9MgZDugFFs1Vl+Jp4t/PGw==}\n    peerDependencies:\n      '@types/react': '*'\n      '@types/react-dom': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n      '@types/react-dom':\n        optional: true\n\n  '@radix-ui/react-direction@1.1.1':\n    resolution: {integrity: sha512-1UEWRX6jnOA2y4H5WczZ44gOOjTEmlqv1uNW4GAJEO5+bauCBhv8snY65Iw5/VOS/ghKN9gr2KjnLKxrsvoMVw==}\n    peerDependencies:\n      '@types/react': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n\n  '@radix-ui/react-dismissable-layer@1.1.11':\n    resolution: {integrity: sha512-Nqcp+t5cTB8BinFkZgXiMJniQH0PsUt2k51FUhbdfeKvc4ACcG2uQniY/8+h1Yv6Kza4Q7lD7PQV0z0oicE0Mg==}\n    peerDependencies:\n      '@types/react': '*'\n      '@types/react-dom': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n      '@types/react-dom':\n        optional: true\n\n  '@radix-ui/react-dropdown-menu@2.1.16':\n    resolution: {integrity: sha512-1PLGQEynI/3OX/ftV54COn+3Sud/Mn8vALg2rWnBLnRaGtJDduNW/22XjlGgPdpcIbiQxjKtb7BkcjP00nqfJw==}\n    peerDependencies:\n      '@types/react': '*'\n      '@types/react-dom': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n      '@types/react-dom':\n        optional: true\n\n  '@radix-ui/react-focus-guards@1.1.3':\n    resolution: {integrity: sha512-0rFg/Rj2Q62NCm62jZw0QX7a3sz6QCQU0LpZdNrJX8byRGaGVTqbrW9jAoIAHyMQqsNpeZ81YgSizOt5WXq0Pw==}\n    peerDependencies:\n      '@types/react': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n\n  '@radix-ui/react-focus-scope@1.1.7':\n    resolution: {integrity: sha512-t2ODlkXBQyn7jkl6TNaw/MtVEVvIGelJDCG41Okq/KwUsJBwQ4XVZsHAVUkK4mBv3ewiAS3PGuUWuY2BoK4ZUw==}\n    peerDependencies:\n      '@types/react': '*'\n      '@types/react-dom': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n      '@types/react-dom':\n        optional: true\n\n  '@radix-ui/react-hover-card@1.1.15':\n    resolution: {integrity: sha512-qgTkjNT1CfKMoP0rcasmlH2r1DAiYicWsDsufxl940sT2wHNEWWv6FMWIQXWhVdmC1d/HYfbhQx60KYyAtKxjg==}\n    peerDependencies:\n      '@types/react': '*'\n      '@types/react-dom': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n      '@types/react-dom':\n        optional: true\n\n  '@radix-ui/react-id@1.1.1':\n    resolution: {integrity: sha512-kGkGegYIdQsOb4XjsfM97rXsiHaBwco+hFI66oO4s9LU+PLAC5oJ7khdOVFxkhsmlbpUqDAvXw11CluXP+jkHg==}\n    peerDependencies:\n      '@types/react': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n\n  '@radix-ui/react-label@2.1.7':\n    resolution: {integrity: sha512-YT1GqPSL8kJn20djelMX7/cTRp/Y9w5IZHvfxQTVHrOqa2yMl7i/UfMqKRU5V7mEyKTrUVgJXhNQPVCG8PBLoQ==}\n    peerDependencies:\n      '@types/react': '*'\n      '@types/react-dom': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n      '@types/react-dom':\n        optional: true\n\n  '@radix-ui/react-menu@2.1.16':\n    resolution: {integrity: sha512-72F2T+PLlphrqLcAotYPp0uJMr5SjP5SL01wfEspJbru5Zs5vQaSHb4VB3ZMJPimgHHCHG7gMOeOB9H3Hdmtxg==}\n    peerDependencies:\n      '@types/react': '*'\n      '@types/react-dom': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n      '@types/react-dom':\n        optional: true\n\n  '@radix-ui/react-menubar@1.1.16':\n    resolution: {integrity: sha512-EB1FktTz5xRRi2Er974AUQZWg2yVBb1yjip38/lgwtCVRd3a+maUoGHN/xs9Yv8SY8QwbSEb+YrxGadVWbEutA==}\n    peerDependencies:\n      '@types/react': '*'\n      '@types/react-dom': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n      '@types/react-dom':\n        optional: true\n\n  '@radix-ui/react-navigation-menu@1.2.14':\n    resolution: {integrity: sha512-YB9mTFQvCOAQMHU+C/jVl96WmuWeltyUEpRJJky51huhds5W2FQr1J8D/16sQlf0ozxkPK8uF3niQMdUwZPv5w==}\n    peerDependencies:\n      '@types/react': '*'\n      '@types/react-dom': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n      '@types/react-dom':\n        optional: true\n\n  '@radix-ui/react-popover@1.1.15':\n    resolution: {integrity: sha512-kr0X2+6Yy/vJzLYJUPCZEc8SfQcf+1COFoAqauJm74umQhta9M7lNJHP7QQS3vkvcGLQUbWpMzwrXYwrYztHKA==}\n    peerDependencies:\n      '@types/react': '*'\n      '@types/react-dom': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n      '@types/react-dom':\n        optional: true\n\n  '@radix-ui/react-popper@1.2.8':\n    resolution: {integrity: sha512-0NJQ4LFFUuWkE7Oxf0htBKS6zLkkjBH+hM1uk7Ng705ReR8m/uelduy1DBo0PyBXPKVnBA6YBlU94MBGXrSBCw==}\n    peerDependencies:\n      '@types/react': '*'\n      '@types/react-dom': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n      '@types/react-dom':\n        optional: true\n\n  '@radix-ui/react-portal@1.1.9':\n    resolution: {integrity: sha512-bpIxvq03if6UNwXZ+HTK71JLh4APvnXntDc6XOX8UVq4XQOVl7lwok0AvIl+b8zgCw3fSaVTZMpAPPagXbKmHQ==}\n    peerDependencies:\n      '@types/react': '*'\n      '@types/react-dom': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n      '@types/react-dom':\n        optional: true\n\n  '@radix-ui/react-presence@1.1.5':\n    resolution: {integrity: sha512-/jfEwNDdQVBCNvjkGit4h6pMOzq8bHkopq458dPt2lMjx+eBQUohZNG9A7DtO/O5ukSbxuaNGXMjHicgwy6rQQ==}\n    peerDependencies:\n      '@types/react': '*'\n      '@types/react-dom': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n      '@types/react-dom':\n        optional: true\n\n  '@radix-ui/react-primitive@2.1.3':\n    resolution: {integrity: sha512-m9gTwRkhy2lvCPe6QJp4d3G1TYEUHn/FzJUtq9MjH46an1wJU+GdoGC5VLof8RX8Ft/DlpshApkhswDLZzHIcQ==}\n    peerDependencies:\n      '@types/react': '*'\n      '@types/react-dom': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n      '@types/react-dom':\n        optional: true\n\n  '@radix-ui/react-progress@1.1.7':\n    resolution: {integrity: sha512-vPdg/tF6YC/ynuBIJlk1mm7Le0VgW6ub6J2UWnTQ7/D23KXcPI1qy+0vBkgKgd38RCMJavBXpB83HPNFMTb0Fg==}\n    peerDependencies:\n      '@types/react': '*'\n      '@types/react-dom': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n      '@types/react-dom':\n        optional: true\n\n  '@radix-ui/react-radio-group@1.3.8':\n    resolution: {integrity: sha512-VBKYIYImA5zsxACdisNQ3BjCBfmbGH3kQlnFVqlWU4tXwjy7cGX8ta80BcrO+WJXIn5iBylEH3K6ZTlee//lgQ==}\n    peerDependencies:\n      '@types/react': '*'\n      '@types/react-dom': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n      '@types/react-dom':\n        optional: true\n\n  '@radix-ui/react-roving-focus@1.1.11':\n    resolution: {integrity: sha512-7A6S9jSgm/S+7MdtNDSb+IU859vQqJ/QAtcYQcfFC6W8RS4IxIZDldLR0xqCFZ6DCyrQLjLPsxtTNch5jVA4lA==}\n    peerDependencies:\n      '@types/react': '*'\n      '@types/react-dom': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n      '@types/react-dom':\n        optional: true\n\n  '@radix-ui/react-scroll-area@1.2.10':\n    resolution: {integrity: sha512-tAXIa1g3sM5CGpVT0uIbUx/U3Gs5N8T52IICuCtObaos1S8fzsrPXG5WObkQN3S6NVl6wKgPhAIiBGbWnvc97A==}\n    peerDependencies:\n      '@types/react': '*'\n      '@types/react-dom': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n      '@types/react-dom':\n        optional: true\n\n  '@radix-ui/react-select@2.2.6':\n    resolution: {integrity: sha512-I30RydO+bnn2PQztvo25tswPH+wFBjehVGtmagkU78yMdwTwVf12wnAOF+AeP8S2N8xD+5UPbGhkUfPyvT+mwQ==}\n    peerDependencies:\n      '@types/react': '*'\n      '@types/react-dom': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n      '@types/react-dom':\n        optional: true\n\n  '@radix-ui/react-separator@1.1.7':\n    resolution: {integrity: sha512-0HEb8R9E8A+jZjvmFCy/J4xhbXy3TV+9XSnGJ3KvTtjlIUy/YQ/p6UYZvi7YbeoeXdyU9+Y3scizK6hkY37baA==}\n    peerDependencies:\n      '@types/react': '*'\n      '@types/react-dom': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n      '@types/react-dom':\n        optional: true\n\n  '@radix-ui/react-slider@1.3.6':\n    resolution: {integrity: sha512-JPYb1GuM1bxfjMRlNLE+BcmBC8onfCi60Blk7OBqi2MLTFdS+8401U4uFjnwkOr49BLmXxLC6JHkvAsx5OJvHw==}\n    peerDependencies:\n      '@types/react': '*'\n      '@types/react-dom': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n      '@types/react-dom':\n        optional: true\n\n  '@radix-ui/react-slot@1.2.3':\n    resolution: {integrity: sha512-aeNmHnBxbi2St0au6VBVC7JXFlhLlOnvIIlePNniyUNAClzmtAUEY8/pBiK3iHjufOlwA+c20/8jngo7xcrg8A==}\n    peerDependencies:\n      '@types/react': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n\n  '@radix-ui/react-switch@1.2.6':\n    resolution: {integrity: sha512-bByzr1+ep1zk4VubeEVViV592vu2lHE2BZY5OnzehZqOOgogN80+mNtCqPkhn2gklJqOpxWgPoYTSnhBCqpOXQ==}\n    peerDependencies:\n      '@types/react': '*'\n      '@types/react-dom': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n      '@types/react-dom':\n        optional: true\n\n  '@radix-ui/react-tabs@1.1.13':\n    resolution: {integrity: sha512-7xdcatg7/U+7+Udyoj2zodtI9H/IIopqo+YOIcZOq1nJwXWBZ9p8xiu5llXlekDbZkca79a/fozEYQXIA4sW6A==}\n    peerDependencies:\n      '@types/react': '*'\n      '@types/react-dom': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n      '@types/react-dom':\n        optional: true\n\n  '@radix-ui/react-toast@1.2.15':\n    resolution: {integrity: sha512-3OSz3TacUWy4WtOXV38DggwxoqJK4+eDkNMl5Z/MJZaoUPaP4/9lf81xXMe1I2ReTAptverZUpbPY4wWwWyL5g==}\n    peerDependencies:\n      '@types/react': '*'\n      '@types/react-dom': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n      '@types/react-dom':\n        optional: true\n\n  '@radix-ui/react-toggle-group@1.1.11':\n    resolution: {integrity: sha512-5umnS0T8JQzQT6HbPyO7Hh9dgd82NmS36DQr+X/YJ9ctFNCiiQd6IJAYYZ33LUwm8M+taCz5t2ui29fHZc4Y6Q==}\n    peerDependencies:\n      '@types/react': '*'\n      '@types/react-dom': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n      '@types/react-dom':\n        optional: true\n\n  '@radix-ui/react-toggle@1.1.10':\n    resolution: {integrity: sha512-lS1odchhFTeZv3xwHH31YPObmJn8gOg7Lq12inrr0+BH/l3Tsq32VfjqH1oh80ARM3mlkfMic15n0kg4sD1poQ==}\n    peerDependencies:\n      '@types/react': '*'\n      '@types/react-dom': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n      '@types/react-dom':\n        optional: true\n\n  '@radix-ui/react-tooltip@1.2.8':\n    resolution: {integrity: sha512-tY7sVt1yL9ozIxvmbtN5qtmH2krXcBCfjEiCgKGLqunJHvgvZG2Pcl2oQ3kbcZARb1BGEHdkLzcYGO8ynVlieg==}\n    peerDependencies:\n      '@types/react': '*'\n      '@types/react-dom': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n      '@types/react-dom':\n        optional: true\n\n  '@radix-ui/react-use-callback-ref@1.1.1':\n    resolution: {integrity: sha512-FkBMwD+qbGQeMu1cOHnuGB6x4yzPjho8ap5WtbEJ26umhgqVXbhekKUQO+hZEL1vU92a3wHwdp0HAcqAUF5iDg==}\n    peerDependencies:\n      '@types/react': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n\n  '@radix-ui/react-use-controllable-state@1.2.2':\n    resolution: {integrity: sha512-BjasUjixPFdS+NKkypcyyN5Pmg83Olst0+c6vGov0diwTEo6mgdqVR6hxcEgFuh4QrAs7Rc+9KuGJ9TVCj0Zzg==}\n    peerDependencies:\n      '@types/react': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n\n  '@radix-ui/react-use-effect-event@0.0.2':\n    resolution: {integrity: sha512-Qp8WbZOBe+blgpuUT+lw2xheLP8q0oatc9UpmiemEICxGvFLYmHm9QowVZGHtJlGbS6A6yJ3iViad/2cVjnOiA==}\n    peerDependencies:\n      '@types/react': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n\n  '@radix-ui/react-use-escape-keydown@1.1.1':\n    resolution: {integrity: sha512-Il0+boE7w/XebUHyBjroE+DbByORGR9KKmITzbR7MyQ4akpORYP/ZmbhAr0DG7RmmBqoOnZdy2QlvajJ2QA59g==}\n    peerDependencies:\n      '@types/react': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n\n  '@radix-ui/react-use-is-hydrated@0.1.0':\n    resolution: {integrity: sha512-U+UORVEq+cTnRIaostJv9AGdV3G6Y+zbVd+12e18jQ5A3c0xL03IhnHuiU4UV69wolOQp5GfR58NW/EgdQhwOA==}\n    peerDependencies:\n      '@types/react': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n\n  '@radix-ui/react-use-layout-effect@1.1.1':\n    resolution: {integrity: sha512-RbJRS4UWQFkzHTTwVymMTUv8EqYhOp8dOOviLj2ugtTiXRaRQS7GLGxZTLL1jWhMeoSCf5zmcZkqTl9IiYfXcQ==}\n    peerDependencies:\n      '@types/react': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n\n  '@radix-ui/react-use-previous@1.1.1':\n    resolution: {integrity: sha512-2dHfToCj/pzca2Ck724OZ5L0EVrr3eHRNsG/b3xQJLA2hZpVCS99bLAX+hm1IHXDEnzU6by5z/5MIY794/a8NQ==}\n    peerDependencies:\n      '@types/react': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n\n  '@radix-ui/react-use-rect@1.1.1':\n    resolution: {integrity: sha512-QTYuDesS0VtuHNNvMh+CjlKJ4LJickCMUAqjlE3+j8w+RlRpwyX3apEQKGFzbZGdo7XNG1tXa+bQqIE7HIXT2w==}\n    peerDependencies:\n      '@types/react': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n\n  '@radix-ui/react-use-size@1.1.1':\n    resolution: {integrity: sha512-ewrXRDTAqAXlkl6t/fkXWNAhFX9I+CkKlw6zjEwk86RSPKwZr3xpBRso655aqYafwtnbpHLj6toFzmd6xdVptQ==}\n    peerDependencies:\n      '@types/react': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n\n  '@radix-ui/react-visually-hidden@1.2.3':\n    resolution: {integrity: sha512-pzJq12tEaaIhqjbzpCuv/OypJY/BPavOofm+dbab+MHLajy277+1lLm6JFcGgF5eskJ6mquGirhXY2GD/8u8Ug==}\n    peerDependencies:\n      '@types/react': '*'\n      '@types/react-dom': '*'\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n      '@types/react-dom':\n        optional: true\n\n  '@radix-ui/rect@1.1.1':\n    resolution: {integrity: sha512-HPwpGIzkl28mWyZqG52jiqDJ12waP11Pa1lGoiyUkIEuMLBP0oeK/C89esbXrxsky5we7dfd8U58nm0SgAWpVw==}\n\n  '@reduxjs/toolkit@2.9.0':\n    resolution: {integrity: sha512-fSfQlSRu9Z5yBkvsNhYF2rPS8cGXn/TZVrlwN1948QyZ8xMZ0JvP50S2acZNaf+o63u6aEeMjipFyksjIcWrog==}\n    peerDependencies:\n      react: ^16.9.0 || ^17.0.0 || ^18 || ^19\n      react-redux: ^7.2.1 || ^8.1.3 || ^9.0.0\n    peerDependenciesMeta:\n      react:\n        optional: true\n      react-redux:\n        optional: true\n\n  '@standard-schema/spec@1.0.0':\n    resolution: {integrity: sha512-m2bOd0f2RT9k8QJx1JN85cZYyH1RqFBdlwtkSlf4tBDYLCiiZnv1fIIwacK6cqwXavOydf0NPToMQgpKq+dVlA==}\n\n  '@standard-schema/utils@0.3.0':\n    resolution: {integrity: sha512-e7Mew686owMaPJVNNLs55PUvgz371nKgwsc4vxE49zsODpJEnxgxRo2y/OKrqueavXgZNMDVj3DdHFlaSAeU8g==}\n\n  '@swc/counter@0.1.3':\n    resolution: {integrity: sha512-e2BR4lsJkkRlKZ/qCHPw9ZaSxc0MVUd7gtbtaB7aMvHeJVYe8sOB8DBZkP2DtISHGSku9sCK6T6cnY0CtXrOCQ==}\n\n  '@swc/helpers@0.5.15':\n    resolution: {integrity: sha512-JQ5TuMi45Owi4/BIMAJBoSQoOJu12oOk/gADqlcUL9JEdHB8vyjUSsxqeNXnmXHjYKMi2WcYtezGEEhqUI/E2g==}\n\n  '@tailwindcss/node@4.1.9':\n    resolution: {integrity: sha512-ZFsgw6lbtcZKYPWvf6zAuCVSuer7UQ2Z5P8BETHcpA4x/3NwOjAIXmRnYfG77F14f9bPeuR4GaNz3ji1JkQMeQ==}\n\n  '@tailwindcss/oxide-android-arm64@4.1.9':\n    resolution: {integrity: sha512-X4mBUUJ3DPqODhtdT5Ju55feJwBN+hP855Z7c0t11Jzece9KRtdM41ljMrCcureKMh96mcOh2gxahkp1yE+BOQ==}\n    engines: {node: '>= 10'}\n    cpu: [arm64]\n    os: [android]\n\n  '@tailwindcss/oxide-darwin-arm64@4.1.9':\n    resolution: {integrity: sha512-jnWnqz71ZLXUbJLW53m9dSQakLBfaWxAd9TAibimrNdQfZKyie+xGppdDCZExtYwUdflt3kOT9y1JUgYXVEQmw==}\n    engines: {node: '>= 10'}\n    cpu: [arm64]\n    os: [darwin]\n\n  '@tailwindcss/oxide-darwin-x64@4.1.9':\n    resolution: {integrity: sha512-+Ui6LlvZ6aCPvSwv3l16nYb6gu1N6RamFz7hSu5aqaiPrDQqD1LPT/e8r2/laSVwFjRyOZxQQ/gvGxP3ihA2rw==}\n    engines: {node: '>= 10'}\n    cpu: [x64]\n    os: [darwin]\n\n  '@tailwindcss/oxide-freebsd-x64@4.1.9':\n    resolution: {integrity: sha512-BWqCh0uoXMprwWfG7+oyPW53VCh6G08pxY0IIN/i5DQTpPnCJ4zm2W8neH9kW1v1f6RXP3b2qQjAzrAcnQ5e9w==}\n    engines: {node: '>= 10'}\n    cpu: [x64]\n    os: [freebsd]\n\n  '@tailwindcss/oxide-linux-arm-gnueabihf@4.1.9':\n    resolution: {integrity: sha512-U8itjQb5TVc80aV5Yo+JtKo+qS95CV4XLrKEtSLQFoTD/c9j3jk4WZipYT+9Jxqem29qCMRPxjEZ3s+wTT4XCw==}\n    engines: {node: '>= 10'}\n    cpu: [arm]\n    os: [linux]\n\n  '@tailwindcss/oxide-linux-arm64-gnu@4.1.9':\n    resolution: {integrity: sha512-dKlGraoNvyTrR7ovLw3Id9yTwc+l0NYg8bwOkYqk+zltvGns8bPvVr6PH5jATdc75kCGd6kDRmP4p1LwqCnPJQ==}\n    engines: {node: '>= 10'}\n    cpu: [arm64]\n    os: [linux]\n\n  '@tailwindcss/oxide-linux-arm64-musl@4.1.9':\n    resolution: {integrity: sha512-qCZ4QTrZaBEgNM13pGjvakdmid1Kw3CUCEQzgVAn64Iud7zSxOGwK1usg+hrwrOfFH7vXZZr8OhzC8fJTRq5NA==}\n    engines: {node: '>= 10'}\n    cpu: [arm64]\n    os: [linux]\n\n  '@tailwindcss/oxide-linux-x64-gnu@4.1.9':\n    resolution: {integrity: sha512-bmzkAWQjRlY9udmg/a1bOtZpV14ZCdrB74PZrd7Oz/wK62Rk+m9+UV3BsgGfOghyO5Qu5ZDciADzDMZbi9n1+g==}\n    engines: {node: '>= 10'}\n    cpu: [x64]\n    os: [linux]\n\n  '@tailwindcss/oxide-linux-x64-musl@4.1.9':\n    resolution: {integrity: sha512-NpvPQsXj1raDHhd+g2SUvZQoTPWfYAsyYo9h4ZqV7EOmR+aj7LCAE5hnXNnrJ5Egy/NiO3Hs7BNpSbsPEOpORg==}\n    engines: {node: '>= 10'}\n    cpu: [x64]\n    os: [linux]\n\n  '@tailwindcss/oxide-wasm32-wasi@4.1.9':\n    resolution: {integrity: sha512-G93Yuf3xrpTxDUCSh685d1dvOkqOB0Gy+Bchv9Zy3k+lNw/9SEgsHit50xdvp1/p9yRH2TeDHJeDLUiV4mlTkA==}\n    engines: {node: '>=14.0.0'}\n    cpu: [wasm32]\n    bundledDependencies:\n      - '@napi-rs/wasm-runtime'\n      - '@emnapi/core'\n      - '@emnapi/runtime'\n      - '@tybys/wasm-util'\n      - '@emnapi/wasi-threads'\n      - tslib\n\n  '@tailwindcss/oxide-win32-arm64-msvc@4.1.9':\n    resolution: {integrity: sha512-Eq9FZzZe/NPkUiSMY+eY7r5l7msuFlm6wC6lnV11m8885z0vs9zx48AKTfw0UbVecTRV5wMxKb3Kmzx2LoUIWg==}\n    engines: {node: '>= 10'}\n    cpu: [arm64]\n    os: [win32]\n\n  '@tailwindcss/oxide-win32-x64-msvc@4.1.9':\n    resolution: {integrity: sha512-oZ4zkthMXMJN2w/vu3jEfuqWTW7n8giGYDV/SfhBGRNehNMOBqh3YUAEv+8fv2YDJEzL4JpXTNTiSXW3UiUwBw==}\n    engines: {node: '>= 10'}\n    cpu: [x64]\n    os: [win32]\n\n  '@tailwindcss/oxide@4.1.9':\n    resolution: {integrity: sha512-oqjNxOBt1iNRAywjiH+VFsfovx/hVt4mxe0kOkRMAbbcCwbJg5e2AweFqyGN7gtmE1TJXnvnyX7RWTR1l72ciQ==}\n    engines: {node: '>= 10'}\n\n  '@tailwindcss/postcss@4.1.9':\n    resolution: {integrity: sha512-v3DKzHibZO8ioVDmuVHCW1PR0XSM7nS40EjZFJEA1xPuvTuQPaR5flE1LyikU3hu2u1KNWBtEaSe8qsQjX3tyg==}\n\n  '@types/d3-array@3.2.2':\n    resolution: {integrity: sha512-hOLWVbm7uRza0BYXpIIW5pxfrKe0W+D5lrFiAEYR+pb6w3N2SwSMaJbXdUfSEv+dT4MfHBLtn5js0LAWaO6otw==}\n\n  '@types/d3-color@3.1.3':\n    resolution: {integrity: sha512-iO90scth9WAbmgv7ogoq57O9YpKmFBbmoEoCHDB2xMBY0+/KVrqAaCDyCE16dUspeOvIxFFRI+0sEtqDqy2b4A==}\n\n  '@types/d3-ease@3.0.2':\n    resolution: {integrity: sha512-NcV1JjO5oDzoK26oMzbILE6HW7uVXOHLQvHshBUW4UMdZGfiY6v5BeQwh9a9tCzv+CeefZQHJt5SRgK154RtiA==}\n\n  '@types/d3-interpolate@3.0.4':\n    resolution: {integrity: sha512-mgLPETlrpVV1YRJIglr4Ez47g7Yxjl1lj7YKsiMCb27VJH9W8NVM6Bb9d8kkpG/uAQS5AmbA48q2IAolKKo1MA==}\n\n  '@types/d3-path@3.1.1':\n    resolution: {integrity: sha512-VMZBYyQvbGmWyWVea0EHs/BwLgxc+MKi1zLDCONksozI4YJMcTt8ZEuIR4Sb1MMTE8MMW49v0IwI5+b7RmfWlg==}\n\n  '@types/d3-scale@4.0.9':\n    resolution: {integrity: sha512-dLmtwB8zkAeO/juAMfnV+sItKjlsw2lKdZVVy6LRr0cBmegxSABiLEpGVmSJJ8O08i4+sGR6qQtb6WtuwJdvVw==}\n\n  '@types/d3-shape@3.1.7':\n    resolution: {integrity: sha512-VLvUQ33C+3J+8p+Daf+nYSOsjB4GXp19/S/aGo60m9h1v6XaxjiT82lKVWJCfzhtuZ3yD7i/TPeC/fuKLLOSmg==}\n\n  '@types/d3-time@3.0.4':\n    resolution: {integrity: sha512-yuzZug1nkAAaBlBBikKZTgzCeA+k1uy4ZFwWANOfKw5z5LRhV0gNA7gNkKm7HoK+HRN0wX3EkxGk0fpbWhmB7g==}\n\n  '@types/d3-timer@3.0.2':\n    resolution: {integrity: sha512-Ps3T8E8dZDam6fUyNiMkekK3XUsaUEik+idO9/YjPtfj2qruF8tFBXS7XhtE4iIXBLxhmLjP3SXpLhVf21I9Lw==}\n\n  '@types/node@22.0.0':\n    resolution: {integrity: sha512-VT7KSYudcPOzP5Q0wfbowyNLaVR8QWUdw+088uFWwfvpY6uCWaXpqV6ieLAu9WBcnTa7H4Z5RLK8I5t2FuOcqw==}\n\n  '@types/react-dom@19.0.0':\n    resolution: {integrity: sha512-1KfiQKsH1o00p9m5ag12axHQSb3FOU9H20UTrujVSkNhuCrRHiQWFqgEnTNK5ZNfnzZv8UWrnXVqCmCF9fgY3w==}\n\n  '@types/react@19.0.0':\n    resolution: {integrity: sha512-MY3oPudxvMYyesqs/kW1Bh8y9VqSmf+tzqw3ae8a9DZW68pUe3zAdHeI1jc6iAysuRdACnVknHP8AhwD4/dxtg==}\n\n  '@types/use-sync-external-store@0.0.6':\n    resolution: {integrity: sha512-zFDAD+tlpf2r4asuHEj0XH6pY6i0g5NeAHPn+15wk3BV6JA69eERFXC1gyGThDkVa1zCyKr5jox1+2LbV/AMLg==}\n\n  '@vercel/analytics@1.5.0':\n    resolution: {integrity: sha512-MYsBzfPki4gthY5HnYN7jgInhAZ7Ac1cYDoRWFomwGHWEX7odTEzbtg9kf/QSo7XEsEAqlQugA6gJ2WS2DEa3g==}\n    peerDependencies:\n      '@remix-run/react': ^2\n      '@sveltejs/kit': ^1 || ^2\n      next: '>= 13'\n      react: ^18 || ^19 || ^19.0.0-rc\n      svelte: '>= 4'\n      vue: ^3\n      vue-router: ^4\n    peerDependenciesMeta:\n      '@remix-run/react':\n        optional: true\n      '@sveltejs/kit':\n        optional: true\n      next:\n        optional: true\n      react:\n        optional: true\n      svelte:\n        optional: true\n      vue:\n        optional: true\n      vue-router:\n        optional: true\n\n  aria-hidden@1.2.6:\n    resolution: {integrity: sha512-ik3ZgC9dY/lYVVM++OISsaYDeg1tb0VtP5uL3ouh1koGOaUMDPpbFIei4JkFimWUFPn90sbMNMXQAIVOlnYKJA==}\n    engines: {node: '>=10'}\n\n  autoprefixer@10.4.20:\n    resolution: {integrity: sha512-XY25y5xSv/wEoqzDyXXME4AFfkZI0P23z6Fs3YgymDnKJkCGOnkL0iTxCa85UTqaSgfcqyf3UA6+c7wUvx/16g==}\n    engines: {node: ^10 || ^12 || >=14}\n    hasBin: true\n    peerDependencies:\n      postcss: ^8.1.0\n\n  baseline-browser-mapping@2.8.16:\n    resolution: {integrity: sha512-OMu3BGQ4E7P1ErFsIPpbJh0qvDudM/UuJeHgkAvfWe+0HFJCXh+t/l8L6fVLR55RI/UbKrVLnAXZSVwd9ysWYw==}\n    hasBin: true\n\n  browserslist@4.26.3:\n    resolution: {integrity: sha512-lAUU+02RFBuCKQPj/P6NgjlbCnLBMp4UtgTx7vNHd3XSIJF87s9a5rA3aH2yw3GS9DqZAUbOtZdCCiZeVRqt0w==}\n    engines: {node: ^6 || ^7 || ^8 || ^9 || ^10 || ^11 || ^12 || >=13.7}\n    hasBin: true\n\n  busboy@1.6.0:\n    resolution: {integrity: sha512-8SFQbg/0hQ9xy3UNTB0YEnsNBbWfhf7RtnzpL7TkBiTBRfrQ9Fxcnz7VJsleJpyp6rVLvXiuORqjlHi5q+PYuA==}\n    engines: {node: '>=10.16.0'}\n\n  caniuse-lite@1.0.30001750:\n    resolution: {integrity: sha512-cuom0g5sdX6rw00qOoLNSFCJ9/mYIsuSOA+yzpDw8eopiFqcVwQvZHqov0vmEighRxX++cfC0Vg1G+1Iy/mSpQ==}\n\n  chownr@3.0.0:\n    resolution: {integrity: sha512-+IxzY9BZOQd/XuYPRmrvEVjF/nqj5kgT4kEq7VofrDoM1MxoRjEWkrCC3EtLi59TVawxTAn+orJwFQcrqEN1+g==}\n    engines: {node: '>=18'}\n\n  class-variance-authority@0.7.1:\n    resolution: {integrity: sha512-Ka+9Trutv7G8M6WT6SeiRWz792K5qEqIGEGzXKhAE6xOWAY6pPH8U+9IY3oCMv6kqTmLsv7Xh/2w2RigkePMsg==}\n\n  client-only@0.0.1:\n    resolution: {integrity: sha512-IV3Ou0jSMzZrd3pZ48nLkT9DA7Ag1pnPzaiQhpW7c3RbcqqzvzzVu+L8gfqMp/8IM2MQtSiqaCxrrcfu8I8rMA==}\n\n  clsx@2.1.1:\n    resolution: {integrity: sha512-eYm0QWBtUrBWZWG0d386OGAw16Z995PiOVo2B7bjWSbHedGl5e0ZWaq65kOGgUSNesEIDkB9ISbTg/JK9dhCZA==}\n    engines: {node: '>=6'}\n\n  cmdk@1.1.1:\n    resolution: {integrity: sha512-Vsv7kFaXm+ptHDMZ7izaRsP70GgrW9NBNGswt9OZaVBLlE0SNpDq8eu/VGXyF9r7M0azK3Wy7OlYXsuyYLFzHg==}\n    peerDependencies:\n      react: ^18 || ^19 || ^19.0.0-rc\n      react-dom: ^18 || ^19 || ^19.0.0-rc\n\n  color-convert@2.0.1:\n    resolution: {integrity: sha512-RRECPsj7iu/xb5oKYcsFHSppFNnsj/52OVTRKb4zP5onXwVF3zVmmToNcOfGC+CRDpfK/U584fMg38ZHCaElKQ==}\n    engines: {node: '>=7.0.0'}\n\n  color-name@1.1.4:\n    resolution: {integrity: sha512-dOy+3AuW3a2wNbZHIuMZpTcgjGuLU/uBL/ubcZF9OXbDo8ff4O8yVp5Bf0efS8uEoYo5q4Fx7dY9OgQGXgAsQA==}\n\n  color-string@1.9.1:\n    resolution: {integrity: sha512-shrVawQFojnZv6xM40anx4CkoDP+fZsw/ZerEMsW/pyzsRbElpsL/DBVW7q3ExxwusdNXI3lXpuhEZkzs8p5Eg==}\n\n  color@4.2.3:\n    resolution: {integrity: sha512-1rXeuUUiGGrykh+CeBdu5Ie7OJwinCgQY0bc7GCRxy5xVHy+moaqkpL/jqQq0MtQOeYcrqEz4abc5f0KtU7W4A==}\n    engines: {node: '>=12.5.0'}\n\n  csstype@3.1.3:\n    resolution: {integrity: sha512-M1uQkMl8rQK/szD0LNhtqxIPLpimGm8sOBwU7lLnCpSbTyY3yeU1Vc7l4KT5zT4s/yOxHH5O7tIuuLOCnLADRw==}\n\n  d3-array@3.2.4:\n    resolution: {integrity: sha512-tdQAmyA18i4J7wprpYq8ClcxZy3SC31QMeByyCFyRt7BVHdREQZ5lpzoe5mFEYZUWe+oq8HBvk9JjpibyEV4Jg==}\n    engines: {node: '>=12'}\n\n  d3-color@3.1.0:\n    resolution: {integrity: sha512-zg/chbXyeBtMQ1LbD/WSoW2DpC3I0mpmPdW+ynRTj/x2DAWYrIY7qeZIHidozwV24m4iavr15lNwIwLxRmOxhA==}\n    engines: {node: '>=12'}\n\n  d3-ease@3.0.1:\n    resolution: {integrity: sha512-wR/XK3D3XcLIZwpbvQwQ5fK+8Ykds1ip7A2Txe0yxncXSdq1L9skcG7blcedkOX+ZcgxGAmLX1FrRGbADwzi0w==}\n    engines: {node: '>=12'}\n\n  d3-format@3.1.0:\n    resolution: {integrity: sha512-YyUI6AEuY/Wpt8KWLgZHsIU86atmikuoOmCfommt0LYHiQSPjvX2AcFc38PX0CBpr2RCyZhjex+NS/LPOv6YqA==}\n    engines: {node: '>=12'}\n\n  d3-interpolate@3.0.1:\n    resolution: {integrity: sha512-3bYs1rOD33uo8aqJfKP3JWPAibgw8Zm2+L9vBKEHJ2Rg+viTR7o5Mmv5mZcieN+FRYaAOWX5SJATX6k1PWz72g==}\n    engines: {node: '>=12'}\n\n  d3-path@3.1.0:\n    resolution: {integrity: sha512-p3KP5HCf/bvjBSSKuXid6Zqijx7wIfNW+J/maPs+iwR35at5JCbLUT0LzF1cnjbCHWhqzQTIN2Jpe8pRebIEFQ==}\n    engines: {node: '>=12'}\n\n  d3-scale@4.0.2:\n    resolution: {integrity: sha512-GZW464g1SH7ag3Y7hXjf8RoUuAFIqklOAq3MRl4OaWabTFJY9PN/E1YklhXLh+OQ3fM9yS2nOkCoS+WLZ6kvxQ==}\n    engines: {node: '>=12'}\n\n  d3-shape@3.2.0:\n    resolution: {integrity: sha512-SaLBuwGm3MOViRq2ABk3eLoxwZELpH6zhl3FbAoJ7Vm1gofKx6El1Ib5z23NUEhF9AsGl7y+dzLe5Cw2AArGTA==}\n    engines: {node: '>=12'}\n\n  d3-time-format@4.1.0:\n    resolution: {integrity: sha512-dJxPBlzC7NugB2PDLwo9Q8JiTR3M3e4/XANkreKSUxF8vvXKqm1Yfq4Q5dl8budlunRVlUUaDUgFt7eA8D6NLg==}\n    engines: {node: '>=12'}\n\n  d3-time@3.1.0:\n    resolution: {integrity: sha512-VqKjzBLejbSMT4IgbmVgDjpkYrNWUYJnbCGo874u7MMKIWsILRX+OpX/gTk8MqjpT1A/c6HY2dCA77ZN0lkQ2Q==}\n    engines: {node: '>=12'}\n\n  d3-timer@3.0.1:\n    resolution: {integrity: sha512-ndfJ/JxxMd3nw31uyKoY2naivF+r29V+Lc0svZxe1JvvIRmi8hUsrMvdOwgS1o6uBHmiz91geQ0ylPP0aj1VUA==}\n    engines: {node: '>=12'}\n\n  date-fns-jalali@4.1.0-0:\n    resolution: {integrity: sha512-hTIP/z+t+qKwBDcmmsnmjWTduxCg+5KfdqWQvb2X/8C9+knYY6epN/pfxdDuyVlSVeFz0sM5eEfwIUQ70U4ckg==}\n\n  date-fns@4.1.0:\n    resolution: {integrity: sha512-Ukq0owbQXxa/U3EGtsdVBkR1w7KOQ5gIBqdH2hkvknzZPYvBxb/aa6E8L7tmjFtkwZBu3UXBbjIgPo/Ez4xaNg==}\n\n  decimal.js-light@2.5.1:\n    resolution: {integrity: sha512-qIMFpTMZmny+MMIitAB6D7iVPEorVw6YQRWkvarTkT4tBeSLLiHzcwj6q0MmYSFCiVpiqPJTJEYIrpcPzVEIvg==}\n\n  detect-libc@2.1.2:\n    resolution: {integrity: sha512-Btj2BOOO83o3WyH59e8MgXsxEQVcarkUOpEYrubB0urwnN10yQ364rsiByU11nZlqWYZm05i/of7io4mzihBtQ==}\n    engines: {node: '>=8'}\n\n  detect-node-es@1.1.0:\n    resolution: {integrity: sha512-ypdmJU/TbBby2Dxibuv7ZLW3Bs1QEmM7nHjEANfohJLvE0XVujisn1qPJcZxg+qDucsr+bP6fLD1rPS3AhJ7EQ==}\n\n  electron-to-chromium@1.5.234:\n    resolution: {integrity: sha512-RXfEp2x+VRYn8jbKfQlRImzoJU01kyDvVPBmG39eU2iuRVhuS6vQNocB8J0/8GrIMLnPzgz4eW6WiRnJkTuNWg==}\n\n  embla-carousel-react@8.6.0:\n    resolution: {integrity: sha512-0/PjqU7geVmo6F734pmPqpyHqiM99olvyecY7zdweCw+6tKEXnrE90pBiBbMMU8s5tICemzpQ3hi5EpxzGW+JA==}\n    peerDependencies:\n      react: ^16.8.0 || ^17.0.1 || ^18.0.0 || ^19.0.0 || ^19.0.0-rc\n\n  embla-carousel-reactive-utils@8.6.0:\n    resolution: {integrity: sha512-fMVUDUEx0/uIEDM0Mz3dHznDhfX+znCCDCeIophYb1QGVM7YThSWX+wz11zlYwWFOr74b4QLGg0hrGPJeG2s4A==}\n    peerDependencies:\n      embla-carousel: 8.6.0\n\n  embla-carousel@8.6.0:\n    resolution: {integrity: sha512-SjWyZBHJPbqxHOzckOfo8lHisEaJWmwd23XppYFYVh10bU66/Pn5tkVkbkCMZVdbUE5eTCI2nD8OyIP4Z+uwkA==}\n\n  enhanced-resolve@5.18.3:\n    resolution: {integrity: sha512-d4lC8xfavMeBjzGr2vECC3fsGXziXZQyJxD868h2M/mBI3PwAuODxAkLkq5HYuvrPYcUtiLzsTo8U3PgX3Ocww==}\n    engines: {node: '>=10.13.0'}\n\n  es-toolkit@1.40.0:\n    resolution: {integrity: sha512-8o6w0KFmU0CiIl0/Q/BCEOabF2IJaELM1T2PWj6e8KqzHv1gdx+7JtFnDwOx1kJH/isJ5NwlDG1nCr1HrRF94Q==}\n\n  escalade@3.2.0:\n    resolution: {integrity: sha512-WUj2qlxaQtO4g6Pq5c29GTcWGDyd8itL8zTlipgECz3JesAiiOKotd8JU6otB3PACgG6xkJUyVhboMS+bje/jA==}\n    engines: {node: '>=6'}\n\n  eventemitter3@5.0.1:\n    resolution: {integrity: sha512-GWkBvjiSZK87ELrYOSESUYeVIc9mvLLf/nXalMOS5dYrgZq9o5OVkbZAVM06CVxYsCwH9BDZFPlQTlPA1j4ahA==}\n\n  fancy-canvas@2.1.0:\n    resolution: {integrity: sha512-nifxXJ95JNLFR2NgRV4/MxVP45G9909wJTEKz5fg/TZS20JJZA6hfgRVh/bC9bwl2zBtBNcYPjiBE4njQHVBwQ==}\n\n  fraction.js@4.3.7:\n    resolution: {integrity: sha512-ZsDfxO51wGAXREY55a7la9LScWpwv9RxIrYABrlvOFBlH/ShPnrtsXeuUIfXKKOVicNxQ+o8JTbJvjS4M89yew==}\n\n  framer-motion@12.23.24:\n    resolution: {integrity: sha512-HMi5HRoRCTou+3fb3h9oTLyJGBxHfW+HnNE25tAXOvVx/IvwMHK0cx7IR4a2ZU6sh3IX1Z+4ts32PcYBOqka8w==}\n    peerDependencies:\n      '@emotion/is-prop-valid': '*'\n      react: ^18.0.0 || ^19.0.0\n      react-dom: ^18.0.0 || ^19.0.0\n    peerDependenciesMeta:\n      '@emotion/is-prop-valid':\n        optional: true\n      react:\n        optional: true\n      react-dom:\n        optional: true\n\n  geist@1.5.1:\n    resolution: {integrity: sha512-mAHZxIsL2o3ZITFaBVFBnwyDOw+zNLYum6A6nIjpzCGIO8QtC3V76XF2RnZTyLx1wlDTmMDy8jg3Ib52MIjGvQ==}\n    peerDependencies:\n      next: '>=13.2.0'\n\n  get-nonce@1.0.1:\n    resolution: {integrity: sha512-FJhYRoDaiatfEkUK8HKlicmu/3SGFD51q3itKDGoSTysQJBnfOcxU5GxnhE1E6soB76MbT0MBtnKJuXyAx+96Q==}\n    engines: {node: '>=6'}\n\n  graceful-fs@4.2.11:\n    resolution: {integrity: sha512-RbJ5/jmFcNNCcDV5o9eTnBLJ/HszWV0P73bc+Ff4nS/rJj+YaS6IGyiOL0VoBYX+l1Wrl3k63h/KrH+nhJ0XvQ==}\n\n  immer@10.1.3:\n    resolution: {integrity: sha512-tmjF/k8QDKydUlm3mZU+tjM6zeq9/fFpPqH9SzWmBnVVKsPBg/V66qsMwb3/Bo90cgUN+ghdVBess+hPsxUyRw==}\n\n  input-otp@1.4.2:\n    resolution: {integrity: sha512-l3jWwYNvrEa6NTCt7BECfCm48GvwuZzkoeG3gBL2w4CHeOXW3eKFmf9UNYkNfYc3mxMrthMnxjIE07MT0zLBQA==}\n    peerDependencies:\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0.0 || ^19.0.0-rc\n\n  internmap@2.0.3:\n    resolution: {integrity: sha512-5Hh7Y1wQbvY5ooGgPbDaL5iYLAPzMTUrjMulskHLH6wnv/A+1q5rgEaiuqEjB+oxGXIVZs1FF+R/KPN3ZSQYYg==}\n    engines: {node: '>=12'}\n\n  is-arrayish@0.3.4:\n    resolution: {integrity: sha512-m6UrgzFVUYawGBh1dUsWR5M2Clqic9RVXC/9f8ceNlv2IcO9j9J/z8UoCLPqtsPBFNzEpfR3xftohbfqDx8EQA==}\n\n  jiti@2.6.1:\n    resolution: {integrity: sha512-ekilCSN1jwRvIbgeg/57YFh8qQDNbwDb9xT/qu2DAHbFFZUicIl4ygVaAvzveMhMVr3LnpSKTNnwt8PoOfmKhQ==}\n    hasBin: true\n\n  lightningcss-darwin-arm64@1.30.1:\n    resolution: {integrity: sha512-c8JK7hyE65X1MHMN+Viq9n11RRC7hgin3HhYKhrMyaXflk5GVplZ60IxyoVtzILeKr+xAJwg6zK6sjTBJ0FKYQ==}\n    engines: {node: '>= 12.0.0'}\n    cpu: [arm64]\n    os: [darwin]\n\n  lightningcss-darwin-x64@1.30.1:\n    resolution: {integrity: sha512-k1EvjakfumAQoTfcXUcHQZhSpLlkAuEkdMBsI/ivWw9hL+7FtilQc0Cy3hrx0AAQrVtQAbMI7YjCgYgvn37PzA==}\n    engines: {node: '>= 12.0.0'}\n    cpu: [x64]\n    os: [darwin]\n\n  lightningcss-freebsd-x64@1.30.1:\n    resolution: {integrity: sha512-kmW6UGCGg2PcyUE59K5r0kWfKPAVy4SltVeut+umLCFoJ53RdCUWxcRDzO1eTaxf/7Q2H7LTquFHPL5R+Gjyig==}\n    engines: {node: '>= 12.0.0'}\n    cpu: [x64]\n    os: [freebsd]\n\n  lightningcss-linux-arm-gnueabihf@1.30.1:\n    resolution: {integrity: sha512-MjxUShl1v8pit+6D/zSPq9S9dQ2NPFSQwGvxBCYaBYLPlCWuPh9/t1MRS8iUaR8i+a6w7aps+B4N0S1TYP/R+Q==}\n    engines: {node: '>= 12.0.0'}\n    cpu: [arm]\n    os: [linux]\n\n  lightningcss-linux-arm64-gnu@1.30.1:\n    resolution: {integrity: sha512-gB72maP8rmrKsnKYy8XUuXi/4OctJiuQjcuqWNlJQ6jZiWqtPvqFziskH3hnajfvKB27ynbVCucKSm2rkQp4Bw==}\n    engines: {node: '>= 12.0.0'}\n    cpu: [arm64]\n    os: [linux]\n\n  lightningcss-linux-arm64-musl@1.30.1:\n    resolution: {integrity: sha512-jmUQVx4331m6LIX+0wUhBbmMX7TCfjF5FoOH6SD1CttzuYlGNVpA7QnrmLxrsub43ClTINfGSYyHe2HWeLl5CQ==}\n    engines: {node: '>= 12.0.0'}\n    cpu: [arm64]\n    os: [linux]\n\n  lightningcss-linux-x64-gnu@1.30.1:\n    resolution: {integrity: sha512-piWx3z4wN8J8z3+O5kO74+yr6ze/dKmPnI7vLqfSqI8bccaTGY5xiSGVIJBDd5K5BHlvVLpUB3S2YCfelyJ1bw==}\n    engines: {node: '>= 12.0.0'}\n    cpu: [x64]\n    os: [linux]\n\n  lightningcss-linux-x64-musl@1.30.1:\n    resolution: {integrity: sha512-rRomAK7eIkL+tHY0YPxbc5Dra2gXlI63HL+v1Pdi1a3sC+tJTcFrHX+E86sulgAXeI7rSzDYhPSeHHjqFhqfeQ==}\n    engines: {node: '>= 12.0.0'}\n    cpu: [x64]\n    os: [linux]\n\n  lightningcss-win32-arm64-msvc@1.30.1:\n    resolution: {integrity: sha512-mSL4rqPi4iXq5YVqzSsJgMVFENoa4nGTT/GjO2c0Yl9OuQfPsIfncvLrEW6RbbB24WtZ3xP/2CCmI3tNkNV4oA==}\n    engines: {node: '>= 12.0.0'}\n    cpu: [arm64]\n    os: [win32]\n\n  lightningcss-win32-x64-msvc@1.30.1:\n    resolution: {integrity: sha512-PVqXh48wh4T53F/1CCu8PIPCxLzWyCnn/9T5W1Jpmdy5h9Cwd+0YQS6/LwhHXSafuc61/xg9Lv5OrCby6a++jg==}\n    engines: {node: '>= 12.0.0'}\n    cpu: [x64]\n    os: [win32]\n\n  lightningcss@1.30.1:\n    resolution: {integrity: sha512-xi6IyHML+c9+Q3W0S4fCQJOym42pyurFiJUHEcEyHS0CeKzia4yZDEsLlqOFykxOdHpNy0NmvVO31vcSqAxJCg==}\n    engines: {node: '>= 12.0.0'}\n\n  lightweight-charts@5.0.9:\n    resolution: {integrity: sha512-8oQIis8jfZVfSwz8j9Z5x3O79dIRTkEYI9UY7DKtE4O3ZxlHjMK3L0+4nOVOOFq4FHI/oSIzz1RHeNImCk6/Jg==}\n\n  lucide-react@0.454.0:\n    resolution: {integrity: sha512-hw7zMDwykCLnEzgncEEjHeA6+45aeEzRYuKHuyRSOPkhko+J3ySGjGIzu+mmMfDFG1vazHepMaYFYHbTFAZAAQ==}\n    peerDependencies:\n      react: ^16.5.1 || ^17.0.0 || ^18.0.0 || ^19.0.0-rc\n\n  magic-string@0.30.19:\n    resolution: {integrity: sha512-2N21sPY9Ws53PZvsEpVtNuSW+ScYbQdp4b9qUaL+9QkHUrGFKo56Lg9Emg5s9V/qrtNBmiR01sYhUOwu3H+VOw==}\n\n  minipass@7.1.2:\n    resolution: {integrity: sha512-qOOzS1cBTWYF4BH8fVePDBOO9iptMnGUEZwNc/cMWnTV2nVLZ7VoNWEPHkYczZA0pdoA7dl6e7FL659nX9S2aw==}\n    engines: {node: '>=16 || 14 >=14.17'}\n\n  minizlib@3.1.0:\n    resolution: {integrity: sha512-KZxYo1BUkWD2TVFLr0MQoM8vUUigWD3LlD83a/75BqC+4qE0Hb1Vo5v1FgcfaNXvfXzr+5EhQ6ing/CaBijTlw==}\n    engines: {node: '>= 18'}\n\n  motion-dom@12.23.23:\n    resolution: {integrity: sha512-n5yolOs0TQQBRUFImrRfs/+6X4p3Q4n1dUEqt/H58Vx7OW6RF+foWEgmTVDhIWJIMXOuNNL0apKH2S16en9eiA==}\n\n  motion-utils@12.23.6:\n    resolution: {integrity: sha512-eAWoPgr4eFEOFfg2WjIsMoqJTW6Z8MTUCgn/GZ3VRpClWBdnbjryiA3ZSNLyxCTmCQx4RmYX6jX1iWHbenUPNQ==}\n\n  nanoid@3.3.11:\n    resolution: {integrity: sha512-N8SpfPUnUp1bK+PMYW8qSWdl9U+wwNWI4QKxOYDy9JAro3WMX7p2OeVRF9v+347pnakNevPmiHhNmZ2HbFA76w==}\n    engines: {node: ^10 || ^12 || ^13.7 || ^14 || >=15.0.1}\n    hasBin: true\n\n  next-themes@0.4.6:\n    resolution: {integrity: sha512-pZvgD5L0IEvX5/9GWyHMf3m8BKiVQwsCMHfoFosXtXBMnaS0ZnIJ9ST4b4NqLVKDEm8QBxoNNGNaBv2JNF6XNA==}\n    peerDependencies:\n      react: ^16.8 || ^17 || ^18 || ^19 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17 || ^18 || ^19 || ^19.0.0-rc\n\n  next@15.2.4:\n    resolution: {integrity: sha512-VwL+LAaPSxEkd3lU2xWbgEOtrM8oedmyhBqaVNmgKB+GvZlCy9rgaEc+y2on0wv+l0oSFqLtYD6dcC1eAedUaQ==}\n    engines: {node: ^18.18.0 || ^19.8.0 || >= 20.0.0}\n    hasBin: true\n    peerDependencies:\n      '@opentelemetry/api': ^1.1.0\n      '@playwright/test': ^1.41.2\n      babel-plugin-react-compiler: '*'\n      react: ^18.2.0 || 19.0.0-rc-de68d2f4-20241204 || ^19.0.0\n      react-dom: ^18.2.0 || 19.0.0-rc-de68d2f4-20241204 || ^19.0.0\n      sass: ^1.3.0\n    peerDependenciesMeta:\n      '@opentelemetry/api':\n        optional: true\n      '@playwright/test':\n        optional: true\n      babel-plugin-react-compiler:\n        optional: true\n      sass:\n        optional: true\n\n  node-releases@2.0.23:\n    resolution: {integrity: sha512-cCmFDMSm26S6tQSDpBCg/NR8NENrVPhAJSf+XbxBG4rPFaaonlEoE9wHQmun+cls499TQGSb7ZyPBRlzgKfpeg==}\n\n  normalize-range@0.1.2:\n    resolution: {integrity: sha512-bdok/XvKII3nUpklnV6P2hxtMNrCboOjAcyBuQnWEhO665FwrSNRxU+AqpsyvO6LgGYPspN+lu5CLtw4jPRKNA==}\n    engines: {node: '>=0.10.0'}\n\n  picocolors@1.1.1:\n    resolution: {integrity: sha512-xceH2snhtb5M9liqDsmEw56le376mTZkEX/jEb/RxNFyegNul7eNslCXP9FDj/Lcu0X8KEyMceP2ntpaHrDEVA==}\n\n  postcss-value-parser@4.2.0:\n    resolution: {integrity: sha512-1NNCs6uurfkVbeXG4S8JFT9t19m45ICnif8zWLd5oPSZ50QnwMfK+H3jv408d4jw/7Bttv5axS5IiHoLaVNHeQ==}\n\n  postcss@8.4.31:\n    resolution: {integrity: sha512-PS08Iboia9mts/2ygV3eLpY5ghnUcfLV/EXTOW1E2qYxJKGGBUtNjN76FYHnMs36RmARn41bC0AZmn+rR0OVpQ==}\n    engines: {node: ^10 || ^12 || >=14}\n\n  postcss@8.5.0:\n    resolution: {integrity: sha512-27VKOqrYfPncKA2NrFOVhP5MGAfHKLYn/Q0mz9cNQyRAKYi3VNHwYU2qKKqPCqgBmeeJ0uAFB56NumXZ5ZReXg==}\n    engines: {node: ^10 || ^12 || >=14}\n\n  react-day-picker@9.11.1:\n    resolution: {integrity: sha512-l3ub6o8NlchqIjPKrRFUCkTUEq6KwemQlfv3XZzzwpUeGwmDJ+0u0Upmt38hJyd7D/vn2dQoOoLV/qAp0o3uUw==}\n    engines: {node: '>=18'}\n    peerDependencies:\n      react: '>=16.8.0'\n\n  react-dom@19.0.0:\n    resolution: {integrity: sha512-4GV5sHFG0e/0AD4X+ySy6UJd3jVl1iNsNHdpad0qhABJ11twS3TTBnseqsKurKcsNqCEFeGL3uLpVChpIO3QfQ==}\n    peerDependencies:\n      react: ^19.0.0\n\n  react-hook-form@7.65.0:\n    resolution: {integrity: sha512-xtOzDz063WcXvGWaHgLNrNzlsdFgtUWcb32E6WFaGTd7kPZG3EeDusjdZfUsPwKCKVXy1ZlntifaHZ4l8pAsmw==}\n    engines: {node: '>=18.0.0'}\n    peerDependencies:\n      react: ^16.8.0 || ^17 || ^18 || ^19\n\n  react-is@19.2.0:\n    resolution: {integrity: sha512-x3Ax3kNSMIIkyVYhWPyO09bu0uttcAIoecO/um/rKGQ4EltYWVYtyiGkS/3xMynrbVQdS69Jhlv8FXUEZehlzA==}\n\n  react-redux@9.2.0:\n    resolution: {integrity: sha512-ROY9fvHhwOD9ySfrF0wmvu//bKCQ6AeZZq1nJNtbDC+kk5DuSuNX/n6YWYF/SYy7bSba4D4FSz8DJeKY/S/r+g==}\n    peerDependencies:\n      '@types/react': ^18.2.25 || ^19\n      react: ^18.0 || ^19\n      redux: ^5.0.0\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n      redux:\n        optional: true\n\n  react-remove-scroll-bar@2.3.8:\n    resolution: {integrity: sha512-9r+yi9+mgU33AKcj6IbT9oRCO78WriSj6t/cF8DWBZJ9aOGPOTEDvdUDz1FwKim7QXWwmHqtdHnRJfhAxEG46Q==}\n    engines: {node: '>=10'}\n    peerDependencies:\n      '@types/react': '*'\n      react: ^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n\n  react-remove-scroll@2.7.1:\n    resolution: {integrity: sha512-HpMh8+oahmIdOuS5aFKKY6Pyog+FNaZV/XyJOq7b4YFwsFHe5yYfdbIalI4k3vU2nSDql7YskmUseHsRrJqIPA==}\n    engines: {node: '>=10'}\n    peerDependencies:\n      '@types/react': '*'\n      react: ^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n\n  react-resizable-panels@3.0.6:\n    resolution: {integrity: sha512-b3qKHQ3MLqOgSS+FRYKapNkJZf5EQzuf6+RLiq1/IlTHw99YrZ2NJZLk4hQIzTnnIkRg2LUqyVinu6YWWpUYew==}\n    peerDependencies:\n      react: ^16.14.0 || ^17.0.0 || ^18.0.0 || ^19.0.0 || ^19.0.0-rc\n      react-dom: ^16.14.0 || ^17.0.0 || ^18.0.0 || ^19.0.0 || ^19.0.0-rc\n\n  react-style-singleton@2.2.3:\n    resolution: {integrity: sha512-b6jSvxvVnyptAiLjbkWLE/lOnR4lfTtDAl+eUC7RZy+QQWc6wRzIV2CE6xBuMmDxc2qIihtDCZD5NPOFl7fRBQ==}\n    engines: {node: '>=10'}\n    peerDependencies:\n      '@types/react': '*'\n      react: ^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n\n  react@19.0.0:\n    resolution: {integrity: sha512-V8AVnmPIICiWpGfm6GLzCR/W5FXLchHop40W4nXBmdlEceh16rCN8O8LNWm5bh5XUX91fh7KpA+W0TgMKmgTpQ==}\n    engines: {node: '>=0.10.0'}\n\n  recharts@3.2.1:\n    resolution: {integrity: sha512-0JKwHRiFZdmLq/6nmilxEZl3pqb4T+aKkOkOi/ZISRZwfBhVMgInxzlYU9D4KnCH3KINScLy68m/OvMXoYGZUw==}\n    engines: {node: '>=18'}\n    peerDependencies:\n      react: ^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0\n      react-dom: ^16.0.0 || ^17.0.0 || ^18.0.0 || ^19.0.0\n      react-is: ^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0\n\n  redux-thunk@3.1.0:\n    resolution: {integrity: sha512-NW2r5T6ksUKXCabzhL9z+h206HQw/NJkcLm1GPImRQ8IzfXwRGqjVhKJGauHirT0DAuyy6hjdnMZaRoAcy0Klw==}\n    peerDependencies:\n      redux: ^5.0.0\n\n  redux@5.0.1:\n    resolution: {integrity: sha512-M9/ELqF6fy8FwmkpnF0S3YKOqMyoWJ4+CS5Efg2ct3oY9daQvd/Pc71FpGZsVsbl3Cpb+IIcjBDUnnyBdQbq4w==}\n\n  reselect@5.1.1:\n    resolution: {integrity: sha512-K/BG6eIky/SBpzfHZv/dd+9JBFiS4SWV7FIujVyJRux6e45+73RaUHXLmIR1f7WOMaQ0U1km6qwklRQxpJJY0w==}\n\n  scheduler@0.25.0:\n    resolution: {integrity: sha512-xFVuu11jh+xcO7JOAGJNOXld8/TcEHK/4CituBUeUb5hqxJLj9YuemAEuvm9gQ/+pgXYfbQuqAkiYu+u7YEsNA==}\n\n  semver@7.7.3:\n    resolution: {integrity: sha512-SdsKMrI9TdgjdweUSR9MweHA4EJ8YxHn8DFaDisvhVlUOe4BF1tLD7GAj0lIqWVl+dPb/rExr0Btby5loQm20Q==}\n    engines: {node: '>=10'}\n    hasBin: true\n\n  sharp@0.33.5:\n    resolution: {integrity: sha512-haPVm1EkS9pgvHrQ/F3Xy+hgcuMV0Wm9vfIBSiwZ05k+xgb0PkBQpGsAA/oWdDobNaZTH5ppvHtzCFbnSEwHVw==}\n    engines: {node: ^18.17.0 || ^20.3.0 || >=21.0.0}\n\n  simple-swizzle@0.2.4:\n    resolution: {integrity: sha512-nAu1WFPQSMNr2Zn9PGSZK9AGn4t/y97lEm+MXTtUDwfP0ksAIX4nO+6ruD9Jwut4C49SB1Ws+fbXsm/yScWOHw==}\n\n  sonner@2.0.7:\n    resolution: {integrity: sha512-W6ZN4p58k8aDKA4XPcx2hpIQXBRAgyiWVkYhT7CvK6D3iAu7xjvVyhQHg2/iaKJZ1XVJ4r7XuwGL+WGEK37i9w==}\n    peerDependencies:\n      react: ^18.0.0 || ^19.0.0 || ^19.0.0-rc\n      react-dom: ^18.0.0 || ^19.0.0 || ^19.0.0-rc\n\n  source-map-js@1.2.1:\n    resolution: {integrity: sha512-UXWMKhLOwVKb728IUtQPXxfYU+usdybtUrK/8uGE8CQMvrhOpwvzDBwj0QhSL7MQc7vIsISBG8VQ8+IDQxpfQA==}\n    engines: {node: '>=0.10.0'}\n\n  streamsearch@1.1.0:\n    resolution: {integrity: sha512-Mcc5wHehp9aXz1ax6bZUyY5afg9u2rv5cqQI3mRrYkGC8rW2hM02jWuwjtL++LS5qinSyhj2QfLyNsuc+VsExg==}\n    engines: {node: '>=10.0.0'}\n\n  styled-jsx@5.1.6:\n    resolution: {integrity: sha512-qSVyDTeMotdvQYoHWLNGwRFJHC+i+ZvdBRYosOFgC+Wg1vx4frN2/RG/NA7SYqqvKNLf39P2LSRA2pu6n0XYZA==}\n    engines: {node: '>= 12.0.0'}\n    peerDependencies:\n      '@babel/core': '*'\n      babel-plugin-macros: '*'\n      react: '>= 16.8.0 || 17.x.x || ^18.0.0-0 || ^19.0.0-0'\n    peerDependenciesMeta:\n      '@babel/core':\n        optional: true\n      babel-plugin-macros:\n        optional: true\n\n  tailwind-merge@2.5.5:\n    resolution: {integrity: sha512-0LXunzzAZzo0tEPxV3I297ffKZPlKDrjj7NXphC8V5ak9yHC5zRmxnOe2m/Rd/7ivsOMJe3JZ2JVocoDdQTRBA==}\n\n  tailwindcss-animate@1.0.7:\n    resolution: {integrity: sha512-bl6mpH3T7I3UFxuvDEXLxy/VuFxBk5bbzplh7tXI68mwMokNYd1t9qPBHlnyTwfa4JGC4zP516I1hYYtQ/vspA==}\n    peerDependencies:\n      tailwindcss: '>=3.0.0 || insiders'\n\n  tailwindcss@4.1.9:\n    resolution: {integrity: sha512-anBZRcvfNMsQdHB9XSGzAtIQWlhs49uK75jfkwrqjRUbjt4d7q9RE1wR1xWyfYZhLFnFX4ahWp88Au2lcEw5IQ==}\n\n  tapable@2.3.0:\n    resolution: {integrity: sha512-g9ljZiwki/LfxmQADO3dEY1CbpmXT5Hm2fJ+QaGKwSXUylMybePR7/67YW7jOrrvjEgL1Fmz5kzyAjWVWLlucg==}\n    engines: {node: '>=6'}\n\n  tar@7.5.1:\n    resolution: {integrity: sha512-nlGpxf+hv0v7GkWBK2V9spgactGOp0qvfWRxUMjqHyzrt3SgwE48DIv/FhqPHJYLHpgW1opq3nERbz5Anq7n1g==}\n    engines: {node: '>=18'}\n\n  tiny-invariant@1.3.3:\n    resolution: {integrity: sha512-+FbBPE1o9QAYvviau/qC5SE3caw21q3xkvWKBtja5vgqOWIHHJ3ioaq1VPfn/Szqctz2bU/oYeKd9/z5BL+PVg==}\n\n  tslib@2.8.1:\n    resolution: {integrity: sha512-oJFu94HQb+KVduSUQL7wnpmqnfmLsOA/nAh6b6EH0wCEoK0/mPeXU6c3wKDV83MkOuHPRHtSXKKU99IBazS/2w==}\n\n  tw-animate-css@1.3.3:\n    resolution: {integrity: sha512-tXE2TRWrskc4TU3RDd7T8n8Np/wCfoeH9gz22c7PzYqNPQ9FBGFbWWzwL0JyHcFp+jHozmF76tbHfPAx22ua2Q==}\n\n  typescript@5.0.2:\n    resolution: {integrity: sha512-wVORMBGO/FAs/++blGNeAVdbNKtIh1rbBL2EyQ1+J9lClJ93KiiKe8PmFIVdXhHcyv44SL9oglmfeSsndo0jRw==}\n    engines: {node: '>=12.20'}\n    hasBin: true\n\n  undici-types@6.11.1:\n    resolution: {integrity: sha512-mIDEX2ek50x0OlRgxryxsenE5XaQD4on5U2inY7RApK3SOJpofyw7uW2AyfMKkhAxXIceo2DeWGVGwyvng1GNQ==}\n\n  update-browserslist-db@1.1.3:\n    resolution: {integrity: sha512-UxhIZQ+QInVdunkDAaiazvvT/+fXL5Osr0JZlJulepYu6Jd7qJtDZjlur0emRlT71EN3ScPoE7gvsuIKKNavKw==}\n    hasBin: true\n    peerDependencies:\n      browserslist: '>= 4.21.0'\n\n  use-callback-ref@1.3.3:\n    resolution: {integrity: sha512-jQL3lRnocaFtu3V00JToYz/4QkNWswxijDaCVNZRiRTO3HQDLsdu1ZtmIUvV4yPp+rvWm5j0y0TG/S61cuijTg==}\n    engines: {node: '>=10'}\n    peerDependencies:\n      '@types/react': '*'\n      react: ^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n\n  use-sidecar@1.1.3:\n    resolution: {integrity: sha512-Fedw0aZvkhynoPYlA5WXrMCAMm+nSWdZt6lzJQ7Ok8S6Q+VsHmHpRWndVRJ8Be0ZbkfPc5LRYH+5XrzXcEeLRQ==}\n    engines: {node: '>=10'}\n    peerDependencies:\n      '@types/react': '*'\n      react: ^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0 || ^19.0.0-rc\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n\n  use-sync-external-store@1.6.0:\n    resolution: {integrity: sha512-Pp6GSwGP/NrPIrxVFAIkOQeyw8lFenOHijQWkUTrDvrF4ALqylP2C/KCkeS9dpUM3KvYRQhna5vt7IL95+ZQ9w==}\n    peerDependencies:\n      react: ^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0\n\n  vaul@1.1.2:\n    resolution: {integrity: sha512-ZFkClGpWyI2WUQjdLJ/BaGuV6AVQiJ3uELGk3OYtP+B6yCO7Cmn9vPFXVJkRaGkOJu3m8bQMgtyzNHixULceQA==}\n    peerDependencies:\n      react: ^16.8 || ^17.0 || ^18.0 || ^19.0.0 || ^19.0.0-rc\n      react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0.0 || ^19.0.0-rc\n\n  victory-vendor@37.3.6:\n    resolution: {integrity: sha512-SbPDPdDBYp+5MJHhBCAyI7wKM3d5ivekigc2Dk2s7pgbZ9wIgIBYGVw4zGHBml/qTFbexrofXW6Gu4noGxrOwQ==}\n\n  yallist@5.0.0:\n    resolution: {integrity: sha512-YgvUTfwqyc7UXVMrB+SImsVYSmTS8X/tSrtdNZMImM+n7+QTriRXyXim0mBrTXNeqzVF0KWGgHPeiyViFFrNDw==}\n    engines: {node: '>=18'}\n\n  zod@3.25.67:\n    resolution: {integrity: sha512-idA2YXwpCdqUSKRCACDE6ItZD9TZzy3OZMtpfLoh6oPR47lipysRrJfjzMqFxQ3uJuUPyUeWe1r9vLH33xO/Qw==}\n\nsnapshots:\n\n  '@alloc/quick-lru@5.2.0': {}\n\n  '@ampproject/remapping@2.3.0':\n    dependencies:\n      '@jridgewell/gen-mapping': 0.3.13\n      '@jridgewell/trace-mapping': 0.3.31\n\n  '@date-fns/tz@1.4.1': {}\n\n  '@emnapi/runtime@1.5.0':\n    dependencies:\n      tslib: 2.8.1\n    optional: true\n\n  '@emotion/is-prop-valid@1.4.0':\n    dependencies:\n      '@emotion/memoize': 0.9.0\n\n  '@emotion/memoize@0.9.0': {}\n\n  '@floating-ui/core@1.7.3':\n    dependencies:\n      '@floating-ui/utils': 0.2.10\n\n  '@floating-ui/dom@1.7.4':\n    dependencies:\n      '@floating-ui/core': 1.7.3\n      '@floating-ui/utils': 0.2.10\n\n  '@floating-ui/react-dom@2.1.6(react-dom@19.0.0(react@19.0.0))(react@19.0.0)':\n    dependencies:\n      '@floating-ui/dom': 1.7.4\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n\n  '@floating-ui/utils@0.2.10': {}\n\n  '@hookform/resolvers@3.10.0(react-hook-form@7.65.0(react@19.0.0))':\n    dependencies:\n      react-hook-form: 7.65.0(react@19.0.0)\n\n  '@img/sharp-darwin-arm64@0.33.5':\n    optionalDependencies:\n      '@img/sharp-libvips-darwin-arm64': 1.0.4\n    optional: true\n\n  '@img/sharp-darwin-x64@0.33.5':\n    optionalDependencies:\n      '@img/sharp-libvips-darwin-x64': 1.0.4\n    optional: true\n\n  '@img/sharp-libvips-darwin-arm64@1.0.4':\n    optional: true\n\n  '@img/sharp-libvips-darwin-x64@1.0.4':\n    optional: true\n\n  '@img/sharp-libvips-linux-arm64@1.0.4':\n    optional: true\n\n  '@img/sharp-libvips-linux-arm@1.0.5':\n    optional: true\n\n  '@img/sharp-libvips-linux-s390x@1.0.4':\n    optional: true\n\n  '@img/sharp-libvips-linux-x64@1.0.4':\n    optional: true\n\n  '@img/sharp-libvips-linuxmusl-arm64@1.0.4':\n    optional: true\n\n  '@img/sharp-libvips-linuxmusl-x64@1.0.4':\n    optional: true\n\n  '@img/sharp-linux-arm64@0.33.5':\n    optionalDependencies:\n      '@img/sharp-libvips-linux-arm64': 1.0.4\n    optional: true\n\n  '@img/sharp-linux-arm@0.33.5':\n    optionalDependencies:\n      '@img/sharp-libvips-linux-arm': 1.0.5\n    optional: true\n\n  '@img/sharp-linux-s390x@0.33.5':\n    optionalDependencies:\n      '@img/sharp-libvips-linux-s390x': 1.0.4\n    optional: true\n\n  '@img/sharp-linux-x64@0.33.5':\n    optionalDependencies:\n      '@img/sharp-libvips-linux-x64': 1.0.4\n    optional: true\n\n  '@img/sharp-linuxmusl-arm64@0.33.5':\n    optionalDependencies:\n      '@img/sharp-libvips-linuxmusl-arm64': 1.0.4\n    optional: true\n\n  '@img/sharp-linuxmusl-x64@0.33.5':\n    optionalDependencies:\n      '@img/sharp-libvips-linuxmusl-x64': 1.0.4\n    optional: true\n\n  '@img/sharp-wasm32@0.33.5':\n    dependencies:\n      '@emnapi/runtime': 1.5.0\n    optional: true\n\n  '@img/sharp-win32-ia32@0.33.5':\n    optional: true\n\n  '@img/sharp-win32-x64@0.33.5':\n    optional: true\n\n  '@isaacs/fs-minipass@4.0.1':\n    dependencies:\n      minipass: 7.1.2\n\n  '@jridgewell/gen-mapping@0.3.13':\n    dependencies:\n      '@jridgewell/sourcemap-codec': 1.5.5\n      '@jridgewell/trace-mapping': 0.3.31\n\n  '@jridgewell/resolve-uri@3.1.2': {}\n\n  '@jridgewell/sourcemap-codec@1.5.5': {}\n\n  '@jridgewell/trace-mapping@0.3.31':\n    dependencies:\n      '@jridgewell/resolve-uri': 3.1.2\n      '@jridgewell/sourcemap-codec': 1.5.5\n\n  '@next/env@15.2.4': {}\n\n  '@next/swc-darwin-arm64@15.2.4':\n    optional: true\n\n  '@next/swc-darwin-x64@15.2.4':\n    optional: true\n\n  '@next/swc-linux-arm64-gnu@15.2.4':\n    optional: true\n\n  '@next/swc-linux-arm64-musl@15.2.4':\n    optional: true\n\n  '@next/swc-linux-x64-gnu@15.2.4':\n    optional: true\n\n  '@next/swc-linux-x64-musl@15.2.4':\n    optional: true\n\n  '@next/swc-win32-arm64-msvc@15.2.4':\n    optional: true\n\n  '@next/swc-win32-x64-msvc@15.2.4':\n    optional: true\n\n  '@radix-ui/number@1.1.1': {}\n\n  '@radix-ui/primitive@1.1.3': {}\n\n  '@radix-ui/react-accordion@1.2.12(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)':\n    dependencies:\n      '@radix-ui/primitive': 1.1.3\n      '@radix-ui/react-collapsible': 1.1.12(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-collection': 1.1.7(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-context': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-direction': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-id': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.0.0)(react@19.0.0)\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n      '@types/react-dom': 19.0.0\n\n  '@radix-ui/react-alert-dialog@1.1.15(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)':\n    dependencies:\n      '@radix-ui/primitive': 1.1.3\n      '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-context': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-dialog': 1.1.15(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-slot': 1.2.3(@types/react@19.0.0)(react@19.0.0)\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n      '@types/react-dom': 19.0.0\n\n  '@radix-ui/react-arrow@1.1.7(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)':\n    dependencies:\n      '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n      '@types/react-dom': 19.0.0\n\n  '@radix-ui/react-aspect-ratio@1.1.7(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)':\n    dependencies:\n      '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n      '@types/react-dom': 19.0.0\n\n  '@radix-ui/react-avatar@1.1.10(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)':\n    dependencies:\n      '@radix-ui/react-context': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-use-callback-ref': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-use-is-hydrated': 0.1.0(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-use-layout-effect': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n      '@types/react-dom': 19.0.0\n\n  '@radix-ui/react-checkbox@1.3.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)':\n    dependencies:\n      '@radix-ui/primitive': 1.1.3\n      '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-context': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-presence': 1.1.5(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-use-previous': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-use-size': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n      '@types/react-dom': 19.0.0\n\n  '@radix-ui/react-collapsible@1.1.12(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)':\n    dependencies:\n      '@radix-ui/primitive': 1.1.3\n      '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-context': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-id': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-presence': 1.1.5(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-use-layout-effect': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n      '@types/react-dom': 19.0.0\n\n  '@radix-ui/react-collection@1.1.7(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)':\n    dependencies:\n      '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-context': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-slot': 1.2.3(@types/react@19.0.0)(react@19.0.0)\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n      '@types/react-dom': 19.0.0\n\n  '@radix-ui/react-compose-refs@1.1.2(@types/react@19.0.0)(react@19.0.0)':\n    dependencies:\n      react: 19.0.0\n    optionalDependencies:\n      '@types/react': 19.0.0\n\n  '@radix-ui/react-context-menu@2.2.16(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)':\n    dependencies:\n      '@radix-ui/primitive': 1.1.3\n      '@radix-ui/react-context': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-menu': 2.1.16(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-use-callback-ref': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.0.0)(react@19.0.0)\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n      '@types/react-dom': 19.0.0\n\n  '@radix-ui/react-context@1.1.2(@types/react@19.0.0)(react@19.0.0)':\n    dependencies:\n      react: 19.0.0\n    optionalDependencies:\n      '@types/react': 19.0.0\n\n  '@radix-ui/react-dialog@1.1.15(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)':\n    dependencies:\n      '@radix-ui/primitive': 1.1.3\n      '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-context': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-dismissable-layer': 1.1.11(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-focus-guards': 1.1.3(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-focus-scope': 1.1.7(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-id': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-portal': 1.1.9(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-presence': 1.1.5(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-slot': 1.2.3(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.0.0)(react@19.0.0)\n      aria-hidden: 1.2.6\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n      react-remove-scroll: 2.7.1(@types/react@19.0.0)(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n      '@types/react-dom': 19.0.0\n\n  '@radix-ui/react-direction@1.1.1(@types/react@19.0.0)(react@19.0.0)':\n    dependencies:\n      react: 19.0.0\n    optionalDependencies:\n      '@types/react': 19.0.0\n\n  '@radix-ui/react-dismissable-layer@1.1.11(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)':\n    dependencies:\n      '@radix-ui/primitive': 1.1.3\n      '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-use-callback-ref': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-use-escape-keydown': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n      '@types/react-dom': 19.0.0\n\n  '@radix-ui/react-dropdown-menu@2.1.16(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)':\n    dependencies:\n      '@radix-ui/primitive': 1.1.3\n      '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-context': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-id': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-menu': 2.1.16(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.0.0)(react@19.0.0)\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n      '@types/react-dom': 19.0.0\n\n  '@radix-ui/react-focus-guards@1.1.3(@types/react@19.0.0)(react@19.0.0)':\n    dependencies:\n      react: 19.0.0\n    optionalDependencies:\n      '@types/react': 19.0.0\n\n  '@radix-ui/react-focus-scope@1.1.7(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)':\n    dependencies:\n      '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-use-callback-ref': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n      '@types/react-dom': 19.0.0\n\n  '@radix-ui/react-hover-card@1.1.15(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)':\n    dependencies:\n      '@radix-ui/primitive': 1.1.3\n      '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-context': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-dismissable-layer': 1.1.11(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-popper': 1.2.8(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-portal': 1.1.9(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-presence': 1.1.5(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.0.0)(react@19.0.0)\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n      '@types/react-dom': 19.0.0\n\n  '@radix-ui/react-id@1.1.1(@types/react@19.0.0)(react@19.0.0)':\n    dependencies:\n      '@radix-ui/react-use-layout-effect': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      react: 19.0.0\n    optionalDependencies:\n      '@types/react': 19.0.0\n\n  '@radix-ui/react-label@2.1.7(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)':\n    dependencies:\n      '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n      '@types/react-dom': 19.0.0\n\n  '@radix-ui/react-menu@2.1.16(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)':\n    dependencies:\n      '@radix-ui/primitive': 1.1.3\n      '@radix-ui/react-collection': 1.1.7(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-context': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-direction': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-dismissable-layer': 1.1.11(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-focus-guards': 1.1.3(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-focus-scope': 1.1.7(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-id': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-popper': 1.2.8(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-portal': 1.1.9(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-presence': 1.1.5(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-roving-focus': 1.1.11(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-slot': 1.2.3(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-use-callback-ref': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      aria-hidden: 1.2.6\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n      react-remove-scroll: 2.7.1(@types/react@19.0.0)(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n      '@types/react-dom': 19.0.0\n\n  '@radix-ui/react-menubar@1.1.16(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)':\n    dependencies:\n      '@radix-ui/primitive': 1.1.3\n      '@radix-ui/react-collection': 1.1.7(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-context': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-direction': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-id': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-menu': 2.1.16(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-roving-focus': 1.1.11(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.0.0)(react@19.0.0)\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n      '@types/react-dom': 19.0.0\n\n  '@radix-ui/react-navigation-menu@1.2.14(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)':\n    dependencies:\n      '@radix-ui/primitive': 1.1.3\n      '@radix-ui/react-collection': 1.1.7(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-context': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-direction': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-dismissable-layer': 1.1.11(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-id': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-presence': 1.1.5(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-use-callback-ref': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-use-layout-effect': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-use-previous': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-visually-hidden': 1.2.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n      '@types/react-dom': 19.0.0\n\n  '@radix-ui/react-popover@1.1.15(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)':\n    dependencies:\n      '@radix-ui/primitive': 1.1.3\n      '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-context': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-dismissable-layer': 1.1.11(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-focus-guards': 1.1.3(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-focus-scope': 1.1.7(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-id': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-popper': 1.2.8(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-portal': 1.1.9(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-presence': 1.1.5(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-slot': 1.2.3(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.0.0)(react@19.0.0)\n      aria-hidden: 1.2.6\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n      react-remove-scroll: 2.7.1(@types/react@19.0.0)(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n      '@types/react-dom': 19.0.0\n\n  '@radix-ui/react-popper@1.2.8(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)':\n    dependencies:\n      '@floating-ui/react-dom': 2.1.6(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-arrow': 1.1.7(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-context': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-use-callback-ref': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-use-layout-effect': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-use-rect': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-use-size': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/rect': 1.1.1\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n      '@types/react-dom': 19.0.0\n\n  '@radix-ui/react-portal@1.1.9(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)':\n    dependencies:\n      '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-use-layout-effect': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n      '@types/react-dom': 19.0.0\n\n  '@radix-ui/react-presence@1.1.5(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)':\n    dependencies:\n      '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-use-layout-effect': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n      '@types/react-dom': 19.0.0\n\n  '@radix-ui/react-primitive@2.1.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)':\n    dependencies:\n      '@radix-ui/react-slot': 1.2.3(@types/react@19.0.0)(react@19.0.0)\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n      '@types/react-dom': 19.0.0\n\n  '@radix-ui/react-progress@1.1.7(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)':\n    dependencies:\n      '@radix-ui/react-context': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n      '@types/react-dom': 19.0.0\n\n  '@radix-ui/react-radio-group@1.3.8(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)':\n    dependencies:\n      '@radix-ui/primitive': 1.1.3\n      '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-context': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-direction': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-presence': 1.1.5(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-roving-focus': 1.1.11(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-use-previous': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-use-size': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n      '@types/react-dom': 19.0.0\n\n  '@radix-ui/react-roving-focus@1.1.11(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)':\n    dependencies:\n      '@radix-ui/primitive': 1.1.3\n      '@radix-ui/react-collection': 1.1.7(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-context': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-direction': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-id': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-use-callback-ref': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.0.0)(react@19.0.0)\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n      '@types/react-dom': 19.0.0\n\n  '@radix-ui/react-scroll-area@1.2.10(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)':\n    dependencies:\n      '@radix-ui/number': 1.1.1\n      '@radix-ui/primitive': 1.1.3\n      '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-context': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-direction': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-presence': 1.1.5(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-use-callback-ref': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-use-layout-effect': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n      '@types/react-dom': 19.0.0\n\n  '@radix-ui/react-select@2.2.6(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)':\n    dependencies:\n      '@radix-ui/number': 1.1.1\n      '@radix-ui/primitive': 1.1.3\n      '@radix-ui/react-collection': 1.1.7(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-context': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-direction': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-dismissable-layer': 1.1.11(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-focus-guards': 1.1.3(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-focus-scope': 1.1.7(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-id': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-popper': 1.2.8(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-portal': 1.1.9(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-slot': 1.2.3(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-use-callback-ref': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-use-layout-effect': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-use-previous': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-visually-hidden': 1.2.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      aria-hidden: 1.2.6\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n      react-remove-scroll: 2.7.1(@types/react@19.0.0)(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n      '@types/react-dom': 19.0.0\n\n  '@radix-ui/react-separator@1.1.7(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)':\n    dependencies:\n      '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n      '@types/react-dom': 19.0.0\n\n  '@radix-ui/react-slider@1.3.6(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)':\n    dependencies:\n      '@radix-ui/number': 1.1.1\n      '@radix-ui/primitive': 1.1.3\n      '@radix-ui/react-collection': 1.1.7(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-context': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-direction': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-use-layout-effect': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-use-previous': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-use-size': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n      '@types/react-dom': 19.0.0\n\n  '@radix-ui/react-slot@1.2.3(@types/react@19.0.0)(react@19.0.0)':\n    dependencies:\n      '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      react: 19.0.0\n    optionalDependencies:\n      '@types/react': 19.0.0\n\n  '@radix-ui/react-switch@1.2.6(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)':\n    dependencies:\n      '@radix-ui/primitive': 1.1.3\n      '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-context': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-use-previous': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-use-size': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n      '@types/react-dom': 19.0.0\n\n  '@radix-ui/react-tabs@1.1.13(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)':\n    dependencies:\n      '@radix-ui/primitive': 1.1.3\n      '@radix-ui/react-context': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-direction': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-id': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-presence': 1.1.5(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-roving-focus': 1.1.11(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.0.0)(react@19.0.0)\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n      '@types/react-dom': 19.0.0\n\n  '@radix-ui/react-toast@1.2.15(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)':\n    dependencies:\n      '@radix-ui/primitive': 1.1.3\n      '@radix-ui/react-collection': 1.1.7(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-context': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-dismissable-layer': 1.1.11(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-portal': 1.1.9(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-presence': 1.1.5(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-use-callback-ref': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-use-layout-effect': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-visually-hidden': 1.2.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n      '@types/react-dom': 19.0.0\n\n  '@radix-ui/react-toggle-group@1.1.11(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)':\n    dependencies:\n      '@radix-ui/primitive': 1.1.3\n      '@radix-ui/react-context': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-direction': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-roving-focus': 1.1.11(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-toggle': 1.1.10(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.0.0)(react@19.0.0)\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n      '@types/react-dom': 19.0.0\n\n  '@radix-ui/react-toggle@1.1.10(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)':\n    dependencies:\n      '@radix-ui/primitive': 1.1.3\n      '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.0.0)(react@19.0.0)\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n      '@types/react-dom': 19.0.0\n\n  '@radix-ui/react-tooltip@1.2.8(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)':\n    dependencies:\n      '@radix-ui/primitive': 1.1.3\n      '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-context': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-dismissable-layer': 1.1.11(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-id': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-popper': 1.2.8(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-portal': 1.1.9(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-presence': 1.1.5(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-slot': 1.2.3(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-visually-hidden': 1.2.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n      '@types/react-dom': 19.0.0\n\n  '@radix-ui/react-use-callback-ref@1.1.1(@types/react@19.0.0)(react@19.0.0)':\n    dependencies:\n      react: 19.0.0\n    optionalDependencies:\n      '@types/react': 19.0.0\n\n  '@radix-ui/react-use-controllable-state@1.2.2(@types/react@19.0.0)(react@19.0.0)':\n    dependencies:\n      '@radix-ui/react-use-effect-event': 0.0.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-use-layout-effect': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      react: 19.0.0\n    optionalDependencies:\n      '@types/react': 19.0.0\n\n  '@radix-ui/react-use-effect-event@0.0.2(@types/react@19.0.0)(react@19.0.0)':\n    dependencies:\n      '@radix-ui/react-use-layout-effect': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      react: 19.0.0\n    optionalDependencies:\n      '@types/react': 19.0.0\n\n  '@radix-ui/react-use-escape-keydown@1.1.1(@types/react@19.0.0)(react@19.0.0)':\n    dependencies:\n      '@radix-ui/react-use-callback-ref': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      react: 19.0.0\n    optionalDependencies:\n      '@types/react': 19.0.0\n\n  '@radix-ui/react-use-is-hydrated@0.1.0(@types/react@19.0.0)(react@19.0.0)':\n    dependencies:\n      react: 19.0.0\n      use-sync-external-store: 1.6.0(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n\n  '@radix-ui/react-use-layout-effect@1.1.1(@types/react@19.0.0)(react@19.0.0)':\n    dependencies:\n      react: 19.0.0\n    optionalDependencies:\n      '@types/react': 19.0.0\n\n  '@radix-ui/react-use-previous@1.1.1(@types/react@19.0.0)(react@19.0.0)':\n    dependencies:\n      react: 19.0.0\n    optionalDependencies:\n      '@types/react': 19.0.0\n\n  '@radix-ui/react-use-rect@1.1.1(@types/react@19.0.0)(react@19.0.0)':\n    dependencies:\n      '@radix-ui/rect': 1.1.1\n      react: 19.0.0\n    optionalDependencies:\n      '@types/react': 19.0.0\n\n  '@radix-ui/react-use-size@1.1.1(@types/react@19.0.0)(react@19.0.0)':\n    dependencies:\n      '@radix-ui/react-use-layout-effect': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      react: 19.0.0\n    optionalDependencies:\n      '@types/react': 19.0.0\n\n  '@radix-ui/react-visually-hidden@1.2.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)':\n    dependencies:\n      '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n      '@types/react-dom': 19.0.0\n\n  '@radix-ui/rect@1.1.1': {}\n\n  '@reduxjs/toolkit@2.9.0(react-redux@9.2.0(@types/react@19.0.0)(react@19.0.0)(redux@5.0.1))(react@19.0.0)':\n    dependencies:\n      '@standard-schema/spec': 1.0.0\n      '@standard-schema/utils': 0.3.0\n      immer: 10.1.3\n      redux: 5.0.1\n      redux-thunk: 3.1.0(redux@5.0.1)\n      reselect: 5.1.1\n    optionalDependencies:\n      react: 19.0.0\n      react-redux: 9.2.0(@types/react@19.0.0)(react@19.0.0)(redux@5.0.1)\n\n  '@standard-schema/spec@1.0.0': {}\n\n  '@standard-schema/utils@0.3.0': {}\n\n  '@swc/counter@0.1.3': {}\n\n  '@swc/helpers@0.5.15':\n    dependencies:\n      tslib: 2.8.1\n\n  '@tailwindcss/node@4.1.9':\n    dependencies:\n      '@ampproject/remapping': 2.3.0\n      enhanced-resolve: 5.18.3\n      jiti: 2.6.1\n      lightningcss: 1.30.1\n      magic-string: 0.30.19\n      source-map-js: 1.2.1\n      tailwindcss: 4.1.9\n\n  '@tailwindcss/oxide-android-arm64@4.1.9':\n    optional: true\n\n  '@tailwindcss/oxide-darwin-arm64@4.1.9':\n    optional: true\n\n  '@tailwindcss/oxide-darwin-x64@4.1.9':\n    optional: true\n\n  '@tailwindcss/oxide-freebsd-x64@4.1.9':\n    optional: true\n\n  '@tailwindcss/oxide-linux-arm-gnueabihf@4.1.9':\n    optional: true\n\n  '@tailwindcss/oxide-linux-arm64-gnu@4.1.9':\n    optional: true\n\n  '@tailwindcss/oxide-linux-arm64-musl@4.1.9':\n    optional: true\n\n  '@tailwindcss/oxide-linux-x64-gnu@4.1.9':\n    optional: true\n\n  '@tailwindcss/oxide-linux-x64-musl@4.1.9':\n    optional: true\n\n  '@tailwindcss/oxide-wasm32-wasi@4.1.9':\n    optional: true\n\n  '@tailwindcss/oxide-win32-arm64-msvc@4.1.9':\n    optional: true\n\n  '@tailwindcss/oxide-win32-x64-msvc@4.1.9':\n    optional: true\n\n  '@tailwindcss/oxide@4.1.9':\n    dependencies:\n      detect-libc: 2.1.2\n      tar: 7.5.1\n    optionalDependencies:\n      '@tailwindcss/oxide-android-arm64': 4.1.9\n      '@tailwindcss/oxide-darwin-arm64': 4.1.9\n      '@tailwindcss/oxide-darwin-x64': 4.1.9\n      '@tailwindcss/oxide-freebsd-x64': 4.1.9\n      '@tailwindcss/oxide-linux-arm-gnueabihf': 4.1.9\n      '@tailwindcss/oxide-linux-arm64-gnu': 4.1.9\n      '@tailwindcss/oxide-linux-arm64-musl': 4.1.9\n      '@tailwindcss/oxide-linux-x64-gnu': 4.1.9\n      '@tailwindcss/oxide-linux-x64-musl': 4.1.9\n      '@tailwindcss/oxide-wasm32-wasi': 4.1.9\n      '@tailwindcss/oxide-win32-arm64-msvc': 4.1.9\n      '@tailwindcss/oxide-win32-x64-msvc': 4.1.9\n\n  '@tailwindcss/postcss@4.1.9':\n    dependencies:\n      '@alloc/quick-lru': 5.2.0\n      '@tailwindcss/node': 4.1.9\n      '@tailwindcss/oxide': 4.1.9\n      postcss: 8.5.0\n      tailwindcss: 4.1.9\n\n  '@types/d3-array@3.2.2': {}\n\n  '@types/d3-color@3.1.3': {}\n\n  '@types/d3-ease@3.0.2': {}\n\n  '@types/d3-interpolate@3.0.4':\n    dependencies:\n      '@types/d3-color': 3.1.3\n\n  '@types/d3-path@3.1.1': {}\n\n  '@types/d3-scale@4.0.9':\n    dependencies:\n      '@types/d3-time': 3.0.4\n\n  '@types/d3-shape@3.1.7':\n    dependencies:\n      '@types/d3-path': 3.1.1\n\n  '@types/d3-time@3.0.4': {}\n\n  '@types/d3-timer@3.0.2': {}\n\n  '@types/node@22.0.0':\n    dependencies:\n      undici-types: 6.11.1\n\n  '@types/react-dom@19.0.0':\n    dependencies:\n      '@types/react': 19.0.0\n\n  '@types/react@19.0.0':\n    dependencies:\n      csstype: 3.1.3\n\n  '@types/use-sync-external-store@0.0.6': {}\n\n  '@vercel/analytics@1.5.0(next@15.2.4(react-dom@19.0.0(react@19.0.0))(react@19.0.0))(react@19.0.0)':\n    optionalDependencies:\n      next: 15.2.4(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      react: 19.0.0\n\n  aria-hidden@1.2.6:\n    dependencies:\n      tslib: 2.8.1\n\n  autoprefixer@10.4.20(postcss@8.5.0):\n    dependencies:\n      browserslist: 4.26.3\n      caniuse-lite: 1.0.30001750\n      fraction.js: 4.3.7\n      normalize-range: 0.1.2\n      picocolors: 1.1.1\n      postcss: 8.5.0\n      postcss-value-parser: 4.2.0\n\n  baseline-browser-mapping@2.8.16: {}\n\n  browserslist@4.26.3:\n    dependencies:\n      baseline-browser-mapping: 2.8.16\n      caniuse-lite: 1.0.30001750\n      electron-to-chromium: 1.5.234\n      node-releases: 2.0.23\n      update-browserslist-db: 1.1.3(browserslist@4.26.3)\n\n  busboy@1.6.0:\n    dependencies:\n      streamsearch: 1.1.0\n\n  caniuse-lite@1.0.30001750: {}\n\n  chownr@3.0.0: {}\n\n  class-variance-authority@0.7.1:\n    dependencies:\n      clsx: 2.1.1\n\n  client-only@0.0.1: {}\n\n  clsx@2.1.1: {}\n\n  cmdk@1.1.1(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0):\n    dependencies:\n      '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-dialog': 1.1.15(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      '@radix-ui/react-id': 1.1.1(@types/react@19.0.0)(react@19.0.0)\n      '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n    transitivePeerDependencies:\n      - '@types/react'\n      - '@types/react-dom'\n\n  color-convert@2.0.1:\n    dependencies:\n      color-name: 1.1.4\n    optional: true\n\n  color-name@1.1.4:\n    optional: true\n\n  color-string@1.9.1:\n    dependencies:\n      color-name: 1.1.4\n      simple-swizzle: 0.2.4\n    optional: true\n\n  color@4.2.3:\n    dependencies:\n      color-convert: 2.0.1\n      color-string: 1.9.1\n    optional: true\n\n  csstype@3.1.3: {}\n\n  d3-array@3.2.4:\n    dependencies:\n      internmap: 2.0.3\n\n  d3-color@3.1.0: {}\n\n  d3-ease@3.0.1: {}\n\n  d3-format@3.1.0: {}\n\n  d3-interpolate@3.0.1:\n    dependencies:\n      d3-color: 3.1.0\n\n  d3-path@3.1.0: {}\n\n  d3-scale@4.0.2:\n    dependencies:\n      d3-array: 3.2.4\n      d3-format: 3.1.0\n      d3-interpolate: 3.0.1\n      d3-time: 3.1.0\n      d3-time-format: 4.1.0\n\n  d3-shape@3.2.0:\n    dependencies:\n      d3-path: 3.1.0\n\n  d3-time-format@4.1.0:\n    dependencies:\n      d3-time: 3.1.0\n\n  d3-time@3.1.0:\n    dependencies:\n      d3-array: 3.2.4\n\n  d3-timer@3.0.1: {}\n\n  date-fns-jalali@4.1.0-0: {}\n\n  date-fns@4.1.0: {}\n\n  decimal.js-light@2.5.1: {}\n\n  detect-libc@2.1.2: {}\n\n  detect-node-es@1.1.0: {}\n\n  electron-to-chromium@1.5.234: {}\n\n  embla-carousel-react@8.6.0(react@19.0.0):\n    dependencies:\n      embla-carousel: 8.6.0\n      embla-carousel-reactive-utils: 8.6.0(embla-carousel@8.6.0)\n      react: 19.0.0\n\n  embla-carousel-reactive-utils@8.6.0(embla-carousel@8.6.0):\n    dependencies:\n      embla-carousel: 8.6.0\n\n  embla-carousel@8.6.0: {}\n\n  enhanced-resolve@5.18.3:\n    dependencies:\n      graceful-fs: 4.2.11\n      tapable: 2.3.0\n\n  es-toolkit@1.40.0: {}\n\n  escalade@3.2.0: {}\n\n  eventemitter3@5.0.1: {}\n\n  fancy-canvas@2.1.0: {}\n\n  fraction.js@4.3.7: {}\n\n  framer-motion@12.23.24(@emotion/is-prop-valid@1.4.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0):\n    dependencies:\n      motion-dom: 12.23.23\n      motion-utils: 12.23.6\n      tslib: 2.8.1\n    optionalDependencies:\n      '@emotion/is-prop-valid': 1.4.0\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n\n  geist@1.5.1(next@15.2.4(react-dom@19.0.0(react@19.0.0))(react@19.0.0)):\n    dependencies:\n      next: 15.2.4(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n\n  get-nonce@1.0.1: {}\n\n  graceful-fs@4.2.11: {}\n\n  immer@10.1.3: {}\n\n  input-otp@1.4.2(react-dom@19.0.0(react@19.0.0))(react@19.0.0):\n    dependencies:\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n\n  internmap@2.0.3: {}\n\n  is-arrayish@0.3.4:\n    optional: true\n\n  jiti@2.6.1: {}\n\n  lightningcss-darwin-arm64@1.30.1:\n    optional: true\n\n  lightningcss-darwin-x64@1.30.1:\n    optional: true\n\n  lightningcss-freebsd-x64@1.30.1:\n    optional: true\n\n  lightningcss-linux-arm-gnueabihf@1.30.1:\n    optional: true\n\n  lightningcss-linux-arm64-gnu@1.30.1:\n    optional: true\n\n  lightningcss-linux-arm64-musl@1.30.1:\n    optional: true\n\n  lightningcss-linux-x64-gnu@1.30.1:\n    optional: true\n\n  lightningcss-linux-x64-musl@1.30.1:\n    optional: true\n\n  lightningcss-win32-arm64-msvc@1.30.1:\n    optional: true\n\n  lightningcss-win32-x64-msvc@1.30.1:\n    optional: true\n\n  lightningcss@1.30.1:\n    dependencies:\n      detect-libc: 2.1.2\n    optionalDependencies:\n      lightningcss-darwin-arm64: 1.30.1\n      lightningcss-darwin-x64: 1.30.1\n      lightningcss-freebsd-x64: 1.30.1\n      lightningcss-linux-arm-gnueabihf: 1.30.1\n      lightningcss-linux-arm64-gnu: 1.30.1\n      lightningcss-linux-arm64-musl: 1.30.1\n      lightningcss-linux-x64-gnu: 1.30.1\n      lightningcss-linux-x64-musl: 1.30.1\n      lightningcss-win32-arm64-msvc: 1.30.1\n      lightningcss-win32-x64-msvc: 1.30.1\n\n  lightweight-charts@5.0.9:\n    dependencies:\n      fancy-canvas: 2.1.0\n\n  lucide-react@0.454.0(react@19.0.0):\n    dependencies:\n      react: 19.0.0\n\n  magic-string@0.30.19:\n    dependencies:\n      '@jridgewell/sourcemap-codec': 1.5.5\n\n  minipass@7.1.2: {}\n\n  minizlib@3.1.0:\n    dependencies:\n      minipass: 7.1.2\n\n  motion-dom@12.23.23:\n    dependencies:\n      motion-utils: 12.23.6\n\n  motion-utils@12.23.6: {}\n\n  nanoid@3.3.11: {}\n\n  next-themes@0.4.6(react-dom@19.0.0(react@19.0.0))(react@19.0.0):\n    dependencies:\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n\n  next@15.2.4(react-dom@19.0.0(react@19.0.0))(react@19.0.0):\n    dependencies:\n      '@next/env': 15.2.4\n      '@swc/counter': 0.1.3\n      '@swc/helpers': 0.5.15\n      busboy: 1.6.0\n      caniuse-lite: 1.0.30001750\n      postcss: 8.4.31\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n      styled-jsx: 5.1.6(react@19.0.0)\n    optionalDependencies:\n      '@next/swc-darwin-arm64': 15.2.4\n      '@next/swc-darwin-x64': 15.2.4\n      '@next/swc-linux-arm64-gnu': 15.2.4\n      '@next/swc-linux-arm64-musl': 15.2.4\n      '@next/swc-linux-x64-gnu': 15.2.4\n      '@next/swc-linux-x64-musl': 15.2.4\n      '@next/swc-win32-arm64-msvc': 15.2.4\n      '@next/swc-win32-x64-msvc': 15.2.4\n      sharp: 0.33.5\n    transitivePeerDependencies:\n      - '@babel/core'\n      - babel-plugin-macros\n\n  node-releases@2.0.23: {}\n\n  normalize-range@0.1.2: {}\n\n  picocolors@1.1.1: {}\n\n  postcss-value-parser@4.2.0: {}\n\n  postcss@8.4.31:\n    dependencies:\n      nanoid: 3.3.11\n      picocolors: 1.1.1\n      source-map-js: 1.2.1\n\n  postcss@8.5.0:\n    dependencies:\n      nanoid: 3.3.11\n      picocolors: 1.1.1\n      source-map-js: 1.2.1\n\n  react-day-picker@9.11.1(react@19.0.0):\n    dependencies:\n      '@date-fns/tz': 1.4.1\n      date-fns: 4.1.0\n      date-fns-jalali: 4.1.0-0\n      react: 19.0.0\n\n  react-dom@19.0.0(react@19.0.0):\n    dependencies:\n      react: 19.0.0\n      scheduler: 0.25.0\n\n  react-hook-form@7.65.0(react@19.0.0):\n    dependencies:\n      react: 19.0.0\n\n  react-is@19.2.0: {}\n\n  react-redux@9.2.0(@types/react@19.0.0)(react@19.0.0)(redux@5.0.1):\n    dependencies:\n      '@types/use-sync-external-store': 0.0.6\n      react: 19.0.0\n      use-sync-external-store: 1.6.0(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n      redux: 5.0.1\n\n  react-remove-scroll-bar@2.3.8(@types/react@19.0.0)(react@19.0.0):\n    dependencies:\n      react: 19.0.0\n      react-style-singleton: 2.2.3(@types/react@19.0.0)(react@19.0.0)\n      tslib: 2.8.1\n    optionalDependencies:\n      '@types/react': 19.0.0\n\n  react-remove-scroll@2.7.1(@types/react@19.0.0)(react@19.0.0):\n    dependencies:\n      react: 19.0.0\n      react-remove-scroll-bar: 2.3.8(@types/react@19.0.0)(react@19.0.0)\n      react-style-singleton: 2.2.3(@types/react@19.0.0)(react@19.0.0)\n      tslib: 2.8.1\n      use-callback-ref: 1.3.3(@types/react@19.0.0)(react@19.0.0)\n      use-sidecar: 1.1.3(@types/react@19.0.0)(react@19.0.0)\n    optionalDependencies:\n      '@types/react': 19.0.0\n\n  react-resizable-panels@3.0.6(react-dom@19.0.0(react@19.0.0))(react@19.0.0):\n    dependencies:\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n\n  react-style-singleton@2.2.3(@types/react@19.0.0)(react@19.0.0):\n    dependencies:\n      get-nonce: 1.0.1\n      react: 19.0.0\n      tslib: 2.8.1\n    optionalDependencies:\n      '@types/react': 19.0.0\n\n  react@19.0.0: {}\n\n  recharts@3.2.1(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react-is@19.2.0)(react@19.0.0)(redux@5.0.1):\n    dependencies:\n      '@reduxjs/toolkit': 2.9.0(react-redux@9.2.0(@types/react@19.0.0)(react@19.0.0)(redux@5.0.1))(react@19.0.0)\n      clsx: 2.1.1\n      decimal.js-light: 2.5.1\n      es-toolkit: 1.40.0\n      eventemitter3: 5.0.1\n      immer: 10.1.3\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n      react-is: 19.2.0\n      react-redux: 9.2.0(@types/react@19.0.0)(react@19.0.0)(redux@5.0.1)\n      reselect: 5.1.1\n      tiny-invariant: 1.3.3\n      use-sync-external-store: 1.6.0(react@19.0.0)\n      victory-vendor: 37.3.6\n    transitivePeerDependencies:\n      - '@types/react'\n      - redux\n\n  redux-thunk@3.1.0(redux@5.0.1):\n    dependencies:\n      redux: 5.0.1\n\n  redux@5.0.1: {}\n\n  reselect@5.1.1: {}\n\n  scheduler@0.25.0: {}\n\n  semver@7.7.3:\n    optional: true\n\n  sharp@0.33.5:\n    dependencies:\n      color: 4.2.3\n      detect-libc: 2.1.2\n      semver: 7.7.3\n    optionalDependencies:\n      '@img/sharp-darwin-arm64': 0.33.5\n      '@img/sharp-darwin-x64': 0.33.5\n      '@img/sharp-libvips-darwin-arm64': 1.0.4\n      '@img/sharp-libvips-darwin-x64': 1.0.4\n      '@img/sharp-libvips-linux-arm': 1.0.5\n      '@img/sharp-libvips-linux-arm64': 1.0.4\n      '@img/sharp-libvips-linux-s390x': 1.0.4\n      '@img/sharp-libvips-linux-x64': 1.0.4\n      '@img/sharp-libvips-linuxmusl-arm64': 1.0.4\n      '@img/sharp-libvips-linuxmusl-x64': 1.0.4\n      '@img/sharp-linux-arm': 0.33.5\n      '@img/sharp-linux-arm64': 0.33.5\n      '@img/sharp-linux-s390x': 0.33.5\n      '@img/sharp-linux-x64': 0.33.5\n      '@img/sharp-linuxmusl-arm64': 0.33.5\n      '@img/sharp-linuxmusl-x64': 0.33.5\n      '@img/sharp-wasm32': 0.33.5\n      '@img/sharp-win32-ia32': 0.33.5\n      '@img/sharp-win32-x64': 0.33.5\n    optional: true\n\n  simple-swizzle@0.2.4:\n    dependencies:\n      is-arrayish: 0.3.4\n    optional: true\n\n  sonner@2.0.7(react-dom@19.0.0(react@19.0.0))(react@19.0.0):\n    dependencies:\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n\n  source-map-js@1.2.1: {}\n\n  streamsearch@1.1.0: {}\n\n  styled-jsx@5.1.6(react@19.0.0):\n    dependencies:\n      client-only: 0.0.1\n      react: 19.0.0\n\n  tailwind-merge@2.5.5: {}\n\n  tailwindcss-animate@1.0.7(tailwindcss@4.1.9):\n    dependencies:\n      tailwindcss: 4.1.9\n\n  tailwindcss@4.1.9: {}\n\n  tapable@2.3.0: {}\n\n  tar@7.5.1:\n    dependencies:\n      '@isaacs/fs-minipass': 4.0.1\n      chownr: 3.0.0\n      minipass: 7.1.2\n      minizlib: 3.1.0\n      yallist: 5.0.0\n\n  tiny-invariant@1.3.3: {}\n\n  tslib@2.8.1: {}\n\n  tw-animate-css@1.3.3: {}\n\n  typescript@5.0.2: {}\n\n  undici-types@6.11.1: {}\n\n  update-browserslist-db@1.1.3(browserslist@4.26.3):\n    dependencies:\n      browserslist: 4.26.3\n      escalade: 3.2.0\n      picocolors: 1.1.1\n\n  use-callback-ref@1.3.3(@types/react@19.0.0)(react@19.0.0):\n    dependencies:\n      react: 19.0.0\n      tslib: 2.8.1\n    optionalDependencies:\n      '@types/react': 19.0.0\n\n  use-sidecar@1.1.3(@types/react@19.0.0)(react@19.0.0):\n    dependencies:\n      detect-node-es: 1.1.0\n      react: 19.0.0\n      tslib: 2.8.1\n    optionalDependencies:\n      '@types/react': 19.0.0\n\n  use-sync-external-store@1.6.0(react@19.0.0):\n    dependencies:\n      react: 19.0.0\n\n  vaul@1.1.2(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0):\n    dependencies:\n      '@radix-ui/react-dialog': 1.1.15(@types/react-dom@19.0.0)(@types/react@19.0.0)(react-dom@19.0.0(react@19.0.0))(react@19.0.0)\n      react: 19.0.0\n      react-dom: 19.0.0(react@19.0.0)\n    transitivePeerDependencies:\n      - '@types/react'\n      - '@types/react-dom'\n\n  victory-vendor@37.3.6:\n    dependencies:\n      '@types/d3-array': 3.2.2\n      '@types/d3-ease': 3.0.2\n      '@types/d3-interpolate': 3.0.4\n      '@types/d3-scale': 4.0.9\n      '@types/d3-shape': 3.1.7\n      '@types/d3-time': 3.0.4\n      '@types/d3-timer': 3.0.2\n      d3-array: 3.2.4\n      d3-ease: 3.0.1\n      d3-interpolate: 3.0.1\n      d3-scale: 4.0.2\n      d3-shape: 3.2.0\n      d3-time: 3.1.0\n      d3-timer: 3.0.1\n\n  yallist@5.0.0: {}\n\n  zod@3.25.67: {}\n",
            "size_bytes": 130547
        },
        "src/components/shared_ui/select-native/index.ts": {
            "content": "import SelectNative from './select-native';\nimport './select-native.scss';\n\nexport default SelectNative;\n",
            "size_bytes": 105
        },
        "src/components/download/index.ts": {
            "content": "import Download from './download';\nimport './download.scss';\n\nexport default Download;\n",
            "size_bytes": 87
        },
        "src/components/shared/utils/currency/currency.ts": {
            "content": "import { deepFreeze, getPropertyValue } from '../object';\n\nexport type TCurrenciesConfig = {\n    [key: string]: {\n        fractional_digits: number;\n        is_deposit_suspended?: 0 | 1;\n        is_suspended?: 0 | 1;\n        is_withdrawal_suspended?: 0 | 1;\n        name?: string;\n        stake_default?: number;\n        transfer_between_accounts?: {\n            fees?: { [key: string]: number };\n            limits: {\n                max?: number;\n                min: number;\n                [key: string]: unknown;\n            } | null;\n            limits_dxtrade?: { [key: string]: unknown };\n            limits_mt5?: { [key: string]: unknown };\n        };\n        type: string;\n    };\n};\n\nconst currencies_config: TCurrenciesConfig = {};\n\nexport const fiat_currencies_display_order = ['USD', 'EUR', 'GBP', 'AUD'];\nexport const crypto_currencies_display_order = [\n    'TUSDT',\n    'BTC',\n    'ETH',\n    'LTC',\n    'UST',\n    'EUSDT',\n    'BUSD',\n    'DAI',\n    'EURS',\n    'IDK',\n    'PAX',\n    'TUSD',\n    'USDC',\n    'USDK',\n    'XRP',\n];\n\nexport const reorderCurrencies = <T extends { value: string; type: string; name: string }>(\n    list: Array<T>,\n    type = 'fiat'\n) => {\n    const new_order = type === 'fiat' ? fiat_currencies_display_order : crypto_currencies_display_order;\n\n    return list.sort((a, b) => {\n        if (new_order.indexOf(a.value) < new_order.indexOf(b.value)) {\n            return -1;\n        }\n        if (new_order.indexOf(a.value) > new_order.indexOf(b.value)) {\n            return 1;\n        }\n        return 0;\n    });\n};\n\nexport const AMOUNT_MAX_LENGTH = 10;\n\nexport const CURRENCY_TYPE = {\n    CRYPTO: 'crypto',\n    FIAT: 'fiat',\n} as const;\n\nexport const getRoundedNumber = (number: number, currency: string) => {\n    return Number(Number(number).toFixed(getDecimalPlaces(currency)));\n};\n\nexport const getFormattedText = (number: number, currency: string) => {\n    return `${addComma(number, getDecimalPlaces(currency), isCryptocurrency(currency))} ${currency}`;\n};\n\n/**\n * @deprecated Please use 'FormatUtils.formatMoney' from '@deriv-com/utils' instead of this.\n */\nexport const formatMoney = (\n    currency_value: string,\n    amount: number | string,\n    exclude_currency?: boolean,\n    decimals = 0,\n    minimumFractionDigits = 0\n) => {\n    let money: number | string = amount;\n    if (money) money = String(money).replace(/,/g, '');\n    const sign = money && Number(money) < 0 ? '-' : '';\n    const decimal_places = decimals || getDecimalPlaces(currency_value);\n\n    money = isNaN(+money) ? 0 : Math.abs(+money);\n    if (typeof Intl !== 'undefined') {\n        const options = {\n            minimumFractionDigits: minimumFractionDigits || decimal_places,\n            maximumFractionDigits: decimal_places,\n        };\n        money = new Intl.NumberFormat('en', options).format(money);\n    } else {\n        money = addComma(money, decimal_places);\n    }\n\n    return sign + (exclude_currency ? '' : formatCurrency(currency_value)) + money;\n};\n\nexport const formatCurrency = (currency: string) => {\n    return `<span class=\"symbols ${(currency || '').toLowerCase()}\"></span>`;\n};\n\nexport const addComma = (num?: number | string | null, decimal_points?: number, is_crypto?: boolean) => {\n    let number: number | string = String(num || 0).replace(/,/g, '');\n    if (typeof decimal_points !== 'undefined') {\n        number = (+number).toFixed(decimal_points);\n    }\n    if (is_crypto) {\n        number = parseFloat(String(number));\n    }\n\n    return number\n        .toString()\n        .replace(/(^|[^\\w.])(\\d{4,})/g, ($0, $1, $2) => $1 + $2.replace(/\\d(?=(?:\\d\\d\\d)+(?!\\d))/g, '$&,'));\n};\n\nexport const calcDecimalPlaces = (currency: string) => {\n    return isCryptocurrency(currency) ? getPropertyValue(CryptoConfig.get(), [currency, 'fractional_digits']) : 2;\n};\n\nexport const getDecimalPlaces = (currency = '') =>\n    // need to check currencies_config[currency] exists instead of || in case of 0 value\n    currencies_config[currency]\n        ? getPropertyValue(currencies_config, [currency, 'fractional_digits'])\n        : calcDecimalPlaces(currency);\n\n// (currency in crypto_config) is a back-up in case website_status doesn't include the currency config, in some cases where it's disabled\nexport const isCryptocurrency = (currency: string) => {\n    return /crypto/i.test(getPropertyValue(currencies_config, [currency, 'type'])) || currency in CryptoConfig.get();\n};\n\nexport const CryptoConfig = (() => {\n    let crypto_config: any;\n\n    const initCryptoConfig = () =>\n        deepFreeze({\n            BTC: {\n                display_code: 'BTC',\n                name: 'Bitcoin',\n                min_withdrawal: 0.002,\n                pa_max_withdrawal: 5,\n                pa_min_withdrawal: 0.002,\n                fractional_digits: 8,\n            },\n            BUSD: {\n                display_code: 'BUSD',\n                name: 'Binance USD',\n                min_withdrawal: 0.002,\n                pa_max_withdrawal: 5,\n                pa_min_withdrawal: 0.002,\n                fractional_digits: 2,\n            },\n            DAI: {\n                display_code: 'DAI',\n                name: 'Multi-Collateral DAI',\n                min_withdrawal: 0.002,\n                pa_max_withdrawal: 5,\n                pa_min_withdrawal: 0.002,\n                fractional_digits: 2,\n            },\n            EURS: {\n                display_code: 'EURS',\n                name: 'STATIS Euro',\n                min_withdrawal: 0.002,\n                pa_max_withdrawal: 5,\n                pa_min_withdrawal: 0.002,\n                fractional_digits: 2,\n            },\n            IDK: {\n                display_code: 'IDK',\n                name: 'IDK',\n                min_withdrawal: 0.002,\n                pa_max_withdrawal: 5,\n                pa_min_withdrawal: 0.002,\n                fractional_digits: 0,\n            },\n            PAX: {\n                display_code: 'PAX',\n                name: 'Paxos Standard',\n                min_withdrawal: 0.002,\n                pa_max_withdrawal: 5,\n                pa_min_withdrawal: 0.002,\n                fractional_digits: 2,\n            },\n            TUSD: {\n                display_code: 'TUSD',\n                name: 'True USD',\n                min_withdrawal: 0.002,\n                pa_max_withdrawal: 5,\n                pa_min_withdrawal: 0.002,\n                fractional_digits: 2,\n            },\n            USDC: {\n                display_code: 'USDC',\n                name: 'USD Coin',\n                min_withdrawal: 0.002,\n                pa_max_withdrawal: 5,\n                pa_min_withdrawal: 0.002,\n                fractional_digits: 2,\n            },\n            USDK: {\n                display_code: 'USDK',\n                name: 'USDK',\n                min_withdrawal: 0.002,\n                pa_max_withdrawal: 5,\n                pa_min_withdrawal: 0.002,\n                fractional_digits: 2,\n            },\n            eUSDT: {\n                display_code: 'eUSDT',\n                name: 'Tether ERC20',\n                min_withdrawal: 0.002,\n                pa_max_withdrawal: 5,\n                pa_min_withdrawal: 0.002,\n                fractional_digits: 2,\n            },\n            tUSDT: {\n                display_code: 'tUSDT',\n                name: 'Tether TRC20',\n                min_withdrawal: 0.002,\n                pa_max_withdrawal: 5,\n                pa_min_withdrawal: 0.002,\n                fractional_digits: 2,\n            },\n            BCH: {\n                display_code: 'BCH',\n                name: 'Bitcoin Cash',\n                min_withdrawal: 0.002,\n                pa_max_withdrawal: 5,\n                pa_min_withdrawal: 0.002,\n                fractional_digits: 8,\n            },\n            ETH: {\n                display_code: 'ETH',\n                name: 'Ether',\n                min_withdrawal: 0.002,\n                pa_max_withdrawal: 5,\n                pa_min_withdrawal: 0.002,\n                fractional_digits: 8,\n            },\n            ETC: {\n                display_code: 'ETC',\n                name: 'Ether Classic',\n                min_withdrawal: 0.002,\n                pa_max_withdrawal: 5,\n                pa_min_withdrawal: 0.002,\n                fractional_digits: 8,\n            },\n            LTC: {\n                display_code: 'LTC',\n                name: 'Litecoin',\n                min_withdrawal: 0.002,\n                pa_max_withdrawal: 5,\n                pa_min_withdrawal: 0.002,\n                fractional_digits: 8,\n            },\n            XRP: {\n                display_code: 'XRP',\n                name: 'Ripple',\n                min_withdrawal: 0.002,\n                pa_max_withdrawal: 5,\n                pa_min_withdrawal: 0.002,\n                fractional_digits: 6,\n            },\n            UST: {\n                display_code: 'USDT',\n                name: 'Tether Omni',\n                min_withdrawal: 0.02,\n                pa_max_withdrawal: 2000,\n                pa_min_withdrawal: 10,\n                fractional_digits: 2,\n            },\n            // USB: {\n            //     display_code: 'USB',\n            //     name: 'Binary Coin',\n            //     min_withdrawal: 0.02,\n            //     pa_max_withdrawal: 2000,\n            //     pa_min_withdrawal: 10,\n            //     fractional_digits: 2,\n            // },\n        });\n\n    return {\n        get: () => {\n            if (!crypto_config) {\n                crypto_config = initCryptoConfig();\n            }\n            return crypto_config;\n        },\n    };\n})();\n\nexport const getMinWithdrawal = (currency: string) => {\n    return isCryptocurrency(currency) ? getPropertyValue(CryptoConfig.get(), [currency, 'min_withdrawal']) || 0.002 : 1;\n};\n\nexport const getTransferFee = (currency_from: string, currency_to: string) => {\n    const transfer_fee = getPropertyValue(currencies_config, [\n        currency_from,\n        'transfer_between_accounts',\n        'fees',\n        currency_to,\n    ]);\n    return `${typeof transfer_fee === 'undefined' ? '1' : transfer_fee}%`;\n};\n\nexport const getCurrencyDisplayCode = (currency = '') => {\n    // eslint-disable-next-line\n    if (currency !== 'eUSDT' && currency !== 'tUSDT') currency = currency.toUpperCase();\n    return getPropertyValue(CryptoConfig.get(), [currency, 'display_code']) || currency;\n};\n\nexport const getCurrencyName = (currency = '') =>\n    currency === 'USDT' ? 'Tether Omni' : getPropertyValue(currencies_config, [currency, 'name']) || '';\n\nexport const getMinPayout = (currency: string) => {\n    return getPropertyValue(currencies_config, [currency, 'stake_default']);\n};\n\nexport const getCurrencies = () => {\n    return currencies_config;\n};\n\nexport type TAccount = {\n    account_type: 'real' | 'demo';\n    balance: number;\n    currency: string;\n};\n",
            "size_bytes": 10775
        },
        "src/utils/mock/index.ts": { "content": "export { mock_ws } from './ws-mock';\n", "size_bytes": 37 },
        "src/components/shared/utils/brand/index.ts": { "content": "export * from './brand';\n", "size_bytes": 25 },
        "src/components/layout/footer/LanguageSettings.tsx": {
            "content": "import { useMemo } from 'react';\nimport Text from '@/components/shared_ui/text';\nimport { FILTERED_LANGUAGES } from '@/utils/languages';\nimport { useTranslations } from '@deriv-com/translations';\nimport { Tooltip } from '@deriv-com/ui';\n\ntype TLanguageSettings = {\n    openLanguageSettingModal: () => void;\n};\n\nconst LanguageSettings = ({ openLanguageSettingModal }: TLanguageSettings) => {\n    const { currentLang, localize } = useTranslations();\n\n    const countryIcon = useMemo(\n        () => FILTERED_LANGUAGES.find(({ code }: { code: string }) => code == currentLang)?.placeholderIcon,\n        [currentLang]\n    );\n\n    return (\n        <Tooltip\n            as='button'\n            className='app-footer__language'\n            onClick={openLanguageSettingModal}\n            tooltipContent={localize('Language')}\n            aria-label={`${localize('Change language')} - ${localize('Current language')}: ${currentLang}`}\n            aria-expanded='false'\n            aria-haspopup='dialog'\n        >\n            {countryIcon}\n            <Text size='xs' weight='bold'>\n                {currentLang}\n            </Text>\n        </Tooltip>\n    );\n};\n\nexport default LanguageSettings;\n",
            "size_bytes": 1186
        },
        "src/pages/chart/chart-wrapper.tsx": {
            "content": "import React, { useState } from 'react';\nimport { observer } from 'mobx-react-lite';\nimport { v4 as uuidv4 } from 'uuid';\nimport { useStore } from '@/hooks/useStore';\nimport Chart from './chart';\nimport './chart.scss';\n\ninterface ChartWrapperProps {\n    prefix?: string;\n    show_digits_stats: boolean;\n}\n\nconst ChartWrapper = observer(({ prefix = 'chart', show_digits_stats }: ChartWrapperProps) => {\n    const { client } = useStore();\n    const [uuid] = useState(uuidv4());\n\n    const uniqueKey = client.loginid ? `${prefix}-${client.loginid}` : `${prefix}-${uuid}`;\n\n    return <Chart key={uniqueKey} show_digits_stats={show_digits_stats} />;\n});\n\nexport default ChartWrapper;\n",
            "size_bytes": 680
        },
        "src/utils/analytics/index.ts": {
            "content": "import Cookies from 'js-cookie';\nimport { getAppId, LocalStore, MAX_MOBILE_WIDTH } from '@/components/shared';\nimport { Analytics } from '@deriv-com/analytics';\nimport getCountry from '../getCountry';\nimport FIREBASE_INIT_DATA from '../remote_config.json';\n\nexport const AnalyticsInitializer = async () => {\n    try {\n        // Get account type from localStorage, fallback to demo if missing\n        const savedAccountType = localStorage.getItem('account_type');\n        const account_type = savedAccountType || 'demo';\n\n        // Only try to fetch remote config if URL is properly configured\n        const hasValidRemoteConfigUrl =\n            process.env.REMOTE_CONFIG_URL &&\n            process.env.REMOTE_CONFIG_URL !== '' &&\n            process.env.REMOTE_CONFIG_URL !== 'undefined';\n\n        let flags = FIREBASE_INIT_DATA; // Default fallback\n\n        if (hasValidRemoteConfigUrl) {\n            try {\n                // Create abort controller for timeout\n                const controller = new AbortController();\n                const timeoutId = setTimeout(() => controller.abort(), 5000);\n\n                const response = await fetch(process.env.REMOTE_CONFIG_URL!, {\n                    signal: controller.signal,\n                });\n\n                clearTimeout(timeoutId);\n\n                if (response.ok) {\n                    flags = await response.json();\n                } else {\n                    console.warn('Remote config fetch failed, using fallback data');\n                }\n            } catch (fetchError) {\n                console.warn('Remote config fetch error, using fallback data:', fetchError);\n            }\n        } else {\n            console.info('Remote config URL not configured, using default flags');\n        }\n\n        // Initialize analytics if conditions are met\n        if (process.env.RUDDERSTACK_KEY && flags?.tracking_rudderstack) {\n            let ppc_campaign_cookies = Cookies.get('utm_data') as unknown as Record<string, string> | null;\n\n            if (!ppc_campaign_cookies) {\n                ppc_campaign_cookies = {\n                    utm_source: 'no source',\n                    utm_medium: 'no medium',\n                    utm_campaign: 'no campaign',\n                    utm_content: 'no content',\n                };\n            }\n\n            const config = {\n                growthbookKey: flags.marketing_growthbook ? process.env.GROWTHBOOK_CLIENT_KEY : undefined,\n                growthbookDecryptionKey: flags.marketing_growthbook ? process.env.GROWTHBOOK_DECRYPTION_KEY : undefined,\n                rudderstackKey: process.env.RUDDERSTACK_KEY,\n                growthbookOptions: {\n                    disableCache: process.env.APP_ENV !== 'production',\n                    attributes: {\n                        account_type: account_type === 'null' ? 'unlogged' : account_type,\n                        app_id: String(getAppId()),\n                        device_type: window.innerWidth <= MAX_MOBILE_WIDTH ? 'mobile' : 'desktop',\n                        device_language: navigator?.language || 'en-EN',\n                        user_language: LocalStore?.get('i18n_language')\n                            ? JSON.parse(LocalStore.get('i18n_language')?.toLowerCase())\n                            : undefined,\n                        country: await getCountry(),\n                        utm_source: ppc_campaign_cookies?.utm_source,\n                        utm_medium: ppc_campaign_cookies?.utm_medium,\n                        utm_campaign: ppc_campaign_cookies?.utm_campaign,\n                        utm_content: ppc_campaign_cookies?.utm_content,\n                        domain: window.location.hostname,\n                        url: window.location.href,\n                    },\n                },\n            };\n\n            try {\n                await Analytics?.initialise(config);\n            } catch (analyticsError) {\n                console.error('Analytics initialization failed:', analyticsError);\n            }\n        }\n    } catch (error) {\n        console.error('Analytics initializer error:', error);\n    }\n};\n",
            "size_bytes": 4091
        },
        "src/external/bot-skeleton/utils/pending-promise.js": {
            "content": "export default function PendingPromise() {\n    let resolve, reject;\n\n    const promise = new Promise((_resolve, _reject) => {\n        resolve = _resolve;\n        reject = _reject;\n    });\n\n    promise.isPending = true;\n\n    promise.resolve = res => {\n        promise.isPending = false;\n        resolve(res);\n    };\n\n    promise.reject = error => {\n        promise.isPending = false;\n        reject(error);\n    };\n\n    return promise;\n}\n",
            "size_bytes": 436
        },
        "src/analytics/rudderstack-dashboard.ts": {
            "content": "import { Analytics, TEvents } from '@deriv-com/analytics';\nimport { ACTION, form_name } from './constants';\n\nexport const rudderStackSendDashboardClickEvent = ({ dashboard_click_name, subpage_name }: TEvents['ce_bot_form']) => {\n    Analytics.trackEvent('ce_bot_form', {\n        action: ACTION.DASHBOARD_CLICK,\n        form_name,\n        subpage_name,\n        dashboard_click_name,\n    });\n};\n\nexport const rudderStackSendAnnouncementClickEvent = ({ announcement_name }: TEvents['ce_bot_form']) => {\n    Analytics.trackEvent('ce_bot_form', {\n        action: ACTION.ANNOUNCEMENT_CLICK,\n        form_name,\n        subform_name: 'announcements',\n        subform_source: 'dashboard',\n        announcement_name,\n    });\n};\n\nexport const rudderStackSendAnnouncementActionEvent = ({\n    announcement_name,\n    announcement_action,\n}: TEvents['ce_bot_form']) => {\n    Analytics.trackEvent('ce_bot_form', {\n        action: ACTION.ANNOUNCEMENT_ACTION,\n        form_name,\n        subform_name: 'announcements',\n        subform_source: 'dashboard',\n        announcement_name,\n        announcement_action,\n    });\n};\n",
            "size_bytes": 1104
        },
        "src/app/app-content.jsx": {
            "content": "import React, { useEffect } from 'react';\nimport { observer } from 'mobx-react-lite';\nimport { ToastContainer } from 'react-toastify';\nimport AuthLoadingWrapper from '@/components/auth-loading-wrapper';\nimport useLiveChat from '@/components/chat/useLiveChat';\nimport ChunkLoader from '@/components/loader/chunk-loader';\nimport { getUrlBase } from '@/components/shared';\nimport TransactionDetailsModal from '@/components/transaction-details';\nimport { api_base, ApiHelpers, ServerTime } from '@/external/bot-skeleton';\nimport { V2GetActiveToken } from '@/external/bot-skeleton/services/api/appId';\nimport { CONNECTION_STATUS } from '@/external/bot-skeleton/services/api/observables/connection-status-stream';\nimport { useApiBase } from '@/hooks/useApiBase';\nimport useDevMode from '@/hooks/useDevMode';\nimport useIntercom from '@/hooks/useIntercom';\nimport { useStore } from '@/hooks/useStore';\nimport useThemeSwitcher from '@/hooks/useThemeSwitcher';\nimport useTrackjs from '@/hooks/useTrackjs';\nimport initDatadog from '@/utils/datadog';\nimport { setSmartChartsPublicPath } from '@deriv-com/derivatives-charts';\nimport { ThemeProvider } from '@deriv-com/quill-ui';\nimport { localize } from '@deriv-com/translations';\nimport Audio from '../components/audio';\nimport BlocklyLoading from '../components/blockly-loading';\nimport BotStopped from '../components/bot-stopped';\nimport BotBuilder from '../pages/bot-builder';\nimport Main from '../pages/main';\nimport './app.scss';\nimport 'react-toastify/dist/ReactToastify.css';\nimport '../components/bot-notification/bot-notification.scss';\n\nconst AppContent = observer(() => {\n    const [is_api_initialized, setIsApiInitialized] = React.useState(false);\n    const [is_loading, setIsLoading] = React.useState(true);\n\n    const store = useStore();\n    const { app, transactions, common, client } = store;\n    const { is_dark_mode_on } = useThemeSwitcher();\n\n    const { recovered_transactions, recoverPendingContracts } = transactions;\n    const is_subscribed_to_msg_listener = React.useRef(false);\n    const msg_listener = React.useRef(null);\n    const { connectionStatus } = useApiBase();\n    const { initTrackJS } = useTrackjs();\n\n    // Initialize dev mode keyboard shortcuts\n    useDevMode();\n\n    initTrackJS(client.loginid);\n\n    const livechat_client_information = {\n        is_client_store_initialized: client?.is_logged_in ? true : !!client,\n        is_logged_in: client?.is_logged_in,\n        loginid: client?.loginid,\n        currency: client?.currency,\n        residence: client?.residence,\n        email: '',\n        first_name: '',\n        last_name: '',\n    };\n\n    useLiveChat(livechat_client_information);\n\n    const token = V2GetActiveToken() ?? null;\n    useIntercom(token);\n\n    useEffect(() => {\n        if (connectionStatus === CONNECTION_STATUS.OPENED) {\n            setIsApiInitialized(true);\n            common.setSocketOpened(true);\n        } else if (connectionStatus !== CONNECTION_STATUS.OPENED) {\n            common.setSocketOpened(false);\n        }\n    }, [common, connectionStatus]);\n\n    const { current_language } = common;\n    const html = document.documentElement;\n    React.useEffect(() => {\n        html?.setAttribute('lang', current_language.toLowerCase());\n        html?.setAttribute('dir', current_language.toLowerCase() === 'ar' ? 'rtl' : 'ltr');\n    }, [current_language, html]);\n\n    const handleMessage = React.useCallback(\n        ({ data }) => {\n            if (data?.msg_type === 'proposal_open_contract' && !data?.error) {\n                const { proposal_open_contract } = data;\n                if (\n                    proposal_open_contract?.status !== 'open' &&\n                    !recovered_transactions?.includes(proposal_open_contract?.contract_id)\n                ) {\n                    recoverPendingContracts(proposal_open_contract);\n                }\n            }\n        },\n        [recovered_transactions, recoverPendingContracts]\n    );\n\n    React.useEffect(() => {\n        setSmartChartsPublicPath(getUrlBase('/js/smartcharts/'));\n    }, []);\n\n    React.useEffect(() => {\n        // Check if api is initialized and then subscribe to the api messages\n        // Also we should only subscribe to the messages once user is logged in\n        // And is not already subscribed to the messages\n        if (!is_subscribed_to_msg_listener.current && client.is_logged_in && is_api_initialized && api_base?.api) {\n            is_subscribed_to_msg_listener.current = true;\n            msg_listener.current = api_base.api.onMessage()?.subscribe(handleMessage);\n        }\n        return () => {\n            if (is_subscribed_to_msg_listener.current && msg_listener.current) {\n                is_subscribed_to_msg_listener.current = false;\n                msg_listener.current.unsubscribe?.();\n            }\n        };\n    }, [is_api_initialized, client.is_logged_in, client.loginid, handleMessage, connectionStatus]);\n\n    const init = () => {\n        ServerTime.init(common);\n        app.setDBotEngineStores();\n        ApiHelpers.setInstance(app.api_helpers_store);\n        import('@/utils/gtm').then(({ default: GTM }) => {\n            GTM.init(store);\n        });\n    };\n\n    const changeActiveSymbolLoadingState = () => {\n        init();\n\n        const retrieveActiveSymbols = () => {\n            const { active_symbols } = ApiHelpers.instance;\n            active_symbols.retrieveActiveSymbols(true).then(() => {\n                setIsLoading(false);\n            });\n        };\n\n        if (ApiHelpers?.instance?.active_symbols) {\n            retrieveActiveSymbols();\n        } else {\n            // This is a workaround to fix the issue where the active symbols are not loaded immediately\n            // when the API is initialized. Should be replaced with RxJS pubsub\n            const intervalId = setInterval(() => {\n                if (ApiHelpers?.instance?.active_symbols) {\n                    clearInterval(intervalId);\n                    retrieveActiveSymbols();\n                }\n            }, 1000);\n        }\n    };\n\n    React.useEffect(() => {\n        if (is_api_initialized) {\n            init();\n            setIsLoading(true);\n            if (!client.is_logged_in) {\n                changeActiveSymbolLoadingState();\n            }\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [is_api_initialized]);\n\n    React.useEffect(() => {\n        if (client.is_logged_in && is_api_initialized) {\n            changeActiveSymbolLoadingState();\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [is_api_initialized, client.loginid]);\n\n    useEffect(() => {\n        initDatadog(true);\n    }, []);\n\n    if (common?.error) return null;\n\n    return is_loading ? (\n        <ChunkLoader message={localize('Initializing Deriv Bot account...')} />\n    ) : (\n        <AuthLoadingWrapper>\n            <ThemeProvider theme={is_dark_mode_on ? 'dark' : 'light'}>\n                <BlocklyLoading />\n                <div className='bot-dashboard bot' data-testid='dt_bot_dashboard'>\n                    <Audio />\n                    <Main />\n                    <BotBuilder />\n                    <BotStopped />\n                    <TransactionDetailsModal />\n                    <ToastContainer limit={3} draggable={false} />\n                </div>\n            </ThemeProvider>\n        </AuthLoadingWrapper>\n    );\n});\n\nexport default AppContent;\n",
            "size_bytes": 7403
        },
        "src/components/shared/utils/constants/jurisdictions-config.ts": {
            "content": "export const Jurisdiction = Object.freeze({\n    SVG: 'svg',\n    BVI: 'bvi',\n    VANUATU: 'vanuatu',\n    LABUAN: 'labuan',\n    MALTA_INVEST: 'maltainvest',\n});\n\nexport const Platforms = Object.freeze({\n    DXTRADE: 'dxtrade',\n    MT5: 'mt5',\n});\n\nexport const DBVI_COMPANY_NAMES = {\n    bvi: { name: 'Deriv (BVI) Ltd', tnc_url: 'tnc/deriv-(bvi)-ltd.pdf' },\n    labuan: { name: 'Deriv (FX) Ltd', tnc_url: 'tnc/deriv-(fx)-ltd.pdf' },\n    maltainvest: {\n        name: 'Deriv Investments (Europe) Limited',\n        tnc_url: 'tnc/deriv-investments-(europe)-limited.pdf',\n    },\n    vanuatu: { name: 'Deriv (V) Ltd', tnc_url: 'tnc/general-terms.pdf' },\n} as const;\n\nexport const JURISDICTION_MARKET_TYPES = {\n    FINANCIAL: 'financial',\n    DERIVED: 'derived',\n} as const;\n",
            "size_bytes": 766
        },
        "src/components/shared_ui/div100vh-container/index.ts": {
            "content": "import Div100vhContainer from './div100vh-container';\nimport './div100vh-container.scss';\n\nexport default Div100vhContainer;\n",
            "size_bytes": 125
        },
        "src/components/shared_ui/open-livechat-link/index.ts": {
            "content": "import OpenLiveChatLink from './open-livechat-link';\n\nexport default OpenLiveChatLink;\n",
            "size_bytes": 87
        },
        "src/pages/tutorials/dbot-tours/useTourHandler.tsx": {
            "content": "import { useState } from 'react';\nimport { CallBackProps } from 'react-joyride';\n\nexport const useTourHandler = () => {\n    const [is_finished, setIsFinished] = useState(false);\n    const [is_close_tour, setIsCloseTour] = useState(false);\n\n    const handleJoyrideCallback = (data: CallBackProps) => {\n        const { action, status } = data;\n        if (status === 'finished') {\n            setIsFinished(true);\n        } else if (action === 'close' || action === 'skip') {\n            setIsCloseTour(true);\n        }\n    };\n\n    return {\n        is_finished,\n        handleJoyrideCallback,\n        setIsFinished,\n        is_close_tour,\n        setIsCloseTour,\n    };\n};\n",
            "size_bytes": 671
        },
        "scripts/generate-brand-css.js": {
            "content": "const fs = require('fs');\nconst path = require('path');\n\n// Import brand configuration from project root\nconst brandConfig = require('../brand.config.json');\n\n// Main function to update brand colors in _themes.scss\nconst updateBrandColorsInThemes = () => {\n    const themesPath = path.join(__dirname, '../src/components/shared/styles/_themes.scss');\n\n    if (!fs.existsSync(themesPath)) {\n        console.error(' _themes.scss file not found');\n        process.exit(1);\n    }\n\n    // Read the current themes file\n    let themesContent = fs.readFileSync(themesPath, 'utf8');\n    const originalContent = themesContent;\n\n    // Extract colors from brand config\n    const { colors } = brandConfig;\n\n    // Generate brand color variables from config\n    const brandColorLines = [\n        '    /* Brand colors - dynamically generated from brand.config.json */',\n        `    --brand-white: ${colors.white};`,\n        `    --brand-dark-grey: ${colors.black};`,\n        `    --brand-red-coral: ${colors.primary}; /* legacy compatibility */`,\n        `    --brand-orange: ${colors.tertiary}; /* legacy compatibility */`,\n        '',\n        '    /* Dynamic brand colors (set by brand configuration) */',\n        `    --brand-primary: ${colors.primary};`,\n        `    --brand-secondary: ${colors.secondary};`,\n        `    --brand-tertiary: ${colors.tertiary};`,\n        `    --brand-success: ${colors.success};`,\n        `    --brand-danger: ${colors.danger};`,\n        `    --brand-warning: ${colors.warning};`,\n        `    --brand-info: ${colors.info};`,\n        `    --brand-neutral: ${colors.neutral};`,\n    ];\n\n    // Find and replace the brand colors section\n    let insertionPoint = -1;\n    let endPoint = -1;\n\n    // Look for existing brand colors section (with or without AI markers)\n    const brandCommentStart = themesContent.indexOf(\n        '/* Brand colors - dynamically generated from brand.config.json */'\n    );\n    const legacyBrandStart = themesContent.indexOf('    // Brand primary colors');\n\n    if (brandCommentStart !== -1) {\n        // Found modern brand section with comment\n        insertionPoint = themesContent.lastIndexOf('\\n', brandCommentStart) + 1;\n\n        // Look for end marker - either AI closing tag or next major section\n        const aiEndMarker = themesContent.indexOf('/* [/AI] */', brandCommentStart);\n        if (aiEndMarker !== -1) {\n            endPoint = themesContent.indexOf('\\n', aiEndMarker) + 1;\n        } else {\n            // Find end by looking for next CSS section or end of root block\n            const nextSection = themesContent.indexOf('\\n    // App Cards', brandCommentStart);\n            const nextComment = themesContent.indexOf('\\n    /*', brandCommentStart + 100); // Skip current comment\n            const nextThemeClass = themesContent.indexOf('\\n    .theme--', brandCommentStart);\n\n            endPoint = Math.min(...[nextSection, nextComment, nextThemeClass].filter(pos => pos > -1));\n            if (endPoint === Infinity) {\n                // Fallback - find next blank lines\n                endPoint = themesContent.indexOf('\\n\\n    ', brandCommentStart + 100);\n            }\n        }\n    } else if (legacyBrandStart !== -1) {\n        // Found legacy brand section\n        insertionPoint = legacyBrandStart;\n        endPoint = themesContent.indexOf('\\n    // App Cards', legacyBrandStart);\n        if (endPoint === -1) {\n            endPoint = themesContent.indexOf('\\n    .theme--', legacyBrandStart);\n        }\n    } else {\n        // No existing brand section - insert after text align\n        const textAlignEnd = themesContent.indexOf('    --text-align-center: center;');\n        if (textAlignEnd !== -1) {\n            insertionPoint = themesContent.indexOf('\\n', textAlignEnd) + 1;\n            endPoint = insertionPoint;\n        }\n    }\n\n    if (insertionPoint === -1) {\n        console.error(' Could not find insertion point in _themes.scss');\n        process.exit(1);\n    }\n\n    // Replace or insert the brand colors section\n    const beforeSection = themesContent.substring(0, insertionPoint);\n    const afterSection =\n        endPoint > insertionPoint ? themesContent.substring(endPoint) : themesContent.substring(insertionPoint);\n\n    themesContent = beforeSection + '\\n\\n' + brandColorLines.join('\\n') + '\\n' + afterSection;\n\n    // Write the updated file\n    fs.writeFileSync(themesPath, themesContent, 'utf8');\n\n    // Check if changes were made\n    const hasChanges = originalContent !== themesContent;\n\n    if (hasChanges) {\n        console.log(' Brand colors updated successfully in _themes.scss!');\n        console.log(` Updated: ${themesPath}`);\n        console.log(' Changes made:');\n        console.log(`    Brand White: ${colors.white}`);\n        console.log(`    Brand Dark Grey: ${colors.black}`);\n        console.log(`    Primary: ${colors.primary}`);\n        console.log(`    Secondary: ${colors.secondary}`);\n        console.log(`    Tertiary: ${colors.tertiary}`);\n        console.log(`    Success: ${colors.success}`);\n        console.log(`    Danger: ${colors.danger}`);\n        console.log(`    Warning: ${colors.warning}`);\n        console.log(`    Info: ${colors.info}`);\n    } else {\n        console.log(' No changes needed - brand colors already up to date');\n    }\n\n    return hasChanges;\n};\n\n// Validation function\nconst validateBrandConfig = () => {\n    const issues = [];\n\n    if (!brandConfig.colors) {\n        issues.push('Missing colors configuration in brand.config.json');\n    } else {\n        const requiredColors = [\n            'primary',\n            'secondary',\n            'tertiary',\n            'success',\n            'danger',\n            'warning',\n            'info',\n            'neutral',\n            'white',\n            'black',\n        ];\n        requiredColors.forEach(color => {\n            if (!brandConfig.colors[color]) {\n                issues.push(`Missing required color: ${color}`);\n            }\n        });\n    }\n\n    if (issues.length > 0) {\n        console.error(' Brand configuration issues:');\n        issues.forEach(issue => console.error(`  - ${issue}`));\n        process.exit(1);\n    }\n\n    console.log(' Brand configuration is valid');\n    return true;\n};\n\n// Add script to package.json if it doesn't exist\nconst addPackageScript = () => {\n    const packageJsonPath = path.join(__dirname, '../package.json');\n\n    if (!fs.existsSync(packageJsonPath)) {\n        console.log('  package.json not found, skipping script addition');\n        return;\n    }\n\n    const packageJson = JSON.parse(fs.readFileSync(packageJsonPath, 'utf8'));\n\n    if (!packageJson.scripts) {\n        packageJson.scripts = {};\n    }\n\n    if (!packageJson.scripts['generate:brand-css']) {\n        packageJson.scripts['generate:brand-css'] = 'node scripts/generate-brand-css.js';\n        fs.writeFileSync(packageJsonPath, JSON.stringify(packageJson, null, 2), 'utf8');\n        console.log(' Added \"generate:brand-css\" script to package.json');\n    }\n};\n\n// Main execution\nif (require.main === module) {\n    console.log(' Updating brand colors in _themes.scss...\\n');\n\n    validateBrandConfig();\n    const hasChanges = updateBrandColorsInThemes();\n    addPackageScript();\n\n    console.log('\\n Next steps:');\n    if (hasChanges) {\n        console.log('1. The brand colors in _themes.scss have been updated with AI markers');\n        console.log('2. To regenerate: npm run generate:brand-css');\n        console.log('3. Restart your dev server to see the changes');\n    } else {\n        console.log('1. No changes were needed');\n        console.log('2. To force regeneration: npm run generate:brand-css');\n    }\n}\n\nmodule.exports = {\n    updateBrandColorsInThemes,\n    validateBrandConfig,\n};\n",
            "size_bytes": 7769
        },
        "src/components/shared/utils/helpers/barriers.ts": {
            "content": "import { CONTRACT_SHADES } from '../constants';\n\nexport const isBarrierSupported = (contract_type: string) => contract_type in CONTRACT_SHADES;\n\nexport const barriersToString = (is_relative: boolean, ...barriers_list: number[]) =>\n    barriers_list\n        .filter(barrier => barrier !== undefined && barrier !== null)\n        .map(barrier => `${is_relative && !/^[+-]/.test(barrier.toString()) ? '+' : ''}${barrier}`);\n\nexport const removeBarrier = (barriers: { [key: string]: string | number }[], key: string) => {\n    const index = barriers.findIndex(b => b.key === key);\n    if (index > -1) {\n        barriers.splice(index, 1);\n    }\n};\n",
            "size_bytes": 641
        },
        "src/components/shared_ui/contract-card/contract-card-items/vanilla-options-card-body.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { addComma, getDisplayStatus, isCryptocurrency } from '@/components/shared';\nimport { TContractInfo } from '@/components/shared/utils/contract/contract-types';\nimport ArrowIndicator from '../../arrow-indicator';\nimport DesktopWrapper from '../../desktop-wrapper';\nimport MobileWrapper from '../../mobile-wrapper';\nimport Money from '../../money';\nimport { TGetCardLables } from '../../types';\nimport { ResultStatusIcon } from '../result-overlay/result-overlay';\nimport ContractCardItem from './contract-card-item';\n\nexport type TVanillaOptionsCardBodyProps = {\n    contract_info: TContractInfo;\n    currency: string;\n    getCardLabels: TGetCardLables;\n    is_sold: boolean;\n    progress_slider: React.ReactNode;\n};\n\nconst VanillaOptionsCardBody: React.FC<TVanillaOptionsCardBodyProps> = ({\n    contract_info,\n    currency,\n    getCardLabels,\n    is_sold,\n    progress_slider,\n}) => {\n    const { buy_price, bid_price, entry_spot, barrier, sell_price, profit }: TContractInfo = contract_info;\n    const contract_value = is_sold ? sell_price : bid_price;\n    const { CONTRACT_VALUE, ENTRY_SPOT, STAKE, STRIKE, TOTAL_PROFIT_LOSS } = getCardLabels();\n\n    return (\n        <React.Fragment>\n            <DesktopWrapper>\n                <div className='dc-contract-card-items-wrapper'>\n                    <ContractCardItem header={STAKE}>\n                        <Money amount={buy_price} currency={currency} />\n                    </ContractCardItem>\n\n                    <ContractCardItem className='dc-contract-card-item__contract-value' header={CONTRACT_VALUE}>\n                        <div\n                            className={classNames({\n                                'dc-contract-card--profit': Number(profit) > 0,\n                                'dc-contract-card--loss': Number(profit) < 0,\n                            })}\n                        >\n                            <Money amount={contract_value} currency={currency} />\n                        </div>\n                        {!is_sold && (\n                            <ArrowIndicator\n                                className='dc-contract-card__indicative--movement'\n                                value={sell_price || contract_value}\n                            />\n                        )}\n                    </ContractCardItem>\n\n                    <ContractCardItem header={ENTRY_SPOT}>{entry_spot && addComma(entry_spot)}</ContractCardItem>\n\n                    <ContractCardItem header={STRIKE}>{barrier && addComma(barrier)}</ContractCardItem>\n                </div>\n                <ContractCardItem\n                    className='dc-contract-card-item__total-profit-loss'\n                    header={TOTAL_PROFIT_LOSS}\n                    is_crypto={isCryptocurrency(currency)}\n                    is_loss={Number(profit) < 0}\n                    is_won={Number(profit) > 0}\n                >\n                    <Money amount={profit} currency={currency} />\n                    {!is_sold && <ArrowIndicator className='dc-contract-card__indicative--movement' value={profit} />}\n                </ContractCardItem>\n            </DesktopWrapper>\n            <MobileWrapper>\n                <div className='dc-contract-card-items-wrapper--mobile'>\n                    <div className='dc-contract-card-items-wrapper-group'>\n                        <ContractCardItem header={STAKE}>\n                            <Money amount={buy_price} currency={currency} />\n                        </ContractCardItem>\n\n                        <ContractCardItem header={ENTRY_SPOT}>{entry_spot && addComma(entry_spot)}</ContractCardItem>\n                    </div>\n\n                    <div className='dc-contract-card-items-wrapper-group'>\n                        <ContractCardItem header={CONTRACT_VALUE}>\n                            <div\n                                className={classNames({\n                                    'dc-contract-card--profit': Number(profit) > 0,\n                                    'dc-contract-card--loss': Number(profit) < 0,\n                                })}\n                            >\n                                <Money amount={contract_value} currency={currency} />\n                            </div>\n                            {!is_sold && (\n                                <ArrowIndicator\n                                    className='dc-contract-card__indicative--movement'\n                                    value={sell_price || contract_value}\n                                />\n                            )}\n                        </ContractCardItem>\n\n                        <ContractCardItem header={STRIKE}>{barrier && addComma(barrier)}</ContractCardItem>\n                    </div>\n\n                    {is_sold ? (\n                        <ResultStatusIcon\n                            getCardLabels={getCardLabels}\n                            is_contract_won={getDisplayStatus(contract_info) === 'won'}\n                        />\n                    ) : (\n                        progress_slider\n                    )}\n                    <ContractCardItem\n                        className='dc-contract-card-item__total-profit-loss'\n                        header={TOTAL_PROFIT_LOSS}\n                        is_crypto={isCryptocurrency(currency)}\n                        is_loss={Number(profit) < 0}\n                        is_won={Number(profit) > 0}\n                    >\n                        <Money amount={profit} currency={currency} />\n                        {!is_sold && (\n                            <ArrowIndicator className='dc-contract-card__indicative--movement' value={profit} />\n                        )}\n                    </ContractCardItem>\n                </div>\n            </MobileWrapper>\n        </React.Fragment>\n    );\n};\n\nexport default React.memo(VanillaOptionsCardBody);\n",
            "size_bytes": 5903
        },
        "src/pages/tutorials/faq-content/index.tsx": {
            "content": "import React, { KeyboardEvent } from 'react';\nimport parse from 'html-react-parser';\nimport Accordion from '@/components/shared_ui/accordion';\nimport Text from '@/components/shared_ui/text';\nimport { DBOT_TABS } from '@/constants/bot-contents';\nimport { useStore } from '@/hooks/useStore';\nimport { Localize } from '@deriv-com/translations';\nimport { useDevice } from '@deriv-com/ui';\nimport { TDescription } from '../tutorials.types';\n\ntype TFAQContent = {\n    faq_list: TFAQList[];\n    handleTabChange: (active_number: number) => void;\n};\n\ntype TFAQList = {\n    title: string;\n    description: TDescription[];\n    search_id?: string;\n};\n\nconst FAQ = ({ type, content = '', src, imageclass, is_mobile }: TDescription) => {\n    if (type === 'image') return <img src={src} className={imageclass} />;\n\n    return (\n        <Text\n            as='p'\n            size={is_mobile ? 'xs' : 's'}\n            lineHeight={is_mobile ? 'xl' : 'xxl'}\n            className='faq__description'\n            weight='normal'\n            key={content}\n        >\n            {parse(content)}\n        </Text>\n    );\n};\n\nconst scrollToElement = (wrapper_element: HTMLElement, offset: number) => {\n    if (wrapper_element) {\n        wrapper_element.scrollTo({\n            top: offset,\n            behavior: 'smooth',\n        });\n    }\n};\n\nconst FAQContent = ({ faq_list, handleTabChange }: TFAQContent) => {\n    const { isDesktop } = useDevice();\n    const { dashboard } = useStore();\n    const { faq_title, setFaqTitle } = dashboard;\n\n    const handleAccordionOpen = () => {\n        faq_list.forEach(data => {\n            if (data.search_id === faq_title) {\n                document.querySelectorAll('.faq__title').forEach((data, index) => {\n                    if (Number(faq_title.split('-')[1]) === index) {\n                        data.click();\n                        setFaqTitle('');\n                        handleTabChange(DBOT_TABS.TUTORIAL);\n                    }\n                });\n            }\n        });\n    };\n\n    React.useEffect(() => {\n        handleAccordionOpen();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const faq_wrapper_element = React.useRef<HTMLDivElement>(null);\n    const timer_id = React.useRef<ReturnType<typeof setTimeout> | null>(null);\n\n    const handleAccordionClick = () => {\n        // Scroll to the top of the open accordion item.\n        // Need timer to first close the accordion item then scroll the new item to top.\n        timer_id.current = setTimeout(() => {\n            const open_accordion_element: HTMLElement | null | undefined =\n                faq_wrapper_element.current?.querySelector('.dc-accordion__item--open');\n            const previous_sibling_element = open_accordion_element?.previousElementSibling as HTMLElement;\n            if (faq_wrapper_element.current && open_accordion_element) {\n                const offset = previous_sibling_element ? previous_sibling_element.offsetTop - 80 : 0;\n                const desktop_scroll_element = document.querySelector('.dc-tabs__content--tutorials') as HTMLElement;\n                const mobile_scroll_element = document.querySelector('.tutorials-mobile__faq') as HTMLElement;\n                const scroll_element = isDesktop ? desktop_scroll_element : mobile_scroll_element;\n                scrollToElement(scroll_element, offset);\n            }\n            if (timer_id?.current) clearTimeout(timer_id.current);\n        }, 5);\n    };\n\n    const handleKeyboardEvent = (e: KeyboardEvent) => {\n        if (e.key === 'Enter') handleAccordionClick();\n    };\n\n    React.useEffect(() => {\n        return () => {\n            if (timer_id.current) clearTimeout(timer_id.current);\n        };\n    }, []);\n\n    const getList = () => {\n        return faq_list.map(({ title, description }: TFAQList) => ({\n            header: (\n                <Text\n                    as='p'\n                    lineHeight='xl'\n                    className='faq__title'\n                    weight='bold'\n                    key={title}\n                    size={isDesktop ? 's' : 'xs'}\n                >\n                    {title}\n                </Text>\n            ),\n            content: description?.map((item, index) => (\n                <FAQ {...item} is_mobile={!isDesktop} key={`faq-description-item-${item?.content}-${index}`} />\n            )),\n        }));\n    };\n\n    return React.useMemo(\n        () => (\n            <div data-testid='id-faq__wrapper'>\n                <div className='faq__wrapper' ref={faq_wrapper_element}>\n                    {faq_list?.length > 0 && (\n                        <>\n                            <Text\n                                as='p'\n                                lineHeight='xl'\n                                className='faq__wrapper__header'\n                                weight='bold'\n                                size={isDesktop ? 's' : 'xs'}\n                            >\n                                <Localize i18n_default_text='FAQ' />\n                            </Text>\n                            <div\n                                data-testid='id-accordion-test'\n                                onClick={handleAccordionClick}\n                                onKeyDown={handleKeyboardEvent}\n                            >\n                                <Accordion className='faq__wrapper__content' list={getList()} />\n                            </div>\n                        </>\n                    )}\n                </div>\n            </div>\n        ),\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [faq_list]\n    );\n};\n\nexport default FAQContent;\n",
            "size_bytes": 5650
        },
        "src/external/bot-skeleton/scratch/hooks/variable.js": {
            "content": "/* This overrides the createVariable method of window.Blockly.VariableMap.prototype.createVariable.\nThis was done to allow for the creation of variables with the same name but different sentence case (ex: ema, EMA).\nThis was done because with the update of new blockly. It does not support variables with same names irrespective of the sentence case.\nIn Order to fix this issue we are avoid throwing error if the name is same but the sentence case is different and we are appending a _ in the duplicated variable. */\n\nwindow.Blockly.VariableMap.prototype.createVariable = function (name, opt_type, opt_id) {\n    let variable = this.getVariable(name, opt_type);\n    if (variable && variable?.name === name) {\n        if (opt_id && variable.getId() !== opt_id) {\n            throw Error(\n                `Variable \"${name}\" is already in use and its id is \"${variable.getId()}\" which conflicts with the passed in ` +\n                    `id, \"${opt_id}\".`\n            );\n        }\n        // The variable already exists and has the same ID.\n        return variable;\n    }\n    if (opt_id && this.getVariableById(opt_id)) {\n        throw Error(`Variable id, \"${opt_id}\", is already in use.`);\n    }\n    const id = opt_id || window.Blockly.utils.idGenerator.genUid();\n    const type = opt_type || '';\n    variable = new window.Blockly.VariableModel(this.workspace, variable ? `${name}_` : name, type, id);\n\n    const variables = this.variableMap.get(type) || [];\n    variables.push(variable);\n    // Delete the list of variables of this type, and re-add it so that\n    // the most recent addition is at the end.\n    // This is used so the toolbox's set block is set to the most recent\n    // variable.\n    this.variableMap.delete(type);\n    this.variableMap.set(type, variables);\n\n    window.Blockly.Events.fire(new (window.Blockly.Events.get(window.Blockly.Events.VAR_CREATE))(variable));\n\n    return variable;\n};\n",
            "size_bytes": 1910
        },
        "src/utils/help-content/help-strings/variables_set.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize(\"This block assigns a given value to a variable, creating the variable if it doesn't already exist.\"),\n        localize(\n            'A variable is among the most important and powerful components in creating a bot. It is a way to store information, either as text or numbers. The information stored as a variable can be used and changed according to the given instructions. Variables can be given any name, but usually they are given useful, symbolic names so that it is easier to call them during the execution of instructions.'\n        ),\n        localize('Creating a variable'),\n        localize('1. From the block library, enter a name for the new variable and click Create.'),\n        localize('2. The new variable will appear as a block under Set variable.'),\n    ],\n};\n",
            "size_bytes": 882
        },
        "src/utils/store-helpers.tsx": {
            "content": "import { standalone_routes } from '@/components/shared';\nimport { generateUrlWithRedirect } from '@/utils/url-redirect-utils';\nimport { Localize } from '@deriv-com/translations';\n\nexport const helpers = {\n    keep_current_contract: (\n        <Localize\n            i18n_default_text='Would you like to keep your current contract or close it? If you decide to keep it running, you can check and close it later on the <0>Reports</0> page.'\n            components={[\n                <a\n                    key={0}\n                    className='link'\n                    rel='noopener noreferrer'\n                    target='_blank'\n                    href={generateUrlWithRedirect(standalone_routes.positions)}\n                />,\n            ]}\n        />\n    ),\n};\n",
            "size_bytes": 765
        },
        "src/components/download/download.tsx": {
            "content": "import { observer } from 'mobx-react-lite';\nimport { useStore } from '@/hooks/useStore';\nimport { downloadFile, getSuccessJournalMessage } from '@/utils/download';\nimport { getSymbolDisplayNameSync } from '@/utils/symbol-display-name';\nimport { Localize, localize } from '@deriv-com/translations';\nimport Button from '../shared_ui/button';\nimport Popover from '../shared_ui/popover';\n\ntype TDownloadProps = {\n    tab: string;\n};\n\nconst Download = observer(({ tab }: TDownloadProps) => {\n    const { run_panel, transactions, journal } = useStore();\n    const { is_clear_stat_disabled, is_running } = run_panel;\n    const { filtered_messages } = journal;\n    const { transactions: transaction_list } = transactions;\n    let disabled = false;\n    let clickFunction, popover_message;\n\n    const downloadTransaction = () => {\n        const items = [\n            [\n                localize('Market'),\n                localize('Reference ID (buy)'),\n                localize('Reference ID (sell)'),\n                localize('Barrier'),\n                localize('Start Time'),\n                localize('Entry Spot'),\n                localize('Entry Spot Time'),\n                localize('Exit Spot'),\n                localize('Exit Spot Time'),\n                localize('Buy Price'),\n                localize('Profit/Loss'),\n            ],\n        ];\n        transaction_list.forEach((transaction: any) => {\n            const data = transaction.data || transaction;\n            if (typeof data === 'string') return;\n\n            // Handle both old and new API structures\n            const market_name = data.display_name || getSymbolDisplayNameSync(data.underlying_symbol || '');\n\n            // Transaction IDs - new API structure\n            const buy_ref_id = String(data.transaction_ids?.buy || data.id || '');\n            const sell_ref_id = String(data.transaction_ids?.sell || '');\n\n            // Barrier\n            const barrier = String(data.barrier || '');\n\n            // Start Time - new API uses purchase_time\n            const start_time = data.purchase_time\n                ? new Date(data.purchase_time * 1000).toISOString().replace('T', ' ').replace('Z', ' GMT')\n                : String(data.date_start || '');\n\n            // Entry Spot\n            const entry_spot = String(data.entry_spot || '');\n\n            // Entry Spot Time - new API uses entry_spot_time\n            const entry_spot_time = data.entry_spot_time\n                ? new Date(data.entry_spot_time * 1000).toISOString().replace('T', ' ').replace('Z', ' GMT')\n                : String(data.entry_tick_time || '');\n\n            // Exit Spot\n            const exit_spot = String(data.exit_spot || '');\n\n            // Exit Spot Time - new API might use different field\n            const exit_spot_time = data.exit_spot_time\n                ? new Date(data.exit_spot_time * 1000).toISOString().replace('T', ' ').replace('Z', ' GMT')\n                : String(data.exit_tick_time || '');\n\n            // Buy Price\n            const buy_price = String(data.buy_price || '');\n\n            // Profit/Loss\n            const profit_loss = String(data.profit || '');\n\n            items.push([\n                market_name,\n                buy_ref_id,\n                sell_ref_id,\n                barrier,\n                start_time,\n                entry_spot,\n                entry_spot_time,\n                exit_spot,\n                exit_spot_time,\n                buy_price,\n                profit_loss,\n            ]);\n        });\n\n        const content = items.map(e => e.join(',')).join('\\n');\n        downloadFile(localize('Transactions'), content);\n    };\n\n    const downloadJournal = () => {\n        const items = [[localize('Date'), localize('Time'), localize('Message')]];\n\n        filtered_messages.map(item => {\n            let array_message;\n            if (item.message_type !== 'success') {\n                array_message = JSON.stringify(item.message);\n            } else {\n                array_message = getSuccessJournalMessage(item.message.toString(), {\n                    ...item.extra,\n                    profit: String(item.extra?.profit || ''),\n                });\n            }\n            const arr = [\n                String(item.date || ''),\n                String(item.time || ''),\n                String(array_message?.replace('&#x2F;', '/') || ''),\n            ];\n            items.push(arr);\n        });\n        const content = items.map(e => e.join(',')).join('\\n');\n        downloadFile(localize('Journal'), content);\n    };\n\n    if (tab === 'transactions') {\n        clickFunction = downloadTransaction;\n        disabled = !transaction_list.length || is_running;\n        popover_message = localize('Download your transaction history.');\n        if (!transaction_list.length) popover_message = localize('No transaction or activity yet.');\n    } else if (tab === 'journal') {\n        clickFunction = downloadJournal;\n        popover_message = localize('Download your journal.');\n        disabled = is_clear_stat_disabled;\n        if (disabled) popover_message = localize('No transaction or activity yet.');\n    }\n    if (is_running) popover_message = localize('Download is unavailable while your bot is running.');\n\n    return (\n        <Popover\n            className='run-panel__info'\n            classNameBubble='run-panel__info--bubble'\n            alignment='bottom'\n            message={popover_message}\n            zIndex='5'\n        >\n            <Button\n                id='download-button'\n                disabled={disabled}\n                className='download__button'\n                onClick={clickFunction}\n                secondary\n            >\n                <Localize i18n_default_text='Download' />\n            </Button>\n        </Popover>\n    );\n});\n\nexport default Download;\n",
            "size_bytes": 5802
        },
        "src/pages/bot-builder/quick-strategy/descriptions/strategy-description.tsx": {
            "content": "import classNames from 'classnames';\nimport parse from 'html-react-parser';\nimport { observer } from 'mobx-react-lite';\nimport Text from '@/components/shared_ui/text';\nimport { useStore } from '@/hooks/useStore';\nimport { TStrategyDescription } from '../types';\n\nconst StrategyDescription = observer(({ item, font_size }: TStrategyDescription) => {\n    const { ui } = useStore();\n    const { is_dark_mode_on } = ui;\n    const class_name = item?.className ?? '';\n    switch (item.type) {\n        case 'text': {\n            const class_names = classNames(`qs__description__content ${class_name}`);\n            return (\n                <>\n                    {item?.content?.map((text: string) => (\n                        <div className={class_names} key={text}>\n                            <Text size={font_size}>{parse(text)}</Text>\n                        </div>\n                    ))}\n                </>\n            );\n        }\n        case 'text_italic': {\n            const class_names = classNames(`qs__description__content italic ${class_name}`);\n            return (\n                <>\n                    {item?.content?.map((text: string) => (\n                        <div className={class_names} key={text}>\n                            <Text size={font_size}>{parse(text)}</Text>\n                        </div>\n                    ))}\n                </>\n            );\n        }\n        case 'media': {\n            const class_names = classNames(`qs__description__image ${class_name}`);\n            return (\n                <div className={class_names} style={item?.styles}>\n                    <img src={is_dark_mode_on ? (item.dark_src ?? item.src) : item.src} alt={item.alt} />\n                </div>\n            );\n        }\n        default:\n            return null;\n    }\n});\n\nexport default StrategyDescription;\n",
            "size_bytes": 1832
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Tools/Misc/notify_telegram.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { emptyTextValidator, modifyContextMenu } from '../../../../utils';\n\nwindow.Blockly.Blocks.notify_telegram = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Notify Telegram %1 Access Token: %2 Chat ID: %3 Message: %4'),\n            args0: [\n                {\n                    type: 'input_dummy',\n                },\n                {\n                    type: 'input_value',\n                    name: 'TELEGRAM_ACCESS_TOKEN',\n                },\n                {\n                    type: 'input_value',\n                    name: 'TELEGRAM_CHAT_ID',\n                },\n                {\n                    type: 'input_value',\n                    name: 'TELEGRAM_MESSAGE',\n                },\n            ],\n            inputsInline: true,\n            colour: window.Blockly.Colours.Special3.colour,\n            colourSecondary: window.Blockly.Colours.Special3.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Special3.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Sends a message to Telegram'),\n            category: window.Blockly.Categories.Miscellaneous,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    meta() {\n        return {\n            display_name: localize('Notify Telegram'),\n            description: localize('This block sends a message to a Telegram channel.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            TELEGRAM_ACCESS_TOKEN: emptyTextValidator,\n            TELEGRAM_CHAT_ID: emptyTextValidator,\n            TELEGRAM_MESSAGE: emptyTextValidator,\n        };\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.notify_telegram = block => {\n    const access_token =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'TELEGRAM_ACCESS_TOKEN',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC\n        ) || '';\n    const chat_id =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'TELEGRAM_CHAT_ID',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC\n        ) || '';\n    const message =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'TELEGRAM_MESSAGE',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC\n        ) || '';\n\n    if (!access_token || !chat_id || !message) {\n        return '';\n    }\n\n    const code = `Bot.notifyTelegram(${access_token}, ${chat_id}, ${message});\\n`;\n    return code;\n};\n",
            "size_bytes": 2750
        },
        "src/components/load-modal/section-message/index.ts": {
            "content": "import SectionMessage from './section-message';\nimport './section-message.scss';\n\nexport default SectionMessage;\n",
            "size_bytes": 113
        },
        "src/pages/bot-builder/toolbar/index.ts": {
            "content": "import Toolbar from './toolbar';\nimport './toolbar.scss';\n\nexport default Toolbar;\n",
            "size_bytes": 83
        },
        "src/components/journal/journal.types.ts": {
            "content": "import React from 'react';\n\ntype TExtraFilterMessage = {\n    currency: string;\n    profit: number;\n};\ntype TExtraJournal = {\n    longcode: string;\n    transaction_id: number;\n};\n\nexport type TDateItemProps = Record<'date' | 'time', string>;\n\nexport type TFilterMessageValues = {\n    className: string;\n    date: string;\n    extra: TExtraFilterMessage | TExtraJournal;\n    message: string | ((value: () => void) => string);\n    message_type: string;\n    time: string;\n    unique_id: string;\n};\n\ntype TFilterMessageProps = Array<TFilterMessageValues> | TFilterMessageValues;\n\ntype TKeyFilters = 'error' & 'notify' & 'success';\ntype TValuesFilters = 'Errors' & 'Notifications' & 'System';\n\ntype TFilters = Array<{ id: TKeyFilters; label: TValuesFilters }>;\nexport type TCheckedFilters = Record<'error' | 'notify' | 'success', string[]>;\n\nexport type TFilterDialogProps = {\n    toggle_ref: React.RefObject<HTMLDivElement>;\n    checked_filters: TCheckedFilters;\n    filters: TFilters;\n    filterMessage: () => TFilterMessageProps;\n    is_filter_dialog_visible: boolean;\n    toggleFilterDialog: () => void;\n};\n\nexport type TJournalToolsProps = {\n    checked_filters: TCheckedFilters;\n    filters: TFilters;\n    filterMessage: () => TFilterMessageProps;\n    is_filter_dialog_visible: boolean;\n    toggleFilterDialog: () => void;\n};\n\nexport type TFiltersProps = {\n    wrapper_ref: React.RefObject<HTMLDivElement>;\n    checked_filters: TCheckedFilters;\n    filters: TFilters;\n    filterMessage: (checked: boolean, item_id: number) => TFilterMessageProps;\n    className: string;\n    classNameLabel?: string;\n};\n\nexport type TJournalProps = {\n    contract_stage: number;\n    filtered_messages: TFilterMessageProps | [];\n    is_drawer_open: boolean;\n    is_stop_button_visible: boolean;\n    unfiltered_messages: TFilterMessageProps;\n    checked_filters: TCheckedFilters;\n    filterMessage: () => TFilterMessageProps;\n    filters: TFilters;\n    is_filter_dialog_visible: boolean;\n    toggleFilterDialog: () => void;\n};\n\nexport type TJournalItemProps = {\n    row: TFilterMessageValues;\n    is_new_row: boolean;\n    measure: () => void;\n};\n\nexport type TJournalItemExtra = TExtraFilterMessage & TExtraJournal & { sold_for: string; current_currency?: string };\n\nexport type TFormatMessageProps = {\n    logType: string;\n    className: string;\n    extra: TJournalItemExtra;\n};\n\nexport type TJournalDataListArgs = {\n    is_new_row: boolean;\n    is_scrolling: boolean;\n    measure: () => void;\n    passthrough?: any;\n    row: TFilterMessageValues;\n};\n",
            "size_bytes": 2531
        },
        "src/pages/bot-builder/quick-strategy/index.ts": {
            "content": "import QuickStrategy from './quick-strategy';\n\nexport default QuickStrategy;\n",
            "size_bytes": 77
        },
        "src/components/shared/utils/shortcode/shortcode.ts": {
            "content": "type TIsHighLow = {\n    shortcode?: string;\n    shortcode_info?: {\n        category?: string;\n        underlying?: string;\n        barrier_1?: string;\n        multiplier?: string;\n        start_time?: string;\n    };\n};\n\ntype TInfoFromShortcode = Record<\n    | 'category'\n    | 'underlying'\n    | 'barrier_1'\n    | 'multiplier'\n    | 'start_time'\n    | 'payout_tick'\n    | 'growth_rate'\n    | 'growth_frequency',\n    string\n>;\n\n// category_underlying_amount\nconst base_pattern =\n    '^([A-Z]+)_((?:1HZ[0-9-V]+)|(?:(?:CRASH|BOOM)[0-9\\\\d]+[A-Z]?)|(?:cry_[A-Z]+)|(?:JD[0-9]+)|(?:OTC_[A-Z0-9]+)|R_[\\\\d]{2,3}|[A-Z]+)_([\\\\d.]+)';\n\n// category_underlying_amount_payouttick_growthrate_growthfrequency_ticksizebarrier_starttime\nconst accumulators_regex = new RegExp(`${base_pattern}_(\\\\d+)_(\\\\d*\\\\.?\\\\d*)_(\\\\d+)_(\\\\d*\\\\.?\\\\d*)_(\\\\d+)`);\n\n// category_underlying_amount_multiplier_starttime\nconst multipliers_regex = new RegExp(`${base_pattern}_(\\\\d+)_(\\\\d+)`);\n\n// category_underlying_amount_starttime_endtime_barrier\nconst options_regex = new RegExp(`${base_pattern}_([A-Z\\\\d]+)_([A-Z\\\\d]+)_?([A-Z\\\\d]+)?`);\n\nexport const extractInfoFromShortcode = (shortcode: string): TInfoFromShortcode => {\n    const info_from_shortcode = {\n        category: '',\n        underlying: '',\n        barrier_1: '',\n        multiplier: '',\n        start_time: '',\n        payout_tick: '',\n        growth_rate: '',\n        growth_frequency: '',\n    };\n\n    const is_accumulators = /^ACCU/i.test(shortcode);\n    const is_multipliers = /^MULT/i.test(shortcode);\n\n    // First group of regex pattern captures the trade category, second group captures the market's underlying\n    let pattern;\n    if (is_multipliers) {\n        pattern = multipliers_regex;\n    } else pattern = is_accumulators ? accumulators_regex : options_regex;\n    const extracted = pattern.exec(shortcode);\n\n    if (extracted !== null) {\n        info_from_shortcode.category = extracted[1].charAt(0).toUpperCase() + extracted[1].slice(1).toLowerCase();\n        info_from_shortcode.underlying = extracted[2];\n\n        if (is_multipliers) {\n            info_from_shortcode.multiplier = extracted[4];\n            info_from_shortcode.start_time = extracted[5];\n        } else if (is_accumulators) {\n            info_from_shortcode.payout_tick = extracted[4];\n            info_from_shortcode.growth_rate = extracted[5];\n            info_from_shortcode.growth_frequency = extracted[6];\n            info_from_shortcode.start_time = extracted[8];\n        } else {\n            info_from_shortcode.start_time = extracted[4];\n        }\n\n        if (/^(CALL|PUT)$/i.test(info_from_shortcode.category)) {\n            info_from_shortcode.barrier_1 = extracted[6];\n        }\n    }\n\n    return info_from_shortcode;\n};\n\nexport const isHighLow = ({ shortcode = '', shortcode_info }: TIsHighLow) => {\n    const info_from_shortcode = shortcode ? extractInfoFromShortcode(shortcode) : shortcode_info;\n    return info_from_shortcode && info_from_shortcode.barrier_1 ? !/^S0P$/.test(info_from_shortcode.barrier_1) : false;\n};\n\nconst getStartTime = (shortcode: string) => {\n    const shortcode_info = extractInfoFromShortcode(shortcode);\n    if (shortcode_info?.multiplier) return false;\n    return shortcode_info?.start_time || '';\n};\n\nexport const isForwardStarting = (shortcode: string, purchase_time?: number) => {\n    const start_time = getStartTime(shortcode);\n    return start_time && purchase_time && /f$/gi.test(start_time);\n};\n\nexport const hasForwardContractStarted = (shortcode: string) => {\n    const start_time = getStartTime(shortcode);\n    return start_time && Date.now() / 1000 > Number(start_time.slice(0, -1));\n};\n",
            "size_bytes": 3646
        },
        "src/external/bot-skeleton/scratch/blocks/Advanced/Variable/variables_set.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.variables_set = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            type: 'field_variable',\n            message0: localize('set {{ variable }} to {{ value }}', {\n                variable: '%1',\n                value: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VAR',\n                    variable: localize('item'),\n                },\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                },\n            ],\n            colour: window.Blockly.Colours.Special2.colour,\n            colourSecondary: window.Blockly.Colours.Special2.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Special2.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Sets variable value'),\n            category: window.Blockly.Categories.Variables,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Set variable'),\n            description: localize('Assigns a given value to a variable'),\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.variables_set = block => {\n    const argument0 =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'VALUE',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_ASSIGNMENT\n        ) || '0';\n    // eslint-disable-next-line no-underscore-dangle\n    const varName = window.Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VAR'),\n        window.Blockly.Variables.CATEGORY_NAME\n    );\n\n    const code = `${varName} = ${argument0};\\n`;\n    return code;\n};\n",
            "size_bytes": 1984
        },
        "analysis-tool/Benanalysistool-final-main/app/api/deriv/route.ts": {
            "content": "import { type NextRequest, NextResponse } from \"next/server\"\n\n// This is a simple API route to provide market symbols\n// The actual WebSocket connection happens on the client side\nexport async function GET(request: NextRequest) {\n  const searchParams = request.nextUrl.searchParams\n  const action = searchParams.get(\"action\")\n\n  if (action === \"symbols\") {\n    // Return available Deriv markets\n    const symbols = [\n      { value: \"R_100\", label: \"Volatility 100 Index\", category: \"volatility\" },\n      { value: \"R_75\", label: \"Volatility 75 Index\", category: \"volatility\" },\n      { value: \"R_50\", label: \"Volatility 50 Index\", category: \"volatility\" },\n      { value: \"R_25\", label: \"Volatility 25 Index\", category: \"volatility\" },\n      { value: \"R_10\", label: \"Volatility 10 Index\", category: \"volatility\" },\n      { value: \"1HZ100V\", label: \"1HZ Volatility 100\", category: \"1hz\" },\n      { value: \"1HZ75V\", label: \"1HZ Volatility 75\", category: \"1hz\" },\n      { value: \"1HZ50V\", label: \"1HZ Volatility 50\", category: \"1hz\" },\n      { value: \"frxEURUSD\", label: \"EUR/USD\", category: \"forex\" },\n      { value: \"frxGBPUSD\", label: \"GBP/USD\", category: \"forex\" },\n      { value: \"frxUSDJPY\", label: \"USD/JPY\", category: \"forex\" },\n      { value: \"frxAUDUSD\", label: \"AUD/USD\", category: \"forex\" },\n      { value: \"frxXAUUSD\", label: \"Gold/USD\", category: \"commodities\" },\n      { value: \"frxXAGUSD\", label: \"Silver/USD\", category: \"commodities\" },\n    ]\n\n    return NextResponse.json({ symbols })\n  }\n\n  return NextResponse.json({ error: \"Invalid action\" }, { status: 400 })\n}\n",
            "size_bytes": 1579
        },
        "src/stores/run-panel-store.ts": {
            "content": "import { action, computed, makeObservable, observable, reaction, runInAction } from 'mobx';\nimport { botNotification } from '@/components/bot-notification/bot-notification';\nimport { notification_message } from '@/components/bot-notification/bot-notification-utils';\nimport { isSafari, mobileOSDetect, standalone_routes } from '@/components/shared';\nimport { redirectToSignUp } from '@/components/shared';\nimport { contract_stages, TContractStage } from '@/constants/contract-stage';\nimport { run_panel } from '@/constants/run-panel';\nimport { ErrorTypes, MessageTypes, observer, unrecoverable_errors } from '@/external/bot-skeleton';\nimport { getSelectedTradeType } from '@/external/bot-skeleton/scratch/utils';\n// import { journalError, switch_account_notification } from '@/utils/bot-notifications';\nimport GTM from '@/utils/gtm';\nimport { helpers } from '@/utils/store-helpers';\nimport { generateUrlWithRedirect } from '@/utils/url-redirect-utils';\nimport { Buy, ProposalOpenContract } from '@deriv/api-types';\nimport { TStores } from '@deriv/stores/types';\nimport { localize } from '@deriv-com/translations';\nimport { TDbot } from 'Types';\nimport RootStore from './root-store';\n\nexport type TContractState = {\n    buy?: Buy;\n    contract?: ProposalOpenContract;\n    data: number;\n    id: string;\n};\n\nexport default class RunPanelStore {\n    root_store: RootStore;\n    dbot: TDbot;\n    core: TStores;\n    disposeReactionsFn: () => void;\n    timer: NodeJS.Timeout | null;\n\n    constructor(root_store: RootStore, core: TStores) {\n        makeObservable(this, {\n            active_index: observable,\n            contract_stage: observable,\n            dialog_options: observable,\n            has_open_contract: observable,\n            is_running: observable,\n            is_statistics_info_modal_open: observable,\n            is_drawer_open: observable,\n            is_dialog_open: observable,\n            is_sell_requested: observable,\n            run_id: observable,\n            error_type: observable,\n            show_bot_stop_message: observable,\n            is_stop_button_visible: computed,\n            is_stop_button_disabled: computed,\n            is_clear_stat_disabled: computed,\n            toggleDrawer: action,\n            onBotSellEvent: action,\n            setContractStage: action,\n            setHasOpenContract: action,\n            setIsRunning: action,\n            onRunButtonClick: action,\n            is_contracy_buying_in_progress: observable,\n            OpenPositionLimitExceededEvent: action,\n            onStopButtonClick: action,\n            onClearStatClick: action,\n            clearStat: action,\n            toggleStatisticsInfoModal: action,\n            setActiveTabIndex: action,\n            onCloseDialog: action,\n            stopMyBot: action,\n            closeMultiplierContract: action,\n            showStopMultiplierContractDialog: action,\n            showLoginDialog: action,\n            showRealAccountDialog: action,\n            showClearStatDialog: action,\n            showIncompatibleStrategyDialog: action,\n            showContractUpdateErrorDialog: action,\n            registerBotListeners: action,\n            registerReactions: action,\n            onBotRunningEvent: action,\n            onBotStopEvent: action,\n            onBotReadyEvent: action,\n            onBotTradeAgain: action,\n            onContractStatusEvent: action,\n            onClickSell: action,\n            clear: action,\n            onBotContractEvent: action,\n            onError: action,\n            showErrorMessage: action,\n            switchToJournal: action,\n            unregisterBotListeners: action,\n            handleInvalidToken: action,\n            preloadAudio: action,\n            onMount: action,\n            onUnmount: action,\n        });\n\n        this.root_store = root_store;\n        this.dbot = this.root_store.dbot;\n        this.core = core;\n        this.disposeReactionsFn = this.registerReactions();\n        this.timer = null;\n    }\n\n    active_index = 0;\n    contract_stage: TContractStage = contract_stages.NOT_RUNNING;\n    dialog_options = {};\n    has_open_contract = false;\n    is_running = false;\n    is_statistics_info_modal_open = false;\n    is_drawer_open = true;\n    is_dialog_open = false;\n    is_sell_requested = false;\n    show_bot_stop_message = false;\n    is_contracy_buying_in_progress = false;\n\n    run_id = '';\n    onOkButtonClick: (() => void) | null = null;\n    onCancelButtonClick: (() => void) | null = null;\n\n    // when error happens, if it is unrecoverable_errors we reset run-panel\n    // we activate run-button and clear trade info and set the ContractStage to NOT_RUNNING\n    // otherwise we keep opening new contracts and set the ContractStage to PURCHASE_SENT\n    error_type: ErrorTypes | undefined = undefined;\n\n    get is_stop_button_visible() {\n        return this.is_running || this.has_open_contract;\n    }\n\n    get is_stop_button_disabled() {\n        if (this.is_contracy_buying_in_progress) {\n            return false;\n        }\n        return [contract_stages.PURCHASE_SENT as number, contract_stages.IS_STOPPING as number].includes(\n            this.contract_stage\n        );\n    }\n\n    get is_clear_stat_disabled() {\n        const { journal, transactions } = this.root_store;\n\n        return (\n            this.is_running ||\n            this.has_open_contract ||\n            (journal.unfiltered_messages.length === 0 && transactions?.transactions?.length === 0)\n        );\n    }\n\n    setShowBotStopMessage = (show_bot_stop_message: boolean) => {\n        this.show_bot_stop_message = show_bot_stop_message;\n        if (!show_bot_stop_message) return;\n        const handleNotificationClick = () => {\n            const contract_type = getSelectedTradeType();\n            const baseUrl = `${standalone_routes.positions}?contract_type_bots=${contract_type}`;\n\n            // Use generateUrlWithRedirect to add redirect parameter and account_type from localStorage\n            const urlWithRedirect = generateUrlWithRedirect(baseUrl);\n            window.location.assign(urlWithRedirect);\n        };\n\n        botNotification(notification_message().bot_stop, {\n            label: localize('Reports'),\n            onClick: handleNotificationClick,\n        });\n    };\n\n    onRunButtonClick = async () => {\n        let timer_counter = 1;\n        if (window.sendRequestsStatistic) {\n            performance.clearMeasures();\n            // Log is sent every 10 seconds for 5 minutes\n            this.timer = setInterval(() => {\n                window.sendRequestsStatistic(true);\n                performance.clearMeasures();\n                if (timer_counter === 12) {\n                    clearInterval(this.timer as NodeJS.Timeout);\n                } else {\n                    timer_counter++;\n                }\n            }, 10000);\n        }\n        const { summary_card } = this.root_store;\n        const { client, ui } = this.core;\n        const is_ios = mobileOSDetect() === 'iOS';\n        this.dbot.saveRecentWorkspace();\n        this.dbot.unHighlightAllBlocks();\n        if (!client.is_logged_in) {\n            this.showLoginDialog();\n            return;\n        }\n\n        /**\n         * Due to Apple's policy on cellular data usage in ios audioElement.play() should be initially called on\n         * user action(e.g click/touch) to be downloaded, otherwise throws an error. Also it should be called\n         * syncronously, so keep above await.\n         */\n        if (is_ios || isSafari()) this.preloadAudio();\n\n        this.registerBotListeners();\n\n        if (!this.dbot.shouldRunBot()) {\n            this.unregisterBotListeners();\n            return;\n        }\n\n        ui?.setAccountSwitcherDisabledMessage(\n            localize(\n                'Account switching is disabled while your bot is running. Please stop your bot before switching accounts.'\n            )\n        );\n        runInAction(() => {\n            this.setIsRunning(true);\n            ui.setPromptHandler(true);\n            this.toggleDrawer(true);\n            this.run_id = `run-${Date.now()}`;\n\n            summary_card.clear();\n            this.setContractStage(contract_stages.STARTING);\n            this.dbot.runBot();\n        });\n        this.setShowBotStopMessage(false);\n    };\n\n    onStopButtonClick = () => {\n        this.is_contracy_buying_in_progress = false;\n        const { is_multiplier } = this.root_store.summary_card;\n\n        if (is_multiplier) {\n            this.showStopMultiplierContractDialog();\n        } else {\n            this.stopBot();\n        }\n    };\n\n    onStopBotClick = () => {\n        const { is_multiplier } = this.root_store.summary_card;\n        const { summary_card } = this.root_store;\n\n        if (is_multiplier) {\n            this.showStopMultiplierContractDialog();\n        } else {\n            this.stopBot();\n            summary_card.clear();\n            this.setShowBotStopMessage(true);\n        }\n    };\n\n    stopBot = () => {\n        const { ui } = this.core;\n\n        this.dbot.stopBot();\n\n        ui.setPromptHandler(false);\n\n        if (this.error_type) {\n            // when user click stop button when there is a error but bot is retrying\n            this.setContractStage(contract_stages.NOT_RUNNING);\n            ui.setAccountSwitcherDisabledMessage();\n            this.setIsRunning(false);\n        } else if (this.has_open_contract) {\n            // when user click stop button when bot is running\n            this.setContractStage(contract_stages.IS_STOPPING);\n        } else {\n            // when user click stop button before bot start running\n            this.setContractStage(contract_stages.NOT_RUNNING);\n            this.unregisterBotListeners();\n            ui.setAccountSwitcherDisabledMessage();\n            this.setIsRunning(false);\n        }\n\n        if (this.error_type) {\n            this.error_type = undefined;\n        }\n\n        if (this.timer) {\n            clearInterval(this.timer);\n        }\n        if (window.sendRequestsStatistic) {\n            window.sendRequestsStatistic(true);\n            performance.clearMeasures();\n        }\n    };\n\n    onClearStatClick = () => {\n        this.showClearStatDialog();\n    };\n\n    clearStat = () => {\n        const { summary_card, journal, transactions } = this.root_store;\n\n        this.setIsRunning(false);\n        this.setHasOpenContract(false);\n        this.clear();\n        journal.clear();\n        summary_card.clear();\n        transactions.clear();\n        this.setContractStage(contract_stages.NOT_RUNNING);\n    };\n\n    toggleStatisticsInfoModal = () => {\n        this.is_statistics_info_modal_open = !this.is_statistics_info_modal_open;\n    };\n\n    toggleDrawer = (is_open: boolean) => {\n        this.is_drawer_open = is_open;\n    };\n\n    setActiveTabIndex = (index: number) => {\n        this.active_index = index;\n    };\n\n    onCloseDialog = () => {\n        this.is_dialog_open = false;\n    };\n\n    stopMyBot = () => {\n        const { summary_card, quick_strategy } = this.root_store;\n        const { ui } = this.core;\n        const { toggleStopBotDialog } = quick_strategy;\n\n        ui.setPromptHandler(false);\n        this.dbot.terminateBot();\n        this.onCloseDialog();\n        summary_card.clear();\n        toggleStopBotDialog();\n        if (this.timer) {\n            clearInterval(this.timer);\n        }\n        if (window.sendRequestsStatistic) {\n            window.sendRequestsStatistic(true);\n            performance.clearMeasures();\n        }\n    };\n\n    closeMultiplierContract = () => {\n        const { quick_strategy } = this.root_store;\n        const { toggleStopBotDialog } = quick_strategy;\n\n        this.onClickSell();\n        this.stopBot();\n        this.onCloseDialog();\n        toggleStopBotDialog();\n    };\n\n    showStopMultiplierContractDialog = () => {\n        const { summary_card } = this.root_store;\n        const { ui } = this.core;\n\n        this.onOkButtonClick = () => {\n            ui.setPromptHandler(false);\n            this.dbot.terminateBot();\n            if (this.timer) {\n                clearInterval(this.timer);\n            }\n            if (window.sendRequestsStatistic) {\n                window.sendRequestsStatistic(true);\n                performance.clearMeasures();\n            }\n            this.onCloseDialog();\n            summary_card.clear();\n        };\n        this.onCancelButtonClick = () => {\n            this.onClickSell();\n            this.stopBot();\n            this.onCloseDialog();\n        };\n        this.dialog_options = {\n            title: localize('Keep your current contract?'),\n            message: helpers.keep_current_contract,\n            ok_button_text: localize('Keep my contract'),\n            cancel_button_text: localize('Close my contract'),\n        };\n        this.is_dialog_open = true;\n    };\n\n    showLoginDialog = () => {\n        // Only allow closing through the buttons\n        this.onOkButtonClick = () => {\n            redirectToSignUp();\n            this.is_dialog_open = false;\n        };\n        this.onCancelButtonClick = () => {\n            this.is_dialog_open = false;\n        };\n        this.dialog_options = {\n            title: localize('You are not logged in'),\n            message: localize('Please log in or sign up to start trading with us.'),\n            ok_button_text: localize('Sign up'),\n            cancel_button_text: localize('Log in'),\n            dismissable: false,\n            is_closed_on_cancel: false,\n        };\n        this.is_dialog_open = true;\n    };\n\n    showRealAccountDialog = () => {\n        this.onOkButtonClick = this.onCloseDialog;\n        this.onCancelButtonClick = null;\n        this.dialog_options = {\n            title: localize(\"Deriv Bot isn't quite ready for real accounts\"),\n            message: localize('Please switch to your demo account to run your Deriv Bot.'),\n        };\n        this.is_dialog_open = true;\n    };\n\n    showClearStatDialog = () => {\n        this.onOkButtonClick = () => {\n            this.clearStat();\n            this.onCloseDialog();\n        };\n        this.onCancelButtonClick = this.onCloseDialog;\n        this.dialog_options = {\n            title: localize('Are you sure?'),\n            message: localize(\n                'This will clear all data in the summary, transactions, and journal panels. All counters will be reset to zero.'\n            ),\n        };\n        this.is_dialog_open = true;\n    };\n\n    showIncompatibleStrategyDialog = () => {\n        this.onOkButtonClick = this.onCloseDialog;\n        this.onCancelButtonClick = null;\n        this.dialog_options = {\n            title: localize('Import error'),\n            message: localize('This strategy is currently not compatible with Deriv Bot.'),\n        };\n        this.is_dialog_open = true;\n    };\n\n    showContractUpdateErrorDialog = (message?: string) => {\n        this.onOkButtonClick = this.onCloseDialog;\n        this.onCancelButtonClick = null;\n        this.dialog_options = {\n            title: localize('Contract Update Error'),\n            message,\n        };\n        this.is_dialog_open = true;\n    };\n\n    registerBotListeners = () => {\n        const { summary_card, transactions } = this.root_store;\n\n        observer.register('bot.running', this.onBotRunningEvent);\n        observer.register('bot.sell', this.onBotSellEvent);\n        observer.register('bot.stop', this.onBotStopEvent);\n        observer.register('bot.bot_ready', this.onBotReadyEvent);\n        observer.register('bot.click_stop', this.onStopButtonClick);\n        observer.register('bot.trade_again', this.onBotTradeAgain);\n        observer.register('contract.status', this.onContractStatusEvent);\n        observer.register('bot.contract', this.onBotContractEvent);\n        observer.register('bot.contract', summary_card.onBotContractEvent);\n        observer.register('bot.contract', transactions.onBotContractEvent);\n        observer.register('Error', this.onError);\n        observer.register('bot.recoverOpenPositionLimitExceeded', this.OpenPositionLimitExceededEvent);\n    };\n\n    OpenPositionLimitExceededEvent = () => (this.is_contracy_buying_in_progress = true);\n\n    registerReactions = () => {\n        const { client, common } = this.core;\n        // eslint-disable-next-line prefer-const\n        let disposeIsSocketOpenedListener: (() => void) | undefined, disposeLogoutListener: (() => void) | undefined;\n\n        const registerIsSocketOpenedListener = () => {\n            // TODO: fix notifications\n            if (common.is_socket_opened) {\n                disposeIsSocketOpenedListener = reaction(\n                    () => client.loginid,\n                    loginid => {\n                        if (loginid && this.is_running) {\n                            // TODO: fix notifications\n                            // notifications.addNotificationMessage(switch_account_notification());\n                        }\n                        this.dbot.terminateBot();\n                        this.unregisterBotListeners();\n                    }\n                );\n            } else if (typeof disposeLogoutListener === 'function') {\n                disposeLogoutListener();\n            }\n        };\n\n        registerIsSocketOpenedListener();\n\n        disposeLogoutListener = reaction(\n            () => common.is_socket_opened,\n            () => registerIsSocketOpenedListener()\n        );\n\n        const disposeStopBotListener = reaction(\n            () => !this.is_running,\n            () => {\n                if (!this.is_running) this.setContractStage(contract_stages.NOT_RUNNING);\n            }\n        );\n\n        return () => {\n            if (typeof disposeIsSocketOpenedListener === 'function') {\n                disposeIsSocketOpenedListener();\n            }\n\n            if (typeof disposeLogoutListener === 'function') {\n                disposeLogoutListener();\n            }\n\n            if (typeof disposeStopBotListener === 'function') {\n                disposeStopBotListener();\n            }\n        };\n    };\n\n    onBotRunningEvent = () => {\n        this.setHasOpenContract(true);\n\n        // prevent new version update\n        const ignore_new_version = new Event('IgnorePWAUpdate');\n        document.dispatchEvent(ignore_new_version);\n    };\n\n    onBotSellEvent = () => {\n        this.is_sell_requested = true;\n    };\n\n    onBotStopEvent = () => {\n        const { summary_card } = this.root_store;\n        const { ui } = this.core;\n        const indicateBotStopped = () => {\n            this.error_type = undefined;\n            this.setContractStage(contract_stages.NOT_RUNNING);\n            ui.setAccountSwitcherDisabledMessage();\n            this.unregisterBotListeners();\n        };\n        if (this.error_type === ErrorTypes.RECOVERABLE_ERRORS) {\n            // Bot should indicate it started in below cases:\n            // - When error happens it's a recoverable error\n            const { shouldRestartOnError = false, timeMachineEnabled = false } =\n                this.dbot?.interpreter?.bot?.tradeEngine?.options ?? {};\n            const is_bot_recoverable = shouldRestartOnError || timeMachineEnabled;\n\n            if (is_bot_recoverable) {\n                this.error_type = undefined;\n                this.setContractStage(contract_stages.PURCHASE_SENT);\n            } else {\n                this.setIsRunning(false);\n                indicateBotStopped();\n            }\n        } else if (this.error_type === ErrorTypes.UNRECOVERABLE_ERRORS) {\n            // Bot should indicate it stopped in below cases:\n            // - When error happens and it's an unrecoverable error\n            this.setIsRunning(false);\n            indicateBotStopped();\n        } else if (this.has_open_contract) {\n            // Bot should indicate the contract is closed in below cases:\n            // - When bot was running and an error happens\n            this.error_type = undefined;\n            this.is_sell_requested = false;\n            this.setContractStage(contract_stages.CONTRACT_CLOSED);\n            ui.setAccountSwitcherDisabledMessage();\n            this.unregisterBotListeners();\n        }\n\n        this.setHasOpenContract(false);\n\n        summary_card.clearContractUpdateConfigValues();\n\n        // listen for new version update\n        const listen_new_version = new Event('ListenPWAUpdate');\n        document.dispatchEvent(listen_new_version);\n    };\n\n    onBotReadyEvent = () => {\n        this.setIsRunning(false);\n        observer.unregisterAll('bot.bot_ready');\n    };\n\n    onBotTradeAgain = (is_trade_again: boolean) => {\n        if (!is_trade_again) {\n            this.stopBot();\n        }\n    };\n\n    onContractStatusEvent = (contract_status: TContractState) => {\n        switch (contract_status.id) {\n            case 'contract.purchase_sent': {\n                this.setContractStage(contract_stages.PURCHASE_SENT);\n                break;\n            }\n            case 'contract.purchase_received': {\n                this.is_contracy_buying_in_progress = false;\n                this.setContractStage(contract_stages.PURCHASE_RECEIVED);\n                const { buy } = contract_status;\n                const { is_virtual } = this.core.client;\n\n                if (!is_virtual && buy) {\n                    GTM?.pushDataLayer?.({ event: 'dbot_purchase', buy_price: buy.buy_price });\n                }\n\n                break;\n            }\n            case 'contract.sold': {\n                this.is_sell_requested = false;\n                this.setContractStage(contract_stages.CONTRACT_CLOSED);\n                if (contract_status.contract) GTM.onTransactionClosed(contract_status.contract);\n                break;\n            }\n            default:\n                break;\n        }\n    };\n\n    onClickSell = () => {\n        const { is_multiplier } = this.root_store.summary_card;\n\n        if (is_multiplier) {\n            this.setContractStage(contract_stages.IS_STOPPING);\n        }\n\n        this.dbot.interpreter.bot.getInterface().sellAtMarket();\n    };\n\n    clear = () => {\n        observer.emit('statistics.clear');\n    };\n\n    onBotContractEvent = (data: { is_sold?: boolean }) => {\n        if (data?.is_sold) {\n            this.is_sell_requested = false;\n            this.setContractStage(contract_stages.CONTRACT_CLOSED);\n        }\n    };\n\n    onError = (data: { error: any }) => {\n        // data.error for API errors, data for code errors\n        const error = data.error || data;\n        if (unrecoverable_errors.includes(error.code)) {\n            this.root_store.summary_card.clear();\n            this.error_type = ErrorTypes.UNRECOVERABLE_ERRORS;\n        } else {\n            this.error_type = ErrorTypes.RECOVERABLE_ERRORS;\n        }\n\n        const error_message = error?.message;\n        this.showErrorMessage(error_message);\n    };\n\n    showErrorMessage = (data: string | Error) => {\n        const { journal } = this.root_store;\n        const { ui } = this.core;\n        journal.onError(data);\n        if (journal.journal_filters.some(filter => filter === MessageTypes.ERROR)) {\n            this.toggleDrawer(true);\n            this.setActiveTabIndex(run_panel.JOURNAL);\n            ui.setPromptHandler(false);\n        } else {\n            // TODO: fix notifications\n            // notifications.addNotificationMessage(journalError(this.switchToJournal));\n            // notifications.removeNotificationMessage({ key: 'bot_error' });\n        }\n    };\n\n    switchToJournal = () => {\n        const { journal } = this.root_store;\n        journal.journal_filters.push(MessageTypes.ERROR);\n        this.setActiveTabIndex(run_panel.JOURNAL);\n        this.toggleDrawer(true);\n\n        // TODO: fix notifications\n        // notifications.toggleNotificationsModal();\n        // notifications.removeNotificationByKey({ key: 'bot_error' });\n    };\n\n    unregisterBotListeners = () => {\n        observer.unregisterAll('bot.running');\n        observer.unregisterAll('bot.stop');\n        observer.unregisterAll('bot.click_stop');\n        observer.unregisterAll('bot.trade_again');\n        observer.unregisterAll('contract.status');\n        observer.unregisterAll('bot.contract');\n        observer.unregisterAll('Error');\n    };\n\n    setContractStage = (contract_stage: TContractStage) => {\n        this.contract_stage = contract_stage;\n    };\n\n    setHasOpenContract = (has_open_contract: boolean) => {\n        this.has_open_contract = has_open_contract;\n    };\n\n    setIsRunning = (is_running: boolean) => {\n        this.is_running = is_running;\n    };\n\n    onMount = () => {\n        const { journal } = this.root_store;\n        observer.register('ui.log.error', this.showErrorMessage);\n        observer.register('ui.log.notify', journal.onNotify);\n        observer.register('ui.log.success', journal.onLogSuccess);\n        observer.register('client.invalid_token', this.handleInvalidToken);\n    };\n\n    onUnmount = () => {\n        const { journal, summary_card, transactions } = this.root_store;\n\n        if (!this.is_running) {\n            this.unregisterBotListeners();\n            this.disposeReactionsFn();\n            journal.disposeReactionsFn();\n            summary_card.disposeReactionsFn();\n            transactions.disposeReactionsFn();\n        }\n\n        observer.unregisterAll('ui.log.error');\n        observer.unregisterAll('ui.log.notify');\n        observer.unregisterAll('ui.log.success');\n        observer.unregisterAll('client.invalid_token');\n    };\n\n    handleInvalidToken = async () => {\n        this.setActiveTabIndex(run_panel.SUMMARY);\n    };\n\n    preloadAudio = () => {\n        const strategy_sounds = this.dbot.getStrategySounds() as string[];\n\n        strategy_sounds.forEach((sound: string) => {\n            const audioElement = document.getElementById(sound) as HTMLAudioElement | null;\n            if (!audioElement) return;\n            audioElement.muted = true;\n            audioElement.play().catch(() => {\n                // suppressing abort error, thrown on immediate .pause()\n            });\n            audioElement.pause();\n            audioElement.muted = false;\n        });\n    };\n}\n",
            "size_bytes": 25951
        },
        "src/analytics/utils.ts": {
            "content": "import { STRATEGIES } from '../pages/bot-builder/quick-strategy/config';\nimport { STORED_ITEM_NOT_FOUND, TFormStrategy } from './constants';\n\nexport const rudderstack_text_error = 'Rudderstack: unable to get dropdown text';\n\nexport const getRsDropdownTextFromLocalStorage = () => {\n    try {\n        return JSON.parse(localStorage?.getItem('qs-analytics') ?? '{}');\n    } catch (error) {\n        // eslint-disable-next-line no-console\n        console.error(rudderstack_text_error);\n        return {};\n    }\n};\n\nconst hasStoredText = (parameter: string) => parameter && parameter !== STORED_ITEM_NOT_FOUND;\n\nexport const getRsStrategyType = (selected_strategy: string) => STRATEGIES()[selected_strategy]?.rs_strategy_name;\n\nexport const getQsActiveTabString = (tab: string) => (tab === 'TRADE_PARAMETERS' ? 'trade parameters' : 'learn more');\n\nenum LOAD_MODAL_TABS_VALUE {\n    recent = 'recent',\n    local = 'local',\n    google_drive = 'google drive',\n}\nexport const LOAD_MODAL_TABS = Object.values(LOAD_MODAL_TABS_VALUE);\n\nexport const getTradeParameterData = ({ form_values }: TFormStrategy) => {\n    if (!form_values) return;\n\n    const { symbol, tradetype, type, stake } = form_values;\n    const stored_texts = getRsDropdownTextFromLocalStorage();\n\n    return {\n        asset_type: hasStoredText(stored_texts?.symbol) ? stored_texts.symbol : symbol,\n        trade_type: hasStoredText(stored_texts?.tradetype) ? stored_texts?.tradetype : tradetype,\n        purchase_condition: hasStoredText(stored_texts?.type) ? stored_texts?.type : type,\n        initial_stake: hasStoredText(stored_texts?.stake) ? stored_texts?.stake : stake,\n    };\n};\n\nexport const getStrategyType = (block_string: string | ArrayBuffer) => {\n    try {\n        const xmlDoc = new DOMParser().parseFromString(block_string.toString(), 'application/xml');\n        if (xmlDoc.getElementsByTagName('xml').length) {\n            const root = xmlDoc.documentElement;\n            const isDbotValue = root.getAttribute('is_dbot');\n            return isDbotValue === 'true' ? 'new' : 'old';\n        }\n        return 'old';\n    } catch (e) {\n        return 'old';\n    }\n};\n",
            "size_bytes": 2133
        },
        "src/pages/bot-builder/index.ts": {
            "content": "import BotBuilder from './bot-builder';\nimport './workspace.scss';\n\nexport default BotBuilder;\n",
            "size_bytes": 95
        },
        "src/components/sso-loader/index.ts": {
            "content": "import SSOLoader from './sso-loader';\nimport './sso-loader.scss';\n\nexport default SSOLoader;\n",
            "size_bytes": 93
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Before Purchase/index.js": {
            "content": "import './before_purchase';\nimport './purchase';\nimport './ask_price';\nimport './payout';\n",
            "size_bytes": 90
        },
        "src/external/bot-skeleton/services/tradeEngine/trade/state/reducers/index.js": {
            "content": "import * as constants from '../constants';\n\nconst initialState = {\n    scope: constants.STOP,\n    proposalsReady: false,\n};\n\n// eslint-disable-next-line default-param-last\nconst signal = (state = initialState, action) => {\n    switch (action.type) {\n        case constants.START:\n            return {\n                scope: constants.BEFORE_PURCHASE,\n                proposalsReady: state.proposalsReady,\n            };\n        case constants.PROPOSALS_READY:\n            return {\n                ...state,\n                proposalsReady: true,\n            };\n        case constants.CLEAR_PROPOSALS:\n            return {\n                ...state,\n                proposalsReady: false,\n            };\n        case constants.PURCHASE_SUCCESSFUL:\n            return {\n                scope: constants.DURING_PURCHASE,\n                openContract: false,\n                proposalsReady: state.proposalsReady,\n            };\n        case constants.OPEN_CONTRACT:\n            return {\n                scope: constants.DURING_PURCHASE,\n                openContract: true,\n                proposalsReady: state.proposalsReady,\n            };\n        case constants.SELL:\n            return {\n                scope: constants.STOP,\n                proposalsReady: state.proposalsReady,\n            };\n        case constants.NEW_TICK:\n            return {\n                ...state,\n                newTick: action.payload,\n            };\n        default:\n            return state;\n    }\n};\n\nexport default signal;\n",
            "size_bytes": 1506
        },
        "src/components/shared_ui/desktop-wrapper/desktop-wrapper.tsx": {
            "content": "import React from 'react';\nimport { isDesktop } from '@/components/shared/utils/screen';\n\ntype TDesktopProps = {\n    children: React.ReactNode;\n};\n\nconst Desktop = ({ children }: TDesktopProps) => {\n    if (!isDesktop()) return null;\n    return <React.Fragment>{children}</React.Fragment>;\n};\n\nexport default Desktop;\n",
            "size_bytes": 318
        },
        "analysis-tool/Benanalysistool-final-main/components/last-digits-display.tsx": {
            "content": "\"use client\"\n\ninterface LastDigitsDisplayProps {\n  digits: number[]\n  currentDigit?: number | null\n  mode?: \"default\" | \"even-odd\" | \"over-under\" | \"rise-fall\"\n  theme?: \"light\" | \"dark\"\n}\n\nconst uniqueDigitColors = [\n  \"from-purple-500 to-purple-600\",\n  \"from-blue-500 to-blue-600\",\n  \"from-cyan-500 to-cyan-600\",\n  \"from-teal-500 to-teal-600\",\n  \"from-emerald-500 to-emerald-600\",\n  \"from-lime-500 to-lime-600\",\n  \"from-amber-500 to-amber-600\",\n  \"from-orange-500 to-orange-600\",\n  \"from-red-500 to-red-600\",\n  \"from-pink-500 to-pink-600\",\n]\n\nexport function LastDigitsDisplay({ digits, currentDigit, mode = \"default\", theme = \"dark\" }: LastDigitsDisplayProps) {\n  if (mode === \"even-odd\") {\n    return (\n      <div className=\"flex flex-wrap gap-2 justify-center\">\n        {digits.map((digit, index) => {\n          const isEven = digit % 2 === 0\n          return (\n            <div\n              key={index}\n              className={`w-10 h-10 rounded-md flex items-center justify-center font-bold text-sm shadow-lg ${\n                isEven\n                  ? \"bg-gradient-to-br from-blue-500 to-cyan-500 text-white\"\n                  : \"bg-gradient-to-br from-pink-500 to-red-500 text-white\"\n              }`}\n            >\n              {isEven ? \"E\" : \"O\"}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n\n  if (mode === \"over-under\") {\n    return (\n      <div className=\"flex flex-wrap gap-2 justify-center\">\n        {digits.map((digit, index) => {\n          const isOver = digit >= 5\n          return (\n            <div\n              key={index}\n              className={`w-10 h-10 rounded-md flex items-center justify-center font-bold text-sm shadow-lg ${\n                isOver\n                  ? \"bg-gradient-to-br from-green-500 to-emerald-500 text-white\"\n                  : \"bg-gradient-to-br from-orange-500 to-red-500 text-white\"\n              }`}\n            >\n              {isOver ? \"O\" : \"U\"}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n\n  if (mode === \"rise-fall\") {\n    return (\n      <div className=\"flex flex-wrap gap-2 justify-center\">\n        {digits.map((digit, index) => {\n          if (index === 0) return null\n          const isRise = digit > digits[index - 1]\n          return (\n            <div\n              key={index}\n              className={`w-10 h-10 rounded-md flex items-center justify-center font-bold text-sm shadow-lg ${\n                isRise\n                  ? \"bg-gradient-to-br from-green-500 to-emerald-500 text-white\"\n                  : \"bg-gradient-to-br from-red-500 to-pink-500 text-white\"\n              }`}\n            >\n              {isRise ? \"R\" : \"F\"}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"flex flex-wrap gap-2 justify-center\">\n      {digits.map((digit, index) => (\n        <div\n          key={index}\n          className={`w-10 h-10 rounded-full bg-gradient-to-br ${uniqueDigitColors[digit]} flex items-center justify-center text-white font-bold text-sm shadow-lg`}\n        >\n          {digit}\n        </div>\n      ))}\n    </div>\n  )\n}\n",
            "size_bytes": 3097
        },
        "src/external/indicators/indicators/macd.js": {
            "content": "import { takeField } from '../utils/math';\nimport { exponentialMovingAverageArray } from './exponential-moving-average';\n\nconst paddingLeft = (data, length) => {\n    const arr = [];\n    arr.length = length - data.length;\n    arr.fill(0);\n    return [...arr, ...data];\n};\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  fastEmaPeriod: number,\n *  slowEmaPeriod: number,\n *  signalEmaPeriod: number\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  pipSize: number,\n * }\n */\nexport const macdArray = (data, config) => {\n    const { field, fastEmaPeriod = 12, slowEmaPeriod = 26, signalEmaPeriod = 9, pipSize = 2 } = config;\n\n    const vals = takeField(data, field);\n\n    const length = vals.length;\n\n    const fast_ema_array = paddingLeft(\n        exponentialMovingAverageArray(\n            vals,\n            { periods: fastEmaPeriod, pipSize: 20, field }\n            // -------------------------- ^ set pipSize to 20 to prevent rounding\n        ),\n        length\n    );\n    const slow_ema_array = paddingLeft(\n        exponentialMovingAverageArray(vals, { periods: slowEmaPeriod, pipSize: 20, field }),\n        length\n    );\n\n    const macd_calc_array = paddingLeft(\n        slow_ema_array.map((x, i) => +(fast_ema_array[i] - x).toFixed(pipSize)),\n        length\n    );\n\n    const signal_ema_array = paddingLeft(\n        exponentialMovingAverageArray(macd_calc_array.slice(slowEmaPeriod - 1), {\n            periods: signalEmaPeriod,\n            pipSize: 20,\n            field,\n        }),\n        length\n    );\n\n    return macd_calc_array\n        .map((x, i) => [+(x - signal_ema_array[i]).toFixed(pipSize), x, +signal_ema_array[i].toFixed(pipSize)])\n        .slice(slowEmaPeriod + signalEmaPeriod - 2);\n};\n",
            "size_bytes": 1730
        },
        "src/utils/help-content/help-strings/sell_at_market.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize(\n            'Use this block to sell your contract at the market price. Selling your contract is optional. You may choose to sell if the market trend is unfavourable.'\n        ),\n        localize('Example:'),\n    ],\n};\n",
            "size_bytes": 324
        },
        "src/components/layout/header/mobile-menu/index.ts": {
            "content": "import MobileMenu from './mobile-menu';\n\nexport default MobileMenu;\n",
            "size_bytes": 68
        },
        "src/utils/trade-type-modal-handler.ts": {
            "content": "import { getCurrentTradeTypeFromWorkspace } from './blockly-url-param-handler';\nimport { getTradeTypeFromCurrentUrl } from './url-trade-type-handler';\n\n// Import types from blockly-url-param-handler to avoid conflicts\ntype BlocklyBlock = {\n    type: string;\n    getFieldValue: (fieldName: string) => string;\n    setFieldValue: (value: string, fieldName: string) => void;\n    getChildByType: (type: string) => BlocklyBlock | null;\n};\n\n// Modal state management\ninterface TradeTypeData {\n    displayName: string;\n    tradeTypeCategory: string;\n    tradeType: string;\n    isValid: boolean;\n    urlParam?: string;\n    currentTradeType?: { tradeTypeCategory: string; tradeType: string } | null;\n    currentTradeTypeDisplayName?: string;\n}\n\ninterface TradeTypeModalState {\n    isVisible: boolean;\n    tradeTypeData: TradeTypeData | null;\n    onConfirm: (() => void) | null;\n    onCancel: (() => void) | null;\n}\n\n// State Management Note:\n// This module uses module-level state for simplicity in the current single-modal use case.\n// For applications requiring multiple modal instances, server-side rendering, or enhanced\n// testing isolation, consider migrating to React Context or a state management library.\nlet modalState: TradeTypeModalState = {\n    isVisible: false,\n    tradeTypeData: null,\n    onConfirm: null,\n    onCancel: null,\n};\n\n// Callback to notify when modal state changes\nlet modalStateChangeCallback: ((state: TradeTypeModalState) => void) | null = null;\n\n// Store active polling timeout to prevent memory leaks and multiple polling instances\nlet activePollingTimeoutId: ReturnType<typeof setTimeout> | null = null;\n\n// AbortController for robust polling management\nlet pollingAbortController: AbortController | null = null;\n\n// State update lock to prevent race conditions\nlet isUpdatingModalState = false;\n\n// Debouncing mechanism to prevent multiple rapid polling calls\nlet isPollingActive = false;\n\n/**\n * Sets the callback function to be called when modal state changes\n */\nexport const setModalStateChangeCallback = (callback: (state: TradeTypeModalState) => void) => {\n    modalStateChangeCallback = callback;\n};\n\n/**\n * Gets the current modal state\n */\nexport const getModalState = (): TradeTypeModalState => {\n    return { ...modalState };\n};\n\n/**\n * Updates the modal state and notifies listeners\n * Protected against race conditions with state locking\n */\nconst updateModalState = (newState: Partial<TradeTypeModalState>) => {\n    // Prevent race conditions by checking if another update is in progress\n    if (isUpdatingModalState) {\n        console.warn('Modal state update skipped due to concurrent update in progress');\n        return;\n    }\n\n    isUpdatingModalState = true;\n    try {\n        modalState = { ...modalState, ...newState };\n        if (modalStateChangeCallback) {\n            modalStateChangeCallback(modalState);\n        }\n    } finally {\n        isUpdatingModalState = false;\n    }\n};\n\n/**\n * Updates the current trade type data in the modal if it's currently visible\n * Protected against race conditions\n */\nexport const updateModalTradeTypeData = () => {\n    // Prevent race conditions by checking state update lock\n    if (isUpdatingModalState || !modalState.isVisible || !modalState.tradeTypeData) {\n        return;\n    }\n\n    // Get fresh current trade type from workspace\n    const currentTradeType = getCurrentTradeTypeFromWorkspace();\n\n    if (currentTradeType) {\n        const currentTradeTypeDisplayName = getInternalTradeTypeDisplayName(\n            currentTradeType.tradeTypeCategory,\n            currentTradeType.tradeType\n        );\n\n        // Update the modal data with the fresh current trade type\n        const updatedTradeTypeData = {\n            ...modalState.tradeTypeData,\n            currentTradeType: currentTradeType,\n            currentTradeTypeDisplayName: currentTradeTypeDisplayName,\n        };\n\n        updateModalState({\n            tradeTypeData: updatedTradeTypeData,\n        });\n    }\n};\n\n/**\n * Shows the trade type confirmation modal with enhanced error handling and robust polling management\n */\nexport const showTradeTypeConfirmationModal = (\n    tradeTypeData: TradeTypeData,\n    onConfirm: () => void,\n    onCancel: () => void\n) => {\n    try {\n        // Prevent multiple concurrent polling instances\n        if (isPollingActive) {\n            console.warn('Modal polling already active, skipping duplicate request');\n            return;\n        }\n\n        // Function to show modal with current workspace data\n        const showModalWithCurrentData = () => {\n            try {\n                const currentTradeType = getCurrentTradeTypeFromWorkspace();\n\n                const finalTradeTypeData = currentTradeType\n                    ? {\n                          ...tradeTypeData,\n                          currentTradeType: currentTradeType,\n                          currentTradeTypeDisplayName: getInternalTradeTypeDisplayName(\n                              currentTradeType.tradeTypeCategory,\n                              currentTradeType.tradeType\n                          ),\n                      }\n                    : tradeTypeData;\n\n                updateModalState({\n                    isVisible: true,\n                    tradeTypeData: finalTradeTypeData,\n                    onConfirm,\n                    onCancel,\n                });\n            } catch (error) {\n                console.warn('Failed to show modal with current data:', error);\n                // Fallback: show modal with original data\n                updateModalState({\n                    isVisible: true,\n                    tradeTypeData,\n                    onConfirm,\n                    onCancel,\n                });\n            } finally {\n                // Clean up polling state\n                isPollingActive = false;\n                if (pollingAbortController) {\n                    pollingAbortController.abort();\n                    pollingAbortController = null;\n                }\n            }\n        };\n\n        // Clear any existing polling resources to prevent memory leaks\n        if (activePollingTimeoutId) {\n            clearTimeout(activePollingTimeoutId);\n            activePollingTimeoutId = null;\n        }\n        if (pollingAbortController) {\n            pollingAbortController.abort();\n            pollingAbortController = null;\n        }\n\n        // Try to get current trade type immediately\n        const currentTradeType = getCurrentTradeTypeFromWorkspace();\n\n        if (currentTradeType) {\n            // If we have the data immediately, show modal\n            showModalWithCurrentData();\n        } else {\n            // Set polling active flag and create AbortController for robust management\n            isPollingActive = true;\n            pollingAbortController = new AbortController();\n\n            // If we don't have the data yet, poll until we do or timeout\n            let attempts = 0;\n            const maxAttempts = 6; // 3 seconds max wait with 500ms intervals\n\n            const pollForData = () => {\n                try {\n                    // Check if polling was aborted\n                    if (pollingAbortController?.signal.aborted) {\n                        return;\n                    }\n\n                    const currentTradeType = getCurrentTradeTypeFromWorkspace();\n\n                    if (currentTradeType || attempts >= maxAttempts) {\n                        showModalWithCurrentData();\n                        // Proper cleanup: clear timeout before setting to null\n                        if (activePollingTimeoutId) {\n                            clearTimeout(activePollingTimeoutId);\n                        }\n                        activePollingTimeoutId = null;\n                    } else {\n                        attempts++;\n                        // Use 500ms intervals for better performance\n                        activePollingTimeoutId = setTimeout(pollForData, 500);\n                    }\n                } catch (error) {\n                    console.warn('Error during polling for trade type data:', error);\n                    // Stop polling on error and show modal with available data\n                    showModalWithCurrentData();\n                    if (activePollingTimeoutId) {\n                        clearTimeout(activePollingTimeoutId);\n                    }\n                    activePollingTimeoutId = null;\n                }\n            };\n\n            // Start polling with initial call\n            pollForData();\n        }\n    } catch (error) {\n        console.warn('Failed to show trade type confirmation modal:', error);\n        isPollingActive = false;\n        // Clean up resources on error\n        if (activePollingTimeoutId) {\n            clearTimeout(activePollingTimeoutId);\n            activePollingTimeoutId = null;\n        }\n        if (pollingAbortController) {\n            pollingAbortController.abort();\n            pollingAbortController = null;\n        }\n        // Fallback: try to show modal with minimal data\n        try {\n            updateModalState({\n                isVisible: true,\n                tradeTypeData,\n                onConfirm,\n                onCancel,\n            });\n        } catch (fallbackError) {\n            console.error('Critical error: Failed to show modal even with fallback:', fallbackError);\n        }\n    }\n};\n\n/**\n * Hides the trade type confirmation modal with comprehensive cleanup\n */\nexport const hideTradeTypeConfirmationModal = () => {\n    try {\n        // Clear any active polling timeout when hiding modal\n        if (activePollingTimeoutId) {\n            clearTimeout(activePollingTimeoutId);\n            activePollingTimeoutId = null;\n        }\n\n        // Abort any active polling operations\n        if (pollingAbortController) {\n            pollingAbortController.abort();\n            pollingAbortController = null;\n        }\n\n        // Reset polling active flag\n        isPollingActive = false;\n\n        updateModalState({\n            isVisible: false,\n            tradeTypeData: null,\n            onConfirm: null,\n            onCancel: null,\n        });\n    } catch (error) {\n        console.warn('Error while hiding trade type confirmation modal:', error);\n        // Force reset state even on error\n        isPollingActive = false;\n        if (activePollingTimeoutId) {\n            clearTimeout(activePollingTimeoutId);\n            activePollingTimeoutId = null;\n        }\n        if (pollingAbortController) {\n            pollingAbortController.abort();\n            pollingAbortController = null;\n        }\n    }\n};\n\n/**\n * Handles the user confirming the trade type change with comprehensive error handling\n */\nexport const handleTradeTypeConfirm = () => {\n    try {\n        // Apply the trade type changes directly to the Blockly workspace\n        if (modalState.tradeTypeData) {\n            const { tradeTypeCategory, tradeType } = modalState.tradeTypeData;\n\n            try {\n                // Apply the changes to the workspace\n                const success = applyTradeTypeDropdownChanges(tradeTypeCategory, tradeType);\n\n                if (success) {\n                    console.warn(`Successfully applied trade type: ${tradeTypeCategory}/${tradeType}`);\n                } else {\n                    console.warn(`Failed to apply trade type: ${tradeTypeCategory}/${tradeType}`);\n                }\n            } catch (applyError) {\n                console.warn('Error applying trade type changes to workspace:', applyError);\n            }\n        }\n\n        // Remove the URL parameter after applying changes\n        try {\n            const urlParams = new URLSearchParams(window.location.search);\n            if (urlParams.has('trade_type')) {\n                const url = new URL(window.location.href);\n                url.searchParams.delete('trade_type');\n                window.history.replaceState({}, '', url.toString());\n            }\n        } catch (urlError) {\n            console.warn('Error removing URL parameter:', urlError);\n        }\n\n        // Call the original onConfirm callback if it exists\n        try {\n            if (modalState.onConfirm) {\n                modalState.onConfirm();\n            }\n        } catch (callbackError) {\n            console.warn('Error executing onConfirm callback:', callbackError);\n        }\n\n        hideTradeTypeConfirmationModal();\n    } catch (error) {\n        console.warn('Critical error in handleTradeTypeConfirm:', error);\n        // Ensure modal is hidden even on error\n        try {\n            hideTradeTypeConfirmationModal();\n        } catch (hideError) {\n            console.error('Failed to hide modal after error:', hideError);\n        }\n    }\n};\n\n/**\n * Handles the user canceling the trade type change with comprehensive error handling\n */\nexport const handleTradeTypeCancel = () => {\n    try {\n        // Remove the URL parameter when user cancels\n        try {\n            const urlParams = new URLSearchParams(window.location.search);\n            if (urlParams.has('trade_type')) {\n                const url = new URL(window.location.href);\n                url.searchParams.delete('trade_type');\n                window.history.replaceState({}, '', url.toString());\n            }\n        } catch (urlError) {\n            console.warn('Error removing URL parameter on cancel:', urlError);\n        }\n\n        // Call the original onCancel callback if it exists\n        try {\n            if (modalState.onCancel) {\n                modalState.onCancel();\n            }\n        } catch (callbackError) {\n            console.warn('Error executing onCancel callback:', callbackError);\n        }\n\n        hideTradeTypeConfirmationModal();\n    } catch (error) {\n        console.warn('Critical error in handleTradeTypeCancel:', error);\n        // Ensure modal is hidden even on error\n        try {\n            hideTradeTypeConfirmationModal();\n        } catch (hideError) {\n            console.error('Failed to hide modal after cancel error:', hideError);\n        }\n    }\n};\n\n/**\n * Gets display name for trade type from URL parameter\n */\nexport const getTradeTypeDisplayName = (urlParam: string): string => {\n    const displayNames: Record<string, string> = {\n        // Original mappings\n        rise_equals_fall_equals: 'Rise Equals/Fall Equals',\n        higher_lower: 'Higher/Lower',\n        touch_no_touch: 'Touch/No Touch',\n        in_out: 'In/Out',\n        digits: 'Digits',\n        multiplier: 'Multiplier',\n        accumulator: 'Accumulator',\n        asian: 'Asian',\n        reset: 'Reset',\n        high_low_ticks: 'High/Low Ticks',\n        only_ups_downs: 'Only Ups/Downs',\n\n        // New mappings from external application identifiers matching your specifications\n        match_diff: 'Matches/Differs',\n        even_odd: 'Even/Odd',\n        over_under: 'Over/Under',\n        rise_fall: 'Rise/Fall',\n        high_low: 'Higher/Lower', // This is for Higher/Lower (updown category)\n        high_tick: 'High Tick/Low Tick', // This is for High Tick/Low Tick (separate from high_low)\n        accumulators: 'Accumulators',\n        only_up_only_down: 'Only Ups/Only Downs',\n        touch: 'Touch/No Touch',\n        multipliers: 'Multipliers',\n    };\n\n    return displayNames[urlParam] || urlParam;\n};\n\n/**\n * Gets display name for internal trade type values\n */\nexport const getInternalTradeTypeDisplayName = (tradeTypeCategory: string, tradeType: string): string => {\n    // Map internal trade type combinations to user-friendly names\n    const tradeTypeDisplayNames: Record<string, Record<string, string>> = {\n        callput: {\n            callput: 'Rise/Fall',\n            callputequal: 'Rise Equals/Fall Equals',\n            higherlower: 'Higher/Lower',\n        },\n        touchnotouch: {\n            touchnotouch: 'Touch/No Touch',\n        },\n        inout: {\n            endsinout: 'Ends In/Out',\n            staysinout: 'Stays In/Out',\n        },\n        digits: {\n            matchesdiffers: 'Matches/Differs',\n            evenodd: 'Even/Odd',\n            overunder: 'Over/Under',\n        },\n        multiplier: {\n            multiplier: 'Multiplier',\n        },\n        accumulator: {\n            accumulator: 'Accumulator',\n        },\n        asian: {\n            asians: 'Asian Up/Down',\n        },\n        reset: {\n            reset: 'Reset Call/Put',\n        },\n        highlowticks: {\n            highlowticks: 'High/Low Ticks',\n        },\n        runs: {\n            runs: 'Only Ups/Downs',\n        },\n    };\n\n    return tradeTypeDisplayNames[tradeTypeCategory]?.[tradeType] || `${tradeTypeCategory}/${tradeType}`;\n};\n/**\n * Gets the dropdown mapping for a URL trade type parameter\n * @returns Object with trade type category and type, or null if invalid\n * @example\n * const mapping = getDropdownMappingForUrlTradeType();\n * // Returns: { tradeTypeCategory: 'multiplier', tradeType: 'multiplier' }\n */\nexport const getDropdownMappingForUrlTradeType = (): { tradeTypeCategory: string; tradeType: string } | null => {\n    const tradeTypeFromUrl = getTradeTypeFromCurrentUrl();\n\n    if (!tradeTypeFromUrl || !tradeTypeFromUrl.isValid) {\n        return null;\n    }\n\n    return {\n        tradeTypeCategory: tradeTypeFromUrl.tradeTypeCategory,\n        tradeType: tradeTypeFromUrl.tradeType,\n    };\n};\n\n/**\n * Applies trade type dropdown changes to the Blockly workspace\n * @param tradeTypeCategory - The trade type category (e.g., 'multiplier', 'digits')\n * @param tradeType - The specific trade type (e.g., 'multiplier', 'matchesdiffers')\n * @returns boolean indicating success or failure\n * @example\n * const success = applyTradeTypeDropdownChanges('multiplier', 'multiplier');\n * // Updates Blockly workspace to show \"Multipliers\" in dropdown\n */\nexport const applyTradeTypeDropdownChanges = (tradeTypeCategory: string, tradeType: string): boolean => {\n    let originalGroup: string | null = null;\n\n    try {\n        const workspace = window.Blockly?.derivWorkspace;\n        if (!workspace) {\n            console.warn('Blockly workspace not available for trade type changes');\n            return false;\n        }\n\n        // Find the trade definition block\n        const tradeDefinitionBlocks = workspace\n            .getAllBlocks()\n            .filter((block: BlocklyBlock) => block.type === 'trade_definition');\n\n        if (tradeDefinitionBlocks.length === 0) {\n            console.warn('No trade definition blocks found in workspace');\n            return false;\n        }\n\n        // Get the first trade definition block\n        const tradeDefinitionBlock = tradeDefinitionBlocks[0];\n\n        // Find the trade type block within the trade definition\n        const tradeTypeBlock = tradeDefinitionBlock.getChildByType('trade_definition_tradetype');\n\n        if (!tradeTypeBlock) {\n            console.warn('No trade type block found within trade definition');\n            return false;\n        }\n\n        // Disable events temporarily to prevent interference\n        originalGroup = window.Blockly.Events.getGroup();\n        window.Blockly.Events.setGroup('TRADE_TYPE_MODAL_UPDATE');\n\n        try {\n            // Get current values\n            const currentCategory = tradeTypeBlock.getFieldValue('TRADETYPECAT_LIST');\n\n            // Set the category if it's different\n            if (currentCategory !== tradeTypeCategory) {\n                tradeTypeBlock.setFieldValue(tradeTypeCategory, 'TRADETYPECAT_LIST');\n\n                // Fire change event for category to trigger trade type options update\n                const categoryChangeEvent = new window.Blockly.Events.BlockChange(\n                    tradeTypeBlock,\n                    'field',\n                    'TRADETYPECAT_LIST',\n                    currentCategory,\n                    tradeTypeCategory\n                );\n                window.Blockly.Events.fire(categoryChangeEvent);\n            }\n\n            // Get current trade type value (might have changed after category update)\n            const updatedCurrentTradeType = tradeTypeBlock.getFieldValue('TRADETYPE_LIST');\n\n            // Set the trade type if it's different\n            if (updatedCurrentTradeType !== tradeType) {\n                tradeTypeBlock.setFieldValue(tradeType, 'TRADETYPE_LIST');\n\n                // Fire change event for trade type\n                const tradeTypeChangeEvent = new window.Blockly.Events.BlockChange(\n                    tradeTypeBlock,\n                    'field',\n                    'TRADETYPE_LIST',\n                    updatedCurrentTradeType,\n                    tradeType\n                );\n                window.Blockly.Events.fire(tradeTypeChangeEvent);\n\n                // Force workspace to re-render\n                if (workspace) {\n                    workspace.render();\n                }\n            }\n\n            // Restore original event group on success\n            window.Blockly.Events.setGroup(originalGroup);\n            return true;\n        } catch (innerError) {\n            console.warn('Failed to apply trade type changes to Blockly workspace:', innerError);\n            // Restore original event group on inner error\n            window.Blockly.Events.setGroup(originalGroup);\n            return false;\n        }\n    } catch (outerError) {\n        console.warn('Failed to apply trade type dropdown changes:', outerError);\n        // Restore original event group on outer error (if it was set)\n        if (originalGroup !== null) {\n            try {\n                window.Blockly.Events.setGroup(originalGroup);\n            } catch (restoreError) {\n                console.warn('Failed to restore original event group:', restoreError);\n            }\n        }\n        return false;\n    }\n};\n// Track if we've already processed a URL parameter in this session\n// Enhanced to tie to specific URL patterns for better session management\nconst processedUrlParams = new Set<string>();\n\n/**\n * Resets the URL parameter processing flag (useful for testing or when URL changes)\n * Can optionally reset for a specific URL parameter\n */\nexport const resetUrlParamProcessing = (specificParam?: string) => {\n    if (specificParam) {\n        processedUrlParams.delete(specificParam);\n    } else {\n        processedUrlParams.clear();\n    }\n};\n\n/**\n * Gets the current URL parameter processing state (for testing)\n */\nexport const getUrlParamProcessingState = (param?: string) => {\n    if (param) {\n        return processedUrlParams.has(param);\n    }\n    return Array.from(processedUrlParams);\n};\n\n/**\n * Checks if a specific URL parameter has been processed\n */\nconst hasProcessedUrlParam = (param: string) => {\n    return processedUrlParams.has(param);\n};\n\n/**\n * Marks a URL parameter as processed\n */\nconst markUrlParamAsProcessed = (param: string) => {\n    processedUrlParams.add(param);\n};\n\n/**\n * Checks if there's a valid URL trade type parameter and shows modal if needed\n * Enhanced logic with comprehensive error handling and workspace timing\n */\nexport const checkAndShowTradeTypeModal = (onConfirm: () => void, onCancel: () => void) => {\n    try {\n        // 1. Check if there's a valid URL trade type parameter\n        const tradeTypeFromUrl = getTradeTypeFromCurrentUrl();\n\n        if (!tradeTypeFromUrl || !tradeTypeFromUrl.isValid) {\n            return false;\n        }\n\n        // 2. Get the URL parameter to show user-friendly name\n        const urlParams = new URLSearchParams(window.location.search);\n        const tradeTypeParam = urlParams.get('trade_type');\n\n        if (!tradeTypeParam) {\n            return false;\n        }\n\n        // 3. Check if we've already processed this URL parameter in this session\n        if (hasProcessedUrlParam(tradeTypeParam)) {\n            return false;\n        }\n\n        // 4. Check workspace with retry mechanism for timing issues\n        const checkWorkspaceAndShowModal = (attempt = 1, maxAttempts = 5) => {\n            try {\n                const currentTradeType = getCurrentTradeTypeFromWorkspace();\n\n                if (currentTradeType) {\n                    // Workspace is ready, compare trade types\n                    const urlCategory = tradeTypeFromUrl.tradeTypeCategory;\n                    const urlType = tradeTypeFromUrl.tradeType;\n                    const workspaceCategory = currentTradeType.tradeTypeCategory;\n                    const workspaceType = currentTradeType.tradeType;\n\n                    if (workspaceCategory === urlCategory && workspaceType === urlType) {\n                        // Trade types are identical, mark as processed and don't show modal\n                        markUrlParamAsProcessed(tradeTypeParam);\n                        return false;\n                    }\n\n                    // Trade types are different, show modal\n                    showModalWithData(currentTradeType);\n                    return true;\n                } else if (attempt < maxAttempts) {\n                    // Workspace not ready yet, retry after delay\n                    setTimeout(() => {\n                        checkWorkspaceAndShowModal(attempt + 1, maxAttempts);\n                    }, 200); // 200ms delay between attempts\n                    return true; // Indicate we're handling it\n                } else {\n                    // Max attempts reached, show modal anyway (workspace might not be available)\n                    showModalWithData(null);\n                    return true;\n                }\n            } catch (workspaceError) {\n                console.warn(\n                    'Error getting current trade type from workspace (attempt ' + attempt + '):',\n                    workspaceError\n                );\n                if (attempt < maxAttempts) {\n                    setTimeout(() => {\n                        checkWorkspaceAndShowModal(attempt + 1, maxAttempts);\n                    }, 200);\n                    return true;\n                } else {\n                    showModalWithData(null);\n                    return true;\n                }\n            }\n        };\n\n        // Helper function to show modal with data\n        const showModalWithData = (currentTradeType: { tradeTypeCategory: string; tradeType: string } | null) => {\n            const displayName = getTradeTypeDisplayName(tradeTypeParam);\n\n            // Get current trade type display name for the modal\n            let currentTradeTypeDisplayName = 'N/A';\n            try {\n                currentTradeTypeDisplayName = currentTradeType\n                    ? getInternalTradeTypeDisplayName(currentTradeType.tradeTypeCategory, currentTradeType.tradeType)\n                    : 'N/A';\n            } catch (displayNameError) {\n                console.warn('Error getting display name for current trade type:', displayNameError);\n            }\n\n            showTradeTypeConfirmationModal(\n                {\n                    ...tradeTypeFromUrl,\n                    displayName,\n                    urlParam: tradeTypeParam,\n                    currentTradeType: currentTradeType,\n                    currentTradeTypeDisplayName: currentTradeTypeDisplayName,\n                },\n                () => {\n                    try {\n                        // Mark as processed when user confirms\n                        markUrlParamAsProcessed(tradeTypeParam);\n                        onConfirm();\n                    } catch (confirmError) {\n                        console.warn('Error in onConfirm callback:', confirmError);\n                    }\n                },\n                () => {\n                    try {\n                        // Mark as processed when user cancels\n                        markUrlParamAsProcessed(tradeTypeParam);\n                        onCancel();\n                    } catch (cancelError) {\n                        console.warn('Error in onCancel callback:', cancelError);\n                    }\n                }\n            );\n        };\n\n        // Start the workspace check with retry mechanism\n        return checkWorkspaceAndShowModal();\n    } catch (error) {\n        console.warn('Error in checkAndShowTradeTypeModal:', error);\n        return false;\n    }\n};\n",
            "size_bytes": 27998
        },
        "src/components/transaction-details/mobile-transaction-card.tsx": {
            "content": "import { ReactElement } from 'react';\nimport classNames from 'classnames';\nimport ContentLoader from 'react-content-loader';\nimport { getContractTypeName } from '@/external/bot-skeleton';\nimport { isDbotRTL } from '@/external/bot-skeleton/utils/workspace';\nimport { getSymbolDisplayNameSync } from '@/utils/symbol-display-name';\nimport { localize } from '@deriv-com/translations';\nimport { MarketIcon } from '../market/market-icon';\nimport { convertDateFormat } from '../shared';\nimport Popover from '../shared_ui/popover';\nimport { TradeTypeIcon } from '../trade-type/trade-type-icon';\nimport { TTransaction } from './transaction-details.types';\n\nconst PARENT_CLASS = 'transaction-details-modal-mobile';\n\ntype TCardRow = {\n    title: string;\n    label: string | number | ReactElement;\n    right_aligned: boolean;\n    large_title: boolean;\n    loader: boolean;\n};\n\nconst CellLoader = () => (\n    <ContentLoader\n        className='transactions__loader-text'\n        data-testid='transaction_details_card_cell_loader'\n        height={10}\n        width={80}\n        speed={3}\n        foregroundColor={'var(--general-section-2)'}\n        backgroundColor={'var(--general-hover)'}\n    >\n        <rect x='0' y='0' rx='0' ry='0' width='100' height='12' />\n    </ContentLoader>\n);\n\nconst CardColumn = ({\n    label = '',\n    large_title = false,\n    right_aligned = false,\n    title = '',\n    loader = false,\n}: Partial<TCardRow>) => (\n    <div\n        className={classNames(`${PARENT_CLASS}__card__column`, {\n            [`${PARENT_CLASS}__right-align`]: right_aligned,\n        })}\n    >\n        {title && (\n            <div\n                className={classNames({\n                    [`${PARENT_CLASS}__small-title`]: !large_title,\n                    [`${PARENT_CLASS}__large-title`]: large_title,\n                })}\n            >\n                {localize(title)}\n            </div>\n        )}\n        <div className={`${PARENT_CLASS}__label`}>{loader ? <CellLoader /> : label}</div>\n    </div>\n);\n\nconst IconContainer = ({ message, icon }: { message: string; icon: ReactElement }) => (\n    <div className={classNames(`${PARENT_CLASS}__table-cell`, `${PARENT_CLASS}__table-cell__icon-wrapper`)}>\n        {message && (\n            <Popover alignment={isDbotRTL() ? 'left' : 'right'} message={message} zIndex='7'>\n                {icon}\n            </Popover>\n        )}\n    </div>\n);\n\nexport default function MobileTransactionCards({ transaction }: { transaction: TTransaction }) {\n    return (\n        <div className={`${PARENT_CLASS}__card`} data-testid='dt_mobile_transaction_card'>\n            <div className={`${PARENT_CLASS}__card__row`}>\n                <CardColumn\n                    label={\n                        <div className={`${PARENT_CLASS}__icon-wrapper`}>\n                            <IconContainer\n                                message={\n                                    transaction?.display_name ||\n                                    getSymbolDisplayNameSync(transaction?.underlying_symbol || '')\n                                }\n                                icon={<MarketIcon type={transaction?.underlying_symbol} size='md' />}\n                            />\n                            <IconContainer\n                                message={getContractTypeName(transaction)}\n                                icon={<TradeTypeIcon type={transaction?.contract_type} size='md' />}\n                            />\n                        </div>\n                    }\n                />\n            </div>\n            <div className={`${PARENT_CLASS}__card__row`}>\n                <CardColumn title='Ref. ID' label={transaction?.transaction_ids?.buy} />\n            </div>\n            <div className={`${PARENT_CLASS}__card__row`}>\n                <CardColumn\n                    title='Timestamp'\n                    label={convertDateFormat(\n                        transaction?.date_start,\n                        'YYYY-M-D HH:mm:ss [GMT]',\n                        'YYYY-MM-DD HH:mm:ss [GMT]'\n                    )}\n                />\n                <CardColumn\n                    title='Entry Spot'\n                    label={transaction?.entry_spot}\n                    right_aligned\n                    loader={!transaction.entry_spot}\n                />\n            </div>\n            <div className={`${PARENT_CLASS}__card__row`}>\n                <CardColumn title='Buy Price' label={Math.abs(transaction?.buy_price ?? 0).toFixed(2)} />\n                <CardColumn\n                    title='Exit Spot'\n                    label={transaction?.exit_spot}\n                    right_aligned\n                    loader={!transaction.exit_spot}\n                />\n            </div>\n\n            <div className={`${PARENT_CLASS}__card__row`}>\n                <CardColumn title='Profit / Loss' large_title />\n                <CardColumn\n                    label={\n                        <div\n                            className={classNames({\n                                [`${PARENT_CLASS}__card__profit--win`]: transaction?.profit > 0,\n                                [`${PARENT_CLASS}__card__profit--loss`]: transaction?.profit < 0,\n                            })}\n                        >\n                            {Math.abs(transaction?.profit ?? 0).toFixed(2)}\n                        </div>\n                    }\n                    right_aligned\n                    loader={!transaction.is_completed}\n                />\n            </div>\n        </div>\n    );\n}\n",
            "size_bytes": 5503
        },
        "src/components/shared_ui/wallet-icon/wallet-icon.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { WalletIconList } from './wallet-icons-list';\nimport './wallet-icon.scss';\n\ntype TWalletIconSizes = keyof (typeof sizes)['square' | 'box'];\n\ntype TWalletIconProps = {\n    gradient_class?: string;\n    icon: string;\n    size?: TWalletIconSizes;\n    type?: 'demo' | 'fiat' | 'crypto' | 'app';\n    has_bg?: boolean;\n    hide_watermark?: boolean;\n};\n\nconst sizes = {\n    square: {\n        xsmall: 12,\n        small: 16,\n        medium: 24,\n        large: 32,\n        xlarge: 48,\n        xxlarge: 64,\n    },\n    // The crypto and demo sizes are the same\n    box: {\n        xsmall: {\n            width: 20,\n            height: 12,\n        },\n        small: {\n            width: 32,\n            height: 20,\n        },\n        medium: {\n            width: 48,\n            height: 30,\n        },\n        large: {\n            width: 64,\n            height: 40,\n        },\n        xlarge: {\n            width: 96,\n            height: 60,\n        },\n        xxlarge: {\n            width: 120,\n            height: 80,\n        },\n    },\n} as const;\n\nconst WalletIcon = ({ gradient_class, icon, size = 'medium', type, has_bg, hide_watermark }: TWalletIconProps) => {\n    if (!icon) {\n        return null;\n    }\n\n    return (\n        <div\n            className={classNames('wallet-icon', {\n                [`wallet-icon--${size} wallet-icon__default-bg ${gradient_class}`]:\n                    (!!gradient_class && type !== 'app') || has_bg,\n                'wallet-card--hide-watermark': hide_watermark,\n            })}\n            data-testid='dt_wallet_icon'\n        >\n            <WalletIconList type={icon} size='xs' />\n        </div>\n    );\n};\n\nexport default WalletIcon;\n",
            "size_bytes": 1733
        },
        "src/components/shared/utils/constants/auth-status-codes.ts": {
            "content": "export const AUTH_STATUS_CODES = {\n    NONE: 'none',\n    PENDING: 'pending',\n    REJECTED: 'rejected',\n    VERIFIED: 'verified',\n    EXPIRED: 'expired',\n    SUSPECTED: 'suspected',\n} as const;\n",
            "size_bytes": 193
        },
        "src/components/layout/index.tsx": {
            "content": "import { useEffect, useState } from 'react';\nimport clsx from 'clsx';\nimport Cookies from 'js-cookie';\nimport { Outlet } from 'react-router-dom';\nimport { api_base } from '@/external/bot-skeleton';\nimport { useDevice } from '@deriv-com/ui';\nimport { crypto_currencies_display_order, fiat_currencies_display_order } from '../shared';\nimport Footer from './footer';\nimport AppHeader from './header';\nimport Body from './main-body';\nimport './layout.scss';\n\nconst Layout = () => {\n    const { isDesktop } = useDevice();\n\n    const isCallbackPage = window.location.pathname === '/callback';\n\n    const isLoggedInCookie = Cookies.get('logged_state') === 'true';\n    const isEndpointPage = window.location.pathname.includes('endpoint');\n    const checkClientAccount = JSON.parse(localStorage.getItem('clientAccounts') ?? '{}');\n    const getQueryParams = new URLSearchParams(window.location.search);\n    const currency = getQueryParams.get('account') ?? '';\n    const accountsList = JSON.parse(localStorage.getItem('accountsList') ?? '{}');\n    const isClientAccountsPopulated = Object.keys(accountsList).length > 0;\n    const ifClientAccountHasCurrency =\n        Object.values(checkClientAccount).some((account: any) => account.currency === currency) ||\n        currency === 'demo' ||\n        currency === '';\n    const [clientHasCurrency, setClientHasCurrency] = useState(ifClientAccountHasCurrency);\n    const [isAuthenticating, setIsAuthenticating] = useState(true); // Start with true to prevent flashing\n\n    // Expose setClientHasCurrency to window for global access\n    useEffect(() => {\n        (window as any).setClientHasCurrency = setClientHasCurrency;\n\n        return () => {\n            delete (window as any).setClientHasCurrency;\n        };\n    }, []);\n\n    const validCurrencies = [...fiat_currencies_display_order, ...crypto_currencies_display_order];\n    const query_currency = (getQueryParams.get('account') ?? '')?.toUpperCase();\n    const isCurrencyValid = validCurrencies.includes(query_currency);\n    const api_accounts: any[][] = [];\n    let subscription: { unsubscribe: () => void };\n\n    const validateApiAccounts = ({ data }: any) => {\n        if (data.msg_type === 'authorize') {\n            const account_list = data?.authorize?.account_list || [];\n            const account_list_filter = account_list.filter((acc: any) => acc.is_disabled === 0);\n            api_accounts.push(account_list_filter || []);\n            const allCurrencies = new Set(Object.values(checkClientAccount).map((acc: any) => acc.currency));\n\n            // Skip disabled accounts when checking for missing currency\n            const accounts = api_accounts.flat();\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            let detected_currency = '';\n            const hasMissingCurrency = accounts.some(data => {\n                if (!allCurrencies.has(data.currency)) {\n                    console.log('Missing currency:', data.currency);\n                    sessionStorage.setItem('query_param_currency', data.currency);\n                    return true;\n                }\n                detected_currency = data.currency;\n                return false;\n            });\n\n            let hasMissingToken = false;\n            let missingTokenCurrency = '';\n\n            for (const acc of account_list_filter) {\n                if (acc.loginid && !accountsList[acc.loginid]) {\n                    hasMissingToken = true;\n                    missingTokenCurrency = acc.currency || '';\n                    // Store the missing token's currency in session storage\n                    if (missingTokenCurrency) {\n                        sessionStorage.setItem('query_param_currency', missingTokenCurrency);\n                    }\n                    break;\n                }\n            }\n\n            if (hasMissingCurrency || hasMissingToken) {\n                setClientHasCurrency(false);\n            } else {\n                const account_list_ =\n                    account_list_filter?.find((acc: { currency: string }) => acc.currency === currency) ||\n                    account_list_filter?.[0];\n\n                let session_storage_currency =\n                    sessionStorage.getItem('query_param_currency') || account_list_?.currency || 'USD';\n\n                session_storage_currency = `account=${session_storage_currency}`;\n                setClientHasCurrency(true);\n                if (!new URLSearchParams(window.location.search).has('account')) {\n                    window.history.pushState({}, '', `${window.location.pathname}?${session_storage_currency}`);\n                }\n\n                setClientHasCurrency(true);\n            }\n\n            if (subscription) {\n                subscription?.unsubscribe();\n            }\n        }\n    };\n\n    useEffect(() => {\n        if (isCurrencyValid && api_base.api) {\n            // Subscribe to the onMessage event\n            const is_valid_currency = currency && validCurrencies.includes(currency.toUpperCase());\n            if (!is_valid_currency) return;\n            subscription = api_base.api.onMessage().subscribe(validateApiAccounts);\n        }\n    }, []);\n\n    useEffect(() => {\n        // Always set the currency in session storage, even if the user is not logged in\n        // This ensures the currency is available on the callback page\n        setIsAuthenticating(true);\n        if (currency) {\n            sessionStorage.setItem('query_param_currency', currency);\n        }\n\n        // Authentication is now handled by the OAuth flow\n        setIsAuthenticating(false);\n    }, [isLoggedInCookie, isClientAccountsPopulated, isEndpointPage, isCallbackPage, clientHasCurrency, currency]);\n\n    // Add a state to track if initial authentication check is complete\n    const [isInitialAuthCheckComplete, setIsInitialAuthCheckComplete] = useState(false);\n\n    // Effect to mark initial auth check as complete after a short delay\n    useEffect(() => {\n        if (!isAuthenticating && !isInitialAuthCheckComplete) {\n            // Wait a bit to ensure all state updates have propagated\n            const timer = setTimeout(() => {\n                setIsInitialAuthCheckComplete(true);\n            }, 500); // Give it enough time to stabilize\n\n            return () => clearTimeout(timer);\n        }\n    }, [isAuthenticating, isInitialAuthCheckComplete]);\n\n    return (\n        <div className={clsx('layout', { responsive: isDesktop })}>\n            {!isCallbackPage && <AppHeader isAuthenticating={isAuthenticating || !isInitialAuthCheckComplete} />}\n            <Body>\n                <Outlet />\n            </Body>\n            {!isCallbackPage && isDesktop && <Footer />}\n        </div>\n    );\n};\n\nexport default Layout;\n",
            "size_bytes": 6714
        },
        "src/app/App.tsx": {
            "content": "import { initSurvicate } from '../public-path';\nimport { lazy, Suspense } from 'react';\nimport React from 'react';\nimport { createBrowserRouter, createRoutesFromElements, Route, RouterProvider } from 'react-router-dom';\nimport ChunkLoader from '@/components/loader/chunk-loader';\nimport LocalStorageSyncWrapper from '@/components/localStorage-sync-wrapper';\nimport RoutePromptDialog from '@/components/route-prompt-dialog';\nimport { crypto_currencies_display_order, fiat_currencies_display_order } from '@/components/shared';\nimport { StoreProvider } from '@/hooks/useStore';\nimport CallbackPage from '@/pages/callback';\nimport Endpoint from '@/pages/endpoint';\nimport { TAuthData } from '@/types/api-types';\nimport { FILTERED_LANGUAGES } from '@/utils/languages';\nimport { initializeI18n, localize, TranslationProvider, useTranslations } from '@deriv-com/translations';\nimport CoreStoreProvider from './CoreStoreProvider';\nimport './app-root.scss';\n\nconst Layout = lazy(() => import('../components/layout'));\nconst AppRoot = lazy(() => import('./app-root'));\n\nconst { TRANSLATIONS_CDN_URL, R2_PROJECT_NAME, CROWDIN_BRANCH_NAME } = process.env;\nconst i18nInstance = initializeI18n({\n    cdnUrl: `${TRANSLATIONS_CDN_URL || 'https://translations.deriv.com'}/${R2_PROJECT_NAME}/${CROWDIN_BRANCH_NAME}`,\n});\n\n// Component to handle language URL parameter\nconst LanguageHandler = ({ children }: { children: React.ReactNode }) => {\n    const { switchLanguage } = useTranslations();\n\n    React.useEffect(() => {\n        const urlParams = new URLSearchParams(window.location.search);\n        const langParam = urlParams.get('lang');\n\n        if (langParam) {\n            // Convert to uppercase to match our language codes\n            const langCode = langParam.toUpperCase() as (typeof FILTERED_LANGUAGES)[number]['code'];\n            // Use FILTERED_LANGUAGES instead of hard-coded array\n            const supportedLangCodes = FILTERED_LANGUAGES.map(lang => lang.code);\n\n            if (supportedLangCodes.includes(langCode)) {\n                try {\n                    switchLanguage(langCode);\n                    // Remove lang parameter after processing to avoid URL pollution\n                    const url = new URL(window.location.href);\n                    url.searchParams.delete('lang');\n                    window.history.replaceState({}, '', url.toString());\n                } catch (error) {\n                    console.error('Failed to switch language:', error);\n                }\n            }\n        }\n    }, [switchLanguage]);\n\n    return <>{children}</>;\n};\n\nconst router = createBrowserRouter(\n    createRoutesFromElements(\n        <Route\n            path='/'\n            element={\n                <Suspense\n                    fallback={<ChunkLoader message={localize('Please wait while we connect to the server...')} />}\n                >\n                    <TranslationProvider defaultLang='EN' i18nInstance={i18nInstance}>\n                        <LanguageHandler>\n                            <StoreProvider>\n                                <LocalStorageSyncWrapper>\n                                    <RoutePromptDialog />\n                                    <CoreStoreProvider>\n                                        <Layout />\n                                    </CoreStoreProvider>\n                                </LocalStorageSyncWrapper>\n                            </StoreProvider>\n                        </LanguageHandler>\n                    </TranslationProvider>\n                </Suspense>\n            }\n        >\n            {/* All child routes will be passed as children to Layout */}\n            <Route index element={<AppRoot />} />\n            <Route path='endpoint' element={<Endpoint />} />\n            <Route path='callback' element={<CallbackPage />} />\n        </Route>\n    )\n);\n\nfunction App() {\n    React.useEffect(() => {\n        // Use the invalid token handler hook to automatically retrigger OIDC authentication\n        // when an invalid token is detected and the cookie logged state is true\n\n        initSurvicate();\n        window?.dataLayer?.push({ event: 'page_load' });\n        return () => {\n            // Clean up the invalid token handler when the component unmounts\n            const survicate_box = document.getElementById('survicate-box');\n            if (survicate_box) {\n                survicate_box.style.display = 'none';\n            }\n        };\n    }, []);\n\n    React.useEffect(() => {\n        const accounts_list = localStorage.getItem('accountsList');\n        const client_accounts = localStorage.getItem('clientAccounts');\n        const url_params = new URLSearchParams(window.location.search);\n        const account_currency = url_params.get('account');\n        const validCurrencies = [...fiat_currencies_display_order, ...crypto_currencies_display_order];\n\n        const is_valid_currency = account_currency && validCurrencies.includes(account_currency?.toUpperCase());\n\n        if (!accounts_list || !client_accounts) return;\n\n        try {\n            const parsed_accounts = JSON.parse(accounts_list);\n            const parsed_client_accounts = JSON.parse(client_accounts) as TAuthData['account_list'];\n\n            const updateLocalStorage = (token: string, loginid: string) => {\n                localStorage.setItem('authToken', token);\n                localStorage.setItem('active_loginid', loginid);\n            };\n\n            // Handle demo account\n            if (account_currency?.toUpperCase() === 'DEMO') {\n                const demo_account = Object.entries(parsed_accounts).find(([key]) => key.startsWith('VR'));\n\n                if (demo_account) {\n                    const [loginid, token] = demo_account;\n                    updateLocalStorage(String(token), loginid);\n                    return;\n                }\n            }\n\n            // Handle real account with valid currency\n            if (account_currency?.toUpperCase() !== 'DEMO' && is_valid_currency) {\n                const real_account = Object.entries(parsed_client_accounts).find(\n                    ([loginid, account]) =>\n                        !loginid.startsWith('VR') && account.currency.toUpperCase() === account_currency?.toUpperCase()\n                );\n\n                if (real_account) {\n                    const [loginid, account] = real_account;\n                    if ('token' in account) {\n                        updateLocalStorage(String(account?.token), loginid);\n                    }\n                    return;\n                }\n            }\n        } catch (e) {\n            console.warn('Error', e); // eslint-disable-line no-console\n        }\n    }, []);\n\n    return <RouterProvider router={router} />;\n}\n\nexport default App;\n",
            "size_bytes": 6720
        },
        "src/pages/bot-builder/quick-strategy/form-wrappers/mobile-qs-footer.tsx": {
            "content": "import React from 'react';\nimport { useFormikContext } from 'formik';\nimport { observer } from 'mobx-react-lite';\nimport { rudderStackSendQsRunStrategyEvent } from '@/analytics/rudderstack-quick-strategy';\nimport Button from '@/components/shared_ui/button';\nimport { useStore } from '@/hooks/useStore';\nimport { localize } from '@deriv-com/translations';\nimport useQsSubmitHandler from '../form-wrappers/useQsSubmitHandler';\nimport { TFormValues } from '../types';\nimport { QsSteps } from './trade-constants';\n\ntype TMobileQSFooter = {\n    current_step: QsSteps;\n    setCurrentStep: (current_step: QsSteps) => void;\n};\n\nexport const MobileQSFooter = observer(({ current_step, setCurrentStep }: TMobileQSFooter) => {\n    const { quick_strategy } = useStore();\n    const { selected_strategy } = quick_strategy;\n    const { isValid, values } = useFormikContext<TFormValues>();\n    const { handleSubmit } = useQsSubmitHandler();\n    const is_verified_or_completed_step =\n        current_step === QsSteps.StrategyVerified || current_step === QsSteps.StrategyCompleted;\n    const is_selected_strategy_step = current_step === QsSteps.StrategySelect;\n\n    const onRun = () => {\n        rudderStackSendQsRunStrategyEvent({\n            form_values: values,\n            selected_strategy,\n        });\n        handleSubmit();\n    };\n\n    const onBack = () => {\n        setCurrentStep(QsSteps.StrategySelect);\n    };\n\n    return (\n        <>\n            {is_verified_or_completed_step && (\n                <div className='qs__body__content__footer'>\n                    <Button secondary disabled={is_selected_strategy_step} onClick={onBack}>\n                        {localize('Back')}\n                    </Button>\n                    <Button\n                        primary\n                        data-testid='qs-run-button'\n                        type='submit'\n                        onClick={e => {\n                            e.preventDefault();\n                            onRun();\n                        }}\n                        disabled={!isValid}\n                    >\n                        {localize('Run')}\n                    </Button>\n                </div>\n            )}\n        </>\n    );\n});\n\nexport default MobileQSFooter;\n",
            "size_bytes": 2236
        },
        "src/external/bot-skeleton/services/tradeEngine/Interface/MiscInterface.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { observer as globalObserver } from '../../../utils/observer';\nimport { notify } from '../utils/broadcast';\n\nconst getMiscInterface = tradeEngine => {\n    return {\n        notify: args => globalObserver.emit('ui.log.notify', args),\n        console: ({ type, message }) => console[type](message), // eslint-disable-line no-console\n        notifyTelegram: (access_token, chat_id, text) => {\n            const url = `https://api.telegram.org/bot${access_token}/sendMessage`;\n            const onError = () => notify('warn', localize('The Telegram notification could not be sent'));\n\n            fetch(url, {\n                method: 'POST',\n                mode: 'cors',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ chat_id, text }),\n            })\n                .then(response => {\n                    if (!response.ok) {\n                        onError();\n                    }\n                })\n                .catch(onError);\n        },\n        getTotalRuns: () => tradeEngine.getTotalRuns(),\n        getBalance: type => tradeEngine.getBalance(type),\n        getTotalProfit: toString => tradeEngine.getTotalProfit(toString, tradeEngine.tradeOptions.currency),\n    };\n};\n\nexport default getMiscInterface;\n",
            "size_bytes": 1326
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Indicators/Parts/std_dev_multiplier_down.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../../utils';\n\nwindow.Blockly.Blocks.std_dev_multiplier_down = {\n    init() {\n        this.jsonInit({\n            message0: localize('Standard Deviation Down Multiplier {{ input_number }}', { input_number: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'DOWNMULTIPLIER',\n                    check: null,\n                },\n            ],\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange: window.Blockly.Blocks.input_list.onchange,\n    allowed_parents: ['bb_statement', 'bba_statement'],\n    getRequiredValueInputs() {\n        return {\n            DOWNMULTIPLIER: null,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.std_dev_multiplier_down = () => {};\n",
            "size_bytes": 1235
        },
        "src/components/shared_ui/counter/counter.tsx": {
            "content": "import classNames from 'classnames';\n\ntype TCounterProps = {\n    className?: string;\n    count: number;\n};\nconst Counter = ({ className, count }: TCounterProps) => {\n    return <div className={classNames('dc-counter', className)}>{count}</div>;\n};\n\nexport default Counter;\n",
            "size_bytes": 273
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Trade Definition/trade_definition_market.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport ApiHelpers from '../../../../services/api/api-helpers';\nimport DBotStore from '../../../dbot-store';\nimport { excludeOptionFromContextMenu, modifyContextMenu, runIrreversibleEvents } from '../../../utils';\n/* eslint-disable */\nwindow.Blockly.Blocks.trade_definition_market = {\n    init() {\n        this.jsonInit({\n            message0: localize('Market: {{ input_market }} > {{ input_submarket }} > {{ input_symbol }}', {\n                input_market: '%1',\n                input_submarket: '%2',\n                input_symbol: '%3',\n            }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'MARKET_LIST',\n                    options: [['', '']],\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'SUBMARKET_LIST',\n                    options: [['', '']],\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'SYMBOL_LIST',\n                    options: [['', '']],\n                },\n            ],\n            colour: window.Blockly.Colours.Special1.colour,\n            colourSecondary: window.Blockly.Colours.Special1.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Special1.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    customContextMenu(menu) {\n        const menu_items = [localize('Enable Block'), localize('Disable Block')];\n        excludeOptionFromContextMenu(menu, menu_items);\n        modifyContextMenu(menu);\n    },\n    onchange(event) {\n        const allowed_events = ['BLOCK_CREATE', 'BLOCK_CHANGE', 'BLOCK_DRAG'];\n        const is_allowed_event =\n            allowed_events.findIndex(event_name => event.type === window.Blockly.Events[event_name]) !== -1;\n\n        if (\n            !this.workspace ||\n            window.Blockly.derivWorkspace.isFlyoutVisible ||\n            this.workspace.isDragging() ||\n            !is_allowed_event\n        ) {\n            return;\n        }\n\n        this.enforceLimitations();\n\n        const { active_symbols } = ApiHelpers?.instance ?? {};\n        if (!active_symbols) return;\n\n        const market_dropdown = this.getField('MARKET_LIST');\n        const submarket_dropdown = this.getField('SUBMARKET_LIST');\n        const symbol_dropdown = this.getField('SYMBOL_LIST');\n        const market = market_dropdown.getValue();\n        const submarket = submarket_dropdown.getValue();\n        const symbol = symbol_dropdown.getValue();\n\n        const market_options = active_symbols.getMarketDropdownOptions();\n\n        const populateMarketDropdown = () => {\n            market_dropdown?.updateOptions(market_options, {\n                default_value: market,\n                should_pretend_empty: true,\n                event_group: event.group,\n            });\n        };\n\n        if (event.type === window.Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id)) {\n            populateMarketDropdown();\n        } else if (event.type === window.Blockly.Events.BLOCK_CHANGE && event.blockId === this.id) {\n            if (event.name === 'MARKET_LIST') {\n                submarket_dropdown.updateOptions(active_symbols.getSubmarketDropdownOptions(market), {\n                    default_value: submarket,\n                    should_pretend_empty: true,\n                    event_group: event.group,\n                });\n            } else if (event.name === 'SUBMARKET_LIST') {\n                symbol_dropdown.updateOptions(active_symbols.getSymbolDropdownOptions(submarket), {\n                    default_value: symbol,\n                    should_pretend_empty: true,\n                    event_group: event.group,\n                });\n            } else if (event.name === 'SYMBOL_LIST') {\n                const new_symbol = symbol_dropdown.getValue();\n                DBotStore.instance.dashboard.setBotBuilderSymbol(new_symbol);\n            }\n        } else if (\n            event.type === window.Blockly.Events.BLOCK_DRAG &&\n            !event.isStart &&\n            event.blockId === this.getRootBlock().id\n        ) {\n            if (market_dropdown.isEmpty() || submarket_dropdown.isEmpty() || symbol_dropdown.isEmpty()) {\n                populateMarketDropdown();\n            }\n        }\n    },\n    enforceLimitations() {\n        runIrreversibleEvents(() => {\n            if (!this.isDescendantOf('trade_definition')) {\n                this.unplug(false); // Unplug without reconnecting siblings\n\n                const top_blocks = this.workspace.getTopBlocks();\n                const trade_definition_block = top_blocks.find(block => block.type === 'trade_definition');\n\n                // Reconnect self to trade definition block.\n                if (trade_definition_block) {\n                    const connection = trade_definition_block.getLastConnectionInStatement('TRADE_OPTIONS');\n                    if (connection) {\n                        connection.connect(this.previousConnection);\n                    }\n                } else {\n                    this.dispose();\n                }\n            }\n            // These blocks cannot be disabled.\n            else if (this.disabled) {\n                this.setDisabled(false);\n            }\n        });\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.trade_definition_market = () => {};\n",
            "size_bytes": 5502
        },
        "src/components/shared/utils/constants/mt5-login-list-status.ts": {
            "content": "export const MT5_ACCOUNT_STATUS = Object.freeze({\n    FAILED: 'failed',\n    MIGRATED_WITH_POSITION: 'migrated_with_position',\n    MIGRATED_WITHOUT_POSITION: 'migrated_without_position',\n    NEEDS_VERIFICATION: 'needs_verification',\n    PENDING: 'pending',\n    POA_PENDING: 'poa_pending',\n    POA_VERIFIED: 'poa_verified',\n});\n",
            "size_bytes": 326
        },
        "src/components/error-component/index.ts": {
            "content": "import ErrorComponent from './error-component';\n\nexport default ErrorComponent;\n",
            "size_bytes": 80
        },
        "src/components/shared_ui/progress-bar-tracker/progress-bar-tracker.tsx": {
            "content": "import classNames from 'classnames';\n\ntype TProgressBarTracker = {\n    step: number;\n    steps_list: Array<string>;\n    onStepChange: (step_num: number) => void;\n    is_transition?: boolean;\n};\n\nconst ProgressBarTracker = ({ step, steps_list, is_transition = false, onStepChange }: TProgressBarTracker) => (\n    <div className='dc-progress-bar-tracker'>\n        {steps_list.map((step_item, index) => {\n            const active = step === index + 1;\n\n            const handleClick = () => {\n                onStepChange(index + 1);\n            };\n\n            return (\n                <div\n                    key={step_item}\n                    onClick={handleClick}\n                    className={classNames({\n                        'dc-progress-bar-tracker-rectangle': active,\n                        'dc-progress-bar-tracker-circle': !active,\n                        'dc-progress-bar-tracker-transition': is_transition,\n                    })}\n                />\n            );\n        })}\n    </div>\n);\n\nexport default ProgressBarTracker;\n",
            "size_bytes": 1044
        },
        "analysis-tool/Benanalysistool-final-main/components/tabs/trading-view-tab.tsx": {
            "content": "\"use client\"\n\ninterface TradingViewTabProps {\n  theme?: \"light\" | \"dark\"\n}\n\nexport function TradingViewTab({ theme = \"dark\" }: TradingViewTabProps) {\n  return (\n    <div className=\"space-y-4 sm:space-y-6\">\n      <div\n        className={`rounded-xl p-4 sm:p-6 md:p-8 border ${\n          theme === \"dark\"\n            ? \"bg-gradient-to-br from-[#0f1629]/80 to-[#1a2235]/80 border-blue-500/20 shadow-[0_0_30px_rgba(59,130,246,0.2)]\"\n            : \"bg-white border-gray-200 shadow-lg\"\n        }`}\n      >\n        <h2\n          className={`text-xl sm:text-2xl md:text-3xl font-bold mb-4 sm:mb-6 text-center ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}\n        >\n          Deriv Trading View\n        </h2>\n\n        <div className=\"w-full h-[400px] sm:h-[500px] md:h-[700px] rounded-lg overflow-hidden bg-gray-900\">\n          <iframe\n            src=\"https://charts.deriv.com/\"\n            className=\"w-full h-full border-0\"\n            title=\"Deriv Trading View\"\n            allow=\"fullscreen\"\n          />\n        </div>\n\n        <div className={`text-xs sm:text-sm mt-4 text-center ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>\n          Live Deriv Trading Chart\n        </div>\n      </div>\n    </div>\n  )\n}\n",
            "size_bytes": 1226
        },
        "src/components/audio/audio.tsx": {
            "content": "/* eslint-disable react/react-in-jsx-scope */\nconst Audio = () => (\n    <>\n        <audio\n            id='announcement'\n            aria-label='audio'\n            src={`${window.__webpack_public_path__}assets/media/announcement.mp3`}\n        />\n        <audio id='earned-money' aria-label='audio' src={`${window.__webpack_public_path__}assets/media/coins.mp3`} />\n        <audio id='job-done' aria-label='audio' src={`${window.__webpack_public_path__}assets/media/job-done.mp3`} />\n        <audio id='error' aria-label='audio' src={`${window.__webpack_public_path__}assets/media/out-of-bounds.mp3`} />\n        <audio\n            id='severe-error'\n            aria-label='audio'\n            src={`${window.__webpack_public_path__}assets/media/i-am-being-serious.mp3`}\n        />\n    </>\n);\n\nexport default Audio;\n",
            "size_bytes": 812
        },
        "src/components/shared_ui/field/index.ts": {
            "content": "import Field from './field';\nimport './field.scss';\n\nexport default Field;\n",
            "size_bytes": 75
        },
        "src/pages/dashboard/bot-list/save-modal/index.ts": {
            "content": "import SaveModal from './save-modal';\n\nexport default SaveModal;\n",
            "size_bytes": 65
        },
        "analysis-tool/Benanalysistool-final-main/app/layout.tsx": {
            "content": "import type React from \"react\"\nimport type { Metadata } from \"next\"\nimport { GeistSans } from \"geist/font/sans\"\nimport { GeistMono } from \"geist/font/mono\"\nimport { Analytics } from \"@vercel/analytics/next\"\nimport \"./globals.css\"\nimport { Suspense } from \"react\"\n\nexport const metadata: Metadata = {\n  title: \"Bena Analysis Tool\",\n  description: \"Real-time Deriv market analysis and trading signals\",\n  generator: \"v0.app\",\n}\n\nexport default function RootLayout({\n  children,\n}: Readonly<{\n  children: React.ReactNode\n}>) {\n  return (\n    <html lang=\"en\">\n      <body className={`font-sans ${GeistSans.variable} ${GeistMono.variable} antialiased`}>\n        <Suspense fallback={null}>{children}</Suspense>\n        <Analytics />\n      </body>\n    </html>\n  )\n}\n",
            "size_bytes": 759
        },
        "src/components/transactions/transaction.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport ContentLoader from 'react-content-loader';\nimport Money from '@/components/shared_ui/money';\nimport { TContractInfo } from '@/components/summary/summary-card.types';\nimport { popover_zindex } from '@/constants/z-indexes';\nimport { getContractTypeName } from '@/external/bot-skeleton';\nimport { isDbotRTL } from '@/external/bot-skeleton/utils/workspace';\nimport { getSymbolDisplayNameSync } from '@/utils/symbol-display-name';\nimport { LegacyRadioOffIcon, LegacyRadioOnIcon } from '@deriv/quill-icons';\nimport { Localize, localize } from '@deriv-com/translations';\nimport { MarketIcon } from '../market/market-icon';\nimport { convertDateFormat } from '../shared';\nimport Popover from '../shared_ui/popover';\nimport { TradeTypeIcon } from '../trade-type/trade-type-icon';\n\ntype TTransactionIconWithText = {\n    icon: React.ReactElement;\n    title: string;\n    message?: React.ReactNode;\n    className?: string;\n};\n\ntype TPopoverItem = {\n    icon?: React.ReactElement;\n    title: string;\n    children: React.ReactNode;\n};\n\ntype TPopoverContent = {\n    contract: TContractInfo;\n};\n\ntype TTransaction = {\n    contract?: TContractInfo | null;\n    onClickTransaction?: (transaction_id: null | number) => void;\n    active_transaction_id?: number | null;\n};\n\nconst TransactionIconWithText = ({ icon, title, message, className }: TTransactionIconWithText) => (\n    <React.Fragment>\n        <Popover\n            className={classNames(className, 'transactions__icon')}\n            alignment={isDbotRTL() ? 'right' : 'left'}\n            message={title}\n            zIndex={popover_zindex.TRANSACTION.toString()}\n        >\n            {icon}\n        </Popover>\n        {message}\n    </React.Fragment>\n);\n\nconst TransactionFieldLoader = () => (\n    <ContentLoader\n        className='transactions__loader-text'\n        height={10}\n        width={80}\n        speed={3}\n        backgroundColor={'var(--general-section-2)'}\n        foregroundColor={'var(--general-hover)'}\n    >\n        <rect x='0' y='0' rx='0' ry='0' width='100' height='12' />\n    </ContentLoader>\n);\n\nconst TransactionIconLoader = () => (\n    <ContentLoader\n        className='transactions__loader-icon'\n        speed={3}\n        width={24}\n        height={24}\n        backgroundColor={'var(--general-section-1)'}\n        foregroundColor={'var(--general-hover)'}\n    >\n        <rect x='0' y='0' rx='5' ry='5' width='24' height='24' />\n    </ContentLoader>\n);\n\nconst PopoverItem = ({ icon, title, children }: TPopoverItem) => (\n    <div className='transactions__popover-item'>\n        {icon && <div className='transaction__popover-icon'>{icon}</div>}\n        <div className='transactions__popover-details'>\n            <div className='transactions__popover-title'>{title}</div>\n            {children}\n        </div>\n    </div>\n);\n\nconst PopoverContent = ({ contract }: TPopoverContent) => (\n    <div className='transactions__popover-content'>\n        {contract.transaction_ids && (\n            <PopoverItem title={<Localize i18n_default_text='Reference IDs' />}>\n                {contract.transaction_ids.buy && (\n                    <div className='transactions__popover-value'>\n                        {`${contract.transaction_ids.buy} ${localize('(Buy)')}`}\n                    </div>\n                )}\n                {contract.transaction_ids.sell && (\n                    <div className='transactions__popover-value'>\n                        {`${contract.transaction_ids.sell} ${localize('(Sell)')}`}\n                    </div>\n                )}\n            </PopoverItem>\n        )}\n        {contract.tick_count && (\n            <PopoverItem title={localize('Duration')}>\n                <div className='transactions__popover-value'>{`${contract.tick_count} ${localize('ticks')}`}</div>\n            </PopoverItem>\n        )}\n        {(contract.barrier && (\n            <PopoverItem title={localize('Barrier')}>\n                <div className='transactions__popover-value'>{contract.barrier}</div>\n            </PopoverItem>\n        )) ||\n            (contract.high_barrier && contract.low_barrier && (\n                <PopoverItem title={localize('Barriers')}>\n                    <div className='transactions__popover-value'>{`${contract.high_barrier} ${localize(\n                        '(High)'\n                    )}`}</div>\n                    <div className='transactions__popover-value'>{`${contract.low_barrier} ${localize('(Low)')}`}</div>\n                </PopoverItem>\n            ))}\n        {contract.date_start && (\n            <PopoverItem title={localize('Start time')}>\n                <div className='transactions__popover-value'>\n                    {convertDateFormat(contract.date_start, 'YYYY-M-D HH:mm:ss [GMT]', 'YYYY-MM-DD HH:mm:ss [GMT]')}\n                </div>\n            </PopoverItem>\n        )}\n        {contract.entry_spot && (\n            <PopoverItem title={localize('Entry spot')}>\n                <div className='transactions__popover-value'>{contract.entry_spot}</div>\n                {contract.entry_tick_time && (\n                    <div className='transactions__popover-value'>\n                        {convertDateFormat(\n                            contract.entry_tick_time,\n                            'YYYY-M-D HH:mm:ss [GMT]',\n                            'YYYY-MM-DD HH:mm:ss [GMT]'\n                        )}\n                    </div>\n                )}\n            </PopoverItem>\n        )}\n        {(contract.exit_spot && contract.exit_tick_time && (\n            <PopoverItem title={localize('Exit spot')}>\n                <div className='transactions__popover-value'>{contract.exit_spot}</div>\n                <div className='transactions__popover-value'>\n                    {convertDateFormat(contract.exit_tick_time, 'YYYY-M-D HH:mm:ss [GMT]', 'YYYY-MM-DD HH:mm:ss [GMT]')}\n                </div>\n            </PopoverItem>\n        )) ||\n            (contract.exit_spot && (\n                <PopoverItem title={localize('Exit time')}>\n                    <div className='transactions__popover-value'>{contract.exit_spot}</div>\n                </PopoverItem>\n            ))}\n    </div>\n);\n\nconst Transaction = ({ contract, active_transaction_id, onClickTransaction }: TTransaction) => {\n    return (\n        <Popover\n            zIndex={popover_zindex.TRANSACTION.toString()}\n            alignment={isDbotRTL() ? 'right' : 'left'}\n            className='transactions__item-wrapper'\n            is_open={!!(contract && active_transaction_id === contract?.transaction_ids?.buy)}\n            message={contract && <PopoverContent contract={contract} />}\n        >\n            <div\n                data-testid='dt_transactions_item'\n                className='transactions__item'\n                onClick={() => onClickTransaction && onClickTransaction(contract?.transaction_ids?.buy || null)}\n            >\n                <div className='transactions__cell transactions__trade-type'>\n                    <div className='transactions__loader-container'>\n                        {contract ? (\n                            <TransactionIconWithText\n                                icon={\n                                    <MarketIcon\n                                        type={(contract as any).underlying_symbol || (contract as any).underlying}\n                                    />\n                                }\n                                title={\n                                    contract.display_name ||\n                                    getSymbolDisplayNameSync(\n                                        (contract as any).underlying_symbol || (contract as any).underlying || ''\n                                    )\n                                }\n                            />\n                        ) : (\n                            <TransactionIconLoader />\n                        )}\n                    </div>\n                    <div className='transactions__loader-container'>\n                        {contract ? (\n                            <TransactionIconWithText\n                                icon={<TradeTypeIcon type={contract.contract_type || ''} size='sm' />}\n                                title={getContractTypeName(contract)}\n                            />\n                        ) : (\n                            <TransactionIconLoader />\n                        )}\n                    </div>\n                </div>\n                <div className='transactions__cell transactions__entry-spot'>\n                    <TransactionIconWithText\n                        icon={<LegacyRadioOnIcon height={10} width={10} />}\n                        title={localize('Entry spot')}\n                        message={contract?.entry_spot ?? <TransactionFieldLoader />}\n                    />\n                </div>\n                <div className='transactions__cell transactions__exit-spot'>\n                    <TransactionIconWithText\n                        icon={<LegacyRadioOffIcon height={10} width={10} />}\n                        title={localize('Exit spot')}\n                        message={contract?.exit_spot ?? <TransactionFieldLoader />}\n                    />\n                </div>\n                <div className='transactions__cell transactions__stake'>\n                    {contract ? (\n                        <Money amount={contract.buy_price} currency={contract.currency} show_currency />\n                    ) : (\n                        <TransactionFieldLoader />\n                    )}\n                </div>\n                <div className='transactions__cell transactions__profit'>\n                    {contract?.is_completed ? (\n                        <div\n                            className={classNames({\n                                'transactions__profit--win': contract?.profit && contract?.profit >= 0,\n                                'transactions__profit--loss': contract?.profit && contract?.profit < 0,\n                            })}\n                        >\n                            <Money amount={Math.abs(contract.profit || 0)} currency={contract.currency} show_currency />\n                        </div>\n                    ) : (\n                        <TransactionFieldLoader />\n                    )}\n                </div>\n            </div>\n        </Popover>\n    );\n};\n\nexport default Transaction;\n",
            "size_bytes": 10365
        },
        "src/components/shared_ui/app-linked-with-wallet-icon/app-linked-with-wallet-icon.tsx": {
            "content": "import React from 'react';\nimport { AccountsDerivAccountLightIcon } from '@deriv/quill-icons';\nimport { useDevice } from '@deriv-com/ui';\nimport { WalletIcon } from '../wallet-icon';\nimport './app-linked-with-wallet-icon.scss';\n\ntype TAppIconProps = {\n    app_icon: string;\n    gradient_class: string;\n    has_bg?: boolean;\n    hide_watermark?: boolean;\n    size?: 'small' | 'medium' | 'large';\n    type: React.ComponentProps<typeof WalletIcon>['type'];\n    wallet_icon: string;\n};\n\n/**\n * Use the WalletIcon sizes\n */\nconst sizes = {\n    top: {\n        small: 'small',\n        medium: 'medium',\n        large: 'xlarge',\n    },\n    bottom: {\n        small: 'xsmall',\n        medium: 'small',\n        large: 'large',\n    },\n} as const;\n\nconst AppLinkedWithWalletIcon = ({\n    app_icon,\n    gradient_class,\n    hide_watermark,\n    size = 'medium',\n    type,\n    wallet_icon,\n}: TAppIconProps) => {\n    if (!app_icon || !wallet_icon || !gradient_class) {\n        return null;\n    }\n\n    const { isDesktop } = useDevice();\n    const icon_size = isDesktop ? 'sm' : 'xs';\n\n    return (\n        <div className={`app-icon app-icon--${size}`}>\n            {/* Top Icon */}\n            <div className='app-icon__top-icon'>\n                <AccountsDerivAccountLightIcon iconSize={icon_size} />\n            </div>\n\n            {/* Bottom Icon */}\n            <div className='app-icon__bottom-icon'>\n                <WalletIcon\n                    icon={wallet_icon}\n                    gradient_class={gradient_class}\n                    type={type}\n                    size={sizes.bottom[size]}\n                    has_bg\n                    hide_watermark={hide_watermark}\n                />\n            </div>\n        </div>\n    );\n};\n\nexport default AppLinkedWithWalletIcon;\n",
            "size_bytes": 1768
        },
        "src/types/stores.types.ts": {
            "content": "import { TStores } from '@deriv/stores/types';\nimport DashboardStore from 'Stores/dashboard-store';\nimport FlyoutStore from 'Stores/flyout-store';\nimport LoadModalStore from 'Stores/load-modal-store';\nimport RunPanelStore from 'Stores/run-panel-store';\nimport SaveModalStore from 'Stores/save-modal-store';\nimport ToolbarStore from 'Stores/toolbar-store';\nimport { TWebSocket } from './ws.types';\n\nexport type TDbotStore = {\n    client: TStores['client'];\n    flyout: FlyoutStore;\n    toolbar: ToolbarStore;\n    save_modal: SaveModalStore;\n    dashboard: DashboardStore;\n    load_modal: LoadModalStore;\n    run_panel: RunPanelStore;\n    setLoading: (is_loading: boolean) => void;\n    setContractUpdateConfig: (contract_update_config: unknown) => void;\n    handleFileChange: (\n        event: React.MouseEvent<Element, MouseEvent> | React.FormEvent<HTMLFormElement> | DragEvent,\n        is_body?: boolean\n    ) => boolean;\n    is_mobile: boolean;\n};\n\nexport type TApiHelpersStore = {\n    server_time: TStores['common']['server_time'];\n    ws: TWebSocket;\n};\n",
            "size_bytes": 1056
        },
        "src/components/layout/header/account-switcher.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { observer } from 'mobx-react-lite';\nimport { getCurrencyDisplayCode } from '@/components/shared';\nimport Text from '@/components/shared_ui/text';\nimport { Localize, localize } from '@deriv-com/translations';\nimport { useDevice } from '@deriv-com/ui';\nimport { TAccountSwitcher } from './common/types';\nimport AccountInfoIcon from './account-info-icon';\nimport AccountInfoWrapper from './account-info-wrapper';\nimport './account-switcher.scss';\n\nconst AccountSwitcher = observer(({ activeAccount }: TAccountSwitcher) => {\n    const { isDesktop } = useDevice();\n\n    if (!activeAccount) return null;\n\n    const { currency, isVirtual, balance } = activeAccount;\n    const currency_lower = currency?.toLowerCase();\n    const is_disabled = false; // Since the original had isDisabled={true}, we keep it non-interactive\n\n    return (\n        <div className='acc-info__wrapper'>\n            {isDesktop && <div className='acc-info__separator' />}\n            <AccountInfoWrapper is_disabled={is_disabled}>\n                <div\n                    data-testid='dt_acc_info'\n                    id='dt_core_account-info_acc-info'\n                    className={classNames('acc-info', {\n                        'acc-info--is-virtual': isVirtual,\n                        'acc-info--is-disabled': is_disabled,\n                    })}\n                >\n                    <span className='acc-info__id'>\n                        {isDesktop ? (\n                            <AccountInfoIcon is_virtual={isVirtual} currency={currency_lower} />\n                        ) : (\n                            (isVirtual || currency) && (\n                                <AccountInfoIcon is_virtual={isVirtual} currency={currency_lower} />\n                            )\n                        )}\n                    </span>\n                    <div className='acc-info__content'>\n                        <div className='acc-info__account-type-header'>\n                            <Text as='p' size='xxxs' className='acc-info__account-type'>\n                                {isVirtual ? localize('Demo') : localize('Real')}\n                            </Text>\n                        </div>\n                        {(typeof balance !== 'undefined' || !currency) && (\n                            <div className='acc-info__balance-section'>\n                                <p\n                                    data-testid='dt_balance'\n                                    className={classNames('acc-info__balance', {\n                                        'acc-info__balance--no-currency': !currency && !isVirtual,\n                                    })}\n                                >\n                                    {!currency ? (\n                                        <Localize i18n_default_text='No currency assigned' />\n                                    ) : (\n                                        `${balance} ${getCurrencyDisplayCode(currency)}`\n                                    )}\n                                </p>\n                            </div>\n                        )}\n                    </div>\n                </div>\n            </AccountInfoWrapper>\n            {isDesktop && <div className='acc-info__separator' />}\n        </div>\n    );\n});\n\nexport default AccountSwitcher;\n",
            "size_bytes": 3360
        },
        "src/components/shared/utils/helpers/index.ts": {
            "content": "export * from './active-symbols';\nexport * from './barrier';\nexport * from './barriers';\nexport * from './chart-notifications';\nexport * from './details';\nexport * from './duration';\nexport * from './format-response';\nexport * from './logic';\nexport * from './market-underlying';\nexport * from './portfolio-notifications';\nexport * from './start-date';\nexport * from './validation-rules';\n",
            "size_bytes": 389
        },
        "src/external/bot-skeleton/scratch/blocks/Advanced/Functions/procedures_callnoreturn.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.procedures_callnoreturn = {\n    init() {\n        this.arguments = [];\n        this.argument_var_models = [];\n        this.previousDisabledState = false;\n        this.jsonInit(this.definition());\n    },\n    /**\n     * Block definitions describe how a block looks and behaves, including the text,\n     * the colour, the shape, and what other blocks it can connect to. We've separated\n     * the block definition from the init function so we can search through it.\n     * https://developers.google.com/blockly/guides/create-custom-blocks/define-blocks\n     */\n    definition() {\n        return {\n            message0: '%1 %2',\n            args0: [\n                {\n                    type: 'field_label',\n                    name: 'NAME',\n                    text: this.id,\n                },\n                {\n                    type: 'input_dummy',\n                    name: 'TOPROW',\n                },\n            ],\n            inputsInline: true,\n            colour: window.Blockly.Colours.Special2.colour,\n            colourSecondary: window.Blockly.Colours.Special2.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Special2.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Custom function'),\n            category: window.Blockly.Categories.Functions,\n        };\n    },\n    /**\n     * Meta returns an object with with properties that contain human readable strings,\n     * these strings are used in the flyout help content, as well as used for searching\n     * for specific blocks.\n     */\n    meta() {\n        return {\n            display_name: localize('Custom function'),\n            description: '',\n        };\n    },\n    /**\n     * Procedure calls cannot exist without the corresponding procedure\n     * definition.  Enforce this link whenever an event is fired.\n     * @param {!window.Blockly.Events.Abstract} event Change event.\n     * @this window.Blockly.Block\n     */\n    onchange(event) {\n        if (!this.workspace || window.Blockly.derivWorkspace.isFlyoutVisible) {\n            // Block is deleted or is in a flyout.\n            return;\n        }\n\n        if (!event.recordUndo) {\n            // Events not generated by user. Skip handling.\n            return;\n        }\n\n        if (event.type === window.Blockly.Events.BLOCK_CREATE && event.ids.indexOf(this.id) !== -1) {\n            // Look for the case where a procedure call was created (usually through\n            // paste) and there is no matching definition.  In this case, create\n            // an empty definition block with the correct signature.\n            const name = this.getProcedureCall();\n            let def = window.Blockly.Procedures.getDefinition(name, this.workspace);\n            if (\n                def &&\n                (def.type !== this.defType || JSON.stringify(def.arguments) !== JSON.stringify(this.arguments))\n            ) {\n                // The signatures don't match.\n                def = null;\n            }\n\n            if (def) {\n                this.data = def.id;\n                return;\n            }\n            window.Blockly.Events.setGroup(event.group);\n            /**\n             * Create matching definition block.\n             * <xml>\n             *   <block type=\"procedures_defreturn\" x=\"10\" y=\"20\">\n             *     <mutation name=\"test\">\n             *       <arg name=\"x\"></arg>\n             *     </mutation>\n             *     <field name=\"NAME\">test</field>\n             *   </block>\n             * </xml>\n             */\n            const xml = document.createElement('xml');\n            const block = document.createElement('block');\n            block.setAttribute('type', this.defType);\n\n            const xy = this.getRelativeToSurfaceXY();\n            const x = xy.x + window.Blockly.SNAP_RADIUS * (this.RTL ? -1 : 1);\n            const y = xy.y + window.Blockly.SNAP_RADIUS * 2;\n\n            block.setAttribute('x', x);\n            block.setAttribute('y', y);\n\n            const mutation = this.mutationToDom();\n\n            block.appendChild(mutation);\n\n            const field = document.createElement('field');\n            field.setAttribute('name', 'NAME');\n            field.appendChild(document.createTextNode(this.getProcedureCall()));\n\n            block.appendChild(field);\n            xml.appendChild(block);\n\n            window.Blockly.Xml.domToWorkspace(xml, this.workspace);\n            window.Blockly.Events.setGroup(false);\n            const procedure_definition = window.Blockly.Procedures.getDefinition(name, this.workspace);\n\n            this.data = procedure_definition.id;\n        } else if (event.type === window.Blockly.Events.BLOCK_DELETE) {\n            // Look for the case where a procedure definition has been deleted,\n            // leaving this block (a procedure call) orphaned.  In this case, delete\n            // the orphan.\n            const name = this.getProcedureCall();\n            const def = window.Blockly.Procedures.getDefinition(name, this.workspace);\n\n            if (!def) {\n                window.Blockly.Events.setGroup(event.group);\n                this.dispose(true, false);\n                window.Blockly.Events.setGroup(false);\n            }\n        } else if (event.type === window.Blockly.Events.BLOCK_CHANGE && event.element === 'disabled') {\n            const name = this.getProcedureCall();\n            const def = window.Blockly.Procedures.getDefinition(name, this.workspace);\n\n            if (def && def.id === event.blockId) {\n                // in most cases the old group should be ''\n                const oldGroup = window.Blockly.Events.getGroup();\n\n                if (oldGroup) {\n                    // This should only be possible programatically and may indicate a problem\n                    // with event grouping. If you see this message please investigate. If the\n                    // use ends up being valid we may need to reorder events in the undo stack.\n                    // eslint-disable-next-line no-console\n                    console.log('Saw an existing group while responding to a definition change');\n                }\n\n                window.Blockly.Events.setGroup(event.group);\n\n                if (event.newValue) {\n                    this.previousDisabledState = this.disabled;\n                    this.setDisabled(true);\n                } else {\n                    this.setDisabled(this.previousDisabledState);\n                }\n\n                window.Blockly.Events.setGroup(oldGroup);\n            }\n        }\n    },\n    /**\n     * Returns the related procedure definition block.\n     * @return {window.Blockly.Block} Procedure definition block.\n     * @this window.Blockly.Block\n     */\n    getProcedureDefinition(name) {\n        // Assume that a procedure definition is a top block.\n        return this.workspace.getTopBlocks(false).find(block => {\n            if (block.getProcedureDef) {\n                const tuple = block.getProcedureDef();\n                return tuple && window.Blockly.Names.equals(tuple[0], name);\n            }\n            return false;\n        });\n    },\n    /**\n     * Returns the name of the procedure this block calls.\n     * @return {string} Procedure name.\n     * @this window.Blockly.Block\n     */\n    getProcedureCall() {\n        // The NAME field is guaranteed to exist, null will never be returned.\n        return /** @type {string} */ (this.getFieldValue('NAME'));\n    },\n    /**\n     * Notification that a procedure is renaming.\n     * If the name matches this block's procedure, rename it.\n     * @param {string} oldName Previous name of procedure.\n     * @param {string} newName Renamed procedure.\n     * @this window.Blockly.Block\n     */\n    renameProcedure(oldName, newName) {\n        if (window.Blockly.Names.equals(oldName, this.getProcedureCall())) {\n            this.setFieldValue(newName, 'NAME');\n        }\n    },\n    /**\n     * Notification that the procedure's parameters have changed.\n     * @param {!Array.<string>} paramNames New param names, e.g. ['x', 'y', 'z'].\n     * @private\n     * @this window.Blockly.Block\n     */\n    setProcedureParameters(paramNames) {\n        // Rebuild the block's arguments.\n        this.arguments = [].concat(paramNames);\n\n        // And rebuild the argument model list.\n        this.argument_var_models = this.arguments.map(argumentName =>\n            window.Blockly.Variables.getOrCreateVariablePackage(this.workspace, null, argumentName, '')\n        );\n\n        this.updateShape();\n    },\n    /**\n     * Modify this block to have the correct number of arguments.\n     * @private\n     * @this window.Blockly.Block\n     */\n    updateShape() {\n        this.arguments.forEach((argumentName, i) => {\n            let field = this.getField(`ARGNAME${i}`);\n            if (field) {\n                // Ensure argument name is up to date.\n                // The argument name field is deterministic based on the mutation,\n                // no need to fire a change event.\n                window.Blockly.Events.disable();\n                try {\n                    field.setValue(argumentName);\n                } finally {\n                    window.Blockly.Events.enable();\n                }\n            } else {\n                // Add new input.\n                field = new window.Blockly.FieldLabel(argumentName);\n                const input = this.appendValueInput(`ARG${i}`).appendField(field, `ARGNAME${i}`);\n                input.init();\n            }\n        });\n\n        // Remove deleted inputs.\n        let i = this.arguments.length;\n        while (this.getInput(`ARG${i}`)) {\n            this.removeInput(`ARG${i}`);\n            i++;\n        }\n\n        // Add 'with:' if there are parameters, remove otherwise.\n        const topRow = this.getInput('TOPROW');\n\n        if (topRow) {\n            if (this.arguments.length) {\n                if (!this.getField('WITH')) {\n                    topRow.appendField(localize('with:'), 'WITH');\n                    topRow.init();\n                }\n            } else if (this.getField('WITH')) {\n                topRow.removeField('WITH');\n            }\n        }\n    },\n    /**\n     * Create XML to represent the (non-editable) name and arguments.\n     * @return {!Element} XML storage element.\n     * @this window.Blockly.Block\n     */\n    mutationToDom() {\n        const container = document.createElement('mutation');\n        container.setAttribute('name', this.getProcedureCall());\n\n        this.arguments.forEach(argumentName => {\n            const parameter = document.createElement('arg');\n            parameter.setAttribute('name', argumentName);\n            container.appendChild(parameter);\n        });\n\n        return container;\n    },\n    /**\n     * Parse XML to restore the (non-editable) name and parameters.\n     * @param {!Element} xmlElement XML storage element.\n     * @this window.Blockly.Block\n     */\n    domToMutation(xmlElement) {\n        const name = xmlElement.getAttribute('name');\n        this.renameProcedure(this.getProcedureCall(), name);\n\n        const args = [];\n        const paramIds = [];\n\n        xmlElement.childNodes.forEach(childNode => {\n            if (childNode.nodeName.toLowerCase() === 'arg') {\n                args.push(childNode.getAttribute('name'));\n                paramIds.push(childNode.getAttribute('paramId'));\n            }\n        });\n\n        this.setProcedureParameters(args, paramIds);\n    },\n    /**\n     * Return all variables referenced by this block.\n     * @return {!Array.<!window.Blockly.VariableModel>} List of variable models.\n     * @this window.Blockly.Block\n     */\n    getVarModels() {\n        return this.argument_var_models;\n    },\n    /**\n     * Add menu option to find the definition block for this call.\n     * @param {!Array} options List of menu options to add to.\n     * @this window.Blockly.Block\n     */\n    customContextMenu(options) {\n        modifyContextMenu(options);\n        const name = this.getProcedureCall();\n        const { workspace } = this;\n\n        const option = { enabled: true };\n        option.text = localize('Highlight function definition');\n        option.callback = () => {\n            const def = this.getProcedureDefinition(name);\n            if (def) {\n                workspace.centerOnBlock(def.id);\n                def.select();\n            }\n        };\n\n        options.push(option);\n    },\n    defType: 'procedures_defnoreturn',\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.procedures_callnoreturn = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const functionName = window.Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('NAME'),\n        window.Blockly.Procedures.CATEGORY_NAME\n    );\n    const args = block.arguments.map(\n        (arg, i) =>\n            window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n                block,\n                `ARG${i}`,\n                window.Blockly.JavaScript.javascriptGenerator.ORDER_COMMA\n            ) || 'null'\n    );\n\n    const code = `${functionName}(${args.join(', ')});\\n`;\n    return code;\n};\n",
            "size_bytes": 13206
        },
        "src/utils/getCountry.ts": {
            "content": "/*\nTemp solution for growthbook to fetch country and handle experiments/fratures without causing inconsistencies to the UI. \n*/\n\nconst getCountry = async () => {\n    try {\n        const response = await fetch('https://www.cloudflare.com/cdn-cgi/trace').catch(() => null);\n        const text = response ? await response.text().catch(() => '') : '';\n        const entries = text ? text.split('\\n').map(v => v.split('=', 2)) : [];\n        const data = entries.length ? Object.fromEntries(entries) : {};\n        return data?.loc?.toLowerCase() ?? '';\n    } catch {\n        return '';\n    }\n};\n\nexport default getCountry;\n",
            "size_bytes": 617
        },
        "src/components/shared/utils/validation/declarative-validation-rules.ts": {
            "content": "import { addComma } from '../currency';\nimport { cloneObject } from '../object';\nimport { compareBigUnsignedInt } from '../string';\nimport { TFormErrorMessagesTypes } from './form-error-messages-types';\n\nexport type TOptions = {\n    [key: string]: unknown;\n    decimals?: string | number;\n    is_required?: boolean;\n    max?: number | string | null;\n    min?: number | string | null;\n    name1?: string;\n    name2?: string;\n    regex?: RegExp;\n    type?: string;\n};\n\nexport type TRuleOptions<S extends object = object> = {\n    func?: <T extends string>(\n        value: T,\n        options?: TOptions,\n        store?: S,\n        inputs?: Pick<S, keyof S>\n    ) => boolean | { is_ok: boolean; message: string };\n    condition?: (store: S) => boolean;\n    message?: string;\n} & TOptions;\n\nconst validRequired = (value?: string | number /* , options, field */) => {\n    if (value === undefined || value === null) {\n        return false;\n    }\n\n    const str = value.toString().replace(/\\s/g, '');\n    return str.length > 0;\n};\nexport const address_permitted_special_characters_message = \". , ' : ; ( )  @ # / -\";\nexport const validAddress = (value: string, options?: TOptions) => {\n    if (options?.is_required && (!value || value.match(/^\\s*$/))) {\n        return {\n            is_ok: false,\n            message: form_error_messages?.empty_address(),\n        };\n    } else if (!validLength(value, { min: 0, max: 70 })) {\n        return {\n            is_ok: false,\n            message: form_error_messages?.maxNumber(70),\n        };\n    } else if (!/^[\\p{L}\\p{Nd}\\s'.,:;()\\u00b0@#/-]{0,70}$/u.test(value)) {\n        return {\n            is_ok: false,\n            message: form_error_messages?.address(),\n        };\n    }\n    return { is_ok: true };\n};\nexport const validPostCode = (value: string) => value === '' || /^[A-Za-z0-9][A-Za-z0-9\\s-]*$/.test(value);\nexport const validTaxID = (value: string) => /(?!^$|\\s+)[A-Za-z0-9./\\s-]$/.test(value);\nexport const validPhone = (value: string) => /^\\+?([0-9-]+\\s)*[0-9-]+$/.test(value);\nexport const validLetterSymbol = (value: string) => /^[A-Za-z]+([a-zA-Z.' -])*[a-zA-Z.' -]+$/.test(value);\nexport const validName = (value: string) => /^(?!.*\\s{2,})[\\p{L}\\s'.-]{2,50}$/u.test(value);\n// eslint-disable-next-line default-param-last\nexport const validLength = (value = '', options: TOptions) =>\n    (options.min ? value.length >= Number(options.min) : true) &&\n    (options.max ? value.length <= Number(options.max) : true);\nexport const validPassword = (value: string) => /^(?=.*[a-z])(?=.*\\d)(?=.*[A-Z])[!-~]{8,25}$/.test(value);\nexport const validEmail = (value: string) => /^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,63}$/.test(value);\nconst validBarrier = (value: string) => /^[+-]?\\d+\\.?\\d*$/.test(value);\nconst validGeneral = (value: string) => !/[`~!@#$%^&*)(_=+[}{\\]\\\\/\";:?><|]+/.test(value);\nconst validRegular = (value: string, options: TOptions) => options.regex?.test(value);\nconst confirmRequired = (value: string) => !!value;\nconst checkPOBox = (value: string) => !/p[.\\s]+o[.\\s]+box/i.test(value);\nconst validEmailToken = (value: string) => value.trim().length === 8;\nexport const hasInvalidCharacters = (target_string: string) => /[^\\dX\\s]/.test(target_string);\nexport const isFormattedCardNumber = (target_string: string) =>\n    /(^\\d{4})\\s(\\d{2}X{2})\\s(X{4})\\s(\\d{4}$)/.test(target_string);\nexport const validFile = (file: File) => file?.type && /(image|application)\\/(jpe?g|pdf|png)$/.test(file?.type);\nexport const validMT5Password = (value: string) => /^(?=.*[!@#$%^&*()+\\-=[\\]{};':\"|,.<>/?_~])[ -~]{8,16}$/.test(value);\n\nlet pre_build_dvrs: TInitPreBuildDVRs, form_error_messages: TFormErrorMessagesTypes;\n\nconst isMoreThanMax = (value: number, options: TOptions) =>\n    options.type === 'float' ? +value > Number(options.max) : compareBigUnsignedInt(value, options.max) === 1;\n\nexport const validNumber = (value: string, opts: TOptions) => {\n    const options = cloneObject(opts);\n    let message = null;\n    if (options.allow_empty && value.length === 0) {\n        return {\n            is_ok: true,\n        };\n    }\n\n    let is_ok = true;\n    if ('min' in options && typeof options.min === 'function') {\n        options.min = options.min();\n    }\n    if ('max' in options && typeof options.max === 'function') {\n        options.max = options.max();\n    }\n\n    if (!(options.type === 'float' ? /^\\d*(\\.\\d+)?$/ : /^\\d+$/).test(value) || isNaN(+value)) {\n        is_ok = false;\n        message = form_error_messages.number();\n    } else if ('min' in options && 'max' in options && +options.min === +options.max && +value !== +options.min) {\n        is_ok = false;\n        message = form_error_messages.value(addComma(options.min, options.decimals));\n    } else if (\n        'min' in options &&\n        'max' in options &&\n        options.min > 0 &&\n        (+value < +options.min || isMoreThanMax(+value, options))\n    ) {\n        is_ok = false;\n        const min_value = addComma(options.min, options.decimals);\n        const max_value = addComma(options.max, options.decimals);\n        message = form_error_messages.betweenMinMax(min_value, max_value);\n    } else if (\n        options.type === 'float' &&\n        options.decimals &&\n        !new RegExp(`^\\\\d+(\\\\.\\\\d{0,${options.decimals}})?$`).test(value)\n    ) {\n        is_ok = false;\n        message = form_error_messages.decimalPlaces(options.decimals);\n    } else if ('min' in options && +value < +options.min) {\n        is_ok = false;\n        const min_value = addComma(options.min, options.decimals);\n        message = form_error_messages.minNumber(min_value);\n    } else if ('max' in options && isMoreThanMax(+value, options)) {\n        is_ok = false;\n        const max_value = addComma(options.max, options.decimals);\n        message = form_error_messages.maxNumber(max_value);\n    }\n    return { is_ok, message };\n};\n\nexport type TInitPreBuildDVRs = ReturnType<typeof initPreBuildDVRs>;\nconst initPreBuildDVRs = () => ({\n    address: {\n        func: validAddress,\n        message: form_error_messages.address,\n    },\n    barrier: {\n        func: validBarrier,\n        message: form_error_messages.barrier,\n    },\n    email: { func: validEmail, message: form_error_messages.email },\n    general: {\n        func: validGeneral,\n        message: form_error_messages.general,\n    },\n    length: { func: validLength, message: '' }, // Message will be set in validLength function on initiation\n    name: {\n        func: validName,\n        message: form_error_messages.name,\n    },\n    number: {\n        func: (...args: [string, TOptions, Record<string, string | boolean>]) => {\n            const [value, opts] = args;\n            return validNumber(value, opts);\n        },\n        message: form_error_messages.number,\n    },\n    password: {\n        func: validPassword,\n        message: form_error_messages.password,\n    },\n    phone: { func: validPhone, message: form_error_messages.phone },\n    po_box: { func: checkPOBox, message: form_error_messages.po_box },\n    postcode: { func: validPostCode, message: form_error_messages.postcode },\n    regular: { func: validRegular, message: '' },\n    req: { func: validRequired, message: '' },\n    confirm: { func: confirmRequired, message: '' },\n    signup_token: { func: validEmailToken, message: form_error_messages.signup_token },\n    tax_id: {\n        func: validTaxID,\n        message: form_error_messages.validTaxID,\n    },\n});\n\nexport const initFormErrorMessages = (all_form_error_messages: Partial<TFormErrorMessagesTypes>) => {\n    if (!pre_build_dvrs) {\n        form_error_messages = all_form_error_messages as TFormErrorMessagesTypes;\n        pre_build_dvrs = initPreBuildDVRs();\n    }\n};\n\nexport const getPreBuildDVRs = () => {\n    return pre_build_dvrs;\n};\n\nexport const getErrorMessages = () => {\n    return form_error_messages;\n};\n",
            "size_bytes": 7817
        },
        "src/pages/tutorials/tutorials-tab-desktop.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { observer } from 'mobx-react-lite';\nimport Tabs from '@/components/shared_ui/tabs';\nimport { useStore } from '@/hooks/useStore';\nimport { LabelPairedSearchCaptionRegularIcon } from '@deriv/quill-icons/LabelPaired';\nimport { LegacyCloseCircle1pxBlackIcon } from '@deriv/quill-icons/Legacy';\nimport SearchInput from './common/search-input';\nimport { TTutorialsTabItem } from './tutorials';\n\ntype TTutorialsTabDesktop = {\n    tutorial_tabs: TTutorialsTabItem[];\n    prev_active_tutorials: number;\n};\n\nconst TutorialsTabDesktop = observer(({ tutorial_tabs, prev_active_tutorials }: TTutorialsTabDesktop) => {\n    const { dashboard } = useStore();\n\n    const { active_tab_tutorials, faq_search_value, setActiveTabTutorial, setFAQSearchValue, resetTutorialTabContent } =\n        dashboard;\n    const search = faq_search_value?.toLowerCase();\n\n    const onCloseHandleSearch = () => {\n        setFAQSearchValue('');\n        resetTutorialTabContent();\n        setActiveTabTutorial(prev_active_tutorials);\n    };\n\n    React.useEffect(() => {\n        if (faq_search_value !== '') {\n            setActiveTabTutorial(3);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [active_tab_tutorials]);\n\n    return (\n        <div className='dc-tabs__wrapper' data-testid='tutorials-tab-desktop'>\n            <div className='dc-tabs__wrapper__group'>\n                <LabelPairedSearchCaptionRegularIcon\n                    height='20px'\n                    width='20px'\n                    className='search-icon'\n                    data-testid='id-test-search'\n                    fill='var(--text-general)'\n                />\n                <SearchInput\n                    faq_value={faq_search_value}\n                    setFaqSearchContent={setFAQSearchValue}\n                    prev_active_tutorials={prev_active_tutorials}\n                />\n                {search && (\n                    <LegacyCloseCircle1pxBlackIcon\n                        height='18px'\n                        width='18px'\n                        className='close-icon'\n                        data-testid='id-test-close'\n                        onClick={onCloseHandleSearch}\n                        fill='var(--text-general)'\n                    />\n                )}\n            </div>\n            <Tabs\n                className={classNames('tutorials', {\n                    'tutorials-guide': prev_active_tutorials === 0,\n                    'tutorials-faq': prev_active_tutorials === 1,\n                    'tutorials-qs-guide': prev_active_tutorials === 2,\n                    'tutorials-search': active_tab_tutorials === 3,\n                })}\n                active_index={active_tab_tutorials}\n                onTabItemClick={setActiveTabTutorial}\n                top\n            >\n                {tutorial_tabs?.map(\n                    ({ label, content }) =>\n                        content && (\n                            <div label={label} key={`${content}_${label}`}>\n                                {content}\n                            </div>\n                        )\n                )}\n            </Tabs>\n        </div>\n    );\n});\n\nexport default TutorialsTabDesktop;\n",
            "size_bytes": 3258
        },
        "src/utils/traders-hub-redirect.ts": {
            "content": "import { standalone_routes } from '@/components/shared';\n\n/**\n * Gets the base Trader's Hub URL based on the current environment\n * @returns The base Trader's Hub URL\n */\nexport const getBaseTraderHubUrl = (): string => {\n    const hostname = window.location.hostname;\n\n    const domain = 'deriv.com';\n\n    const is_staging = hostname.includes('staging');\n    const is_test =\n        hostname.includes('localhost') || hostname.includes('test') || /^\\d+\\.\\d+\\.\\d+\\.\\d+$/.test(hostname);\n\n    if (is_staging || is_test) {\n        return `https://staging-hub.${domain}`;\n    }\n\n    return `https://hub.${domain}`;\n};\n\n/**\n * Determines the appropriate Trader's Hub URL based on environment and product type\n * @param product_type - The type of product to redirect to ('tradershub', 'cfds', 'reports', or 'cashier')\n * @returns The URL to redirect to\n */\nexport const getTraderHubUrl = (product_type: 'tradershub' | 'cfds' | 'reports' | 'cashier'): string => {\n    const base_url = getBaseTraderHubUrl();\n\n    // Map product_type to redirect_to parameter\n    let redirect_to = 'home';\n    if (product_type === 'cfds') redirect_to = 'cfds';\n    else if (product_type === 'reports') redirect_to = 'reports';\n    else if (product_type === 'cashier') redirect_to = 'cashier';\n\n    // Construct the redirect URL\n    const url = `${base_url}/tradershub/redirect?action=redirect_to&redirect_to=${redirect_to}`;\n\n    const urlParams = new URLSearchParams(window.location.search);\n    const account_param = urlParams.get('account');\n\n    // Determine account value: if Demo  'demo' else Currency (USD/BTC)\n    const account_value = account_param === 'demo' ? 'demo' : account_param;\n\n    return account_value ? `${url}&account=${account_value}` : url;\n};\n\n/**\n * Gets the URL for the wallet page in Trader's Hub\n * @returns The URL for the wallet page\n */\nexport const getWalletUrl = (is_virtual?: boolean, currency?: string): string => {\n    const base_url = getBaseTraderHubUrl();\n    const url = `${base_url}/tradershub/redirect?action=redirect_to&redirect_to=wallet`;\n\n    let account_value;\n    if (currency) {\n        account_value = is_virtual ? 'demo' : currency;\n    } else {\n        const urlParams = new URLSearchParams(window.location.search);\n        const account_param = urlParams.get('account');\n\n        // Determine account value: if Demo  'demo' else Currency (USD/BTC)\n        account_value = account_param === 'demo' ? 'demo' : account_param;\n    }\n\n    return account_value ? `${url}&account=${account_value}` : url;\n};\n\n/**\n * Checks if the user should be redirected to Trader's Hub based on:\n * 1. If they have wallets\n * 2. If their country is in the enabled list from Firebase config\n *\n * @param has_wallet - Whether the user has wallets\n * @param residence - The user's residence country code\n * @param hubEnabledCountryList - List of countries enabled for the hub\n * @returns Boolean indicating if redirection should happen\n */\nexport const shouldRedirectToTraderHub = (\n    has_wallet: boolean,\n    residence?: string,\n    hubEnabledCountryList: string[] = []\n): boolean => {\n    // Check if the country is in the enabled list\n    const is_country_enabled = residence ? hubEnabledCountryList.includes(residence) : false;\n\n    return has_wallet && is_country_enabled;\n};\n\n/**\n * Handles redirection to Trader's Hub\n * @param params - Object containing parameters for redirection\n * @param params.product_type - The type of product to redirect to ('tradershub', 'cfds', 'reports', or 'cashier')\n * @param params.has_wallet - Whether the user has wallets\n * @param params.is_virtual - Whether the account is a demo account\n * @param params.residence - The user's residence country code\n * @param params.hubEnabledCountryList - List of countries enabled for the hub\n * @returns The URL to redirect to, or null if no redirection should happen\n */\nexport const handleTraderHubRedirect = ({\n    product_type,\n    has_wallet,\n    is_virtual = false,\n    residence,\n    hubEnabledCountryList = [],\n}: {\n    product_type: 'cfds' | 'tradershub' | 'reports' | 'cashier';\n    has_wallet: boolean;\n    is_virtual?: boolean;\n    residence?: string;\n    hubEnabledCountryList?: string[];\n}): string | null => {\n    if (shouldRedirectToTraderHub(has_wallet, residence, hubEnabledCountryList)) {\n        return getTraderHubUrl(product_type);\n    }\n\n    // If no redirection should happen, return the default Trader's Hub URL\n    const url = standalone_routes.traders_hub;\n\n    // If it's a demo account, append the demo parameter\n    if (is_virtual) {\n        const redirect_url = new URL(url);\n        redirect_url.searchParams.set('account', 'demo');\n        return redirect_url.toString();\n    }\n\n    return url;\n};\n",
            "size_bytes": 4724
        },
        "src/pages/bot-builder/quick-strategy/selects/growth-rate-type.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport debounce from 'debounce';\nimport { Field, FieldProps, useFormikContext } from 'formik';\nimport { observer } from 'mobx-react-lite';\nimport Autocomplete from '@/components/shared_ui/autocomplete';\nimport { TItem } from '@/components/shared_ui/dropdown-list';\nimport Text from '@/components/shared_ui/text';\nimport { api_base } from '@/external/bot-skeleton';\nimport { requestProposalForQS } from '@/external/bot-skeleton/scratch/accumulators-proposal-handler';\nimport { useStore } from '@/hooks/useStore';\nimport { localize } from '@deriv-com/translations';\nimport { TDropdownItems, TFormData } from '../types';\n\ntype TContractTypes = {\n    name: string;\n    attached?: boolean;\n};\n\ntype TProposalRequest = {\n    amount: number;\n    currency: string;\n    growth_rate: number;\n    symbol: string;\n    limit_order: {\n        take_profit: number;\n    };\n    boolean_tick_count: boolean;\n};\n\nconst GrowthRateSelect: React.FC<TContractTypes> = observer(({ name }) => {\n    const { ui, client } = useStore();\n    const { is_desktop } = ui;\n    const [list, setList] = React.useState<TDropdownItems[]>([]);\n    const { quick_strategy } = useStore();\n    const { setValue, setAdditionalData } = quick_strategy;\n    const { setFieldValue, values, setFieldError, errors } = useFormikContext<TFormData>();\n\n    const prev_proposal_payload = React.useRef<TProposalRequest | null>(null);\n    const ref_max_payout = React.useRef<TProposalRequest | null>(null);\n    const prev_error = React.useRef<{\n        tick_count: string | null;\n        take_profit: string | null;\n    }>({\n        tick_count: null,\n        take_profit: null,\n    });\n\n    React.useEffect(() => {\n        setList([\n            { text: '1%', value: '0.01' },\n            { text: '2%', value: '0.02' },\n            { text: '3%', value: '0.03' },\n            { text: '4%', value: '0.04' },\n            { text: '5%', value: '0.05' },\n        ]);\n        setFieldValue?.('tradetype', 'accumulator');\n        setValue('tradetype', 'accumulator');\n    }, []);\n\n    React.useEffect(() => {\n        if (values.boolean_tick_count) {\n            setFieldValue('take_profit', 0);\n            setFieldError('tick_count', prev_error.current?.tick_count ?? undefined);\n            setFieldError('take_profit', undefined);\n        } else {\n            setFieldValue('tick_count', 0);\n            setFieldError('take_profit', prev_error.current?.take_profit ?? undefined);\n            setFieldError('tick_count', undefined);\n        }\n    }, [values, errors.take_profit, errors.tick_count, values.boolean_tick_count, setFieldValue, setFieldError]);\n\n    const validateMinMaxForAccumulators = async (values: TFormData) => {\n        const growth_rate = Number(values.growth_rate);\n        const amount = Number(values.stake);\n        const take_profit = Number(values.take_profit);\n        const request_proposal = {\n            amount,\n            currency: client?.currency,\n            growth_rate,\n            symbol: values.symbol,\n            limit_order: {\n                ...(!values.boolean_tick_count && { take_profit }),\n            },\n        };\n\n        prev_proposal_payload.current = { ...request_proposal, boolean_tick_count: values.boolean_tick_count };\n        try {\n            const response = await requestProposalForQS(request_proposal, api_base.api);\n            const min_ticks = 1;\n            const max_ticks = response?.proposal?.validation_params?.max_ticks;\n\n            // Extract max_stake from the correct path in the API response\n            const max_stake = response?.proposal?.contract_details?.maximum_stake;\n            const min_stake = response?.proposal?.contract_details?.minimum_stake;\n\n            let min_error = '';\n            let max_error = '';\n            setAdditionalData({\n                max_payout: ref_max_payout.current,\n                max_ticks,\n                max_stake: Number(max_stake) || 1000,\n                min_stake: Number(min_stake) || 1,\n            });\n            ref_max_payout.current = response?.proposal?.validation_params?.max_payout;\n            const current_tick_count = Number(values.tick_count);\n\n            if (!isNaN(current_tick_count) && current_tick_count > max_ticks) {\n                max_error = `Maximum tick count is: ${max_ticks}`;\n                setFieldError('tick_count', max_error);\n                prev_error.current.tick_count = max_error;\n            } else if (!isNaN(current_tick_count) && current_tick_count < min_ticks) {\n                min_error = `Minimum tick count is: ${min_ticks}`;\n                setFieldError('tick_count', min_error);\n                prev_error.current.tick_count = min_error;\n            } else {\n                prev_error.current.tick_count = null;\n                setFieldError('tick_count', undefined);\n            }\n            prev_error.current.take_profit = null;\n        } catch (error_response) {\n            let error_message = error_response?.message ?? error_response?.error?.message;\n\n            if (values.boolean_tick_count) {\n                // For tick count, replace the generic stake error message with a more appropriate one\n                if (error_message.includes(\"Please enter a stake amount that's at least\")) {\n                    error_message = localize('Minimum tick count allowed is 1');\n                } else if (error_message.includes('Maximum stake allowed is')) {\n                    error_message = localize('Maximum tick count allowed is 1000');\n                }\n                setFieldError('tick_count', error_message);\n                prev_error.current.tick_count = error_message;\n\n                // Force rerender by updating the field value\n                const current_value = Number(values.tick_count);\n                if (current_value > 1000) {\n                    setFieldValue('tick_count', 1000);\n                } else if (current_value < 1) {\n                    setFieldValue('tick_count', 1);\n                }\n            } else {\n                if (error_response?.error?.details?.field === 'take_profit') {\n                    if (Number(values.take_profit) === 0) {\n                        error_message = error_response?.error?.message;\n                    } else {\n                        error_message = `Your total payout is ${\n                            Number(values.take_profit) + Number(values.stake)\n                        }. Enter amount less than ${ref_max_payout.current} ${localize(\n                            'By changing your initial stake and/or take profit.'\n                        )}`;\n                    }\n                }\n\n                if (error_response?.error?.details?.field === 'stake') {\n                    // Get the min stake and max payout values from the error message\n                    const min_stake_match = error_response?.error?.message.match(/minimum stake of (\\d+\\.\\d+)/i);\n                    const max_payout_match = error_response?.error?.message.match(/maximum payout of (\\d+\\.\\d+)/i);\n\n                    if (min_stake_match && max_payout_match) {\n                        const min_stake = min_stake_match[1];\n                        const max_payout = max_payout_match[1];\n                        const current_payout = Number(values.take_profit) + Number(values.stake);\n\n                        error_message = localize(\n                            `Minimum stake of ${min_stake} and maximum payout of ${max_payout}. Current payout is ${current_payout.toFixed(2)}.`\n                        );\n                    } else if (error_message.includes('Maximum stake allowed is')) {\n                        const max_stake = quick_strategy?.additional_data?.max_stake || '1000';\n                        error_message = localize(`Maximum stake allowed is ${max_stake}`);\n                    } else {\n                        error_message = `${error_response?.error?.message}`;\n                    }\n\n                    // Set the error on the stake field instead of take_profit\n                    setFieldError('stake', error_message);\n                } else {\n                    setFieldError('take_profit', error_message);\n                    prev_error.current.take_profit = error_message;\n                }\n            }\n        }\n    };\n\n    const debounceChange = React.useCallback(\n        debounce(validateMinMaxForAccumulators, 500, {\n            trailing: true,\n            leading: false,\n        }),\n        []\n    );\n\n    React.useEffect(() => {\n        if (\n            prev_proposal_payload.current?.symbol !== values.symbol ||\n            prev_proposal_payload.current?.amount !== values.stake ||\n            prev_proposal_payload.current?.limit_order?.take_profit !== values.take_profit ||\n            prev_proposal_payload.current?.currency !== client?.currency ||\n            prev_proposal_payload.current?.growth_rate !== values.growth_rate ||\n            prev_proposal_payload.current?.boolean_tick_count !== values.boolean_tick_count\n        ) {\n            debounceChange(values);\n        }\n    }, [\n        values.take_profit,\n        values.tick_count,\n        values.stake,\n        values.growth_rate,\n        client?.currency,\n        values.boolean_tick_count,\n        values,\n        debounceChange,\n    ]);\n\n    const handleChange = async (value: string) => {\n        setFieldValue?.(name, value);\n        setValue(name, value);\n    };\n\n    const key = `qs-contract-type-${name}`;\n\n    return (\n        <div className='qs__form__field qs__form__field__input no-top-spacing'>\n            <Field name={name} key={key} id={key}>\n                {({ field }: FieldProps) => {\n                    const selected_item = list?.find(item => item?.value === field?.value);\n                    if (!is_desktop) {\n                        return (\n                            <ul className='qs__form__field__list' data-testid='dt_qs_contract_types'>\n                                {list.map(item => {\n                                    const is_active = selected_item?.value === item?.value;\n                                    return (\n                                        <li\n                                            key={item?.value}\n                                            className={classNames('qs__form__field__list__item', {\n                                                'qs__form__field__list__item--active': is_active,\n                                            })}\n                                            onClick={() => {\n                                                handleChange(item?.value);\n                                            }}\n                                            onChange={() => {\n                                                handleChange(item?.value);\n                                            }}\n                                        >\n                                            <Text size='xs' color='prominent' weight={is_active ? 'bold ' : 'normal'}>\n                                                {item?.text}\n                                            </Text>\n                                        </li>\n                                    );\n                                })}\n                            </ul>\n                        );\n                    }\n                    return (\n                        <Autocomplete\n                            {...field}\n                            readOnly\n                            inputMode='none'\n                            data-testid='dt_qs_contract_type'\n                            autoComplete='off'\n                            className='qs__select contract-type'\n                            value={selected_item?.text || ''}\n                            list_items={list}\n                            onItemSelection={(item: TItem) => {\n                                const { value } = item as TDropdownItems;\n                                if (value) {\n                                    handleChange(value);\n                                }\n                            }}\n                        />\n                    );\n                }}\n            </Field>\n        </div>\n    );\n});\n\nexport default GrowthRateSelect;\n",
            "size_bytes": 12242
        },
        "analysis-tool/Benanalysistool-final-main/components/digit-distribution.tsx": {
            "content": "\"use client\"\n\nimport type { DigitFrequency } from \"@/lib/analysis-engine\"\n\ninterface DigitDistributionProps {\n  frequencies: DigitFrequency[]\n  currentDigit: number | null\n  theme: \"light\" | \"dark\"\n}\n\nconst uniqueDigitColors = [\n  \"from-purple-500 to-purple-600\", // 0 - purple\n  \"from-blue-500 to-blue-600\", // 1 - blue\n  \"from-cyan-500 to-cyan-600\", // 2 - cyan\n  \"from-teal-500 to-teal-600\", // 3 - teal\n  \"from-emerald-500 to-emerald-600\", // 4 - emerald\n  \"from-lime-500 to-lime-600\", // 5 - lime\n  \"from-amber-500 to-amber-600\", // 6 - amber\n  \"from-orange-500 to-orange-600\", // 7 - orange\n  \"from-red-500 to-red-600\", // 8 - red\n  \"from-pink-500 to-pink-600\", // 9 - pink\n]\n\nexport function DigitDistribution({ frequencies, currentDigit, theme }: DigitDistributionProps) {\n  const sorted = [...frequencies].sort((a, b) => b.count - a.count)\n  const mostFrequent = sorted[0]?.digit\n  const secondMost = sorted[1]?.digit\n  const leastFrequent = sorted[sorted.length - 1]?.digit\n\n  const getDigitColor = (digit: number) => {\n    return `bg-gradient-to-br ${uniqueDigitColors[digit]}`\n  }\n\n  const getBarColor = (digit: number) => {\n    if (digit === mostFrequent) return \"bg-emerald-500\"\n    if (digit === secondMost) return \"bg-amber-500\"\n    if (digit === leastFrequent) return \"bg-rose-500\"\n    return \"bg-indigo-500\"\n  }\n\n  return (\n    <div className=\"space-y-6 sm:space-y-8\">\n      <div className=\"grid grid-cols-5 gap-3 sm:gap-4 md:gap-6 max-w-4xl mx-auto\">\n        {frequencies.slice(0, 5).map((freq) => {\n          const isCurrentDigit = currentDigit === freq.digit\n          return (\n            <div key={freq.digit} className=\"flex flex-col items-center relative\">\n              {isCurrentDigit && (\n                <div className=\"absolute -top-10 left-1/2 -translate-x-1/2 z-10 animate-bounce\">\n                  <svg\n                    width=\"28\"\n                    height=\"28\"\n                    viewBox=\"0 0 32 32\"\n                    fill=\"none\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    className=\"drop-shadow-[0_0_20px_rgba(249,115,22,1)]\"\n                  >\n                    <path d=\"M16 28L4 8H28L16 28Z\" fill=\"#f97316\" />\n                  </svg>\n                </div>\n              )}\n              <div\n                className={`w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 rounded-full ${getDigitColor(freq.digit)} flex flex-col items-center justify-center shadow-lg transition-all duration-300 ${\n                  isCurrentDigit\n                    ? \"ring-4 ring-orange-500 shadow-[0_0_30px_rgba(249,115,22,0.8)] animate-pulse scale-110\"\n                    : \"ring-2 ring-gray-500\"\n                }`}\n              >\n                <div className=\"text-xl sm:text-2xl md:text-3xl font-bold text-white\">{freq.digit}</div>\n                <div className=\"text-xs sm:text-sm font-semibold text-white\">{freq.percentage.toFixed(1)}%</div>\n              </div>\n              <div\n                className={`text-xs sm:text-sm mt-2 font-semibold ${theme === \"dark\" ? \"text-gray-300\" : \"text-gray-900\"}`}\n              >\n                {freq.count}\n              </div>\n              <div className={`w-6 sm:w-8 h-1 ${getBarColor(freq.digit)} rounded-full mt-1`} />\n            </div>\n          )\n        })}\n      </div>\n\n      <div className=\"grid grid-cols-5 gap-3 sm:gap-4 md:gap-6 max-w-4xl mx-auto\">\n        {frequencies.slice(5, 10).map((freq) => {\n          const isCurrentDigit = currentDigit === freq.digit\n          return (\n            <div key={freq.digit} className=\"flex flex-col items-center relative\">\n              {isCurrentDigit && (\n                <div className=\"absolute -top-10 left-1/2 -translate-x-1/2 z-10 animate-bounce\">\n                  <svg\n                    width=\"28\"\n                    height=\"28\"\n                    viewBox=\"0 0 32 32\"\n                    fill=\"none\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    className=\"drop-shadow-[0_0_20px_rgba(249,115,22,1)]\"\n                  >\n                    <path d=\"M16 28L4 8H28L16 28Z\" fill=\"#f97316\" />\n                  </svg>\n                </div>\n              )}\n              <div\n                className={`w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 rounded-full ${getDigitColor(freq.digit)} flex flex-col items-center justify-center shadow-lg transition-all duration-300 ${\n                  isCurrentDigit\n                    ? \"ring-4 ring-orange-500 shadow-[0_0_30px_rgba(249,115,22,0.8)] animate-pulse scale-110\"\n                    : \"ring-2 ring-gray-500\"\n                }`}\n              >\n                <div className=\"text-xl sm:text-2xl md:text-3xl font-bold text-white\">{freq.digit}</div>\n                <div className=\"text-xs sm:text-sm font-semibold text-white\">{freq.percentage.toFixed(1)}%</div>\n              </div>\n              <div\n                className={`text-xs sm:text-sm mt-2 font-semibold ${theme === \"dark\" ? \"text-gray-300\" : \"text-gray-900\"}`}\n              >\n                {freq.count}\n              </div>\n              <div className={`w-6 sm:w-8 h-1 ${getBarColor(freq.digit)} rounded-full mt-1`} />\n            </div>\n          )\n        })}\n      </div>\n\n      {/* Legend */}\n      <div className=\"flex justify-center items-center gap-3 sm:gap-4 md:gap-6 flex-wrap mt-4 sm:mt-6\">\n        <div className=\"flex items-center gap-2\">\n          <div className=\"w-3 h-3 sm:w-4 sm:h-4 rounded-full bg-emerald-500\" />\n          <span className={`text-xs sm:text-sm ${theme === \"dark\" ? \"text-gray-300\" : \"text-gray-900\"}`}>\n            Most Appearing\n          </span>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <div className=\"w-3 h-3 sm:w-4 sm:h-4 rounded-full bg-amber-500\" />\n          <span className={`text-xs sm:text-sm ${theme === \"dark\" ? \"text-gray-300\" : \"text-gray-900\"}`}>2nd Most</span>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <div className=\"w-3 h-3 sm:w-4 sm:h-4 rounded-full bg-rose-500\" />\n          <span className={`text-xs sm:text-sm ${theme === \"dark\" ? \"text-gray-300\" : \"text-gray-900\"}`}>\n            Least Appearing\n          </span>\n        </div>\n      </div>\n    </div>\n  )\n}\n",
            "size_bytes": 6211
        },
        "analysis-tool/Benanalysistool-final-main/components/settings-panel.tsx": {
            "content": "\"use client\"\n\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Label } from \"@/components/ui/label\"\nimport { Switch } from \"@/components/ui/switch\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { RefreshCw } from \"lucide-react\"\n\ninterface SettingsPanelProps {\n  onReset?: () => void\n}\n\nexport function SettingsPanel({ onReset }: SettingsPanelProps) {\n  return (\n    <div className=\"space-y-6\">\n      <Card className=\"bg-gradient-to-br from-[#0f1629]/80 to-[#1a2235]/80 border-blue-500/20\">\n        <CardHeader>\n          <CardTitle className=\"text-white\">Market Settings</CardTitle>\n          <CardDescription>Configure market data and analysis parameters</CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"flex items-center justify-between\">\n            <Label htmlFor=\"auto-refresh\" className=\"text-white\">\n              Auto-refresh Data\n            </Label>\n            <Switch id=\"auto-refresh\" defaultChecked />\n          </div>\n          <div className=\"flex items-center justify-between\">\n            <Label htmlFor=\"notifications\" className=\"text-white\">\n              Signal Notifications\n            </Label>\n            <Switch id=\"notifications\" />\n          </div>\n        </CardContent>\n      </Card>\n\n      <Card className=\"bg-gradient-to-br from-[#0f1629]/80 to-[#1a2235]/80 border-blue-500/20\">\n        <CardHeader>\n          <CardTitle className=\"text-white\">Appearance</CardTitle>\n          <CardDescription>Customize the look and feel</CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"theme\" className=\"text-white\">\n              Theme\n            </Label>\n            <Select defaultValue=\"dark\">\n              <SelectTrigger id=\"theme\" className=\"bg-[#0f1629]/50 border-blue-500/30 text-white\">\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent className=\"bg-[#0a0e27] border-blue-500/30\">\n                <SelectItem value=\"light\">Light</SelectItem>\n                <SelectItem value=\"dark\">Dark</SelectItem>\n                <SelectItem value=\"auto\">Auto</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n        </CardContent>\n      </Card>\n\n      <Card className=\"bg-gradient-to-br from-[#0f1629]/80 to-[#1a2235]/80 border-blue-500/20\">\n        <CardHeader>\n          <CardTitle className=\"text-white\">Analysis Controls</CardTitle>\n          <CardDescription>Reset and manage analysis data</CardDescription>\n        </CardHeader>\n        <CardContent>\n          <Button\n            onClick={onReset}\n            variant=\"outline\"\n            className=\"w-full border-red-500/30 text-red-400 hover:bg-red-500/10 bg-transparent\"\n          >\n            <RefreshCw className=\"h-4 w-4 mr-2\" />\n            Reset Market Data\n          </Button>\n        </CardContent>\n      </Card>\n\n      <Card className=\"bg-gradient-to-br from-[#0f1629]/80 to-[#1a2235]/80 border-blue-500/20\">\n        <CardHeader>\n          <CardTitle className=\"text-white\">Current Configuration</CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-2 text-sm\">\n          <div className=\"flex justify-between\">\n            <span className=\"text-gray-400\">Version:</span>\n            <span className=\"text-white\">1.0.0</span>\n          </div>\n          <div className=\"flex justify-between\">\n            <span className=\"text-gray-400\">API Status:</span>\n            <span className=\"text-green-400\">Connected</span>\n          </div>\n          <div className=\"flex justify-between\">\n            <span className=\"text-gray-400\">Data Source:</span>\n            <span className=\"text-white\">Deriv WebSocket API</span>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n",
            "size_bytes": 3999
        },
        "src/external/bot-skeleton/scratch/hooks/block.js": {
            "content": "import { config } from '../../constants/config';\n\n// Structure is { '<outerHtml />': { height: 1, width: 1 } }\nwindow.Blockly.Block.Dimensions = {};\n\nwindow.Blockly.Block.prototype.getDisplayName = function () {\n    if (this.meta) {\n        const block_meta = this.meta();\n        return block_meta && block_meta.display_name;\n    }\n    return this.type;\n};\n\nwindow.Blockly.Block.prototype.getSiblings = function () {\n    const siblings = [this];\n    ['getPreviousBlock', 'getNextBlock'].forEach(functionName => {\n        let block = this[functionName]();\n        while (block !== null) {\n            const parent = this.getParent();\n            if (parent && parent.id === block.id) {\n                break;\n            }\n\n            siblings.push(block);\n            block = block[functionName]();\n        }\n    });\n    return siblings;\n};\n\nwindow.Blockly.Block.prototype.getChildByType = function (type) {\n    return this.getDescendants().find(child => child.type === type);\n};\n\nwindow.Blockly.Block.prototype.getChildFieldValue = function (childType, childField) {\n    const childBlock = this.getChildByType(childType);\n    if (childBlock) {\n        const value = childBlock.getFieldValue(childField);\n        return value;\n    }\n    return null;\n};\n\nwindow.Blockly.Block.prototype.childValueToCode = function (childType, childField) {\n    const childBlock = this.getChildByType(childType);\n    return (\n        childBlock &&\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            childBlock,\n            childField,\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC\n        )\n    );\n};\n\nwindow.Blockly.Block.prototype.getBlocksInStatement = function (statementInputName) {\n    const blocksInStatement = [];\n    const firstBlock = this.getInputTargetBlock(statementInputName);\n\n    if (firstBlock) {\n        return firstBlock.getSiblings();\n    }\n    return blocksInStatement;\n};\n\nwindow.Blockly.Block.prototype.getLastConnectionInStatement = function (statement_input_name) {\n    const first_block_in_stack = this.getInputTargetBlock(statement_input_name);\n\n    if (first_block_in_stack) {\n        return first_block_in_stack.lastConnectionInStack();\n    }\n\n    const statement_input = this.getInput(statement_input_name);\n    return statement_input.connection;\n};\n\n/**\n * Get whether this block is enabled or not.\n * @return {boolean} True if enabled.\n */\nwindow.Blockly.Block.prototype.isEnabled = function () {\n    return !this.disabled;\n};\n\nwindow.Blockly.Block.prototype.isDescendantOf = function (type) {\n    let parentBlock = this.getParent();\n    while (parentBlock !== null) {\n        if (parentBlock.type === type) {\n            return true;\n        }\n        parentBlock = parentBlock.getParent();\n    }\n    return false;\n};\n\nwindow.Blockly.Block.prototype.getTopParent = function () {\n    let parent = this.getParent();\n    while (parent !== null) {\n        const nextParent = parent.getParent();\n        if (!nextParent) {\n            return parent;\n        }\n        parent = nextParent;\n    }\n    return null;\n};\n\nwindow.Blockly.Block.getDimensions = function (block_node) {\n    // Attempt to retrieve dimensions from memory rather than recalculating.\n    const existing_dimensions_key = Object.keys(window.Blockly.Block.Dimensions).find(\n        outer_html => block_node.outerHTML === outer_html\n    );\n\n    if (existing_dimensions_key) {\n        return window.Blockly.Block.Dimensions[existing_dimensions_key];\n    }\n\n    const options = new window.Blockly.Options({\n        media: 'assets/media/',\n        renderer: 'zelos',\n        theme: window.Blockly.Themes.zelos_renderer,\n    });\n    const el_injection_div = document.createElement('div');\n\n    // Create a headless workspace to calculate xmlList block dimensions\n    const workspace = window.Blockly.inject(el_injection_div, options);\n    const block = window.Blockly.Xml.domToBlock(block_node, workspace);\n    const block_hw = block.getHeightWidth();\n\n    workspace.dispose();\n    window.Blockly.Block.Dimensions[block_node.outerHTML] = block_hw;\n    return block_hw;\n};\n\nwindow.Blockly.Block.prototype.isMainBlock = function () {\n    return config().mainBlocks.includes(this.type);\n};\n\nwindow.Blockly.Block.prototype.isIndependentBlock = function () {\n    return config().INDEPEDENT_BLOCKS.includes(this.type);\n};\n\n/**\n * Return the parent block or null if this block is at the top level.\n * @return {window.Blockly.Block} The block that holds the current block.\n */\nwindow.Blockly.Block.prototype.getRootInputTargetBlock = function () {\n    let input_name;\n    let current_block = this.getParent();\n\n    while (current_block) {\n        const root_block = this.getRootBlock();\n        const current_input = root_block.getInputWithBlock(current_block);\n\n        if (current_input && current_input.name) {\n            input_name = current_input.name;\n        }\n\n        current_block = current_block.getParent();\n    }\n\n    return input_name;\n};\n\n/**\n * Returns whether the block has an error highlighted descendant.\n */\nwindow.Blockly.Block.prototype.hasErrorHighlightedDescendant = function () {\n    const hasHighlightedDescendant = child_blocks =>\n        child_blocks.some(child_block => {\n            const is_self_highlighted = child_block.is_error_highlighted;\n            const is_descendant_highlighted = hasHighlightedDescendant(child_block.getChildren());\n\n            return is_self_highlighted || is_descendant_highlighted;\n        });\n\n    return hasHighlightedDescendant(this.getChildren());\n};\n\nwindow.Blockly.Block.isDynamic = function (block_type) {\n    return /^((procedures_)|(variables_)|(math_change$))/.test(block_type);\n};\n\n// TODO: Do not remove this\n// overwriting the doClassValidation_ method to handle\n// dropdown values\nwindow.Blockly.FieldDropdown.prototype.doClassValidation_ = function (newValue) {\n    this.text_ = null;\n    const text = this?.selectedOption?.[0];\n    this.setText(text ?? '');\n    return newValue;\n};\n",
            "size_bytes": 5979
        },
        "src/external/bot-skeleton/scratch/blocks/Text/text_join.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu, runGroupedEvents } from '../../utils';\nimport { plusIconDark } from '../images';\n\nwindow.Blockly.Blocks.text_join = {\n    protected_statements: ['STACK'],\n    allowed_children: ['text_statement'],\n    init() {\n        const field_image = new window.Blockly.FieldImage(plusIconDark, 25, 25, '', this.onIconClick.bind(this));\n        this.jsonInit(this.definition());\n        this.appendDummyInput('ADD_ICON').appendField(field_image);\n        this.moveInputBefore('ADD_ICON', 'STACK');\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to create text with', { variable: '%1' }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: localize('text'),\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STACK',\n                },\n            ],\n            inputsInline: true,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Text join'),\n            category: window.Blockly.Categories.Text,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    meta() {\n        return {\n            display_name: localize('Text join'),\n            description: localize(\n                'Creates a single text string from combining the text value of each attached item, without spaces in between. The number of items can be added accordingly.'\n            ),\n        };\n    },\n    onIconClick() {\n        if (this.workspace.options.readOnly || window.Blockly.derivWorkspace.isFlyoutVisible) {\n            return;\n        }\n\n        runGroupedEvents(false, () => {\n            const text_block = this.workspace.newBlock('text_statement');\n            text_block.required_parent_id = this.id;\n            text_block.setMovable(true);\n            text_block.initSvg();\n            text_block?.renderEfficiently();\n\n            const shadow_block = this.workspace.newBlock('text');\n            shadow_block.setShadow(true);\n            shadow_block.setFieldValue('', 'TEXT');\n            shadow_block.initSvg();\n\n            shadow_block?.renderEfficiently();\n\n            const text_input = text_block.getInput('TEXT');\n            text_input.connection.connect(shadow_block.outputConnection);\n\n            const connection = this.getLastConnectionInStatement('STACK');\n            connection.connect(text_block.previousConnection);\n        });\n\n        // TODO: Open editor and focus so user can add string right away?\n        // const inputField = shadow_block.getField('TEXT');\n        // inputField.showEditor_();\n    },\n    onchange: window.Blockly.Blocks.lists_create_with.onchange,\n};\n\n// window.Blockly.JavaScript.text_join = window.Blockly.JavaScript.lists_create_with;\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.text_join = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = window.Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        window.Blockly.Variables.CATEGORY_NAME\n    );\n    const blocks_in_stack = block.getBlocksInStatement('STACK');\n    const elements = blocks_in_stack.map(b => {\n        const value = window.Blockly.JavaScript.javascriptGenerator.forBlock[b.type](b);\n        return Array.isArray(value) ? value[0] : value;\n    });\n\n    const code = `${var_name} = [${elements}].join(\" \");\\n`;\n    return code;\n};\n",
            "size_bytes": 3837
        },
        "src/pages/main/index.ts": {
            "content": "import Main from './main';\nimport './main.scss';\n\nexport default Main;\n",
            "size_bytes": 71
        },
        "src/components/shared/utils/contract/contract.tsx": {
            "content": "import React from 'react';\nimport moment from 'moment';\nimport { Localize } from '@deriv-com/translations';\nimport { unique } from '../object';\nimport { isForwardStarting } from '../shortcode';\nimport { capitalizeFirstLetter } from '../string/string_util';\nimport { TContractInfo, TContractStore, TDigitsInfo, TLimitOrder, TTickItem } from './contract-types';\n\ntype TGetAccuBarriersDTraderTimeout = (params: {\n    barriers_update_timestamp: number;\n    has_default_timeout: boolean;\n    tick_update_timestamp: number | null;\n    underlying_symbol: string;\n}) => number;\n\n// Trade types that are considered as vanilla financials\nexport const VANILLA_FX_SYMBOLS = [\n    'frxAUDUSD',\n    'frxEURUSD',\n    'frxGBPUSD',\n    'frxUSDCAD',\n    'frxUSDJPY',\n    'frxXAUUSD',\n    'frxXAGUSD',\n] as const;\n\n// animation correction time is an interval in ms between ticks receival from API and their actual visual update on the chart\nexport const ANIMATION_CORRECTION_TIME = 200;\nexport const DELAY_TIME_1S_SYMBOL = 500;\n// generation_interval will be provided via API later to help us distinguish between 1-second and 2-second symbols\nexport const symbols_2s = ['R_10', 'R_25', 'R_50', 'R_75', 'R_100'];\n\nexport const CONTRACT_TYPES = {\n    ACCUMULATOR: 'ACCU',\n    ASIAN: { UP: 'ASIANU', DOWN: 'ASIAND' },\n    CALL: 'CALL',\n    CALLE: 'CALLE',\n    CALL_BARRIER: 'CALL_BARRIER',\n    CALL_PUT_SPREAD: { CALL: 'CALLSPREAD', PUT: 'PUTSPREAD' },\n    END: { IN: 'EXPIRYRANGE', OUT: 'EXPIRYMISS' },\n    EVEN_ODD: { ODD: 'DIGITODD', EVEN: 'DIGITEVEN' },\n    EXPIRYRANGEE: 'EXPIRYRANGEE',\n    FALL: 'FALL',\n    HIGHER: 'HIGHER',\n    LB_HIGH_LOW: 'LBHIGHLOW',\n    LB_CALL: 'LBFLOATCALL',\n    LB_PUT: 'LBFLOATPUT',\n    LOWER: 'LOWER',\n    MATCH_DIFF: { MATCH: 'DIGITMATCH', DIFF: 'DIGITDIFF' },\n    MULTIPLIER: {\n        UP: 'MULTUP',\n        DOWN: 'MULTDOWN',\n    },\n    OVER_UNDER: { OVER: 'DIGITOVER', UNDER: 'DIGITUNDER' },\n    PUT: 'PUT',\n    PUTE: 'PUTE',\n    PUT_BARRIER: 'PUT_BARRIER',\n    RESET: { CALL: 'RESETCALL', PUT: 'RESETPUT' },\n    RISE: 'RISE',\n    RUN_HIGH_LOW: { HIGH: 'RUNHIGH', LOW: 'RUNLOW' },\n    STAY: { IN: 'RANGE', OUT: 'UPORDOWN' },\n    TICK_HIGH_LOW: { HIGH: 'TICKHIGH', LOW: 'TICKLOW' },\n    TOUCH: { ONE_TOUCH: 'ONETOUCH', NO_TOUCH: 'NOTOUCH' },\n    TURBOS: {\n        LONG: 'TURBOSLONG',\n        SHORT: 'TURBOSSHORT',\n    },\n    VANILLA: {\n        CALL: 'VANILLALONGCALL',\n        PUT: 'VANILLALONGPUT',\n    },\n} as const;\nexport const TRADE_TYPES = {\n    ACCUMULATOR: 'accumulator',\n    ASIAN: 'asian',\n    CALL_PUT_SPREAD: 'callputspread',\n    END: 'end',\n    EVEN_ODD: 'even_odd',\n    HIGH_LOW: 'high_low',\n    LB_HIGH_LOW: 'lb_high_low',\n    LB_CALL: 'lb_call',\n    LB_PUT: 'lb_put',\n    MATCH_DIFF: 'match_diff',\n    MULTIPLIER: 'multiplier',\n    OVER_UNDER: 'over_under',\n    RESET: 'reset',\n    RISE_FALL: 'rise_fall',\n    RISE_FALL_EQUAL: 'rise_fall_equal',\n    RUN_HIGH_LOW: 'run_high_low',\n    STAY: 'stay',\n    TICK_HIGH_LOW: 'tick_high_low',\n    TOUCH: 'touch',\n    TURBOS: {\n        LONG: CONTRACT_TYPES.TURBOS.LONG.toLowerCase(),\n        SHORT: CONTRACT_TYPES.TURBOS.SHORT.toLowerCase(),\n    },\n    VANILLA: {\n        CALL: CONTRACT_TYPES.VANILLA.CALL.toLowerCase(),\n        PUT: CONTRACT_TYPES.VANILLA.PUT.toLowerCase(),\n        FX: 'vanilla_fx',\n    },\n} as const;\n\nexport const getContractStatus = ({ contract_type, exit_tick_time, profit, status }: TContractInfo) => {\n    const closed_contract_status = profit && profit < 0 && exit_tick_time ? 'lost' : 'won';\n    return isAccumulatorContract(contract_type)\n        ? (status === 'open' && !exit_tick_time && 'open') || closed_contract_status\n        : status;\n};\n\nexport const getFinalPrice = (contract_info: TContractInfo) => contract_info.sell_price || contract_info.bid_price;\n\nexport const getIndicativePrice = (contract_info: TContractInfo) =>\n    getFinalPrice(contract_info) && isEnded(contract_info)\n        ? getFinalPrice(contract_info)\n        : Number(contract_info.bid_price);\n\nexport const getCancellationPrice = (contract_info: TContractInfo) => {\n    const { cancellation: { ask_price: cancellation_price = 0 } = {} } = contract_info;\n    return cancellation_price;\n};\n\nexport const isEnded = (contract_info: TContractInfo) =>\n    !!(\n        (contract_info.status && contract_info.status !== 'open') ||\n        contract_info.is_expired ||\n        contract_info.is_settleable\n    );\n\nexport const isOpen = (contract_info: TContractInfo) => getContractStatus(contract_info) === 'open';\n\nexport const isUserSold = (contract_info: TContractInfo) => contract_info.status === 'sold';\n\nexport const isValidToCancel = (contract_info: TContractInfo) => !!contract_info.is_valid_to_cancel;\n\nexport const isValidToSell = (contract_info: TContractInfo) =>\n    !isEnded(contract_info) && !isUserSold(contract_info) && !!contract_info.is_valid_to_sell;\n\nexport const hasContractEntered = (contract_info: TContractInfo) => !!contract_info.entry_spot;\n\nexport const hasBarrier = (contract_type = '') => /VANILLA|TURBOS|HIGH_LOW|TOUCH/i.test(contract_type);\n\nexport const hasTwoBarriers = (contract_type = '') => /EXPIRY|RANGE|UPORDOWN/i.test(contract_type);\n\nexport const isAccumulatorContract = (contract_type = '') => /ACCU/i.test(contract_type);\n\nexport const isAccumulatorContractOpen = (contract_info: TContractInfo = {}) => {\n    return isAccumulatorContract(contract_info.contract_type) && getContractStatus(contract_info) === 'open';\n};\n\nexport const isMultiplierContract = (contract_type = '') => /MULT/i.test(contract_type);\n\nexport const isTouchContract = (contract_type: string) => /TOUCH/i.test(contract_type);\n\nexport const isTurbosContract = (contract_type = '') => /TURBOS/i.test(contract_type);\n\nexport const isVanillaContract = (contract_type = '') => /VANILLA/i.test(contract_type);\n\nexport const isVanillaFxContract = (contract_type = '', symbol = '') =>\n    isVanillaContract(contract_type) && VANILLA_FX_SYMBOLS.includes(symbol as (typeof VANILLA_FX_SYMBOLS)[number]);\n\nexport const isSmartTraderContract = (contract_type = '') =>\n    /RUN|EXPIRY|RANGE|UPORDOWN|ASIAN|RESET|TICK|LB/i.test(contract_type);\n\nexport const isAsiansContract = (contract_type = '') => /ASIAN/i.test(contract_type);\n\nexport const isLookBacksContract = (contract_type = '') => /LB/i.test(contract_type);\n\nexport const isTicksContract = (contract_type = '') => /TICK/i.test(contract_type);\n\nexport const isResetContract = (contract_type = '') => /RESET/i.test(contract_type);\n\nexport const isCryptoContract = (underlying = '') => underlying.startsWith('cry');\n\nexport const getAccuBarriersDefaultTimeout = (symbol: string) => {\n    return symbols_2s.includes(symbol) ? DELAY_TIME_1S_SYMBOL * 2 : DELAY_TIME_1S_SYMBOL;\n};\n\nexport const getAccuBarriersDTraderTimeout: TGetAccuBarriersDTraderTimeout = ({\n    barriers_update_timestamp,\n    has_default_timeout,\n    tick_update_timestamp,\n    underlying_symbol,\n}) => {\n    if (has_default_timeout || !tick_update_timestamp) return getAccuBarriersDefaultTimeout(underlying_symbol);\n    const target_update_time =\n        tick_update_timestamp + getAccuBarriersDefaultTimeout(underlying_symbol) + ANIMATION_CORRECTION_TIME;\n    const difference = target_update_time - barriers_update_timestamp;\n    return difference < 0 ? 0 : difference;\n};\n\nexport const getAccuBarriersForContractDetails = (contract_info: TContractInfo) => {\n    if (!isAccumulatorContract(contract_info.contract_type)) return {};\n    const is_contract_open = isOpen(contract_info);\n    const { current_spot_high_barrier, current_spot_low_barrier, high_barrier, low_barrier } = contract_info || {};\n    const accu_high_barrier = is_contract_open ? current_spot_high_barrier : high_barrier;\n    const accu_low_barrier = is_contract_open ? current_spot_low_barrier : low_barrier;\n    return { accu_high_barrier, accu_low_barrier };\n};\n\nexport const getCurrentTick = (contract_info: TContractInfo) => {\n    const tick_stream = unique(contract_info.tick_stream || [], 'epoch');\n    const current_tick =\n        isDigitContract(contract_info.contract_type) || isAsiansContract(contract_info.contract_type)\n            ? tick_stream.length\n            : tick_stream.length - 1;\n    return !current_tick || current_tick < 0 ? 0 : current_tick;\n};\n\nexport const getLastContractMarkerIndex = (markers: TContractStore[] = []) => {\n    const sorted_markers = [...markers].sort(\n        (a, b) => Number(b.contract_info.date_start) - Number(a.contract_info.date_start)\n    );\n    const index = sorted_markers[0].contract_info.date_start ? markers.indexOf(sorted_markers[0]) : -1;\n    return index >= 0 ? index : markers.length - 1;\n};\n\nexport const getLastTickFromTickStream = (tick_stream: TTickItem[] = []) => tick_stream[tick_stream.length - 1] || {};\n\nexport const isDigitContract = (contract_type = '') => /digit/i.test(contract_type);\n\nexport const getDigitInfo = (digits_info: TDigitsInfo, contract_info: TContractInfo) => {\n    const { tick_stream } = contract_info;\n    const { tick_display_value, epoch } = getLastTickFromTickStream(tick_stream);\n\n    if (!tick_display_value || !epoch) return {}; // filter out empty responses\n\n    const current =\n        epoch in digits_info\n            ? {} // filter out duplicated responses\n            : createDigitInfo(tick_display_value, epoch);\n\n    return {\n        ...current,\n    };\n};\n\nexport const getTotalProfit = (contract_info: TContractInfo) =>\n    Number(contract_info.bid_price) - Number(contract_info.buy_price);\n\nconst createDigitInfo = (spot: string, spot_time: number) => {\n    const digit = +`${spot}`.slice(-1);\n\n    return {\n        [+spot_time]: {\n            digit,\n            spot,\n        },\n    };\n};\n\nexport const getLimitOrderAmount = (limit_order?: TLimitOrder) => {\n    if (!limit_order) return { stop_loss: null, take_profit: null };\n    const {\n        stop_loss: { order_amount: stop_loss_order_amount } = {},\n        take_profit: { order_amount: take_profit_order_amount } = {},\n    } = limit_order;\n\n    return {\n        stop_loss: stop_loss_order_amount,\n        take_profit: take_profit_order_amount,\n    };\n};\n\nexport const getTimePercentage = (server_time: moment.Moment, start_time: number, expiry_time: number) => {\n    const duration_from_purchase = moment.duration(moment.unix(expiry_time).diff(moment.unix(start_time)));\n    const duration_from_now = moment.duration(moment.unix(expiry_time).diff(server_time));\n    let percentage = (duration_from_now.asMilliseconds() / duration_from_purchase.asMilliseconds()) * 100;\n\n    if (percentage < 0.5) {\n        percentage = 0;\n    } else if (percentage > 100) {\n        percentage = 100;\n    }\n\n    return Math.round(percentage);\n};\n\nexport const getGrowthRatePercentage = (growth_rate: number) => growth_rate * 100;\n\nexport const getDisplayStatus = (contract_info: TContractInfo) => {\n    let status = 'purchased';\n    if (isEnded(contract_info)) {\n        status = getTotalProfit(contract_info) >= 0 ? 'won' : 'lost';\n    }\n    return status;\n};\n\n/**\n * Set contract update form initial values\n * @param {object} contract_update - contract_update response\n * @param {object} limit_order - proposal_open_contract.limit_order response\n */\n\nexport const getContractUpdateConfig = ({ contract_update, limit_order }: TContractInfo) => {\n    const { stop_loss, take_profit } = getLimitOrderAmount(limit_order || contract_update);\n\n    return {\n        // convert stop_loss, take_profit value to string for validation to work\n        contract_update_stop_loss: stop_loss ? Math.abs(stop_loss).toString() : '',\n        contract_update_take_profit: take_profit ? take_profit.toString() : '',\n        has_contract_update_stop_loss: !!stop_loss,\n        has_contract_update_take_profit: !!take_profit,\n    };\n};\n\nexport const shouldShowExpiration = (symbol = '') => symbol.startsWith('cry');\n\nexport const shouldShowCancellation = (symbol = '') => !/^(cry|CRASH|BOOM|stpRNG|WLD|JD)/.test(symbol);\n\nexport const getContractSubtype = (type = '') =>\n    /(VANILLALONG|TURBOS)/i.test(type)\n        ? capitalizeFirstLetter(type.replace(/(VANILLALONG|TURBOS)/i, '').toLowerCase())\n        : '';\n\nexport const getLocalizedTurbosSubtype = (contract_type = '') => {\n    if (!isTurbosContract(contract_type)) return '';\n    return getContractSubtype(contract_type) === 'Long' ? (\n        <Localize i18n_default_text='Up' />\n    ) : (\n        <Localize i18n_default_text='Down' />\n    );\n};\n\nexport const clickAndKeyEventHandler = (\n    callback?: () => void,\n    e?: React.MouseEvent<HTMLElement> | React.KeyboardEvent<HTMLElement>\n) => {\n    if (e) {\n        e.preventDefault();\n        if (e.type !== 'keydown' || (e.type === 'keydown' && (e as React.KeyboardEvent).key === 'Enter')) {\n            callback?.();\n        }\n    } else {\n        callback?.();\n    }\n};\n\nexport const getSortedTradeTypes = (array: string[] = []) => {\n    if (array.includes(TRADE_TYPES.ACCUMULATOR)) {\n        return [TRADE_TYPES.ACCUMULATOR, ...array.filter(type => type !== TRADE_TYPES.ACCUMULATOR)];\n    }\n    if (array.includes(TRADE_TYPES.MULTIPLIER)) {\n        return [TRADE_TYPES.MULTIPLIER, ...array.filter(type => type !== TRADE_TYPES.MULTIPLIER)];\n    }\n    return array;\n};\n\nexport const isForwardStartingBuyTransaction = (transactionType: string, shortcode: string, transactionTime: number) =>\n    transactionType === 'buy' && !!isForwardStarting(shortcode, transactionTime);\n",
            "size_bytes": 13369
        },
        "babel.config.js": {
            "content": "module.exports = {\n    presets: [\n        '@babel/preset-env',\n        '@babel/preset-typescript',\n        [\n            '@babel/preset-react',\n            {\n                runtime: 'automatic',\n            },\n        ],\n    ],\n    plugins: [\n        'syntax-dynamic-import',\n        [\n            '@babel/plugin-proposal-decorators',\n            {\n                legacy: true,\n            },\n        ],\n        [\n            '@babel/plugin-proposal-class-properties',\n            {\n                loose: true,\n            },\n        ],\n        [\n            '@babel/plugin-proposal-private-methods',\n            {\n                loose: true,\n            },\n        ],\n        [\n            '@babel/plugin-proposal-private-property-in-object',\n            {\n                loose: true,\n            },\n        ],\n        '@babel/plugin-proposal-export-default-from',\n        '@babel/plugin-proposal-object-rest-spread',\n        '@babel/plugin-proposal-export-namespace-from',\n        '@babel/plugin-syntax-dynamic-import',\n        '@babel/plugin-proposal-optional-chaining',\n    ],\n};\n",
            "size_bytes": 1089
        },
        "src/components/shared/utils/array/array.ts": {
            "content": "export const shuffleArray = <T>(array: T[]): T[] => {\n    const firstDigit = (num: number) => Number(String(num)[0]);\n\n    for (let i = array.length - 1; i > 0; i--) {\n        const crypto = window.crypto || (window as any).msCrypto; // to make it working in MS Explorer\n        const random_array = new Uint32Array(1);\n        const random_number = crypto.getRandomValues(random_array);\n        const j = Math.floor((firstDigit(random_number[0]) / 10) * (i + 1));\n        [array[i], array[j]] = [array[j], array[i]];\n    }\n    return array;\n};\n\n// @ts-expect-error as the generic is a Array\nexport const flatten = <T extends Array<unknown>>(arr: T) => [].concat(...arr);\n",
            "size_bytes": 672
        },
        "src/hooks/auth/useOauth2.ts": {
            "content": "import { useState } from 'react';\nimport { useEffect } from 'react';\nimport Cookies from 'js-cookie';\nimport RootStore from '@/stores/root-store';\nimport { Analytics } from '@deriv-com/analytics';\n\n/**\n * Provides an object with properties: `oAuthLogout`, `retriggerOAuth2Login`, and `isSingleLoggingIn`.\n *\n * `oAuthLogout` is a function that logs out the user of the OAuth2-enabled app.\n *\n * `retriggerOAuth2Login` is a function that retriggers the OAuth2 login flow to get a new token.\n *\n * `isSingleLoggingIn` is a boolean that indicates whether the user is currently logging in.\n *\n * The `handleLogout` argument is an optional function that will be called after logging out the user.\n * If `handleLogout` is not provided, the function will resolve immediately.\n *\n * @param {{ handleLogout?: () => Promise<void> }} [options] - An object with an optional `handleLogout` property.\n * @returns {{ oAuthLogout: () => Promise<void>; retriggerOAuth2Login: () => Promise<void>; isSingleLoggingIn: boolean }}\n */\nexport const useOauth2 = ({\n    handleLogout,\n    client,\n}: {\n    handleLogout?: () => Promise<void>;\n    client?: RootStore['client'];\n} = {}) => {\n    const [isSingleLoggingIn, setIsSingleLoggingIn] = useState(false);\n    const accountsList = JSON.parse(localStorage.getItem('accountsList') ?? '{}');\n    const isClientAccountsPopulated = Object.keys(accountsList).length > 0;\n    const isSilentLoginExcluded =\n        window.location.pathname.includes('callback') || window.location.pathname.includes('endpoint');\n\n    const loggedState = Cookies.get('logged_state');\n\n    useEffect(() => {\n        window.addEventListener('unhandledrejection', event => {\n            if (event?.reason?.error?.code === 'InvalidToken') {\n                setIsSingleLoggingIn(false);\n            }\n        });\n    }, []);\n\n    useEffect(() => {\n        const willEventuallySSO = loggedState === 'true' && !isClientAccountsPopulated;\n        const willEventuallySLO = loggedState === 'false' && isClientAccountsPopulated;\n\n        if (!isSilentLoginExcluded && (willEventuallySSO || willEventuallySLO)) {\n            setIsSingleLoggingIn(true);\n        } else {\n            setIsSingleLoggingIn(false);\n        }\n    }, [isClientAccountsPopulated, loggedState, isSilentLoginExcluded]);\n\n    const logoutHandler = async () => {\n        client?.setIsLoggingOut(true);\n        try {\n            if (handleLogout) {\n                await handleLogout();\n            }\n            await client?.logout();\n            Analytics.reset();\n        } catch (error) {\n            // eslint-disable-next-line no-console\n            console.error(error);\n        }\n    };\n\n    const retriggerOAuth2Login = async () => {\n        // OAuth2 login is now handled by redirecting to OAuth URL\n        window.location.reload();\n    };\n\n    return { oAuthLogout: logoutHandler, retriggerOAuth2Login, isSingleLoggingIn };\n};\n",
            "size_bytes": 2901
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Indicators/Parts/slow_ema_period.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../../utils';\n\nwindow.Blockly.Blocks.slow_ema_period = {\n    init() {\n        this.jsonInit({\n            message0: localize('Slow EMA Period {{ input_number }}', { input_number: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'SLOW_EMA_PERIOD',\n                    check: null,\n                },\n            ],\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange: window.Blockly.Blocks.input_list.onchange,\n    allowed_parents: ['macda_statement'],\n    getRequiredValueInputs() {\n        return {\n            SLOW_EMA_PERIOD: null,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.slow_ema_period = () => {};\n",
            "size_bytes": 1188
        },
        "src/components/layout/header/custom-notifications/custom-notifications.tsx": {
            "content": "import { useState } from 'react';\nimport clsx from 'clsx';\nimport { LegacyNotificationIcon } from '@deriv/quill-icons/Legacy';\nimport { useTranslations } from '@deriv-com/translations';\nimport { Notifications, Tooltip, useDevice } from '@deriv-com/ui';\nimport './custom-notifications.scss';\n\nconst CustomNotifications = () => {\n    const [isOpen, setIsOpen] = useState(false);\n    const { localize } = useTranslations();\n    const { isMobile } = useDevice();\n\n    return (\n        <div className='notifications__wrapper'>\n            <Tooltip\n                as='button'\n                onClick={() => setIsOpen(!isOpen)}\n                tooltipContent={localize('View notifications')}\n                tooltipPosition='bottom'\n            >\n                <LegacyNotificationIcon iconSize='sm' />\n            </Tooltip>\n            <Notifications\n                className={clsx('', {\n                    'notifications__wrapper--mobile': isMobile,\n                    'notifications__wrapper--desktop': !isMobile,\n                })}\n                componentConfig={{\n                    clearButtonText: localize('Clear all'),\n                    modalTitle: localize('Notifications'),\n                    noNotificationsMessage: localize('No notifications MESSAGE'),\n                    noNotificationsTitle: localize('No notifications'),\n                }}\n                isOpen={isOpen}\n                notifications={[]}\n                setIsOpen={setIsOpen}\n                clearNotificationsCallback={() => {}}\n                loadMoreFunction={() => {}}\n                isLoading={false}\n            />\n        </div>\n    );\n};\n\nexport default CustomNotifications;\n",
            "size_bytes": 1677
        },
        "analysis-tool/Benanalysistool-final-main/lib/analysis-engine.ts": {
            "content": "// Analysis engine for processing tick data and generating signals\nexport interface TickData {\n  epoch: number\n  quote: number\n  symbol: string\n  pipSize?: number\n}\n\nexport interface DigitFrequency {\n  digit: number\n  count: number\n  percentage: number\n}\n\nexport interface AnalysisResult {\n  digitFrequencies: DigitFrequency[]\n  evenCount: number\n  oddCount: number\n  evenPercentage: number\n  oddPercentage: number\n  highCount: number // 5-9\n  lowCount: number // 0-4\n  highPercentage: number\n  lowPercentage: number\n  entropy: number\n  powerIndex: { strongest: number; weakest: number; gap: number }\n  missingDigits: number[]\n  streaks: { digit: number; count: number }[]\n  totalTicks: number\n}\n\nexport interface Signal {\n  type:\n    | \"even_odd\"\n    | \"over_under\"\n    | \"matches\"\n    | \"differs\"\n    | \"rise_fall\"\n    | \"pro_even_odd\"\n    | \"pro_over_under\"\n    | \"pro_differs\"\n  status: \"TRADE NOW\" | \"WAIT\" | \"NEUTRAL\"\n  probability: number\n  recommendation: string\n  entryCondition: string\n  targetDigit?: number\n}\n\nexport class AnalysisEngine {\n  private ticks: TickData[] = []\n  private maxTicks = 100\n  private digitCounts: Map<number, number> = new Map()\n  private lastDigits: number[] = []\n  private pipSize = 2\n\n  constructor(maxTicks = 100) {\n    this.maxTicks = maxTicks\n    // Initialize digit counts\n    for (let i = 0; i <= 9; i++) {\n      this.digitCounts.set(i, 0)\n    }\n  }\n\n  setPipSize(pipSize: number): void {\n    this.pipSize = pipSize\n  }\n\n  addTick(tick: TickData): void {\n    const lastDigit = this.extractLastDigit(tick.quote, tick.pipSize || this.pipSize)\n\n    // Add to ticks array\n    this.ticks.push(tick)\n    this.lastDigits.push(lastDigit)\n\n    // Maintain rolling window\n    if (this.ticks.length > this.maxTicks) {\n      const removedTick = this.ticks.shift()!\n      const removedDigit = this.lastDigits.shift()!\n      const count = this.digitCounts.get(removedDigit) || 0\n      this.digitCounts.set(removedDigit, Math.max(0, count - 1))\n    }\n\n    // Update digit count\n    const count = this.digitCounts.get(lastDigit) || 0\n    this.digitCounts.set(lastDigit, count + 1)\n  }\n\n  private extractLastDigit(quote: number, pipSize = 2): number {\n    // Format with pip_size decimal places, then extract last character\n    const formatted = quote.toFixed(pipSize)\n    const lastChar = formatted.charAt(formatted.length - 1)\n    const digit = Number.parseInt(lastChar, 10)\n\n    return isNaN(digit) ? 0 : digit\n  }\n\n  getAnalysis(): AnalysisResult {\n    const totalTicks = this.lastDigits.length\n\n    if (totalTicks === 0) {\n      return this.getEmptyAnalysis()\n    }\n\n    // Calculate digit frequencies\n    const digitFrequencies: DigitFrequency[] = []\n    for (let i = 0; i <= 9; i++) {\n      const count = this.digitCounts.get(i) || 0\n      digitFrequencies.push({\n        digit: i,\n        count,\n        percentage: (count / totalTicks) * 100,\n      })\n    }\n\n    // Calculate even/odd\n    let evenCount = 0\n    let oddCount = 0\n    this.lastDigits.forEach((digit) => {\n      if (digit % 2 === 0) evenCount++\n      else oddCount++\n    })\n\n    // Calculate high/low (over/under 4.5)\n    let highCount = 0\n    let lowCount = 0\n    this.lastDigits.forEach((digit) => {\n      if (digit >= 5) highCount++\n      else lowCount++\n    })\n\n    // Calculate entropy\n    const entropy = this.calculateEntropy(digitFrequencies, totalTicks)\n\n    // Calculate power index\n    const sortedByCount = [...digitFrequencies].sort((a, b) => b.count - a.count)\n    const strongest = sortedByCount[0]\n    const weakest = sortedByCount[sortedByCount.length - 1]\n    const powerIndex = {\n      strongest: strongest.digit,\n      weakest: weakest.digit,\n      gap: strongest.percentage - weakest.percentage,\n    }\n\n    // Find missing digits\n    const missingDigits = digitFrequencies.filter((d) => d.count === 0).map((d) => d.digit)\n\n    // Detect streaks\n    const streaks = this.detectStreaks()\n\n    return {\n      digitFrequencies,\n      evenCount,\n      oddCount,\n      evenPercentage: (evenCount / totalTicks) * 100,\n      oddPercentage: (oddCount / totalTicks) * 100,\n      highCount,\n      lowCount,\n      highPercentage: (highCount / totalTicks) * 100,\n      lowPercentage: (lowCount / totalTicks) * 100,\n      entropy,\n      powerIndex,\n      missingDigits,\n      streaks,\n      totalTicks,\n    }\n  }\n\n  private calculateEntropy(frequencies: DigitFrequency[], total: number): number {\n    let entropy = 0\n    frequencies.forEach((freq) => {\n      if (freq.count > 0) {\n        const p = freq.count / total\n        entropy -= p * Math.log2(p)\n      }\n    })\n    return entropy\n  }\n\n  private detectStreaks(): { digit: number; count: number }[] {\n    const streaks: Map<number, number> = new Map()\n    let currentDigit = -1\n    let currentStreak = 0\n\n    this.lastDigits.forEach((digit) => {\n      if (digit === currentDigit) {\n        currentStreak++\n      } else {\n        if (currentStreak >= 2) {\n          streaks.set(currentDigit, Math.max(streaks.get(currentDigit) || 0, currentStreak))\n        }\n        currentDigit = digit\n        currentStreak = 1\n      }\n    })\n\n    // Check final streak\n    if (currentStreak >= 2) {\n      streaks.set(currentDigit, Math.max(streaks.get(currentDigit) || 0, currentStreak))\n    }\n\n    return Array.from(streaks.entries())\n      .map(([digit, count]) => ({ digit, count }))\n      .sort((a, b) => b.count - a.count)\n  }\n\n  generateSignals(): Signal[] {\n    const analysis = this.getAnalysis()\n    const signals: Signal[] = []\n\n    // Even/Odd Signal\n    signals.push(this.generateEvenOddSignal(analysis))\n\n    // Over/Under Signal\n    signals.push(this.generateOverUnderSignal(analysis))\n\n    // Matches Signal\n    signals.push(this.generateMatchesSignal(analysis))\n\n    // Differs Signal\n    signals.push(this.generateDiffersSignal(analysis))\n\n    // Rise/Fall Signal\n    signals.push(this.generateRiseFallSignal(analysis))\n\n    return signals\n  }\n\n  private generateEvenOddSignal(analysis: AnalysisResult): Signal {\n    const { evenPercentage, oddPercentage } = analysis\n    const maxPercentage = Math.max(evenPercentage, oddPercentage)\n    const favored = evenPercentage > oddPercentage ? \"even\" : \"odd\"\n\n    if (maxPercentage >= 60) {\n      return {\n        type: \"even_odd\",\n        status: \"TRADE NOW\",\n        probability: maxPercentage,\n        recommendation: `Strong ${favored} bias detected`,\n        entryCondition: `Wait for 2+ consecutive ${favored === \"even\" ? \"odd\" : \"even\"} digits, then trade ${favored}`,\n      }\n    } else if (maxPercentage >= 55) {\n      return {\n        type: \"even_odd\",\n        status: \"WAIT\",\n        probability: maxPercentage,\n        recommendation: `Moderate ${favored} bias`,\n        entryCondition: \"Monitor for stronger signal or entry condition\",\n      }\n    }\n\n    return {\n      type: \"even_odd\",\n      status: \"NEUTRAL\",\n      probability: maxPercentage,\n      recommendation: \"No clear even/odd bias\",\n      entryCondition: \"Wait for clearer signal\",\n    }\n  }\n\n  private generateOverUnderSignal(analysis: AnalysisResult): Signal {\n    const { highPercentage, lowPercentage, powerIndex } = analysis\n    const maxPercentage = Math.max(highPercentage, lowPercentage)\n    const favored = highPercentage > lowPercentage ? \"over\" : \"under\"\n\n    if (maxPercentage >= 62 && powerIndex.gap >= 15) {\n      return {\n        type: \"over_under\",\n        status: \"TRADE NOW\",\n        probability: maxPercentage,\n        recommendation: `Strong ${favored} 4.5 signal with ${powerIndex.gap.toFixed(1)}% gap`,\n        entryCondition: `Trade when digit ${powerIndex.strongest} appears`,\n      }\n    } else if (maxPercentage >= 58) {\n      return {\n        type: \"over_under\",\n        status: \"WAIT\",\n        probability: maxPercentage,\n        recommendation: `Moderate ${favored} 4.5 bias`,\n        entryCondition: \"Wait for power gap to increase\",\n      }\n    }\n\n    return {\n      type: \"over_under\",\n      status: \"NEUTRAL\",\n      probability: maxPercentage,\n      recommendation: \"No clear over/under bias\",\n      entryCondition: \"Wait for clearer signal\",\n    }\n  }\n\n  private generateMatchesSignal(analysis: AnalysisResult): Signal {\n    const { digitFrequencies, powerIndex } = analysis\n    const topDigit = digitFrequencies.find((d) => d.digit === powerIndex.strongest)!\n\n    if (topDigit.percentage >= 15) {\n      return {\n        type: \"matches\",\n        status: \"TRADE NOW\",\n        probability: topDigit.percentage,\n        recommendation: `Digit ${topDigit.digit} has strong power at ${topDigit.percentage.toFixed(1)}%`,\n        entryCondition: `Trade immediately when digit ${topDigit.digit} appears`,\n        targetDigit: topDigit.digit,\n      }\n    } else if (topDigit.percentage >= 12) {\n      return {\n        type: \"matches\",\n        status: \"WAIT\",\n        probability: topDigit.percentage,\n        recommendation: `Digit ${topDigit.digit} showing moderate frequency`,\n        entryCondition: \"Wait for frequency to increase\",\n        targetDigit: topDigit.digit,\n      }\n    }\n\n    return {\n      type: \"matches\",\n      status: \"NEUTRAL\",\n      probability: topDigit.percentage,\n      recommendation: \"No dominant digit pattern\",\n      entryCondition: \"Wait for clearer pattern\",\n    }\n  }\n\n  private generateDiffersSignal(analysis: AnalysisResult): Signal {\n    const { digitFrequencies } = analysis\n    const sorted = [...digitFrequencies].sort((a, b) => a.count - b.count)\n    const leastAppearing = sorted.slice(0, 3) // Get 3 least appearing digits\n\n    const leastDigit = leastAppearing[0]\n\n    if (leastDigit.percentage < 9 && leastDigit.percentage >= 0) {\n      return {\n        type: \"differs\",\n        status: \"TRADE NOW\",\n        probability: 100 - leastDigit.percentage,\n        recommendation: `Digit ${leastDigit.digit} appears only ${leastDigit.percentage.toFixed(1)}% - Strong differs signal`,\n        entryCondition: `Wait for digit ${leastDigit.digit} to appear, then trade DIFFERS immediately`,\n        targetDigit: leastDigit.digit,\n      }\n    }\n\n    return {\n      type: \"differs\",\n      status: \"NEUTRAL\",\n      probability: 50,\n      recommendation: \"No clear differs pattern\",\n      entryCondition: \"Wait for a digit with <9% frequency\",\n    }\n  }\n\n  private generateRiseFallSignal(analysis: AnalysisResult): Signal {\n    const { entropy } = analysis\n\n    // Use entropy and recent trend to predict rise/fall\n    const recentTicks = this.ticks.slice(-10)\n    if (recentTicks.length < 2) {\n      return {\n        type: \"rise_fall\",\n        status: \"NEUTRAL\",\n        probability: 50,\n        recommendation: \"Insufficient data for trend analysis\",\n        entryCondition: \"Wait for more ticks\",\n      }\n    }\n\n    const trend = recentTicks[recentTicks.length - 1].quote - recentTicks[0].quote\n    const trendDirection = trend > 0 ? \"rise\" : \"fall\"\n    const confidence = Math.min(60 + Math.abs(trend) * 100, 75)\n\n    if (confidence >= 60) {\n      return {\n        type: \"rise_fall\",\n        status: \"TRADE NOW\",\n        probability: confidence,\n        recommendation: `${trendDirection.toUpperCase()} trend detected with ${confidence.toFixed(1)}% confidence`,\n        entryCondition: `Trade ${trendDirection} based on current trend`,\n      }\n    }\n\n    return {\n      type: \"rise_fall\",\n      status: \"NEUTRAL\",\n      probability: confidence,\n      recommendation: \"No clear directional trend\",\n      entryCondition: \"Wait for stronger trend\",\n    }\n  }\n\n  private getEmptyAnalysis(): AnalysisResult {\n    return {\n      digitFrequencies: Array.from({ length: 10 }, (_, i) => ({\n        digit: i,\n        count: 0,\n        percentage: 0,\n      })),\n      evenCount: 0,\n      oddCount: 0,\n      evenPercentage: 0,\n      oddPercentage: 0,\n      highCount: 0,\n      lowCount: 0,\n      highPercentage: 0,\n      lowPercentage: 0,\n      entropy: 0,\n      powerIndex: { strongest: 0, weakest: 0, gap: 0 },\n      missingDigits: [],\n      streaks: [],\n      totalTicks: 0,\n    }\n  }\n\n  getTicks(): TickData[] {\n    return [...this.ticks]\n  }\n\n  getLastDigits(): number[] {\n    return [...this.lastDigits]\n  }\n\n  getCurrentDigit(): number | null {\n    return this.lastDigits.length > 0 ? this.lastDigits[this.lastDigits.length - 1] : null\n  }\n\n  setMaxTicks(max: number): void {\n    this.maxTicks = max\n    // Trim if necessary\n    while (this.ticks.length > this.maxTicks) {\n      const removedTick = this.ticks.shift()!\n      const removedDigit = this.lastDigits.shift()!\n      const count = this.digitCounts.get(removedDigit) || 0\n      this.digitCounts.set(removedDigit, Math.max(0, count - 1))\n    }\n  }\n\n  clear(): void {\n    this.ticks = []\n    this.lastDigits = []\n    for (let i = 0; i <= 9; i++) {\n      this.digitCounts.set(i, 0)\n    }\n  }\n\n  getRecentDigits(count = 20): number[] {\n    return this.lastDigits.slice(-count)\n  }\n\n  generateProSignals(): Signal[] {\n    const analysis = this.getAnalysis()\n    const signals: Signal[] = []\n    const recentDigits = this.getRecentDigits(20)\n\n    // Pro Even/Odd Signal\n    signals.push(this.generateProEvenOddSignal(analysis, recentDigits))\n\n    // Pro Over/Under Signal\n    signals.push(this.generateProOverUnderSignal(analysis, recentDigits))\n\n    // Pro Differs Signal\n    signals.push(this.generateProDiffersSignal(analysis))\n\n    signals.push(this.generateUnder7Signal(analysis))\n\n    signals.push(this.generateOver2Signal(analysis))\n\n    return signals.filter((s) => s.status !== \"NEUTRAL\")\n  }\n\n  private generateProEvenOddSignal(analysis: AnalysisResult, recentDigits: number[]): Signal {\n    const { evenPercentage, oddPercentage, digitFrequencies } = analysis\n\n    // Check for EVEN strategy conditions\n    if (evenPercentage >= 55) {\n      const evenDigits = digitFrequencies.filter((d) => d.digit % 2 === 0)\n      const highPercentageEvens = evenDigits.filter((d) => d.percentage >= 11).length\n      const hasGreenEven = evenDigits.some((d) => d.digit === analysis.powerIndex.strongest)\n\n      // Check last 20 digits for even dominance\n      const last20 = recentDigits.slice(-20)\n      const evenInLast20 = last20.filter((d) => d % 2 === 0).length\n\n      if (highPercentageEvens >= 2 && hasGreenEven && evenInLast20 >= 11) {\n        // Check for 3+ consecutive odds\n        let consecutiveOdds = 0\n        for (let i = recentDigits.length - 1; i >= 0; i--) {\n          if (recentDigits[i] % 2 === 1) {\n            consecutiveOdds++\n          } else {\n            break\n          }\n        }\n\n        if (consecutiveOdds >= 3) {\n          return {\n            type: \"pro_even_odd\",\n            status: \"TRADE NOW\",\n            probability: evenPercentage,\n            recommendation: `EVEN STRATEGY: ${consecutiveOdds} consecutive odds detected - Enter EVEN now!`,\n            entryCondition: \"Enter EVEN immediately after first even digit appears\",\n          }\n        }\n\n        return {\n          type: \"pro_even_odd\",\n          status: \"WAIT\",\n          probability: evenPercentage,\n          recommendation: \"EVEN conditions met - Waiting for 3+ consecutive ODD digits\",\n          entryCondition: \"Wait for 3+ consecutive ODD digits, then enter EVEN\",\n        }\n      }\n    }\n\n    // Check for ODD strategy conditions\n    if (oddPercentage >= 70) {\n      const oddDigits = digitFrequencies.filter((d) => d.digit % 2 === 1)\n      const highPercentageOdds = oddDigits.filter((d) => d.percentage >= 11).length\n      const hasGreenOdd = oddDigits.some((d) => d.digit === analysis.powerIndex.strongest)\n\n      const last20 = recentDigits.slice(-20)\n      const oddInLast20 = last20.filter((d) => d % 2 === 1).length\n\n      if (highPercentageOdds >= 2 && hasGreenOdd && oddInLast20 >= 14) {\n        let consecutiveEvens = 0\n        for (let i = recentDigits.length - 1; i >= 0; i--) {\n          if (recentDigits[i] % 2 === 0) {\n            consecutiveEvens++\n          } else {\n            break\n          }\n        }\n\n        if (consecutiveEvens >= 3) {\n          return {\n            type: \"pro_even_odd\",\n            status: \"TRADE NOW\",\n            probability: oddPercentage,\n            recommendation: `ODD STRATEGY: ${consecutiveEvens} consecutive evens detected - Enter ODD now!`,\n            entryCondition: \"Enter ODD immediately after first odd digit appears\",\n          }\n        }\n\n        return {\n          type: \"pro_even_odd\",\n          status: \"WAIT\",\n          probability: oddPercentage,\n          recommendation: \"ODD conditions met - Waiting for 3+ consecutive EVEN digits\",\n          entryCondition: \"Wait for 3+ consecutive EVEN digits, then enter ODD\",\n        }\n      }\n    }\n\n    return {\n      type: \"pro_even_odd\",\n      status: \"NEUTRAL\",\n      probability: Math.max(evenPercentage, oddPercentage),\n      recommendation: \"Pro Even/Odd conditions not met\",\n      entryCondition: \"Wait for stronger signal\",\n    }\n  }\n\n  private generateProOverUnderSignal(analysis: AnalysisResult, recentDigits: number[]): Signal {\n    const { digitFrequencies, highPercentage, lowPercentage } = analysis\n\n    // Over 1 Strategy\n    const digit0 = digitFrequencies[0]\n    const digit1 = digitFrequencies[1]\n    const digits2to9 = digitFrequencies.slice(2)\n\n    if (digit0.percentage < 10 && digit1.percentage < 10) {\n      const highPercentageDigits = digits2to9.filter((d) => d.percentage >= 11).length\n      const hasLeastIn01 = digit0.digit === analysis.powerIndex.weakest || digit1.digit === analysis.powerIndex.weakest\n\n      if (highPercentageDigits >= 3 && hasLeastIn01 && highPercentage >= 90) {\n        const last20 = recentDigits.slice(-20)\n        const overInLast20 = last20.filter((d) => d > 1).length\n\n        if (overInLast20 >= 18) {\n          return {\n            type: \"pro_over_under\",\n            status: \"TRADE NOW\",\n            probability: highPercentage,\n            recommendation: \"OVER 1 STRATEGY: Strong signal - 90%+ win rate detected!\",\n            entryCondition: \"Wait for 1+ UNDER digits, then enter OVER 1 immediately\",\n          }\n        }\n      }\n    }\n\n    // Under 8 Strategy\n    const digit8 = digitFrequencies[8]\n    const digit9 = digitFrequencies[9]\n    const digits0to7 = digitFrequencies.slice(0, 8)\n\n    if (digit8.percentage < 10 && digit9.percentage < 10) {\n      const highPercentageDigits = digits0to7.filter((d) => d.percentage >= 11).length\n      const hasLeastIn89 = digit8.digit === analysis.powerIndex.weakest || digit9.digit === analysis.powerIndex.weakest\n\n      if (highPercentageDigits >= 3 && hasLeastIn89 && lowPercentage >= 90) {\n        const last20 = recentDigits.slice(-20)\n        const underInLast20 = last20.filter((d) => d < 8).length\n\n        if (underInLast20 >= 18) {\n          return {\n            type: \"pro_over_under\",\n            status: \"TRADE NOW\",\n            probability: lowPercentage,\n            recommendation: \"UNDER 8 STRATEGY: Strong signal - 90%+ win rate detected!\",\n            entryCondition: \"Wait for 1+ OVER digits, then enter UNDER 8 immediately\",\n          }\n        }\n      }\n    }\n\n    return {\n      type: \"pro_over_under\",\n      status: \"NEUTRAL\",\n      probability: Math.max(highPercentage, lowPercentage),\n      recommendation: \"Pro Over/Under conditions not met\",\n      entryCondition: \"Wait for stronger signal\",\n    }\n  }\n\n  private generateProDiffersSignal(analysis: AnalysisResult): Signal {\n    const { digitFrequencies } = analysis\n    const sorted = [...digitFrequencies].sort((a, b) => a.count - b.count)\n    const leastDigit = sorted[0]\n\n    if (leastDigit.percentage < 9) {\n      const differsWinRate = 100 - leastDigit.percentage\n\n      if (differsWinRate >= 88) {\n        return {\n          type: \"pro_differs\",\n          status: \"TRADE NOW\",\n          probability: differsWinRate,\n          recommendation: `PRO DIFFERS: Digit ${leastDigit.digit} at ${leastDigit.percentage.toFixed(1)}% - ${differsWinRate.toFixed(1)}% win rate!`,\n          entryCondition: `Wait for digit ${leastDigit.digit} to appear, then trade DIFFERS immediately`,\n          targetDigit: leastDigit.digit,\n        }\n      }\n    }\n\n    return {\n      type: \"pro_differs\",\n      status: \"NEUTRAL\",\n      probability: 50,\n      recommendation: \"Pro Differs conditions not met\",\n      entryCondition: \"Wait for digit with <9% frequency and 88%+ differs win rate\",\n    }\n  }\n\n  private generateUnder7Signal(analysis: AnalysisResult): Signal {\n    const { digitFrequencies } = analysis\n\n    // Check digits 7,8,9 - if 2+ are less than 10%, use the one >10% as entry\n    const digit7 = digitFrequencies[7]\n    const digit8 = digitFrequencies[8]\n    const digit9 = digitFrequencies[9]\n\n    const digits789 = [digit7, digit8, digit9]\n    const below10 = digits789.filter((d) => d.percentage < 10)\n    const above10 = digits789.filter((d) => d.percentage > 10)\n\n    // Strategy: 2+ digits in 7,8,9 < 10%, use digit >10% as entry\n    if (below10.length >= 2 && above10.length > 0) {\n      const entryDigit = above10.sort((a, b) => b.percentage - a.percentage)[0]\n      const probability = 100 - entryDigit.percentage\n\n      if (probability >= 85) {\n        return {\n          type: \"pro_over_under\",\n          status: \"TRADE NOW\",\n          probability,\n          recommendation: `UNDER 7 STRATEGY: Digit ${entryDigit.digit} at ${entryDigit.percentage.toFixed(1)}% - Enter UNDER 7!`,\n          entryCondition: `Trade UNDER 7 when digit ${entryDigit.digit} appears`,\n          targetDigit: entryDigit.digit,\n        }\n      }\n    }\n\n    return {\n      type: \"pro_over_under\",\n      status: \"NEUTRAL\",\n      probability: 50,\n      recommendation: \"Under 7 conditions not met\",\n      entryCondition: \"Wait for 2+ digits in 7,8,9 to be <10%\",\n    }\n  }\n\n  private generateOver2Signal(analysis: AnalysisResult): Signal {\n    const { digitFrequencies } = analysis\n\n    // Check digits 0,1,2 - if 2+ are less than 10%, use the one >10% as entry\n    const digit0 = digitFrequencies[0]\n    const digit1 = digitFrequencies[1]\n    const digit2 = digitFrequencies[2]\n\n    const digits012 = [digit0, digit1, digit2]\n    const below10 = digits012.filter((d) => d.percentage < 10)\n    const above10 = digits012.filter((d) => d.percentage > 10)\n\n    // Strategy: 2+ digits in 0,1,2 < 10%, use digit >10% as entry\n    if (below10.length >= 2 && above10.length > 0) {\n      const entryDigit = above10.sort((a, b) => b.percentage - a.percentage)[0]\n      const probability = entryDigit.percentage + 75\n\n      if (probability >= 85) {\n        return {\n          type: \"pro_over_under\",\n          status: \"TRADE NOW\",\n          probability: Math.min(probability, 95),\n          recommendation: `OVER 2 STRATEGY: Digit ${entryDigit.digit} at ${entryDigit.percentage.toFixed(1)}% - Enter OVER 2!`,\n          entryCondition: `Trade OVER 2 when digit ${entryDigit.digit} appears`,\n          targetDigit: entryDigit.digit,\n        }\n      }\n    }\n\n    return {\n      type: \"pro_over_under\",\n      status: \"NEUTRAL\",\n      probability: 50,\n      recommendation: \"Over 2 conditions not met\",\n      entryCondition: \"Wait for 2+ digits in 0,1,2 to be <10%\",\n    }\n  }\n}\n",
            "size_bytes": 22935
        },
        "analysis-tool/Benanalysistool-final-main/components/ui/select.tsx": {
            "content": "'use client'\n\nimport * as React from 'react'\nimport * as SelectPrimitive from '@radix-ui/react-select'\nimport { CheckIcon, ChevronDownIcon, ChevronUpIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Select({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Root>) {\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />\n}\n\nfunction SelectGroup({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />\n}\n\nfunction SelectValue({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />\n}\n\nfunction SelectTrigger({\n  className,\n  size = 'default',\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {\n  size?: 'sm' | 'default'\n}) {\n  return (\n    <SelectPrimitive.Trigger\n      data-slot=\"select-trigger\"\n      data-size={size}\n      className={cn(\n        \"border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <SelectPrimitive.Icon asChild>\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\n      </SelectPrimitive.Icon>\n    </SelectPrimitive.Trigger>\n  )\n}\n\nfunction SelectContent({\n  className,\n  children,\n  position = 'popper',\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\n  return (\n    <SelectPrimitive.Portal>\n      <SelectPrimitive.Content\n        data-slot=\"select-content\"\n        className={cn(\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md',\n          position === 'popper' &&\n            'data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1',\n          className,\n        )}\n        position={position}\n        {...props}\n      >\n        <SelectScrollUpButton />\n        <SelectPrimitive.Viewport\n          className={cn(\n            'p-1',\n            position === 'popper' &&\n              'h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1',\n          )}\n        >\n          {children}\n        </SelectPrimitive.Viewport>\n        <SelectScrollDownButton />\n      </SelectPrimitive.Content>\n    </SelectPrimitive.Portal>\n  )\n}\n\nfunction SelectLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\n  return (\n    <SelectPrimitive.Label\n      data-slot=\"select-label\"\n      className={cn('text-muted-foreground px-2 py-1.5 text-xs', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\n  return (\n    <SelectPrimitive.Item\n      data-slot=\"select-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2\",\n        className,\n      )}\n      {...props}\n    >\n      <span className=\"absolute right-2 flex size-3.5 items-center justify-center\">\n        <SelectPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </SelectPrimitive.ItemIndicator>\n      </span>\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n    </SelectPrimitive.Item>\n  )\n}\n\nfunction SelectSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\n  return (\n    <SelectPrimitive.Separator\n      data-slot=\"select-separator\"\n      className={cn('bg-border pointer-events-none -mx-1 my-1 h-px', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectScrollUpButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\n  return (\n    <SelectPrimitive.ScrollUpButton\n      data-slot=\"select-scroll-up-button\"\n      className={cn(\n        'flex cursor-default items-center justify-center py-1',\n        className,\n      )}\n      {...props}\n    >\n      <ChevronUpIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollUpButton>\n  )\n}\n\nfunction SelectScrollDownButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\n  return (\n    <SelectPrimitive.ScrollDownButton\n      data-slot=\"select-scroll-down-button\"\n      className={cn(\n        'flex cursor-default items-center justify-center py-1',\n        className,\n      )}\n      {...props}\n    >\n      <ChevronDownIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollDownButton>\n  )\n}\n\nexport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectLabel,\n  SelectScrollDownButton,\n  SelectScrollUpButton,\n  SelectSeparator,\n  SelectTrigger,\n  SelectValue,\n}\n",
            "size_bytes": 6259
        },
        "src/pages/chart/index.ts": {
            "content": "import Chart from './chart';\nimport './chart.scss';\n\nexport default Chart;\n",
            "size_bytes": 75
        },
        "src/pages/bot-builder/toolbox/toolbox-items.tsx": {
            "content": "import React from 'react';\nimport ReactDomServer from 'react-dom/server';\nimport { localize } from '@deriv-com/translations';\n\nconst Arg = ({ ...props }) => {\n    return React.createElement('arg', props);\n};\n\nconst Block = ({ ...props }) => {\n    return React.createElement('block', props);\n};\n\nconst Category = ({ ...props }) => {\n    return React.createElement('category', props);\n};\n\nconst Example = ({ ...props }) => {\n    return React.createElement('example', props);\n};\n\nconst Examples = ({ ...props }) => {\n    return React.createElement('examples', props);\n};\n\nconst Field = ({ ...props }) => {\n    return React.createElement('field', props);\n};\n\nconst Mutation = ({ ...props }) => {\n    return React.createElement('mutation', props);\n};\n\nconst Next = ({ ...props }) => {\n    return React.createElement('next', props);\n};\n\nconst Shadow = ({ ...props }) => {\n    return React.createElement('shadow', props);\n};\n\nconst Statement = ({ ...props }) => {\n    return React.createElement('statement', props);\n};\n\nconst Value = ({ ...props }) => {\n    return React.createElement('value', props);\n};\n\nconst Xml = ({ ...props }) => {\n    return React.createElement('xml', props);\n};\n\nexport const ToolboxItems = () =>\n    ReactDomServer.renderToStaticMarkup(\n        <Xml xmlns='http://www.w3.org/1999/xhtml' id='toolbox'>\n            <Category id='trade_parameters' name={localize('Trade parameters')}>\n                <Block type='trade_definition'>\n                    <Statement name='TRADE_OPTIONS'>\n                        <Block type='trade_definition_market' deletable='false' movable='false'>\n                            <Field name='MARKET_LIST' />\n                            <Field name='SUBMARKET_LIST' />\n                            <Field name='SYMBOL_LIST' />\n                            <Next>\n                                <Block type='trade_definition_tradetype' deletable='false' movable='false'>\n                                    <Field name='TRADETYPECAT_LIST' />\n                                    <Field name='TRADETYPE_LIST' />\n                                    <Next>\n                                        <Block type='trade_definition_contracttype' deletable='false' movable='false'>\n                                            <Field name='TYPE_LIST' />\n                                            <Next>\n                                                <Block\n                                                    type='trade_definition_candleinterval'\n                                                    deletable='false'\n                                                    movable='false'\n                                                >\n                                                    <Field name='CANDLEINTERVAL_LIST'>60</Field>\n                                                    <Next>\n                                                        <Block\n                                                            type='trade_definition_restartbuysell'\n                                                            deletable='false'\n                                                            movable='false'\n                                                        >\n                                                            <Field name='TIME_MACHINE_ENABLED'>FALSE</Field>\n                                                            <Next>\n                                                                <Block\n                                                                    type='trade_definition_restartonerror'\n                                                                    deletable='false'\n                                                                    movable='false'\n                                                                >\n                                                                    <Field name='RESTARTONERROR'>TRUE</Field>\n                                                                </Block>\n                                                            </Next>\n                                                        </Block>\n                                                    </Next>\n                                                </Block>\n                                            </Next>\n                                        </Block>\n                                    </Next>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n                <Block type='trade_definition_tradeoptions'>\n                    <Mutation has_first_barrier='false' has_second_barrier='false' has_prediction='false' />\n                    <Field name='DURATIONTYPE_LIST' />\n                    <Field name='CURRENCY_LIST'>USD</Field>\n                    <Value name='DURATION'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>1</Field>\n                        </Shadow>\n                    </Value>\n                    <Value name='AMOUNT'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>1</Field>\n                        </Shadow>\n                    </Value>\n                    <Field name='AMOUNT_LIMITS' />\n                </Block>\n                <Block type='trade_definition_multiplier'>\n                    <Field name='MULTIPLIERTYPE_LIST' />\n                    <Field name='CURRENCY_LIST'>USD</Field>\n                    <Value name='AMOUNT'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>1</Field>\n                        </Shadow>\n                    </Value>\n                    <Field name='AMOUNT_LIMITS' />\n                </Block>\n                <Block type='multiplier_take_profit'>\n                    <Value name='AMOUNT'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>0</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='multiplier_stop_loss'>\n                    <Value name='AMOUNT'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>0</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='trade_definition_accumulator'>\n                    <Field name='GROWTHRATE_LIST' />\n                    <Field name='CURRENCY_LIST'>USD</Field>\n                    <Value name='AMOUNT'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>1</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='accumulator_take_profit'>\n                    <Value name='AMOUNT'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>0</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n            </Category>\n            <Category id='purchase_conditions' name={localize('Purchase conditions')}>\n                <Block type='before_purchase' />\n                <Block type='purchase' />\n            </Category>\n            <Category id='sell_conditions' name={localize('Sell conditions (optional)')}>\n                <Block type='during_purchase' />\n                <Block type='sell_at_market' />\n            </Category>\n            <Category id='trade_results' name={localize('Restart trading conditions')}>\n                <Block type='after_purchase' />\n                <Block type='trade_again' />\n            </Category>\n\n            <Category id='analysis' name={localize('Analysis')}>\n                <Category id='indicators' name={localize('Indicators')}>\n                    <Block type='sma_statement'>\n                        <Statement name='STATEMENT'>\n                            <Block type='input_list' deletable='false' movable='false'>\n                                <Value name='INPUT_LIST' />\n                                <Next>\n                                    <Block type='period' deletable='false' movable='false'>\n                                        <Value name='PERIOD'>\n                                            <Shadow type='math_number'>\n                                                <Field name='NUM'>10</Field>\n                                            </Shadow>\n                                        </Value>\n                                    </Block>\n                                </Next>\n                            </Block>\n                        </Statement>\n                    </Block>\n                    <Block type='smaa_statement'>\n                        <Statement name='STATEMENT'>\n                            <Block type='input_list' deletable='false' movable='false'>\n                                <Value name='INPUT_LIST' />\n                                <Next>\n                                    <Block type='period' deletable='false' movable='false'>\n                                        <Value name='PERIOD'>\n                                            <Shadow type='math_number'>\n                                                <Field name='NUM'>10</Field>\n                                            </Shadow>\n                                        </Value>\n                                    </Block>\n                                </Next>\n                            </Block>\n                        </Statement>\n                    </Block>\n                    <Block type='bb_statement'>\n                        <Field name='BBRESULT_LIST'>0</Field>\n                        <Statement name='STATEMENT'>\n                            <Block type='input_list' deletable='false' movable='false'>\n                                <Value name='INPUT_LIST' />\n                                <Next>\n                                    <Block type='period' deletable='false' movable='false'>\n                                        <Value name='PERIOD'>\n                                            <Shadow type='math_number'>\n                                                <Field name='NUM'>10</Field>\n                                            </Shadow>\n                                        </Value>\n                                        <Next>\n                                            <Block type='std_dev_multiplier_up' deletable='false' movable='false'>\n                                                <Value name='UPMULTIPLIER'>\n                                                    <Shadow type='math_number'>\n                                                        <Field name='NUM'>5</Field>\n                                                    </Shadow>\n                                                </Value>\n                                                <Next>\n                                                    <Block type='std_dev_multiplier_down'>\n                                                        <Value name='DOWNMULTIPLIER'>\n                                                            <Shadow type='math_number'>\n                                                                <Field name='NUM'>5</Field>\n                                                            </Shadow>\n                                                        </Value>\n                                                    </Block>\n                                                </Next>\n                                            </Block>\n                                        </Next>\n                                    </Block>\n                                </Next>\n                            </Block>\n                        </Statement>\n                    </Block>\n                    <Block type='bba_statement'>\n                        <Field name='BBRESULT_LIST'>0</Field>\n                        <Statement name='STATEMENT'>\n                            <Block type='input_list' deletable='false' movable='false'>\n                                <Value name='INPUT_LIST' />\n                                <Next>\n                                    <Block type='period' deletable='false' movable='false'>\n                                        <Value name='PERIOD'>\n                                            <Shadow type='math_number'>\n                                                <Field name='NUM'>10</Field>\n                                            </Shadow>\n                                        </Value>\n                                        <Next>\n                                            <Block type='std_dev_multiplier_up' deletable='false' movable='false'>\n                                                <Value name='UPMULTIPLIER'>\n                                                    <Shadow type='math_number'>\n                                                        <Field name='NUM'>5</Field>\n                                                    </Shadow>\n                                                </Value>\n                                                <Next>\n                                                    <Block type='std_dev_multiplier_down'>\n                                                        <Value name='DOWNMULTIPLIER'>\n                                                            <Shadow type='math_number'>\n                                                                <Field name='NUM'>5</Field>\n                                                            </Shadow>\n                                                        </Value>\n                                                    </Block>\n                                                </Next>\n                                            </Block>\n                                        </Next>\n                                    </Block>\n                                </Next>\n                            </Block>\n                        </Statement>\n                    </Block>\n                    <Block type='ema_statement'>\n                        <Statement name='STATEMENT'>\n                            <Block type='input_list' deletable='false' movable='false'>\n                                <Value name='INPUT_LIST' />\n                                <Next>\n                                    <Block type='period' deletable='false' movable='false'>\n                                        <Value name='PERIOD'>\n                                            <Shadow type='math_number'>\n                                                <Field name='NUM'>10</Field>\n                                            </Shadow>\n                                        </Value>\n                                    </Block>\n                                </Next>\n                            </Block>\n                        </Statement>\n                    </Block>\n                    <Block type='emaa_statement'>\n                        <Statement name='STATEMENT'>\n                            <Block type='input_list' deletable='false' movable='false'>\n                                <Value name='INPUT_LIST' />\n                                <Next>\n                                    <Block type='period' deletable='false' movable='false'>\n                                        <Value name='PERIOD'>\n                                            <Shadow type='math_number'>\n                                                <Field name='NUM'>10</Field>\n                                            </Shadow>\n                                        </Value>\n                                    </Block>\n                                </Next>\n                            </Block>\n                        </Statement>\n                    </Block>\n                    <Block type='rsi_statement'>\n                        <Statement name='STATEMENT'>\n                            <Block type='input_list' deletable='false' movable='false'>\n                                <Next>\n                                    <Block type='period' deletable='false' movable='false'>\n                                        <Value name='PERIOD'>\n                                            <Shadow type='math_number'>\n                                                <Field name='NUM'>10</Field>\n                                            </Shadow>\n                                        </Value>\n                                    </Block>\n                                </Next>\n                            </Block>\n                        </Statement>\n                    </Block>\n                    <Block type='rsia_statement'>\n                        <Statement name='STATEMENT'>\n                            <Block type='input_list' deletable='false' movable='false'>\n                                <Value name='INPUT_LIST' />\n                                <Next>\n                                    <Block type='period' deletable='false' movable='false'>\n                                        <Value name='PERIOD'>\n                                            <Shadow type='math_number'>\n                                                <Field name='NUM'>10</Field>\n                                            </Shadow>\n                                        </Value>\n                                    </Block>\n                                </Next>\n                            </Block>\n                        </Statement>\n                    </Block>\n                    <Block type='macda_statement'>\n                        <Field name='MACDFIELDS_LIST'>1</Field>\n                        <Statement name='STATEMENT'>\n                            <Block type='input_list' deletable='false' movable='false'>\n                                <Value name='INPUT_LIST' />\n                                <Next>\n                                    <Block type='fast_ema_period' deletable='false' movable='false'>\n                                        <Value name='FAST_EMA_PERIOD'>\n                                            <Shadow type='math_number'>\n                                                <Field name='NUM'>12</Field>\n                                            </Shadow>\n                                        </Value>\n                                        <Next>\n                                            <Block type='slow_ema_period' deletable='false' movable='false'>\n                                                <Value name='SLOW_EMA_PERIOD'>\n                                                    <Shadow type='math_number'>\n                                                        <Field name='NUM'>26</Field>\n                                                    </Shadow>\n                                                </Value>\n                                                <Next>\n                                                    <Block type='signal_ema_period' deletable='false' movable='false'>\n                                                        <Value name='SIGNAL_EMA_PERIOD'>\n                                                            <Shadow type='math_number'>\n                                                                <Field name='NUM'>9</Field>\n                                                            </Shadow>\n                                                        </Value>\n                                                    </Block>\n                                                </Next>\n                                            </Block>\n                                        </Next>\n                                    </Block>\n                                </Next>\n                            </Block>\n                        </Statement>\n                    </Block>\n                </Category>\n\n                <Category name={localize('Tick and candle analysis')} id='tick_analysis'>\n                    <Block type='tick_analysis' />\n                    <Block type='tick' />\n                    <Block type='last_digit' />\n                    <Block type='stat' />\n                    <Block type='stat_list' />\n                    <Block type='ticks' />\n                    <Block type='lastDigitList' />\n                    <Block type='check_direction' />\n                    <Block type='is_candle_black' />\n                    <Block type='read_ohlc'>\n                        <Field name='OHLCFIELD_LIST'>open</Field>\n                        <Field name='CANDLEINTERVAL_LIST'>default</Field>\n                        <Value name='CANDLEINDEX'>\n                            <Shadow type='math_number'>\n                                <Field name='NUM'>1</Field>\n                            </Shadow>\n                        </Value>\n                    </Block>\n                    <Block type='read_ohlc_obj' />\n                    <Block type='ohlc_values' />\n                    <Block type='ohlc_values_in_list' />\n                    <Block type='get_ohlc'>\n                        <Field name='CANDLEINTERVAL_LIST'>default</Field>\n                        <Value name='CANDLEINDEX'>\n                            <Shadow type='math_number'>\n                                <Field name='NUM'>1</Field>\n                            </Shadow>\n                        </Value>\n                    </Block>\n                    <Block type='ohlc' />\n                </Category>\n\n                <Category name={localize('Contract')} id='contract_details'>\n                    <Block type='contract_check_result' />\n                    <Block type='read_details' />\n                    <Block type='sell_price' />\n                    <Block type='check_sell' />\n                    <Block type='payout' />\n                    <Block type='ask_price' />\n                </Category>\n\n                <Category name={localize('Stats')} id='stats'>\n                    <Block type='balance' />\n                    <Block type='total_profit' />\n                    <Block type='total_runs' />\n                </Category>\n            </Category>\n\n            <Category id='utility' name={localize('Utility')}>\n                <Category name={localize('Custom functions')} id='custom_functions' dynamic='PROCEDURE' />\n\n                <Category name={localize('Variables')} id='variables' dynamic='VARIABLE' />\n\n                <Category name={localize('Notifications')} id='notifications'>\n                    <Block type='text_print'>\n                        <Value name='TEXT'>\n                            <Shadow type='text'>\n                                <Field name='TEXT'>abc</Field>\n                            </Shadow>\n                        </Value>\n                    </Block>\n                    <Block type='text_prompt_ext'>\n                        <Field name='TYPE'>TEXT</Field>\n                        <Value name='TEXT'>\n                            <Shadow type='text'>\n                                <Field name='TEXT'>abc</Field>\n                            </Shadow>\n                        </Value>\n                    </Block>\n                    <Block type='notify'>\n                        <Field name='NOTIFICATION_TYPE'>success</Field>\n                        <Value name='MESSAGE'>\n                            <Shadow type='text'>\n                                <Field name='TEXT'>abc</Field>\n                            </Shadow>\n                        </Value>\n                    </Block>\n                    <Block type='notify_telegram'>\n                        <Value name='TELEGRAM_ACCESS_TOKEN'>\n                            <Shadow type='text'>\n                                <Field name='TEXT' />\n                            </Shadow>\n                        </Value>\n                        <Value name='TELEGRAM_CHAT_ID'>\n                            <Shadow type='text'>\n                                <Field name='TEXT' />\n                            </Shadow>\n                        </Value>\n                        <Value name='TELEGRAM_MESSAGE'>\n                            <Shadow type='text'>\n                                <Field name='TEXT'>abc</Field>\n                            </Shadow>\n                        </Value>\n                    </Block>\n                </Category>\n\n                <Category name={localize('Time')} id='time'>\n                    <Block type='epoch' />\n                    <Block type='timeout' />\n                    <Block type='tick_delay' />\n                    <Block type='totimestamp'>\n                        <Value name='DATETIME'>\n                            <Shadow type='text'>\n                                <Field name='TEXT'>yyyy-mm-dd hh:mm:ss</Field>\n                            </Shadow>\n                        </Value>\n                    </Block>\n                    <Block type='todatetime'>\n                        <Value name='TIMESTAMP'>\n                            <Shadow type='math_number'>\n                                <Field name='NUM'>0</Field>\n                            </Shadow>\n                        </Value>\n                    </Block>\n                </Category>\n\n                <Category name={localize('Math')} id='math'>\n                    <Block type='math_number' />\n                    <Block type='math_arithmetic'>\n                        <Field name='OP'>ADD</Field>\n                        <Value name='A'>\n                            <Shadow type='math_number'>\n                                <Field name='NUM'>1</Field>\n                            </Shadow>\n                        </Value>\n                        <Value name='B'>\n                            <Shadow type='math_number'>\n                                <Field name='NUM'>1</Field>\n                            </Shadow>\n                        </Value>\n                    </Block>\n                    <Block type='math_single'>\n                        <Field name='OP'>ROOT</Field>\n                        <Value name='NUM'>\n                            <Shadow type='math_number'>\n                                <Field name='NUM'>9</Field>\n                            </Shadow>\n                        </Value>\n                    </Block>\n                    <Block type='math_trig'>\n                        <Field name='OP'>SIN</Field>\n                        <Value name='NUM'>\n                            <Shadow type='math_number'>\n                                <Field name='NUM'>45</Field>\n                            </Shadow>\n                        </Value>\n                    </Block>\n                    <Block type='math_constant' />\n                    <Block type='math_number_property'>\n                        <Mutation divisor_input='false' />\n                        <Field name='PROPERTY'>EVEN</Field>\n                        <Value name='NUMBER_TO_CHECK'>\n                            <Shadow type='math_number'>\n                                <Field name='NUM'>0</Field>\n                            </Shadow>\n                        </Value>\n                    </Block>\n                    <Block type='math_change'>\n                        <Field name='VAR' variabletype=''>\n                            item\n                        </Field>\n                        <Value name='DELTA'>\n                            <Shadow type='math_number'>\n                                <Field name='NUM'>1</Field>\n                            </Shadow>\n                        </Value>\n                    </Block>\n                    <Block type='math_on_list' />\n                    <Block type='math_round'>\n                        <Field name='OP'>ROUND</Field>\n                        <Value name='NUM'>\n                            <Shadow type='math_number'>\n                                <Field name='NUM'>3.1</Field>\n                            </Shadow>\n                        </Value>\n                    </Block>\n                    <Block type='math_modulo'>\n                        <Value name='DIVIDEND'>\n                            <Shadow type='math_number'>\n                                <Field name='NUM'>64</Field>\n                            </Shadow>\n                        </Value>\n                        <Value name='DIVISOR'>\n                            <Shadow type='math_number'>\n                                <Field name='NUM'>10</Field>\n                            </Shadow>\n                        </Value>\n                    </Block>\n                    <Block type='math_constrain'>\n                        <Value name='Value'>\n                            <Shadow type='math_number'>\n                                <Field name='NUM'>50</Field>\n                            </Shadow>\n                        </Value>\n                        <Value name='LOW'>\n                            <Shadow type='math_number'>\n                                <Field name='NUM'>1</Field>\n                            </Shadow>\n                        </Value>\n                        <Value name='HIGH'>\n                            <Shadow type='math_number'>\n                                <Field name='NUM'>100</Field>\n                            </Shadow>\n                        </Value>\n                    </Block>\n                    <Block type='math_random_int'>\n                        <Value name='FROM'>\n                            <Shadow type='math_number'>\n                                <Field name='NUM'>1</Field>\n                            </Shadow>\n                        </Value>\n                        <Value name='TO'>\n                            <Shadow type='math_number'>\n                                <Field name='NUM'>100</Field>\n                            </Shadow>\n                        </Value>\n                    </Block>\n                    <Block type='math_random_float' />\n                </Category>\n\n                <Category name={localize('Text')} id='text'>\n                    <Block type='text'>\n                        <Field name='TEXT'>abc</Field>\n                    </Block>\n                    <Block type='text_join'>\n                        <Field name='VARIABLE' variabletype=''>\n                            text\n                        </Field>\n                        <Statement name='STACK'>\n                            <Block type='text_statement' movable='false'>\n                                <Value name='TEXT'>\n                                    <Shadow type='text'>\n                                        <Field name='TEXT'>abc</Field>\n                                    </Shadow>\n                                </Value>\n                            </Block>\n                        </Statement>\n                    </Block>\n                    <Block type='text_append'>\n                        <Field name='VAR' variabletype=''>\n                            text\n                        </Field>\n                        <Value name='TEXT'>\n                            <Shadow type='text'>\n                                <Field name='TEXT'>abc</Field>\n                            </Shadow>\n                        </Value>\n                    </Block>\n                    <Block type='text_length'>\n                        <Value name='Value'>\n                            <Shadow type='text'>\n                                <Field name='TEXT'>abc</Field>\n                            </Shadow>\n                        </Value>\n                    </Block>\n                    <Block type='text_isEmpty'>\n                        <Value name='Value'>\n                            <Shadow type='text'>\n                                <Field name='TEXT' />\n                            </Shadow>\n                        </Value>\n                    </Block>\n                    <Block type='text_indexOf'>\n                        <Field name='END'>FIRST</Field>\n                        <Value name='Value'>\n                            <Block type='variables_get'>\n                                <Field name='VAR' variabletype=''>\n                                    text\n                                </Field>\n                            </Block>\n                        </Value>\n                        <Value name='FIND'>\n                            <Shadow type='text'>\n                                <Field name='TEXT'>abc</Field>\n                            </Shadow>\n                        </Value>\n                    </Block>\n                    <Block type='text_charAt'>\n                        <Mutation at='true' />\n                        <Field name='WHERE'>FROM_START</Field>\n                        <Value name='Value'>\n                            <Block type='variables_get'>\n                                <Field name='VAR' variabletype=''>\n                                    item\n                                </Field>\n                            </Block>\n                        </Value>\n                        <Value name='AT'>\n                            <Shadow type='math_number_positive'>\n                                <Field name='NUM'>1</Field>\n                            </Shadow>\n                        </Value>\n                    </Block>\n                    <Block type='text_getSubstring'>\n                        <Mutation at1='true' at2='true' />\n                        <Field name='WHERE1'>FROM_START</Field>\n                        <Field name='WHERE2'>FROM_START</Field>\n                        <Value name='STRING'>\n                            <Block type='variables_get'>\n                                <Field name='VAR' variabletype=''>\n                                    text\n                                </Field>\n                            </Block>\n                        </Value>\n                        <Value name='AT1'>\n                            <Shadow type='math_number_positive'>\n                                <Field name='NUM'>0</Field>\n                            </Shadow>\n                        </Value>\n                        <Value name='AT2'>\n                            <Shadow type='math_number_positive'>\n                                <Field name='NUM'>2</Field>\n                            </Shadow>\n                        </Value>\n                    </Block>\n                    <Block type='text_changeCase'>\n                        <Field name='CASE'>UPPERCASE</Field>\n                        <Value name='TEXT'>\n                            <Shadow type='text'>\n                                <Field name='TEXT'>abc</Field>\n                            </Shadow>\n                        </Value>\n                    </Block>\n                    <Block type='text_trim'>\n                        <Field name='MODE'>BOTH</Field>\n                        <Value name='TEXT'>\n                            <Shadow type='text'>\n                                <Field name='TEXT'>abc</Field>\n                            </Shadow>\n                        </Value>\n                    </Block>\n                </Category>\n\n                <Category name={localize('Logic')} id='logic'>\n                    <Block type='controls_if' />\n                    <Block type='logic_compare' />\n                    <Block type='logic_operation' />\n                    <Block type='logic_negate' />\n                    <Block type='logic_boolean' />\n                    <Block type='logic_null' />\n                    <Block type='logic_ternary' />\n                </Category>\n\n                <Category name={localize('Lists')} id='lists'>\n                    <Block type='lists_create_with'>\n                        <Field name='VARIABLE' variabletype=''>\n                            list\n                        </Field>\n                        <Statement name='STACK'>\n                            <Block type='lists_statement' movable='false'>\n                                <Next>\n                                    <Block type='lists_statement' movable='false' />\n                                </Next>\n                            </Block>\n                        </Statement>\n                    </Block>\n                    <Block type='lists_repeat'>\n                        <Value name='NUM'>\n                            <Shadow type='math_number'>\n                                <Field name='NUM'>5</Field>\n                            </Shadow>\n                        </Value>\n                    </Block>\n                    <Block type='lists_length' />\n                    <Block type='lists_isEmpty' />\n                    <Block type='lists_indexOf' />\n                    <Block type='lists_getIndex' />\n                    <Block type='lists_setIndex' />\n                    <Block type='lists_getSublist' />\n                    <Block type='lists_split'>\n                        <Mutation mode='SPLIT' />\n                        <Field name='MODE'>SPLIT</Field>\n                        <Value name='DELIM'>\n                            <Shadow type='text'>\n                                <Field name='TEXT'>,</Field>\n                            </Shadow>\n                        </Value>\n                    </Block>\n                    <Block type='lists_sort' />\n                </Category>\n\n                <Category name={localize('Loops')} id='loops'>\n                    <Block type='controls_repeat' />\n                    <Block type='controls_repeat_ext' />\n                    <Block type='controls_whileUntil' />\n                    <Block type='controls_for' />\n                    <Block type='controls_forEach' />\n                    <Block type='controls_flow_statements' />\n                </Category>\n\n                <Category name={localize('Miscellaneous')} id='misc'>\n                    <Block type='loader' />\n                    <Block type='block_holder' />\n                    <Block type='console'>\n                        <Value name='MESSAGE'>\n                            <Shadow type='text'>\n                                <Field name='TEXT'>abc</Field>\n                            </Shadow>\n                        </Value>\n                    </Block>\n                </Category>\n            </Category>\n\n            <Examples id='examples'>\n                <Example id='sell_available'>\n                    <Block type='during_purchase'>\n                        <Statement name='DURING_PURCHASE_STACK'>\n                            <Block type='controls_if'>\n                                <Value name='IF0'>\n                                    <Block type='check_sell' />\n                                </Value>\n                                <Statement name='DO0'>\n                                    <Block type='sell_at_market' />\n                                </Statement>\n                            </Block>\n                        </Statement>\n                    </Block>\n                </Example>\n                <Example id='trade_again'>\n                    <Block type='after_purchase'>\n                        <Statement name='AFTERPURCHASE_STACK'>\n                            <Block type='controls_if'>\n                                <Value name='IF0'>\n                                    <Block type='logic_compare'>\n                                        <Field name='OP'>EQ</Field>\n                                        <Value name='A'>\n                                            <Block type='total_profit' />\n                                        </Value>\n                                        <Value name='B'>\n                                            <Block type='variables_get'>\n                                                <Field name='VAR' variabletype=''>\n                                                    target_profit\n                                                </Field>\n                                            </Block>\n                                        </Value>\n                                    </Block>\n                                </Value>\n                            </Block>\n                        </Statement>\n                    </Block>\n                </Example>\n                <Example id='sma_block_example'>\n                    <Block type='sma_statement'>\n                        <Field name='VARIABLE' variabletype=''>\n                            sma\n                        </Field>\n                        <Statement name='STATEMENT'>\n                            <Block type='input_list' deletable='false' movable='false'>\n                                <Value name='INPUT_LIST'>\n                                    <Block type='ohlc_values'>\n                                        <Field name='OHLCFIELD_LIST'>open</Field>\n                                        <Field name='CANDLEINTERVAL_LIST'>default</Field>\n                                    </Block>\n                                </Value>\n                                <Next>\n                                    <Block type='period' deletable='false' movable='false'>\n                                        <Value name='PERIOD'>\n                                            <Shadow type='math_number'>\n                                                <Field name='NUM'>10</Field>\n                                            </Shadow>\n                                        </Value>\n                                    </Block>\n                                </Next>\n                            </Block>\n                        </Statement>\n                    </Block>\n                </Example>\n                <Example id='sma_array'>\n                    <Block type='smaa_statement'>\n                        <Field name='VARIABLE' variabletype=''>\n                            smaa\n                        </Field>\n                        <Statement name='STATEMENT'>\n                            <Block type='input_list' deletable='false' movable='false'>\n                                <Next>\n                                    <Block type='period' deletable='false' movable='false'>\n                                        <Value name='PERIOD'>\n                                            <Shadow type='math_number'>\n                                                <Field name='NUM'>10</Field>\n                                            </Shadow>\n                                        </Value>\n                                    </Block>\n                                </Next>\n                            </Block>\n                        </Statement>\n                    </Block>\n                </Example>\n                <Example id='sma_block_example_1'>\n                    <Block type='sma_statement'>\n                        <Field name='VARIABLE' variabletype=''>\n                            sma\n                        </Field>\n                        <Statement name='STATEMENT'>\n                            <Block type='input_list' deletable='false' movable='false'>\n                                <Value name='INPUT_LIST'>\n                                    <Block type='ticks' />\n                                </Value>\n                                <Next>\n                                    <Block type='period' deletable='false' movable='false'>\n                                        <Value name='PERIOD'>\n                                            <Shadow type='math_number'>\n                                                <Field name='NUM'>10</Field>\n                                            </Shadow>\n                                        </Value>\n                                    </Block>\n                                </Next>\n                            </Block>\n                        </Statement>\n                    </Block>\n                </Example>\n                <Example id='in_candle_list_read'>\n                    <Block type='variables_set'>\n                        <Field name='VAR' variabletype=''>\n                            op\n                        </Field>\n                        <Value name='VALUE'>\n                            <Block type='read_ohlc'>\n                                <Field name='OHLCFIELD_LIST'>open</Field>\n                                <Field name='CANDLEINTERVAL_LIST'>default</Field>\n                                <Value name='CANDLEINDEX'>\n                                    <Shadow type='math_number'>\n                                        <Field name='NUM'>1</Field>\n                                    </Shadow>\n                                </Value>\n                            </Block>\n                        </Value>\n                    </Block>\n                </Example>\n                <Example id='read_candle_value'>\n                    <Block type='variables_set'>\n                        <Field name='VAR' variabletype=''>\n                            op\n                        </Field>\n                        <Value name='VALUE'>\n                            <Block type='read_ohlc_obj'>\n                                <Field name='OHLCFIELD_LIST'>open</Field>\n                                <Value name='OHLCOBJ'>\n                                    <Block type='read_ohlc'>\n                                        <Field name='OHLCFIELD_LIST'>open</Field>\n                                        <Field name='CANDLEINTERVAL_LIST'>default</Field>\n                                        <Value name='CANDLEINDEX'>\n                                            <Shadow type='math_number'>\n                                                <Field name='NUM'>1</Field>\n                                            </Shadow>\n                                        </Value>\n                                    </Block>\n                                </Value>\n                            </Block>\n                        </Value>\n                    </Block>\n                </Example>\n                <Example id='candle_list'>\n                    <Block type='variables_set'>\n                        <Field name='VAR' variabletype=''>\n                            candle_list\n                        </Field>\n                        <Value name='VALUE'>\n                            <Block type='ohlc_values'>\n                                <Field name='OHLCFIELD_LIST'>open</Field>\n                                <Field name='CANDLEINTERVAL_LIST'>default</Field>\n                            </Block>\n                        </Value>\n                    </Block>\n                </Example>\n                <Example id='candle_list_1'>\n                    <Block type='variables_set'>\n                        <Field name='VAR' variabletype=''>\n                            cl\n                        </Field>\n                        <Value name='VALUE'>\n                            <Block type='ohlc_values_in_list'>\n                                <Field name='OHLCFIELD_LIST'>open</Field>\n                                <Value name='OHLCLIST'>\n                                    <Block type='ohlc'>\n                                        <Field name='CANDLEINTERVAL_LIST'>default</Field>\n                                    </Block>\n                                </Value>\n                            </Block>\n                        </Value>\n                    </Block>\n                </Example>\n                <Example id='get_candle'>\n                    <Block type='variables_set'>\n                        <Field name='VAR' variabletype=''>\n                            candle_open_price\n                        </Field>\n                        <Value name='VALUE'>\n                            <Block type='read_ohlc_obj'>\n                                <Field name='OHLCFIELD_LIST'>epoch</Field>\n                                <Value name='OHLCOBJ'>\n                                    <Block type='get_ohlc'>\n                                        <Field name='CANDLEINTERVAL_LIST'>default</Field>\n                                        <Value name='CANDLEINDEX'>\n                                            <Shadow type='math_number'>\n                                                <Field name='NUM'>2</Field>\n                                            </Shadow>\n                                        </Value>\n                                    </Block>\n                                </Value>\n                            </Block>\n                        </Value>\n                    </Block>\n                </Example>\n                <Example id='check_result'>\n                    <Block type='after_purchase'>\n                        <Statement name='AFTERPURCHASE_STACK'>\n                            <Block type='controls_if'>\n                                <Value name='IF0'>\n                                    <Block type='contract_check_result'>\n                                        <Field name='CHECK_RESULT'>win</Field>\n                                    </Block>\n                                </Value>\n                                <Statement name='DO0'>\n                                    <Block type='trade_again' />\n                                </Statement>\n                            </Block>\n                        </Statement>\n                    </Block>\n                </Example>\n                <Example id='sell_pl'>\n                    <Block type='during_purchase'>\n                        <Statement name='DURING_PURCHASE_STACK'>\n                            <Block type='controls_if'>\n                                <Value name='IF0'>\n                                    <Block type='check_sell' />\n                                </Value>\n                                <Statement name='DO0'>\n                                    <Block type='controls_if'>\n                                        <Value name='IF0'>\n                                            <Block type='logic_compare'>\n                                                <Field name='OP'>EQ</Field>\n                                                <Value name='A'>\n                                                    <Block type='sell_price' />\n                                                </Value>\n                                                <Value name='B'>\n                                                    <Block type='variables_get'>\n                                                        <Field name='VAR' variabletype=''>\n                                                            stake\n                                                        </Field>\n                                                    </Block>\n                                                </Value>\n                                            </Block>\n                                        </Value>\n                                        <Statement name='DO0'>\n                                            <Block type='sell_at_market' />\n                                        </Statement>\n                                    </Block>\n                                </Statement>\n                            </Block>\n                        </Statement>\n                    </Block>\n                </Example>\n                <Example id='if-return'>\n                    <Block type='procedures_defreturn'>\n                        <Mutation>\n                            <Arg name='x' />\n                        </Mutation>\n                        <Field name='NAME'>do something</Field>\n                        <Statement name='STACK'>\n                            <Block type='procedures_ifreturn'>\n                                <Mutation value='1' />\n                                <Value name='CONDITION'>\n                                    <Block type='logic_compare'>\n                                        <Field name='OP'>EQ</Field>\n                                        <Value name='A'>\n                                            <Block type='variables_get'>\n                                                <Field name='VAR' variabletype=''>\n                                                    x\n                                                </Field>\n                                            </Block>\n                                        </Value>\n                                        <Value name='B'>\n                                            <Block type='variables_get'>\n                                                <Field name='VAR' variabletype=''>\n                                                    x\n                                                </Field>\n                                            </Block>\n                                        </Value>\n                                    </Block>\n                                </Value>\n                                <Value name='VALUE'>\n                                    <Block type='text'>\n                                        <Field name='TEXT'>x must be positive or zero</Field>\n                                    </Block>\n                                </Value>\n                            </Block>\n                        </Statement>\n                        <Value name='RETURN'>\n                            <Block type='math_single'>\n                                <Field name='OP'>ROOT</Field>\n                                <Value name='NUM'>\n                                    <Shadow type='math_number'>\n                                        <Field name='NUM'>9</Field>\n                                    </Shadow>\n                                    <Block type='variables_get'>\n                                        <Field name='VAR' variabletype=''>\n                                            x\n                                        </Field>\n                                    </Block>\n                                </Value>\n                            </Block>\n                        </Value>\n                    </Block>\n                </Example>\n                <Example id='notify_telegram'>\n                    <Block type='notify_telegram'>\n                        <Value name='TELEGRAM_ACCESS_TOKEN'>\n                            <Shadow type='text'>\n                                <Field name='TEXT' />\n                            </Shadow>\n                            <Block type='variables_get'>\n                                <Field name='VAR' variabletype=''>\n                                    access_token\n                                </Field>\n                            </Block>\n                        </Value>\n                        <Value name='TELEGRAM_CHAT_ID'>\n                            <Shadow type='text'>\n                                <Field name='TEXT' />\n                            </Shadow>\n                            <Block type='variables_get'>\n                                <Field name='VAR' variabletype=''>\n                                    chat_id\n                                </Field>\n                            </Block>\n                        </Value>\n                        <Value name='TELEGRAM_MESSAGE'>\n                            <Shadow type='text'>\n                                <Field name='TEXT'>Enjoy!</Field>\n                            </Shadow>\n                        </Value>\n                    </Block>\n                </Example>\n                <Example id='epoch'>\n                    <Block type='variables_set'>\n                        <Field name='VAR' variabletype=''>\n                            candle\n                        </Field>\n                        <Value name='VALUE'>\n                            <Block type='read_ohlc'>\n                                <Field name='OHLCFIELD_LIST'>open</Field>\n                                <Field name='CANDLEINTERVAL_LIST'>default</Field>\n                                <Value name='CANDLEINDEX'>\n                                    <Shadow type='math_number'>\n                                        <Field name='NUM'>1</Field>\n                                    </Shadow>\n                                </Value>\n                            </Block>\n                        </Value>\n                        <Next>\n                            <Block type='variables_set'>\n                                <Field name='VAR' variabletype=''>\n                                    Open Time\n                                </Field>\n                                <Value name='VALUE'>\n                                    <Block type='read_ohlc_obj'>\n                                        <Field name='OHLCFIELD_LIST'>epoch</Field>\n                                        <Value name='OHLCOBJ'>\n                                            <Block type='variables_get'>\n                                                <Field name='VAR' variabletype=''>\n                                                    candle\n                                                </Field>\n                                            </Block>\n                                        </Value>\n                                    </Block>\n                                </Value>\n                                <Next>\n                                    <Block type='variables_set'>\n                                        <Field name='VAR' variabletype=''>\n                                            Open Time\n                                        </Field>\n                                        <Value name='VALUE'>\n                                            <Block type='math_arithmetic'>\n                                                <Field name='OP'>MINUS</Field>\n                                                <Value name='A'>\n                                                    <Shadow type='math_number'>\n                                                        <Field name='NUM'>1</Field>\n                                                    </Shadow>\n                                                    <Block type='epoch' />\n                                                </Value>\n                                                <Value name='B'>\n                                                    <Shadow type='math_number'>\n                                                        <Field name='NUM'>1</Field>\n                                                    </Shadow>\n                                                    <Block type='variables_get'>\n                                                        <Field name='VAR' variabletype=''>\n                                                            Open Time\n                                                        </Field>\n                                                    </Block>\n                                                </Value>\n                                            </Block>\n                                        </Value>\n                                        <Next>\n                                            <Block type='controls_if'>\n                                                <Value name='IF0'>\n                                                    <Block type='logic_compare'>\n                                                        <Field name='OP'>GTE</Field>\n                                                        <Value name='A'>\n                                                            <Block type='variables_get'>\n                                                                <Field name='VAR' variabletype=''>\n                                                                    Time Since Candle Opened\n                                                                </Field>\n                                                            </Block>\n                                                        </Value>\n                                                        <Value name='B'>\n                                                            <Block type='math_number'>\n                                                                <Field name='NUM'>30</Field>\n                                                            </Block>\n                                                        </Value>\n                                                    </Block>\n                                                </Value>\n                                            </Block>\n                                        </Next>\n                                    </Block>\n                                </Next>\n                            </Block>\n                        </Next>\n                    </Block>\n                </Example>\n                <Example id='totimestamp'>\n                    <Block type='before_purchase'>\n                        <Statement name='BEFOREPURCHASE_STACK'>\n                            <Block type='controls_if'>\n                                <Value name='IF0'>\n                                    <Block type='logic_compare'>\n                                        <Field name='OP'>EQ</Field>\n                                        <Value name='A'>\n                                            <Block type='epoch' />\n                                        </Value>\n                                        <Value name='B'>\n                                            <Block type='totimestamp'>\n                                                <Value name='DATETIME'>\n                                                    <Shadow type='text'>\n                                                        <Field name='TEXT'>1957-08-31 00:00:00</Field>\n                                                    </Shadow>\n                                                </Value>\n                                            </Block>\n                                        </Value>\n                                    </Block>\n                                </Value>\n                                <Statement name='DO0'>\n                                    <Block type='purchase'>\n                                        <Field name='PURCHASE_LIST'>CALL</Field>\n                                    </Block>\n                                </Statement>\n                            </Block>\n                        </Statement>\n                    </Block>\n                </Example>\n                <Example id='todatetime'>\n                    <Block type='notify'>\n                        <Field name='NOTIFICATION_TYPE'>success</Field>\n                        <Field name='NOTIFICATION_SOUND'>silent</Field>\n                        <Value name='MESSAGE'>\n                            <Shadow type='text'>\n                                <Field name='TEXT'>abc</Field>\n                            </Shadow>\n                            <Block type='todatetime'>\n                                <Value name='TIMESTAMP'>\n                                    <Shadow type='math_number'>\n                                        <Field name='NUM'>0</Field>\n                                    </Shadow>\n                                    <Block type='epoch' />\n                                </Value>\n                            </Block>\n                        </Value>\n                    </Block>\n                </Example>\n                <Example id='constrain'>\n                    <Block type='math_constrain'>\n                        <Value name='VALUE'>\n                            <Block type='math_number'>\n                                <Field name='NUM'>5</Field>\n                            </Block>\n                        </Value>\n                        <Value name='LOW'>\n                            <Shadow type='math_number'>\n                                <Field name='NUM'>10</Field>\n                            </Shadow>\n                        </Value>\n                        <Value name='HIGH'>\n                            <Shadow type='math_number'>\n                                <Field name='NUM'>20</Field>\n                            </Shadow>\n                        </Value>\n                    </Block>\n                </Example>\n                <Example id='controls_if'>\n                    <Block type='controls_if'>\n                        <Mutation elseif='1' else='1' />\n                        <Value name='IF0'>\n                            <Block type='logic_compare'>\n                                <Field name='OP'>EQ</Field>\n                                <Value name='A'>\n                                    <Block type='variables_get'>\n                                        <Field name='VAR' variabletype=''>\n                                            var1\n                                        </Field>\n                                    </Block>\n                                </Value>\n                                <Value name='B'>\n                                    <Block type='variables_get'>\n                                        <Field name='VAR' variabletype=''>\n                                            var2\n                                        </Field>\n                                    </Block>\n                                </Value>\n                            </Block>\n                        </Value>\n                        <Value name='IF1'>\n                            <Block type='logic_compare'>\n                                <Field name='OP'>EQ</Field>\n                                <Value name='A'>\n                                    <Block type='variables_get'>\n                                        <Field name='VAR' variabletype=''>\n                                            var3\n                                        </Field>\n                                    </Block>\n                                </Value>\n                                <Value name='B'>\n                                    <Block type='variables_get'>\n                                        <Field name='VAR' variabletype=''>\n                                            var4\n                                        </Field>\n                                    </Block>\n                                </Value>\n                            </Block>\n                        </Value>\n                    </Block>\n                </Example>\n                <Example id='compare_logic'>\n                    <Block type='logic_compare'>\n                        <Field name='OP'>EQ</Field>\n                    </Block>\n                </Example>\n                <Example id='compare_logic_1'>\n                    <Block type='logic_operation'>\n                        <Field name='OP'>AND</Field>\n                    </Block>\n                </Example>\n                <Example id='repeat_while'>\n                    <Block type='variables_set'>\n                        <Field name='VAR' variabletype=''>\n                            x\n                        </Field>\n                        <Value name='VALUE'>\n                            <Block type='math_number'>\n                                <Field name='NUM'>0</Field>\n                            </Block>\n                        </Value>\n                        <Next>\n                            <Block type='controls_whileUntil'>\n                                <Field name='MODE'>WHILE</Field>\n                                <Value name='BOOL'>\n                                    <Block type='logic_compare'>\n                                        <Field name='OP'>LTE</Field>\n                                        <Value name='A'>\n                                            <Block type='variables_get'>\n                                                <Field name='VAR' variabletype=''>\n                                                    x\n                                                </Field>\n                                            </Block>\n                                        </Value>\n                                        <Value name='B'>\n                                            <Block type='math_number'>\n                                                <Field name='NUM'>10</Field>\n                                            </Block>\n                                        </Value>\n                                    </Block>\n                                </Value>\n                                <Statement name='DO'>\n                                    <Block type='math_change'>\n                                        <Field name='VAR' variabletype=''>\n                                            x\n                                        </Field>\n                                        <Value name='DELTA'>\n                                            <Shadow type='math_number'>\n                                                <Field name='NUM'>1</Field>\n                                            </Shadow>\n                                        </Value>\n                                        <Next>\n                                            <Block type='notify'>\n                                                <Field name='NOTIFICATION_TYPE'>success</Field>\n                                                <Field name='NOTIFICATION_SOUND'>silent</Field>\n                                                <Value name='MESSAGE'>\n                                                    <Shadow type='text'>\n                                                        <Field name='TEXT'>abc</Field>\n                                                    </Shadow>\n                                                    <Block type='variables_get'>\n                                                        <Field name='VAR' variabletype=''>\n                                                            x\n                                                        </Field>\n                                                    </Block>\n                                                </Value>\n                                            </Block>\n                                        </Next>\n                                    </Block>\n                                </Statement>\n                            </Block>\n                        </Next>\n                    </Block>\n                </Example>\n                <Example id='repeat_until'>\n                    <Block type='variables_set'>\n                        <Field name='VAR' variabletype=''>\n                            x\n                        </Field>\n                        <Value name='VALUE'>\n                            <Block type='math_number'>\n                                <Field name='NUM'>20</Field>\n                            </Block>\n                        </Value>\n                        <Next>\n                            <Block type='controls_whileUntil'>\n                                <Field name='MODE'>UNTIL</Field>\n                                <Value name='BOOL'>\n                                    <Block type='logic_compare'>\n                                        <Field name='OP'>EQ</Field>\n                                        <Value name='A'>\n                                            <Block type='variables_get'>\n                                                <Field name='VAR' variabletype=''>\n                                                    x\n                                                </Field>\n                                            </Block>\n                                        </Value>\n                                        <Value name='B'>\n                                            <Block type='math_number'>\n                                                <Field name='NUM'>10</Field>\n                                            </Block>\n                                        </Value>\n                                    </Block>\n                                </Value>\n                                <Statement name='DO'>\n                                    <Block type='math_change'>\n                                        <Field name='VAR' variabletype=''>\n                                            x\n                                        </Field>\n                                        <Value name='DELTA'>\n                                            <Shadow type='math_number'>\n                                                <Field name='NUM'>-1</Field>\n                                            </Shadow>\n                                        </Value>\n                                        <Next>\n                                            <Block type='notify'>\n                                                <Field name='NOTIFICATION_TYPE'>success</Field>\n                                                <Field name='NOTIFICATION_SOUND'>silent</Field>\n                                                <Value name='MESSAGE'>\n                                                    <Shadow type='text'>\n                                                        <Field name='TEXT'>abc</Field>\n                                                    </Shadow>\n                                                    <Block type='variables_get'>\n                                                        <Field name='VAR' variabletype=''>\n                                                            x\n                                                        </Field>\n                                                    </Block>\n                                                </Value>\n                                            </Block>\n                                        </Next>\n                                    </Block>\n                                </Statement>\n                            </Block>\n                        </Next>\n                    </Block>\n                </Example>\n                <Example id='controls_for'>\n                    <Block type='controls_for'>\n                        <Field name='VAR' variabletype=''>\n                            i\n                        </Field>\n                        <Value name='FROM'>\n                            <Block type='math_number'>\n                                <Field name='NUM'>0</Field>\n                            </Block>\n                        </Value>\n                        <Value name='TO'>\n                            <Block type='math_number'>\n                                <Field name='NUM'>10</Field>\n                            </Block>\n                        </Value>\n                        <Value name='BY'>\n                            <Block type='math_number'>\n                                <Field name='NUM'>2</Field>\n                            </Block>\n                        </Value>\n                        <Statement name='DO'>\n                            <Block type='notify'>\n                                <Field name='NOTIFICATION_TYPE'>success</Field>\n                                <Field name='NOTIFICATION_SOUND'>silent</Field>\n                                <Value name='MESSAGE'>\n                                    <Shadow type='text'>\n                                        <Field name='TEXT'>abc</Field>\n                                    </Shadow>\n                                    <Block type='variables_get'>\n                                        <Field name='VAR' variabletype=''>\n                                            i\n                                        </Field>\n                                    </Block>\n                                </Value>\n                            </Block>\n                        </Statement>\n                    </Block>\n                </Example>\n                <Example id='controls_forEach'>\n                    <Block type='lists_create_with'>\n                        <Field name='VARIABLE'>list</Field>\n                        <Statement name='STACK'>\n                            <Block type='lists_statement'>\n                                <Value name='VALUE'>\n                                    <Block type='variables_get'>\n                                        <Field name='VAR' variabletype=''>\n                                            item1\n                                        </Field>\n                                    </Block>\n                                </Value>\n                                <Next>\n                                    <Block type='lists_statement'>\n                                        <Value name='VALUE'>\n                                            <Block type='variables_get'>\n                                                <Field name='VAR' variabletype=''>\n                                                    item2\n                                                </Field>\n                                            </Block>\n                                        </Value>\n                                        <Next>\n                                            <Block type='lists_statement'>\n                                                <Value name='VALUE'>\n                                                    <Block type='variables_get'>\n                                                        <Field name='VAR' variabletype=''>\n                                                            item3\n                                                        </Field>\n                                                    </Block>\n                                                </Value>\n                                            </Block>\n                                        </Next>\n                                    </Block>\n                                </Next>\n                            </Block>\n                        </Statement>\n                        <Next>\n                            <Block type='controls_forEach'>\n                                <Field name='VAR' variabletype=''>\n                                    i\n                                </Field>\n                                <Value name='LIST'>\n                                    <Block type='variables_get'>\n                                        <Field name='VAR' variabletype=''>\n                                            list\n                                        </Field>\n                                    </Block>\n                                </Value>\n                                <Statement name='DO'>\n                                    <Block type='notify'>\n                                        <Field name='NOTIFICATION_TYPE'>success</Field>\n                                        <Field name='NOTIFICATION_SOUND'>silent</Field>\n                                        <Value name='MESSAGE'>\n                                            <Shadow type='text'>\n                                                <Field name='TEXT'>abc</Field>\n                                            </Shadow>\n                                            <Block type='variables_get'>\n                                                <Field name='VAR' variabletype=''>\n                                                    i\n                                                </Field>\n                                            </Block>\n                                        </Value>\n                                    </Block>\n                                </Statement>\n                            </Block>\n                        </Next>\n                    </Block>\n                </Example>\n                <Example id='break_out'>\n                    <Block type='variables_set'>\n                        <Field name='VAR' variabletype=''>\n                            x\n                        </Field>\n                        <Value name='VALUE'>\n                            <Block type='logic_boolean'>\n                                <Field name='BOOL'>TRUE</Field>\n                            </Block>\n                        </Value>\n                        <Next>\n                            <Block type='controls_repeat'>\n                                <Field name='TIMES'>10</Field>\n                                <Statement name='DO'>\n                                    <Block type='controls_if'>\n                                        <Value name='IF0'>\n                                            <Block type='logic_negate'>\n                                                <Value name='BOOL'>\n                                                    <Block type='variables_get'>\n                                                        <Field name='VAR' variabletype=''>\n                                                            x\n                                                        </Field>\n                                                    </Block>\n                                                </Value>\n                                            </Block>\n                                        </Value>\n                                        <Statement name='DO0'>\n                                            <Block type='controls_flow_statements'>\n                                                <Field name='FLOW'>BREAK</Field>\n                                            </Block>\n                                        </Statement>\n                                        <Next>\n                                            <Block type='notify'>\n                                                <Field name='NOTIFICATION_TYPE'>success</Field>\n                                                <Field name='NOTIFICATION_SOUND'>silent</Field>\n                                                <Value name='MESSAGE'>\n                                                    <Shadow type='text'>\n                                                        <Field name='TEXT'>abc</Field>\n                                                    </Shadow>\n                                                </Value>\n                                            </Block>\n                                        </Next>\n                                    </Block>\n                                </Statement>\n                            </Block>\n                        </Next>\n                    </Block>\n                </Example>\n                <Example id='continue'>\n                    <Block type='variables_set'>\n                        <Field name='VAR' variabletype=''>\n                            x\n                        </Field>\n                        <Value name='VALUE'>\n                            <Block type='logic_boolean'>\n                                <Field name='BOOL'>FALSE</Field>\n                            </Block>\n                        </Value>\n                        <Next>\n                            <Block type='controls_repeat'>\n                                <Field name='TIMES'>10</Field>\n                                <Statement name='DO'>\n                                    <Block type='controls_if'>\n                                        <Value name='IF0'>\n                                            <Block type='logic_negate'>\n                                                <Value name='BOOL'>\n                                                    <Block type='variables_get'>\n                                                        <Field name='VAR' variabletype=''>\n                                                            x\n                                                        </Field>\n                                                    </Block>\n                                                </Value>\n                                            </Block>\n                                        </Value>\n                                        <Statement name='DO0'>\n                                            <Block type='variables_set'>\n                                                <Field name='VAR' variabletype=''>\n                                                    x\n                                                </Field>\n                                                <Value name='VALUE'>\n                                                    <Block type='logic_boolean'>\n                                                        <Field name='BOOL'>TRUE</Field>\n                                                    </Block>\n                                                </Value>\n                                                <Next>\n                                                    <Block type='controls_flow_statements'>\n                                                        <Field name='FLOW'>CONTINUE</Field>\n                                                    </Block>\n                                                </Next>\n                                            </Block>\n                                        </Statement>\n                                        <Next>\n                                            <Block type='notify'>\n                                                <Field name='NOTIFICATION_TYPE'>success</Field>\n                                                <Field name='NOTIFICATION_SOUND'>silent</Field>\n                                                <Value name='MESSAGE'>\n                                                    <Shadow type='text'>\n                                                        <Field name='TEXT'>abc</Field>\n                                                    </Shadow>\n                                                </Value>\n                                            </Block>\n                                        </Next>\n                                    </Block>\n                                </Statement>\n                            </Block>\n                        </Next>\n                    </Block>\n                </Example>\n            </Examples>\n        </Xml>\n    );\n",
            "size_bytes": 85491
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Before Purchase/purchase.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { getContractTypeOptions } from '../../../shared';\nimport { excludeOptionFromContextMenu, modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.purchase = {\n    init() {\n        this.jsonInit(this.definition());\n\n        // Ensure one of this type per statement-stack\n        this.setNextStatement(false);\n    },\n    definition() {\n        return {\n            message0: localize('Purchase {{ contract_type }}', { contract_type: '%1' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'PURCHASE_LIST',\n                    options: [['', '']],\n                },\n            ],\n            previousStatement: null,\n            colour: window.Blockly.Colours.Special1.colour,\n            colourSecondary: window.Blockly.Colours.Special1.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Special1.colourTertiary,\n            tooltip: localize('This block purchases contract of a specified type.'),\n            category: window.Blockly.Categories.Before_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Purchase'),\n            description: localize(\n                'Use this block to purchase the specific contract you want. You may add multiple Purchase blocks together with conditional blocks to define your purchase conditions. This block can only be used within the Purchase conditions block.'\n            ),\n            key_words: localize('buy'),\n        };\n    },\n    onchange(event) {\n        if (!this.workspace || window.Blockly.derivWorkspace.isFlyoutVisible || this.workspace.isDragging()) {\n            return;\n        }\n\n        if (event.type === window.Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id)) {\n            this.populatePurchaseList(event);\n        } else if (event.type === window.Blockly.Events.BLOCK_CHANGE) {\n            if (event.name === 'TYPE_LIST' || event.name === 'TRADETYPE_LIST') {\n                this.populatePurchaseList(event);\n            }\n        } else if (event.type === window.Blockly.Events.BLOCK_DRAG && !event.isStart && event.blockId === this.id) {\n            const purchase_type_list = this.getField('PURCHASE_LIST');\n            const purchase_options = purchase_type_list.menuGenerator_; // eslint-disable-line\n\n            if (purchase_options[0][0] === '') {\n                this.populatePurchaseList(event);\n            }\n        }\n    },\n    populatePurchaseList(event) {\n        const trade_definition_block = this.workspace.getTradeDefinitionBlock();\n\n        if (trade_definition_block) {\n            const trade_type_block = trade_definition_block.getChildByType('trade_definition_tradetype');\n            const trade_type = trade_type_block.getFieldValue('TRADETYPE_LIST');\n            const contract_type_block = trade_definition_block.getChildByType('trade_definition_contracttype');\n            const contract_type = contract_type_block.getFieldValue('TYPE_LIST');\n            const purchase_type_list = this.getField('PURCHASE_LIST');\n            const purchase_type = purchase_type_list.getValue();\n            const contract_type_options = getContractTypeOptions(contract_type, trade_type);\n\n            purchase_type_list.updateOptions(contract_type_options, {\n                default_value: purchase_type,\n                event_group: event.group,\n                should_pretend_empty: true,\n            });\n        }\n    },\n    customContextMenu(menu) {\n        const menu_items = [localize('Enable Block'), localize('Disable Block')];\n        excludeOptionFromContextMenu(menu, menu_items);\n        modifyContextMenu(menu);\n    },\n    restricted_parents: ['before_purchase'],\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.purchase = block => {\n    const purchaseList = block.getFieldValue('PURCHASE_LIST');\n\n    const code = `Bot.purchase('${purchaseList}');\\n`;\n    return code;\n};\n",
            "size_bytes": 3974
        },
        "src/external/bot-skeleton/scratch/hooks/scratch_block_comment.js": {
            "content": "/**\n * Change the colour of the associated bubble to match its block.\n * deriv-bot: Use primary colour instead of tertiary. At time of writing\n * we use colour too similar to workspace background colour for tertiary (borders).\n * @package\n */\nwindow.Blockly.WorkspaceComment.prototype.updateColour = function () {\n    if (this.isVisible()) {\n        this.bubble_.setColour(this.block_.getColour());\n    }\n};\n",
            "size_bytes": 408
        },
        "src/components/shared_ui/input-wth-checkbox/index.ts": {
            "content": "import InputWithCheckBox from './input-with-checkbox';\nimport './input-with-checkbox.scss';\n\nexport default InputWithCheckBox;\n",
            "size_bytes": 127
        },
        "src/hooks/useOnClickOutside.tsx": {
            "content": "import { RefObject } from 'react';\nimport useEventListener from './useEventListener';\n\ntype Handler = (event: MouseEvent) => void;\nexport function useOnClickOutside<T extends HTMLElement = HTMLElement>(\n    ref: RefObject<T>,\n    handler: Handler,\n    validationFn?: (event: MouseEvent) => boolean,\n    mouseEvent: 'mousedown' | 'mouseup' = 'mousedown'\n): void {\n    useEventListener(mouseEvent, event => {\n        const el = ref?.current;\n\n        // Do nothing if clicking ref's element or descendent elements\n        if (!el || el.contains(event.target as Node)) {\n            return;\n        }\n\n        if (validationFn && !validationFn(event)) return;\n\n        handler(event);\n    });\n}\n",
            "size_bytes": 692
        },
        "replit.md": {
            "content": "# Derivatives Bot - Replit Setup\n\n## Overview\nA comprehensive platform for automated derivatives trading that provides users with powerful tools to create, test, and deploy trading bots without requiring programming knowledge. Built with React 18, TypeScript, and RSBuild.\n\n## Project Architecture\n\n### Frontend Stack\n- **Framework**: React 18 with TypeScript\n- **Build System**: RSBuild (fast alternative to webpack)\n- **State Management**: MobX for reactive state management\n- **Routing**: React Router v6\n- **Styling**: Sass with component-scoped styles\n- **UI Libraries**: \n  - Blockly for visual bot building\n  - @deriv-com/ui for design system components\n  - @deriv-com/derivatives-charts for trading charts\n\n### Key Features\n- Visual Bot Builder using Blockly\n- Real-time Dashboard for bot management\n- Integrated TradingView charts\n- Interactive tutorials\n- Responsive design for mobile and desktop\n- Analytics integration (RudderStack, GTM)\n\n## Development Setup\n\n### Configuration Changes for Replit\n1. **Port Configuration**: Changed from 8443 to 5000\n2. **Host Configuration**: Set to 0.0.0.0 to allow Replit proxy\n3. **SSL Removed**: Removed pluginBasicSsl as Replit handles HTTPS at proxy level\n4. **Host Validation**: Added `allowedHosts: 'all'` to support Replit's iframe proxy\n5. **Config Structure**: Moved alias configuration from `source.alias` to `resolve.alias` (fixing deprecation warning)\n\n### Current Workflow\n- **Server**: `npm start` - Runs RSBuild dev server on port 5000\n  - Hot module replacement enabled\n  - WebSocket for live reloading\n  - Serves at http://0.0.0.0:5000\n\n### Deployment Configuration\n- **Type**: Autoscale (stateless frontend)\n- **Build**: `npm run build`\n- **Run**: `http-server dist -p 5000 -a 0.0.0.0`\n\n## Environment Variables\nThe application expects several optional environment variables for external services:\n- `TRACKJS_TOKEN` - Error tracking (warnings shown if not set, but app works)\n- `DATADOG_*` - Monitoring configuration\n- `RUDDERSTACK_KEY` - Analytics\n- `GROWTHBOOK_*` - Feature flags\n- `REMOTE_CONFIG_URL` - Remote configuration\n\nThese are all optional for development. The app will run without them.\n\n## File Structure\n```\nsrc/\n components/       # Reusable UI components\n pages/           # Main application pages\n    dashboard/   # Bot management\n    bot-builder/ # Visual bot building\n    chart/       # Trading charts\n    tutorials/   # Learning modules\n stores/          # MobX state stores\n hooks/           # Custom React hooks\n analytics/       # Analytics utilities\n external/        # External integrations\n styles/          # Global styles\n```\n\n## Recent Changes\n- **2025-10-27**: Initial Replit setup\n  - Installed dependencies with `npm install --ignore-scripts` to avoid git hook conflicts\n  - Configured RSBuild for Replit environment (port 5000, host 0.0.0.0)\n  - Removed SSL plugin (Replit handles HTTPS)\n  - Set up deployment configuration for autoscale\n  - Verified app loads successfully with WebSocket connection\n\n## Notes\n- Dependencies installed with `--ignore-scripts` flag due to husky git hook conflicts\n- The app shows \"Initializing Deriv Bot account...\" on first load, which is expected behavior\n- Some browser console warnings about missing tokens are expected in development without API keys\n",
            "size_bytes": 3399
        },
        "src/components/audio/index.ts": {
            "content": "import Audio from './audio';\n\nexport default Audio;\n",
            "size_bytes": 52
        },
        "src/components/shared/utils/constants/signup_fields.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport const getAddressDetailsFields = () => ({\n    address_line_1: localize('First line of address'),\n    address_line_2: localize('Second line of address'),\n    address_city: localize('Town/City'),\n    address_state: localize('State/Province'),\n    address_postcode: localize('Postal/ZIP code'),\n});\n\nexport const getPersonalDetailsFields = () => ({\n    salutation: localize('Title and name'),\n    first_name: localize('First name'),\n    last_name: localize('Last name'),\n    date_of_birth: localize('Date of birth'),\n    place_of_birth: localize('Place of birth'),\n    phone: localize('Phone number'),\n    citizen: localize('Citizenship'),\n    residence: localize('Country of residence'),\n    tax_identification_number: localize('Tax identification number'),\n    tax_residence: localize('Tax residence'),\n    account_opening_reason: localize('Account opening reason'),\n    employment_status: localize('Employment status'),\n});\n\nexport const getSignupFormFields = () => ({ ...getPersonalDetailsFields(), ...getAddressDetailsFields() });\n\nexport const EMPLOYMENT_VALUES = Object.freeze({\n    EMPLOYED: 'Employed',\n    UNEMPLOYED: 'Unemployed',\n    SELF_EMPLOYED: 'Self-Employed',\n});\n",
            "size_bytes": 1238
        },
        "src/pages/dashboard/bot-list/types.ts": {
            "content": "export type TRecentStrategy = {\n    id: string;\n    name: string;\n    xml: string;\n    save_type: string;\n    timestamp: number | undefined;\n};\n",
            "size_bytes": 144
        },
        "src/components/load-modal/section-message/section-message.tsx": {
            "content": "import React from 'react';\nimport Text from '@/components/shared_ui/text';\n\ntype TSectionMessage = {\n    icon: React.ReactNode;\n    message: string;\n    className?: string;\n};\n\nconst SectionMessage: React.FC<TSectionMessage> = ({ icon, message, className }) => {\n    return (\n        <div className={className}>\n            {icon && <span className='icon'>{icon}</span>}\n            <span className='text'>\n                <Text size='xs'>{message}</Text>\n            </span>\n        </div>\n    );\n};\n\nexport default SectionMessage;\n",
            "size_bytes": 533
        },
        "src/components/shared_ui/progress-slider-mobile/index.ts": {
            "content": "import ProgressSliderMobile from './progress-slider-mobile';\nimport './progress-slider-mobile.scss';\n\nexport default ProgressSliderMobile;\n",
            "size_bytes": 139
        },
        "src/types/strategy.types.ts": {
            "content": "export type TStrategy = {\n    id: string;\n    name: string;\n    save_type: string;\n    timestamp: number;\n    xml: string;\n};\n",
            "size_bytes": 126
        },
        "src/components/load-modal/local-footer.tsx": {
            "content": "import React from 'react';\nimport { observer } from 'mobx-react-lite';\nimport { NOTIFICATION_TYPE } from '@/components/bot-notification/bot-notification-utils';\nimport { useStore } from '@/hooks/useStore';\nimport { localize } from '@deriv-com/translations';\nimport { useDevice } from '@deriv-com/ui';\nimport Button from '../shared_ui/button';\n\nconst LocalFooter = observer(() => {\n    const { load_modal, dashboard } = useStore();\n    const {\n        is_open_button_loading,\n        is_open_button_disabled,\n        loadStrategyOnBotBuilder,\n        setLoadedLocalFile,\n        saveStrategyToLocalStorage,\n        toggleLoadModal,\n    } = load_modal;\n    const { setOpenSettings, setPreviewOnPopup } = dashboard;\n    const { isDesktop } = useDevice();\n    const Wrapper = isDesktop ? React.Fragment : Button.Group;\n\n    return (\n        <Wrapper>\n            {!isDesktop && (\n                <Button text={localize('Cancel')} onClick={() => setLoadedLocalFile(null)} has_effect secondary large />\n            )}\n            <Button\n                text={localize('Open')}\n                onClick={() => {\n                    loadStrategyOnBotBuilder();\n                    saveStrategyToLocalStorage();\n                    setLoadedLocalFile(null);\n                    toggleLoadModal();\n                    setPreviewOnPopup(false);\n                    setOpenSettings(NOTIFICATION_TYPE.BOT_IMPORT);\n                }}\n                is_loading={is_open_button_loading}\n                has_effect\n                primary\n                large\n                disabled={is_open_button_disabled}\n            />\n        </Wrapper>\n    );\n});\n\nexport default LocalFooter;\n",
            "size_bytes": 1670
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Tools/Misc/notify.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { config } from '../../../../../constants/config';\nimport { emptyTextValidator, modifyContextMenu } from '../../../../utils';\n\nwindow.Blockly.Blocks.notify = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize(\n                'Notify {{ notification_type }} with sound: {{ notification_sound }} {{ input_message }}',\n                {\n                    notification_type: '%1',\n                    notification_sound: '%2',\n                    input_message: '%3',\n                }\n            ),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'NOTIFICATION_TYPE',\n                    options: config().lists.NOTIFICATION_TYPE,\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'NOTIFICATION_SOUND',\n                    options: config().lists.NOTIFICATION_SOUND,\n                },\n                {\n                    type: 'input_value',\n                    name: 'MESSAGE',\n                    check: null,\n                },\n            ],\n            colour: window.Blockly.Colours.Special3.colour,\n            colourSecondary: window.Blockly.Colours.Special3.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Special3.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Displays a notification and optionally play selected sound'),\n            category: window.Blockly.Categories.Miscellaneous,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    meta() {\n        return {\n            display_name: localize('Notify'),\n            description: localize(\n                'This block displays a message. You can specify the color of the message and choose from 6 different sound options.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            MESSAGE: emptyTextValidator,\n        };\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.notify = block => {\n    const notificationType = block.getFieldValue('NOTIFICATION_TYPE');\n    const sound = block.getFieldValue('NOTIFICATION_SOUND');\n    const message_block = block.getInputTargetBlock('MESSAGE');\n    let variable_name = null;\n\n    if (message_block.type === 'variables_get') {\n        const variable_id = message_block.getFieldValue('VAR');\n        variable_name = window.Blockly.derivWorkspace.getVariableById(variable_id).name;\n    }\n\n    const message =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'MESSAGE',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC\n        ) || `\"${localize('<empty message>')}\"`;\n\n    const code = `Bot.notify({ className: 'journal__text--${notificationType}', message: ${message}, sound: '${sound}', block_id: '${block.id}', variable_name: '${variable_name}' });\\n`;\n    return code;\n};\n",
            "size_bytes": 3092
        },
        "src/components/error-modal/error-modal-content.tsx": {
            "content": "import { DerivLightUserErrorIcon } from '@deriv/quill-icons/Illustration';\nimport { Localize } from '@deriv-com/translations';\nimport Button from '../shared_ui/button';\nimport Text from '../shared_ui/text';\n\ntype TErrorModalContent = {\n    error_message?: string;\n};\n\nconst ErrorModalContent = ({ error_message }: TErrorModalContent) => {\n    return (\n        <div className='unhandled-error'>\n            <DerivLightUserErrorIcon height='120px' width='120px' fill='var(--text-general)' />\n            <Text className='da-icon-with-message__text' as='p' lineHeight='xxl' align='center' weight='bold'>\n                <Localize i18n_default_text='Sorry for the interruption' />\n            </Text>\n            <Text className='da-icon-with-message__text__desc' as='p' size='xs' lineHeight='xxs' align='center'>\n                {error_message}\n            </Text>\n            <Button onClick={() => location.reload()} has_effect primary large>\n                <Localize i18n_default_text='Refresh' />\n            </Button>\n        </div>\n    );\n};\n\nexport default ErrorModalContent;\n",
            "size_bytes": 1081
        },
        "src/components/error-modal/__tests__/error-modal-content.spec.tsx": {
            "content": "import React from 'react';\nimport { render, screen } from '@testing-library/react';\nimport ErrorModalContent from '../error-modal-content';\n\ndescribe('<ErrorModalContent />', () => {\n    let modal_root_el: HTMLDivElement;\n\n    beforeAll(() => {\n        modal_root_el = document.createElement('div');\n        modal_root_el.setAttribute('id', 'modal_root');\n        document.body.appendChild(modal_root_el);\n    });\n\n    afterAll(() => {\n        document.body.removeChild(modal_root_el);\n    });\n    const error_message = 'You have reached the rate limit of requests per second. Please try later.';\n    it('should renders the error message', () => {\n        render(<ErrorModalContent error_message={error_message} />);\n        const error_description = screen.getByText(\n            /You have reached the rate limit of requests per second. Please try later./i\n        );\n        expect(error_description).toBeInTheDocument();\n    });\n\n    it('renders the error message', () => {\n        render(<ErrorModalContent error_message={error_message} />);\n        const error_description = screen.getByText(\n            /You have reached the rate limit of requests per second. Please try later./i\n        );\n        expect(error_description).toHaveClass('dc-text', 'da-icon-with-message__text__desc');\n    });\n\n    it('should renders the refresh button', () => {\n        render(<ErrorModalContent error_message={error_message} />);\n        const refresh_button = screen.getByText(/Refresh/i);\n        expect(refresh_button).toBeInTheDocument();\n    });\n\n    it('should reload the page when the Refresh button is clicked', () => {\n        render(<ErrorModalContent error_message={error_message} />);\n        const refresh_button = screen.getByRole('button', { name: /Refresh/i });\n        const reload_mock = jest.fn();\n        Object.defineProperty(window, 'location', {\n            value: { reload: reload_mock },\n            writable: true,\n        });\n        refresh_button.click();\n        expect(reload_mock).toHaveBeenCalled();\n    });\n});\n",
            "size_bytes": 2037
        },
        "src/components/page-error/__tests__/page-error.spec.tsx": {
            "content": "import React from 'react';\nimport { createMemoryHistory } from 'history';\nimport { Router } from 'react-router-dom';\nimport { useDevice } from '@deriv-com/ui';\nimport { render, screen } from '@testing-library/react';\nimport userEvent from '@testing-library/user-event';\nimport PageError from '../index';\n\njest.mock('@deriv-com/ui', () => ({\n    ...jest.requireActual('@deriv-com/ui'),\n    useDevice: jest.fn(() => {\n        return {\n            isMobile: false,\n        };\n    }),\n}));\n\ndescribe('<PageError/>', () => {\n    const renderWithRouter = (component: React.ReactElement) => {\n        const history = createMemoryHistory();\n        return render(\n            <Router location={history.location} navigator={history}>\n                {component}\n            </Router>\n        );\n    };\n\n    const mockSetError = jest.fn();\n    const mockButtonOnClick = jest.fn();\n\n    const pageErrorDefaultProps = {\n        header: 'Error',\n        messages: ['Test error message'],\n        redirect_labels: ['Go back'],\n        redirect_urls: ['/test'],\n        should_clear_error_on_click: true,\n        buttonOnClick: mockButtonOnClick,\n        setError: mockSetError,\n        should_redirect: true,\n    };\n\n    it('Should render the error message correctly', () => {\n        renderWithRouter(<PageError {...pageErrorDefaultProps} />);\n\n        expect(screen.getByText('Error')).toBeInTheDocument();\n        expect(screen.getByText('Test error message')).toBeInTheDocument();\n    });\n\n    it('Should call buttonOnClick() upon button click when should_redirect and should_clear_error_on_click equals to false', async () => {\n        const { buttonOnClick } = pageErrorDefaultProps;\n\n        render(\n            <PageError\n                {...pageErrorDefaultProps}\n                should_clear_error_on_click={false}\n                buttonOnClick={buttonOnClick}\n                should_redirect={false}\n            />\n        );\n\n        expect(screen.getByRole('button')).toHaveClass('dc-page-error__btn--no-redirect');\n        await userEvent.click(screen.getByRole('button'));\n        expect(buttonOnClick).toHaveBeenCalledTimes(1);\n    });\n\n    it('Should render the redirect button correctly', () => {\n        renderWithRouter(<PageError {...{ ...pageErrorDefaultProps, redirect_urls: ['/'] }} />);\n\n        const button = screen.getByText('Go back');\n        expect(button).toBeInTheDocument();\n    });\n\n    it('Should call setError() when redirect button gets clicked', async () => {\n        const { setError } = pageErrorDefaultProps;\n        renderWithRouter(<PageError {...pageErrorDefaultProps} />);\n\n        const link = screen.getByRole('link');\n\n        await userEvent.click(link);\n        expect(setError).toHaveBeenCalledTimes(1);\n    });\n\n    it('Should call setError() when redirect button gets clicked and should_redirect did not pass', async () => {\n        const { setError } = pageErrorDefaultProps;\n        renderWithRouter(<PageError {...pageErrorDefaultProps} should_redirect={undefined} />);\n\n        const link = screen.getByRole('link');\n\n        await userEvent.click(link);\n        expect(setError).toHaveBeenCalled();\n    });\n\n    it('Should call setError when button is clicked and should_clear_error_on_click is true', async () => {\n        renderWithRouter(<PageError {...pageErrorDefaultProps} />);\n\n        const button = screen.getByText('Go back');\n        await userEvent.click(button);\n\n        expect(mockSetError).toHaveBeenCalledWith(false, null);\n    });\n\n    it('Should not show the button when redirect equals to false and redirect_labels has nothing to display', () => {\n        const { buttonOnClick } = pageErrorDefaultProps;\n        renderWithRouter(\n            <PageError\n                {...{ ...pageErrorDefaultProps, redirect_labels: [''] }}\n                should_clear_error_on_click={false}\n                buttonOnClick={buttonOnClick}\n                should_redirect={false}\n            />\n        );\n\n        const page_error = screen.getByTestId('dc-page-error__btn-wrapper');\n\n        expect(page_error).toHaveTextContent('');\n    });\n\n    it('Should show on mobile version text size of the error equals to \"xs\" and not show the button when redirect equals to false and redirect_labels has one element in the array', () => {\n        const { buttonOnClick } = pageErrorDefaultProps;\n\n        (useDevice as jest.Mock).mockReturnValueOnce({\n            isMobile: true,\n        });\n\n        renderWithRouter(\n            <PageError\n                {...{ ...pageErrorDefaultProps, redirect_labels: ['Some redirect label'] }}\n                should_clear_error_on_click={false}\n                buttonOnClick={buttonOnClick}\n                should_redirect={false}\n            />\n        );\n\n        const redirect_label = screen.getByText('Some redirect label');\n\n        expect(redirect_label).toBeInTheDocument();\n        expect(redirect_label).toHaveStyle(`--text-size: var(--text-size-xs)`);\n    });\n\n    it('If image_url is passed we should render the image', () => {\n        renderWithRouter(<PageError {...pageErrorDefaultProps} image_url={'test-image-url.png'} />);\n\n        const image = screen.getByAltText('404');\n\n        expect(image).toBeInTheDocument();\n        expect(image).toHaveAttribute('src', 'test-image-url.png');\n    });\n\n    it('Should show on mobile version text size of the error heading equals to \"s\" when image_url is passed ', () => {\n        (useDevice as jest.Mock).mockReturnValueOnce({\n            isMobile: true,\n        });\n\n        renderWithRouter(<PageError {...pageErrorDefaultProps} image_url={'test-image-url.png'} />);\n\n        const heading = screen.getByRole('heading', { level: 3 });\n\n        expect(heading).toBeInTheDocument();\n        expect(heading).toHaveStyle('--text-size: var(--text-size-s)');\n    });\n});\n",
            "size_bytes": 5812
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Tick Analysis/ohlc.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { config } from '../../../../constants/config';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.ohlc = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Candles List with interval here 2: {{ candle_interval_type }}', {\n                candle_interval_type: '%1',\n            }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'CANDLEINTERVAL_LIST',\n                    options: config().candleIntervals,\n                },\n            ],\n            output: 'Array',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block gives you a list of candles within a selected time interval.'),\n            category: window.Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Get candle list'),\n            description: localize('This block gives you a list of candles within a selected time interval.'),\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.ohlc = block => {\n    const selectedGranularity = block.getFieldValue('CANDLEINTERVAL_LIST');\n    const granularity = selectedGranularity === 'default' ? 'undefined' : selectedGranularity;\n\n    const code = `Bot.getOhlc({ granularity: ${granularity} })`;\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC];\n};\n",
            "size_bytes": 1825
        },
        "src/components/shared_ui/contract-card/index.ts": {
            "content": "import ContractCard from './contract-card';\nimport './contract-card.scss';\n\nexport default ContractCard;\n",
            "size_bytes": 105
        },
        "src/components/shared/constants/form-error-messages.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { address_permitted_special_characters_message } from '../utils/validation';\n\nexport const FORM_ERROR_MESSAGES = () => ({\n    empty_address: () => localize('This field is required'),\n    empty_barrier: () => localize('Barrier is a required field.'),\n    address: () =>\n        localize('Use only the following special characters: {{permitted_characters}}', {\n            permitted_characters: address_permitted_special_characters_message,\n            interpolation: { escapeValue: false },\n        }),\n    barrier: () =>\n        localize('Only numbers and these special characters are allowed: {{permitted_characters}}', {\n            permitted_characters: '+ - .',\n        }),\n    email: () => localize('Invalid email address.'),\n    general: () => localize('Only letters, numbers, space, hyphen, period, and apostrophe are allowed.'),\n    name: () => localize('Letters, spaces, periods, hyphens, apostrophes only.'),\n    password: () => localize('Password should have lower and uppercase English letters with numbers.'),\n    po_box: () => localize('P.O. Box is not accepted in address'),\n    phone: () => localize('Please enter a valid phone number (e.g. +15417541234).'),\n    postcode: () => localize('Only letters, numbers, space and hyphen are allowed.'),\n    signup_token: () => localize('The length of token should be 8.'),\n    tax_id: () => localize('Should start with letter or number, and may contain hyphen and underscore.'),\n    number: () => localize('Should be a valid number.'),\n    decimalPlaces: decimals =>\n        localize('Up to {{decimal_count}} decimal places are allowed.', { decimal_count: decimals }),\n    value: value => localize('Should be {{value}}', { value }),\n    betweenMinMax: (min_value, max_value) =>\n        localize('Should be between {{min_value}} and {{max_value}}', {\n            min_value,\n            max_value,\n        }),\n    minNumber: min_value => localize('Should be more than {{min_value}}', { min_value }),\n    maxNumber: max_value => localize('Should be less than {{max_value}}', { max_value }),\n    // all existing warning phrases from zxcvbn\n    password_warnings: {\n        use_a_few_words: () => localize('Use a few words, avoid common phrases'),\n        no_need_for_mixed_chars: () => localize('No need for symbols, digits, or uppercase letters'),\n        uncommon_words_are_better: () => localize('Add another word or two. Uncommon words are better.'),\n        straight_rows_of_keys_are_easy: () => localize('Straight rows of keys are easy to guess'),\n        short_keyboard_patterns_are_easy: () => localize('Short keyboard patterns are easy to guess'),\n        use_longer_keyboard_patterns: () => localize('Use a longer keyboard pattern with more turns'),\n        repeated_chars_are_easy: () => localize('Repeats like \"aaa\" are easy to guess'),\n        repeated_patterns_are_easy: () =>\n            localize('Repeats like \"abcabcabc\" are only slightly harder to guess than \"abc\"'),\n        avoid_repeated_chars: () => localize('Avoid repeated words and characters'),\n        sequences_are_easy: () => localize('Sequences like abc or 6543 are easy to guess'),\n        avoid_sequences: () => localize('Avoid sequences'),\n        recent_years_are_easy: () => localize('Recent years are easy to guess'),\n        avoid_recent_years: () => localize('Avoid recent years'),\n        avoid_associated_years: () => localize('Avoid years that are associated with you'),\n        dates_are_easy: () => localize('Dates are often easy to guess'),\n        avoid_associated_dates_and_years: () => localize('Avoid dates and years that are associated with you'),\n        top10_common_password: () => localize('This is a top-10 common password'),\n        top100_common_password: () => localize('This is a top-100 common password'),\n        very_common_password: () => localize('This is a very common password'),\n        similar_to_common_password: () => localize('This is similar to a commonly used password'),\n        a_word_is_easy: () => localize('A word by itself is easy to guess'),\n        names_are_easy: () => localize('Names and surnames by themselves are easy to guess'),\n        common_names_are_easy: () => localize('Common names and surnames are easy to guess'),\n        capitalization_doesnt_help: () => localize(\"Capitalization doesn't help very much\"),\n        all_uppercase_doesnt_help: () => localize('All-uppercase is almost as easy to guess as all-lowercase'),\n        reverse_doesnt_help: () => localize(\"Reversed words aren't much harder to guess\"),\n        substitution_doesnt_help: () =>\n            localize(\"Predictable substitutions like '@' instead of 'a' don't help very much\"),\n        user_dictionary: () => localize('This password is on the blacklist'),\n    },\n});\n",
            "size_bytes": 4793
        },
        "src/external/bot-skeleton/utils/index.js": {
            "content": "export { setColors } from '../scratch/hooks/colours';\nexport { getContractTypeName } from './contract';\nexport { timeSince } from './date-time-helper';\nexport { createError, trackAndEmitError } from './error';\nexport { handleError, initErrorHandlingListener, removeErrorHandlingEventListener } from './error-handling';\nexport { importExternal } from './html-helper';\nexport {\n    convertStrategyToIsDbot,\n    getSavedWorkspaces,\n    removeExistingWorkspace,\n    saveWorkspaceToRecent,\n} from './local-storage';\nexport { observer } from './observer';\nexport { compareXml, extractBlocksFromXml, pipe, sortBlockChild } from './strategy-helper';\nexport { onWorkspaceResize } from './workspace';\n",
            "size_bytes": 691
        },
        "src/external/bot-skeleton/scratch/blocks/Math/math_arithmetic.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../utils';\n\nwindow.Blockly.Blocks.math_arithmetic = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2 %3',\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'A',\n                    check: 'Number',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'OP',\n                    options: [\n                        ['+', 'ADD'],\n                        ['-', 'MINUS'],\n                        ['*', 'MULTIPLY'],\n                        ['/', 'DIVIDE'],\n                        ['^', 'POWER'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'B',\n                    check: 'Number',\n                },\n            ],\n            output: 'Number',\n            inputsInline: true,\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block performs arithmetic operations between two numbers.'),\n            category: window.Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Arithmetical operations'),\n            description: localize('This block performs arithmetic operations between two numbers.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            A: null,\n            B: null,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.math_arithmetic = block => {\n    const operators = {\n        ADD: ['+', window.Blockly.JavaScript.javascriptGenerator.ORDER_ADDITION],\n        MINUS: ['-', window.Blockly.JavaScript.javascriptGenerator.ORDER_SUBTRACTION],\n        MULTIPLY: ['*', window.Blockly.JavaScript.javascriptGenerator.ORDER_MULTIPLICATION],\n        DIVIDE: ['/', window.Blockly.JavaScript.javascriptGenerator.ORDER_DIVISION],\n        POWER: [null, window.Blockly.JavaScript.javascriptGenerator.ORDER_COMMA], // Handle power separately.\n    };\n\n    const tuple = operators[block.getFieldValue('OP')];\n    const operator = tuple[0];\n    const order = tuple[1];\n\n    const argument0 = window.Blockly.JavaScript.javascriptGenerator.valueToCode(block, 'A', order) || '0';\n    const argument1 = window.Blockly.JavaScript.javascriptGenerator.valueToCode(block, 'B', order) || '0';\n\n    let code;\n\n    // Power in JavaScript requires a special case since it has no operator.\n    if (!operator) {\n        code = `Math.pow(${argument0}, ${argument1})`;\n        return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_FUNCTION_CALL];\n    }\n\n    code = `${argument0} ${operator} ${argument1}`;\n    return [code, order];\n};\n",
            "size_bytes": 3118
        },
        "analysis-tool/Benanalysistool-final-main/components/tabs/matches-tab.tsx": {
            "content": "\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport type { Signal, AnalysisResult } from \"@/lib/analysis-engine\"\n\ninterface MatchesTabProps {\n  analysis: AnalysisResult | null\n  signals: Signal[]\n  recentDigits: number[]\n  theme?: \"light\" | \"dark\"\n}\n\nexport function MatchesTab({ analysis, signals, recentDigits, theme = \"dark\" }: MatchesTabProps) {\n  const [isScanning, setIsScanning] = useState(false)\n  const [countdown, setCountdown] = useState(0)\n  const [scanResult, setScanResult] = useState<{ digit: number; accuracy: \"high\" | \"medium\" } | null>(null)\n  const matchesSignal = signals?.find((s) => s.type === \"matches\")\n\n  useEffect(() => {\n    if (countdown > 0) {\n      const timer = setTimeout(() => setCountdown(countdown - 1), 1000)\n      return () => clearTimeout(timer)\n    }\n  }, [countdown])\n\n  if (!analysis) {\n    return (\n      <div className=\"text-center py-16\">\n        <p className={theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}>Loading analysis...</p>\n      </div>\n    )\n  }\n\n  const sorted = [...analysis.digitFrequencies].sort((a, b) => b.count - a.count)\n  const top3 = sorted.slice(0, 3)\n  const mostAppearing = top3[0]\n\n  const handleScan = () => {\n    setIsScanning(true)\n    setCountdown(12)\n    setScanResult(null)\n\n    setTimeout(() => {\n      const last12 = recentDigits.slice(-12)\n      const counts = new Map<number, number>()\n      last12.forEach((d) => counts.set(d, (counts.get(d) || 0) + 1))\n      const scannedMost = Array.from(counts.entries()).sort((a, b) => b[1] - a[1])[0]\n\n      if (scannedMost && scannedMost[0] === mostAppearing.digit) {\n        setScanResult({ digit: scannedMost[0], accuracy: \"high\" })\n      } else {\n        setScanResult({ digit: scannedMost?.[0] || 0, accuracy: \"medium\" })\n      }\n      setIsScanning(false)\n      setCountdown(0)\n    }, 12000)\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div\n        className={`rounded-xl p-8 border ${\n          theme === \"dark\"\n            ? \"bg-gradient-to-br from-[#0f1629]/80 to-[#1a2235]/80 border-blue-500/20 shadow-[0_0_30px_rgba(59,130,246,0.2)]\"\n            : \"bg-white border-gray-200 shadow-lg\"\n        }`}\n      >\n        <h2 className={`text-3xl font-bold mb-6 text-center ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}>\n          Matches Analysis\n        </h2>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n          {top3.map((freq, index) => (\n            <div\n              key={freq.digit}\n              className={`text-center rounded-lg p-6 border ${\n                index === 0\n                  ? theme === \"dark\"\n                    ? \"bg-green-500/10 border-green-500/30 shadow-[0_0_15px_rgba(34,197,94,0.3)]\"\n                    : \"bg-green-50 border-green-200\"\n                  : index === 1\n                    ? theme === \"dark\"\n                      ? \"bg-yellow-500/10 border-yellow-500/30\"\n                      : \"bg-yellow-50 border-yellow-200\"\n                    : theme === \"dark\"\n                      ? \"bg-orange-500/10 border-orange-500/30\"\n                      : \"bg-orange-50 border-orange-200\"\n              }`}\n            >\n              <div className={`text-sm mb-2 ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>\n                {index === 0 ? \"Most Appearing\" : index === 1 ? \"2nd Most\" : \"3rd Most\"}\n              </div>\n              <div\n                className={`text-6xl font-bold mb-2 ${\n                  index === 0\n                    ? theme === \"dark\"\n                      ? \"text-green-400\"\n                      : \"text-green-600\"\n                    : index === 1\n                      ? theme === \"dark\"\n                        ? \"text-yellow-400\"\n                        : \"text-yellow-600\"\n                      : theme === \"dark\"\n                        ? \"text-orange-400\"\n                        : \"text-orange-600\"\n                }`}\n              >\n                {freq.digit}\n              </div>\n              <div\n                className={`text-xl font-bold ${\n                  index === 0\n                    ? theme === \"dark\"\n                      ? \"text-green-400\"\n                      : \"text-green-600\"\n                    : index === 1\n                      ? theme === \"dark\"\n                        ? \"text-yellow-400\"\n                        : \"text-yellow-600\"\n                      : theme === \"dark\"\n                        ? \"text-orange-400\"\n                        : \"text-orange-600\"\n                }`}\n              >\n                {freq.percentage.toFixed(1)}%\n              </div>\n              <div className={`text-sm mt-2 ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>\n                Appeared {freq.count} times\n              </div>\n            </div>\n          ))}\n        </div>\n\n        <div\n          className={`rounded-xl p-6 border ${\n            theme === \"dark\"\n              ? \"bg-blue-500/10 border-blue-500/30 shadow-[0_0_15px_rgba(59,130,246,0.2)]\"\n              : \"bg-blue-50 border-blue-200\"\n          }`}\n        >\n          <h3 className={`text-lg font-bold mb-4 text-center ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}>\n            Scan Digit Feature\n          </h3>\n          <div className=\"text-center mb-4\">\n            <div className={`text-sm ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>\n              Digit to Match: <span className=\"font-bold text-lg\">{mostAppearing.digit}</span> (appeared{\" \"}\n              {mostAppearing.count} times, {mostAppearing.percentage.toFixed(1)}%)\n            </div>\n          </div>\n\n          <div className=\"text-center\">\n            <Button\n              onClick={handleScan}\n              disabled={isScanning}\n              size=\"lg\"\n              className=\"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-8 py-6 text-lg\"\n            >\n              {isScanning ? `Scanning... ${countdown}s` : \"Scan Last 12 Ticks\"}\n            </Button>\n          </div>\n\n          {scanResult && (\n            <div\n              className={`mt-6 p-6 rounded-lg text-center ${\n                scanResult.accuracy === \"high\"\n                  ? theme === \"dark\"\n                    ? \"bg-green-500/20 border border-green-500/30\"\n                    : \"bg-green-100 border border-green-300\"\n                  : theme === \"dark\"\n                    ? \"bg-yellow-500/20 border border-yellow-500/30\"\n                    : \"bg-yellow-100 border border-yellow-300\"\n              }`}\n            >\n              <div\n                className={`text-2xl font-bold mb-2 ${\n                  scanResult.accuracy === \"high\"\n                    ? theme === \"dark\"\n                      ? \"text-green-400\"\n                      : \"text-green-600\"\n                    : theme === \"dark\"\n                      ? \"text-yellow-400\"\n                      : \"text-yellow-600\"\n                }`}\n              >\n                {scanResult.accuracy === \"high\" ? \"HIGH ACCURACY SIGNAL\" : \"MEDIUM SIGNAL\"}\n              </div>\n              <div className={`text-lg ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}>\n                Scanned digit: <span className=\"font-bold text-2xl\">{scanResult.digit}</span>\n                {scanResult.accuracy === \"high\" ? \" - Matches most appearing digit!\" : \" - Does not match perfectly\"}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n",
            "size_bytes": 7487
        },
        "src/pages/dashboard/announcements/announcement-dialog.tsx": {
            "content": "import React from 'react';\nimport Dialog from '@/components/shared_ui/dialog';\nimport Text from '@/components/shared_ui/text';\nimport { LabelPairedCheckCaptionFillIcon } from '@deriv/quill-icons';\nimport { rudderStackSendCloseEvent } from '../../../analytics/rudderstack-common-events';\nimport { IconAnnounceModal } from './announcement-components';\nimport { TAnnounce, TContentItem } from './config';\nimport './announcement-dialog.scss';\n\ntype TAccumulatorAnnouncementDialog = {\n    announcement: TAnnounce;\n    is_announce_dialog_open: boolean;\n    setIsAnnounceDialogOpen: (is_announce_dialog_open: boolean) => void;\n    handleOnConfirm: () => void;\n    handleOnCancel: (() => void) | null;\n    is_tablet?: boolean;\n    unordered_list?: TContentItem[];\n    media?: string[];\n};\n\nconst AnnouncementDialog = ({\n    announcement,\n    handleOnConfirm,\n    handleOnCancel,\n    is_announce_dialog_open,\n    setIsAnnounceDialogOpen,\n    is_tablet,\n}: TAccumulatorAnnouncementDialog) => {\n    const {\n        id,\n        main_title,\n        confirm_button_text,\n        cancel_button_text,\n        base_classname,\n        title,\n        content,\n        numbered_content,\n        plain_text,\n        unordered_list,\n        media,\n    } = announcement;\n    return (\n        <Dialog\n            portal_element_id='modal_root'\n            title={main_title}\n            is_visible={is_announce_dialog_open}\n            confirm_button_text={confirm_button_text}\n            onConfirm={handleOnConfirm}\n            cancel_button_text={cancel_button_text}\n            onCancel={handleOnCancel}\n            is_mobile_full_width\n            has_close_icon\n            onClose={() => {\n                setIsAnnounceDialogOpen(false);\n                rudderStackSendCloseEvent({\n                    subform_name: 'announcements',\n                    announcement_name: main_title,\n                });\n            }}\n            className={is_tablet ? `${base_classname} ${base_classname}--tablet` : base_classname}\n        >\n            <div className={`${base_classname}__body-text`}>\n                <div className={`${base_classname}__body-icon--${id.toLowerCase()}`}>\n                    <IconAnnounceModal announce_id={id} />\n                </div>\n                {Array.isArray(media) && (\n                    <>\n                        {media.map((src, index) => (\n                            <img className={`${base_classname}__image`} key={index} src={src} alt={src} />\n                        ))}\n                    </>\n                )}\n                <div className={`${base_classname}__body-main-content`}>\n                    <Text as='p' size='xs' className={`${base_classname}__title--${id.toLowerCase()}`}>\n                        {title}\n                    </Text>\n                    {Array.isArray(content) &&\n                        content.map((content_item: TContentItem) => {\n                            return (\n                                <div className={`${base_classname}__body-item`} key={content_item?.id}>\n                                    <div>\n                                        <LabelPairedCheckCaptionFillIcon fill='var(--icon-black-plus)' />\n                                    </div>\n                                    <Text as='p' lineHeight='l' size='xs'>\n                                        {content_item?.text}\n                                    </Text>\n                                </div>\n                            );\n                        })}\n                    {Array.isArray(unordered_list) && (\n                        <ul className={`${base_classname}__unordered_list`} key={0}>\n                            {unordered_list.map((content_item: TContentItem) => (\n                                <li key={content_item?.id}>\n                                    <Text as='div' lineHeight='l' size='xs'>\n                                        {content_item?.text}\n                                    </Text>\n                                </li>\n                            ))}\n                        </ul>\n                    )}\n                    {Array.isArray(numbered_content) && (\n                        <ol className={`${base_classname}__body-item--numbered`}>\n                            {numbered_content.map((content: TContentItem) => (\n                                <Text\n                                    as='li'\n                                    lineHeight='xl'\n                                    size='xs'\n                                    key={content?.id}\n                                    styles={{ listStyle: 'auto' }}\n                                >\n                                    {content?.text}\n                                </Text>\n                            ))}\n                        </ol>\n                    )}\n                    {Array.isArray(plain_text) && (\n                        <div>\n                            {plain_text.map((plain_text_item: TContentItem) => (\n                                <span key={plain_text_item?.id}>\n                                    <Text\n                                        lineHeight='m'\n                                        size='xs'\n                                        key={plain_text_item.id}\n                                        styles={{ listStyle: 'auto' }}\n                                    >\n                                        {plain_text_item.text}\n                                    </Text>\n                                </span>\n                            ))}\n                        </div>\n                    )}\n                </div>\n            </div>\n        </Dialog>\n    );\n};\n\nexport default AnnouncementDialog;\n",
            "size_bytes": 5708
        },
        "src/components/shared_ui/tabs/tabs.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { useConstructor } from '@/hooks/useConstructor';\nimport ThemedScrollbars from '../themed-scrollbars/themed-scrollbars';\nimport Tab from './tab';\nimport './tabs.scss';\n\ndeclare module 'react' {\n    interface HTMLAttributes<T> extends React.AriaAttributes, React.DOMAttributes<T> {\n        label?: React.ReactNode;\n        hash?: string;\n    }\n}\n\ntype TTabsProps = {\n    active_icon_color?: string;\n    active_index?: number;\n    background_color?: string;\n    bottom?: boolean;\n    center?: boolean;\n    children: (React.ReactElement | null)[];\n    className?: string;\n    fit_content?: boolean;\n    has_active_line?: boolean;\n    has_bottom_line?: boolean;\n    header_fit_content?: boolean;\n    history: History;\n    icon_color?: string;\n    icon_size?: number;\n    is_100vw?: boolean;\n    is_full_width?: boolean;\n    is_overflow_hidden?: boolean;\n    is_scrollable?: boolean;\n    onTabItemClick?: (active_tab_index: number) => void;\n    should_update_hash?: boolean;\n    single_tab_has_no_label?: boolean;\n    top: boolean;\n};\n\nconst Tabs = ({\n    active_icon_color = '',\n    active_index = 0,\n    background_color = '',\n    bottom = false,\n    center = false,\n    children,\n    className = '',\n    fit_content = false,\n    has_active_line = true,\n    has_bottom_line = true,\n    header_fit_content = false,\n    history,\n    icon_color = '',\n    icon_size = 0,\n    is_100vw = false,\n    is_full_width = false,\n    is_overflow_hidden = false,\n    is_scrollable = false,\n    onTabItemClick,\n    should_update_hash = false,\n    single_tab_has_no_label = false,\n    top,\n}: TTabsProps) => {\n    const [active_line_style, updateActiveLineStyle] = React.useState({});\n    const active_tab_ref = React.useRef<HTMLLIElement>(null);\n    const tabs_wrapper_ref = React.useRef<HTMLUListElement>(null);\n    const pushHash = (hash: string) => {\n        history.replace(`${history.location.pathname}${window.location.search}#${hash}`);\n    };\n\n    const setActiveLineStyle = React.useCallback(() => {\n        const tabs_wrapper_bounds = tabs_wrapper_ref?.current?.getBoundingClientRect();\n        const active_tab_bounds = active_tab_ref?.current?.getBoundingClientRect();\n        if (tabs_wrapper_bounds && active_tab_bounds) {\n            updateActiveLineStyle({\n                left: active_tab_bounds.left - tabs_wrapper_bounds.left,\n                width: active_tab_bounds.width,\n            });\n        } else {\n            setTimeout(() => {\n                setActiveLineStyle();\n            }, 500);\n        }\n    }, []);\n\n    let initial_index_to_show = 0;\n    let tab_width: string;\n\n    useConstructor(() => {\n        initial_index_to_show = active_index;\n        if (should_update_hash) {\n            // if hash is in url, find which tab index correlates to it\n            const hash = location.hash.slice(1);\n            const hash_index = children.findIndex(child => child && child.props && child.props.hash === hash);\n            const has_hash = hash_index > -1;\n\n            if (has_hash) {\n                initial_index_to_show = hash_index;\n            } else {\n                // if no hash is in url but component has passed hash prop, set hash of the tab shown\n                const child_props = children[initial_index_to_show]?.props;\n                const current_id = child_props && child_props.hash;\n                if (current_id) {\n                    pushHash(current_id);\n                }\n            }\n        }\n        setActiveLineStyle();\n    });\n\n    const [active_tab_index, setActiveTabIndex] = React.useState(initial_index_to_show);\n\n    React.useEffect(() => {\n        if (active_tab_index >= 0 && active_index !== active_tab_index) {\n            onTabItemClick?.(active_tab_index);\n        }\n        setActiveLineStyle();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [active_tab_index, setActiveLineStyle]);\n\n    React.useEffect(() => {\n        if (active_index >= 0 && active_index !== active_tab_index) {\n            setActiveTabIndex(active_index);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [active_index]);\n\n    const onClickTabItem = (index: number) => {\n        if (should_update_hash) {\n            const hash = children[index]?.props['data-hash'];\n            pushHash(hash);\n        }\n        setActiveTabIndex(index);\n        setActiveLineStyle();\n    };\n\n    const valid_children = children.filter(child => child);\n\n    if (is_scrollable) {\n        tab_width = 'unset';\n    } else {\n        tab_width = fit_content ? '150px' : `${(100 / valid_children.length).toFixed(2)}%`;\n    }\n\n    return (\n        <div\n            className={classNames('dc-tabs', {\n                [`dc-tabs--${className}`]: className,\n                'dc-tabs--top': top,\n                'dc-tabs--100vw': is_100vw,\n            })}\n            style={{ '--tab-width': `${tab_width}`, background: background_color } as React.CSSProperties}\n        >\n            <div className={classNames({ [`dc-tabs__list--header--${className}`]: className })}>\n                <ul\n                    className={classNames('dc-tabs__list', {\n                        'dc-tabs__list--top': top,\n                        'dc-tabs__list--border-bottom': has_bottom_line,\n                        'dc-tabs__list--bottom': bottom,\n                        'dc-tabs__list--center': center,\n                        'dc-tabs__list--header-fit-content': header_fit_content,\n                        'dc-tabs__list--full-width': is_full_width,\n                        [`dc-tabs__list--${className}`]: className,\n                        'dc-tabs__list--overflow-hidden': is_overflow_hidden,\n                    })}\n                    ref={tabs_wrapper_ref}\n                >\n                    <ThemedScrollbars\n                        className='dc-themed-scrollbars-wrapper'\n                        is_only_horizontal\n                        is_scrollbar_hidden\n                        is_bypassed={!is_scrollable}\n                    >\n                        {React.Children.map(children, (child, index) => {\n                            if (!child) return null;\n                            const { icon, label, id } = child.props;\n                            const header_content = child.props['data-header-content'];\n                            const count = child.props['data-count'];\n                            return (\n                                <Tab\n                                    active_icon_color={active_icon_color}\n                                    className={className}\n                                    count={count}\n                                    icon={icon}\n                                    icon_color={icon_color}\n                                    icon_size={icon_size}\n                                    is_active={index === active_tab_index}\n                                    key={label}\n                                    is_label_hidden={children.length === 1 && single_tab_has_no_label}\n                                    label={label}\n                                    id={id}\n                                    is_scrollable={is_scrollable}\n                                    top={top}\n                                    bottom={bottom}\n                                    header_fit_content={header_fit_content}\n                                    active_tab_ref={index === active_tab_index ? active_tab_ref : null}\n                                    header_content={header_content}\n                                    onClick={() => onClickTabItem(index)}\n                                    setActiveLineStyle={setActiveLineStyle}\n                                />\n                            );\n                        })}\n                        {has_active_line && !is_scrollable && (\n                            <span\n                                className={classNames('dc-tabs__active-line', {\n                                    'dc-tabs__active-line--top': top,\n                                    'dc-tabs__active-line--bottom': bottom,\n                                    'dc-tabs__active-line--fit-content': fit_content,\n                                    'dc-tabs__active-line--header-fit-content': header_fit_content,\n                                    'dc-tabs__active-line--is-hidden': children.length === 1 && single_tab_has_no_label,\n                                })}\n                                style={active_line_style}\n                            />\n                        )}\n                    </ThemedScrollbars>\n                </ul>\n            </div>\n            <div\n                className={classNames('dc-tabs__content', {\n                    [`dc-tabs__content--${className}`]: className,\n                })}\n            >\n                {React.Children.map(children, (child, index) => {\n                    if (!child) return null;\n                    if (index !== active_tab_index) {\n                        return undefined;\n                    }\n                    return child.props.children;\n                })}\n            </div>\n        </div>\n    );\n};\n\nexport default Tabs;\n",
            "size_bytes": 9219
        },
        "src/components/chat/useIsLiveChatWidgetAvailable.ts": {
            "content": "import { useEffect, useState } from 'react';\n\nconst useIsLiveChatWidgetAvailable = () => {\n    const [is_livechat_available, setIsLivechatAvailable] = useState(false);\n\n    useEffect(() => {\n        window.LiveChatWidget?.on('ready', data => {\n            if (data.state.availability === 'online') setIsLivechatAvailable(true);\n        });\n    }, []);\n\n    return {\n        is_livechat_available,\n    };\n};\n\nexport default useIsLiveChatWidgetAvailable;\n",
            "size_bytes": 453
        },
        "src/external/bot-skeleton/utils/local-storage.js": {
            "content": "import localForage from 'localforage';\nimport LZString from 'lz-string';\nimport { config } from '../constants';\nimport { save_types } from '../constants/save-type';\nimport DBotStore from '../scratch/dbot-store';\n\n/**\n * Save workspace to localStorage\n * @param {String} save_type // constants/save_types.js (unsaved, local, googledrive)\n * @param {window.Blockly.Events} event // Blockly event object\n */\nexport const saveWorkspaceToRecent = async (xml, save_type = save_types.UNSAVED) => {\n    const xml_dom = convertStrategyToIsDbot(xml);\n    // Ensure strategies don't go through expensive conversion.\n    xml.setAttribute('is_dbot', true);\n    const {\n        load_modal: { updateListStrategies },\n        save_modal,\n    } = DBotStore.instance;\n\n    const workspace_id = window.Blockly.derivWorkspace.current_strategy_id || window.Blockly.utils.idGenerator.genUid();\n    const workspaces = await getSavedWorkspaces();\n    const current_xml = Blockly.Xml.domToText(xml_dom);\n    const current_timestamp = Date.now();\n    const current_workspace_index = workspaces.findIndex(workspace => workspace.id === workspace_id);\n\n    if (current_workspace_index >= 0) {\n        const current_workspace = workspaces[current_workspace_index];\n        current_workspace.xml = current_xml;\n        current_workspace.name = save_modal.bot_name;\n        current_workspace.timestamp = current_timestamp;\n        current_workspace.save_type = save_type;\n    } else {\n        workspaces.push({\n            id: workspace_id,\n            timestamp: current_timestamp,\n            name: save_modal.bot_name || config().default_file_name,\n            xml: current_xml,\n            save_type,\n        });\n    }\n\n    workspaces\n        .sort((a, b) => {\n            return new Date(a.timestamp) - new Date(b.timestamp);\n        })\n        .reverse();\n\n    if (workspaces.length > 10) {\n        workspaces.pop();\n    }\n    updateListStrategies(workspaces);\n    localForage.setItem('saved_workspaces', LZString.compress(JSON.stringify(workspaces)));\n};\n\nexport const getSavedWorkspaces = async () => {\n    try {\n        return JSON.parse(LZString.decompress(await localForage.getItem('saved_workspaces'))) || [];\n    } catch (e) {\n        return [];\n    }\n};\n\nexport const removeExistingWorkspace = async workspace_id => {\n    const workspaces = await getSavedWorkspaces();\n    const current_workspace_index = workspaces.findIndex(workspace => workspace.id === workspace_id);\n\n    if (current_workspace_index >= 0) {\n        workspaces.splice(current_workspace_index, 1);\n    }\n\n    await localForage.setItem('saved_workspaces', LZString.compress(JSON.stringify(workspaces)));\n};\n\nexport const convertStrategyToIsDbot = xml_dom => {\n    if (!xml_dom) return;\n    if (xml_dom.hasAttribute('collection') && xml_dom.getAttribute('collection') === 'true') {\n        xml_dom.setAttribute('collection', 'true');\n    }\n    xml_dom.setAttribute('is_dbot', 'true');\n    return xml_dom;\n};\n",
            "size_bytes": 2957
        },
        "src/components/shared/loaders/deriv-cfd-loader.js": {
            "content": "const resolve = require('path').resolve;\nconst existsSync = require('fs').existsSync;\n/* Using this loader you can import components from @deriv/cfd without having to manually\nimport the corresponding stylesheet. The deriv-account-loader will automatically import\nstylesheets.\n    import { CFDStore } from '@deriv/cfd';\n      \n    import CFDStore from '@deriv/cfd/dist/js/CFDStore';\n*/\n\nfunction checkExists(component) {\n    return existsSync(resolve(__dirname, '../../../cfd/src/Components/', component, `${component}.scss`));\n}\n\nmodule.exports = function (source, map) {\n    const lines = source.split(/\\n/);\n    const mapped_lines = lines.map(line => {\n        const matches = /\\s*import\\s+\\{(.*)\\}\\s*from\\s+\\'@deriv\\/cfd/.exec(line); // eslint-disable-line no-useless-escape\n        if (!matches || !matches[1]) {\n            return line; // do nothing;\n        }\n        const components = matches[1]\n            .replace(/\\sas\\s\\w+/, '') // Remove aliasing from imports.\n            .replace(/\\s+/g, '')\n            .split(',');\n        const replace = components\n            .map(\n                c => `\nimport ${c} from '@deriv/cfd/dist/cfd/js/${c}';\n${checkExists(c) ? `import '@deriv/cfd/dist/cfd/css/${c}.css';` : ''}\n        `\n            )\n            .join('\\n');\n\n        return replace;\n    });\n\n    return this.callback(null, mapped_lines.join('\\n'), map);\n};\n",
            "size_bytes": 1386
        },
        "src/external/bot-skeleton/services/tradeEngine/Interface/ToolsInterface.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport getCandleInterface from './CandleInterface';\nimport getIndicatorsInterface from './IndicatorsInterface';\nimport getMiscInterface from './MiscInterface';\n\nconst getToolsInterface = tradeEngine => {\n    return {\n        dateTimeStringToTimestamp: datetime_string => {\n            const invalid_msg = localize('Invalid date/time: {{ datetime_string }}', { datetime_string });\n\n            if (typeof datetime_string !== 'string') {\n                return invalid_msg;\n            }\n\n            const date_time = datetime_string\n                .replace(/[^0-9.:-\\s]/g, '')\n                .replace(/\\s+/g, ' ')\n                .trim()\n                .split(' ');\n\n            const d = /^[12]\\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01])$/;\n            const t = /^(0[0-9]|1[0-9]|2[0-3]):([0-5][0-9])(:([0-5][0-9])?)?$/;\n\n            let validated_datetime;\n\n            if (date_time.length >= 2) {\n                validated_datetime =\n                    d.test(date_time[0]) && t.test(date_time[1]) ? `${date_time[0]}T${date_time[1]}` : null;\n            } else if (date_time.length === 1) {\n                validated_datetime = d.test(date_time[0]) ? date_time[0] : null;\n            } else {\n                validated_datetime = null;\n            }\n\n            if (validated_datetime) {\n                const date_obj = new Date(validated_datetime);\n                // eslint-disable-next-line no-restricted-globals\n                if (date_obj instanceof Date && !isNaN(date_obj)) {\n                    return date_obj.getTime() / 1000;\n                }\n            }\n\n            return invalid_msg;\n        },\n        getTime: () => parseInt(new Date().getTime() / 1000),\n        ...getCandleInterface(),\n        ...getMiscInterface(tradeEngine),\n        ...getIndicatorsInterface(tradeEngine),\n\n        // Highlight the block that is being executed\n        highlightBlock: block_id => {\n            const block = window.Blockly.derivWorkspace.getBlockById(block_id);\n            window.Blockly.BlockSvg.prototype.highlightExecutedBlock = function () {\n                const highlight_block_class = 'block--execution-highlighted';\n                if (!window.Blockly.utils.dom.hasClass(this.svgGroup_, highlight_block_class)) {\n                    window.Blockly.utils.dom.addClass(this.svgGroup_, highlight_block_class);\n                    setTimeout(() => {\n                        if (this.svgGroup_) {\n                            window.Blockly.utils.dom.removeClass(this.svgGroup_, highlight_block_class);\n                        }\n                    }, 1505);\n                }\n            };\n            if (block) {\n                block.highlightExecutedBlock(block);\n            }\n        },\n    };\n};\n\nexport default getToolsInterface;\n",
            "size_bytes": 2815
        },
        "src/components/shared/utils/constants/error.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport const getDefaultError = () => ({\n    header: localize('Sorry for the interruption'),\n    description: localize('Our servers hit a bump. Lets refresh to move on.'),\n    cta_label: localize('Refresh'),\n});\n\nexport const getAuthError = () => ({\n    header: localize('The token is invalid'),\n    description: localize('Please log in'),\n    cta_label: localize('Log in'),\n});\n\nexport const STATUS_CODES = Object.freeze({\n    NONE: 'none',\n    PENDING: 'pending',\n    REJECTED: 'rejected',\n    VERIFIED: 'verified',\n    EXPIRED: 'expired',\n    SUSPECTED: 'suspected',\n});\n",
            "size_bytes": 629
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Tick Analysis/readOhlc.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { config } from '../../../../constants/config';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.read_ohlc = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('In candles list read {{ candle_property }} # from end {{ input_number }}', {\n                candle_property: '%1',\n                input_number: '%2',\n            }),\n            message1: localize('with interval: %1'),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'OHLCFIELD_LIST',\n                    options: config().ohlcFields,\n                },\n                {\n                    type: 'input_value',\n                    name: 'CANDLEINDEX',\n                    check: 'Number',\n                },\n            ],\n            args1: [\n                {\n                    type: 'field_dropdown',\n                    name: 'CANDLEINTERVAL_LIST',\n                    options: config().candleIntervals,\n                },\n            ],\n            output: 'Number',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Read the selected candle value'),\n            category: window.Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Read candle value (1)'),\n            description: localize('This block gives you the specified candle value for a selected time interval.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            CANDLEINDEX: null,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.read_ohlc = block => {\n    const selectedGranularity = block.getFieldValue('CANDLEINTERVAL_LIST');\n    const granularity = selectedGranularity === 'default' ? 'undefined' : selectedGranularity;\n    const ohlcField = block.getFieldValue('OHLCFIELD_LIST');\n    const index =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'CANDLEINDEX',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC\n        ) || '1';\n\n    const code = `Bot.getOhlcFromEnd({ field: '${ohlcField}', index: ${index}, granularity: ${granularity} })`;\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC];\n};\n",
            "size_bytes": 2694
        },
        "src/constants/bot-contents.ts": {
            "content": "type TTabsTitle = {\n    [key: string]: string | number;\n};\n\ntype TDashboardTabIndex = {\n    [key: string]: number;\n};\n\nexport const tabs_title: TTabsTitle = Object.freeze({\n    WORKSPACE: 'Workspace',\n    CHART: 'Chart',\n});\n\nexport const DBOT_TABS: TDashboardTabIndex = Object.freeze({\n    DASHBOARD: 0,\n    BOT_BUILDER: 1,\n    CHART: 2,\n    TUTORIAL: 3,\n});\n\nexport const MAX_STRATEGIES = 10;\n\nexport const TAB_IDS = ['id-dbot-dashboard', 'id-bot-builder', 'id-charts', 'id-tutorials'];\n\nexport const DEBOUNCE_INTERVAL_TIME = 500;\n",
            "size_bytes": 533
        },
        "src/pages/bot-builder/quick-strategy/config.ts": {
            "content": "import { config as qs_config } from '@/external/bot-skeleton';\nimport { localize } from '@deriv-com/translations';\nimport {\n    D_ALEMBERT,\n    MARTINGALE,\n    OSCARS_GRIND,\n    REVERSE_D_ALEMBERT,\n    REVERSE_MARTINGALE,\n    STRATEGY_1_3_2_6,\n} from '../../../constants/quick-strategies';\nimport { LocalizeHTMLForSellConditions } from './localize_html';\nimport { TConfigItem, TStrategies, TValidationItem } from './types';\n\nexport const FORM_TABS = () => [\n    {\n        label: localize('Trade parameters'),\n        value: 'TRADE_PARAMETERS',\n    },\n    {\n        label: localize('Learn more'),\n        value: 'LEARN_MORE',\n        disabled: true,\n    },\n];\n\nconst SELL_CONDITIONS_TYPE_INFO = (): TConfigItem => ({\n    type: 'label',\n    label: localize('Sell conditions'),\n    description: LocalizeHTMLForSellConditions,\n});\n\nconst LABEL_ACCUMULAORTS_SIZE = (): TConfigItem => ({\n    type: 'label',\n    label: localize('Size'),\n    description: localize('The size used to multiply the stake after a losing trade for the next trade.'),\n});\n\n// This will trigger the boolean_tick_count value to render the take profit and tick count fields\nconst SELL_CONDITIONS_TYPE = (): TConfigItem => ({\n    type: 'sell_conditions',\n    name: 'sell_conditions',\n});\n\nconst GROWTH_RATE = (): TConfigItem => ({\n    type: 'label',\n    label: localize('Growth rate'),\n    description: localize(\n        'Your stake will grow at the specified growth rate per tick as long as the current spot price remains within the range of the previous spot price.'\n    ),\n});\n\nconst GROWTH_RATE_VALUE = (): TConfigItem => ({\n    type: 'growth_rate',\n    name: 'growth_rate',\n    attached: true,\n    validation: ['number', 'required', 'ceil'],\n});\n\nconst LABEL_ACCUMULAORTS_UNIT = (): TConfigItem => ({\n    type: 'label',\n    label: localize('Unit'),\n    description: localize('The unit used to multiply the stake after a losing trade for the next trade.'),\n});\n\nconst TAKE_PROFIT = (): TConfigItem => ({\n    type: 'number',\n    name: 'take_profit',\n    should_have: [{ key: 'boolean_tick_count', value: false }],\n    hide_without_should_have: true,\n    attached: true,\n    has_currency_unit: true,\n    validation: [\n        'number',\n        'required',\n        'ceil',\n        {\n            type: 'min',\n            value: 0.35,\n            getMessage: (min: string | number) => localize('Minimum take profit allowed is {{ min }}', { min }),\n        },\n    ],\n});\n\nconst TICK_COUNT = (): TConfigItem => ({\n    type: 'number',\n    name: 'tick_count',\n    should_have: [{ key: 'boolean_tick_count', value: true }],\n    hide_without_should_have: true,\n    attached: true,\n    has_currency_unit: false,\n    validation: [\n        'number',\n        'required',\n        'ceil',\n        {\n            type: 'min',\n            value: 1,\n            getMessage: (min: string | number) => localize('Minimum tick count allowed is {{ min }}', { min }),\n        },\n    ],\n});\n\nconst NUMBER_DEFAULT_VALIDATION = (): TValidationItem => ({\n    type: 'min',\n    value: 1,\n    getMessage: (min: string | number) => localize('Must be a number higher than {{ min }}', { min: Number(min) - 1 }),\n});\n\nconst LABEL_SYMBOL = (): TConfigItem => ({\n    type: 'label',\n    label: localize('Asset'),\n    description: localize('The underlying market your bot will trade with this strategy.'),\n});\n\nconst SYMBOL = (): TConfigItem => ({\n    type: 'symbol',\n    name: 'symbol',\n});\n\nconst LABEL_TRADETYPE = (): TConfigItem => ({\n    type: 'label',\n    label: localize('Contract type'),\n    description: localize('Your bot will use this contract type for every run'),\n});\n\nconst TRADETYPE = (): TConfigItem => ({\n    type: 'tradetype',\n    name: 'tradetype',\n    dependencies: ['symbol'],\n});\n\nconst LABEL_PURCHASE_TYPE = (): TConfigItem => ({\n    type: 'label',\n    label: localize('Purchase condition'),\n    description: localize('Your bot uses a single trade type for each run.'),\n});\n\nconst PURCHASE_TYPE = (): TConfigItem => ({\n    type: 'contract_type',\n    name: 'type',\n    dependencies: ['symbol', 'tradetype'],\n});\n\nconst LABEL_STAKE = (): TConfigItem => ({\n    type: 'label',\n    label: localize('Initial stake'),\n    description: localize('The amount that you stake for the first trade. Note that this is the minimum stake amount.'),\n});\n\nconst STAKE = (): TConfigItem => ({\n    type: 'number',\n    name: 'stake',\n    validation: [\n        'number',\n        'required',\n        'ceil',\n        {\n            type: 'min',\n            value: 0.35,\n            getMessage: (min: string | number) => localize('Minimum stake allowed is {{ min }}', { min }),\n            getDynamicValue: (store: any) => store.quick_strategy?.additional_data?.min_stake || 0.35,\n        },\n        {\n            type: 'max',\n            value: 1000,\n            getMessage: (max: string | number) => localize('Maximum stake allowed is {{ max }}', { max }),\n            getDynamicValue: (store: any) => store.quick_strategy?.additional_data?.max_stake || 1000,\n        },\n    ],\n    has_currency_unit: true,\n});\n\nconst LABEL_DURATION = (): TConfigItem => ({\n    type: 'label',\n    label: localize('Duration'),\n    description: localize('How long each trade takes to expire.'),\n});\n\nconst DURATION_TYPE = (): TConfigItem => ({\n    type: 'durationtype',\n    name: 'durationtype',\n    dependencies: ['symbol', 'tradetype'],\n    attached: true,\n});\n\nconst DURATION = (): TConfigItem => ({\n    type: 'number',\n    name: 'duration',\n    attached: true,\n    validation: ['number', 'required', 'min', 'max', 'integer'],\n});\n\nconst LABEL_PROFIT = (): TConfigItem => ({\n    type: 'label',\n    label: localize('Profit threshold'),\n    description: localize('The bot will stop trading if your total profit exceeds this amount.'),\n});\n\nconst PROFIT = (): TConfigItem => ({\n    type: 'number',\n    name: 'profit',\n    validation: ['number', 'required', 'ceil', NUMBER_DEFAULT_VALIDATION()],\n    has_currency_unit: true,\n});\n\nconst LABEL_LOSS = (): TConfigItem => ({\n    type: 'label',\n    label: localize('Loss threshold'),\n    description: localize('The bot will stop trading if your total loss exceeds this amount.'),\n});\n\nconst LOSS = (): TConfigItem => ({\n    type: 'number',\n    name: 'loss',\n    validation: ['number', 'required', 'ceil', NUMBER_DEFAULT_VALIDATION()],\n    has_currency_unit: true,\n});\n\nconst LABEL_MARTINGALE_SIZE = (): TConfigItem => ({\n    type: 'label',\n    label: localize('Size'),\n    description: localize('The size used to multiply the stake after a losing trade for the next trade.'),\n});\n\nconst LABEL_REVERSE_MARTINGALE_SIZE = (): TConfigItem => ({\n    type: 'label',\n    label: localize('Size'),\n    description: localize('The size used to multiply the stake after a successful trade for the next trade.'),\n});\n\nconst SIZE = (): TConfigItem => ({\n    type: 'number',\n    name: 'size',\n    validation: [\n        'number',\n        'required',\n        'floor',\n        {\n            type: 'min',\n            value: String(qs_config().QUICK_STRATEGY.DEFAULT.size),\n            getMessage: (min: string | number) =>\n                localize('The value must be equal or greater than {{ min }}', { min }),\n        },\n    ],\n});\n\nconst LABEL_DALEMBERT_UNIT = (): TConfigItem => ({\n    type: 'label',\n    label: localize('Unit'),\n    description: localize(\n        'Number of unit(s) to be added to the next trade after a losing trade. One unit is equivalent to the amount of initial stake.'\n    ),\n});\n\nconst LABEL_REVERSE_DALEMBERT_UNIT = (): TConfigItem => ({\n    type: 'label',\n    label: localize('Unit'),\n    description: localize(\n        'Number of unit(s) to be added to the next trade after a successful trade. One unit is equivalent to the amount of initial stake.'\n    ),\n});\n\nconst UNIT = (): TConfigItem => ({\n    type: 'number',\n    name: 'unit',\n    validation: ['number', 'required', 'ceil', NUMBER_DEFAULT_VALIDATION()],\n});\n\nconst CHECKBOX_MAX_STAKE = (): TConfigItem => ({\n    type: 'checkbox',\n    name: 'boolean_max_stake',\n    label: localize('Max stake'),\n    description: localize('The stake for your next trade will reset to the initial stake if it exceeds this value.'),\n    attached: true,\n});\n\nconst MAX_STAKE = (): TConfigItem => ({\n    type: 'number',\n    name: 'max_stake',\n    validation: ['number', 'required', 'ceil', 'min'],\n    should_have: [{ key: 'boolean_max_stake', value: true }],\n    hide_without_should_have: true,\n    attached: true,\n    has_currency_unit: true,\n});\n\nconst LABEL_LAST_DIGIT_PREDICTION = (): TConfigItem => ({\n    type: 'label',\n    name: 'label_last_digit_prediction',\n    label: localize('Last Digit Prediction'),\n    description: localize('Your prediction of the last digit of the asset price.'),\n    should_have: [{ key: 'tradetype', value: '', multiple: ['matchesdiffers', 'overunder'] }],\n    hide_without_should_have: true,\n});\n\nconst LAST_DIGIT_PREDICTION = (): TConfigItem => ({\n    type: 'number',\n    name: 'last_digit_prediction',\n    validation: ['number', 'required', 'min', 'max', 'integer'],\n    should_have: [{ key: 'tradetype', value: '', multiple: ['matchesdiffers', 'overunder'] }],\n    hide_without_should_have: true,\n});\n\nexport const STRATEGIES = (): TStrategies => ({\n    MARTINGALE: {\n        name: 'martingale_max-stake',\n        label: localize('Martingale'),\n        rs_strategy_name: 'martingale',\n        description: MARTINGALE(),\n        fields: [\n            [\n                LABEL_SYMBOL(),\n                SYMBOL(),\n                LABEL_TRADETYPE(),\n                TRADETYPE(),\n                LABEL_PURCHASE_TYPE(),\n                PURCHASE_TYPE(),\n                LABEL_LAST_DIGIT_PREDICTION(),\n                LAST_DIGIT_PREDICTION(),\n                LABEL_STAKE(),\n                STAKE(),\n                LABEL_DURATION(),\n                DURATION_TYPE(),\n                DURATION(),\n            ],\n            [\n                LABEL_PROFIT(),\n                PROFIT(),\n                LABEL_LOSS(),\n                LOSS(),\n                LABEL_MARTINGALE_SIZE(),\n                SIZE(),\n                CHECKBOX_MAX_STAKE(),\n                MAX_STAKE(),\n            ],\n        ],\n    },\n    D_ALEMBERT: {\n        name: 'dalembert_max-stake',\n        label: localize('DAlembert'),\n        rs_strategy_name: `d'alembert`,\n        description: D_ALEMBERT(),\n        fields: [\n            [\n                LABEL_SYMBOL(),\n                SYMBOL(),\n                LABEL_TRADETYPE(),\n                TRADETYPE(),\n                LABEL_PURCHASE_TYPE(),\n                PURCHASE_TYPE(),\n                LABEL_LAST_DIGIT_PREDICTION(),\n                LAST_DIGIT_PREDICTION(),\n                LABEL_STAKE(),\n                STAKE(),\n                LABEL_DURATION(),\n                DURATION_TYPE(),\n                DURATION(),\n            ],\n            [\n                LABEL_PROFIT(),\n                PROFIT(),\n                LABEL_LOSS(),\n                LOSS(),\n                LABEL_DALEMBERT_UNIT(),\n                UNIT(),\n                CHECKBOX_MAX_STAKE(),\n                MAX_STAKE(),\n            ],\n        ],\n    },\n    OSCARS_GRIND: {\n        name: 'oscars_grind_max-stake',\n        label: localize('Oscars Grind'),\n        rs_strategy_name: `oscar's-grind`,\n        description: OSCARS_GRIND(),\n        fields: [\n            [\n                LABEL_SYMBOL(),\n                SYMBOL(),\n                LABEL_TRADETYPE(),\n                TRADETYPE(),\n                LABEL_PURCHASE_TYPE(),\n                PURCHASE_TYPE(),\n                LABEL_LAST_DIGIT_PREDICTION(),\n                LAST_DIGIT_PREDICTION(),\n                LABEL_STAKE(),\n                STAKE(),\n                LABEL_DURATION(),\n                DURATION_TYPE(),\n                DURATION(),\n            ],\n            [LABEL_PROFIT(), PROFIT(), LABEL_LOSS(), LOSS(), CHECKBOX_MAX_STAKE(), MAX_STAKE()],\n        ],\n    },\n    REVERSE_MARTINGALE: {\n        name: 'reverse_martingale',\n        label: localize('Reverse Martingale'),\n        rs_strategy_name: 'reverse martingale',\n        description: REVERSE_MARTINGALE(),\n        fields: [\n            [\n                LABEL_SYMBOL(),\n                SYMBOL(),\n                LABEL_TRADETYPE(),\n                TRADETYPE(),\n                LABEL_PURCHASE_TYPE(),\n                PURCHASE_TYPE(),\n                LABEL_LAST_DIGIT_PREDICTION(),\n                LAST_DIGIT_PREDICTION(),\n                LABEL_STAKE(),\n                STAKE(),\n                LABEL_DURATION(),\n                DURATION_TYPE(),\n                DURATION(),\n            ],\n            [\n                LABEL_PROFIT(),\n                PROFIT(),\n                LABEL_LOSS(),\n                LOSS(),\n                LABEL_REVERSE_MARTINGALE_SIZE(),\n                SIZE(),\n                CHECKBOX_MAX_STAKE(),\n                MAX_STAKE(),\n            ],\n        ],\n    },\n    REVERSE_D_ALEMBERT: {\n        name: 'reverse_dalembert',\n        label: localize('Reverse DAlembert'),\n        rs_strategy_name: `reverse d'alembert`,\n        description: REVERSE_D_ALEMBERT(),\n        fields: [\n            [\n                LABEL_SYMBOL(),\n                SYMBOL(),\n                LABEL_TRADETYPE(),\n                TRADETYPE(),\n                LABEL_PURCHASE_TYPE(),\n                PURCHASE_TYPE(),\n                LABEL_LAST_DIGIT_PREDICTION(),\n                LAST_DIGIT_PREDICTION(),\n                LABEL_STAKE(),\n                STAKE(),\n                LABEL_DURATION(),\n                DURATION_TYPE(),\n                DURATION(),\n            ],\n            [\n                LABEL_PROFIT(),\n                PROFIT(),\n                LABEL_LOSS(),\n                LOSS(),\n                LABEL_REVERSE_DALEMBERT_UNIT(),\n                UNIT(),\n                CHECKBOX_MAX_STAKE(),\n                MAX_STAKE(),\n            ],\n        ],\n    },\n    STRATEGY_1_3_2_6: {\n        name: '1_3_2_6',\n        label: localize('1-3-2-6'),\n        rs_strategy_name: '1-3-2-6',\n        description: STRATEGY_1_3_2_6(),\n        fields: [\n            [\n                LABEL_SYMBOL(),\n                SYMBOL(),\n                LABEL_TRADETYPE(),\n                TRADETYPE(),\n                LABEL_PURCHASE_TYPE(),\n                PURCHASE_TYPE(),\n                LABEL_LAST_DIGIT_PREDICTION(),\n                LAST_DIGIT_PREDICTION(),\n                LABEL_STAKE(),\n                STAKE(),\n                LABEL_DURATION(),\n                DURATION_TYPE(),\n                DURATION(),\n            ],\n            [LABEL_PROFIT(), PROFIT(), LABEL_LOSS(), LOSS()],\n        ],\n    },\n    ACCUMULATORS_MARTINGALE: {\n        name: 'accumulators_martingale',\n        label: localize('Martingale'),\n        rs_strategy_name: 'accumulators_martingale',\n        description: [],\n        fields: [\n            [LABEL_SYMBOL(), SYMBOL(), LABEL_STAKE(), STAKE(), GROWTH_RATE(), GROWTH_RATE_VALUE()],\n            [\n                LABEL_PROFIT(),\n                PROFIT(),\n                LABEL_LOSS(),\n                LOSS(),\n                LABEL_ACCUMULAORTS_SIZE(),\n                SIZE(),\n                SELL_CONDITIONS_TYPE_INFO(),\n                SELL_CONDITIONS_TYPE(),\n                TAKE_PROFIT(),\n                TICK_COUNT(),\n                CHECKBOX_MAX_STAKE(),\n                MAX_STAKE(),\n            ],\n        ],\n    },\n    ACCUMULATORS_DALEMBERT: {\n        name: 'accumulators_dalembert',\n        label: localize('DAlembert'),\n        rs_strategy_name: 'accumulators_dalembert',\n        description: [],\n        fields: [\n            [LABEL_SYMBOL(), SYMBOL(), LABEL_STAKE(), STAKE(), GROWTH_RATE(), GROWTH_RATE_VALUE()],\n            [\n                LABEL_PROFIT(),\n                PROFIT(),\n                LABEL_LOSS(),\n                LOSS(),\n                LABEL_ACCUMULAORTS_UNIT(),\n                UNIT(),\n                SELL_CONDITIONS_TYPE_INFO(),\n                SELL_CONDITIONS_TYPE(),\n                TAKE_PROFIT(),\n                TICK_COUNT(),\n                CHECKBOX_MAX_STAKE(),\n                MAX_STAKE(),\n            ],\n        ],\n    },\n    ACCUMULATORS_MARTINGALE_ON_STAT_RESET: {\n        name: 'accumulators_martingale_on_stat_reset',\n        label: localize('Martingale on Stat Reset'),\n        rs_strategy_name: 'accumulators_martingale_on_stat_reset',\n        description: [],\n        fields: [\n            [LABEL_SYMBOL(), SYMBOL(), LABEL_STAKE(), STAKE(), GROWTH_RATE(), GROWTH_RATE_VALUE()],\n            [\n                LABEL_PROFIT(),\n                PROFIT(),\n                LABEL_LOSS(),\n                LOSS(),\n                LABEL_ACCUMULAORTS_SIZE(),\n                SIZE(),\n                SELL_CONDITIONS_TYPE_INFO(),\n                SELL_CONDITIONS_TYPE(),\n                TAKE_PROFIT(),\n                TICK_COUNT(),\n                CHECKBOX_MAX_STAKE(),\n                MAX_STAKE(),\n            ],\n        ],\n    },\n    ACCUMULATORS_DALEMBERT_ON_STAT_RESET: {\n        name: 'accumulators_dalembert_on_stat_reset',\n        label: localize(\"D'Alembert on Stat Reset\"),\n        rs_strategy_name: 'accumulators_dalembert_on_stat_reset',\n        description: [],\n        fields: [\n            [LABEL_SYMBOL(), SYMBOL(), LABEL_STAKE(), STAKE(), GROWTH_RATE(), GROWTH_RATE_VALUE()],\n            [\n                LABEL_PROFIT(),\n                PROFIT(),\n                LABEL_LOSS(),\n                LOSS(),\n                LABEL_ACCUMULAORTS_UNIT(),\n                UNIT(),\n                SELL_CONDITIONS_TYPE_INFO(),\n                SELL_CONDITIONS_TYPE(),\n                TAKE_PROFIT(),\n                TICK_COUNT(),\n                CHECKBOX_MAX_STAKE(),\n                MAX_STAKE(),\n            ],\n        ],\n    },\n    ACCUMULATORS_REVERSE_MARTINGALE: {\n        name: 'accumulators_reverse_martingale',\n        label: localize('Reverse Martingale'),\n        rs_strategy_name: 'accumulators_reverse_martingale',\n        description: [],\n        fields: [\n            [LABEL_SYMBOL(), SYMBOL(), LABEL_STAKE(), STAKE(), GROWTH_RATE(), GROWTH_RATE_VALUE()],\n            [\n                LABEL_PROFIT(),\n                PROFIT(),\n                LABEL_LOSS(),\n                LOSS(),\n                LABEL_ACCUMULAORTS_SIZE(),\n                SIZE(),\n                SELL_CONDITIONS_TYPE_INFO(),\n                SELL_CONDITIONS_TYPE(),\n                TAKE_PROFIT(),\n                TICK_COUNT(),\n                CHECKBOX_MAX_STAKE(),\n                MAX_STAKE(),\n            ],\n        ],\n    },\n    ACCUMULATORS_REVERSE_MARTINGALE_ON_STAT_RESET: {\n        name: 'accumulators_reverse_martingale_on_stat_reset',\n        label: localize('Reverse Martingale on Stat Reset'),\n        rs_strategy_name: 'accumulators_reverse_martingale_on_stat_reset',\n        description: [],\n        fields: [\n            [LABEL_SYMBOL(), SYMBOL(), LABEL_STAKE(), STAKE(), GROWTH_RATE(), GROWTH_RATE_VALUE()],\n            [\n                LABEL_PROFIT(),\n                PROFIT(),\n                LABEL_LOSS(),\n                LOSS(),\n                LABEL_ACCUMULAORTS_SIZE(),\n                SIZE(),\n                SELL_CONDITIONS_TYPE_INFO(),\n                SELL_CONDITIONS_TYPE(),\n                TAKE_PROFIT(),\n                TICK_COUNT(),\n                CHECKBOX_MAX_STAKE(),\n                MAX_STAKE(),\n            ],\n        ],\n    },\n    ACCUMULATORS_REVERSE_DALEMBERT: {\n        name: 'accumulators_reverse_dalembert',\n        label: localize(\"Reverse D'Alembert\"),\n        rs_strategy_name: 'accumulators_reverse_dalembert',\n        description: [],\n        fields: [\n            [LABEL_SYMBOL(), SYMBOL(), LABEL_STAKE(), STAKE(), GROWTH_RATE(), GROWTH_RATE_VALUE()],\n            [\n                LABEL_PROFIT(),\n                PROFIT(),\n                LABEL_LOSS(),\n                LOSS(),\n                LABEL_ACCUMULAORTS_UNIT(),\n                UNIT(),\n                SELL_CONDITIONS_TYPE_INFO(),\n                SELL_CONDITIONS_TYPE(),\n                TAKE_PROFIT(),\n                TICK_COUNT(),\n                CHECKBOX_MAX_STAKE(),\n                MAX_STAKE(),\n            ],\n        ],\n    },\n    ACCUMULATORS_REVERSE_DALEMBERT_ON_STAT_RESET: {\n        name: 'accumulators_reverse_dalembert_on_stat_reset',\n        label: localize(\"Reverse D'Alembert on Stat Reset\"),\n        rs_strategy_name: 'accumulators_reverse_dalembert_on_stat_reset',\n        description: [],\n        fields: [\n            [LABEL_SYMBOL(), SYMBOL(), LABEL_STAKE(), STAKE(), GROWTH_RATE(), GROWTH_RATE_VALUE()],\n            [\n                LABEL_PROFIT(),\n                PROFIT(),\n                LABEL_LOSS(),\n                LOSS(),\n                LABEL_ACCUMULAORTS_UNIT(),\n                UNIT(),\n                SELL_CONDITIONS_TYPE_INFO(),\n                SELL_CONDITIONS_TYPE(),\n                TAKE_PROFIT(),\n                TICK_COUNT(),\n                CHECKBOX_MAX_STAKE(),\n                MAX_STAKE(),\n            ],\n        ],\n    },\n});\n",
            "size_bytes": 20843
        },
        "src/utils/help-content/help-strings/ohlc_values_in_list.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize(\n            'This block gives you the selected candle value from a list of candles. You can choose from open price, close price, high price, low price, and open time.'\n        ),\n        localize('This block requires a list of candles as an input parameter.'),\n        localize('In this example, the open prices from a list of candles are assigned to a variable called \"cl\".'),\n    ],\n};\n",
            "size_bytes": 494
        },
        "src/external/bot-skeleton/services/api/api-base.ts": {
            "content": "import Cookies from 'js-cookie';\nimport CommonStore from '@/stores/common-store';\nimport { TAuthData } from '@/types/api-types';\nimport { clearAuthData } from '@/utils/auth-utils';\nimport { setSessionToken } from '@/utils/session-token-utils';\nimport { clearInvalidTokenParams } from '@/utils/url-utils';\nimport { tradingTimesService } from '../../../../components/shared/services/trading-times-service';\nimport { ACTIVE_SYMBOLS, generateDisplayName, MARKET_MAPPINGS } from '../../../../components/shared/utils/common-data';\nimport { observer as globalObserver } from '../../utils/observer';\nimport { doUntilDone, socket_state } from '../tradeEngine/utils/helpers';\nimport {\n    CONNECTION_STATUS,\n    setAccountList,\n    setAuthData,\n    setConnectionStatus,\n    setIsAuthorized,\n    setIsAuthorizing,\n} from './observables/connection-status-stream';\nimport ApiHelpers from './api-helpers';\nimport { generateDerivApiInstance, V2GetActiveClientId, V2GetActiveToken } from './appId';\nimport chart_api from './chart-api';\n\ntype CurrentSubscription = {\n    id: string;\n    unsubscribe: () => void;\n};\n\ntype SubscriptionPromise = Promise<{\n    subscription: CurrentSubscription;\n}>;\n\ntype TApiBaseApi = {\n    connection: {\n        readyState: keyof typeof socket_state;\n        addEventListener: (event: string, callback: () => void) => void;\n        removeEventListener: (event: string, callback: () => void) => void;\n    };\n    send: (data: unknown) => void;\n    disconnect: () => void;\n    authorize: (token: string) => Promise<{ authorize: TAuthData; error: unknown }>;\n\n    onMessage: () => {\n        subscribe: (callback: (message: unknown) => void) => {\n            unsubscribe: () => void;\n        };\n    };\n} & ReturnType<typeof generateDerivApiInstance>;\n\nclass APIBase {\n    api: TApiBaseApi | null = null;\n    token: string = '';\n    account_id: string = '';\n    pip_sizes = {};\n    account_info = {};\n    is_running = false;\n    subscriptions: CurrentSubscription[] = [];\n    time_interval: ReturnType<typeof setInterval> | null = null;\n    has_active_symbols = false;\n    is_stopping = false;\n    active_symbols: any[] = [];\n    current_auth_subscriptions: SubscriptionPromise[] = [];\n    is_authorized = false;\n    active_symbols_promise: Promise<any[] | undefined> | null = null;\n    common_store: CommonStore | undefined;\n\n    unsubscribeAllSubscriptions = () => {\n        this.current_auth_subscriptions?.forEach(subscription_promise => {\n            subscription_promise.then(({ subscription }) => {\n                if (subscription?.id) {\n                    this.api?.send({\n                        forget: subscription.id,\n                    });\n                }\n            });\n        });\n        this.current_auth_subscriptions = [];\n    };\n\n    onsocketopen() {\n        setConnectionStatus(CONNECTION_STATUS.OPENED);\n\n        this.handleTokenExchangeIfNeeded();\n    }\n\n    private async handleTokenExchangeIfNeeded() {\n        // Check URL directly for one-time token (no localStorage needed)\n        const urlParams = new URLSearchParams(window.location.search);\n        const oneTimeToken = urlParams.get('token');\n        const accountType = urlParams.get('account_type');\n\n        // Only save account_type when BOTH token and account_type are present\n        if (oneTimeToken && accountType) {\n            localStorage.setItem('account_type', accountType);\n        }\n        // If no token or account_type, don't save anything - will fallback to demo server\n\n        if (oneTimeToken) {\n            // Remove token from URL immediately for security\n            const url = new URL(window.location.href);\n            url.searchParams.delete('token');\n            // Also remove account_type from URL after processing\n            if (accountType) {\n                url.searchParams.delete('account_type');\n            }\n            window.history.replaceState({}, document.title, url.toString());\n\n            // Exchange the token\n            setIsAuthorizing(true);\n\n            try {\n                const response = await this.getSessionToken(oneTimeToken);\n\n                if (response?.error) {\n                    console.error('Token exchange failed:', response.error);\n                    // Clear URL query parameters and emit InvalidToken event for invalid URL parameter tokens\n                    clearInvalidTokenParams();\n                    globalObserver.emit('InvalidToken', { error: response.error });\n                    setIsAuthorizing(false);\n                    return;\n                }\n\n                if (response?.get_session_token?.token) {\n                    const sessionToken = response.get_session_token.token;\n                    const expires = response.get_session_token.expires;\n                    setSessionToken(sessionToken, expires);\n                }\n            } catch (error) {\n                console.error('Error exchanging token:', error);\n                // Clear URL query parameters and emit InvalidToken event for any token exchange errors\n                clearInvalidTokenParams();\n                globalObserver.emit('InvalidToken', { error });\n                setIsAuthorizing(false);\n                return;\n            }\n        }\n\n        // Now proceed with normal authorization if we have a token\n        if (V2GetActiveToken()) {\n            setIsAuthorizing(true);\n            await this.authorizeAndSubscribe();\n        }\n    }\n\n    onsocketclose() {\n        setConnectionStatus(CONNECTION_STATUS.CLOSED);\n        this.reconnectIfNotConnected();\n    }\n\n    async init(force_create_connection = false) {\n        this.toggleRunButton(true);\n\n        if (this.api) {\n            this.unsubscribeAllSubscriptions();\n        }\n\n        if (!this.api || this.api?.connection.readyState !== 1 || force_create_connection) {\n            if (this.api?.connection) {\n                ApiHelpers.disposeInstance();\n                setConnectionStatus(CONNECTION_STATUS.CLOSED);\n                this.api.disconnect();\n                this.api.connection.removeEventListener('open', this.onsocketopen.bind(this));\n                this.api.connection.removeEventListener('close', this.onsocketclose.bind(this));\n            }\n            this.api = generateDerivApiInstance();\n            this.api?.connection.addEventListener('open', this.onsocketopen.bind(this));\n            this.api?.connection.addEventListener('close', this.onsocketclose.bind(this));\n        }\n\n        const hasToken = V2GetActiveToken();\n\n        if (!this.has_active_symbols && !hasToken) {\n            this.active_symbols_promise = this.getActiveSymbols().then(() => undefined);\n        }\n\n        this.initEventListeners();\n\n        if (this.time_interval) clearInterval(this.time_interval);\n        this.time_interval = null;\n\n        chart_api.init(force_create_connection);\n    }\n\n    getConnectionStatus() {\n        if (this.api?.connection) {\n            const ready_state = this.api.connection.readyState;\n            return socket_state[ready_state as keyof typeof socket_state] || 'Unknown';\n        }\n        return 'Socket not initialized';\n    }\n\n    terminate() {\n        // eslint-disable-next-line no-console\n        if (this.api) this.api.disconnect();\n    }\n\n    initEventListeners() {\n        if (window) {\n            window.addEventListener('online', this.reconnectIfNotConnected);\n            window.addEventListener('focus', this.reconnectIfNotConnected);\n        }\n    }\n\n    async createNewInstance(account_id: string) {\n        if (this.account_id !== account_id) {\n            await this.init();\n        }\n    }\n\n    reconnectIfNotConnected = () => {\n        // eslint-disable-next-line no-console\n        console.log('connection state: ', this.api?.connection?.readyState);\n        if (this.api?.connection?.readyState && this.api?.connection?.readyState > 1) {\n            // eslint-disable-next-line no-console\n            console.log('Info: Connection to the server was closed, trying to reconnect.');\n            this.init(true);\n        }\n    };\n\n    async authorizeAndSubscribe() {\n        const token = V2GetActiveToken();\n        if (!token || !this.api) return;\n\n        this.token = token;\n        this.account_id = V2GetActiveClientId() ?? '';\n        setIsAuthorizing(true);\n\n        try {\n            const { authorize, error } = await this.api.authorize(this.token);\n            if (error) {\n                if (error.code === 'InvalidToken') {\n                    // Clear URL query parameters for InvalidToken errors\n                    clearInvalidTokenParams();\n                    if (Cookies.get('logged_state') === 'true') {\n                        globalObserver.emit('InvalidToken', { error });\n                    } else {\n                        clearAuthData();\n                    }\n                } else {\n                    // Authorization error\n                    console.error('Authorization error:', error);\n                }\n                setIsAuthorizing(false);\n                return error;\n            }\n\n            this.account_info = authorize;\n\n            const currentAccount = authorize?.loginid\n                ? {\n                      balance: authorize.balance,\n                      currency: authorize.currency || 'USD',\n                      is_virtual: authorize.is_virtual || 0,\n                      loginid: authorize.loginid,\n                  }\n                : null;\n\n            const accountList = currentAccount ? [currentAccount] : [];\n\n            setAccountList(accountList); // Observable stream\n            setAuthData(authorize);\n\n            globalObserver.emit('api.authorize', {\n                account_list: accountList,\n                current_account: {\n                    loginid: authorize?.loginid,\n                    currency: authorize?.currency || 'USD',\n                    is_virtual: authorize?.is_virtual || 0,\n                    balance: typeof authorize?.balance === 'number' ? authorize.balance : undefined,\n                },\n            });\n\n            setIsAuthorized(true);\n            this.is_authorized = true;\n            localStorage.setItem('client_account_details', JSON.stringify(accountList));\n            localStorage.setItem('client.country', authorize?.country);\n\n            if (authorize?.loginid && this.token) {\n                const existingAccountsList = JSON.parse(localStorage.getItem('accountsList') || '{}');\n                existingAccountsList[authorize.loginid] = this.token;\n                localStorage.setItem('accountsList', JSON.stringify(existingAccountsList));\n                localStorage.setItem('active_loginid', authorize.loginid);\n            }\n\n            if (this.has_active_symbols) {\n                this.toggleRunButton(false);\n            } else {\n                this.active_symbols_promise = this.getActiveSymbols();\n            }\n            this.subscribe();\n        } catch (e) {\n            this.is_authorized = false;\n            clearAuthData();\n            setIsAuthorized(false);\n            globalObserver.emit('Error', e);\n        } finally {\n            setIsAuthorizing(false);\n        }\n    }\n\n    async getSessionToken(oneTimeToken: string) {\n        if (!this.api) {\n            throw new Error('API connection not available');\n        }\n\n        return this.api.send({\n            get_session_token: oneTimeToken,\n        });\n    }\n\n    async subscribe() {\n        const subscribeToStream = (streamName: string) => {\n            return doUntilDone(\n                () => {\n                    const subscription = this.api?.send({\n                        [streamName]: 1,\n                        subscribe: 1,\n                    });\n\n                    if (subscription) {\n                        this.current_auth_subscriptions.push(subscription);\n                    }\n                    return subscription;\n                },\n                [],\n                this\n            );\n        };\n\n        const streamsToSubscribe = ['balance', 'transaction', 'proposal_open_contract'];\n\n        await Promise.all(streamsToSubscribe.map(subscribeToStream));\n    }\n\n    getActiveSymbols = async () => {\n        if (!this.api) {\n            this.useActiveSymbols();\n            return;\n        }\n\n        try {\n            // Add timeout to prevent hanging\n            const timeout = new Promise((_, reject) =>\n                setTimeout(() => reject(new Error('Active symbols fetch timeout')), 10000)\n            );\n\n            const activeSymbolsPromise = doUntilDone(() => this.api?.send({ active_symbols: 'brief' }), [], this);\n\n            const result = await Promise.race([activeSymbolsPromise, timeout]);\n\n            const { active_symbols = [], error = {} } = result as any;\n\n            if (error && Object.keys(error).length > 0) {\n                this.useActiveSymbols();\n                return;\n            }\n\n            if (!active_symbols.length) {\n                this.useActiveSymbols();\n                return;\n            }\n\n            const pip_sizes = {};\n            this.has_active_symbols = true;\n\n            // Process pip sizes - handle both old and new field names\n            active_symbols.forEach((symbol: any) => {\n                const underlying_symbol = symbol.underlying_symbol || symbol.symbol;\n                const pip_size = symbol.pip_size || symbol.pip;\n                if (underlying_symbol && pip_size) {\n                    (pip_sizes as Record<string, number>)[underlying_symbol] = +(+pip_size)\n                        .toExponential()\n                        .substring(3);\n                }\n            });\n            this.pip_sizes = pip_sizes as Record<string, number>;\n\n            // Enrich active symbols with trading times data with timeout\n            try {\n                const enrichmentTimeout = new Promise((_, reject) =>\n                    setTimeout(() => reject(new Error('Enrichment timeout')), 5000)\n                );\n\n                const enrichmentPromise = this.enrichActiveSymbolsWithTradingTimes(active_symbols);\n                const enriched_symbols = await Promise.race([enrichmentPromise, enrichmentTimeout]);\n\n                this.active_symbols = enriched_symbols as any[];\n            } catch (enrichment_error) {\n                // Fallback to original active symbols if enrichment fails\n                this.active_symbols = active_symbols;\n            }\n            this.toggleRunButton(false);\n            return this.active_symbols;\n        } catch (fetch_error) {\n            this.useActiveSymbols();\n        }\n    };\n\n    private useActiveSymbols() {\n        // Use common active symbols\n        this.active_symbols = ACTIVE_SYMBOLS;\n\n        // Set pip sizes\n        const pip_sizes = {};\n        this.active_symbols.forEach((symbol: any) => {\n            const underlying_symbol = symbol.underlying_symbol || symbol.symbol;\n            const pip_size = symbol.pip;\n            if (underlying_symbol && pip_size) {\n                (pip_sizes as Record<string, number>)[underlying_symbol] = +(+pip_size).toExponential().substring(3);\n            }\n        });\n        this.pip_sizes = pip_sizes as Record<string, number>;\n\n        this.has_active_symbols = true;\n        this.toggleRunButton(false);\n    }\n\n    /**\n     * Maps active symbols market codes to trading times market names\n     */\n    private getMarketMapping(): Map<string, string> {\n        return MARKET_MAPPINGS.MARKET_DISPLAY_NAMES;\n    }\n\n    /**\n     * Maps active symbols submarket codes to trading times submarket names\n     */\n    private getSubmarketMapping(): Map<string, string> {\n        return MARKET_MAPPINGS.SUBMARKET_DISPLAY_NAMES;\n    }\n\n    /**\n     * Enriches active symbols with market display names from trading times\n     */\n    private async enrichActiveSymbolsWithTradingTimes(active_symbols: any[]) {\n        if (!active_symbols || !active_symbols.length) {\n            return active_symbols;\n        }\n\n        try {\n            // Get trading times data\n            const trading_times = await tradingTimesService.getTradingTimes();\n\n            if (!trading_times?.markets) {\n                return active_symbols;\n            }\n\n            // Create lookup maps for efficient searching\n            const market_display_names = new Map<string, string>();\n            const submarket_display_names = new Map<string, string>();\n            const market_mapping = this.getMarketMapping();\n            const submarket_mapping = this.getSubmarketMapping();\n\n            if (!trading_times.markets || !Array.isArray(trading_times.markets)) {\n                return active_symbols;\n            }\n\n            try {\n                trading_times.markets.forEach((market: any) => {\n                    // Use the name property directly as the display name\n                    if (market.name) {\n                        market_display_names.set(market.name, market.name);\n\n                        // Also create reverse mapping for market codes\n                        for (const [code, name] of market_mapping.entries()) {\n                            if (name === market.name) {\n                                market_display_names.set(code, market.name);\n                            }\n                        }\n                    }\n\n                    if (market.submarkets) {\n                        market.submarkets.forEach((submarket: any) => {\n                            // Use the name property directly as the display name\n                            if (submarket.name && market.name) {\n                                const key = `${market.name}_${submarket.name}`;\n                                submarket_display_names.set(key, submarket.name);\n\n                                // Also create mapping for market codes and submarket codes\n                                for (const [code, name] of market_mapping.entries()) {\n                                    if (name === market.name) {\n                                        const code_key = `${code}_${submarket.name}`;\n                                        submarket_display_names.set(code_key, submarket.name);\n                                    }\n                                }\n                            }\n                        });\n                    }\n                });\n            } catch (markets_error) {\n                return active_symbols;\n            }\n\n            // Add direct submarket code mappings\n            for (const [submarket_code, submarket_name] of submarket_mapping.entries()) {\n                submarket_display_names.set(submarket_code, submarket_name);\n\n                // Also add with market prefixes\n                for (const [market_code] of market_mapping.entries()) {\n                    const key = `${market_code}_${submarket_code}`;\n                    submarket_display_names.set(key, submarket_name);\n                }\n            }\n\n            // Create symbol display names lookup\n            const symbol_display_names = new Map<string, string>();\n\n            trading_times.markets.forEach((market: any) => {\n                if (market.submarkets) {\n                    market.submarkets.forEach((submarket: any) => {\n                        if (submarket.symbols) {\n                            submarket.symbols.forEach((symbol_info: any) => {\n                                if (symbol_info.symbol && symbol_info.display_name) {\n                                    symbol_display_names.set(symbol_info.symbol, symbol_info.display_name);\n                                }\n                                // Also handle underlying_symbol if present\n                                if (symbol_info.underlying_symbol && symbol_info.display_name) {\n                                    symbol_display_names.set(symbol_info.underlying_symbol, symbol_info.display_name);\n                                }\n                            });\n                        }\n                    });\n                }\n            });\n\n            // Enrich each active symbol\n            return active_symbols.map(symbol => {\n                const enriched_symbol = { ...symbol };\n\n                // Add market display name using the name property from trading times\n                if (symbol.market) {\n                    enriched_symbol.market_display_name = market_display_names.get(symbol.market) || symbol.market;\n                }\n\n                // Add submarket display name using the name property from trading times\n                if (symbol.submarket) {\n                    // Try multiple lookup strategies for submarket\n                    let submarket_display_name = symbol.submarket;\n\n                    // 1. Try with market prefix\n                    if (symbol.market) {\n                        const submarket_key = `${symbol.market}_${symbol.submarket}`;\n                        submarket_display_name = submarket_display_names.get(submarket_key) || submarket_display_name;\n                    }\n\n                    // 2. Try direct submarket code lookup\n                    submarket_display_name = submarket_display_names.get(symbol.submarket) || submarket_display_name;\n\n                    enriched_symbol.submarket_display_name = submarket_display_name;\n                }\n\n                // Add subgroup display name if available using the name property from trading times\n                if (symbol.subgroup) {\n                    let subgroup_display_name = symbol.subgroup;\n\n                    // Try with market prefix\n                    if (symbol.market) {\n                        const subgroup_key = `${symbol.market}_${symbol.subgroup}`;\n                        subgroup_display_name = submarket_display_names.get(subgroup_key) || subgroup_display_name;\n                    }\n\n                    // Try direct subgroup code lookup\n                    subgroup_display_name = submarket_display_names.get(symbol.subgroup) || subgroup_display_name;\n\n                    enriched_symbol.subgroup_display_name = subgroup_display_name;\n                }\n\n                // Add symbol display name from trading times\n                const symbol_code = symbol.underlying_symbol || symbol.symbol;\n                if (symbol_code) {\n                    const symbol_display_name = symbol_display_names.get(symbol_code);\n                    if (symbol_display_name) {\n                        enriched_symbol.display_name = symbol_display_name;\n                    } else {\n                        // Fallback: Generate a display name if not found in trading times\n                        enriched_symbol.display_name = this.generateFallbackDisplayName(symbol_code, symbol);\n                    }\n                }\n\n                // Add underlying_symbol display name from trading times\n                if (symbol.underlying_symbol) {\n                    const underlying_symbol_display_name = symbol_display_names.get(symbol.underlying_symbol);\n                    if (underlying_symbol_display_name) {\n                        enriched_symbol.underlying_symbol_display_name = underlying_symbol_display_name;\n                    }\n                }\n\n                // Also add symbol display name if symbol field exists\n                if (symbol.symbol) {\n                    const symbol_field_display_name = symbol_display_names.get(symbol.symbol);\n                    if (symbol_field_display_name) {\n                        enriched_symbol.symbol_display_name = symbol_field_display_name;\n                    }\n                }\n\n                // Handle new API field names - ensure backward compatibility\n                if (symbol.symbol_type && !symbol.underlying_symbol_type) {\n                    enriched_symbol.underlying_symbol_type = symbol.symbol_type;\n                }\n\n                // Ensure we have both symbol and underlying_symbol for backward compatibility\n                if (symbol.underlying_symbol && !symbol.symbol) {\n                    enriched_symbol.symbol = symbol.underlying_symbol;\n                } else if (symbol.symbol && !symbol.underlying_symbol) {\n                    enriched_symbol.underlying_symbol = symbol.symbol;\n                }\n\n                return enriched_symbol;\n            });\n        } catch (error) {\n            return active_symbols;\n        }\n    }\n\n    /**\n     * Generates a fallback display name for symbols not found in trading times\n     * Aligned with frontend getMarketNamesMap() configuration\n     */\n    private generateFallbackDisplayName(symbol_code: string, symbol: any): string {\n        return generateDisplayName(symbol_code, symbol);\n    }\n\n    toggleRunButton = (toggle: boolean) => {\n        const run_button = document.querySelector('#db-animation__run-button');\n        if (!run_button) return;\n        (run_button as HTMLButtonElement).disabled = toggle;\n    };\n\n    setIsRunning(toggle = false) {\n        this.is_running = toggle;\n    }\n\n    pushSubscription(subscription: CurrentSubscription) {\n        this.subscriptions.push(subscription);\n    }\n\n    clearSubscriptions() {\n        this.subscriptions.forEach(s => s.unsubscribe());\n        this.subscriptions = [];\n\n        // Resetting timeout resolvers\n        const global_timeouts = globalObserver.getState('global_timeouts') ?? [];\n\n        global_timeouts.forEach((_: unknown, i: number) => {\n            clearTimeout(i);\n        });\n    }\n}\n\nexport const api_base = new APIBase();\n",
            "size_bytes": 25402
        },
        "src/constants/load-modal.ts": {
            "content": "export const tabs_title = Object.freeze({\n    TAB_LOCAL: 'local_tab',\n    TAB_GOOGLE: 'google_tab',\n    TAB_RECENT: 'recent_tab',\n});\n\nexport const clearInjectionDiv = (el_ref?: HTMLElement) => {\n    const parent_element = el_ref;\n    const child_element = el_ref?.getElementsByClassName('injectionDiv');\n    if (parent_element && child_element && child_element?.length > 1) {\n        parent_element?.removeChild(child_element[0]);\n    }\n};\n",
            "size_bytes": 441
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Indicators/emaa_statement.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.emaa_statement = {\n    protected_statements: ['STATEMENT'],\n    required_child_blocks: ['input_list', 'period'],\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to Exponential Moving Average Array {{ dummy }}', {\n                variable: '%1',\n                dummy: '%2',\n            }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: 'emaa',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STATEMENT',\n                    check: null,\n                },\n            ],\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Calculates Exponential Moving Average (EMA) list from a list of values with a period'),\n            previousStatement: null,\n            nextStatement: null,\n            category: window.Blockly.Categories.Indicators,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Exponential Moving Average Array (EMAA)'),\n            description: localize(\n                'This block is similar to EMA, except that it gives you the entire EMA line based on the input list and the given period.'\n            ),\n        };\n    },\n    onchange: window.Blockly.Blocks.bb_statement.onchange,\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.emaa_statement = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = window.Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        window.Blockly.Variables.CATEGORY_NAME\n    );\n    const input = block.childValueToCode('input_list', 'INPUT_LIST');\n    const period = block.childValueToCode('period', 'PERIOD');\n    const code = `${var_name} = Bot.emaa(${input}, ${period});\\n`;\n\n    return code;\n};\n",
            "size_bytes": 2445
        },
        "src/components/shared/utils/config/index.ts": { "content": "export * from './config';\n", "size_bytes": 26 },
        "src/pages/dashboard/intro-card.tsx": {
            "content": "import { TSidebarItem } from './constants';\n\ntype TIntroCard = {\n    sidebar_item: TSidebarItem;\n};\n\nconst Index = ({ sidebar_item }: TIntroCard) => {\n    const { label, content } = sidebar_item;\n    return (\n        <div className='db-sidebar__card' key={label}>\n            <h1>{label}</h1>\n            {content?.map(text => (\n                <p key={`sidebar-tour${text}`}>{text}</p>\n            ))}\n        </div>\n    );\n};\n\nexport default Index;\n",
            "size_bytes": 451
        },
        "src/external/bot-skeleton/scratch/hooks/procedures.js": {
            "content": "import { localize } from '@deriv-com/translations';\n\n/**\n * Construct the blocks required by the flyout for the procedure category.\n * @param {!window.Blockly.Workspace} workspace The workspace containing procedures.\n * @return {!Array.<!Element>} Array of XML block elements.\n */\n\nwindow.Blockly.Procedures.flyoutCategory = function (workspace) {\n    let xmlList = [];\n\n    if (window.Blockly.Blocks.procedures_defnoreturn) {\n        // <block type=\"procedures_defnoreturn\" gap=\"16\">\n        //     <field name=\"NAME\">do something</field>\n        // </block>\n        const block = document.createElement('block');\n        block.setAttribute('type', 'procedures_defnoreturn');\n        block.setAttribute('gap', 16);\n\n        // TEMP\n        const nameField = document.createElement('field');\n        nameField.setAttribute('name', 'NAME');\n        nameField.appendChild(document.createTextNode(localize('do something')));\n\n        block.appendChild(nameField);\n        xmlList.push(block);\n    }\n\n    if (window.Blockly.Blocks.procedures_defreturn) {\n        // <block type=\"procedures_defreturn\" gap=\"16\">\n        //     <field name=\"NAME\">do something</field>\n        // </block>\n        const block = document.createElement('block');\n        block.setAttribute('type', 'procedures_defreturn');\n        block.setAttribute('gap', 16);\n\n        const nameField = document.createElement('field');\n        nameField.setAttribute('name', 'NAME');\n        nameField.appendChild(document.createTextNode(localize('do something')));\n\n        block.appendChild(nameField);\n        xmlList.push(block);\n    }\n\n    if (window.Blockly.Blocks.procedures_ifreturn) {\n        // <block type=\"procedures_ifreturn\" gap=\"16\"></block>\n        const block = document.createElement('block');\n        block.setAttribute('type', 'procedures_ifreturn');\n        block.setAttribute('gap', 16);\n        xmlList.push(block);\n    }\n\n    if (xmlList.length) {\n        // Add slightly larger gap between system blocks and user calls.\n        xmlList[xmlList.length - 1].setAttribute('gap', 24);\n    }\n\n    const tuple = window.Blockly.Procedures.allProcedures(workspace);\n    xmlList = xmlList.concat(window.Blockly.Procedures.populateDynamicProcedures(tuple));\n    return xmlList;\n};\n\nwindow.Blockly.Procedures.populateDynamicProcedures = function (tuple) {\n    let xmlList = [];\n\n    const populateProcedures = (procedureList, templateName) => {\n        const xml = [];\n\n        if (!procedureList) {\n            return xml;\n        }\n\n        for (let i = 0; i < procedureList.length; i++) {\n            const name = procedureList[i][0];\n            const args = procedureList[i][1];\n\n            // <block type=\"procedures_callnoreturn\" gap=\"16\">\n            //   <mutation name=\"do something\">\n            //     <arg name=\"x\"></arg>\n            //   </mutation>\n            // </block>\n            const block = document.createElement('block');\n            block.setAttribute('type', templateName);\n            block.setAttribute('gap', 16);\n\n            const mutation = document.createElement('mutation');\n            mutation.setAttribute('name', name);\n            block.appendChild(mutation);\n\n            args.forEach(argumentName => {\n                const arg = document.createElement('arg');\n                arg.setAttribute('name', argumentName);\n                mutation.appendChild(arg);\n            });\n\n            xml.push(block);\n        }\n\n        return xml;\n    };\n\n    xmlList = xmlList.concat(populateProcedures(tuple[0], 'procedures_callnoreturn'));\n    xmlList = xmlList.concat(populateProcedures(tuple[1], 'procedures_callreturn'));\n\n    return xmlList;\n};\n\n/**\n * Find the definition block for the named procedure.\n * @param {string} name Name of procedure.\n * @param {!window.Blockly.Workspace} workspace The workspace to search.\n * @return {window.Blockly.Block} The procedure definition block, or null not found.\n */\nwindow.Blockly.Procedures.getDefinition = function (name, workspace) {\n    // Assume that a procedure definition is a top block.\n    const blocks = workspace.getTopBlocks(false);\n    for (let i = 0; i < blocks.length; i++) {\n        if (blocks[i].getProcedureDef) {\n            const tuple = blocks[i].getProcedureDef();\n            if (tuple && window.Blockly.Names.equals(tuple[0], name)) {\n                return blocks[i];\n            }\n        }\n    }\n    return null;\n};\n\n// Scratch has a broken version where they return `false` if window.Blockly.Names.equals(procName[0], name).\n// https://github.com/LLK/scratch-blocks/pull/1930\nwindow.Blockly.Procedures.isNameUsed = function (name, workspace, optExclude) {\n    const blocks = workspace.getAllBlocks(false);\n    // Iterate through every block and check the name.\n    return blocks.some(block => {\n        if (block !== optExclude && block.getProcedureDef) {\n            const procName = block.getProcedureDef();\n            return window.Blockly.Names.equals(procName[0], name);\n        }\n        return false;\n    });\n};\n\n/**\n * Move the workspace based on the most recent mouse movements.\n * @param {!goog.math.Coordinate} currentDragDeltaXY How far the pointer has\n *     moved from the position at the start of the drag, in pixel coordinates.\n * @package\n */\n",
            "size_bytes": 5245
        },
        "src/components/shared/utils/url/index.ts": {
            "content": "export * from './constants';\nexport * from './helpers';\nexport * from './url';\n",
            "size_bytes": 79
        },
        "src/pages/callback/callback-page.tsx": {
            "content": "import Cookies from 'js-cookie';\nimport { crypto_currencies_display_order, fiat_currencies_display_order } from '@/components/shared';\nimport { generateDerivApiInstance } from '@/external/bot-skeleton/services/api/appId';\nimport { observer as globalObserver } from '@/external/bot-skeleton/utils/observer';\nimport { clearAuthData } from '@/utils/auth-utils';\nimport { clearInvalidTokenParams } from '@/utils/url-utils';\nimport { Callback } from '@deriv-com/auth-client';\nimport { Button } from '@deriv-com/ui';\n\n/**\n * Gets the selected currency or falls back to appropriate defaults\n */\nconst getSelectedCurrency = (\n    tokens: Record<string, string>,\n    clientAccounts: Record<string, any>,\n    state: any\n): string => {\n    const getQueryParams = new URLSearchParams(window.location.search);\n    const currency =\n        (state && state?.account) ||\n        getQueryParams.get('account') ||\n        sessionStorage.getItem('query_param_currency') ||\n        '';\n    const firstAccountKey = tokens.acct1;\n    const firstAccountCurrency = clientAccounts[firstAccountKey]?.currency;\n\n    const validCurrencies = [...fiat_currencies_display_order, ...crypto_currencies_display_order];\n    if (tokens.acct1?.startsWith('VR') || currency === 'demo') return 'demo';\n    if (currency && validCurrencies.includes(currency.toUpperCase())) return currency;\n    return firstAccountCurrency || 'USD';\n};\n\nconst CallbackPage = () => {\n    return (\n        <Callback\n            onSignInSuccess={async (tokens: Record<string, string>, rawState: unknown) => {\n                const state = rawState as { account?: string } | null;\n                const accountsList: Record<string, string> = {};\n                const clientAccounts: Record<string, { loginid: string; token: string; currency: string }> = {};\n\n                for (const [key, value] of Object.entries(tokens)) {\n                    if (key.startsWith('acct')) {\n                        const tokenKey = key.replace('acct', 'token');\n                        if (tokens[tokenKey]) {\n                            accountsList[value] = tokens[tokenKey];\n                            clientAccounts[value] = {\n                                loginid: value,\n                                token: tokens[tokenKey],\n                                currency: '',\n                            };\n                        }\n                    } else if (key.startsWith('cur')) {\n                        const accKey = key.replace('cur', 'acct');\n                        if (tokens[accKey]) {\n                            clientAccounts[tokens[accKey]].currency = value;\n                        }\n                    }\n                }\n\n                localStorage.setItem('accountsList', JSON.stringify(accountsList));\n                localStorage.setItem('clientAccounts', JSON.stringify(clientAccounts));\n\n                let is_token_set = false;\n                const api = await generateDerivApiInstance();\n                if (api) {\n                    const { authorize, error } = await api.authorize(tokens.token1);\n                    api.disconnect();\n                    if (error) {\n                        // Check if the error is due to an invalid token\n                        if (error.code === 'InvalidToken') {\n                            // Clear URL query parameters and set is_token_set to true to prevent the app from getting stuck in loading state\n                            clearInvalidTokenParams();\n                            is_token_set = true;\n\n                            // Emit the InvalidToken event for handling by the application\n                            if (Cookies.get('logged_state') === 'true') {\n                                globalObserver.emit('InvalidToken', { error });\n                            }\n\n                            if (Cookies.get('logged_state') === 'false') {\n                                // If the user is not logged out, we need to clear the local storage\n                                clearAuthData();\n                            }\n                        }\n                    } else {\n                        localStorage.setItem('callback_token', authorize.toString());\n                        const clientAccountsArray = Object.values(clientAccounts);\n                        const firstId = authorize?.account_list[0]?.loginid;\n                        const filteredTokens = clientAccountsArray.filter(account => account.loginid === firstId);\n                        if (filteredTokens.length) {\n                            localStorage.setItem('authToken', filteredTokens[0].token);\n                            localStorage.setItem('active_loginid', filteredTokens[0].loginid);\n                            is_token_set = true;\n                        }\n                    }\n                }\n                if (!is_token_set) {\n                    localStorage.setItem('authToken', tokens.token1);\n                    localStorage.setItem('active_loginid', tokens.acct1);\n                }\n                // Determine the appropriate currency to use\n                const selected_currency = getSelectedCurrency(tokens, clientAccounts, state);\n\n                window.location.replace(window.location.origin + `/?account=${selected_currency}`);\n            }}\n            renderReturnButton={() => {\n                return (\n                    <Button\n                        className='callback-return-button'\n                        onClick={() => {\n                            window.location.href = '/';\n                        }}\n                    >\n                        {'Return to Bot'}\n                    </Button>\n                );\n            }}\n        />\n    );\n};\n\nexport default CallbackPage;\n",
            "size_bytes": 5743
        },
        "README.md": {
            "content": "# Derivatives Bot\n\n> A modern platform for automated derivatives trading with visual bot building, real-time analytics, and comprehensive tutorials.\n\n![Prerequisite](https://img.shields.io/badge/node-20.x-blue.svg)\n![Prerequisite](https://img.shields.io/badge/npm-9.x-blue.svg)\n![Build](https://img.shields.io/badge/build-RSBuild-green.svg)\n![Framework](https://img.shields.io/badge/framework-React%2018-blue.svg)\n\n## Table of Contents\n\n- [Getting Started](#getting-started)\n    - [Prerequisites](#prerequisites)\n    - [Installation](#installation)\n- [Project Overview](#project-overview)\n    - [Key Features](#key-features)\n    - [Architecture](#architecture)\n- [Development Workflow](#development-workflow)\n    - [Available Scripts](#available-scripts)\n    - [Starting Development Server](#starting-development-server)\n    - [Building for Production](#building-for-production)\n- [Project Structure](#project-structure)\n- [Technologies Used](#technologies-used)\n- [Configuration](#configuration)\n    - [Environment Variables](#environment-variables)\n    - [Deployment Setup](#deployment-setup)\n- [Testing](#testing)\n- [Troubleshooting](#troubleshooting)\n- [Contributing](#contributing)\n\n## Getting Started\n\n### Prerequisites\n\nBefore working with this repository, ensure you have the following installed:\n\n- **Node.js 20.x** - Required for running the application\n- **npm 9.x** - Package manager\n- **git** - For version control\n\n### Installation\n\n1. **Clone the repository**\n\n    ```sh\n    git clone <repository-url>\n    cd derivatives-bot\n    ```\n\n2. **Install dependencies**\n\n    ```sh\n    npm install\n    ```\n\n3. **Build the application**\n\n    ```sh\n    npm run build\n    ```\n\n4. **Start the development server**\n\n    ```sh\n    npm start\n    ```\n\nThe application will be available at `https://localhost:8443/` (or the port specified by RSBuild).\n\n## Project Overview\n\nDerivatives Bot is a comprehensive platform for automated derivatives trading that provides users with powerful tools to create, test, and deploy trading bots without requiring programming knowledge.\n\n### Key Features\n\n- ** Visual Bot Builder**: Drag-and-drop interface using Blockly for creating trading strategies\n- ** Real-time Dashboard**: Monitor active bots, trading performance, and account statistics\n- ** Integrated Charts**: SmartCharts integration for advanced market analysis\n- ** Interactive Tutorials**: Step-by-step guides for learning bot building and trading strategies\n- ** Responsive Design**: Optimized for both desktop and mobile devices\n- ** Analytics Integration**: Comprehensive tracking with RudderStack and GTM\n- ** Real-time Updates**: WebSocket connections for live market data and bot status\n\n### Architecture\n\nThe application follows a modular, component-based architecture:\n\n- **Frontend**: React 18 with TypeScript for type safety\n- **State Management**: MobX for reactive state management\n- **Build System**: RSBuild for fast development and optimized production builds\n- **Styling**: Sass with component-scoped styles\n- **Testing**: Jest with React Testing Library\n- **Code Quality**: ESLint, Prettier, and Husky for consistent code standards\n\n## Development Workflow\n\n### Available Scripts\n\n| Command                 | Description                              |\n| ----------------------- | ---------------------------------------- |\n| `npm start`             | Start development server with hot reload |\n| `npm run build`         | Create production build                  |\n| `npm run watch`         | Build in watch mode for development      |\n| `npm run serve`         | Serve production build locally           |\n| `npm test`              | Run Jest tests                           |\n| `npm run coverage`      | Generate test coverage report            |\n| `npm run test:lint`     | Run linting and formatting               |\n| `npm run test:fix`      | Fix linting issues automatically         |\n| `npm run build:analyze` | Analyze bundle size with detailed report |\n\n### Starting Development Server\n\nFor local development:\n\n```sh\n# Start the development server\nnpm start\n\n# Alternative: Start with webpack (if needed)\nnpm run start:webpack\n```\n\nThe development server includes:\n\n- Hot module replacement\n- Source maps\n- Live reloading\n- Error overlay\n\n### Building for Production\n\n```sh\n# Create optimized production build\nnpm run build\n\n# Analyze bundle size\nnpm run build:analyze\n\n# Serve production build locally for testing\nnpm run serve\n```\n\n## Project Structure\n\n```\nsrc/\n components/           # Reusable UI components\n    button-link/     # Custom button components\n    error-component/ # Error boundary handling\n    trading-view-chart/ # Chart integration\n pages/               # Main application pages\n    dashboard/       # Bot management dashboard\n    bot-builder/     # Visual bot building interface\n    chart/           # Trading charts and analysis\n    tutorials/       # Interactive learning modules\n    main/            # Main application wrapper\n hooks/               # Custom React hooks\n analytics/           # Analytics and tracking utilities\n external/            # External integrations\n    bot-skeleton/    # Core bot functionality\n styles/              # Global styles and theme\n xml/                 # Pre-built bot strategy templates\n```\n\n### Core Pages\n\n- **Dashboard**: Central hub for managing bots, viewing performance, and accessing quick actions\n- **Bot Builder**: Visual programming interface using Blockly for creating trading strategies\n- **Charts**: Integrated TradingView charts with market analysis tools\n- **Tutorials**: Interactive guides and educational content\n\n## Technologies Used\n\n### Core Technologies\n\n- **React 18** - Modern React with Hooks and Concurrent Features\n- **TypeScript** - Static type checking and enhanced developer experience\n- **MobX** - Reactive state management\n- **React Router** - Client-side routing\n\n### Build & Development\n\n- **RSBuild** - Fast build tool with optimized defaults\n- **Sass** - Advanced CSS with variables and mixins\n- **Jest** - Testing framework\n- **ESLint + Prettier** - Code quality and formatting\n\n### UI & Visualization\n\n- **Blockly** - Visual programming blocks for bot building\n- **TradingView** - Advanced charting and market analysis\n- **Framer Motion** - Smooth animations and transitions\n- **@deriv-com/ui** - Deriv's design system components\n\n### External Services\n\n- **@deriv-com/analytics** - Analytics and user tracking\n- **@deriv/deriv-api** - Trading API integration\n- **@datadog/browser-rum** - Real user monitoring\n\n## Configuration\n\n### Deployment Setup\n\n#### Cloudflare Pages\n\nFor deploying to Cloudflare Pages, configure the following secrets in GitHub Actions:\n\n```env\nCLOUDFLARE_ACCOUNT_ID=your_account_id\nCLOUDFLARE_API_TOKEN=your_api_token\nCLOUDFLARE_PROJECT_NAME=your_project_name\n```\n\n## Testing\n\nThe project uses Jest and React Testing Library for testing:\n\n```sh\n# Run all tests\nnpm test\n\n# Run tests with coverage\nnpm run coverage\n\n# Run tests in watch mode\nnpm test -- --watch\n\n# Run specific test file\nnpm test -- dashboard.spec.tsx\n```\n\n### Test Structure\n\n- **Unit Tests**: Individual component and utility function tests\n- **Integration Tests**: Testing component interactions\n- **End-to-End**: Testing complete user workflows\n\n## Troubleshooting\n\n### Common Issues\n\n1. **Development server won't start**\n\n    ```sh\n    # Clear npm cache and reinstall\n    npm cache clean --force\n    rm -rf node_modules package-lock.json\n    npm install\n    ```\n\n2. **Build failures**\n\n    ```sh\n    # Check Node.js version\n    node --version  # Should be 20.x\n\n    # Clear RSBuild cache\n    rm -rf dist\n    npm run build\n    ```\n\n3. **Blockly workspace issues**\n    - Ensure browser supports Web Workers\n    - Check console for JavaScript errors\n    - Try refreshing the page to reinitialize workspace\n\n4. **WebSocket connection problems**\n    - Verify network connectivity\n    - Check if firewall is blocking WebSocket connections\n    - Ensure correct API endpoints in environment variables\n\n### Performance Optimization\n\n- Use `npm run build:analyze` to identify bundle size issues\n- Lazy load components using React.lazy() where appropriate\n- Monitor memory usage in browser DevTools\n- Use React DevTools Profiler to identify rendering bottlenecks\n\n## Contributing\n\n1. **Fork the repository**\n2. **Create a feature branch**: `git checkout -b feature/amazing-feature`\n3. **Make your changes**\n4. **Run tests**: `npm test`\n5. **Run linting**: `npm run test:lint`\n6. **Commit your changes**: `git commit -m 'Add amazing feature'`\n7. **Push to the branch**: `git push origin feature/amazing-feature`\n8. **Open a Pull Request**\n\n### Code Standards\n\n- Follow TypeScript best practices\n- Use functional components with hooks\n- Write comprehensive tests for new features\n- Follow existing naming conventions\n- Update documentation for significant changes\n\n### Git Workflow\n\n- Use conventional commits: `feat:`, `fix:`, `docs:`, `style:`, `refactor:`, `test:`\n- Keep commits atomic and focused\n- Write descriptive commit messages\n- Rebase feature branches before merging\n\n---\n\nFor additional support or questions, please refer to the project's issue tracker or contact the development team.\n",
            "size_bytes": 9403
        },
        "src/components/shared/utils/constants/poi-failure-codes.tsx": {
            "content": "import React from 'react';\nimport { Localize } from '@deriv-com/translations';\n\ntype TIDVErrorStatus = Readonly<{\n    [key: string]: {\n        code: keyof typeof IDV_ERROR_STATUS;\n        message: React.ReactNode;\n    };\n}>;\n\ntype TOnfidoErrorStatus = Readonly<{\n    [key: string]: {\n        code: keyof typeof ONFIDO_ERROR_STATUS;\n        message: React.ReactNode;\n    };\n}>;\n\nexport const IDV_ERROR_STATUS: TIDVErrorStatus = Object.freeze({\n    DobMismatch: {\n        code: 'DobMismatch',\n        message: (\n            <Localize\n                i18n_default_text=\"The <0>date of birth</0> on your identity document doesn't match your profile.\"\n                components={[<strong key={0} />]}\n            />\n        ),\n    },\n    DocumentRejected: {\n        code: 'DocumentRejected',\n        message: (\n            <Localize i18n_default_text='We were unable to verify the identity document with the details provided.' />\n        ),\n    },\n    EmptyStatus: {\n        code: 'EmptyStatus',\n        message: <Localize i18n_default_text='The verification status was empty, rejected for lack of information.' />,\n    },\n    Expired: { code: 'Expired', message: <Localize i18n_default_text='Your identity document has expired.' /> },\n    InformationLack: {\n        code: 'InformationLack',\n        message: (\n            <Localize i18n_default_text='The verification is passed but the personal info is not available to compare.' />\n        ),\n    },\n    MalformedJson: {\n        code: 'MalformedJson',\n        message: (\n            <Localize i18n_default_text='The verification status is not available, provider says: Malformed JSON.' />\n        ),\n    },\n    NameMismatch: {\n        code: 'NameMismatch',\n        message: (\n            <Localize\n                i18n_default_text=\"The <0>name</0> on your identity document doesn't match your profile.\"\n                components={[<strong key={0} />]}\n            />\n        ),\n    },\n    RejectedByProvider: {\n        code: 'RejectedByProvider',\n        message: <Localize i18n_default_text='The document was rejected by the Provider.' />,\n    },\n    Underage: {\n        code: 'Underage',\n        message: <Localize i18n_default_text='Youre under legal age.' />,\n    },\n    Deceased: {\n        code: 'Deceased',\n        message: <Localize i18n_default_text='The documents owner is deceased.' />,\n    },\n    Failed: {\n        code: 'Failed',\n        message: (\n            <Localize i18n_default_text='We were unable to verify the identity document with the details provided.' />\n        ),\n    },\n    NameDobMismatch: {\n        code: 'NameDobMismatch',\n        message: (\n            <Localize\n                i18n_default_text=\"The <0>name</0> and <0>date of birth</0> on your identity document don't match your profile.\"\n                components={[<strong key={0} />]}\n            />\n        ),\n    },\n    NeedsTechnicalInvestigation: {\n        code: 'NeedsTechnicalInvestigation',\n        message: (\n            <Localize i18n_default_text='The verification status is not available, provider says: Needs Technical Investigation.' />\n        ),\n    },\n    HighRisk: {\n        code: 'HighRisk',\n        message: (\n            <Localize i18n_default_text='For enhanced security, we need to reverify your identity. Kindly resubmit your proof of identity to unlock your account.' />\n        ),\n    },\n    ReportNotAvailable: {\n        code: 'ReportNotAvailable',\n        message: (\n            <Localize i18n_default_text='We were unable to verify the identity document with the details provided.' />\n        ),\n    },\n});\n\nexport const ONFIDO_ERROR_STATUS: TOnfidoErrorStatus = Object.freeze({\n    AgeValidationMinimumAcceptedAge: {\n        code: 'AgeValidationMinimumAcceptedAge',\n        message: (\n            <Localize i18n_default_text='Your age in the document you provided appears to be below 18 years. Were only allowed to offer our services to clients above 18 years old, so well need to close your account. If you have a balance in your account, contact us via live chat and well help to withdraw your funds before your account is closed.' />\n        ),\n    },\n    CompromisedDocument: {\n        code: 'CompromisedDocument',\n        message: <Localize i18n_default_text='Your document failed our verification checks.' />,\n    },\n    DataComparisonDateOfBirth: {\n        code: 'DataComparisonDateOfBirth',\n        message: <Localize i18n_default_text='The date of birth on your document doesnt match your profile.' />,\n    },\n    DataComparisonDateOfExpiry: {\n        code: 'DataComparisonDateOfExpiry',\n        message: <Localize i18n_default_text='Your document has expired.' />,\n    },\n    DataComparisonDocumentNumbers: {\n        code: 'DataComparisonDocumentNumbers',\n        message: <Localize i18n_default_text='Your document appears to be invalid.' />,\n    },\n    DataComparisonDocumentType: {\n        code: 'DataComparisonDocumentType',\n        message: <Localize i18n_default_text='Your document appears to be invalid.' />,\n    },\n    DataComparisonIssuingCountry: {\n        code: 'DataComparisonIssuingCountry',\n        message: <Localize i18n_default_text='Your document appears to be invalid.' />,\n    },\n    DataComparisonName: {\n        code: 'DataComparisonName',\n        message: <Localize i18n_default_text='The name on your document doesnt match your profile.' />,\n    },\n    DataValidationDateOfBirth: {\n        code: 'DataValidationDateOfBirth',\n        message: (\n            <Localize i18n_default_text='Some details on your document appear to be invalid, missing, or unclear.' />\n        ),\n    },\n    DataValidationDocumentExpiration: {\n        code: 'DataValidationDocumentExpiration',\n        message: <Localize i18n_default_text='Your document has expired.' />,\n    },\n    DataValidationDocumentNumbers: {\n        code: 'DataValidationDocumentNumbers',\n        message: (\n            <Localize i18n_default_text='Some details in your document appear to be invalid, missing, or unclear.' />\n        ),\n    },\n    DataValidationExpiryDate: {\n        code: 'DataValidationExpiryDate',\n        message: (\n            <Localize i18n_default_text='Some details on your document appear to be invalid, missing, or unclear.' />\n        ),\n    },\n    DataValidationMrz: {\n        code: 'DataValidationMrz',\n        message: (\n            <Localize i18n_default_text='Some details on your document appear to be invalid, missing, or unclear.' />\n        ),\n    },\n    DataValidationNoDocumentNumbers: {\n        code: 'DataValidationNoDocumentNumbers',\n        message: <Localize i18n_default_text='The serial number of your document couldnt be verified.' />,\n    },\n    DuplicatedDocument: {\n        code: 'DuplicatedDocument',\n        message: <Localize i18n_default_text='Your verification documents were already used for another account.' />,\n    },\n    Expired: { code: 'Expired', message: <Localize i18n_default_text='Your document has expired.' /> },\n    ImageIntegrityColourPicture: {\n        code: 'ImageIntegrityColourPicture',\n        message: (\n            <Localize i18n_default_text='Your document appears to be in black and white. Please upload a colour photo of your document.' />\n        ),\n    },\n    ImageIntegrityConclusiveDocumentQuality: {\n        code: 'ImageIntegrityConclusiveDocumentQuality',\n        message: <Localize i18n_default_text='Your document appears to be invalid.' />,\n    },\n    ImageIntegrityConclusiveDocumentQualityAbnormalDocumentFeatures: {\n        code: 'ImageIntegrityConclusiveDocumentQualityAbnormalDocumentFeatures',\n        message: (\n            <Localize i18n_default_text='Some details on your document appear to be invalid, missing, or unclear.' />\n        ),\n    },\n    ImageIntegrityConclusiveDocumentQualityCornerRemoved: {\n        code: 'ImageIntegrityConclusiveDocumentQualityCornerRemoved',\n        message: <Localize i18n_default_text='Your document appears to be damaged or cropped.' />,\n    },\n    ImageIntegrityConclusiveDocumentQualityDigitalDocument: {\n        code: 'ImageIntegrityConclusiveDocumentQualityDigitalDocument',\n        message: <Localize i18n_default_text='Your document appears to be a digital document.' />,\n    },\n    ImageIntegrityConclusiveDocumentQualityMissingBack: {\n        code: 'ImageIntegrityConclusiveDocumentQualityMissingBack',\n        message: (\n            <Localize i18n_default_text='The back of your document appears to be missing. Please include both sides of your identity document.' />\n        ),\n    },\n    ImageIntegrityConclusiveDocumentQualityObscuredDataPoints: {\n        code: 'ImageIntegrityConclusiveDocumentQualityObscuredDataPoints',\n        message: (\n            <Localize i18n_default_text='Some details on your document appear to be invalid, missing, or unclear.' />\n        ),\n    },\n    ImageIntegrityConclusiveDocumentQualityObscuredSecurityFeatures: {\n        code: 'ImageIntegrityConclusiveDocumentQualityObscuredSecurityFeatures',\n        message: (\n            <Localize i18n_default_text='Some details on your document appear to be invalid, missing, or unclear.' />\n        ),\n    },\n    ImageIntegrityConclusiveDocumentQualityPuncturedDocument: {\n        code: 'ImageIntegrityConclusiveDocumentQualityPuncturedDocument',\n        message: <Localize i18n_default_text='Your document appears to be damaged or cropped.' />,\n    },\n    ImageIntegrityConclusiveDocumentQualityWatermarksDigitalTextOverlay: {\n        code: 'ImageIntegrityConclusiveDocumentQualityWatermarksDigitalTextOverlay',\n        message: (\n            <Localize i18n_default_text='Your document contains markings or text that should not be on your document.' />\n        ),\n    },\n    ImageIntegrityImageQuality: {\n        code: 'ImageIntegrityImageQuality',\n        message: (\n            <Localize i18n_default_text='The image quality of your document is too low. Please provide a hi-res photo of your identity document.' />\n        ),\n    },\n    ImageIntegrityImageQualityBlurredPhoto: {\n        code: 'ImageIntegrityImageQualityBlurredPhoto',\n        message: (\n            <Localize i18n_default_text=\"We were unable to verify your selfie because its not clear. Please take a clearer photo and try again. Ensure that there's enough light where you are and that your entire face is in the frame.\" />\n        ),\n    },\n    ImageIntegrityImageQualityCoveredPhoto: {\n        code: 'ImageIntegrityImageQualityCoveredPhoto',\n        message: (\n            <Localize i18n_default_text='Were unable to verify the document you provided because some details appear to be missing. Please try again or provide another document.' />\n        ),\n    },\n    ImageIntegrityImageQualityCutOffDocument: {\n        code: 'ImageIntegrityImageQualityCutOffDocument',\n        message: (\n            <Localize i18n_default_text='Were unable to verify the document you provided because it appears to be damaged. Please try again or upload another document.' />\n        ),\n    },\n    ImageIntegrityImageQualityDamagedDocument: {\n        code: 'ImageIntegrityImageQualityDamagedDocument',\n        message: (\n            <Localize i18n_default_text='Were unable to verify the document you provided because it appears to be damaged. Please try again or upload another document.' />\n        ),\n    },\n    ImageIntegrityImageQualityDarkPhoto: {\n        code: 'ImageIntegrityImageQualityDarkPhoto',\n        message: (\n            <Localize i18n_default_text='We were unable to verify your selfie because its not clear. Please take a clearer photo and try again. Ensure that theres enough light where you are and that your entire face is in the frame.' />\n        ),\n    },\n    ImageIntegrityImageQualityGlareOnPhoto: {\n        code: 'ImageIntegrityImageQualityGlareOnPhoto',\n        message: (\n            <Localize i18n_default_text='We were unable to verify your selfie because its not clear. Please take a clearer photo and try again. Ensure that theres enough light where you are and that your entire face is in the frame.' />\n        ),\n    },\n    ImageIntegrityImageQualityIncorrectSide: {\n        code: 'ImageIntegrityImageQualityIncorrectSide',\n        message: (\n            <Localize i18n_default_text='The front of your document appears to be missing. Please provide both sides of your identity document.' />\n        ),\n    },\n    ImageIntegrityImageQualityNoDocumentInImage: {\n        code: 'ImageIntegrityImageQualityNoDocumentInImage',\n        message: (\n            <Localize i18n_default_text='Were unable to verify the document you provided because it appears to be a blank image. Please try again or upload another document.' />\n        ),\n    },\n    ImageIntegrityImageQualityOtherPhotoIssue: {\n        code: 'ImageIntegrityImageQualityOtherPhotoIssue',\n        message: (\n            <Localize i18n_default_text='Were unable to verify the document you provided because some details appear to be missing. Please try again or provide another document.' />\n        ),\n    },\n    ImageIntegrityImageQualityTwoDocumentsUploaded: {\n        code: 'ImageIntegrityImageQualityTwoDocumentsUploaded',\n        message: (\n            <Localize i18n_default_text='The document you provided appears to be two different types. Please try again or provide another document.' />\n        ),\n    },\n    ImageIntegritySupportedDocument: {\n        code: 'ImageIntegritySupportedDocument',\n        message: (\n            <Localize i18n_default_text='The document you provided is not supported for your country. Please provide a supported document for your country.' />\n        ),\n    },\n    SelfieRejected: {\n        code: 'SelfieRejected',\n        message: <Localize i18n_default_text='Your selfie does not match your document.' />,\n    },\n    VisualAuthenticityDigitalTampering: {\n        code: 'VisualAuthenticityDigitalTampering',\n        message: <Localize i18n_default_text='Your document appears to be invalid.' />,\n    },\n    VisualAuthenticityFaceDetection: {\n        code: 'VisualAuthenticityFaceDetection',\n        message: <Localize i18n_default_text='Your document appears to be invalid.' />,\n    },\n    VisualAuthenticityFonts: {\n        code: 'VisualAuthenticityFonts',\n        message: <Localize i18n_default_text='Your document appears to be invalid.' />,\n    },\n    VisualAuthenticityOriginalDocumentPresent: {\n        code: 'VisualAuthenticityOriginalDocumentPresent',\n        message: (\n            <Localize i18n_default_text='Your document appears to be a scanned copy that contains markings or text that shouldnt be on your document.' />\n        ),\n    },\n    VisualAuthenticityOriginalDocumentPresentDocumentOnPrintedPaper: {\n        code: 'VisualAuthenticityOriginalDocumentPresentDocumentOnPrintedPaper',\n        message: <Localize i18n_default_text='Your document appears to be a printed copy.' />,\n    },\n    VisualAuthenticityOriginalDocumentPresentPhotoOfScreen: {\n        code: 'VisualAuthenticityOriginalDocumentPresentPhotoOfScreen',\n        message: <Localize i18n_default_text='Your document appears to be a photo of a device screen.' />,\n    },\n    VisualAuthenticityOriginalDocumentPresentScan: {\n        code: 'VisualAuthenticityOriginalDocumentPresentScan',\n        message: (\n            <Localize i18n_default_text='Were unable to verify the document you provided because it contains markings or text that should not be on your document. Please provide a clear photo or a scan of your original identity document.' />\n        ),\n    },\n    VisualAuthenticityOriginalDocumentPresentScreenshot: {\n        code: 'VisualAuthenticityOriginalDocumentPresentScreenshot',\n        message: <Localize i18n_default_text='Your document appears to be a screenshot.' />,\n    },\n    VisualAuthenticityPictureFaceIntegrity: {\n        code: 'VisualAuthenticityPictureFaceIntegrity',\n        message: <Localize i18n_default_text='Your document appears to be invalid.' />,\n    },\n    VisualAuthenticitySecurityFeatures: {\n        code: 'VisualAuthenticitySecurityFeatures',\n        message: <Localize i18n_default_text='Your document appears to be invalid.' />,\n    },\n    VisualAuthenticityTemplate: {\n        code: 'VisualAuthenticityTemplate',\n        message: <Localize i18n_default_text='Your document appears to be invalid.' />,\n    },\n});\n",
            "size_bytes": 16263
        },
        "src/utils/help-content/help-strings/read_ohlc.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize(\n            'This block gives you the specified candle value for a selected time interval. You can choose which value you want:'\n        ),\n        localize('- Open: the opening price'),\n        localize('- High: the highest price'),\n        localize('- Low: the lowest price'),\n        localize('- Close: the closing price'),\n        localize('- Open time: the opening time stamp'),\n        localize(\n            'In the example below, the opening price is selected, which is then assigned to a variable called \"op\".'\n        ),\n    ],\n};\n",
            "size_bytes": 646
        },
        "src/components/shared_ui/popover/popover.tsx": {
            "content": "import React, { RefObject } from 'react';\nimport classNames from 'classnames';\nimport { ArrowContainer, Popover as TinyPopover } from 'react-tiny-popover';\nimport { useHover, useHoverCallback } from '@/hooks/useHover';\nimport {\n    LabelPairedCircleDotCaptionFillIcon,\n    LabelPairedCircleInfoCaptionRegularIcon,\n} from '@deriv/quill-icons/LabelPaired';\nimport { LegacyWarningIcon } from '@deriv/quill-icons/Legacy';\nimport { useDevice } from '@deriv-com/ui';\nimport Text from '../text';\nimport { TPopoverProps } from '../types';\n\nconst Popover = ({\n    alignment,\n    children,\n    className,\n    classNameBubble,\n    classNameTarget,\n    classNameTargetIcon,\n    counter,\n    disable_message_icon,\n    disable_target_icon,\n    has_error,\n    icon,\n    id,\n    is_open,\n    is_bubble_hover_enabled,\n    margin = 0,\n    message,\n    onBubbleClose,\n    onBubbleOpen,\n    onClick = () => undefined,\n    relative_render = false,\n    should_disable_pointer_events = false,\n    should_show_cursor,\n    zIndex = '1',\n    data_testid,\n    arrow_styles,\n}: React.PropsWithChildren<TPopoverProps>) => {\n    const ref = React.useRef<HTMLDivElement | undefined>();\n    const [popover_ref, setPopoverRef] = React.useState<HTMLDivElement | undefined>(undefined);\n    const [is_bubble_visible, setIsBubbleVisible] = React.useState(false);\n    const { isDesktop } = useDevice();\n    const [hover_ref, is_hovered] = useHover(null, true);\n    const [bubble_hover_ref, is_bubble_hovered] = useHoverCallback();\n    const should_toggle_on_target_tap = React.useMemo(() => !isDesktop && is_open === undefined, [isDesktop, is_open]);\n\n    React.useEffect(() => {\n        if (ref.current) {\n            setPopoverRef(ref.current);\n        }\n    }, [has_error]);\n    React.useEffect(() => {\n        if (!is_hovered && should_toggle_on_target_tap) {\n            setIsBubbleVisible(false);\n        }\n    }, [is_hovered, should_toggle_on_target_tap]);\n\n    const onMouseEnter = () => {\n        if (onBubbleOpen) onBubbleOpen();\n    };\n\n    const onMouseLeave = () => {\n        if (onBubbleClose) onBubbleClose();\n    };\n\n    const icon_class_name = classNames(classNameTargetIcon, icon);\n    const is_open_on_focus = is_hovered && message && (!should_toggle_on_target_tap || is_bubble_visible);\n\n    return (\n        <div\n            ref={hover_ref as RefObject<HTMLDivElement & SVGSVGElement>}\n            className={classNames({ 'dc-popover__wrapper': relative_render })}\n            onClick={(e: React.MouseEvent<HTMLDivElement>) => {\n                onClick(e);\n                if (should_toggle_on_target_tap) setIsBubbleVisible(!is_bubble_visible);\n            }}\n            data-testid='dt_popover_wrapper'\n        >\n            {relative_render && (\n                <div className='dc-popover__container' style={{ zIndex }}>\n                    <div\n                        ref={ref as RefObject<HTMLDivElement>}\n                        className='dc-popover__container-relative'\n                        data-testid='dt_popover_relative_container'\n                    />\n                </div>\n            )}\n            {(popover_ref || !relative_render) && (\n                <TinyPopover\n                    isOpen={\n                        is_open ?? ((is_open_on_focus || (is_bubble_hover_enabled && is_bubble_hovered)) as boolean)\n                    }\n                    positions={[alignment]}\n                    padding={margin + 8}\n                    containerClassName={classNames({\n                        'react-tiny-popover-container--disabled-pointer-event': should_disable_pointer_events,\n                        'react-tiny-popover-cursor-option': should_show_cursor,\n                    })}\n                    {...(relative_render\n                        ? {\n                              parentElement: popover_ref,\n                              contentLocation: ({ childRect, popoverRect, nudgedLeft }) => {\n                                  const screen_width = document.body.clientWidth;\n                                  const total_width = childRect.right + (popoverRect.width - childRect.width / 2);\n                                  let top_offset = 0;\n                                  let left_offset = 0;\n\n                                  switch (alignment) {\n                                      case 'left': {\n                                          left_offset =\n                                              Math.abs(\n                                                  (popoverRect.height > popoverRect.width\n                                                      ? nudgedLeft\n                                                      : popoverRect.width) + margin\n                                              ) * -1;\n                                          top_offset =\n                                              childRect.height > popoverRect.height\n                                                  ? (childRect.height - popoverRect.height) / 2\n                                                  : ((popoverRect.height - childRect.height) / 2) * -1;\n                                          break;\n                                      }\n                                      case 'right': {\n                                          left_offset = popoverRect.width + margin;\n                                          top_offset =\n                                              childRect.height > popoverRect.height\n                                                  ? (childRect.height - popoverRect.height) / 2\n                                                  : ((popoverRect.height - childRect.height) / 2) * -1;\n                                          break;\n                                      }\n                                      case 'top': {\n                                          left_offset =\n                                              total_width > screen_width\n                                                  ? Math.abs(total_width - screen_width) * -1\n                                                  : 0;\n                                          top_offset = Math.abs(popoverRect.height + margin) * -1;\n                                          break;\n                                      }\n                                      case 'bottom': {\n                                          left_offset =\n                                              total_width > screen_width\n                                                  ? Math.abs(total_width - screen_width) * -1\n                                                  : 0;\n                                          top_offset = childRect.height + margin;\n                                          break;\n                                      }\n                                      default:\n                                          break;\n                                  }\n                                  return {\n                                      top: top_offset,\n                                      left: left_offset,\n                                  };\n                              },\n                          }\n                        : { containerStyle: { zIndex } })}\n                    content={({ position, childRect, popoverRect }) => {\n                        return (\n                            <ArrowContainer\n                                position={position}\n                                childRect={childRect}\n                                popoverRect={popoverRect}\n                                arrowColor={has_error ? 'var(--status-danger)' : 'var(--general-active)'}\n                                arrowSize={5}\n                                arrowStyle={\n                                    relative_render\n                                        ? {\n                                              borderTop: '10px solid transparent',\n                                              borderLeft: '10px solid transparent',\n                                              borderRight: `10px solid ${\n                                                  has_error ? 'var(--status-danger)' : 'var(--general-active)'\n                                              }`,\n                                              transform: 'rotate(315deg)',\n                                              right: '0px',\n                                              top: '5px',\n                                              height: '10px',\n                                              margin: 'auto',\n                                              bottom: '0px',\n                                          }\n                                        : {\n                                              ...arrow_styles,\n                                          }\n                                }\n                            >\n                                <div\n                                    id={id}\n                                    onMouseEnter={onMouseEnter}\n                                    onMouseLeave={onMouseLeave}\n                                    className={classNames(classNameBubble, 'dc-popover__bubble', {\n                                        'dc-popover__bubble--error': has_error,\n                                    })}\n                                    ref={bubble_hover_ref as (node: HTMLDivElement) => void}\n                                >\n                                    {!disable_message_icon && icon === 'info' && (\n                                        <i className='dc-popover__bubble__icon'>\n                                            <LabelPairedCircleInfoCaptionRegularIcon />\n                                        </i>\n                                    )}\n                                    {(has_error && (\n                                        <Text size='xxs' color='colored-background'>\n                                            {message}\n                                        </Text>\n                                    )) || (\n                                        <Text lineHeight='md' size='xxs' className='dc-popover__bubble__text'>\n                                            {message}\n                                        </Text>\n                                    )}\n                                </div>\n                            </ArrowContainer>\n                        );\n                    }}\n                >\n                    <div data-testid={data_testid} className={classNames('dc-popover', className)} id={id}>\n                        <div className={classNames(classNameTarget, 'dc-popover__target')}>\n                            {!disable_target_icon && (\n                                <i\n                                    className={\n                                        message ? 'dc-popover__target__icon' : 'dc-popover__target__icon--disabled'\n                                    }\n                                >\n                                    {icon === 'info' && (\n                                        <LabelPairedCircleInfoCaptionRegularIcon className={icon_class_name} />\n                                    )}\n                                    {icon === 'question' && <LegacyWarningIcon className={icon_class_name} />}\n                                    {icon === 'dot' && (\n                                        <LabelPairedCircleDotCaptionFillIcon className={icon_class_name} />\n                                    )}\n                                    {icon === 'counter' && <span className={icon_class_name}>{counter}</span>}\n                                </i>\n                            )}\n\n                            {children}\n                        </div>\n                    </div>\n                </TinyPopover>\n            )}\n        </div>\n    );\n};\n\nexport default Popover;\n",
            "size_bytes": 11845
        },
        "src/utils/mock/ws-mock.ts": {
            "content": "export const mock_ws = {\n    authorized: {\n        subscribeProposalOpenContract: jest.fn(),\n        send: jest.fn(),\n        activeSymbols: jest.fn(() => Promise.resolve({ active_symbols: [] })),\n    },\n    storage: {\n        send: jest.fn(),\n    },\n    contractUpdate: jest.fn(),\n    subscribeTicksHistory: jest.fn((req, callback) => {\n        const subscriber = {\n            history: {\n                times: [],\n                prices: [],\n            },\n            msg_type: 'history',\n            pip_size: 3,\n            req_id: 31,\n            unsubscribe: jest.fn(),\n        };\n        callback();\n        return subscriber;\n    }),\n    forgetStream: jest.fn(),\n    activeSymbols: jest.fn(),\n    send: jest.fn(),\n    tradingTimes: jest.fn(() => Promise.resolve({ error: true })),\n};\n",
            "size_bytes": 794
        },
        "src/components/shared/utils/shortcode/index.ts": {
            "content": "export * from './shortcode';\n",
            "size_bytes": 29
        },
        "src/components/transaction-details/index.ts": {
            "content": "import TransactionDetails from './transaction-details';\n\nexport default TransactionDetails;\n",
            "size_bytes": 92
        },
        "src/components/shared_ui/dropdown-list/dropdown-list.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport ReactDOM from 'react-dom';\nimport { CSSTransition } from 'react-transition-group';\nimport { ResidenceList } from '@deriv/api-types';\nimport ThemedScrollbars from '../themed-scrollbars/themed-scrollbars';\n\nexport type TItem =\n    | string\n    | (ResidenceList[0] & {\n          component?: React.ReactNode;\n          group?: string;\n          text?: string;\n          value?: string;\n      });\n\ntype TListItem = {\n    is_active: boolean;\n    is_disabled?: boolean;\n    index: number;\n    item: TItem;\n    child_ref: React.LegacyRef<HTMLDivElement>;\n    onItemSelection: (item: TItem) => void;\n    is_object_list?: boolean;\n    setActiveIndex: (index: number) => void;\n};\n\ntype TListItems = {\n    active_index: number;\n    is_object_list?: boolean;\n    list_items: TItem[];\n    not_found_text?: string;\n    onItemSelection: (item: TItem) => void;\n    setActiveIndex: (index: number) => void;\n};\n\ntype TDropdownRefs = {\n    dropdown_ref: React.RefObject<HTMLDivElement & SVGSVGElement> | null;\n    list_item_ref?: React.RefObject<HTMLDivElement>;\n    list_wrapper_ref: React.RefObject<HTMLDivElement>;\n};\n\ntype TDropDownList = {\n    active_index: number;\n    is_visible: boolean;\n    list_items: TItem[];\n    list_height: string;\n    onScrollStop?: React.UIEventHandler<HTMLDivElement>;\n    onItemSelection: (item: TItem) => void;\n    setActiveIndex: (index: number) => void;\n    style: React.CSSProperties;\n    not_found_text?: string;\n    portal_id?: string;\n    dropdown_refs?: TDropdownRefs;\n};\n\nconst ListItem = ({ is_active, is_disabled, index, item, child_ref, onItemSelection, setActiveIndex }: TListItem) => {\n    return (\n        <div\n            ref={child_ref}\n            // onMouseDown ensures the click handler runs before the onBlur event of Input\n            onMouseDown={event => {\n                event.stopPropagation();\n                onItemSelection(item);\n                setActiveIndex(index);\n            }}\n            className={classNames('dc-dropdown-list__item', {\n                'dc-dropdown-list__item--active': is_active,\n                'dc-dropdown-list__item--disabled': is_disabled,\n            })}\n        >\n            {typeof item === 'object' ? item.component || item.text : item}\n        </div>\n    );\n};\n\nconst ListItems = React.forwardRef<HTMLDivElement, TListItems>((props, ref) => {\n    const { active_index, list_items, is_object_list, onItemSelection, setActiveIndex, not_found_text } = props;\n    const is_grouped_list = list_items?.some(list_item => typeof list_item === 'object' && !!list_item.group);\n\n    if (is_grouped_list) {\n        const groups: { [key: string]: TItem[] } = {};\n\n        list_items.forEach(list_item => {\n            const group = (typeof list_item === 'object' && list_item.group) || '?';\n            if (!groups[group]) {\n                groups[group] = [];\n            }\n            groups[group].push(list_item);\n        });\n\n        const group_names = Object.keys(groups);\n        let item_idx = -1;\n\n        return (\n            <>\n                {group_names.map((group_name, group_idx) => {\n                    const group = groups[group_name];\n                    const has_separator = !!group_names[group_idx + 1];\n                    return (\n                        <React.Fragment key={`group${group_idx}`}>\n                            <div className='dc-dropdown-list__group-header'>{group_name}</div>\n                            {group.map(item => {\n                                item_idx++;\n                                return (\n                                    <ListItem\n                                        key={item_idx}\n                                        item={item}\n                                        index={item_idx}\n                                        is_active={item_idx === active_index}\n                                        onItemSelection={onItemSelection}\n                                        setActiveIndex={setActiveIndex}\n                                        is_object_list={is_object_list}\n                                        is_disabled={typeof item === 'object' && item.disabled === 'DISABLED'}\n                                        child_ref={item_idx === active_index ? ref : null}\n                                    />\n                                );\n                            })}\n                            {has_separator && <div className='dc-dropdown-list__separator' />}\n                        </React.Fragment>\n                    );\n                })}\n            </>\n        );\n    }\n\n    return (\n        <>\n            {list_items?.length ? (\n                list_items.map((item, item_idx) => (\n                    <ListItem\n                        key={item_idx}\n                        item={item}\n                        index={item_idx}\n                        is_active={item_idx === active_index}\n                        onItemSelection={onItemSelection}\n                        is_object_list={is_object_list}\n                        setActiveIndex={setActiveIndex}\n                        child_ref={item_idx === active_index ? ref : null}\n                    />\n                ))\n            ) : (\n                <div className='dc-dropdown-list__item dc-dropdown-list__item--not-found'>{not_found_text}</div>\n            )}\n        </>\n    );\n});\nListItems.displayName = 'ListItems';\n\nconst DropdownList = (props: TDropDownList) => {\n    const { dropdown_ref, list_item_ref, list_wrapper_ref } = props.dropdown_refs || {};\n    const {\n        active_index,\n        is_visible,\n        list_items,\n        list_height,\n        onScrollStop,\n        onItemSelection,\n        setActiveIndex,\n        style,\n        not_found_text,\n        portal_id,\n    } = props;\n\n    if (list_items?.length && typeof list_items[0] !== 'string' && typeof list_items[0] !== 'object') {\n        throw Error('Dropdown received wrong data structure');\n    }\n\n    const is_object = !Array.isArray(list_items) && typeof list_items === 'object';\n    const is_string_array = list_items?.length && typeof list_items[0] === 'string';\n\n    const el_dropdown_list = (\n        <CSSTransition\n            appear={is_visible}\n            in={is_visible}\n            timeout={100}\n            classNames={{\n                enter: 'dc-dropdown-list--enter',\n                enterDone: 'dc-dropdown-list--enter-done',\n                exit: 'dc-dropdown-list--exit',\n            }}\n            unmountOnExit\n        >\n            <div style={style} className='dc-dropdown-list' ref={list_wrapper_ref}>\n                <ThemedScrollbars height={list_height || '220px'} refSetter={dropdown_ref} onScroll={onScrollStop}>\n                    {is_object ? (\n                        Object.keys(list_items).map((items, idx) => (\n                            <ListItems\n                                key={idx}\n                                not_found_text={not_found_text}\n                                active_index={active_index}\n                                list_items={list_items[items]}\n                                ref={list_item_ref}\n                                onItemSelection={onItemSelection}\n                                setActiveIndex={setActiveIndex}\n                            />\n                        ))\n                    ) : (\n                        <ListItems\n                            not_found_text={not_found_text}\n                            active_index={active_index}\n                            list_items={list_items}\n                            ref={list_item_ref}\n                            onItemSelection={onItemSelection}\n                            is_object_list={!is_string_array}\n                            setActiveIndex={setActiveIndex}\n                        />\n                    )}\n                </ThemedScrollbars>\n            </div>\n        </CSSTransition>\n    );\n\n    if (portal_id) {\n        const container = document.getElementById(portal_id);\n        return container && ReactDOM.createPortal(el_dropdown_list, container);\n    }\n    return el_dropdown_list;\n};\n\nDropdownList.displayName = 'DropdownList';\n\nexport default DropdownList;\n",
            "size_bytes": 8221
        },
        "src/components/shared_ui/progress-slider/progress-slider.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport moment from 'moment';\nimport { getTimePercentage } from '@/components/shared';\nimport RemainingTime from '../remaining-time';\nimport Text from '../text';\nimport { TGetCardLables } from '../types';\nimport ProgressTicks from './progress-ticks';\n\ntype TProgressSliderProps = {\n    className?: string;\n    current_tick: number | null;\n    expiry_time?: number;\n    getCardLabels: TGetCardLables;\n    is_loading: boolean;\n    server_time: moment.Moment;\n    start_time?: number;\n    ticks_count?: number;\n};\n\nconst ProgressSlider = ({\n    className,\n    current_tick,\n    expiry_time,\n    getCardLabels,\n    is_loading,\n    server_time,\n    start_time,\n    ticks_count,\n}: TProgressSliderProps) => {\n    const percentage = getTimePercentage(server_time, Number(start_time), Number(expiry_time));\n    return (\n        <div className={classNames('dc-progress-slider', className)}>\n            {ticks_count ? (\n                <ProgressTicks current_tick={current_tick} getCardLabels={getCardLabels} ticks_count={ticks_count} />\n            ) : (\n                <React.Fragment>\n                    <Text size='xxxs' className='dc-progress-slider__remaining-time'>\n                        <RemainingTime end_time={expiry_time} getCardLabels={getCardLabels} start_time={server_time} />\n                    </Text>\n                    {is_loading || percentage < 1 ? (\n                        <div className='dc-progress-slider__infinite-loader'>\n                            <div className='dc-progress-slider__infinite-loader--indeterminate' />\n                        </div>\n                    ) : (\n                        /* Calculate line width based on percentage of time left */\n                        <div className='dc-progress-slider__track'>\n                            <div\n                                className={classNames('dc-progress-slider__line', {\n                                    'dc-progress-slider__line--green': percentage >= 50,\n                                    'dc-progress-slider__line--yellow': percentage < 50 && percentage >= 20,\n                                    'dc-progress-slider__line--red': percentage < 20,\n                                })}\n                                style={{ width: `${percentage}%` }}\n                            />\n                        </div>\n                    )}\n                </React.Fragment>\n            )}\n        </div>\n    );\n};\n// Keypress events do not trigger on Safari due to the way it handles input type='range' elements, using focus on the input element also doesn't work for Safari.\n\nexport default ProgressSlider;\n",
            "size_bytes": 2675
        },
        "src/stores/ui-store.ts": {
            "content": "import { action, makeObservable, observable } from 'mobx';\nimport { isTouchDevice } from '@/components/shared/utils/screen/responsive';\n\nexport default class UiStore {\n    is_mobile = true;\n    is_desktop = true;\n    is_tablet = false;\n    is_chart_layout_default = true;\n    is_dark_mode_on = localStorage.getItem('theme') === 'dark';\n    account_switcher_disabled_message = '';\n    current_focus = null;\n    show_prompt = false;\n    is_trading_assessment_for_new_user_enabled = false;\n    is_accounts_switcher_on = false;\n\n    // TODO: fix - need to implement this feature\n    is_onscreen_keyboard_active = false;\n\n    constructor() {\n        makeObservable(this, {\n            account_switcher_disabled_message: observable,\n            current_focus: observable,\n            is_accounts_switcher_on: observable,\n            is_dark_mode_on: observable,\n            is_desktop: observable,\n            is_mobile: observable,\n            is_tablet: observable,\n            is_trading_assessment_for_new_user_enabled: observable,\n            show_prompt: observable,\n            setAccountSwitcherDisabledMessage: action.bound,\n            setCurrentFocus: action.bound,\n            setDarkMode: action.bound,\n            setDevice: action.bound,\n            setPromptHandler: action.bound,\n            setIsTradingAssessmentForNewUserEnabled: action.bound,\n            toggleAccountsDialog: action.bound,\n            toggleOnScreenKeyboard: action.bound,\n        });\n    }\n\n    setPromptHandler = (should_show: boolean) => {\n        this.show_prompt = should_show;\n    };\n\n    setAccountSwitcherDisabledMessage = (message: string) => {\n        if (message) {\n            this.account_switcher_disabled_message = message;\n        } else {\n            this.account_switcher_disabled_message = '';\n        }\n    };\n    setIsTradingAssessmentForNewUserEnabled(value: boolean) {\n        this.is_trading_assessment_for_new_user_enabled = value;\n    }\n\n    setDarkMode = (value: boolean) => {\n        this.is_dark_mode_on = value;\n    };\n\n    setDevice = (value: 'mobile' | 'desktop' | 'tablet') => {\n        this.is_mobile = value === 'mobile';\n        this.is_desktop = value === 'desktop';\n        this.is_tablet = value === 'tablet';\n    };\n\n    toggleAccountsDialog(status = !this.is_accounts_switcher_on) {\n        this.is_accounts_switcher_on = status;\n    }\n\n    toggleOnScreenKeyboard() {\n        this.is_onscreen_keyboard_active = this.current_focus !== null && this.is_mobile && isTouchDevice();\n    }\n\n    setCurrentFocus(value) {\n        this.current_focus = value;\n        this.toggleOnScreenKeyboard();\n    }\n}\n",
            "size_bytes": 2620
        },
        "src/components/shared_ui/popover/index.ts": {
            "content": "import Popover from './popover';\nimport './popover.scss';\n\nexport default Popover;\n",
            "size_bytes": 83
        },
        "src/components/shared_ui/themed-scrollbars/themed-scrollbars.tsx": {
            "content": "import React, { RefObject, UIEventHandler } from 'react';\nimport classNames from 'classnames';\nimport { useHover } from '@/hooks/useHover';\n\ntype TThemedScrollbars = {\n    autohide?: boolean;\n    className?: string;\n    has_horizontal?: boolean;\n    height?: number | string;\n    is_bypassed?: boolean;\n    is_only_horizontal?: boolean;\n    is_only_horizontal_overlay?: boolean;\n    is_scrollbar_hidden?: boolean;\n    onScroll?: UIEventHandler<HTMLDivElement>;\n    refSetter?: RefObject<HTMLDivElement & SVGSVGElement> | null;\n    style?: React.CSSProperties;\n    scroll_height?: number;\n    should_scroll_to_selected?: boolean;\n    width?: string;\n    testId?: string;\n};\n\nconst ThemedScrollbars = ({\n    autohide = true,\n    children,\n    className,\n    has_horizontal,\n    height,\n    is_bypassed,\n    is_only_horizontal,\n    is_only_horizontal_overlay,\n    is_scrollbar_hidden,\n    testId = 'dt_themed_scrollbars',\n    onScroll,\n    refSetter = null,\n    style = {},\n    scroll_height,\n    should_scroll_to_selected = false,\n    width,\n}: React.PropsWithChildren<TThemedScrollbars>) => {\n    const [hoverRef, isHovered] = useHover<HTMLDivElement & SVGSVGElement>(refSetter, false);\n\n    React.useEffect(() => {\n        if (should_scroll_to_selected && scroll_height) {\n            hoverRef?.current?.scrollTo(0, scroll_height);\n        }\n    }, [scroll_height, hoverRef, should_scroll_to_selected]);\n\n    if (is_bypassed) return children as JSX.Element;\n\n    return (\n        <div\n            data-testid={testId}\n            ref={hoverRef}\n            className={classNames('dc-themed-scrollbars', className, {\n                'dc-themed-scrollbars__autohide': autohide,\n                'dc-themed-scrollbars__autohide--is-hovered': autohide && isHovered,\n                'dc-themed-scrollbars--has-horizontal': has_horizontal,\n                'dc-themed-scrollbars--only-horizontal': is_only_horizontal,\n                'dc-themed-scrollbars--only-horizontal-overlay': is_only_horizontal_overlay,\n                'dc-themed-scrollbars--hidden-scrollbar': is_scrollbar_hidden,\n            })}\n            style={{\n                maxHeight: height || '100%',\n                maxWidth: width || 'none',\n                ...style,\n            }}\n            onScroll={onScroll}\n        >\n            {children}\n        </div>\n    );\n};\n\nexport default ThemedScrollbars;\n",
            "size_bytes": 2372
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Tools/Candle/index.js": {
            "content": "import './is_candle_black';\nimport './ohlc_values_in_list';\nimport './read_ohlc_obj';\n",
            "size_bytes": 86
        },
        "src/utils/help-content/help-strings/contract_check_result.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize(\n            'You can check the result of the last trade with this block. It can only be placed within the \"Restart trading conditions\" root block.'\n        ),\n        localize(\n            'If \"Win\" is selected, it will return \"True\" if your last trade was successful. Otherwise, it will return an empty string.'\n        ),\n        localize(\n            'If \"Loss\" is selected, it will return \"True\" if your last trade was unsuccessful. Otherwise, it will return an empty string.'\n        ),\n        localize('Example:'),\n    ],\n};\n",
            "size_bytes": 638
        },
        "src/external/bot-skeleton/scratch/utils/index.js": {
            "content": "import { botNotification } from '@/components/bot-notification/bot-notification';\nimport { notification_message } from '@/components/bot-notification/bot-notification-utils';\nimport { getCurrencyDisplayCode } from '@/components/shared';\nimport { localize } from '@deriv-com/translations';\nimport { config } from '../../constants/config';\nimport { LogTypes } from '../../constants/messages';\nimport { error_message_map } from '../../utils/error-config';\nimport { saveWorkspaceToRecent } from '../../utils/local-storage';\nimport { observer as globalObserver } from '../../utils/observer';\nimport { removeLimitedBlocks } from '../../utils/workspace';\nimport BlockConversion from '../backward-compatibility';\nimport DBotStore from '../dbot-store';\nimport { saveAs } from '../shared';\n\nexport const inject_workspace_options = {\n    media: 'assets/images/',\n    zoom: {\n        wheel: true,\n        startScale: config().workspaces.previewWorkspaceStartScale,\n    },\n    readOnly: true,\n    scrollbars: true,\n    renderer: 'zelos',\n};\n\nexport const updateXmlValues = blockly_options => {\n    if (!window.Blockly) return;\n    const { strategy_id, convertedDom, file_name, from } = blockly_options;\n    window.Blockly.xmlValues = {\n        ...window.Blockly.xmlValues,\n        strategy_id,\n        convertedDom,\n        file_name,\n        from,\n    };\n};\n\nexport const getSelectedTradeType = (workspace = window.Blockly.derivWorkspace) => {\n    const trade_type_block = workspace.getAllBlocks(true).find(block => block.type === 'trade_definition_tradetype');\n    const selected_trade_type = trade_type_block?.getFieldValue('TRADETYPE_LIST');\n    let mandatory_tradeoptions_block = 'trade_definition_tradeoptions';\n    if (selected_trade_type === 'multiplier') mandatory_tradeoptions_block = 'trade_definition_multiplier';\n    if (selected_trade_type === 'accumulator') mandatory_tradeoptions_block = 'trade_definition_accumulator';\n    return mandatory_tradeoptions_block;\n};\n\nexport const matchTranslateAttribute = translateString => {\n    const match = translateString.match(/translate\\((-?\\d+(?:\\.\\d+)?),\\s*(-?\\d+(?:\\.\\d+)?)\\)/);\n    if (match && match.length > 2) {\n        const x = parseFloat(match[1]);\n        const y = parseFloat(match[2]);\n        return { x, y };\n    }\n    return null; // Invalid or no match\n};\n\nexport const extractTranslateValues = () => {\n    const transform_value = window.Blockly?.derivWorkspace?.trashcan?.svgGroup.getAttribute('transform');\n    const translate_xy = matchTranslateAttribute(transform_value);\n\n    if (!translate_xy) {\n        globalObserver.emit('Error', 'Invalid String');\n    }\n\n    return {\n        translate_X: translate_xy.x,\n        translate_Y: translate_xy.y,\n    };\n};\n\nexport const validateErrorOnBlockDelete = () => {\n    // Get the bounding rectangle of the selected block\n    const { translate_X, translate_Y } = extractTranslateValues();\n    const blockRect = window.Blockly.getSelected()?.getSvgRoot().getBoundingClientRect();\n    const translate_offset = 200;\n    // Extract coordinates from the bounding rectangles\n    const blockX = blockRect?.left || 0;\n    const blockY = blockRect?.top || 0;\n    const mandatory_trade_option_block = getSelectedTradeType();\n    const required_block_types = [mandatory_trade_option_block, 'trade_definition', 'purchase', 'before_purchase'];\n    if (required_block_types?.includes(window.Blockly?.getSelected()?.type)) {\n        if (\n            blockY >= translate_Y - translate_offset &&\n            blockY <= translate_Y + translate_offset &&\n            blockX >= translate_X - translate_offset &&\n            blockX <= translate_X + translate_offset\n        ) {\n            globalObserver.emit('ui.log.error', error_message_map?.()?.[window.Blockly?.getSelected()?.type]?.default);\n        }\n    }\n};\n\nexport const updateWorkspaceName = () => {\n    if (!DBotStore?.instance) return;\n    const { load_modal } = DBotStore.instance;\n    const file_name = load_modal?.dashboard_strategies?.[0]?.name ?? config().default_file_name;\n    if (document.title.indexOf('-') > -1) {\n        const string_to_replace = document.title.substr(document.title.indexOf('-'));\n        const new_document_title = document.title.replace(string_to_replace, `- ${file_name}`);\n\n        document.title = new_document_title;\n    } else {\n        document.title += ` - ${file_name}`;\n    }\n};\n\nexport const isMainBlock = block_type => config().mainBlocks.indexOf(block_type) >= 0;\n\nexport const oppositesToDropdownOptions = opposite_name => {\n    return opposite_name.map(contract_type => {\n        // i.e. [['CALL', localize('Rise')]] becomes [[localize('Rise'), 'CALL']];\n        return Object.entries(contract_type)[0].reverse();\n    });\n};\n\nexport const cleanUpOnLoad = (blocks_to_clean, drop_event, workspace) => {\n    const { clientX = 0, clientY = 0 } = drop_event || {};\n    const toolbar_height = 76;\n    const blockly_metrics = workspace.getMetrics();\n    const scale_cancellation = 1 / workspace.scale;\n    const blockly_left = blockly_metrics.absoluteLeft - blockly_metrics.viewLeft;\n    const blockly_top = document.body.offsetHeight - blockly_metrics.viewHeight - blockly_metrics.viewTop;\n    const cursor_x = clientX ? (clientX - blockly_left) * scale_cancellation : 0;\n    const cursor_y = clientY ? (clientY - blockly_top - toolbar_height) * scale_cancellation : 0;\n\n    workspace.cleanUp(cursor_x, cursor_y, blocks_to_clean);\n};\n\nexport const save = (filename = '@deriv/bot', collection = false, xmlDom) => {\n    xmlDom.setAttribute('is_dbot', 'true');\n    xmlDom.setAttribute('collection', collection ? 'true' : 'false');\n\n    const data = window.Blockly.Xml.domToPrettyText(xmlDom);\n    saveAs({ data, type: 'text/xml;charset=utf-8', filename: `${filename}.xml` });\n};\n\nconst delayExecution = ms => new Promise(resolve => setTimeout(resolve, ms));\n\nexport const load = async ({\n    block_string,\n    drop_event,\n    file_name,\n    strategy_id,\n    from,\n    workspace,\n    showIncompatibleStrategyDialog,\n    show_snackbar = true,\n}) => {\n    if (!DBotStore?.instance || !workspace) return;\n    const { setLoading, load_modal } = DBotStore.instance;\n    const { setOpenButtonDisabled, setLoadedLocalFile } = load_modal;\n\n    setLoading(true);\n    // Delay execution to allow fully previewing previous strategy if users quickly switch between strategies.\n    await delayExecution(100);\n    const showInvalidStrategyError = () => {\n        setLoadedLocalFile(null);\n        botNotification(notification_message().invalid_xml);\n        setLoading(false);\n        const error_message = localize('XML file contains unsupported elements. Please check or modify file.');\n        globalObserver.emit('ui.log.error', error_message);\n        return {\n            error: error_message,\n        };\n    };\n\n    // Check if XML can be parsed correctly.\n    try {\n        const xmlDoc = new DOMParser().parseFromString(block_string, 'application/xml');\n        if (xmlDoc.getElementsByTagName('parsererror').length) {\n            return showInvalidStrategyError();\n        } else {\n            show_snackbar && botNotification(notification_message().BOT_IMPORT);\n        }\n    } catch (e) {\n        return showInvalidStrategyError();\n    }\n\n    let xml;\n    // Check if XML can be parsed into a strategy.\n    try {\n        xml = window.Blockly.utils.xml.textToDom(block_string);\n    } catch (e) {\n        return showInvalidStrategyError();\n    }\n    const blockConversion = new BlockConversion();\n    xml = blockConversion.convertStrategy(xml, showIncompatibleStrategyDialog);\n    const blockly_xml = xml.querySelectorAll('block');\n\n    // Check if there are any blocks in this strategy.\n    if (!blockly_xml.length) {\n        return showInvalidStrategyError();\n    }\n\n    // Check if all block types in XML are allowed.\n    const has_invalid_blocks = Array.from(blockly_xml).some(block => {\n        const block_type = block.getAttribute('type');\n        return !Object.keys(window.Blockly.Blocks).includes(block_type);\n    });\n    if (has_invalid_blocks) {\n        return showInvalidStrategyError();\n    }\n\n    try {\n        const is_collection = xml.hasAttribute('collection') && xml.getAttribute('collection') === 'true';\n        const event_group = is_collection ? `load_collection${Date.now()}` : `dbot-load${Date.now()}`;\n        window.Blockly.Events.setGroup(event_group);\n        removeLimitedBlocks(\n            workspace,\n            Array.from(blockly_xml).map(xml_block => xml_block.getAttribute('type'))\n        );\n        updateXmlValues({ strategy_id, convertedDom: xml, file_name, from });\n        if (is_collection) {\n            loadBlocks(xml, drop_event, event_group, workspace);\n        } else {\n            await loadWorkspace(xml, event_group, workspace);\n\n            const is_main_workspace = workspace === window.Blockly.derivWorkspace;\n            if (is_main_workspace) {\n                const { save_modal } = DBotStore.instance;\n\n                save_modal.updateBotName(file_name);\n                workspace.clearUndo();\n                workspace.current_strategy_id = strategy_id || window.Blockly.utils.idGenerator.genUid();\n                await saveWorkspaceToRecent(xml, from);\n            }\n        }\n\n        // Set user disabled state on all disabled blocks. This ensures we don't change the disabled\n        // state through code, which was implemented for user experience.\n        workspace.getAllBlocks().forEach(block => {\n            if (block.disabled) {\n                block.is_user_disabled_state = true;\n            }\n        });\n        if (workspace === window.Blockly.derivWorkspace) {\n            globalObserver.emit('ui.log.success', { log_type: LogTypes.LOAD_BLOCK });\n        }\n    } catch (e) {\n        console.error(e); // eslint-disable-line\n        return showInvalidStrategyError();\n    } finally {\n        setLoading(false);\n        setOpenButtonDisabled(false);\n    }\n};\n\nexport const loadBlocks = (xml, drop_event, event_group, workspace) => {\n    window.Blockly.Events.setGroup(event_group);\n\n    const block_ids = window.Blockly.Xml.domToWorkspace(xml, workspace);\n    const added_blocks = block_ids.map(block_id => workspace.getBlockById(block_id));\n\n    if (drop_event && Object.keys(drop_event).length !== 0) {\n        cleanUpOnLoad(added_blocks, drop_event, workspace);\n    } else {\n        workspace.cleanUp();\n    }\n};\n\nexport const loadWorkspace = async (xml, event_group, workspace) => {\n    window.Blockly.Events.setGroup(event_group);\n    await workspace.asyncClear();\n    window.Blockly.Xml.clearWorkspaceAndLoadFromXml(xml, workspace);\n    workspace.cleanUp();\n};\n\nconst loadBlocksFromHeader = (xml_string, block) => {\n    // eslint-disable-next-line consistent-return\n    return new Promise((resolve, reject) => {\n        let xml;\n\n        try {\n            xml = window.Blockly.utils.xml.textToDom(xml_string);\n        } catch (error) {\n            return reject(localize('Unrecognized file format'));\n        }\n\n        try {\n            const is_collection = xml.hasAttribute('collection') && xml.getAttribute('collection') === 'true';\n\n            if (!is_collection) {\n                reject(localize('Remote blocks to load must be a collection.'));\n            }\n\n            addLoaderBlocksFirst(xml)\n                .then(() => {\n                    Array.from(xml.children).forEach(el_block => addDomAsBlock(el_block, block));\n                    resolve();\n                })\n                .catch(() => {\n                    reject();\n                });\n        } catch (e) {\n            reject(localize('Unable to load the block file.'));\n        }\n    });\n};\n\nexport const loadBlocksFromRemote = block => {\n    // eslint-disable-next-line consistent-return\n    return new Promise((resolve, reject) => {\n        let url = block.getFieldValue('URL');\n\n        if (url.indexOf('http') === -1) {\n            url = `http://${url}`;\n        }\n\n        const url_pattern = /[^/]*\\.[a-zA-Z]{3}$/;\n        const has_possible_missing_index_xml = url.slice(-1)[0] === '/';\n\n        if (!url.match(url_pattern) && !has_possible_missing_index_xml) {\n            return reject(localize('Target must be an XML file'));\n        }\n\n        if (has_possible_missing_index_xml) {\n            url += 'index.xml';\n        }\n\n        if (block.isKnownUrl(url)) {\n            block.setDisabled(true);\n            return reject(localize('This URL is already loaded'));\n        }\n\n        const onFetchError = () => reject(localize('An error occured while trying to load the URL'));\n\n        fetch(url)\n            .then(response => {\n                if (response.ok) {\n                    response.text().then(xml_string => {\n                        loadBlocksFromHeader(xml_string, block)\n                            .then(() => resolve(block))\n                            .catch(onFetchError);\n                    });\n                } else {\n                    onFetchError();\n                }\n            })\n            .catch(onFetchError);\n    });\n};\n\nexport const addLoaderBlocksFirst = xml => {\n    return new Promise((resolve, reject) => {\n        const promises = [];\n\n        Array.from(xml.children).forEach(el_block => {\n            const block_type = el_block.getAttribute('type');\n\n            if (block_type === 'loader') {\n                el_block.remove();\n                const loader = window.Blockly.Xml.domToBlock(el_block, window.Blockly.derivWorkspace);\n                promises.push(loadBlocksFromRemote(loader)); // eslint-disable-line no-use-before-define\n            }\n        });\n\n        if (promises.length) {\n            Promise.all(promises).then(resolve, reject);\n        } else {\n            resolve([]);\n        }\n    });\n};\n\nexport const addDomAsBlock = (el_block, parent_block = null) => {\n    if (el_block.tagName.toLowerCase() === 'variables') {\n        return window.Blockly.Xml.domToVariables(el_block, window.Blockly.derivWorkspace);\n    }\n\n    const block_type = el_block.getAttribute('type');\n    const block_conversion = new BlockConversion();\n    const block_xml = window.Blockly.Xml.blockToDom(block_conversion.convertBlockNode(el_block));\n\n    // Fix legacy Blockly `varid` attribute.\n    Array.from(block_xml.getElementsByTagName('arg')).forEach(el => {\n        if (el.hasAttribute('varid')) {\n            el.setAttribute('varId', el.getAttribute('varid'));\n        }\n    });\n\n    removeLimitedBlocks(window.Blockly.derivWorkspace, block_type);\n\n    const block = window.Blockly.Xml.domToBlock(block_xml, window.Blockly.derivWorkspace);\n\n    if (parent_block) {\n        parent_block.blocks_added_by_me.push(block);\n    }\n\n    return block;\n};\n\nconst getAllRequiredBlocks = (workspace, required_block_types) => {\n    return workspace.getAllBlocks().filter(block => {\n        if (required_block_types.includes(block.type)) {\n            return (\n                (block.childBlocks_.length === 0 && required_block_types.includes(block.category_)) ||\n                block.parentBlock_ === null\n            );\n        }\n    });\n};\n\nconst getMissingBlocks = (workspace, required_block_types) => {\n    return required_block_types.filter(blockType => {\n        return !workspace.getAllBlocks().some(block => block.type === blockType);\n    });\n};\n\nconst getDisabledBlocks = required_blocks_check => {\n    const workspace = window.Blockly.derivWorkspace;\n    const required_block_types = [getSelectedTradeType(workspace), ...config().mandatoryMainBlocks];\n    const disabled_blocks = Object.fromEntries(\n        workspace\n            .getAllBlocks()\n            .filter(block => required_block_types.includes(block.type))\n            .map(block => [block.type, block.disabled])\n    );\n    const mandatory_blocks = ['before_purchase', 'purchase', 'trade_definition', 'trade_definition_tradeoptions'];\n    const has_disabled_blocks = mandatory_blocks.some(type => disabled_blocks[type]);\n\n    return has_disabled_blocks\n        ? required_blocks_check.filter(block => block.disabled || block.childBlocks_?.some(child => child.disabled))\n        : [];\n};\n\nconst throwNewErrorMessage = (error_blocks, key) => {\n    return error_blocks.forEach(block => {\n        if (key === 'misplaced' && block)\n            globalObserver.emit('ui.log.error', error_message_map?.()?.[block?.type]?.[key]);\n        else if (key === 'missing' && block) globalObserver.emit('ui.log.error', error_message_map?.()?.[block]?.[key]);\n        else if (key === 'disabled' && block) {\n            let parent_block_error = false;\n            const parent_error_message = error_message_map?.()?.[block.type]?.[key];\n            if (block.disabled && parent_error_message) {\n                globalObserver.emit('ui.log.error', parent_error_message);\n                parent_block_error = true;\n            } else if (!parent_block_error && block.childBlocks_) {\n                block.childBlocks_.forEach(childBlock => {\n                    const child_error_message = error_message_map?.()?.[childBlock.type]?.[key];\n                    if (child_error_message) globalObserver.emit('ui.log.error', child_error_message);\n                });\n            }\n        }\n    });\n};\n\nexport const isAllRequiredBlocksEnabled = workspace => {\n    if (!workspace) return false;\n\n    const mandatory_trade_option_block = getSelectedTradeType(workspace);\n    const { mandatoryMainBlocks } = config();\n    const required_block_types = [mandatory_trade_option_block, ...mandatoryMainBlocks];\n\n    const required_blocks_check = getAllRequiredBlocks(workspace, required_block_types);\n\n    const missing_blocks = getMissingBlocks(workspace, required_block_types);\n    const disabled_blocks = getDisabledBlocks(required_blocks_check);\n\n    if (missing_blocks) throwNewErrorMessage(missing_blocks, 'missing');\n    if (disabled_blocks) throwNewErrorMessage(disabled_blocks, 'disabled');\n\n    const error_blocks = [...missing_blocks, ...disabled_blocks];\n    const blocks_required = error_blocks.length === 0;\n\n    return blocks_required;\n};\n\nexport const scrollWorkspace = (workspace, scroll_amount, is_horizontal, is_chronological) => {\n    const ws_metrics = workspace.getMetrics();\n    let scroll_x = ws_metrics.viewLeft - ws_metrics.scrollLeft;\n    const delta_y = ws_metrics.viewTop - ws_metrics.scrollTop;\n    let scroll_y = delta_y;\n    if (is_horizontal) {\n        scroll_x += is_chronological ? scroll_amount : -scroll_amount;\n        if (!DBotStore.instance.is_mobile) {\n            scroll_y += -20;\n        }\n    } else {\n        scroll_x += -20;\n        scroll_y += is_chronological ? scroll_amount : -scroll_amount;\n    }\n    const is_RTL = workspace.RTL;\n    if (is_RTL) {\n        // For RTL scroll we need to adjust the scroll amount\n        scroll_x = scroll_amount;\n        // Adjust scroll_y to prevent scrolling vertically on every render\n        const toolbox_top = document.getElementById('gtm-toolbox')?.getBoundingClientRect()?.top;\n        const block_canvas_rect_top = workspace.svgBlockCanvas_?.getBoundingClientRect()?.top;\n        if (block_canvas_rect_top > toolbox_top) {\n            scroll_y = delta_y;\n        }\n\n        /* NOTE: This was done for mobile view since \n        when we try to calculate the scroll amount for RTL,\n        we need to realign the scroll to(0, 0) for the workspace.\n        Then, from the width of the canvas, we need to subtract the width of the block. \n        To Make the block visible in the view width\n        */\n\n        if (window.innerWidth < 768) {\n            workspace?.scrollbar?.set(0, scroll_y);\n            const calc_scroll =\n                workspace.svgBlockCanvas_?.getBoundingClientRect().width -\n                workspace.svgBlockCanvas_?.getBoundingClientRect().left +\n                60;\n            workspace?.scrollbar?.set(calc_scroll, scroll_y);\n            return;\n        }\n    }\n    workspace?.scrollbar?.set(scroll_x, scroll_y);\n};\n\n/**\n * Sets the window.Blockly.Events.group_ and executes the passed callBackFn. Mainly\n * used to ensure undo/redo actions are executed correctly.\n * @param {Boolean} use_existing_group Uses the existing event group if true.\n * @param {Function} callbackFn Logic to execute as part of this event group.\n */\nexport const runGroupedEvents = (use_existing_group, callbackFn, opt_group_name) => {\n    const group = (use_existing_group && window.Blockly.Events.getGroup()) || opt_group_name || true;\n\n    window.Blockly.Events.setGroup(group);\n    callbackFn();\n\n    if (!use_existing_group) {\n        window.Blockly.Events.setGroup(false);\n    }\n};\n\n/**\n * Sets the recordUndo flag to \"false\" globally, this will ensure any events\n * happening as part of the callbackFn logic cannot be undone.\n * @param {*} callbackFn Logic to execute as part of this event group.\n */\nexport const runIrreversibleEvents = callbackFn => {\n    const { recordUndo } = window.Blockly.Events;\n    window.Blockly.Events.setRecordUndo(false);\n\n    callbackFn();\n\n    window.Blockly.Events.setRecordUndo(recordUndo ?? true);\n};\n\n/**\n * Disables Blockly Events globally and runs the passed callbackFn.\n * (Preference should be given to runIrreversibleEvents).\n * @param {*} callbackFn Logic to completely hide from Blockly\n */\nexport const runInvisibleEvents = callbackFn => {\n    window.Blockly.Events.disable();\n    callbackFn();\n    window.Blockly.Events.enable();\n};\n\nexport const updateDisabledBlocks = (workspace, event) => {\n    if (event.type === window.Blockly.Events.BLOCK_DRAG && !event.isStart) {\n        workspace.getAllBlocks().forEach(block => {\n            if (!block.getParent() || block.is_user_disabled_state) {\n                return;\n            }\n\n            const restricted_parents = block.restricted_parents || [];\n            if (restricted_parents.length === 0) {\n                return;\n            }\n\n            const should_disable = !restricted_parents.some(restricted_parent =>\n                block.isDescendantOf(restricted_parent)\n            );\n\n            runGroupedEvents(\n                true,\n                () => {\n                    block.setDisabled(should_disable);\n                },\n                event.group\n            );\n\n            window.Blockly.Events.setGroup(false);\n        });\n    }\n};\n\nexport const emptyTextValidator = input => {\n    return !input || input === \"''\";\n};\n\n/* eslint-disable no-bitwise */\nexport const isDarkRgbColour = string_rgb => {\n    const values = string_rgb.substring(1);\n    const rgb = parseInt(values, 16);\n    const red = (rgb >> 16) & 0xff;\n    const green = (rgb >> 8) & 0xff;\n    const blue = (rgb >> 0) & 0xff;\n    const luma = 0.2126 * red + 0.7152 * green + 0.0722 * blue;\n    return luma < 160;\n};\n/* eslint-enable */\n\nexport const removeExtraInput = instance => {\n    const collapsed_input = instance.getInput('_TEMP_COLLAPSED_INPUT');\n    const procedures_array = ['procedures_defreturn', 'procedures_defnoreturn'];\n    if (collapsed_input && instance.collapsed_ && !collapsed_input.icon_added) {\n        collapsed_input.icon_added = true;\n        const dropdown_path = `${instance.workspace.options.pathToMedia}dropdown-arrow.svg`;\n        const field_expand_icon = new window.Blockly.FieldImage(dropdown_path, 16, 16, localize('Collapsed'), () =>\n            instance.setCollapsed(false)\n        );\n        const function_name = instance.getFieldValue('NAME');\n        const args = ` (${instance?.arguments?.join(', ')})`;\n\n        if (procedures_array.includes(instance.type)) {\n            collapsed_input\n                .appendField(new window.Blockly.FieldLabel(localize('function'), ''))\n                .appendField(new window.Blockly.FieldLabel(function_name + args, 'header__title'))\n                .appendField(field_expand_icon);\n        } else {\n            collapsed_input.appendField(field_expand_icon);\n        }\n\n        const remove_last_input = dummy_input => {\n            const tmp_array = dummy_input.fieldRow;\n\n            const value_input = procedures_array.includes(instance.type) ? 0 : 2;\n            if (!procedures_array.includes(instance.type)) {\n                tmp_array[0]?.setClass('blocklyTextRootBlockHeader');\n            }\n            tmp_array[value_input]?.setVisible(false);\n            tmp_array[value_input]?.forceRerender();\n        };\n        remove_last_input(collapsed_input);\n    }\n};\n\nconst downloadBlock = () => {\n    const xml_block = window.Blockly?.getSelected()?.svgGroup_;\n    const xml_text = window.Blockly.Xml.domToPrettyText(xml_block);\n    saveAs({ data: xml_text, type: 'text/xml;charset=utf-8', filename: 'block.xml' });\n};\n\nconst download_option = () => ({\n    text: localize('Download Block'),\n    enabled: true,\n    callback: downloadBlock,\n});\n\nexport const excludeOptionFromContextMenu = (menu, exclude_items) => {\n    for (let i = 0; i <= menu.length - 1; i++) {\n        const menu_text = localize(menu[i].text);\n        if (exclude_items.includes(menu_text)) {\n            menu.splice(i, 1);\n        } else {\n            menu[i].text = menu_text;\n        }\n    }\n};\n\nconst all_context_menu_options = () => [\n    localize('Duplicate'),\n    localize('Add Comment'),\n    localize('Remove Comment'),\n    localize('Collapse Block'),\n    localize('Expand Block'),\n    localize('Disable Block'),\n    localize('Enable Block'),\n    localize('Download Block'),\n];\n\nconst deleteBlocksLocaleText = () => localize('Delete Block');\nconst deleteAllBlocksLocaleText = () => localize('Delete All Blocks');\n\nexport const modifyContextMenu = (menu, add_new_items = []) => {\n    const common_included_items = [download_option()];\n    const include_items = [...common_included_items, ...add_new_items];\n    include_items.forEach(item => {\n        menu.push({\n            text: item.text,\n            enabled: item.enabled,\n            callback: item.callback,\n        });\n    });\n\n    for (let i = 0; i < menu.length; i++) {\n        const menu_text = menu[i]?.text?.toLowerCase();\n        if (menu_text?.includes('delete')) {\n            if (menu_text.includes('block') && !menu_text.includes('blocks')) {\n                menu[i].text = deleteBlocksLocaleText();\n            } else {\n                menu[i].text = deleteAllBlocksLocaleText();\n            }\n        } else {\n            const localized_text = localize(menu[i].text);\n            if (all_context_menu_options().includes(localized_text)) {\n                menu[i].text = localized_text;\n            }\n        }\n    }\n};\n\nexport const evaluateExpression = value => {\n    if (!value) return 'invalid_input';\n    try {\n        // eslint-disable-next-line no-new-func\n        const result = new Function(`return ${value.trim()}`)();\n        return isNaN(result) ? 'invalid_input' : result;\n    } catch (e) {\n        return 'invalid_input';\n    }\n};\n\nexport const appendCollapsedMainBlocksFields = block_instance => {\n    try {\n        // Return if the block is not collapsed\n        if (!block_instance?.collapsed_) return;\n        const type_of_block = block_instance?.getField(block_instance.type);\n        if (type_of_block) return;\n\n        const [block_image, block_name] = block_instance?.inputList?.[0]?.fieldRow.map(field => field.value_) || [];\n        const collapsed_field = block_instance?.getField(Blockly.constants.COLLAPSED_FIELD_NAME);\n        const collapsed_input = block_instance?.getInput(Blockly.constants.COLLAPSED_INPUT_NAME);\n\n        // Initialize the icon_added property if not already done\n        if (collapsed_input && collapsed_field) {\n            // Add the image and label fields\n            collapsed_input.appendField(new Blockly.FieldImage(block_image, 25, 25, '', ''));\n            collapsed_input.appendField(new Blockly.FieldLabel(block_name, 'blocklyTextRootBlockHeaderCollapsed'));\n\n            // Add the dropdown icon\n            const dropdown_path = `${block_instance?.workspace.options.pathToMedia}dropdown-arrow.svg`;\n            const field_expand_icon = new Blockly.FieldImage(dropdown_path, 16, 16, localize('Collapsed'), () =>\n                block_instance?.setCollapsed(false)\n            );\n            collapsed_input.appendField(field_expand_icon, block_instance.type);\n            collapsed_input.sourceBlock.width = 300;\n            // hide the default collapsed field generated by Blockly\n            collapsed_field.setVisible(false);\n        }\n    } catch (e) {\n        globalObserver.emit('ui.log.error', e);\n    }\n};\n\nexport const appendCollapsedProcedureBlocksFields = instance => {\n    const collapsed_input = instance.getInput('_TEMP_COLLAPSED_INPUT');\n    if (collapsed_input && instance.collapsed_ && !collapsed_input.icon_added) {\n        collapsed_input.icon_added = true;\n        const dropdown_path = `${instance.workspace.options.pathToMedia}dropdown-arrow.svg`;\n        const field_expand_icon = new Blockly.FieldImage(dropdown_path, 16, 16, localize('Collapsed'), () =>\n            instance.setCollapsed(false)\n        );\n        const function_name = instance.getFieldValue('NAME');\n        const args = ` (${instance?.arguments?.join(', ')})`;\n\n        collapsed_input\n            .appendField(new Blockly.FieldLabel(localize('function'), ''))\n            .appendField(new Blockly.FieldLabel(function_name + args, 'header__title'))\n            .appendField(field_expand_icon);\n\n        const remove_last_input = dummy_input => {\n            const tmp_array = dummy_input.fieldRow;\n            tmp_array[0]?.setVisible(false);\n            tmp_array[0]?.forceRerender();\n        };\n        remove_last_input(collapsed_input);\n    }\n};\n\nexport const setCurrency = block_instance => {\n    const currency_field = block_instance.getField('CURRENCY_LIST');\n    const { currency } = DBotStore.instance.client;\n    currency_field?.setValue(getCurrencyDisplayCode(currency));\n};\n",
            "size_bytes": 29691
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Tick Analysis/check_direction.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { config } from '../../../../constants/config';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.check_direction = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Direction is {{ direction_type }}', { direction_type: '%1' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'CHECK_DIRECTION',\n                    options: config().lists.CHECK_DIRECTION,\n                },\n            ],\n            output: 'Boolean',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('True if the market direction matches the selection'),\n            category: window.Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Market direction'),\n            description: localize(\n                'This block is used to determine if the market price moves in the selected direction or not. It gives you a value of True or False.'\n            ),\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.check_direction = block => {\n    const checkWith = block.getFieldValue('CHECK_DIRECTION');\n\n    const code = `Bot.checkDirection('${checkWith}')`;\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC];\n};\n",
            "size_bytes": 1750
        },
        "src/utils/help-content/help-strings/notify_telegram.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize(\n            'This block sends a message to a Telegram channel. You will need to create your own Telegram bot to use this block.'\n        ),\n        localize('Heres how:'),\n        localize(\n            '1. Create a Telegram bot and get your Telegram API token. Read more on how to create bots in Telegram here: https://core.telegram.org/bots#6-botfather'\n        ),\n        localize(\n            '2. Start a chat with your newly created Telegram bot and make sure to send it some messages before proceeding to the next step. (e.g. Hello Bot!)'\n        ),\n        localize(\n            '3. Get the chat ID using the Telegram REST API (read more: https://core.telegram.org/bots/api#getupdates)'\n        ),\n        localize(\n            '- Visit the following URL, make sure to replace <access_token> with the Telegram API token you created in Step 1: https://api.telegram.org/bot<access_token>/getUpdates'\n        ),\n        localize('- Find the chat ID property in the response, and copy the value of the id property'),\n        localize(\n            '4. Come back to Deriv Bot and add the Notify Telegram block to the workspace. Paste the Telegram API token and chat ID into the block fields accordingly.'\n        ),\n    ],\n};\n",
            "size_bytes": 1335
        },
        "src/utils/site-config.ts": {
            "content": "export const website_domain = 'app.deriv.com';\nexport const website_name = 'Deriv';\nexport const default_title = website_name;\nexport const TRACKING_STATUS_KEY = 'tracking_status';\n",
            "size_bytes": 181
        },
        "src/components/shared/services/ws-methods.ts": {
            "content": "export let WS: Record<string, any>;\n\nexport const setWebsocket = (websocket: object) => {\n    WS = websocket;\n};\n\n/**\n * A temporarily custom hook to expose the global `WS` object from the `shared` package.\n */\nexport const useWS = () => {\n    return WS;\n};\n",
            "size_bytes": 258
        },
        "analysis-tool/Benanalysistool-final-main/app/globals.css": {
            "content": "@import \"tailwindcss\";\n@import \"tw-animate-css\";\n\n@custom-variant dark (&:is(.dark *));\n\n:root {\n  --background: oklch(0.99 0.01 240);\n  --foreground: oklch(0.15 0.02 240);\n  --card: oklch(1 0 0);\n  --card-foreground: oklch(0.15 0.02 240);\n  --popover: oklch(1 0 0);\n  --popover-foreground: oklch(0.15 0.02 240);\n  --primary: oklch(0.55 0.22 250);\n  --primary-foreground: oklch(0.99 0 0);\n  --secondary: oklch(0.95 0.02 240);\n  --secondary-foreground: oklch(0.15 0.02 240);\n  --muted: oklch(0.96 0.01 240);\n  --muted-foreground: oklch(0.45 0.02 240);\n  --accent: oklch(0.94 0.03 240);\n  --accent-foreground: oklch(0.15 0.02 240);\n  --destructive: oklch(0.577 0.245 27.325);\n  --destructive-foreground: oklch(0.985 0 0);\n  --border: oklch(0.88 0.02 240);\n  --input: oklch(0.88 0.02 240);\n  --ring: oklch(0.55 0.22 250);\n  --chart-1: oklch(0.646 0.222 41.116);\n  --chart-2: oklch(0.6 0.118 184.704);\n  --chart-3: oklch(0.398 0.07 227.392);\n  --chart-4: oklch(0.828 0.189 84.429);\n  --chart-5: oklch(0.769 0.188 70.08);\n  --radius: 0.625rem;\n  --sidebar: oklch(0.99 0.01 240);\n  --sidebar-foreground: oklch(0.15 0.02 240);\n  --sidebar-primary: oklch(0.55 0.22 250);\n  --sidebar-primary-foreground: oklch(0.99 0 0);\n  --sidebar-accent: oklch(0.95 0.02 240);\n  --sidebar-accent-foreground: oklch(0.15 0.02 240);\n  --sidebar-border: oklch(0.88 0.02 240);\n  --sidebar-ring: oklch(0.55 0.22 250);\n}\n\n.dark {\n  --background: oklch(0.145 0 0);\n  --foreground: oklch(0.985 0 0);\n  --card: oklch(0.145 0 0);\n  --card-foreground: oklch(0.985 0 0);\n  --popover: oklch(0.145 0 0);\n  --popover-foreground: oklch(0.985 0 0);\n  --primary: oklch(0.985 0 0);\n  --primary-foreground: oklch(0.205 0 0);\n  --secondary: oklch(0.269 0 0);\n  --secondary-foreground: oklch(0.985 0 0);\n  --muted: oklch(0.269 0 0);\n  --muted-foreground: oklch(0.708 0 0);\n  --accent: oklch(0.269 0 0);\n  --accent-foreground: oklch(0.985 0 0);\n  --destructive: oklch(0.396 0.141 25.723);\n  --destructive-foreground: oklch(0.985 0 0);\n  --border: oklch(0.269 0 0);\n  --input: oklch(0.269 0 0);\n  --ring: oklch(0.439 0 0);\n  --chart-1: oklch(0.488 0.243 264.376);\n  --chart-2: oklch(0.696 0.17 162.48);\n  --chart-3: oklch(0.769 0.188 70.08);\n  --chart-4: oklch(0.627 0.265 303.9);\n  --chart-5: oklch(0.645 0.246 16.439);\n  --sidebar: oklch(0.205 0 0);\n  --sidebar-foreground: oklch(0.985 0 0);\n  --sidebar-primary: oklch(0.488 0.243 264.376);\n  --sidebar-primary-foreground: oklch(0.985 0 0);\n  --sidebar-accent: oklch(0.269 0 0);\n  --sidebar-accent-foreground: oklch(0.985 0 0);\n  --sidebar-border: oklch(0.269 0 0);\n  --sidebar-ring: oklch(0.439 0 0);\n}\n\n@theme inline {\n  --color-background: var(--background);\n  --color-foreground: var(--foreground);\n  --color-card: var(--card);\n  --color-card-foreground: var(--card-foreground);\n  --color-popover: var(--popover);\n  --color-popover-foreground: var(--popover-foreground);\n  --color-primary: var(--primary);\n  --color-primary-foreground: var(--primary-foreground);\n  --color-secondary: var(--secondary);\n  --color-secondary-foreground: var(--secondary-foreground);\n  --color-muted: var(--muted);\n  --color-muted-foreground: var(--muted-foreground);\n  --color-accent: var(--accent);\n  --color-accent-foreground: var(--accent-foreground);\n  --color-destructive: var(--destructive);\n  --color-destructive-foreground: var(--destructive-foreground);\n  --color-border: var(--border);\n  --color-input: var(--input);\n  --color-ring: var(--ring);\n  --color-chart-1: var(--chart-1);\n  --color-chart-2: var(--chart-2);\n  --color-chart-3: var(--chart-3);\n  --color-chart-4: var(--chart-4);\n  --color-chart-5: var(--chart-5);\n  --radius-sm: calc(var(--radius) - 4px);\n  --radius-md: calc(var(--radius) - 2px);\n  --radius-lg: var(--radius);\n  --radius-xl: calc(var(--radius) + 4px);\n  --color-sidebar: var(--sidebar);\n  --color-sidebar-foreground: var(--sidebar-foreground);\n  --color-sidebar-primary: var(--sidebar-primary);\n  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);\n  --color-sidebar-accent: var(--sidebar-accent);\n  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);\n  --color-sidebar-border: var(--sidebar-border);\n  --color-sidebar-ring: var(--sidebar-ring);\n}\n\n@layer base {\n  * {\n    @apply border-border outline-ring/50;\n  }\n  body {\n    @apply bg-background text-foreground;\n  }\n}\n\n/* Added vibrant digit color utilities */\n@layer utilities {\n  .digit-0 {\n    @apply bg-gradient-to-br from-pink-500 to-pink-600;\n  }\n  .digit-1 {\n    @apply bg-gradient-to-br from-blue-500 to-blue-600;\n  }\n  .digit-2 {\n    @apply bg-gradient-to-br from-cyan-500 to-cyan-600;\n  }\n  .digit-3 {\n    @apply bg-gradient-to-br from-pink-400 to-pink-500;\n  }\n  .digit-4 {\n    @apply bg-gradient-to-br from-cyan-400 to-cyan-500;\n  }\n  .digit-5 {\n    @apply bg-gradient-to-br from-blue-400 to-blue-500;\n  }\n  .digit-6 {\n    @apply bg-gradient-to-br from-red-500 to-red-600;\n  }\n  .digit-7 {\n    @apply bg-gradient-to-br from-pink-500 to-pink-600;\n  }\n  .digit-8 {\n    @apply bg-gradient-to-br from-orange-500 to-orange-600;\n  }\n  .digit-9 {\n    @apply bg-gradient-to-br from-blue-500 to-purple-600;\n  }\n}\n\n/* Added animated edge glow keyframes */\n@keyframes edgeGlowGreen {\n  0%,\n  100% {\n    box-shadow: inset 0 0 30px rgba(34, 197, 94, 0.4), inset 0 0 60px rgba(59, 130, 246, 0.1);\n  }\n  50% {\n    box-shadow: inset 0 0 30px rgba(59, 130, 246, 0.4), inset 0 0 60px rgba(34, 197, 94, 0.1);\n  }\n}\n\n@keyframes edgeGlowBlue {\n  0%,\n  100% {\n    box-shadow: inset 0 0 30px rgba(59, 130, 246, 0.4), inset 0 0 60px rgba(34, 197, 94, 0.1);\n  }\n  50% {\n    box-shadow: inset 0 0 30px rgba(34, 197, 94, 0.4), inset 0 0 60px rgba(59, 130, 246, 0.1);\n  }\n}\n\n/* Added smooth pulse animation for percentage updates */\n@keyframes pulse-slow {\n  0%,\n  100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.8;\n  }\n}\n\n/* Added animation classes */\n@layer utilities {\n  .animate-edge-glow-green {\n    animation: edgeGlowGreen 3s ease-in-out infinite;\n  }\n\n  .animate-edge-glow-blue {\n    animation: edgeGlowBlue 3s ease-in-out infinite;\n  }\n\n  .animate-pulse-slow {\n    animation: pulse-slow 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;\n  }\n\n  /* Added glassmorphism and frost UI effects for light mode */\n  .glass-light {\n    background: rgba(255, 255, 255, 0.7);\n    backdrop-filter: blur(20px) saturate(180%);\n    -webkit-backdrop-filter: blur(20px) saturate(180%);\n    border: 1px solid rgba(209, 213, 219, 0.3);\n  }\n\n  .frost-light {\n    background: linear-gradient(135deg, rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 0.6));\n    backdrop-filter: blur(16px);\n    -webkit-backdrop-filter: blur(16px);\n    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);\n  }\n\n  /* Added soft outer glow for WAIT status */\n  .glow-blue-soft {\n    box-shadow: 0 0 30px rgba(59, 130, 246, 0.4), 0 0 60px rgba(59, 130, 246, 0.2);\n  }\n\n  .animate-glow-blue {\n    animation: glowBlue 2s ease-in-out infinite;\n  }\n}\n\n@keyframes glowBlue {\n  0%,\n  100% {\n    box-shadow: 0 0 20px rgba(59, 130, 246, 0.3), 0 0 40px rgba(59, 130, 246, 0.15);\n  }\n  50% {\n    box-shadow: 0 0 30px rgba(59, 130, 246, 0.5), 0 0 60px rgba(59, 130, 246, 0.25);\n  }\n}\n",
            "size_bytes": 7124
        },
        "src/lib/deriv-websocket.ts": {
            "content": "// Deriv WebSocket client with auto-reconnect and connection logging\nexport class DerivWebSocket {\n  private ws: WebSocket | null = null\n  private reconnectAttempts = 0\n  private maxReconnectAttempts = 10\n  private reconnectDelay = 1000\n  private isIntentionallyClosed = false\n  private listeners: Map<string, Set<(data: any) => void>> = new Map()\n  private connectionStatusListeners: Set<(status: \"connected\" | \"disconnected\" | \"reconnecting\") => void> = new Set()\n  private connectionLogs: ConnectionLog[] = []\n\n  constructor(private appId = \"1089\") {}\n\n  connect(): Promise<void> {\n    return new Promise((resolve, reject) => {\n      try {\n        this.isIntentionallyClosed = false\n        const url = `wss://ws.derivws.com/websockets/v3?app_id=${this.appId}`\n        this.logConnection(\"info\", \"Connecting to Deriv WebSocket API\")\n        this.ws = new WebSocket(url)\n\n        this.ws.onopen = () => {\n          this.logConnection(\"info\", \"WebSocket Manager initialized\")\n          this.reconnectAttempts = 0\n          this.reconnectDelay = 1000\n          this.notifyConnectionStatus(\"connected\")\n          resolve()\n        }\n\n        this.ws.onmessage = (event) => {\n          try {\n            const data = JSON.parse(event.data)\n            this.handleMessage(data)\n          } catch (error) {\n            this.logConnection(\"error\", `Failed to parse message: ${error}`)\n          }\n        }\n\n        this.ws.onerror = (error) => {\n          this.logConnection(\"error\", `WebSocket error occurred`)\n          reject(error)\n        }\n\n        this.ws.onclose = () => {\n          this.logConnection(\"info\", \"WebSocket connection closed\")\n          this.notifyConnectionStatus(\"disconnected\")\n\n          if (!this.isIntentionallyClosed) {\n            this.attemptReconnect()\n          }\n        }\n      } catch (error) {\n        this.logConnection(\"error\", `Connection failed: ${error}`)\n        reject(error)\n      }\n    })\n  }\n\n  private attemptReconnect() {\n    if (this.reconnectAttempts >= this.maxReconnectAttempts) {\n      this.logConnection(\"error\", \"Max reconnection attempts reached\")\n      setTimeout(() => {\n        this.reconnectAttempts = 0\n        this.logConnection(\"info\", \"Resetting reconnection attempts, will try again\")\n        this.attemptReconnect()\n      }, 60000) // Wait 1 minute before resetting\n      return\n    }\n\n    this.reconnectAttempts++\n    this.notifyConnectionStatus(\"reconnecting\")\n\n    const delay = Math.min(this.reconnectDelay * Math.pow(2, this.reconnectAttempts - 1), 30000)\n    this.logConnection(\n      \"info\",\n      `Reconnecting in ${delay}ms (attempt ${this.reconnectAttempts}/${this.maxReconnectAttempts})`,\n    )\n\n    setTimeout(() => {\n      this.connect().catch((error) => {\n        this.logConnection(\"error\", `Reconnection failed: ${error}`)\n      })\n    }, delay)\n  }\n\n  private handleMessage(data: any) {\n    const msgType = data.msg_type\n    const listeners = this.listeners.get(msgType)\n\n    if (listeners) {\n      listeners.forEach((callback) => callback(data))\n    }\n\n    const wildcardListeners = this.listeners.get(\"*\")\n    if (wildcardListeners) {\n      wildcardListeners.forEach((callback) => callback(data))\n    }\n  }\n\n  send(message: any): void {\n    if (this.ws && this.ws.readyState === WebSocket.OPEN) {\n      this.ws.send(JSON.stringify(message))\n      this.logConnection(\n        \"info\",\n        `Sent: ${message.ticks ? `Subscribe to ${message.ticks}` : JSON.stringify(message).substring(0, 50)}`,\n      )\n    } else {\n      this.logConnection(\"error\", \"Cannot send message: WebSocket not connected\")\n    }\n  }\n\n  subscribe(msgType: string, callback: (data: any) => void): () => void {\n    if (!this.listeners.has(msgType)) {\n      this.listeners.set(msgType, new Set())\n    }\n\n    this.listeners.get(msgType)!.add(callback)\n\n    return () => {\n      const listeners = this.listeners.get(msgType)\n      if (listeners) {\n        listeners.delete(callback)\n      }\n    }\n  }\n\n  onConnectionStatus(callback: (status: \"connected\" | \"disconnected\" | \"reconnecting\") => void): () => void {\n    this.connectionStatusListeners.add(callback)\n    return () => {\n      this.connectionStatusListeners.delete(callback)\n    }\n  }\n\n  private notifyConnectionStatus(status: \"connected\" | \"disconnected\" | \"reconnecting\") {\n    this.connectionStatusListeners.forEach((callback) => callback(status))\n  }\n\n  subscribeTicks(symbol: string): void {\n    if (!this.isConnected()) {\n      this.logConnection(\"error\", \"Cannot subscribe to ticks: not connected\")\n      return\n    }\n    this.send({\n      ticks: symbol,\n      subscribe: 1,\n    })\n    this.logConnection(\"info\", `Subscribed to ticks for ${symbol}`)\n  }\n\n  unsubscribeTicks(): void {\n    if (!this.isConnected()) {\n      this.logConnection(\"warning\", \"Cannot unsubscribe: not connected\")\n      return\n    }\n    this.send({\n      forget_all: \"ticks\",\n    })\n    this.logConnection(\"info\", \"Unsubscribed from all ticks\")\n  }\n\n  getActiveSymbols(): void {\n    this.send({\n      active_symbols: \"brief\",\n      product_type: \"basic\",\n    })\n    this.logConnection(\"info\", \"Requested active symbols\")\n  }\n\n  disconnect(): void {\n    this.isIntentionallyClosed = true\n    if (this.ws) {\n      this.ws.close()\n      this.ws = null\n      this.logConnection(\"info\", \"Disconnected from WebSocket\")\n    }\n  }\n\n  isConnected(): boolean {\n    return this.ws !== null && this.ws.readyState === WebSocket.OPEN\n  }\n\n  getConnectionLogs(): ConnectionLog[] {\n    return [...this.connectionLogs]\n  }\n\n  private logConnection(type: \"info\" | \"error\" | \"warning\", message: string) {\n    const log: ConnectionLog = {\n      type,\n      message,\n      timestamp: new Date(),\n    }\n    this.connectionLogs.push(log)\n\n    if (this.connectionLogs.length > 100) {\n      this.connectionLogs.shift()\n    }\n\n    const logListeners = this.listeners.get(\"connection_log\")\n    if (logListeners) {\n      logListeners.forEach((callback) => callback(log))\n    }\n  }\n}\n\nexport interface DerivSymbol {\n  symbol: string\n  display_name: string\n  market: string\n  market_display_name: string\n  submarket: string\n  submarket_display_name: string\n  pip_size?: number\n}\n\nexport interface ConnectionLog {\n  type: \"info\" | \"error\" | \"warning\"\n  message: string\n  timestamp: Date\n}\n",
            "size_bytes": 6248
        },
        "src/pages/dashboard/stop-bot-modal.tsx": {
            "content": "import { observer } from 'mobx-react-lite';\nimport { useStore } from '@/hooks/useStore';\nimport StopBotModalContent from './stop-bot-modal-content';\n\nconst StopBotModal = observer(() => {\n    const { run_panel, quick_strategy, summary_card } = useStore();\n\n    const { is_contract_dialog_open, is_stop_bot_dialog_open, toggleStopBotDialog } = quick_strategy;\n    const { is_running, closeMultiplierContract, stopMyBot, is_dialog_open } = run_panel;\n    const { is_multiplier } = summary_card;\n\n    return (\n        <StopBotModalContent\n            is_running={is_running}\n            onOkButtonClick={stopMyBot}\n            is_contract_dialog_open={is_contract_dialog_open}\n            is_stop_bot_dialog_open={is_stop_bot_dialog_open}\n            is_multiplier={is_multiplier}\n            closeMultiplierContract={closeMultiplierContract}\n            is_dialog_open={is_dialog_open}\n            toggleStopBotDialog={toggleStopBotDialog}\n        />\n    );\n});\n\nexport default StopBotModal;\n",
            "size_bytes": 990
        },
        "src/components/shared/utils/constants/index.ts": {
            "content": "export * from './auth-status-codes';\nexport * from './barriers';\nexport * from './contract';\nexport * from './default-options';\nexport * from './error';\nexport * from './jurisdictions-config';\nexport * from './mt5-login-list-status';\nexport * from './poi-failure-codes';\nexport * from './signup_fields';\n",
            "size_bytes": 304
        },
        "src/external/bot-skeleton/scratch/blocks/Math/math_trig.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../utils';\n\nwindow.Blockly.Blocks.math_trig = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2',\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'OP',\n                    options: [\n                        ['sin', 'SIN'],\n                        ['cos', 'COS'],\n                        ['tan', 'TAN'],\n                        ['asin', 'ASIN'],\n                        ['acos', 'ACOS'],\n                        ['atan', 'ATAN'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'NUM',\n                    check: 'Number',\n                },\n            ],\n            output: 'Number',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Trigonometric functions'),\n            category: window.Blockly.Categories.Mathematical,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    meta() {\n        return {\n            display_name: localize('Trigonometric functions'),\n            description: localize('This block performs trigonometric functions.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            NUM: null,\n        };\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.math_trig =\n    window.Blockly.JavaScript.javascriptGenerator.forBlock.math_single;\n",
            "size_bytes": 1790
        },
        "src/components/shared_ui/progress-slider/index.ts": {
            "content": "import ProgressSlider from './progress-slider';\nimport './progress-slider.scss';\n\nexport default ProgressSlider;\n",
            "size_bytes": 113
        },
        "src/constants/transactions.ts": {
            "content": "export const transaction_elements = Object.freeze({\n    CONTRACT: 'contract',\n    DIVIDER: 'divider',\n});\n",
            "size_bytes": 106
        },
        "src/components/shared_ui/money/money.tsx": {
            "content": "import React from 'react';\nimport { formatMoney, getCurrencyDisplayCode } from '@/components/shared';\n\ntype TMoneyProps = {\n    amount: number | string;\n    className: string;\n    currency: string;\n    has_sign: boolean;\n    should_format: boolean;\n    show_currency: boolean; // if true, append currency symbol\n};\n\nconst Money = ({\n    amount = 0,\n    className,\n    currency = 'USD',\n    has_sign,\n    should_format = true,\n    show_currency = false,\n}: Partial<TMoneyProps>) => {\n    let sign = '';\n    if (Number(amount) && (Number(amount) < 0 || has_sign)) {\n        sign = Number(amount) > 0 ? '+' : '-';\n    }\n\n    // if it's formatted already then don't make any changes unless we should remove extra -/+ signs\n    const value = has_sign || should_format ? Math.abs(Number(amount)) : amount;\n    const final_amount = should_format ? formatMoney(currency, value, true, 0, 0) : value;\n\n    return (\n        <React.Fragment>\n            <span>{has_sign && sign}</span>\n            <span data-testid='dt_span' className={className}>\n                {final_amount} {show_currency && getCurrencyDisplayCode(currency)}\n            </span>\n        </React.Fragment>\n    );\n};\n\nexport default React.memo(Money);\n",
            "size_bytes": 1211
        },
        "src/utils/gtm.ts": {
            "content": "import { reaction } from 'mobx';\nimport { TStatistics } from '@/components/transaction-details/transaction-details.types';\nimport RootStore from '@/stores/root-store';\nimport { ProposalOpenContract } from '@deriv/api-types';\n\nconst GTM = (() => {\n    let timeoutId: NodeJS.Timeout;\n    let initialized = false;\n    const pushDataLayer = (data: { [key: string]: string | number | boolean; event: string }): void => {\n        window.dataLayer?.push(data);\n    };\n\n    const init = (_root_store: RootStore): void => {\n        if (initialized) return;\n        initialized = true;\n\n        function loadGTM() {\n            (function (w, d, s, l, i) {\n                w[l] = w[l] || [];\n                w[l].push({\n                    'gtm.start': new Date().getTime(),\n                    event: 'gtm.js',\n                });\n                const f = d.getElementsByTagName(s)[0],\n                    j = d.createElement(s),\n                    dl = l != 'dataLayer' ? '&l=' + l : '';\n                j.defer = true;\n                j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;\n                f.parentNode.insertBefore(j, f);\n            })(window, document, 'script', 'dataLayer', 'GTM-NF7884S');\n        }\n\n        setTimeout(() => {\n            loadGTM();\n        }, 3000);\n\n        try {\n            const { run_panel, transactions, client, common } = _root_store;\n            reaction(\n                () => run_panel.is_running,\n                (() => {\n                    return () => {\n                        if (run_panel.is_running) {\n                            clearTimeout(timeoutId);\n                            timeoutId = setTimeout(() => {\n                                onRunBot(client?.loginid, common?.server_time?.unix(), transactions?.statistics);\n                            }, 500);\n                        }\n                    };\n                })()\n            );\n        } catch (error) {\n            // eslint-disable-next-line no-console\n            console.warn('Error initializing GTM reactions ', error);\n        }\n    };\n\n    const onRunBot = (login_id: string, server_time: number, statistics: TStatistics): void => {\n        try {\n            const run_id = `${login_id}-${server_time}`;\n            const counters = `tr:${statistics.number_of_runs},\\\n                ts:${statistics.total_stake},\\\n                py:${statistics.total_payout},\\\n                lc:${statistics.lost_contracts},\\\n                wc:${statistics.won_contracts},\\\n                pr:${statistics.total_profit}`;\n\n            const data = {\n                counters: counters.replace(/\\s/g, ''),\n                event: 'dbot_run',\n                run_id,\n            };\n            pushDataLayer(data);\n        } catch (error) {\n            console.warn('Error pushing run data to datalayer ', error); // eslint-disable-line no-console\n        }\n    };\n\n    const onTransactionClosed = (contract: ProposalOpenContract): void => {\n        const data = {\n            event: 'dbot_run_transaction',\n            reference_id: contract?.contract_id ?? '',\n        };\n        pushDataLayer(data);\n    };\n\n    return {\n        init,\n        pushDataLayer,\n        onTransactionClosed,\n        onRunBot,\n    };\n})();\n\nexport default GTM;\n",
            "size_bytes": 3267
        },
        "src/pages/tutorials/tutorials.tsx": {
            "content": "import React from 'react';\nimport { observer } from 'mobx-react-lite';\nimport { useStore } from '@/hooks/useStore';\nimport { localize } from '@deriv-com/translations';\nimport { useDevice } from '@deriv-com/ui';\nimport NoSearchResult from './common/no-search-result-found';\nimport QuickStrategyGuides from './quick-strategy-content/quick-strategy-guides';\nimport FAQContent from './faq-content';\nimport GuideContent from './guide-content';\nimport TutorialsTabDesktop from './tutorials-tab-desktop';\nimport TutorialsTabMobile from './tutorials-tab-mobile';\n\ntype TTutorialsTab = {\n    handleTabChange: (active_number: number) => void;\n};\n\nexport type TTutorialsTabItem = {\n    label: string;\n    content?: JSX.Element;\n};\n\nconst TutorialsTab = observer(({ handleTabChange }: TTutorialsTab) => {\n    const { isDesktop } = useDevice();\n    const { dashboard } = useStore();\n    const [prev_active_tutorials, setPrevActiveTutorialsTab] = React.useState<number>(0);\n\n    const {\n        active_tab_tutorials,\n        video_tab_content,\n        guide_tab_content,\n        faq_tab_content,\n        is_dialog_open,\n        quick_strategy_tab_content,\n    } = dashboard;\n\n    React.useEffect(() => {\n        if ([0, 1, 2].includes(active_tab_tutorials)) {\n            setPrevActiveTutorialsTab(active_tab_tutorials);\n        }\n    }, [active_tab_tutorials]);\n\n    const has_content_guide_tab =\n        guide_tab_content().length > 0 ||\n        video_tab_content().length > 0 ||\n        faq_tab_content().length > 0 ||\n        quick_strategy_tab_content().length > 0;\n\n    const tutorial_tabs: TTutorialsTabItem[] = [\n        {\n            label: localize('Guide'),\n            content: (\n                <GuideContent\n                    is_dialog_open={is_dialog_open}\n                    guide_tab_content={guide_tab_content()}\n                    video_tab_content={video_tab_content()}\n                />\n            ),\n        },\n        {\n            label: localize('FAQ'),\n            content: <FAQContent faq_list={faq_tab_content()} handleTabChange={handleTabChange} />,\n        },\n        {\n            label: localize('Quick strategy guides'),\n            content: <QuickStrategyGuides quick_strategy_tab_content={quick_strategy_tab_content()} />,\n        },\n        {\n            label: localize('Search'),\n            content: has_content_guide_tab ? (\n                <>\n                    <GuideContent\n                        is_dialog_open={is_dialog_open}\n                        guide_tab_content={guide_tab_content()}\n                        video_tab_content={video_tab_content()}\n                    />\n                    <FAQContent faq_list={faq_tab_content()} />\n                    <QuickStrategyGuides quick_strategy_tab_content={quick_strategy_tab_content()} />\n                </>\n            ) : (\n                <NoSearchResult />\n            ),\n        },\n    ];\n\n    return isDesktop ? (\n        <TutorialsTabDesktop tutorial_tabs={tutorial_tabs} prev_active_tutorials={prev_active_tutorials} />\n    ) : (\n        <TutorialsTabMobile tutorial_tabs={tutorial_tabs} prev_active_tutorials={prev_active_tutorials} />\n    );\n});\n\nexport default TutorialsTab;\n",
            "size_bytes": 3181
        },
        "src/external/bot-skeleton/services/tradeEngine/trade/Purchase.js": {
            "content": "import { LogTypes } from '../../../constants/messages';\nimport { api_base } from '../../api/api-base';\nimport { contractStatus, info, log } from '../utils/broadcast';\nimport { doUntilDone, getUUID, recoverFromError, tradeOptionToBuy } from '../utils/helpers';\nimport { purchaseSuccessful } from './state/actions';\nimport { BEFORE_PURCHASE } from './state/constants';\n\nlet delayIndex = 0;\nlet purchase_reference;\n\nexport default Engine =>\n    class Purchase extends Engine {\n        purchase(contract_type) {\n            // Prevent calling purchase twice\n            if (this.store.getState().scope !== BEFORE_PURCHASE) {\n                return Promise.resolve();\n            }\n\n            const onSuccess = response => {\n                // Don't unnecessarily send a forget request for a purchased contract.\n                const { buy } = response;\n\n                contractStatus({\n                    id: 'contract.purchase_received',\n                    data: buy.transaction_id,\n                    buy,\n                });\n\n                this.contractId = buy.contract_id;\n                this.store.dispatch(purchaseSuccessful());\n\n                if (this.is_proposal_subscription_required) {\n                    this.renewProposalsOnPurchase();\n                }\n\n                delayIndex = 0;\n                log(LogTypes.PURCHASE, { longcode: buy.longcode, transaction_id: buy.transaction_id });\n                info({\n                    accountID: this.accountInfo.loginid,\n                    totalRuns: this.updateAndReturnTotalRuns(),\n                    transaction_ids: { buy: buy.transaction_id },\n                    contract_type,\n                    buy_price: buy.buy_price,\n                });\n            };\n\n            if (this.is_proposal_subscription_required) {\n                const { id, askPrice } = this.selectProposal(contract_type);\n\n                const action = () => api_base.api.send({ buy: id, price: askPrice });\n\n                this.isSold = false;\n\n                contractStatus({\n                    id: 'contract.purchase_sent',\n                    data: askPrice,\n                });\n\n                if (!this.options.timeMachineEnabled) {\n                    return doUntilDone(action).then(onSuccess);\n                }\n\n                return recoverFromError(\n                    action,\n                    (errorCode, makeDelay) => {\n                        // if disconnected no need to resubscription (handled by live-api)\n                        if (errorCode !== 'DisconnectError') {\n                            this.renewProposalsOnPurchase();\n                        } else {\n                            this.clearProposals();\n                        }\n\n                        const unsubscribe = this.store.subscribe(() => {\n                            const { scope, proposalsReady } = this.store.getState();\n                            if (scope === BEFORE_PURCHASE && proposalsReady) {\n                                makeDelay().then(() => this.observer.emit('REVERT', 'before'));\n                                unsubscribe();\n                            }\n                        });\n                    },\n                    ['PriceMoved', 'InvalidContractProposal'],\n                    delayIndex++\n                ).then(onSuccess);\n            }\n            const trade_option = tradeOptionToBuy(contract_type, this.tradeOptions);\n            const action = () => api_base.api.send(trade_option);\n\n            this.isSold = false;\n\n            contractStatus({\n                id: 'contract.purchase_sent',\n                data: this.tradeOptions.amount,\n            });\n\n            if (!this.options.timeMachineEnabled) {\n                return doUntilDone(action).then(onSuccess);\n            }\n\n            return recoverFromError(\n                action,\n                (errorCode, makeDelay) => {\n                    if (errorCode === 'DisconnectError') {\n                        this.clearProposals();\n                    }\n                    const unsubscribe = this.store.subscribe(() => {\n                        const { scope } = this.store.getState();\n                        if (scope === BEFORE_PURCHASE) {\n                            makeDelay().then(() => this.observer.emit('REVERT', 'before'));\n                            unsubscribe();\n                        }\n                    });\n                },\n                ['PriceMoved', 'InvalidContractProposal'],\n                delayIndex++\n            ).then(onSuccess);\n        }\n        getPurchaseReference = () => purchase_reference;\n        regeneratePurchaseReference = () => {\n            purchase_reference = getUUID();\n        };\n    };\n",
            "size_bytes": 4703
        },
        "src/components/shared/utils/helpers/format-response.ts": {
            "content": "import { ProfitTable, Statement } from '@deriv/api-types';\nimport { getContractTypeFeatureFlag, IDV_ERROR_STATUS, ONFIDO_ERROR_STATUS, STATUS_CODES } from '../constants';\nimport { TContractInfo } from '../contract';\nimport { extractInfoFromShortcode, isHighLow } from '../shortcode';\nimport { LocalStore } from '../storage';\nimport { getSymbolDisplayName, TActiveSymbols } from './active-symbols';\nimport { getMarketInformation } from './market-underlying';\n\nexport const filterDisabledPositions = (\n    position:\n        | TContractInfo\n        | NonNullable<Statement['transactions']>[number]\n        | NonNullable<ProfitTable['transactions']>[number]\n) => {\n    const { contract_type, shortcode } = position as TContractInfo;\n    const type = contract_type ?? extractInfoFromShortcode(shortcode ?? '').category?.toUpperCase() ?? '';\n    return Object.entries(LocalStore.getObject('FeatureFlagsStore')?.data ?? {}).every(\n        ([key, value]) => !!value || key !== getContractTypeFeatureFlag(type, isHighLow({ shortcode }))\n    );\n};\n\nexport const formatPortfolioPosition = (\n    portfolio_pos: TContractInfo,\n    // eslint-disable-next-line default-param-last\n    active_symbols: TActiveSymbols = [],\n    indicative?: number\n) => {\n    const purchase = portfolio_pos.buy_price;\n    const payout = portfolio_pos.payout;\n    const display_name = getSymbolDisplayName(\n        active_symbols,\n        getMarketInformation(portfolio_pos.shortcode || '').underlying\n    );\n    const transaction_id =\n        portfolio_pos.transaction_id || (portfolio_pos.transaction_ids && portfolio_pos.transaction_ids.buy);\n\n    return {\n        contract_info: portfolio_pos,\n        details: portfolio_pos.longcode?.replace(/\\n/g, '<br />'),\n        display_name,\n        id: portfolio_pos.contract_id,\n        indicative: (indicative && isNaN(indicative)) || !indicative ? 0 : indicative,\n        payout,\n        purchase,\n        reference: Number(transaction_id),\n        type: portfolio_pos.contract_type,\n        contract_update: portfolio_pos.limit_order,\n    };\n};\n\nexport type TIDVErrorStatus = keyof typeof IDV_ERROR_STATUS;\nexport type TOnfidoErrorStatus = keyof typeof ONFIDO_ERROR_STATUS;\n\nconst isVerifiedOrNone = (errors: Array<TIDVErrorStatus>, status_code: string, is_high_risk?: boolean) => {\n    return (\n        errors.length === 0 &&\n        (status_code === STATUS_CODES.NONE || status_code === STATUS_CODES.VERIFIED) &&\n        !is_high_risk\n    );\n};\n\nexport const isIDVReportNotAvailable = (idv: Record<string, unknown>) =>\n    'report_available' in idv && idv?.report_available === 0;\n\nconst getIDVErrorStatus = (errors: Array<TIDVErrorStatus>, is_report_not_available?: boolean) => {\n    const status: Array<TIDVErrorStatus> = [];\n    errors.forEach(error => {\n        const error_key: TIDVErrorStatus = IDV_ERROR_STATUS[error]?.code;\n        if (error_key) {\n            status.push(error_key);\n        }\n    });\n    if (\n        is_report_not_available &&\n        (status.includes(IDV_ERROR_STATUS.NameMismatch.code) || status.includes(IDV_ERROR_STATUS.DobMismatch.code))\n    ) {\n        return IDV_ERROR_STATUS.ReportNotAvailable.code;\n    }\n\n    if (status.includes(IDV_ERROR_STATUS.Failed.code)) {\n        return IDV_ERROR_STATUS.Failed.code;\n    }\n\n    if (status.includes(IDV_ERROR_STATUS.NameMismatch.code) && status.includes(IDV_ERROR_STATUS.DobMismatch.code)) {\n        return IDV_ERROR_STATUS.NameDobMismatch.code;\n    }\n    return status[0] ?? IDV_ERROR_STATUS.Failed.code;\n};\n\n// formatIDVError is parsing errors messages from BE (strings) and returns error codes for using it on FE\nexport const formatIDVError = (\n    errors: Array<TIDVErrorStatus>,\n    status_code: string,\n    is_high_risk?: boolean,\n    is_report_not_available?: boolean\n) => {\n    /**\n     * Check required incase of DIEL client\n     */\n    if (isVerifiedOrNone(errors, status_code, is_high_risk)) {\n        return null;\n    }\n\n    if (is_high_risk) {\n        if (status_code === STATUS_CODES.NONE) {\n            return null;\n        } else if (status_code === STATUS_CODES.VERIFIED) {\n            return IDV_ERROR_STATUS.HighRisk.code;\n        }\n    }\n\n    if (status_code === STATUS_CODES.EXPIRED) {\n        return IDV_ERROR_STATUS.Expired.code;\n    }\n\n    return getIDVErrorStatus(errors, is_report_not_available);\n};\n\nexport const formatOnfidoError = (status_code: string, errors: Array<TOnfidoErrorStatus> = []) => {\n    if (status_code === STATUS_CODES.EXPIRED) {\n        return [ONFIDO_ERROR_STATUS.Expired.code, ...errors];\n    }\n    return errors;\n};\n\nexport const getOnfidoError = (error: TOnfidoErrorStatus) => {\n    return ONFIDO_ERROR_STATUS[error]?.message ?? '';\n};\n\nexport const getIDVError = (error: TIDVErrorStatus) => {\n    return IDV_ERROR_STATUS[error]?.message ?? '';\n};\n",
            "size_bytes": 4791
        },
        "src/components/shared_ui/dialog/dialog.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport ReactDOM from 'react-dom';\nimport { CSSTransition } from 'react-transition-group';\nimport { useOnClickOutside } from '@/hooks/useOnClickOutside';\nimport { LegacyClose1pxIcon } from '@deriv/quill-icons/Legacy';\nimport { localize } from '@deriv-com/translations';\nimport Button from '../button';\nimport Text from '../text';\n\ntype TDialog = {\n    cancel_button_text?: string;\n    className?: string;\n    confirm_button_text?: string;\n    dismissable?: boolean;\n    disableApp?: () => void;\n    enableApp?: () => void;\n    has_close_icon?: boolean;\n    is_closed_on_cancel?: boolean;\n    is_closed_on_confirm?: boolean;\n    is_content_centered?: boolean;\n    is_loading?: boolean;\n    is_mobile_full_width?: boolean;\n    is_visible: boolean;\n    onCancel?: () => void;\n    onClose?: () => void;\n    onConfirm: () => void;\n    login: () => void;\n    onEscapeButtonCancel?: () => void;\n    portal_element_id?: string;\n    title?: React.ReactNode;\n};\n\nconst Dialog = ({\n    disableApp,\n    dismissable = true,\n    enableApp,\n    is_closed_on_cancel = true,\n    is_closed_on_confirm = true,\n    is_visible,\n    onCancel,\n    onClose,\n    onConfirm,\n    onEscapeButtonCancel,\n    login,\n    ...other_props\n}: React.PropsWithChildren<TDialog>) => {\n    const {\n        cancel_button_text,\n        className,\n        children,\n        confirm_button_text,\n        is_loading,\n        is_mobile_full_width = true,\n        is_content_centered,\n        portal_element_id,\n        title,\n        has_close_icon,\n    } = other_props;\n\n    const wrapper_ref = React.useRef() as React.MutableRefObject<HTMLInputElement>;\n\n    React.useEffect(() => {\n        if (is_visible && !!disableApp) {\n            disableApp();\n        }\n    }, [is_visible, disableApp]);\n\n    React.useEffect(() => {\n        const close = (e: { key: string }) => {\n            if (e.key === 'Escape') {\n                onEscapeButtonCancel?.();\n            }\n        };\n        window.addEventListener('keydown', close);\n        return () => window.removeEventListener('keydown', close);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const handleCancel = () => {\n        if (cancel_button_text === localize('Log in')) {\n            login();\n        } else {\n            if (is_closed_on_cancel && enableApp) {\n                enableApp();\n            }\n        }\n        onCancel?.();\n    };\n\n    const handleConfirm = () => {\n        if (is_closed_on_confirm && enableApp) {\n            enableApp();\n        }\n        onConfirm();\n    };\n\n    const handleClose = () => {\n        if (onClose) {\n            onClose();\n        } else if (onCancel) {\n            handleCancel();\n        } else {\n            handleConfirm();\n        }\n    };\n\n    const validateClickOutside = () => !!dismissable || !!(has_close_icon && is_visible && is_closed_on_cancel);\n\n    useOnClickOutside(wrapper_ref, handleClose, validateClickOutside);\n\n    const content_classes = classNames('dc-dialog__content', {\n        'dc-dialog__content--centered': is_content_centered,\n    });\n\n    const is_text =\n        typeof children === 'string' ||\n        (React.isValidElement(children) && typeof children?.props?.i18n_default_text === 'string');\n    const dialog = (\n        <CSSTransition\n            appear\n            in={is_visible && !is_loading}\n            timeout={50}\n            classNames={{\n                appear: 'dc-dialog__wrapper--enter',\n                enter: 'dc-dialog__wrapper--enter',\n                enterDone: 'dc-dialog__wrapper--enter-done',\n                exit: 'dc-dialog__wrapper--exit',\n            }}\n            unmountOnExit\n        >\n            <div\n                className={classNames('dc-dialog__wrapper', className, {\n                    'dc-dialog__wrapper--has-portal': !!portal_element_id,\n                })}\n            >\n                <div\n                    className={classNames('dc-dialog__dialog', {\n                        'dc-dialog__dialog--has-margin': !is_mobile_full_width,\n                    })}\n                    role='dialog'\n                    ref={wrapper_ref}\n                >\n                    {(title || has_close_icon) && (\n                        <div\n                            className={classNames('dc-dialog__header-wrapper', {\n                                'dc-dialog__header-wrapper--end': !title,\n                            })}\n                        >\n                            {!!title && (\n                                <Text as='h1' color='prominent' weight='bold' className='dc-dialog__header--title'>\n                                    {title}\n                                </Text>\n                            )}\n                            {has_close_icon && (\n                                <div onClick={handleClose} className='dc-dialog__header--close'>\n                                    <LegacyClose1pxIcon\n                                        height='20px'\n                                        width='20px'\n                                        fill='var(--text-general)'\n                                        className='icon-general-fill-path'\n                                    />\n                                </div>\n                            )}\n                        </div>\n                    )}\n                    {is_text ? (\n                        <Text as='p' size='xs' styles={{ lineHeight: '1.43' }} className={content_classes}>\n                            {children}\n                        </Text>\n                    ) : (\n                        <div className={content_classes}>{children}</div>\n                    )}\n                    <div className='dc-dialog__footer'>\n                        {!!onCancel && (\n                            <Button\n                                className='dc-dialog__button'\n                                has_effect\n                                text={cancel_button_text}\n                                onClick={handleCancel}\n                                secondary\n                                large\n                            />\n                        )}\n                        {!!confirm_button_text && (\n                            <Button\n                                className='dc-dialog__button'\n                                has_effect\n                                text={confirm_button_text}\n                                onClick={handleConfirm}\n                                primary\n                                large\n                            />\n                        )}\n                    </div>\n                </div>\n            </div>\n        </CSSTransition>\n    );\n\n    if (portal_element_id) {\n        const target_element = document.getElementById(portal_element_id);\n        if (target_element) return ReactDOM.createPortal(dialog, target_element);\n    }\n\n    return dialog;\n};\n\nexport default Dialog;\n",
            "size_bytes": 6975
        },
        "src/pages/tutorials/guide-content/index.ts": {
            "content": "import GuideContent from './guide-content';\n\nexport default GuideContent;\n",
            "size_bytes": 74
        },
        "src/utils/click-rate-limiter.ts": {
            "content": "/**\n * Global click throttler to prevent Safari freezing issues\n * This utility uses throttling instead of debouncing for better Safari performance\n */\n\nclass ClickThrottler {\n    private static instance: ClickThrottler;\n    private lastClickTime = 0;\n    private readonly throttleDelay = 500; // 500ms throttle for Safari protection\n\n    private constructor() {}\n\n    public static getInstance(): ClickThrottler {\n        if (!ClickThrottler.instance) {\n            ClickThrottler.instance = new ClickThrottler();\n        }\n        return ClickThrottler.instance;\n    }\n\n    public canClick(): boolean {\n        const now = Date.now();\n\n        // Check if enough time has passed since last click\n        if (now - this.lastClickTime < this.throttleDelay) {\n            return false;\n        }\n\n        // Update last click time\n        this.lastClickTime = now;\n        return true;\n    }\n\n    public reset(): void {\n        this.lastClickTime = 0;\n    }\n}\n\nexport const clickRateLimiter = ClickThrottler.getInstance();\n",
            "size_bytes": 1022
        },
        "analysis-tool/Benanalysistool-final-main/components/last-digits-line-chart.tsx": {
            "content": "\"use client\"\n\nimport { useEffect, useRef } from \"react\"\n\ninterface LastDigitsLineChartProps {\n  digits: number[]\n}\n\nexport function LastDigitsLineChart({ digits }: LastDigitsLineChartProps) {\n  const canvasRef = useRef<HTMLCanvasElement>(null)\n\n  useEffect(() => {\n    const canvas = canvasRef.current\n    if (!canvas) return\n\n    const ctx = canvas.getContext(\"2d\")\n    if (!ctx) return\n\n    // Set canvas size\n    const dpr = window.devicePixelRatio || 1\n    const rect = canvas.getBoundingClientRect()\n    canvas.width = rect.width * dpr\n    canvas.height = rect.height * dpr\n    ctx.scale(dpr, dpr)\n\n    // Clear canvas\n    ctx.clearRect(0, 0, rect.width, rect.height)\n\n    if (digits.length === 0) return\n\n    // Calculate dimensions\n    const padding = 20\n    const chartWidth = rect.width - padding * 2\n    const chartHeight = rect.height - padding * 2\n    const pointSpacing = chartWidth / (digits.length - 1 || 1)\n\n    // Draw line\n    ctx.beginPath()\n    ctx.strokeStyle = \"#8b5cf6\" // Purple color\n    ctx.lineWidth = 3\n    ctx.lineCap = \"round\"\n    ctx.lineJoin = \"round\"\n\n    digits.forEach((digit, index) => {\n      const x = padding + index * pointSpacing\n      const y = padding + chartHeight - (digit / 9) * chartHeight\n\n      if (index === 0) {\n        ctx.moveTo(x, y)\n      } else {\n        ctx.lineTo(x, y)\n      }\n    })\n\n    ctx.stroke()\n\n    // Draw points and labels\n    digits.forEach((digit, index) => {\n      const x = padding + index * pointSpacing\n      const y = padding + chartHeight - (digit / 9) * chartHeight\n\n      // Draw point\n      ctx.beginPath()\n      ctx.arc(x, y, 5, 0, Math.PI * 2)\n      ctx.fillStyle = \"#8b5cf6\"\n      ctx.fill()\n\n      // Draw label\n      ctx.fillStyle = \"#8b5cf6\"\n      ctx.font = \"bold 12px sans-serif\"\n      ctx.textAlign = \"center\"\n      ctx.fillText(digit.toString(), x, y - 12)\n    })\n  }, [digits])\n\n  return (\n    <div className=\"w-full h-48 bg-gray-200 dark:bg-gray-800/50 rounded-lg p-4\">\n      <canvas ref={canvasRef} className=\"w-full h-full\" style={{ width: \"100%\", height: \"100%\" }} />\n    </div>\n  )\n}\n",
            "size_bytes": 2080
        },
        "src/components/layout/header/common/demo-accounts.tsx": {
            "content": "import clsx from 'clsx';\nimport { api_base } from '@/external/bot-skeleton';\nimport { localize } from '@deriv-com/translations';\nimport { AccountSwitcher as UIAccountSwitcher } from '@deriv-com/ui';\nimport { TDemoAccounts } from './types';\nimport { convertCommaValue } from './utils';\n\nconst DemoAccounts = ({\n    tabs_labels,\n    modifiedVRTCRAccountList,\n    switchAccount,\n    isVirtual,\n    activeLoginId,\n}: TDemoAccounts) => {\n    return (\n        <>\n            <UIAccountSwitcher.AccountsPanel\n                isOpen\n                title={localize('Deriv account')}\n                className='account-switcher-panel'\n                key={tabs_labels.demo.toLowerCase()}\n            >\n                {modifiedVRTCRAccountList &&\n                    modifiedVRTCRAccountList.map(account => (\n                        <span\n                            className={clsx('account-switcher__item', {\n                                'account-switcher__item--disabled': account.is_disabled,\n                            })}\n                            key={account.loginid}\n                        >\n                            <UIAccountSwitcher.AccountsItem\n                                account={account}\n                                onSelectAccount={() => {\n                                    if (!account.is_disabled) switchAccount(account.loginid);\n                                }}\n                                onResetBalance={\n                                    isVirtual &&\n                                    activeLoginId === account.loginid &&\n                                    convertCommaValue(account.balance) !== 10000\n                                        ? () => {\n                                              api_base?.api?.send({\n                                                  topup_virtual: 1,\n                                              });\n                                          }\n                                        : undefined\n                                }\n                            />\n                        </span>\n                    ))}\n            </UIAccountSwitcher.AccountsPanel>\n        </>\n    );\n};\n\nexport default DemoAccounts;\n",
            "size_bytes": 2199
        },
        "src/pages/tutorials/dbot-tours/common/tour-end-dialog.tsx": {
            "content": "import { observer } from 'mobx-react-lite';\nimport Dialog from '@/components/shared_ui/dialog';\nimport Text from '@/components/shared_ui/text';\nimport { useStore } from '@/hooks/useStore';\nimport { Localize, localize } from '@deriv-com/translations';\nimport { useDevice } from '@deriv-com/ui';\n\nconst TourEndDialog = observer(() => {\n    const { dashboard } = useStore();\n    const { is_tour_dialog_visible, setTourDialogVisibility } = dashboard;\n    const { isDesktop } = useDevice();\n\n    const getTourContent = () => {\n        return (\n            <>\n                <div className='dc-dialog__content__description__text' data-testid='tour-success-message'>\n                    <Localize\n                        key={0}\n                        i18n_default_text={'You have successfully created your bot using a simple strategy.'}\n                    />\n                </div>\n                <div className='dc-dialog__content__description__text'>\n                    <Localize\n                        key={0}\n                        i18n_default_text={'Now, <0>run the bot</0> to test out the strategy.'}\n                        components={[<strong key={0} />]}\n                    />\n                </div>\n                <div className='dc-dialog__content__description__text'>\n                    <Localize\n                        key={0}\n                        i18n_default_text={\n                            'Note: If you wish to learn more about the Bot Builder, you can proceed to the <0>Tutorials</0> tab.'\n                        }\n                        components={[<strong key={0} />]}\n                    />\n                </div>\n            </>\n        );\n    };\n\n    const onHandleConfirm = () => {\n        setTourDialogVisibility(false);\n    };\n\n    return (\n        <div>\n            <Dialog\n                is_visible={is_tour_dialog_visible}\n                confirm_button_text={localize('OK')}\n                onConfirm={onHandleConfirm}\n                is_mobile_full_width\n                className='dc-dialog tour-dialog'\n                has_close_icon={false}\n            >\n                <div className='dc-dialog__content__header'>\n                    <Text weight='bold' color='prominent' size={isDesktop ? 's' : 'xs'}>\n                        <Localize i18n_default_text='Congratulations' />\n                    </Text>\n                </div>\n                <div className='dc-dialog__content__description'>\n                    <Text size={isDesktop ? 'xs' : 'xxs'} color='prominent'>\n                        {getTourContent()}\n                    </Text>\n                </div>\n            </Dialog>\n        </div>\n    );\n});\n\nexport default TourEndDialog;\n",
            "size_bytes": 2696
        },
        "src/pages/bot-builder/quick-strategy/form-wrappers/useQsSubmitHandler.tsx": {
            "content": "import { useFormikContext } from 'formik';\nimport { useStore } from '@/hooks/useStore';\nimport { TFormData } from '../types';\n\nconst useQsSubmitHandler = () => {\n    const { client } = useStore();\n    const { currency, balance, is_logged_in } = client;\n    const { submitForm, setFieldValue, values, isValid, validateForm } = useFormikContext<TFormData>();\n    const { quick_strategy, run_panel } = useStore();\n    const { toggleStopBotDialog, setLossThresholdWarningData, loss_threshold_warning_data, onSubmit } = quick_strategy;\n\n    const handleSubmit = async () => {\n        const loss_amount = Number(values?.loss ?? 0);\n        const profit_threshold = Number(values?.profit ?? 0);\n        const stored_dont_show_warning_value = localStorage?.getItem('qs-dont-show-loss-threshold-warning');\n        const dont_show_warning = JSON.parse(stored_dont_show_warning_value ?? 'false');\n        if (\n            !loss_threshold_warning_data.already_shown &&\n            (loss_amount > 0.5 * Number(balance ?? 0) || loss_amount > 2 * profit_threshold) &&\n            is_logged_in &&\n            !dont_show_warning\n        ) {\n            setLossThresholdWarningData({\n                show: true,\n                loss_amount,\n                currency,\n                already_shown: true,\n            });\n        } else {\n            proceedFormSubmission();\n        }\n    };\n\n    const proceedFormSubmission = async () => {\n        if (run_panel.is_running) {\n            await setFieldValue('action', 'EDIT');\n            validateForm();\n            submitForm();\n            toggleStopBotDialog();\n        } else {\n            await setFieldValue('action', 'RUN');\n            validateForm();\n            submitForm().then((form_data: TFormData | void) => {\n                if (isValid && form_data) {\n                    onSubmit(form_data);\n                }\n            });\n        }\n    };\n\n    return { handleSubmit, proceedFormSubmission };\n};\n\nexport default useQsSubmitHandler;\n",
            "size_bytes": 1986
        },
        "src/external/bot-skeleton/constants/messages.ts": {
            "content": "export const unrecoverable_errors = [\n    'InsufficientBalance',\n    'CustomLimitsReached',\n    'OfferingsValidationError',\n    'InvalidCurrency',\n    'ContractBuyValidationError',\n    'NotDefaultCurrency',\n    'PleaseAuthenticate',\n    'FinancialAssessmentRequired',\n    'PositiveIntegerExpected',\n    'OptionError',\n    'IncorrectPayoutDecimals',\n    'IncorrectStakeDecimals',\n    'NoMFProfessionalClient',\n    'AuthorizationRequired',\n    'InvalidToken',\n    'DailyLossLimitExceeded',\n    'InputValidationFailed',\n    'ClientUnwelcome',\n    'PriceMoved',\n];\n\nexport enum MessageTypes {\n    ERROR = 'error',\n    NOTIFY = 'notify',\n    SUCCESS = 'success',\n}\n\nexport enum ErrorTypes {\n    RECOVERABLE_ERRORS = 'recoverable_errors',\n    UNRECOVERABLE_ERRORS = 'unrecoverable_errors',\n}\n\nexport enum LogTypes {\n    LOAD_BLOCK = 'load_block',\n    PURCHASE = 'purchase',\n    SELL = 'sell',\n    NOT_OFFERED = 'not_offered',\n    PROFIT = 'profit',\n    LOST = 'lost',\n    WELCOME_BACK = 'welcome_back',\n    WELCOME = 'welcome',\n}\n",
            "size_bytes": 1024
        },
        "src/pages/tutorials/dbot-tours/bot-builder-tour/bot-builder-tour-desktop.tsx": {
            "content": "import React from 'react';\nimport { observer } from 'mobx-react-lite';\nimport { useStore } from '@/hooks/useStore';\nimport { getSetting } from '@/utils/settings';\nimport ReactJoyrideWrapper from '../common/react-joyride-wrapper';\nimport TourEndDialog from '../common/tour-end-dialog';\nimport TourStartDialog from '../common/tour-start-dialog';\nimport { BOT_BUILDER_TOUR } from '../tour-content';\nimport { useTourHandler } from '../useTourHandler';\n\nconst BotBuilderTourDesktop = observer(() => {\n    const { is_close_tour, is_finished, handleJoyrideCallback, setIsCloseTour } = useTourHandler();\n    const { dashboard, load_modal } = useStore();\n    const { active_tab, active_tour, setActiveTour, setTourDialogVisibility, is_tour_dialog_visible } = dashboard;\n    const { is_load_modal_open } = load_modal;\n    // Check if tour should be shown with setTimeout to prevent showing on every reload\n    React.useEffect(() => {\n        if (active_tab === 1) {\n            const timeoutId = setTimeout(() => {\n                const token = getSetting('bot_builder_token');\n                if (!token && !is_tour_dialog_visible) {\n                    setTourDialogVisibility(true);\n                }\n            }, 100);\n\n            return () => clearTimeout(timeoutId);\n        }\n    }, [active_tab, is_tour_dialog_visible, setTourDialogVisibility]);\n\n    React.useEffect(() => {\n        if (is_finished) {\n            setTourDialogVisibility(true);\n            setActiveTour('');\n        } else if (is_close_tour) {\n            setActiveTour('');\n            setIsCloseTour(false);\n        }\n    }, [is_close_tour, is_finished, setActiveTour, setIsCloseTour, setTourDialogVisibility]);\n\n    return (\n        <>\n            {is_finished ? <TourEndDialog /> : !is_load_modal_open ? <TourStartDialog /> : null}\n            {active_tour && (\n                <ReactJoyrideWrapper\n                    handleCallback={handleJoyrideCallback}\n                    steps={BOT_BUILDER_TOUR}\n                    disableCloseOnEsc\n                    disableOverlay={false}\n                    disableOverlayClose={true}\n                    styles={{\n                        options: {\n                            arrowColor: 'transparent',\n                            backgroundColor: 'var(--general-main-2)',\n                            primaryColor: 'var(--brand-red-coral)',\n                            textColor: 'var(--text-general)',\n                        },\n                    }}\n                />\n            )}\n        </>\n    );\n});\n\nexport default BotBuilderTourDesktop;\n",
            "size_bytes": 2570
        },
        "src/components/flyout/help-contents/flyout-video.tsx": {
            "content": "const FlyoutVideo = (props: { url: string }) => (\n    <div className='flyout__item' data-testid='dt_flyout_video_container'>\n        <iframe\n            data-testid='dt_flyout_video'\n            className='flyout__video'\n            src={props.url}\n            frameBorder='0'\n            allow='accelerometer; encrypted-media; gyroscope; picture-in-picture'\n            allowFullScreen\n            width='100%'\n        />\n    </div>\n);\n\nexport default FlyoutVideo;\n",
            "size_bytes": 466
        },
        "src/components/shared_ui/remaining-time/remaining-time.tsx": {
            "content": "import React from 'react';\nimport moment from 'moment';\nimport { formatDuration, getDiffDuration } from '@/components/shared';\nimport { TGetCardLables } from '../types';\n\ntype TRemainingTimeProps = {\n    end_time?: number;\n    start_time: moment.Moment;\n    format?: string;\n    getCardLabels: TGetCardLables;\n};\n\nconst RemainingTime = ({ end_time, format, getCardLabels, start_time }: TRemainingTimeProps) => {\n    if (!end_time || start_time.unix() > +end_time) {\n        return <React.Fragment>{''}</React.Fragment>;\n    }\n\n    const { days, timestamp } = formatDuration(getDiffDuration(start_time.unix(), end_time), format);\n    let remaining_time = timestamp;\n    if (days > 0) {\n        remaining_time = `${days} ${days > 1 ? getCardLabels().DAYS : getCardLabels().DAY} ${timestamp}`;\n    }\n    const is_zeroes = /^00:00$/.test(remaining_time);\n\n    return <React.Fragment>{!is_zeroes && <div className='dc-remaining-time'>{remaining_time}</div>}</React.Fragment>;\n};\n\nexport default RemainingTime;\n",
            "size_bytes": 1005
        },
        "src/components/blockly-loading/index.ts": {
            "content": "import BlocklyLoading from './blockly-loading';\nimport './blockly-loading.scss';\n\nexport default BlocklyLoading;\n",
            "size_bytes": 113
        },
        "src/constants/dashboard.ts": {
            "content": "export const STRATEGY = {\n    OPEN: 'open',\n    EDIT: 'edit',\n    SAVE: 'save',\n    DELETE: 'delete',\n    PREVIEW: 'preview',\n    PREVIEW_LIST: 'list',\n    INIT: 'init',\n};\n",
            "size_bytes": 173
        },
        "src/components/layout/header/custom-notifications/index.ts": {
            "content": "import CustomNotifications from './custom-notifications';\n\nexport default CustomNotifications;\n",
            "size_bytes": 95
        },
        "src/pages/bot-builder/workspace-wrapper.tsx": {
            "content": "import React from 'react';\nimport { observer } from 'mobx-react-lite';\nimport Flyout from '@/components/flyout';\nimport { useStore } from '@/hooks/useStore';\nimport StopBotModal from '../dashboard/stop-bot-modal';\nimport Toolbar from './toolbar';\nimport Toolbox from './toolbox';\nimport './workspace.scss';\n\nconst WorkspaceWrapper = observer(() => {\n    const { blockly_store } = useStore();\n    const { onMount, onUnmount, is_loading } = blockly_store;\n\n    React.useEffect(() => {\n        onMount();\n        return () => {\n            onUnmount();\n        };\n    }, []);\n\n    if (is_loading) return null;\n\n    if (window.Blockly?.derivWorkspace)\n        return (\n            <React.Fragment>\n                <Toolbox />\n                <Toolbar />\n                <Flyout />\n                <StopBotModal />\n            </React.Fragment>\n        );\n\n    return null;\n});\n\nexport default WorkspaceWrapper;\n",
            "size_bytes": 907
        },
        "src/components/contract-card-loading/contract-card-loading.tsx": {
            "content": "import React from 'react';\nimport ContentLoader from 'react-content-loader';\nimport { contract_stages } from '@/constants/contract-stage';\nimport ContractCardRunningBot from './contract-card-running-bot';\n\ntype TContractCardLoader = {\n    speed?: number;\n    contract_stage?: number;\n};\n\nconst ContractCardLoader = ({ speed = 3, contract_stage }: TContractCardLoader) => (\n    <>\n        {contract_stage === contract_stages.RUNNING ? (\n            <ContractCardRunningBot />\n        ) : (\n            <ContentLoader\n                height={153}\n                width={334}\n                speed={speed}\n                backgroundColor={'var(--general-section-2)'}\n                foregroundColor={'var(--general-hover)'}\n                data-testid='contract-card-loader'\n            >\n                <rect x='12' y='15' rx='0' ry='0' width='41' height='25' />\n                <rect x='61' y='24' rx='0' ry='0' width='91' height='8' />\n                <rect x='180' y='15' rx='0' ry='0' width='41' height='25' />\n                <rect x='229' y='24' rx='0' ry='0' width='91' height='8' />\n                <rect x='12' y='48' rx='0' ry='0' width='60' height='8' />\n                <rect x='12' y='64' rx='0' ry='0' width='308' height='8' />\n                <rect x='12' y='80' rx='0' ry='0' width='308' height='1' />\n                <rect x='12' y='89' rx='0' ry='0' width='140' height='8' />\n                <rect x='12' y='105' rx='0' ry='0' width='60' height='8' />\n                <rect x='12' y='121' rx='0' ry='0' width='140' height='8' />\n                <rect x='12' y='137' rx='0' ry='0' width='60' height='8' />\n                <rect x='180' y='89' rx='0' ry='0' width='140' height='8' />\n                <rect x='180' y='105' rx='0' ry='0' width='60' height='8' />\n                <rect x='180' y='121' rx='0' ry='0' width='140' height='8' />\n                <rect x='180' y='137' rx='0' ry='0' width='60' height='8' />\n            </ContentLoader>\n        )}\n    </>\n);\n\nexport default ContractCardLoader;\n",
            "size_bytes": 2018
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Indicators/bb_statement.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { config } from '../../../../constants/config';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.bb_statement = {\n    protected_statements: ['STATEMENT'],\n    required_child_blocks: ['input_list', 'period', 'std_dev_multiplier_up', 'std_dev_multiplier_down'],\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to Bollinger Bands {{ band_type }} {{ dummy }}', {\n                variable: '%1',\n                band_type: '%2',\n                dummy: '%3',\n            }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: 'bb',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'BBRESULT_LIST',\n                    options: config().bbResult,\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STATEMENT',\n                    check: null,\n                },\n            ],\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Calculates Bollinger Bands (BB) from a list with a period'),\n            previousStatement: null,\n            nextStatement: null,\n            category: window.Blockly.Categories.Indicators,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Bollinger Bands (BB)'),\n            description: localize(\n                'BB is a technical analysis indicator thats commonly used by traders. The idea behind BB is that the market price stays within the upper and lower bands for 95% of the time. The bands are the standard deviations of the market price, while the line in the middle is a simple moving average line. If the price reaches either the upper or lower band, theres a possibility of a trend reversal.'\n            ),\n        };\n    },\n    onchange(event) {\n        if (!this.workspace || window.Blockly.derivWorkspace.isFlyoutVisible || this.workspace.isDragging()) {\n            return;\n        }\n\n        if (event.type === window.Blockly.Events.BLOCK_DRAG && !event.isStart) {\n            const blocksInStatement = this.getBlocksInStatement('STATEMENT');\n            blocksInStatement.forEach(block => {\n                if (!this.required_child_blocks.includes(block.type)) {\n                    window.Blockly.Events.disable();\n                    block.unplug(false);\n                    window.Blockly.Events.enable();\n                }\n            });\n        }\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.bb_statement = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = window.Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        window.Blockly.Variables.CATEGORY_NAME\n    );\n    const bb_result = block.getFieldValue('BBRESULT_LIST');\n    const input = block.childValueToCode('input_list', 'INPUT_LIST');\n    const period = block.childValueToCode('period', 'PERIOD');\n    const std_dev_up = block.childValueToCode('std_dev_multiplier_up', 'UPMULTIPLIER');\n    const std_dev_down = block.childValueToCode('std_dev_multiplier_down', 'DOWNMULTIPLIER');\n    const code = `${var_name} = Bot.bb(${input}, { \n        periods: ${period}, \n        stdDevUp: ${std_dev_up}, \n        stdDevDown: ${std_dev_down} \n    }, ${bb_result});\\n`;\n\n    return code;\n};\n",
            "size_bytes": 3913
        },
        "src/utils/help-content/help-strings/last_digit.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize(\n            'This block gives you the last digit of the latest tick value of the selected market. If the latest tick value is 1410.90, this block will return 0. Its useful for digit-based contracts such as Even/Odd, Matches/Differs, or Higher/Lower.'\n        ),\n    ],\n};\n",
            "size_bytes": 381
        },
        "src/components/data-list/data-list.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { TransitionGroup } from 'react-transition-group';\nimport {\n    AutoSizer as _AutoSizer,\n    type AutoSizerProps,\n    CellMeasurer as _CellMeasurer,\n    CellMeasurerCache,\n    CellMeasurerProps,\n    IndexRange,\n    List as _List,\n    ListProps,\n    ListRowProps,\n} from 'react-virtualized';\nimport { MeasuredCellParent } from 'react-virtualized/dist/es/CellMeasurer';\nimport { isDesktop, isForwardStartingBuyTransaction, isMobile } from '../shared';\nimport ThemedScrollbars from '../shared_ui/themed-scrollbars';\nimport { TPassThrough, TRow, TTableRowItem } from '../types/common.types';\nimport DataListCell from './data-list-cell';\nimport DataListRow, { TRowRenderer } from './data-list-row';\n\nconst List = _List as unknown as React.FC<ListProps>;\nconst AutoSizer = _AutoSizer as unknown as React.FC<AutoSizerProps>;\nconst CellMeasurer = _CellMeasurer as unknown as React.FC<CellMeasurerProps>;\n\nexport type TDataList = {\n    className?: string;\n    data_source: TRow[];\n    footer?: TRow;\n    getRowAction?: (row: TRow) => TTableRowItem;\n    getRowSize?: (params: { index: number }) => number;\n    keyMapper?: (row: TRow) => number | string;\n    onRowsRendered?: (params: IndexRange) => void;\n    onScroll?: React.UIEventHandler<HTMLDivElement>;\n    passthrough?: TPassThrough;\n    row_gap?: number;\n    setListRef?: (ref: MeasuredCellParent) => void;\n    rowRenderer: TRowRenderer;\n    children?: React.ReactNode;\n    overscanRowCount?: number;\n};\ntype GetContentType = { measure?: () => void | undefined };\n\nconst DataList = React.memo(\n    ({\n        children,\n        className,\n        data_source,\n        footer,\n        getRowSize,\n        keyMapper,\n        onRowsRendered,\n        onScroll,\n        setListRef,\n        overscanRowCount,\n        ...other_props\n    }: TDataList) => {\n        const [is_loading, setLoading] = React.useState(true);\n        const [is_scrolling, setIsScrolling] = React.useState(false);\n        const [scroll_top, setScrollTop] = React.useState(0);\n\n        const cache = React.useRef<CellMeasurerCache>();\n        const list_ref = React.useRef<MeasuredCellParent | null>(null);\n        const items_transition_map_ref = React.useRef<{ [key: string]: boolean }>({});\n        const data_source_ref = React.useRef<TRow[] | null>(null);\n        data_source_ref.current = data_source;\n\n        const is_dynamic_height = !getRowSize;\n\n        const trackItemsForTransition = React.useCallback(() => {\n            data_source.forEach((item: TRow, index: number) => {\n                const row_key: string | number = keyMapper?.(item) || `${index}-0`;\n                items_transition_map_ref.current[row_key] = true;\n            });\n        }, [data_source, keyMapper]);\n\n        React.useEffect(() => {\n            if (is_dynamic_height) {\n                cache.current = new CellMeasurerCache({\n                    fixedWidth: true,\n                    keyMapper: row_index => {\n                        if (data_source_ref?.current && row_index < data_source_ref?.current.length)\n                            return keyMapper?.(data_source_ref.current[row_index]) || row_index;\n                        return row_index;\n                    },\n                });\n            }\n            trackItemsForTransition();\n            setLoading(false);\n        }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n        React.useEffect(() => {\n            if (is_dynamic_height) {\n                list_ref.current?.recomputeGridSize?.({ columnIndex: 0, rowIndex: 0 });\n            }\n            trackItemsForTransition();\n        }, [data_source, is_dynamic_height, trackItemsForTransition]);\n\n        const footerRowRenderer = () => {\n            return <React.Fragment>{other_props.rowRenderer({ row: footer, is_footer: true })}</React.Fragment>;\n        };\n\n        const rowRenderer = ({ style, index, key, parent }: ListRowProps) => {\n            const { getRowAction, passthrough, row_gap } = other_props;\n            let row = data_source[index];\n            const { action_type, shortcode, purchase_time, transaction_time, id } = row;\n            if (isForwardStartingBuyTransaction(action_type, shortcode, purchase_time || transaction_time)) {\n                const is_sold = !!data_source?.find(\n                    transaction => transaction.action_type === 'sell' && transaction.id === id\n                );\n                row = { ...row, is_sold };\n            }\n            const action = getRowAction && getRowAction(row);\n            const destination_link = typeof action === 'string' ? action : undefined;\n            const action_desc = typeof action === 'object' ? action : undefined;\n            const row_key = keyMapper?.(row) || key;\n\n            const getContent = ({ measure }: GetContentType = {}) => (\n                <DataListRow\n                    action_desc={action_desc}\n                    destination_link={destination_link}\n                    is_new_row={!items_transition_map_ref.current[row_key]}\n                    is_scrolling={is_scrolling}\n                    measure={measure}\n                    passthrough={passthrough}\n                    row_gap={row_gap}\n                    row_key={row_key}\n                    row={row}\n                    rowRenderer={other_props.rowRenderer}\n                    is_dynamic_height={is_dynamic_height}\n                />\n            );\n\n            return is_dynamic_height && cache.current ? (\n                <CellMeasurer cache={cache.current} columnIndex={0} key={row_key} rowIndex={index} parent={parent}>\n                    {({ measure }) => <div style={style}>{getContent({ measure })}</div>}\n                </CellMeasurer>\n            ) : (\n                <div key={row_key} style={style}>\n                    {getContent()}\n                </div>\n            );\n        };\n\n        const handleScroll = (ev: Partial<React.UIEvent<HTMLDivElement>>) => {\n            // eslint-disable-next-line prefer-const\n            let timeout;\n\n            clearTimeout(timeout);\n            if (!is_scrolling) {\n                setIsScrolling(true);\n            }\n            timeout = setTimeout(() => {\n                if (!is_loading) {\n                    setIsScrolling(false);\n                }\n            }, 200);\n\n            setScrollTop((ev.target as HTMLElement).scrollTop);\n            if (typeof onScroll === 'function') {\n                onScroll(ev as React.UIEvent<HTMLDivElement>);\n            }\n        };\n\n        const setRef = (ref: MeasuredCellParent) => {\n            list_ref.current = ref;\n            setListRef?.(ref);\n        };\n\n        if (is_loading) {\n            return <div />;\n        }\n        return (\n            <div\n                data-testid='dt_data_list'\n                className={classNames(className, 'data-list', {\n                    [`${className}__data-list`]: className,\n                })}\n            >\n                <div className='data-list__body-wrapper'>\n                    <div className={classNames('data-list__body', { [`${className}__data-list-body`]: className })}>\n                        <AutoSizer>\n                            {({ width, height }) => (\n                                // Don't remove `TransitionGroup`. When `TransitionGroup` is removed, transition life cycle events like `onEntered` won't be fired sometimes on it's `CSSTransition` children\n                                <TransitionGroup style={{ height, width }}>\n                                    <ThemedScrollbars onScroll={handleScroll} autohide is_bypassed={isMobile()}>\n                                        <List\n                                            className={className}\n                                            deferredMeasurementCache={cache?.current}\n                                            height={height}\n                                            onRowsRendered={onRowsRendered}\n                                            overscanRowCount={overscanRowCount || 1}\n                                            ref={(ref: MeasuredCellParent) => setRef(ref)}\n                                            rowCount={data_source.length}\n                                            rowHeight={\n                                                is_dynamic_height && cache?.current?.rowHeight\n                                                    ? cache?.current?.rowHeight\n                                                    : getRowSize || 0\n                                            }\n                                            rowRenderer={rowRenderer}\n                                            scrollingResetTimeInterval={0}\n                                            width={width}\n                                            {...(isDesktop()\n                                                ? { scrollTop: scroll_top, autoHeight: true }\n                                                : {\n                                                      onScroll: target =>\n                                                          handleScroll({ target } as unknown as Partial<\n                                                              React.UIEvent<HTMLDivElement>\n                                                          >),\n                                                  })}\n                                        />\n                                    </ThemedScrollbars>\n                                </TransitionGroup>\n                            )}\n                        </AutoSizer>\n                    </div>\n                    {children}\n                </div>\n                {footer && (\n                    <div\n                        className={classNames('data-list__footer', {\n                            [`${className}__data-list-footer`]: className,\n                        })}\n                    >\n                        {footerRowRenderer()}\n                    </div>\n                )}\n            </div>\n        );\n    }\n) as React.MemoExoticComponent<(props: TDataList) => JSX.Element> & { Cell: typeof DataListCell };\n\nDataList.displayName = 'DataList';\nDataList.Cell = DataListCell;\n\nexport default DataList;\n",
            "size_bytes": 10211
        },
        "src/types/derivatives-charts.d.ts": {
            "content": "declare module '@deriv-com/derivatives-charts' {\n    import { ComponentType, ReactNode } from 'react';\n\n    export interface SmartChartProps {\n        id?: string;\n        barriers?: any[];\n        showLastDigitStats?: boolean;\n        chartControlsWidgets?: any;\n        enabledChartFooter?: boolean;\n        stateChangeListener?: (state: string, option?: any) => void;\n        chartStatusListener?: (status: boolean) => void;\n        toolbarWidget?: () => ReactNode;\n        chartType?: string;\n        isMobile?: boolean;\n        enabledNavigationWidget?: boolean;\n        granularity?: number;\n        requestAPI?: (req: any) => Promise<any>;\n        requestForget?: () => void;\n        requestForgetStream?: () => void;\n        requestSubscribe?: (req: any, callback: (data: any) => void) => Promise<void>;\n        settings?: {\n            assetInformation?: boolean;\n            countdown?: boolean;\n            isHighestLowestMarkerEnabled?: boolean;\n            language?: string;\n            position?: string;\n            theme?: string;\n        };\n        symbol?: string;\n        topWidgets?: () => ReactNode;\n        isConnectionOpened?: boolean;\n        getMarketsOrder?: (symbols: any[]) => string[];\n        isLive?: boolean;\n        leftMargin?: number;\n    }\n\n    export interface ChartTitleProps {\n        onChange?: (symbol: string) => void;\n        enabled?: boolean;\n        open_market?: {\n            category?: string;\n            subcategory?: string;\n            market?: string;\n        };\n        isNestedList?: boolean;\n    }\n\n    export interface ToolbarWidgetProps {\n        position?: 'top' | 'bottom';\n        children?: ReactNode;\n    }\n\n    export const SmartChart: ComponentType<SmartChartProps>;\n    export const ChartTitle: ComponentType<ChartTitleProps>;\n    export const ChartMode: ComponentType<any>;\n    export const DrawTools: ComponentType<any>;\n    export const Share: ComponentType<any>;\n    export const StudyLegend: ComponentType<any>;\n    export const ToolbarWidget: ComponentType<ToolbarWidgetProps>;\n    export const Views: ComponentType<any>;\n    export const setSmartChartsPublicPath: (path: string) => void;\n}\n",
            "size_bytes": 2165
        },
        "src/components/shared_ui/accordion/index.ts": {
            "content": "import Accordion from './accordion';\nimport './accordion.scss';\n\nexport default Accordion;\n",
            "size_bytes": 91
        },
        "src/components/layout/header/mobile-menu/back-button.tsx": {
            "content": "import { LegacyChevronLeft1pxIcon } from '@deriv/quill-icons/Legacy';\nimport { Text, useDevice } from '@deriv-com/ui';\n\ntype TBackButton = {\n    buttonText: string;\n    onClick: () => void;\n};\n\nconst BackButton = ({ buttonText, onClick }: TBackButton) => {\n    const { isDesktop } = useDevice();\n\n    return (\n        <button className='flex items-center w-full pt-8 p-[3.2rem]' onClick={onClick}>\n            <LegacyChevronLeft1pxIcon iconSize='xs' fill='var(--text-general)' />\n\n            <Text className='ml-[1.6rem]' size={isDesktop ? 'md' : 'lg'} weight='bold'>\n                {buttonText}\n            </Text>\n        </button>\n    );\n};\n\nexport default BackButton;\n",
            "size_bytes": 674
        },
        "src/hooks/useConstructor.ts": {
            "content": "import React from 'react';\n\nexport const useConstructor = (callBack: () => void = () => undefined) => {\n    const is_called_ref = React.useRef(false);\n    if (!is_called_ref.current) {\n        callBack();\n        is_called_ref.current = true;\n    }\n};\n",
            "size_bytes": 252
        },
        "src/constants/run-panel.ts": {
            "content": "export const run_panel = Object.freeze({\n    SUMMARY: 0,\n    TRANSACTIONS: 1,\n    JOURNAL: 2,\n});\n",
            "size_bytes": 98
        },
        "src/external/bot-skeleton/scratch/blocks/Text/text_length.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { emptyTextValidator, modifyContextMenu } from '../../utils';\n\nwindow.Blockly.Blocks.text_length = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('length of {{ input_text }}', { input_text: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                },\n            ],\n            output: 'Number',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Text String Length'),\n            category: window.Blockly.Categories.Text,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    meta() {\n        return {\n            display_name: localize('Text String Length'),\n            description: localize(\n                'Returns the number of characters of a given string of text, including numbers, spaces, punctuation marks, and symbols.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            VALUE: emptyTextValidator,\n        };\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.text_length = block => {\n    const text =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'VALUE',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_FUNCTION_CALL\n        ) || \"''\";\n\n    const code = `${text}.length`;\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_MEMBER];\n};\n",
            "size_bytes": 1799
        },
        "src/components/layout/footer/Endpoint.tsx": {
            "content": "import { Link } from 'react-router-dom';\nimport { standalone_routes } from '@/components/shared';\nimport Text from '@/components/shared_ui/text';\nimport { LocalStorageConstants, LocalStorageUtils } from '@deriv-com/utils';\n\nconst Endpoint = () => {\n    const serverURL = LocalStorageUtils.getValue<string>(LocalStorageConstants.configServerURL);\n\n    if (serverURL) {\n        return (\n            <Text className='app-footer__endpoint' color='red' size='s'>\n                The server{' '}\n                <Link className='app-footer__endpoint-text' to={standalone_routes.endpoint}>\n                    endpoint\n                </Link>{' '}\n                {`is: ${serverURL}`}\n            </Text>\n        );\n    }\n    return null;\n};\n\nexport default Endpoint;\n",
            "size_bytes": 761
        },
        "src/components/shared/test_utils/test_common.ts": {
            "content": "import { JSDOM } from 'jsdom';\nimport { reset } from '../utils/url/url';\n\nconst jsdom = new JSDOM();\n\nconst setURL = (url: string) => {\n    jsdom.reconfigure({ url });\n    // eslint-disable-next-line no-unused-expressions\n    jsdom.window.location.href = url;\n    reset();\n};\n\nmodule.exports = {\n    expect,\n    setURL,\n    getApiToken: () => 'hhh9bfrbq0G3dRf',\n};\n",
            "size_bytes": 365
        },
        "src/components/shared_ui/contract-card/contract-card-items/contract-card-sell.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { hasContractEntered, isForwardStarting, isOpen, isValidToSell } from '@/components/shared';\nimport { TContractInfo } from '@/components/shared/utils/contract/contract-types';\nimport { Button } from '@deriv-com/ui';\nimport { TGetCardLables } from '../../types';\n\nexport type TContractCardSellProps = {\n    contract_info: TContractInfo;\n    getCardLabels: TGetCardLables;\n    is_sell_requested: boolean;\n    onClickSell?: (contract_id?: number) => void;\n};\n\nconst ContractCardSell = ({ contract_info, getCardLabels, is_sell_requested, onClickSell }: TContractCardSellProps) => {\n    const is_valid_to_sell = isValidToSell(contract_info);\n    const should_show_sell =\n        (hasContractEntered(contract_info) ||\n            isForwardStarting(contract_info?.shortcode ?? '', contract_info.purchase_time)) &&\n        isOpen(contract_info);\n\n    const onClick = (ev: React.MouseEvent<HTMLButtonElement>) => {\n        onClickSell?.(contract_info.contract_id);\n        ev.stopPropagation();\n        ev.preventDefault();\n    };\n\n    return should_show_sell ? (\n        <React.Fragment>\n            {is_valid_to_sell ? (\n                <Button\n                    className={classNames('dc-btn--sell', {\n                        'dc-btn--loading': is_sell_requested,\n                    })}\n                    data-testid='dt_contract_card_sell'\n                    disabled={is_sell_requested}\n                    onClick={onClick}\n                    variant='outlined'\n                >\n                    {getCardLabels().SELL}\n                </Button>\n            ) : (\n                <div className='dc-contract-card__no-resale-msg'>{getCardLabels().RESALE_NOT_OFFERED}</div>\n            )}\n        </React.Fragment>\n    ) : null;\n};\n\nexport default ContractCardSell;\n",
            "size_bytes": 1842
        },
        "src/pages/tutorials/common/no-search-result-found/index.ts": {
            "content": "import NoSearchResult from './no-search-result';\n\nexport default NoSearchResult;\n",
            "size_bytes": 81
        },
        "src/components/shared/loaders/deriv-reports-loader.js": {
            "content": "const resolve = require('path').resolve;\nconst existsSync = require('fs').existsSync;\n/* Using this loader you can import components from @deriv/components without having to manually\nimport the corresponding stylesheet. The deriv-reports-loader will automatically import\nstylesheets.\n\n    import { PoaExpired } from '@deriv/reports';\n      \n    import PoaExpired from '@deriv/reports/dist/js/poa-expired';\n*/\n\nfunction getKebabCase(str) {\n    return str\n        .split(/(?=[A-Z])/)\n        .join('-')\n        .toLowerCase();\n}\n\nfunction checkExists(component) {\n    return existsSync(resolve(__dirname, '../../../reports/src/Components/', component, `${component}.scss`));\n}\n\nmodule.exports = function (source, map) {\n    const lines = source.split(/\\n/);\n    const mapped_lines = lines.map(line => {\n        const matches = /\\s*import\\s+\\{(.*)\\}\\s*from\\s+\\'@deriv\\/reports/.exec(line); // eslint-disable-line no-useless-escape\n        if (!matches || !matches[1]) {\n            return line; // do nothing;\n        }\n        const components = matches[1]\n            .replace(/\\sas\\s\\w+/, '') // Remove aliasing from imports.\n            .replace(/\\s+/g, '')\n            .split(',');\n        const replace = components\n            .map(\n                c => `\nimport ${c} from '@deriv/reports/dist/reports/js/${getKebabCase(c)}';\n${checkExists(getKebabCase(c)) ? `import '@deriv/reports/dist/reports/css/${getKebabCase(c)}.css';` : ''}\n        `\n            )\n            .join('\\n');\n\n        return replace;\n    });\n\n    return this.callback(null, mapped_lines.join('\\n'), map);\n};\n",
            "size_bytes": 1593
        },
        "src/components/layout/header/header.tsx": {
            "content": "import { useCallback, useEffect, useState } from 'react';\nimport clsx from 'clsx';\nimport { observer } from 'mobx-react-lite';\nimport { generateOAuthURL, standalone_routes } from '@/components/shared';\nimport Button from '@/components/shared_ui/button';\nimport useActiveAccount from '@/hooks/api/account/useActiveAccount';\nimport { useOauth2 } from '@/hooks/auth/useOauth2';\nimport { useApiBase } from '@/hooks/useApiBase';\nimport { useStore } from '@/hooks/useStore';\nimport { Localize, useTranslations } from '@deriv-com/translations';\nimport { Header, useDevice, Wrapper } from '@deriv-com/ui';\nimport { AppLogo } from '../app-logo';\nimport AccountsInfoLoader from './account-info-loader';\nimport AccountSwitcher from './account-switcher';\nimport MenuItems from './menu-items';\nimport MobileMenu from './mobile-menu';\nimport './header.scss';\n\ntype TAppHeaderProps = {\n    isAuthenticating?: boolean;\n};\n\nconst AppHeader = observer(({ isAuthenticating }: TAppHeaderProps) => {\n    const { isDesktop } = useDevice();\n    const { isAuthorizing, isAuthorized, activeLoginid, setIsAuthorizing } = useApiBase();\n    const { client } = useStore() ?? {};\n    const [authTimeout, setAuthTimeout] = useState(false);\n\n    const { data: activeAccount } = useActiveAccount({\n        allBalanceData: client?.all_accounts_balance,\n        directBalance: client?.balance,\n    });\n    const { getCurrency, is_virtual } = client ?? {};\n\n    const currency = getCurrency?.();\n    const { localize } = useTranslations();\n\n    const { isSingleLoggingIn, oAuthLogout } = useOauth2({ handleLogout: async () => client?.logout(), client });\n\n    const handleLogout = useCallback(async () => {\n        try {\n            await oAuthLogout();\n        } catch (error) {\n            console.error('Logout failed:', error);\n            // Still try to logout even if there's an error\n            await oAuthLogout();\n        }\n    }, [oAuthLogout]);\n\n    // Handle direct URL access with token\n    useEffect(() => {\n        const urlParams = new URLSearchParams(window.location.search);\n        const tokenFromUrl = urlParams.get('token');\n\n        // If there's a token in the URL, set authorizing to true\n        if (tokenFromUrl) {\n            setIsAuthorizing(true);\n        }\n    }, [setIsAuthorizing]);\n\n    // Add fallback timeout to show login button if auth never fires\n    useEffect(() => {\n        const timer = setTimeout(() => {\n            // If still authorizing after 10 seconds and no activeLoginid, show login button\n            if (isAuthorizing && !activeLoginid) {\n                setAuthTimeout(true);\n                setIsAuthorizing(false);\n            }\n        }, 5000); // 5 second timeout\n\n        // Clear timeout if user gets authenticated or if not authorizing\n        if (activeLoginid || !isAuthorizing) {\n            setAuthTimeout(false);\n            clearTimeout(timer);\n        }\n\n        return () => clearTimeout(timer);\n    }, [isAuthorizing, activeLoginid, setIsAuthorizing]);\n\n    const handleLogin = useCallback(() => {\n        try {\n            // Set authorizing state immediately when login is clicked\n            setIsAuthorizing(true);\n            // Redirect to OAuth URL\n            window.location.replace(generateOAuthURL());\n        } catch (error) {\n            console.error('Login redirection failed:', error);\n            // Reset authorizing state if redirection fails\n            setIsAuthorizing(false);\n        }\n    }, [setIsAuthorizing]);\n\n    const renderAccountSection = useCallback(() => {\n        // Show account switcher and logout when user is fully authenticated\n        if (activeLoginid) {\n            return (\n                <div className='auth-actions'>\n                    <AccountSwitcher activeAccount={activeAccount} />\n                    {isDesktop && (\n                        <Button tertiary disabled={client?.is_logging_out} onClick={handleLogout}>\n                            <Localize i18n_default_text='Log out' />\n                        </Button>\n                    )}\n                </div>\n            );\n        }\n        // Show login button when not authorizing, or when auth timeout occurred\n        else if ((!isAuthorizing && !activeLoginid) || authTimeout) {\n            return (\n                <div className='auth-actions'>\n                    <Button tertiary onClick={handleLogin}>\n                        <Localize i18n_default_text='Log in' />\n                    </Button>\n                </div>\n            );\n        }\n        // Default: Show loader during loading states or when authorizing\n        else {\n            return <AccountsInfoLoader isLoggedIn isMobile={!isDesktop} speed={3} />;\n        }\n    }, [\n        isAuthenticating,\n        isAuthorizing,\n        isSingleLoggingIn,\n        isDesktop,\n        activeLoginid,\n        isAuthorized,\n        standalone_routes,\n        client,\n        currency,\n        localize,\n        activeAccount,\n        is_virtual,\n        handleLogout,\n        authTimeout,\n    ]);\n\n    if (client?.should_hide_header) return null;\n\n    return (\n        <>\n            <Header\n                className={clsx('app-header', {\n                    'app-header--desktop': isDesktop,\n                    'app-header--mobile': !isDesktop,\n                })}\n            >\n                <Wrapper variant='left'>\n                    <MobileMenu onLogout={handleLogout} />\n                    <AppLogo />\n                    {isDesktop && <MenuItems />}\n                </Wrapper>\n                <Wrapper variant='right'>{renderAccountSection()}</Wrapper>\n            </Header>\n        </>\n    );\n});\n\nexport default AppHeader;\n",
            "size_bytes": 5650
        },
        "src/external/bot-skeleton/scratch/blocks/Text/text_statement.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu, runIrreversibleEvents } from '../../utils';\nimport { minusIconDark } from '../images';\n\nwindow.Blockly.Blocks.text_statement = {\n    required_parent_type: 'text_join',\n    init() {\n        this.required_parent_id = '';\n        const field_image = new window.Blockly.FieldImage(minusIconDark, 25, 25, '', this.onIconClick.bind(this));\n        this.jsonInit(this.definition());\n        this.appendDummyInput('REMOVE_ICON').appendField(field_image);\n    },\n    definition() {\n        return {\n            message0: '%1',\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'TEXT',\n                },\n            ],\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            category: window.Blockly.Categories.Text,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    meta() {\n        return {\n            display_name: localize('Text Statement'),\n            description: '',\n        };\n    },\n    onchange(event) {\n        if (!this.workspace || window.Blockly.derivWorkspace.isFlyoutVisible || this.workspace.isDragging()) {\n            return;\n        }\n\n        const surround_parent = this.getSurroundParent();\n\n        if (event.type === window.Blockly.Events.BLOCK_CREATE) {\n            this.setMovable(true);\n            if (!this.required_parent_id && surround_parent?.type === this.required_parent_type) {\n                this.required_parent_id = surround_parent.id;\n            }\n        }\n\n        if (event.type === window.Blockly.Events.BLOCK_DRAG && !event.isStart) {\n            const stack_blocks = window.Blockly.getMainWorkspace().getBlockById(event.blockId);\n\n            if (this.required_parent_id && (!surround_parent || surround_parent.id !== this.required_parent_id)) {\n                const original_parent = window.Blockly.getMainWorkspace().getBlockById(this.required_parent_id);\n\n                if (original_parent) {\n                    const first_block_in_stack = original_parent.getInputTargetBlock('STACK');\n\n                    if (first_block_in_stack) {\n                        const last_connection = original_parent.getLastConnectionInStatement('STACK');\n                        runIrreversibleEvents(() => {\n                            last_connection.connect(this.previousConnection);\n                        });\n                    } else {\n                        runIrreversibleEvents(() => {\n                            original_parent.getInput('STACK').connection.connect(stack_blocks.previousConnection);\n                        });\n                    }\n                }\n            }\n        }\n    },\n    onIconClick: window.Blockly.Blocks.lists_statement.onIconClick,\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.text_statement = block => {\n    const code = `String(${window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n        block,\n        'TEXT',\n        window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC\n    )})`;\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC];\n};\n",
            "size_bytes": 3381
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Indicators/Parts/fast_ema_period.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../../utils';\n\nwindow.Blockly.Blocks.fast_ema_period = {\n    init() {\n        this.jsonInit({\n            message0: localize('Fast EMA Period {{ input_number }}', { input_number: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'FAST_EMA_PERIOD',\n                    check: null,\n                },\n            ],\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    onchange: window.Blockly.Blocks.input_list.onchange,\n    allowed_parents: ['macda_statement'],\n    getRequiredValueInputs() {\n        return {\n            FAST_EMA_PERIOD: null,\n        };\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.fast_ema_period = () => {};\n",
            "size_bytes": 1188
        },
        "src/components/shared/utils/date/index.ts": { "content": "export * from './date-time';\n", "size_bytes": 29 },
        "src/components/loader/chunk-loader.tsx": {
            "content": "import { Loader } from '@deriv-com/ui';\n\nexport default function ChunkLoader({ message }: { message: string }) {\n    return (\n        <div className='app-root'>\n            <Loader />\n            <div className='load-message'>{message}</div>\n        </div>\n    );\n}\n",
            "size_bytes": 266
        },
        "src/external/bot-skeleton/scratch/blocks/Math/math_on_list.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../utils';\n\nwindow.Blockly.Blocks.math_on_list = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('{{ calculation }} of list {{ input_list }}', {\n                calculation: '%1',\n                input_list: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'OP',\n                    options: [\n                        [localize('sum'), 'SUM'],\n                        [localize('min'), 'MIN'],\n                        [localize('max'), 'MAX'],\n                        [localize('average'), 'AVERAGE'],\n                        [localize('median'), 'MEDIAN'],\n                        [localize('mode'), 'MODE'],\n                        [localize('antimode'), 'ANTIMODE'],\n                        [localize('standard deviation'), 'STD_DEV'],\n                        [localize('random item'), 'RANDOM'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'LIST',\n                },\n            ],\n            output: 'Number',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Aggregate operations'),\n            category: window.Blockly.Categories.Mathematical,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    meta() {\n        return {\n            display_name: localize('Aggregate operations'),\n            description: localize(\n                'This block performs the following operations on a given list: sum, minimum, maximum, average, median, mode, antimode, standard deviation, random item.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        const type_list = [\n            'variables_get',\n            'lists_getSublist',\n            'ohlc_values',\n            'lists_split',\n            'ohlc',\n            'ticks',\n            'lists_repeat',\n            'lastDigitList',\n            'ohlc_values_in_list',\n            'procedures_callreturn',\n        ];\n        return {\n            LIST: () => {\n                return !type_list.includes(this.childBlocks_[0]?.type);\n            },\n        };\n    },\n};\n\n/* eslint-disable no-underscore-dangle */\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.math_on_list = block => {\n    const operation = block.getFieldValue('OP');\n\n    let code, list;\n\n    if (operation === 'SUM') {\n        const functionName = window.Blockly.JavaScript.javascriptGenerator.provideFunction_('mathMean', [\n            `function ${window.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(myList) {\n                var final_list = [];\n                return recursiveList(myList, final_list).reduce(function(x, y) {\n                    return x + y;\n                },0);\n            }`,\n        ]);\n        list =\n            window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n                block,\n                'LIST',\n                window.Blockly.JavaScript.javascriptGenerator.ORDER_NONE\n            ) || '[]';\n        code = `${functionName}((${list} || [0]))`;\n    } else if (operation === 'MIN') {\n        const functionName = window.Blockly.JavaScript.javascriptGenerator.provideFunction_('mathMean', [\n            `function ${window.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(myList) {\n                var final_list = [];\n                return Math.min.apply(null, (recursiveList(myList, final_list) || [0]));\n            }`,\n        ]);\n        list =\n            window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n                block,\n                'LIST',\n                window.Blockly.JavaScript.javascriptGenerator.ORDER_COMMA\n            ) || '[]';\n        code = `${functionName}((${list} || [0]))`;\n    } else if (operation === 'MAX') {\n        const functionName = window.Blockly.JavaScript.javascriptGenerator.provideFunction_('mathMean', [\n            `function ${window.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(myList) {\n                var final_list = [];\n                return Math.max.apply(null, (recursiveList(myList, final_list) || [0]));\n            }`,\n        ]);\n        list =\n            window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n                block,\n                'LIST',\n                window.Blockly.JavaScript.javascriptGenerator.ORDER_COMMA\n            ) || '[]';\n        code = `${functionName}((${list} || [0]))`;\n    } else if (operation === 'AVERAGE') {\n        const functionName = window.Blockly.JavaScript.javascriptGenerator.provideFunction_('mathMean', [\n            `function ${window.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(myList) {\n                var final_list = [];\n                return recursiveList(myList, final_list).reduce(function(x, y) {\n                    return x + y;\n                }, 0) / myList.length;\n            }`,\n        ]);\n\n        list =\n            window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n                block,\n                'LIST',\n                window.Blockly.JavaScript.javascriptGenerator.ORDER_NONE\n            ) || '[]';\n        code = `${functionName}((${list} || [0]))`;\n    } else if (operation === 'MEDIAN') {\n        const functionName = window.Blockly.JavaScript.javascriptGenerator.provideFunction_('mathMedian', [\n            `\n            Array.prototype.swap = function (x,y) {\n                var b = this[x];\n                this[x] = this[y];\n                this[y] = b;\n                return this;\n            }\n\n            function partition(arr, start, end){\n                var pivotValue = arr[end];\n                var pivotIndex = start;\n                for (var i = start; i < end; i++) {\n                    if (arr[i] < pivotValue) {\n                    arr.swap(pivotIndex, i);\n                    pivotIndex++;\n                    }\n                }\n                arr.swap(end, pivotIndex);\n                return pivotIndex;\n            };\n\n            function quickSort(arr) {\n                var stack = [];\n                stack.push(0);\n                stack.push(arr.length - 1);\n\n                while(stack[stack.length - 1] >= 0){\n                    end = stack.pop();\n                    start = stack.pop();\n                    pivotIndex = partition(arr, start, end);\n                    if (pivotIndex - 1 > start){\n                        stack.push(start);\n                        stack.push(pivotIndex - 1);\n                    }\n                    if (pivotIndex + 1 < end){\n                        stack.push(pivotIndex + 1);\n                        stack.push(end);\n                    }\n                }\n\n            }\n\n            function calculateMedian(final_list){\n                quickSort(final_list);\n\n                if (final_list.length % 2 == 0) {\n                    return (final_list[final_list.length / 2 - 1] + final_list[final_list.length / 2]) / 2;\n                }\n                return final_list[(final_list.length - 1) / 2];\n            }\n\n            function ${window.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(myList) {\n                var final_list = [];\n                return calculateMedian(recursiveList(myList, final_list));\n            }`,\n        ]);\n\n        list =\n            window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n                block,\n                'LIST',\n                window.Blockly.JavaScript.javascriptGenerator.ORDER_NONE\n            ) || '[]';\n        code = `${functionName}((${list} || [0]))`;\n    } else if (operation === 'MODE') {\n        const functionName = window.Blockly.JavaScript.javascriptGenerator.provideFunction_('mathModes', [\n            `\n            function calculateMathMode(values){\n                var modes = [];\n                var counts = [];\n                var maxCount = 0;\n\n                for (var i = 0; i < values.length; i++) {\n                    var value = values[i];\n                    var found = false;\n                    var thisCount;\n\n                    for (var j = 0; j < counts.length; j++) {\n                        if (counts[j][0] === value) {\n                            thisCount = ++counts[j][1];\n                            found = true;\n                            break;\n                        }\n                    }\n\n                    if (!found) {\n                        counts.push([value, 1]);\n                        thisCount = 1;\n                    }\n                    maxCount = Math.max(thisCount, maxCount);\n                }\n\n                for (var j = 0; j < counts.length; j++) {\n                    if (counts[j][1] == maxCount) {\n                        modes.push(counts[j][0]);\n                    }\n                }\n\n                return modes;\n            }\n\n            function ${window.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(list) {\n                var final_list = [];\n                return calculateMathMode(recursiveList(list, final_list));\n            }`,\n        ]);\n\n        list =\n            window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n                block,\n                'LIST',\n                window.Blockly.JavaScript.javascriptGenerator.ORDER_NONE\n            ) || '[]';\n        code = `${functionName}((${list} || [0]))`;\n    } else if (operation === 'ANTIMODE') {\n        const functionName = window.Blockly.JavaScript.javascriptGenerator.provideFunction_('mathAntiMode', [\n            `\n            function calculateMathAntiMode(values){\n                var antiMode = [];\n                var counts = [];\n                var minCount = 1;\n                var countArray = [];\n\n                for (var i = 0; i < values.length; i++) {\n                    var value = values[i];\n                    var found = false;\n                    var thisCount;\n\n                    for (var j = 0; j < counts.length; j++) {\n                        if (counts[j][0] === value) {\n                            thisCount = ++counts[j][1];\n                            found = true;\n                            break;\n                        }\n                    }\n\n                    if (!found) {\n                        counts.push([value, 1]);\n                        thisCount = 1;\n                    }\n                }\n\n                 minCount = Math.min.apply(null, counts.map(function(element) {\n                     return element[1];\n                 }));\n\n                 for (var j = 0; j < counts.length; j++) {\n                    if (counts[j][1] == minCount) {\n                        antiMode.push(counts[j][0]);\n                    }\n                }\n\n                return antiMode;\n            }\n\n            function ${window.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(list) {\n                var final_list = [];\n                return calculateMathAntiMode(recursiveList(list, final_list));\n            }`,\n        ]);\n\n        list =\n            window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n                block,\n                'LIST',\n                window.Blockly.JavaScript.javascriptGenerator.ORDER_NONE\n            ) || '[]';\n        code = `${functionName}((${list} || [0]))`;\n    } else if (operation === 'STD_DEV') {\n        const functionName = window.Blockly.JavaScript.javascriptGenerator.provideFunction_('mathStandardDeviation', [\n            `\n            function calculateMathStandardDeviation(numbers){\n                var n = numbers.length;\n                if (!n) {\n                    return null;\n                }\n\n                var mean = numbers.reduce(function(x, y) {\n                    return x + y;\n                }, 0) / n;\n\n                var variance = 0;\n                for (var j = 0; j < n; j++) {\n                    variance += Math.pow(numbers[j] - mean, 2);\n                }\n                variance = variance / n;\n                return Math.sqrt(variance);\n            }\n\n            function ${window.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(list) {\n                var final_list = [];\n                return calculateMathStandardDeviation(recursiveList(list, final_list));\n            }`,\n        ]);\n\n        list =\n            window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n                block,\n                'LIST',\n                window.Blockly.JavaScript.javascriptGenerator.ORDER_NONE\n            ) || '[]';\n        code = `${functionName}((${list} || [0]))`;\n    } else if (operation === 'RANDOM') {\n        const functionName = window.Blockly.JavaScript.javascriptGenerator.provideFunction_('mathRandomList', [\n            `function ${window.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(list) {\n                var final_list = [];\n                var final_list = recursiveList(list, final_list);\n                var x = Math.floor(Math.random() * final_list.length);\n                return final_list[x];\n            }`,\n        ]);\n\n        list =\n            window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n                block,\n                'LIST',\n                window.Blockly.JavaScript.javascriptGenerator.ORDER_NONE\n            ) || '[]';\n        code = `${functionName}((${list} || [0]))`;\n    }\n\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_FUNCTION_CALL];\n};\n",
            "size_bytes": 13664
        },
        "src/components/shared_ui/arrow-indicator/arrow-indicator.tsx": {
            "content": "import React from 'react';\nimport { StandaloneSortDownFillIcon, StandaloneSortUpFillIcon } from '@deriv/quill-icons';\n\ntype TArrowIndicatorProps = {\n    className?: string;\n    value?: number | string;\n};\n\ntype TData = {\n    previous_icon: string;\n    icon: string;\n    previous_value?: string | number;\n    value?: string | number;\n};\n\nconst ArrowIndicator = ({ className, value }: TArrowIndicatorProps) => {\n    const [is_visible, setIsVisible] = React.useState(false);\n    const [data, setData] = React.useState<TData>({\n        icon: '',\n        previous_icon: '',\n    });\n    const { icon, previous_icon, previous_value } = data;\n    const has_comparable_values = !isNaN(Number(data.value)) && !isNaN(Number(value));\n    const timeout_id = React.useRef<ReturnType<typeof setTimeout>>();\n\n    React.useEffect(() => {\n        setIsVisible(true);\n        setData(prev_data => {\n            const has_increased = Number(prev_data.value) < Number(value);\n            const icon_name = has_increased ? (\n                <StandaloneSortUpFillIcon fill='var(--text-profit-success)' iconSize='sm' />\n            ) : (\n                <div style={{ position: 'relative', top: '-0.7rem' }}>\n                    <StandaloneSortDownFillIcon fill='var(--text-loss-danger)' iconSize='sm' />\n                </div>\n            );\n            return {\n                icon: has_comparable_values ? icon_name : '',\n                previous_icon: prev_data.icon,\n                previous_value: prev_data.value,\n                value,\n            };\n        });\n\n        clearTimeout(timeout_id.current);\n        timeout_id.current = setTimeout(() => {\n            setIsVisible(false);\n        }, 3000);\n        return () => clearTimeout(timeout_id.current);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [value]);\n\n    return (\n        <div className={className} data-testid='dt_arrow_indicator'>\n            {has_comparable_values && is_visible ? (\n                <div>{previous_value === Number(value) ? previous_icon : icon}</div>\n            ) : null}\n        </div>\n    );\n};\n\nexport default React.memo(ArrowIndicator);\n",
            "size_bytes": 2138
        },
        "src/components/shared_ui/modal/modal.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport ReactDOM from 'react-dom';\nimport { CSSTransition } from 'react-transition-group';\nimport { useOnClickOutside } from '@/hooks/useOnClickOutside';\nimport { LabelPairedArrowLeftCaptionFillIcon } from '@deriv/quill-icons/LabelPaired';\nimport { LegacyClose1pxIcon } from '@deriv/quill-icons/Legacy';\nimport Text from '../text/text';\nimport Body from './modal-body';\nimport Footer from './modal-footer';\n\ninterface IClickEvent extends MouseEvent {\n    path?: HTMLElement[];\n}\n\ntype TModalElement = {\n    className?: string;\n    close_icon_color?: string;\n    elements_to_ignore?: HTMLElement[];\n    has_close_icon?: boolean;\n    has_return_icon?: boolean;\n    header?: React.ReactNode;\n    header_background_color?: string;\n    height?: string;\n    id?: string;\n    is_confirmation_modal?: boolean;\n    is_open: boolean;\n    is_risk_warning_visible?: boolean;\n    is_title_centered?: boolean;\n    is_vertical_bottom?: boolean;\n    is_vertical_centered?: boolean;\n    is_vertical_top?: boolean;\n    onMount?: () => void;\n    onReturn?: () => void;\n    onUnmount?: () => void;\n    portalId?: string;\n    renderTitle?: () => React.ReactNode;\n    should_close_on_click_outside?: boolean;\n    should_header_stick_body?: boolean;\n    small?: boolean;\n    title?: string | React.ReactNode;\n    toggleModal?: (e?: React.MouseEvent<HTMLElement> | React.KeyboardEvent<HTMLElement>) => void;\n    width?: string;\n};\n\nconst ModalElement = ({\n    children,\n    className,\n    close_icon_color,\n    elements_to_ignore,\n    has_close_icon = true,\n    has_return_icon = false,\n    header,\n    header_background_color,\n    height,\n    id,\n    is_confirmation_modal,\n    is_open,\n    is_risk_warning_visible,\n    is_title_centered,\n    is_vertical_bottom,\n    is_vertical_centered,\n    is_vertical_top,\n    onMount,\n    onReturn,\n    onUnmount,\n    portalId = 'modal_root',\n    renderTitle,\n    should_close_on_click_outside,\n    should_header_stick_body = true,\n    small,\n    title,\n    toggleModal,\n    width,\n}: React.PropsWithChildren<TModalElement>) => {\n    const el_ref = React.useRef(document.createElement('div'));\n    const el_portal_node = portalId && document.getElementById(portalId);\n    const modal_root_ref = React.useRef(el_portal_node || document.getElementById(portalId));\n    const wrapper_ref = React.useRef<HTMLDivElement>(null);\n\n    const portal_elements_selector = [\n        '.dc-datepicker__picker',\n        '.dc-mobile-dialog',\n        '.dc-dropdown-list',\n        '.dc-dropdown__list',\n        '.modal_root',\n    ];\n\n    const isPortalElementVisible = () =>\n        modal_root_ref.current?.querySelectorAll(portal_elements_selector.join(', ')).length;\n\n    const validateClickOutside = (e: IClickEvent): boolean => {\n        const is_absolute_modal_visible = document.getElementById('popup_root')?.hasChildNodes();\n        const path = e.path ?? e.composedPath?.();\n        return (\n            should_close_on_click_outside ||\n            (has_close_icon &&\n                !isPortalElementVisible() &&\n                is_open &&\n                !is_absolute_modal_visible &&\n                !(elements_to_ignore && path?.find(el => elements_to_ignore.includes(el as HTMLElement))))\n        );\n    };\n\n    const closeModal = () => {\n        if (is_open) toggleModal?.();\n    };\n\n    useOnClickOutside(wrapper_ref, closeModal, validateClickOutside);\n\n    React.useEffect(() => {\n        const local_el_ref = el_ref;\n        const local_modal_root_ref = modal_root_ref;\n\n        local_el_ref.current.classList.add('dc-modal');\n        local_modal_root_ref?.current?.appendChild?.(local_el_ref.current);\n        onMount?.();\n\n        return () => {\n            const parent_element = local_modal_root_ref?.current;\n            const child_element = local_el_ref?.current;\n\n            if (parent_element && child_element && parent_element?.contains(child_element)) {\n                parent_element?.removeChild(child_element);\n            }\n            onUnmount?.();\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    const closeOnEscButton = React.useCallback(\n        (e: KeyboardEvent) => {\n            if (e.key === 'Escape') {\n                toggleModal?.();\n            }\n        },\n        [toggleModal]\n    );\n    React.useEffect(() => {\n        window.addEventListener('keydown', closeOnEscButton);\n        return () => window.removeEventListener('keydown', closeOnEscButton);\n    }, [closeOnEscButton]);\n\n    const rendered_title = renderTitle ? renderTitle() : null;\n\n    return ReactDOM.createPortal(\n        <div\n            ref={wrapper_ref}\n            id={id}\n            className={classNames('dc-modal__container', {\n                [`dc-modal__container_${className}`]: className,\n                'dc-modal__container--risk-message': is_risk_warning_visible,\n                'dc-modal__container--small': small,\n                'dc-modal__container--is-vertical-centered': is_vertical_centered,\n                'dc-modal__container--is-vertical-bottom': is_vertical_bottom,\n                'dc-modal__container--is-vertical-top': is_vertical_top,\n                'dc-modal__container--is-confirmation-modal': is_confirmation_modal,\n            })}\n            style={{\n                height: height || 'auto',\n                width: width || 'auto',\n            }}\n        >\n            {!is_risk_warning_visible && (header || title || rendered_title) && (\n                <div\n                    className={classNames('dc-modal-header', {\n                        'dc-modal-header__border-bottom': !should_header_stick_body,\n                        [`dc-modal-header--${className}`]: className,\n                        [`dc-modal-header--is-title-centered`]: is_title_centered,\n                    })}\n                    style={{\n                        background: header_background_color,\n                    }}\n                >\n                    {rendered_title && (\n                        <Text\n                            as='h3'\n                            color='prominent'\n                            weight='bold'\n                            styles={{ lineHeight: '2.4rem' }}\n                            className={classNames('dc-modal-header__title', {\n                                [`dc-modal-header__title--${className}`]: className,\n                            })}\n                        >\n                            {rendered_title}\n                        </Text>\n                    )}\n                    {title && (\n                        <Text\n                            as='h3'\n                            color='prominent'\n                            weight='bold'\n                            styles={{ lineHeight: '2.4rem' }}\n                            className={classNames('dc-modal-header__title', {\n                                [`dc-modal-header__title--${className}`]: className,\n                            })}\n                        >\n                            {has_return_icon && (\n                                <LabelPairedArrowLeftCaptionFillIcon\n                                    onClick={onReturn}\n                                    className='dc-modal-header__icon'\n                                />\n                            )}\n                            {title}\n                        </Text>\n                    )}\n                    {header && (\n                        <div\n                            className={classNames('dc-modal-header__section', {\n                                [`dc-modal-header__section--${className}`]: className,\n                            })}\n                        >\n                            {header}\n                        </div>\n                    )}\n                    {has_close_icon && (\n                        <div onClick={toggleModal} className='dc-modal-header__close' role='button'>\n                            <LegacyClose1pxIcon\n                                height='20px'\n                                width='20px'\n                                color={close_icon_color}\n                                data-testid='dt_modal_close_icon'\n                                fill='var(--text-general)'\n                                className='icon-general-fill-path'\n                            />\n                        </div>\n                    )}\n                </div>\n            )}\n            {children}\n        </div>,\n        el_ref.current\n    );\n};\n\ntype TModal = TModalElement & {\n    exit_classname?: string;\n    onEntered?: () => void;\n    onExited?: () => void;\n    transition_timeout?: React.ComponentProps<typeof CSSTransition>['timeout'];\n};\n\nconst Modal = ({\n    children,\n    className,\n    close_icon_color,\n    elements_to_ignore,\n    exit_classname,\n    has_close_icon = true,\n    has_return_icon = false,\n    header,\n    header_background_color,\n    height,\n    id,\n    is_confirmation_modal,\n    is_open,\n    is_risk_warning_visible,\n    is_title_centered,\n    is_vertical_bottom,\n    is_vertical_centered,\n    is_vertical_top,\n    onEntered,\n    onExited,\n    onMount,\n    onReturn,\n    onUnmount,\n    portalId = 'modal_root',\n    renderTitle,\n    should_close_on_click_outside = false,\n    should_header_stick_body = true,\n    small,\n    title,\n    transition_timeout,\n    toggleModal,\n    width,\n}: React.PropsWithChildren<TModal>) => (\n    <CSSTransition\n        appear\n        in={is_open}\n        timeout={transition_timeout || 250}\n        classNames={{\n            appear: 'dc-modal__container--enter',\n            enter: 'dc-modal__container--enter',\n            enterDone: 'dc-modal__container--enter-done',\n            exit: exit_classname || 'dc-modal__container--exit',\n        }}\n        unmountOnExit\n        onEntered={onEntered}\n        onExited={onExited}\n    >\n        <ModalElement\n            className={className}\n            close_icon_color={close_icon_color}\n            should_header_stick_body={should_header_stick_body}\n            has_return_icon={has_return_icon}\n            header={header}\n            header_background_color={header_background_color}\n            id={id}\n            is_open={is_open}\n            is_risk_warning_visible={is_risk_warning_visible}\n            is_confirmation_modal={is_confirmation_modal}\n            is_vertical_bottom={is_vertical_bottom}\n            is_vertical_centered={is_vertical_centered}\n            is_vertical_top={is_vertical_top}\n            is_title_centered={is_title_centered}\n            title={title}\n            toggleModal={toggleModal}\n            has_close_icon={has_close_icon}\n            height={height}\n            onMount={onMount}\n            onReturn={onReturn}\n            onUnmount={onUnmount}\n            portalId={portalId}\n            renderTitle={renderTitle}\n            should_close_on_click_outside={should_close_on_click_outside}\n            small={small}\n            width={width}\n            elements_to_ignore={elements_to_ignore}\n        >\n            {children}\n        </ModalElement>\n    </CSSTransition>\n);\n\nModal.Body = Body;\nModal.Footer = Footer;\n\nexport default Modal;\n",
            "size_bytes": 11171
        },
        "src/components/shared/utils/location/location.ts": {
            "content": "import { StatesList } from '@deriv/api-types';\n\nexport const getLocation = (location_list: StatesList, value: string, type: keyof StatesList[number]) => {\n    if (!value || !location_list.length) return '';\n    const location_obj = location_list.find(\n        location => location[type === 'text' ? 'value' : 'text']?.toLowerCase() === value.toLowerCase()\n    );\n\n    return location_obj?.[type] ?? '';\n};\n",
            "size_bytes": 406
        },
        "src/external/indicators/test_utils/macd-data.js": {
            "content": "export const data = [\n    891.003, 891.034, 891.096, 891.104, 891.11, 891.116, 891.218, 891.271, 891.356, 891.335, 891.256, 891.175, 891.143,\n    891.174, 891.202, 891.184, 891.162, 891.152, 891.164, 891.158, 891.174, 891.075, 891.16, 891.137, 891.124, 891.203,\n    891.281, 891.169, 891.248, 891.365, 891.409, 891.339, 891.197, 891.319, 891.256, 891.281, 891.305, 891.28, 891.417,\n    891.431, 891.477, 891.398, 891.302, 891.374, 891.481, 891.611, 891.541, 891.48, 891.53, 891.612, 891.591, 891.578,\n    891.435, 891.442, 891.596, 891.573, 891.633, 891.616, 891.607, 891.569, 891.576, 891.558, 891.566, 891.525, 891.675,\n    891.729, 891.8, 892.195, 891.967, 891.947, 891.994, 891.972, 891.854, 891.89, 891.868, 891.932, 891.939, 891.948,\n    892.168, 891.939, 891.973, 892.083, 892.096, 891.982, 892.04, 892.025, 891.997, 891.971, 891.936, 892.035, 892.046,\n    892.081, 892.04, 892.032, 892.016, 892.042, 891.917, 892.017, 891.999, 891.982, 891.849, 891.957, 891.902, 891.953,\n    891.959, 891.938, 891.925, 891.961, 891.928, 891.936, 891.862, 891.781, 891.782, 891.767, 891.821, 891.8, 891.782,\n    891.776, 891.725, 891.767, 891.854, 891.758, 891.722, 891.742, 891.634, 891.617, 891.669, 891.496, 891.648, 891.411,\n    891.628, 891.57, 891.47, 891.421, 891.314, 891.346, 891.457, 891.437, 891.435, 891.43, 891.434, 891.351, 891.436,\n    891.144, 891.24, 891.407, 891.684, 891.654, 891.654, 891.561, 891.607, 891.687, 891.717, 891.674, 891.718, 891.709,\n    891.643, 891.566, 891.615, 891.623, 891.718, 891.63, 891.673, 891.723, 891.627, 891.621, 891.489, 891.424, 891.415,\n    891.428, 891.519, 891.573, 891.547, 891.543, 891.542, 891.545, 891.506, 891.457, 891.594, 891.543, 891.475, 891.516,\n    891.567, 891.585, 891.633, 891.607, 891.574, 891.617, 891.44, 891.485, 891.527, 891.569, 891.718, 891.728, 891.64,\n    891.598, 891.553, 891.56, 891.631, 891.431, 891.284, 891.342, 891.315, 891.365, 891.366, 891.219, 891.412, 891.254,\n    891.452, 891.424, 891.454, 891.377, 891.412, 891.594, 891.655, 891.779, 891.756, 891.4, 891.437, 891.336, 891.376,\n    891.345, 891.474, 891.278, 891.225, 891.169, 891.398, 891.428, 891.366, 891.33, 891.466, 891.413, 891.454, 891.528,\n    891.566, 891.863, 892.587, 892.046, 892.08, 891.878, 892.036, 892.225, 892.281, 892.224, 892.079, 892.189, 892.419,\n    892.507, 892.464, 892.553, 892.53, 892.771, 892.583, 892.679, 892.543, 892.636, 892.571, 892.524, 892.581, 892.37,\n    892.151, 892.428, 892.427, 892.424, 892.479, 891.354, 891.593, 891.736, 891.869, 891.84, 891.647, 891.896, 892.045,\n    891.644, 891.795, 891.778, 891.867, 891.855, 891.914, 891.832, 891.69, 891.778, 891.824, 891.746, 891.669, 891.637,\n    891.501, 891.408, 891.15, 891.039, 890.73, 890.686, 890.662, 890.34, 890.272, 890.412, 890.765, 890.579, 890.578,\n    890.831, 890.767, 890.698, 890.886, 890.887, 891.003, 890.935, 890.901, 890.864, 890.728, 890.761, 890.741, 890.723,\n    890.806, 890.922, 890.99, 890.955, 891.087, 891.088, 891.229, 891.229, 891.131, 891.005, 890.973, 890.829, 890.931,\n    890.687, 890.493, 890.396, 890.441, 890.567, 890.566, 890.492, 890.534, 890.621, 890.642, 890.779, 890.833, 890.943,\n    890.821, 890.785, 890.763, 890.644, 890.591, 890.681, 890.556, 890.576, 890.55, 890.585, 890.628, 890.733, 890.745,\n    890.763, 890.742, 890.816, 890.691, 890.728, 890.748, 890.719, 890.842, 890.868, 891.016, 891.072, 891.213, 891.164,\n    891.177, 891.19, 891.166, 891.236, 891.096, 891.097, 891.108, 891.168, 891.191, 891.206, 891.245, 891.142, 891.133,\n    891.227, 891.318, 891.196, 891.249, 891.341, 891.347, 891.25, 891.192, 891.146, 891.168, 891.065, 891.048, 891.007,\n    891.259, 891.178, 891.188, 891.254, 891.229, 891.207, 891.214, 891.25, 891.229, 891.161, 891.154, 891.049, 891.117,\n    891.17, 891.132, 891.049, 891.088, 891.152, 891.171, 891.16, 891.352, 891.231, 891.196, 891.189, 891.207, 891.249,\n    891.18, 891.191, 891.286, 891.427, 891.395, 891.306, 891.356, 891.379, 891.349, 891.28, 891.249, 891.174, 891.156,\n    891.101, 891.135, 891.071, 891.084, 891.049, 891.038, 891.063, 891.092, 891.082, 891.078, 891.207, 891.245, 891.185,\n    891.165, 891.256, 891.184, 891.163, 891.135, 891.194, 891.164, 891.226, 891.24, 891.201, 891.198, 891.165, 891.181,\n    891.227, 891.163, 891.155, 891.236, 891.245, 891.275, 891.393, 891.292, 891.297, 891.36, 891.474, 891.442, 891.424,\n    891.435, 891.326, 891.383, 891.341, 891.331, 891.39, 891.322, 891.205, 891.203, 891.13, 891.157, 891.181, 891.26,\n    891.258, 891.249, 891.164, 891.14, 891.202, 891.202, 891.219, 890.981, 890.945, 890.974, 890.921, 890.934, 890.867,\n    890.853, 890.806, 890.758, 890.789, 890.74, 890.655, 890.715, 890.661, 890.783, 890.816, 890.953, 890.946, 890.943,\n    890.975, 890.98, 890.933, 890.854, 890.826, 890.864, 890.875, 890.889, 890.661, 890.713, 890.757, 890.751, 890.841,\n    890.844, 890.84, 890.792, 890.83, 890.772, 890.74, 890.758, 890.816, 890.791, 890.83, 890.903, 890.857, 890.867,\n    890.882, 890.896, 890.896, 890.958, 890.862, 890.881, 890.886, 890.905, 890.986, 890.992, 891.004, 890.924, 890.944,\n    890.971, 891.037, 890.975, 890.907, 890.894, 891.1, 890.956, 890.984, 890.926, 891.063, 890.99, 890.87, 890.711,\n    890.658, 890.768, 890.752, 890.583, 890.556, 890.473, 890.393, 890.409, 890.4, 890.423, 890.431, 890.451, 890.615,\n    890.646, 890.61, 890.777, 890.777, 890.198, 890.314, 890.395, 890.173, 890.212, 889.945, 889.887, 889.92, 890.021,\n    889.938, 890.051, 889.836, 889.873, 890.012, 890.097, 890.013, 889.901, 890.043, 890.055, 889.999, 889.899, 889.986,\n    889.965, 889.793, 889.749, 889.888, 889.857, 889.791, 889.827, 889.725, 889.836, 889.838, 889.839, 889.819, 889.838,\n    889.75, 889.845, 889.888, 889.961, 889.838, 889.987, 890.056, 889.909, 889.892, 889.986, 890.069, 890.12, 889.92,\n    889.926, 889.908, 889.941, 889.964, 889.968, 889.87, 889.918, 889.824, 889.737, 889.77, 889.863, 889.892, 889.811,\n    889.839, 889.845, 889.863, 890.019, 890.114, 889.626, 889.108, 888.967, 889.014, 888.854, 888.765, 888.649, 888.444,\n    888.266, 888.188, 888.426, 888.71, 888.635, 888.542, 888.585, 888.384, 888.418, 888.558, 888.576, 888.483, 888.497,\n    888.537, 888.572, 888.425, 888.557, 888.674, 888.956, 888.994, 888.933, 888.751, 888.833, 888.992, 888.974, 889.056,\n    889.114, 889.268, 889.409, 889.514, 889.389, 889.7, 889.604, 889.331, 889.261, 889.118, 889.023, 889.041, 889.081,\n    889.195, 888.933, 889.08, 889.1, 889.2, 888.906, 888.64, 890.397, 890.091, 890.1, 889.889, 890.113, 890.525,\n    890.408, 890.294, 890.449, 890.413, 890.305, 890.323, 890.171, 890.222, 890.04, 890.097, 890.065, 890.103, 890.182,\n    890.12, 889.973, 889.967, 889.995, 890.009, 890.078, 890.119, 890.118, 890.164, 890.069, 890.148, 890.243, 890.264,\n    890.388, 890.423, 890.345, 890.203, 890.228, 890.163, 890.158, 890.184, 890.373, 890.52, 890.643, 890.672, 890.606,\n    890.449, 890.422, 890.561, 890.567, 890.729, 890.774, 890.794, 890.73, 890.664, 890.624, 890.82, 890.817, 890.628,\n    890.725, 890.766, 890.571, 890.433, 890.628, 890.676, 890.649, 890.599, 890.599, 890.53, 890.403, 890.472, 890.494,\n    890.44, 890.334, 890.329, 890.368, 890.241, 890.156, 890.048, 890.209, 890.235, 890.249, 890.188, 890.42, 890.333,\n    890.219, 890.199, 890.179, 890.16, 890.187, 890.156, 890.205, 890.191, 890.131, 890.118, 890.096, 890.176, 890.221,\n    890.256, 890.241, 890.246, 890.263, 890.288, 890.306, 890.302, 890.402, 890.227, 890.193, 890.285, 890.242, 890.286,\n    890.273, 890.107, 890.162, 890.158, 890.091, 890.09, 890.141, 890.201, 890.202, 890.212, 890.132, 890.009, 889.793,\n    889.942, 889.906,\n];\n\nexport const histogram = [\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 891.173, 891.168, 891.169, 891.174, 891.176, 891.174, 891.17, 891.169, 891.168,\n    891.169, 891.154, 891.155, 891.152, 891.148, -0.008, 0.002, 0.001, 0.007, 0.021, 0.035, 0.04, 0.032, 0.017, 0.011,\n    0.009, 0.008, 0.005, 0.012, 0.016, 0.02, 0.016, 0.006, 0.004, 0.009, 0.02, 0.02, 0.015, 0.014, 0.017, 0.016, 0.013,\n    0, -0.007, -0.003, -0.002, 0.002, 0.002, 0.001, -0.002, -0.005, -0.008, -0.01, -0.013, -0.006, 0.002, 0.01, 0.04,\n    0.041, 0.038, 0.036, 0.03, 0.017, 0.009, 0.001, -0.002, -0.003, -0.005, 0.007, -0.001, -0.005, -0.002, 0.001,\n    -0.006, -0.008, -0.01, -0.014, -0.018, -0.023, -0.019, -0.016, -0.012, -0.012, -0.013, -0.014, -0.014, -0.021,\n    -0.019, -0.018, -0.018, -0.026, -0.024, -0.024, -0.021, -0.018, -0.016, -0.015, -0.011, -0.011, -0.01, -0.013,\n    -0.02, -0.023, -0.025, -0.021, -0.018, -0.017, -0.015, -0.017, -0.014, -0.004, -0.005, -0.007, -0.006, -0.011,\n    -0.015, -0.013, -0.021, -0.015, -0.025, -0.016, -0.012, -0.014, -0.018, -0.025, -0.025, -0.016, -0.011, -0.005,\n    -0.001, 0.003, 0.001, 0.006, -0.009, -0.011, 0, 0.026, 0.04, 0.047, 0.043, 0.043, 0.046, 0.048, 0.044, 0.042, 0.038,\n    0.03, 0.018, 0.013, 0.009, 0.013, 0.008, 0.007, 0.01, 0.004, 0, -0.011, -0.023, -0.029, -0.03, -0.024, -0.015,\n    -0.011, -0.008, -0.005, -0.003, -0.004, -0.007, 0, 0.002, -0.002, -0.001, 0.003, 0.007, 0.012, 0.013, 0.01, 0.011,\n    0, -0.004, -0.004, -0.001, 0.011, 0.019, 0.017, 0.012, 0.005, 0, 0.003, -0.009, -0.026, -0.031, -0.034, -0.031,\n    -0.028, -0.032, -0.022, -0.023, -0.01, -0.002, 0.005, 0.005, 0.007, 0.02, 0.031, 0.045, 0.05, 0.028, 0.015, 0,\n    -0.008, -0.013, -0.008, -0.017, -0.025, -0.032, -0.02, -0.009, -0.005, -0.005, 0.005, 0.008, 0.012, 0.018, 0.025,\n    0.046, 0.104, 0.1, 0.093, 0.071, 0.063, 0.065, 0.066, 0.058, 0.039, 0.032, 0.038, 0.044, 0.041, 0.041, 0.036, 0.043,\n    0.032, 0.027, 0.012, 0.006, -0.005, -0.017, -0.022, -0.039, -0.064, -0.061, -0.058, -0.054, -0.047, -0.114, -0.135,\n    -0.133, -0.117, -0.103, -0.101, -0.079, -0.05, -0.055, -0.045, -0.037, -0.023, -0.013, -0.002, 0.001, -0.005,\n    -0.002, 0.003, 0.003, -0.002, -0.006, -0.016, -0.026, -0.046, -0.064, -0.088, -0.101, -0.104, -0.119, -0.124,\n    -0.109, -0.069, -0.049, -0.031, 0.001, 0.02, 0.029, 0.048, 0.061, 0.076, 0.079, 0.078, 0.072, 0.058, 0.051, 0.044,\n    0.037, 0.039, 0.046, 0.054, 0.055, 0.062, 0.065, 0.073, 0.075, 0.066, 0.05, 0.035, 0.015, 0.008, -0.012, -0.036,\n    -0.055, -0.061, -0.054, -0.045, -0.041, -0.034, -0.021, -0.008, 0.008, 0.024, 0.04, 0.041, 0.037, 0.032, 0.021,\n    0.01, 0.008, -0.001, -0.005, -0.008, -0.007, -0.002, 0.008, 0.015, 0.02, 0.021, 0.026, 0.02, 0.018, 0.017, 0.014,\n    0.019, 0.023, 0.034, 0.042, 0.055, 0.056, 0.054, 0.051, 0.044, 0.041, 0.027, 0.016, 0.008, 0.006, 0.004, 0.004,\n    0.004, -0.003, -0.009, -0.008, -0.001, -0.006, -0.005, 0, 0.002, -0.003, -0.011, -0.019, -0.023, -0.031, -0.037,\n    -0.041, -0.027, -0.021, -0.017, -0.009, -0.006, -0.006, -0.005, -0.002, -0.002, -0.006, -0.01, -0.018, -0.018,\n    -0.014, -0.014, -0.017, -0.017, -0.012, -0.006, -0.004, 0.011, 0.011, 0.009, 0.006, 0.005, 0.007, 0.003, 0.001,\n    0.006, 0.017, 0.022, 0.017, 0.016, 0.016, 0.013, 0.006, -0.002, -0.012, -0.018, -0.026, -0.027, -0.03, -0.031,\n    -0.031, -0.03, -0.027, -0.021, -0.017, -0.014, -0.002, 0.008, 0.01, 0.01, 0.016, 0.013, 0.011, 0.006, 0.007, 0.006,\n    0.009, 0.011, 0.009, 0.008, 0.004, 0.002, 0.004, 0.001, -0.002, 0.003, 0.005, 0.008, 0.017, 0.015, 0.014, 0.016,\n    0.024, 0.025, 0.023, 0.021, 0.01, 0.007, 0.002, -0.003, -0.003, -0.007, -0.018, -0.024, -0.031, -0.033, -0.03,\n    -0.023, -0.017, -0.013, -0.015, -0.017, -0.014, -0.011, -0.007, -0.019, -0.028, -0.03, -0.033, -0.032, -0.033,\n    -0.032, -0.033, -0.034, -0.029, -0.028, -0.03, -0.025, -0.023, -0.011, 0, 0.016, 0.026, 0.032, 0.038, 0.04, 0.037,\n    0.029, 0.021, 0.018, 0.017, 0.016, 0.001, -0.005, -0.006, -0.005, 0.002, 0.006, 0.009, 0.008, 0.01, 0.007, 0.003,\n    0.002, 0.005, 0.006, 0.009, 0.015, 0.016, 0.016, 0.017, 0.017, 0.016, 0.019, 0.015, 0.012, 0.009, 0.009, 0.013,\n    0.015, 0.017, 0.012, 0.009, 0.008, 0.011, 0.008, 0.002, -0.004, 0.006, 0.002, 0.001, -0.004, 0.003, 0.001, -0.008,\n    -0.024, -0.036, -0.034, -0.033, -0.041, -0.045, -0.051, -0.057, -0.056, -0.052, -0.045, -0.036, -0.028, -0.009,\n    0.006, 0.015, 0.03, 0.039, 0.007, -0.006, -0.007, -0.022, -0.025, -0.043, -0.055, -0.056, -0.045, -0.041, -0.027,\n    -0.029, -0.025, -0.011, 0.006, 0.012, 0.011, 0.019, 0.026, 0.027, 0.021, 0.023, 0.023, 0.013, 0.004, 0.008, 0.01,\n    0.007, 0.009, 0.004, 0.009, 0.012, 0.016, 0.016, 0.018, 0.014, 0.018, 0.022, 0.03, 0.026, 0.032, 0.04, 0.034, 0.028,\n    0.029, 0.033, 0.038, 0.027, 0.018, 0.012, 0.008, 0.008, 0.007, 0, 0, -0.008, -0.017, -0.019, -0.014, -0.008, -0.009,\n    -0.007, -0.005, -0.001, 0.01, 0.024, 0, -0.048, -0.084, -0.099, -0.113, -0.12, -0.125, -0.133, -0.14, -0.14, -0.116,\n    -0.073, -0.045, -0.028, -0.009, -0.007, 0, 0.016, 0.029, 0.034, 0.038, 0.044, 0.051, 0.045, 0.051, 0.061, 0.084,\n    0.099, 0.101, 0.087, 0.08, 0.083, 0.08, 0.081, 0.081, 0.087, 0.095, 0.103, 0.093, 0.103, 0.096, 0.069, 0.042, 0.013,\n    -0.013, -0.028, -0.035, -0.031, -0.045, -0.042, -0.038, -0.027, -0.039, -0.061, 0.04, 0.081, 0.102, 0.096, 0.101,\n    0.123, 0.122, 0.105, 0.097, 0.082, 0.06, 0.041, 0.015, -0.003, -0.027, -0.04, -0.051, -0.055, -0.052, -0.054,\n    -0.063, -0.069, -0.068, -0.065, -0.057, -0.048, -0.041, -0.032, -0.032, -0.027, -0.017, -0.009, 0.003, 0.012, 0.01,\n    0, -0.007, -0.016, -0.021, -0.024, -0.012, 0.004, 0.022, 0.032, 0.032, 0.019, 0.007, 0.007, 0.007, 0.015, 0.021,\n    0.024, 0.019, 0.01, -0.001, 0.004, 0.006, -0.008, -0.01, -0.01, -0.023, -0.04, -0.037, -0.031, -0.029, -0.029,\n    -0.03, -0.033, -0.042, -0.042, -0.039, -0.038, -0.044, -0.044, -0.04, -0.044, -0.05, -0.057, -0.048, -0.037, -0.028,\n    -0.024, -0.004, 0.004, 0.001, -0.001, -0.003, -0.004, -0.002, -0.003, 0.001, 0.003, 0.001, 0, -0.002, 0.003, 0.009,\n    0.016, 0.019, 0.021, 0.022, 0.023, 0.025, 0.025, 0.03, 0.021, 0.012, 0.012, 0.009, 0.009, 0.008, -0.003, -0.007,\n    -0.009, -0.014, -0.016, -0.014, -0.007, -0.002, 0.002, -0.001, -0.01, -0.028, -0.029, -0.03,\n];\n\nexport const macd = [\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 891.173, 891.168, 891.169, 891.174, 891.176, 891.174, 891.17, 891.169, 891.168,\n    891.169, 891.154, 891.155, 891.152, 891.148, -0.008, 0.002, 0.001, 0.007, 0.021, 0.035, 0.04, 0.032, 0.035, 0.032,\n    0.032, 0.033, 0.031, 0.041, 0.049, 0.058, 0.058, 0.05, 0.049, 0.056, 0.072, 0.077, 0.076, 0.078, 0.085, 0.088,\n    0.089, 0.076, 0.067, 0.07, 0.071, 0.075, 0.076, 0.075, 0.071, 0.067, 0.062, 0.058, 0.051, 0.057, 0.065, 0.076,\n    0.116, 0.127, 0.133, 0.14, 0.142, 0.133, 0.127, 0.119, 0.116, 0.114, 0.111, 0.125, 0.117, 0.111, 0.114, 0.117,\n    0.108, 0.105, 0.1, 0.093, 0.084, 0.073, 0.072, 0.071, 0.072, 0.069, 0.065, 0.06, 0.057, 0.045, 0.042, 0.039, 0.034,\n    0.019, 0.016, 0.009, 0.007, 0.006, 0.004, 0.001, 0.002, -0.001, -0.002, -0.008, -0.02, -0.029, -0.037, -0.038,\n    -0.04, -0.043, -0.045, -0.051, -0.051, -0.043, -0.045, -0.048, -0.049, -0.057, -0.065, -0.066, -0.079, -0.077,\n    -0.093, -0.088, -0.087, -0.093, -0.101, -0.115, -0.121, -0.116, -0.113, -0.109, -0.105, -0.1, -0.102, -0.096,\n    -0.113, -0.117, -0.106, -0.074, -0.05, -0.031, -0.024, -0.014, 0.001, 0.015, 0.022, 0.031, 0.036, 0.035, 0.028,\n    0.026, 0.024, 0.031, 0.028, 0.029, 0.034, 0.029, 0.025, 0.011, -0.006, -0.019, -0.028, -0.028, -0.023, -0.021,\n    -0.02, -0.019, -0.017, -0.019, -0.024, -0.017, -0.015, -0.019, -0.018, -0.014, -0.008, 0, 0.004, 0.004, 0.008,\n    -0.003, -0.008, -0.009, -0.006, 0.009, 0.021, 0.023, 0.021, 0.015, 0.011, 0.014, 0, -0.023, -0.036, -0.048, -0.053,\n    -0.056, -0.069, -0.064, -0.071, -0.06, -0.053, -0.045, -0.044, -0.04, -0.022, -0.003, 0.022, 0.04, 0.025, 0.016, 0,\n    -0.009, -0.018, -0.015, -0.028, -0.042, -0.057, -0.05, -0.041, -0.039, -0.04, -0.029, -0.024, -0.017, -0.006, 0.007,\n    0.04, 0.123, 0.144, 0.161, 0.157, 0.164, 0.183, 0.2, 0.207, 0.198, 0.198, 0.214, 0.231, 0.238, 0.248, 0.252, 0.27,\n    0.267, 0.269, 0.257, 0.252, 0.24, 0.224, 0.213, 0.186, 0.145, 0.133, 0.122, 0.112, 0.107, 0.012, -0.043, -0.074,\n    -0.088, -0.099, -0.123, -0.12, -0.104, -0.123, -0.124, -0.125, -0.117, -0.11, -0.099, -0.096, -0.104, -0.101,\n    -0.095, -0.095, -0.1, -0.105, -0.119, -0.136, -0.168, -0.201, -0.248, -0.286, -0.315, -0.359, -0.395, -0.408,\n    -0.385, -0.377, -0.367, -0.335, -0.311, -0.294, -0.263, -0.235, -0.201, -0.178, -0.16, -0.148, -0.147, -0.142,\n    -0.138, -0.135, -0.124, -0.105, -0.084, -0.069, -0.046, -0.027, -0.001, 0.02, 0.028, 0.024, 0.018, 0.001, -0.004,\n    -0.027, -0.06, -0.093, -0.114, -0.12, -0.123, -0.129, -0.13, -0.122, -0.112, -0.093, -0.072, -0.046, -0.035, -0.029,\n    -0.026, -0.032, -0.041, -0.041, -0.05, -0.055, -0.06, -0.061, -0.057, -0.045, -0.034, -0.024, -0.018, -0.006,\n    -0.007, -0.005, -0.002, -0.001, 0.009, 0.019, 0.038, 0.057, 0.083, 0.098, 0.11, 0.119, 0.123, 0.13, 0.123, 0.116,\n    0.11, 0.109, 0.109, 0.109, 0.111, 0.103, 0.094, 0.094, 0.1, 0.094, 0.093, 0.098, 0.101, 0.095, 0.084, 0.071, 0.062,\n    0.046, 0.031, 0.016, 0.024, 0.024, 0.024, 0.03, 0.031, 0.03, 0.03, 0.032, 0.032, 0.026, 0.02, 0.007, 0.003, 0.003,\n    0, -0.008, -0.012, -0.01, -0.006, -0.004, 0.013, 0.016, 0.016, 0.015, 0.015, 0.019, 0.016, 0.014, 0.02, 0.036,\n    0.046, 0.046, 0.049, 0.053, 0.053, 0.047, 0.039, 0.026, 0.015, 0.001, -0.007, -0.018, -0.026, -0.034, -0.041,\n    -0.044, -0.044, -0.044, -0.044, -0.033, -0.021, -0.016, -0.014, -0.004, -0.003, -0.003, -0.006, -0.003, -0.003,\n    0.002, 0.007, 0.007, 0.008, 0.005, 0.004, 0.007, 0.004, 0.001, 0.006, 0.009, 0.015, 0.028, 0.03, 0.032, 0.038,\n    0.052, 0.059, 0.063, 0.066, 0.058, 0.057, 0.052, 0.046, 0.046, 0.04, 0.025, 0.013, -0.002, -0.012, -0.017, -0.015,\n    -0.014, -0.013, -0.019, -0.025, -0.025, -0.025, -0.023, -0.04, -0.056, -0.065, -0.076, -0.083, -0.092, -0.1, -0.109,\n    -0.118, -0.121, -0.127, -0.136, -0.137, -0.141, -0.132, -0.121, -0.101, -0.084, -0.07, -0.055, -0.043, -0.037,\n    -0.038, -0.04, -0.039, -0.036, -0.033, -0.048, -0.055, -0.057, -0.058, -0.05, -0.044, -0.039, -0.038, -0.034,\n    -0.035, -0.038, -0.039, -0.034, -0.032, -0.027, -0.017, -0.012, -0.008, -0.003, 0.002, 0.005, 0.013, 0.012, 0.012,\n    0.012, 0.014, 0.021, 0.027, 0.033, 0.031, 0.03, 0.031, 0.037, 0.036, 0.03, 0.023, 0.035, 0.031, 0.031, 0.025, 0.032,\n    0.031, 0.02, -0.002, -0.023, -0.03, -0.037, -0.055, -0.071, -0.089, -0.109, -0.122, -0.131, -0.135, -0.136, -0.134,\n    -0.118, -0.101, -0.089, -0.066, -0.047, -0.078, -0.092, -0.095, -0.115, -0.125, -0.154, -0.179, -0.194, -0.195,\n    -0.201, -0.194, -0.203, -0.205, -0.194, -0.175, -0.166, -0.165, -0.152, -0.139, -0.131, -0.132, -0.124, -0.118,\n    -0.125, -0.133, -0.127, -0.123, -0.124, -0.12, -0.124, -0.117, -0.11, -0.103, -0.098, -0.092, -0.092, -0.084,\n    -0.074, -0.059, -0.056, -0.042, -0.024, -0.022, -0.021, -0.013, 0, 0.014, 0.01, 0.006, 0.002, 0.001, 0.003, 0.004,\n    -0.003, -0.004, -0.013, -0.027, -0.034, -0.032, -0.028, -0.031, -0.031, -0.03, -0.027, -0.013, 0.007, -0.017,\n    -0.077, -0.134, -0.174, -0.216, -0.253, -0.289, -0.33, -0.372, -0.407, -0.412, -0.387, -0.37, -0.36, -0.344, -0.344,\n    -0.337, -0.317, -0.296, -0.283, -0.269, -0.252, -0.233, -0.227, -0.209, -0.183, -0.139, -0.099, -0.072, -0.064,\n    -0.051, -0.027, -0.01, 0.011, 0.031, 0.059, 0.091, 0.124, 0.138, 0.173, 0.19, 0.18, 0.164, 0.138, 0.109, 0.087,\n    0.071, 0.067, 0.042, 0.034, 0.029, 0.033, 0.012, -0.026, 0.085, 0.146, 0.193, 0.211, 0.241, 0.294, 0.323, 0.333,\n    0.349, 0.355, 0.347, 0.339, 0.316, 0.298, 0.267, 0.244, 0.22, 0.202, 0.192, 0.177, 0.152, 0.129, 0.113, 0.1, 0.094,\n    0.091, 0.088, 0.088, 0.08, 0.079, 0.085, 0.09, 0.103, 0.115, 0.116, 0.105, 0.097, 0.084, 0.073, 0.065, 0.074, 0.091,\n    0.114, 0.132, 0.14, 0.132, 0.122, 0.124, 0.125, 0.137, 0.148, 0.157, 0.157, 0.15, 0.139, 0.145, 0.148, 0.133, 0.128,\n    0.126, 0.107, 0.08, 0.074, 0.072, 0.067, 0.059, 0.051, 0.04, 0.02, 0.01, 0.003, -0.006, -0.022, -0.034, -0.04,\n    -0.055, -0.073, -0.094, -0.097, -0.096, -0.093, -0.095, -0.077, -0.068, -0.07, -0.072, -0.075, -0.077, -0.076,\n    -0.077, -0.073, -0.07, -0.072, -0.073, -0.075, -0.07, -0.061, -0.051, -0.043, -0.036, -0.029, -0.022, -0.014,\n    -0.008, 0.005, 0.001, -0.005, -0.002, -0.003, -0.001, 0, -0.012, -0.017, -0.022, -0.03, -0.036, -0.037, -0.032,\n    -0.028, -0.023, -0.026, -0.038, -0.063, -0.071, -0.079,\n];\n\nexport const signal = [\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0.018333333333333333, 0.021066666666666668, 0.023253333333333334, 0.02520266666666667, 0.026362133333333336,\n    0.02928970666666667, 0.03323176533333334, 0.03818541226666667, 0.042148329813333336, 0.04371866385066667,\n    0.044774931080533334, 0.04701994486442667, 0.052015955891541336, 0.05701276471323307, 0.06081021177058646,\n    0.06424816941646917, 0.06839853553317533, 0.07231882842654026, 0.07565506274123221, 0.07572405019298577,\n    0.07397924015438861, 0.0731833921235109, 0.07274671369880871, 0.07319737095904696, 0.07375789676723757,\n    0.07400631741379006, 0.07340505393103204, 0.07212404314482564, 0.0700992345158605, 0.06767938761268841,\n    0.06434351009015073, 0.06287480807212058, 0.06329984645769646, 0.06583987716615716, 0.07587190173292574,\n    0.0860975213863406, 0.09547801710907247, 0.10438241368725798, 0.11190593094980639, 0.1161247447598451,\n    0.11829979580787608, 0.11843983664630087, 0.1179518693170407, 0.11716149545363257, 0.11592919636290605,\n    0.11774335709032484, 0.11759468567225988, 0.11627574853780791, 0.11582059883024633, 0.11605647906419707,\n    0.11444518325135765, 0.11255614660108612, 0.1100449172808689, 0.10663593382469512, 0.1021087470597561,\n    0.09628699764780488, 0.0914295981182439, 0.08734367849459512, 0.0842749427956761, 0.08121995423654088,\n    0.07797596338923271, 0.07438077071138617, 0.07090461656910893, 0.06572369325528714, 0.06097895460422971,\n    0.056583163683383765, 0.05206653094670701, 0.04545322475736561, 0.039562579805892485, 0.03345006384471399,\n    0.02816005107577119, 0.02372804086061695, 0.01978243268849356, 0.016025946150794848, 0.013220756920635878,\n    0.010376605536508703, 0.007901284429206961, 0.004721027543365569, -0.00022317796530754545, -0.005978542372246038,\n    -0.01218283389779683, -0.017346267118237464, -0.02187701369458997, -0.026101610955671976, -0.02988128876453758,\n    -0.034105031011630066, -0.03748402480930405, -0.03858721984744324, -0.039869775877954594, -0.04149582070236368,\n    -0.042996656561890945, -0.04579732524951276, -0.04963786019961021, -0.052910288159688165, -0.058128230527750534,\n    -0.061902584422200424, -0.06812206753776034, -0.07209765403020828, -0.07507812322416663, -0.0786624985793333,\n    -0.08312999886346664, -0.08950399909077332, -0.09580319927261866, -0.09984255941809493, -0.10247404753447595,\n    -0.10377923802758075, -0.1040233904220646, -0.10321871233765167, -0.10297496987012134, -0.10157997589609707,\n    -0.10386398071687766, -0.10649118457350214, -0.10639294765880171, -0.09991435812704137, -0.0899314865016331,\n    -0.07814518920130648, -0.06731615136104518, -0.05665292108883615, -0.04512233687106892, -0.033097869496855135,\n    -0.02207829559748411, -0.011462636477987287, -0.00197010918238983, 0.005423912654088137, 0.00993913012327051,\n    0.013151304098616408, 0.015321043278893127, 0.018456834623114503, 0.020365467698491603, 0.022092374158793282,\n    0.024473899327034625, 0.0253791194616277, 0.02530329556930216, 0.022442636455441728, 0.01675410916435338,\n    0.009603287331482704, 0.002082629865186164, -0.003933896107851069, -0.007747116886280856, -0.010397693509024685,\n    -0.012318154807219747, -0.013654523845775798, -0.01432361907662064, -0.015258895261296512, -0.01700711620903721,\n    -0.017005692967229768, -0.016604554373783813, -0.01708364349902705, -0.01726691479922164, -0.01661353183937731,\n    -0.01489082547150185, -0.01191266037720148, -0.008730128301761184, -0.006184102641408947, -0.0033472821131271574,\n    -0.003277825690501726, -0.004222260552401381, -0.005177808441921105, -0.005342246753536884, -0.0024737974028295074,\n    0.0022209620777363954, 0.006376769662189117, 0.009301415729751294, 0.010441132583801036, 0.010552906067040829,\n    0.011242324853632663, 0.00899385988290613, 0.0025950879063249034, -0.005123929674940078, -0.013699143739952062,\n    -0.021559314991961648, -0.02844745199356932, -0.036557961594855456, -0.042046369275884364, -0.04783709542070749,\n    -0.050269676336566, -0.050815741069252796, -0.04965259285540224, -0.04852207428432179, -0.04681765942745743,\n    -0.04185412754196594, -0.03408330203357275, -0.0228666416268582, -0.01029331330148656, -0.003234650641189246,\n    0.0006122794870486031, 0.0004898235896388825, -0.001408141128288894, -0.004726512902631115, -0.006781210322104892,\n    -0.011024968257683915, -0.01721997460614713, -0.025175979684917707, -0.030140783747934167, -0.03231262699834733,\n    -0.033650101598677866, -0.03492008127894229, -0.033736065023153836, -0.03178885201852307, -0.028831081614818458,\n    -0.024264865291854766, -0.018011892233483814, -0.006409513786787051, 0.01947238897057036, 0.044377911176456286,\n    0.06770232894116503, 0.08556186315293202, 0.10124949052234561, 0.11759959241787649, 0.1340796739343012,\n    0.14866373914744097, 0.15853099131795279, 0.16642479305436222, 0.1759398344434898, 0.18695186755479185,\n    0.19716149404383349, 0.2073291952350668, 0.21626335618805342, 0.22701068495044274, 0.2350085479603542,\n    0.24180683836828337, 0.2448454706946267, 0.24627637655570137, 0.24502110124456108, 0.24081688099564888,\n    0.2352535047965191, 0.22540280383721528, 0.20932224306977223, 0.19405779445581778, 0.17964623556465423,\n    0.16611698845172337, 0.1542935907613787, 0.12583487260910295, 0.09206789808728236, 0.05885431846982589,\n    0.02948345477586071, 0.0037867638206885677, -0.021570588943449147, -0.04125647115475932, -0.05380517692380746,\n    -0.06764414153904597, -0.07891531323123677, -0.08813225058498941, -0.09390580046799153, -0.09712464037439322,\n    -0.09749971229951458, -0.09719976983961166, -0.09855981587168933, -0.09904785269735146, -0.09823828215788116,\n    -0.09759062572630493, -0.09807250058104394, -0.09945800046483515, -0.10336640037186812, -0.1098931202974945,\n    -0.1215144962379956, -0.13741159699039648, -0.1595292775923172, -0.18482342207385374, -0.210858737659083,\n    -0.2404869901272664, -0.2713895921018131, -0.2987116736814505, -0.31596933894516044, -0.32817547115612833,\n    -0.33594037692490264, -0.33575230153992214, -0.33080184123193773, -0.3234414729855502, -0.3113531783884402,\n    -0.29608254271075213, -0.2770660341686017, -0.25725282733488136, -0.2378022618679051, -0.21984180949432408,\n    -0.20527344759545926, -0.1926187580763674, -0.18169500646109393, -0.17235600516887514, -0.16268480413510011,\n    -0.1511478433080801, -0.13771827464646408, -0.12397461971717126, -0.108379695773737, -0.0921037566189896,\n    -0.07388300529519168, -0.055106404236153345, -0.038485123388922675, -0.02598809871113814, -0.01719047896891051,\n    -0.013552383175128408, -0.011641906540102727, -0.014713525232082181, -0.023770820185665745, -0.037616656148532594,\n    -0.052893324918826076, -0.06631465993506086, -0.07765172794804868, -0.08792138235843895, -0.09633710588675116,\n    -0.10146968470940093, -0.10357574776752075, -0.1014605982140166, -0.09556847857121327, -0.08565478285697062,\n    -0.0755238262855765, -0.0662190610284612, -0.05817524882276896, -0.05294019905821517, -0.05055215924657214,\n    -0.04864172739725771, -0.04891338191780617, -0.05013070553424494, -0.05210456442739595, -0.05388365154191676,\n    -0.05450692123353341, -0.052605536986826726, -0.04888442958946138, -0.043907543671569106, -0.03872603493725529,\n    -0.03218082794980423, -0.027144662359843384, -0.022715729887874708, -0.018572583910299766, -0.015058067128239812,\n    -0.01024645370259185, -0.0043971629620734795, 0.004082269630341216, 0.014665815704272974, 0.02833265256341838,\n    0.042266122050734704, 0.055812897640587764, 0.06845031811247021, 0.07936025448997616, 0.08948820359198092,\n    0.09619056287358474, 0.1001524502988678, 0.10212196023909424, 0.1034975681912754, 0.10459805455302032,\n    0.10547844364241625, 0.106582754913933, 0.1058662039311464, 0.10349296314491713, 0.1015943705159337,\n    0.10127549641274697, 0.09982039713019758, 0.09845631770415807, 0.09836505416332646, 0.09889204333066116,\n    0.09811363466452894, 0.09529090773162315, 0.09043272618529852, 0.08474618094823881, 0.07699694475859105,\n    0.06779755580687284, 0.057438044645498273, 0.05075043571639862, 0.04540034857311889, 0.04112027885849511,\n    0.03889622308679609, 0.03731697846943687, 0.035853582775549495, 0.0346828662204396, 0.034146292976351675,\n    0.03371703438108134, 0.03217362750486507, 0.029738902003892054, 0.025191121603113643, 0.020752897282490912,\n    0.017202317825992727, 0.013761854260794182, 0.009409483408635344, 0.005127586726908275, 0.0021020693815266196,\n    0.0004816555052212957, -0.00041467559582296343, 0.0022682595233416295, 0.005014607618673304, 0.007211686094938644,\n    0.008769348875950916, 0.010015479100760732, 0.011812383280608586, 0.01264990662448687, 0.012919925299589496,\n    0.014335940239671597, 0.018668752191737276, 0.02413500175338982, 0.028508001402711855, 0.03260640112216948,\n    0.03668512089773559, 0.03994809671818847, 0.04135847737455078, 0.04088678189964062, 0.0379094255197125,\n    0.03332754041577, 0.026862032332615998, 0.020089625866092798, 0.01247170069287424, 0.004777360554299391,\n    -0.002978111556560489, -0.010582489245248392, -0.017265991396198714, -0.02261279311695897, -0.026890234493567176,\n    -0.03031218759485374, -0.030849750075882993, -0.028879800060706395, -0.026303840048565116, -0.02384307203885209,\n    -0.01987445763108167, -0.016499566104865335, -0.013799652883892267, -0.012239722307113813, -0.01039177784569105,\n    -0.00891342227655284, -0.006730737821242273, -0.003984590256993818, -0.0017876722055950546, 0.00016986223552395647,\n    0.0011358897884191652, 0.0017087118307353322, 0.0027669694645882656, 0.0030135755716706124, 0.00261086045733649,\n    0.003288688365869192, 0.004430950692695354, 0.0065447605541562835, 0.010835808443325028, 0.014668646754660022,\n    0.018134917403728017, 0.022107933922982412, 0.02808634713838593, 0.034269077710708744, 0.040015262168566997,\n    0.0452122097348536, 0.04776976778788288, 0.0496158142303063, 0.05009265138424504, 0.049274121107396034,\n    0.048619296885916825, 0.04689543750873346, 0.042516350006986774, 0.03661308000558942, 0.028890464004471532,\n    0.020712371203577225, 0.01316989696286178, 0.007535917570289424, 0.003228734056231539, -0.000017012755014768864,\n    -0.003813610204011815, -0.008050888163209452, -0.011440710530567562, -0.014152568424454049, -0.01592205473956324,\n    -0.020737643791650592, -0.027790115033320476, -0.03523209202665638, -0.0433856736213251, -0.05130853889706008,\n    -0.059446831117648063, -0.06755746489411846, -0.07584597191529477, -0.08427677753223581, -0.09162142202578864,\n    -0.09869713762063091, -0.10615771009650474, -0.11232616807720379, -0.11806093446176302, -0.12084874756941041,\n    -0.12087899805552833, -0.11690319844442267, -0.11032255875553813, -0.1022580470044305, -0.0928064376035444,\n    -0.08284515008283552, -0.07367612006626842, -0.06654089605301473, -0.061232716842411786, -0.056786173473929426,\n    -0.05262893877914354, -0.048703151023314836, -0.048562520818651866, -0.049850016654921496, -0.051280013323937196,\n    -0.052624010659149754, -0.05209920852731981, -0.050479366821855845, -0.048183493457484676, -0.04614679476598774,\n    -0.043717435812790195, -0.04197394865023216, -0.04117915892018573, -0.04074332713614858, -0.039394661708918866,\n    -0.037915729367135095, -0.03573258349370807, -0.03198606679496646, -0.02798885343597317, -0.023991082748778536,\n    -0.01979286619902283, -0.015434292959218263, -0.01134743436737461, -0.006477947493899687, -0.0027823579951197497,\n    0.00017411360390420056, 0.0025392908831233605, 0.004831432706498689, 0.00806514616519895, 0.01185211693215916,\n    0.01608169354572733, 0.019065354836581862, 0.02125228386926549, 0.02320182709541239, 0.025961461676329914,\n    0.02796916934106393, 0.02837533547285114, 0.027300268378280913, 0.028840214702624732, 0.029272171762099786,\n    0.02961773740967983, 0.028694189927743863, 0.02935535194219509, 0.029684281553756072, 0.02774742524300486,\n    0.021797940194403887, 0.012838352155523109, 0.004270681724418487, -0.003983454620465211, -0.01418676369637217,\n    -0.025549410957097736, -0.03823952876567819, -0.05239162301254255, -0.06631329841003404, -0.07925063872802723,\n    -0.09040051098242179, -0.09952040878593743, -0.10641632702874995, -0.10873306162299996, -0.10718644929839997,\n    -0.10354915943871998, -0.09603932755097598, -0.08623146204078078, -0.08458516963262462, -0.0860681357060997,\n    -0.08785450856487975, -0.0932836068519038, -0.09962688548152304, -0.11050150838521844, -0.12420120670817475,\n    -0.1381609653665398, -0.14952877229323183, -0.15982301783458547, -0.16665841426766836, -0.1739267314141347,\n    -0.18014138513130776, -0.1829131081050462, -0.18133048648403696, -0.17826438918722956, -0.17561151134978364,\n    -0.1708892090798269, -0.16451136726386154, -0.15780909381108923, -0.15264727504887138, -0.1469178200390971,\n    -0.14113425603127766, -0.13790740482502212, -0.1369259238600177, -0.13494073908801416, -0.13255259127041133,\n    -0.13084207301632905, -0.12867365841306325, -0.1277389267304506, -0.12559114138436048, -0.12247291310748838,\n    -0.1185783304859907, -0.11446266438879256, -0.10997013151103405, -0.10637610520882723, -0.10190088416706179,\n    -0.09632070733364943, -0.08885656586691955, -0.08228525269353563, -0.0742282021548285, -0.0641825617238628,\n    -0.05574604937909024, -0.04879683950327219, -0.04163747160261775, -0.0333099772820942, -0.02384798182567536,\n    -0.017078385460540288, -0.01246270836843223, -0.009570166694745783, -0.007456133355796627, -0.005364906684637301,\n    -0.003491925347709841, -0.003393540278167873, -0.003514832222534298, -0.0054118657780274386, -0.00972949262242195,\n    -0.014583594097937561, -0.018066875278350047, -0.02005350022268004, -0.02224280017814403, -0.023994240142515225,\n    -0.02519539211401218, -0.025556313691209743, -0.023045050952967792, -0.017036040762374235, -0.01702883260989939,\n    -0.029023066087919512, -0.050018452870335614, -0.07481476229626849, -0.10305180983701479, -0.13304144786961183,\n    -0.16423315829568946, -0.19738652663655157, -0.23230922130924125, -0.267247377047393, -0.2961979016379144,\n    -0.3143583213103315, -0.3254866570482652, -0.3323893256386121, -0.3347114605108897, -0.33656916840871176,\n    -0.3366553347269694, -0.33272426778157554, -0.32537941422526045, -0.3169035313802084, -0.3073228251041667,\n    -0.29625826008333334, -0.28360660806666665, -0.27228528645333333, -0.25962822916266665, -0.24430258333013333,\n    -0.22324206666410668, -0.19839365333128534, -0.17311492266502826, -0.1512919381320226, -0.13123355050561808,\n    -0.11038684040449447, -0.09030947232359557, -0.07004757785887646, -0.049838062287101165, -0.028070449829680932,\n    -0.004256359863744744, 0.021394912109004204, 0.044715929687203365, 0.07037274374976268, 0.09429819499981015,\n    0.11143855599984812, 0.1219508447998785, 0.1251606758399028, 0.12192854067192226, 0.1149428325375378,\n    0.10615426603003024, 0.0983234128240242, 0.08705873025921936, 0.07644698420737549, 0.06695758736590039,\n    0.06016606989272032, 0.05053285591417625, 0.035226284731341, 0.0451810277850728, 0.06534482222805824,\n    0.09087585778244658, 0.11490068622595727, 0.1401205489807658, 0.17089643918461264, 0.20131715134769013,\n    0.2276537210781521, 0.2519229768625217, 0.27253838149001736, 0.28743070519201386, 0.2977445641536111,\n    0.30139565132288887, 0.3007165210583111, 0.2939732168466489, 0.28397857347731914, 0.27118285878185533,\n    0.2573462870254843, 0.24427702962038744, 0.23082162369630996, 0.21505729895704798, 0.1978458391656384,\n    0.1808766713325107, 0.16470133706600856, 0.15056106965280686, 0.13864885572224547, 0.12851908457779637,\n    0.12041526766223709, 0.11233221412978968, 0.10566577130383174, 0.10153261704306539, 0.09922609363445231,\n    0.09998087490756184, 0.10298469992604947, 0.10558775994083958, 0.10547020795267166, 0.10377616636213732,\n    0.09982093308970987, 0.0944567464717679, 0.08856539717741432, 0.08565231774193145, 0.08672185419354517,\n    0.09217748335483614, 0.10014198668386891, 0.10811358934709513, 0.1128908714776761, 0.11471269718214087,\n    0.1165701577457127, 0.11825612619657015, 0.12200490095725612, 0.1272039207658049, 0.13316313661264392,\n    0.13793050929011513, 0.14034440743209212, 0.14007552594567368, 0.14106042075653893, 0.14244833660523115,\n    0.14055866928418492, 0.13804693542734794, 0.13563754834187836, 0.12991003867350268, 0.11992803093880214,\n    0.11074242475104171, 0.10299393980083336, 0.0957951518406667, 0.08843612147253335, 0.08094889717802668,\n    0.07275911774242134, 0.06220729419393708, 0.05176583535514966, 0.04201266828411973, 0.032410134627295785,\n    0.021528107701836628, 0.010422486161469301, 0.0003379889291754406, -0.01072960885665965, -0.02318368708532772,\n    -0.03734694966826217, -0.04927755973460974, -0.058622047787687794, -0.06549763823015023, -0.07139811058412018,\n    -0.07251848846729615, -0.07161479077383692, -0.07129183261906955, -0.07143346609525564, -0.07214677287620451,\n    -0.0731174183009636, -0.07369393464077088, -0.07435514771261671, -0.07408411817009337, -0.0732672945360747,\n    -0.07301383562885976, -0.0730110685030878, -0.07340885480247024, -0.0727270838419762, -0.07038166707358096,\n    -0.06650533365886477, -0.06180426692709182, -0.05664341354167345, -0.05111473083333876, -0.04529178466667101,\n    -0.03903342773333681, -0.03282674218666945, -0.02526139374933556, -0.020009114999468447, -0.017007291999574757,\n    -0.014005833599659805, -0.011804666879727845, -0.009643733503782276, -0.007714986803025821, -0.008571989442420658,\n    -0.010257591553936527, -0.012606073243149222, -0.01608485859451938, -0.020067886875615504, -0.023454309500492404,\n    -0.025163447600393924, -0.02573075808031514, -0.02518460646425211, -0.02534768517140169, -0.02787814813712135,\n    -0.034902518509697084, -0.042122014807757666, -0.04949761184620613,\n];\n",
            "size_bytes": 38015
        },
        "src/pages/tutorials/dbot-tours/onboarding-tour/onboarding-tour-desktop.tsx": {
            "content": "import React from 'react';\nimport { observer } from 'mobx-react-lite';\nimport { useStore } from '@/hooks/useStore';\nimport { getSetting } from '@/utils/settings';\nimport ReactJoyrideWrapper from '../common/react-joyride-wrapper';\nimport TourStartDialog from '../common/tour-start-dialog';\nimport { DBOT_ONBOARDING } from '../tour-content';\nimport { useTourHandler } from '../useTourHandler';\n\nconst OnboardingTourDesktop = observer(() => {\n    const { dashboard } = useStore();\n    const { active_tab, active_tour, setActiveTour, setTourDialogVisibility, is_tour_dialog_visible } = dashboard;\n    const { is_close_tour, is_finished, handleJoyrideCallback, setIsCloseTour } = useTourHandler();\n    React.useEffect(() => {\n        if (is_close_tour || is_finished) {\n            setIsCloseTour(false);\n            setActiveTour('');\n        }\n    }, [is_close_tour, is_finished, setActiveTour, setIsCloseTour]);\n\n    // Check if tour should be shown with setTimeout to prevent showing on every reload\n    React.useEffect(() => {\n        if (active_tab === 0) {\n            const timeoutId = setTimeout(() => {\n                const token = getSetting('onboard_tour_token');\n                if (!token && !is_tour_dialog_visible) {\n                    setTourDialogVisibility(true);\n                }\n            }, 100);\n\n            return () => clearTimeout(timeoutId);\n        }\n    }, [active_tab, is_tour_dialog_visible, setTourDialogVisibility]);\n\n    return (\n        <>\n            <TourStartDialog />\n            {active_tour && (\n                <ReactJoyrideWrapper\n                    handleCallback={handleJoyrideCallback}\n                    steps={DBOT_ONBOARDING}\n                    spotlightClicks\n                    disableCloseOnEsc\n                    disableOverlay={false}\n                    disableOverlayClose={true}\n                />\n            )}\n        </>\n    );\n});\n\nexport default OnboardingTourDesktop;\n",
            "size_bytes": 1938
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/After Purchase/index.js": {
            "content": "import './after_purchase';\nimport './check_result';\nimport './read_details';\nimport './trade_again';\n",
            "size_bytes": 101
        },
        "src/external/bot-skeleton/scratch/hooks/trashcan.js": {
            "content": "/**\n * Inspect the contents of the trash.\n * @deriv/bot: Noop for us, restore original functionality when trashcan can be inspected.\n */\nwindow.Blockly.Trashcan.prototype.click = function () {};\n\nwindow.Blockly.Trashcan.prototype.setTrashcanPosition = (position_right, position_top) => {\n    const trashcan_instance = window.Blockly.derivWorkspace?.trashcan?.svgGroup;\n    trashcan_instance?.setAttribute('transform', `translate(${position_right}, ${position_top})`);\n};\n",
            "size_bytes": 471
        },
        "src/utils/tmp/goog-helper.ts": {
            "content": "const goog = {};\n\ngoog.inherits = function (childCtor, parentCtor) {\n    function tempCtor() {}\n    tempCtor.prototype = parentCtor.prototype;\n    childCtor.superClass_ = parentCtor.prototype;\n    // eslint-disable-next-line new-cap\n    childCtor.prototype = new tempCtor();\n    childCtor.prototype.constructor = childCtor;\n\n    childCtor.base = function (me, methodName, ...args) {\n        return parentCtor.prototype[methodName].apply(me, args);\n    };\n};\n\ngoog.math = {};\n\ngoog.isDef = function (e) {\n    return e !== undefined;\n};\n\ngoog.math.Size = function (e, t) {\n    this.width = e;\n    this.height = t;\n};\n\ngoog.isNumber = function (e) {\n    return /^\\s*-?\\d+(\\.\\d+)?\\s*$/.test(e);\n};\n\ngoog.dom = {};\n\ngoog.dom.removeNode = function (node) {\n    if (node && node.parentNode) {\n        node.parentNode.removeChild(node);\n    }\n};\n\ngoog.math.Coordinate = function (e, t) {\n    this.x = goog.isDef(e) ? e : 0;\n    this.y = goog.isDef(t) ? t : 0;\n};\n\ngoog.math.Coordinate.prototype.scale = function (e, t) {\n    // eslint-disable-next-line no-param-reassign\n    t = goog.isNumber(t) ? t : e;\n    this.x *= e;\n    this.y *= t;\n    return this;\n};\n\ngoog.math.Coordinate.difference = function (coord1, coord2) {\n    return new goog.math.Coordinate(coord1.x - coord2.x, coord1.y - coord2.y);\n};\n\nexport default goog;\n",
            "size_bytes": 1318
        },
        "src/components/transaction-details/transaction-details.tsx": {
            "content": "import { Suspense } from 'react';\nimport { observer } from 'mobx-react-lite';\nimport { Loader, useDevice } from '@deriv-com/ui';\nimport TransactionDetailsDesktop from './transaction-details-desktop';\nimport TransactionDetailsMobile from './transaction-details-mobile';\n\nexport const TransactionDetails = observer(() => {\n    const { isDesktop } = useDevice();\n    return (\n        <Suspense fallback={<Loader />}>\n            {!isDesktop ? <TransactionDetailsMobile /> : <TransactionDetailsDesktop />}\n        </Suspense>\n    );\n});\n\nexport default TransactionDetails;\n",
            "size_bytes": 569
        },
        "src/pages/tutorials/tutorials-tab-mobile.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { observer } from 'mobx-react-lite';\nimport { isDesktop } from '@/components/shared';\nimport SelectNative from '@/components/shared_ui/select-native';\nimport { useStore } from '@/hooks/useStore';\nimport { LabelPairedArrowLeftSmRegularIcon, LabelPairedSearchSmRegularIcon } from '@deriv/quill-icons/LabelPaired';\nimport { LegacyCloseCircle1pxBlackIcon } from '@deriv/quill-icons/Legacy';\nimport SearchInput from './common/search-input';\nimport { TTutorialsTabItem } from './tutorials';\n\ntype TTutorialsTabMobile = {\n    tutorial_tabs: TTutorialsTabItem[];\n    prev_active_tutorials: number;\n};\n\nconst TutorialsTabMobile = observer(({ tutorial_tabs, prev_active_tutorials }: TTutorialsTabMobile) => {\n    const { dashboard } = useStore();\n    const { active_tab_tutorials, faq_search_value, setActiveTabTutorial, setFAQSearchValue, resetTutorialTabContent } =\n        dashboard;\n\n    const search = faq_search_value?.toLowerCase();\n    const initialSelectedTab: TTutorialsTabItem = { label: '', content: undefined };\n    const [selectedTab, setSelectedTab] = React.useState(initialSelectedTab);\n    const [showSearchBar, setShowSearchBar] = React.useState(false);\n    const scroll_ref = React.useRef<HTMLDivElement & SVGSVGElement>(null);\n\n    React.useEffect(() => {\n        if (search) setShowSearchBar(true);\n        setSelectedTab(tutorial_tabs[active_tab_tutorials] || {});\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [tutorial_tabs]);\n\n    const onFocusSearch = () => setActiveTabTutorial(3);\n\n    const scrollToTop = () => {\n        if (scroll_ref.current) {\n            scroll_ref.current.scrollTop = 0;\n        }\n    };\n\n    const onChangeHandle = React.useCallback(\n        ({ target }: React.ChangeEvent<HTMLSelectElement>) =>\n            setActiveTabTutorial(tutorial_tabs.findIndex(i => i.label === target.value)),\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [active_tab_tutorials]\n    );\n\n    const onHandleChangeMobile = () => {\n        setShowSearchBar(!showSearchBar);\n    };\n\n    const onClickBackButton = () => {\n        setFAQSearchValue('');\n        setShowSearchBar(!showSearchBar);\n        resetTutorialTabContent();\n        setActiveTabTutorial(prev_active_tutorials);\n        setSelectedTab(tutorial_tabs[prev_active_tutorials] || {});\n    };\n\n    const onCloseHandleSearch = () => {\n        onFocusSearch();\n        setFAQSearchValue('');\n        setActiveTabTutorial(prev_active_tutorials);\n        resetTutorialTabContent();\n    };\n\n    React.useEffect(() => {\n        const selectElement = document.getElementById('dt_components_select-native_select-tag') as HTMLSelectElement;\n\n        if (selectElement) {\n            const parent_element = selectElement;\n            const child_element = selectElement?.options?.[3];\n\n            if (parent_element && child_element && parent_element?.contains(child_element)) {\n                parent_element?.removeChild(child_element);\n            }\n        }\n    }, []);\n\n    const is_desktop = isDesktop();\n    const is_safari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n\n    return (\n        <div className='tutorials-mobile' data-testid='test-tutorials-mobile'>\n            <div\n                className={classNames('tutorials-mobile__select', {\n                    'tutorials-mobile__select--show-search': showSearchBar,\n                    'tutorials-mobile__select--hide-search': !showSearchBar,\n                    'tutorials-mobile--safari': is_safari && !is_desktop,\n                })}\n                data-testid={showSearchBar ? 'id-search-visible' : 'id-search-hidden'}\n            >\n                <LabelPairedArrowLeftSmRegularIcon\n                    onClick={onClickBackButton}\n                    data-testid='id-arrow-left-bold'\n                    className='arrow-left-bold'\n                />\n                <SearchInput\n                    faq_value={faq_search_value}\n                    setFaqSearchContent={setFAQSearchValue}\n                    prev_active_tutorials={prev_active_tutorials}\n                />\n                {search && (\n                    <LegacyCloseCircle1pxBlackIcon\n                        iconSize='xs'\n                        className='close-icon'\n                        data-testid='id-test-search'\n                        onClick={onCloseHandleSearch}\n                    />\n                )}\n\n                <SelectNative\n                    data_testid='id-tutorials-select'\n                    className='dc-tabs__wrapper__group__search-input--active'\n                    list_items={\n                        tutorial_tabs.map(({ label }, idx) => ({\n                            id: idx,\n                            value: label,\n                            text: label,\n                        })) as TListItem[]\n                    }\n                    value={selectedTab.label}\n                    label=''\n                    should_show_empty_option={false}\n                    onChange={e => {\n                        onChangeHandle(e);\n                        scrollToTop();\n                    }}\n                />\n                <LabelPairedSearchSmRegularIcon\n                    className='search-icon'\n                    data-testid='search-icon'\n                    onClick={onHandleChangeMobile}\n                />\n            </div>\n            <div\n                className={classNames({\n                    'tutorials-mobile__guide': active_tab_tutorials === 0,\n                    'tutorials-mobile__faq': active_tab_tutorials === 1,\n                    'tutorials-mobile__qs-guide': active_tab_tutorials === 2,\n                    'tutorials-mobile__search': active_tab_tutorials === 3,\n                })}\n                ref={scroll_ref}\n            >\n                {selectedTab.content}\n            </div>\n        </div>\n    );\n});\n\nexport default TutorialsTabMobile;\n",
            "size_bytes": 5973
        },
        "src/stores/dashboard-store.ts": {
            "content": "import DOMPurify from 'dompurify';\nimport { action, makeObservable, observable, reaction } from 'mobx';\nimport { botNotification } from '@/components/bot-notification/bot-notification';\nimport { notification_message, NOTIFICATION_TYPE } from '@/components/bot-notification/bot-notification-utils';\nimport { TStores } from '@deriv/stores/types';\nimport * as strategy_description from '../constants/quick-strategies';\nimport { TDescriptionItem } from '../pages/bot-builder/quick-strategy/types';\nimport {\n    faq_content,\n    guide_content,\n    quick_strategy_content,\n    USER_GUIDE,\n    user_guide_content,\n    VIDEOS,\n} from '../pages/tutorials/constants';\nimport { setTourSettings, tour_type, TTourType } from '../pages/tutorials/dbot-tours/utils';\nimport {\n    TFaqContent,\n    TGuideContent,\n    TQuickStrategyContent,\n    TUserGuideContent,\n} from '../pages/tutorials/tutorials.types';\nimport RootStore from './root-store';\n\ntype TDialogOptions = {\n    title?: string;\n    url?: string;\n    type?: string;\n};\n\nexport interface IDashboardStore {\n    active_tab: number;\n    dialog_options: TDialogOptions;\n    faq_search_value: string | null;\n    has_mobile_preview_loaded: boolean;\n    is_web_socket_intialised: boolean;\n    initInfoPanel: () => void;\n    is_dialog_open: boolean;\n    is_file_supported: boolean;\n    is_info_panel_visible: boolean;\n    is_preview_on_popup: boolean;\n    onCloseDialog: () => void;\n    onCloseTour: (param: Partial<string>) => void;\n    onTourEnd: (step: number, is_tour_active: boolean) => void;\n    setActiveTab: (active_tab: number) => void;\n    setActiveTabTutorial: (active_tab_tutorials: number) => void;\n    setFAQSearchValue: (faq_search_value: string) => void;\n    setInfoPanelVisibility: (visibility: boolean) => void;\n    setIsFileSupported: (is_file_supported: boolean) => void;\n    setWebSocketState: (is_web_socket_intialised: boolean) => void;\n    setOpenSettings: (toast_message: NOTIFICATION_TYPE) => void;\n    setPreviewOnDialog: (has_mobile_preview_loaded: boolean) => void;\n    setStrategySaveType: (param: string) => void;\n    setFaqTitle: (param: string) => void;\n    faq_title: string;\n    show_toast: boolean;\n    show_mobile_tour_dialog: boolean;\n    showVideoDialog: (param: { [key: string]: string }) => void;\n    strategy_save_type: string;\n    toast_message: string;\n    is_chart_modal_visible: boolean;\n    is_trading_view_modal_visible: boolean;\n    setPreviewOnPopup: (is_preview_on_popup: boolean) => void;\n}\n\nexport default class DashboardStore implements IDashboardStore {\n    root_store: RootStore;\n    core: TStores;\n    tutorials_combined_content: (TFaqContent | TGuideContent | TUserGuideContent | TQuickStrategyContent)[] = [];\n    combined_search: string[] = [];\n    bot_builder_symbol: string | null = null;\n\n    constructor(root_store: RootStore, core: TStores) {\n        makeObservable(this, {\n            active_tab_tutorials: observable,\n            active_tab: observable,\n            dialog_options: observable,\n            faq_search_value: observable,\n            getFileArray: observable,\n            has_file_loaded: observable,\n            has_mobile_preview_loaded: observable,\n            initInfoPanel: action.bound,\n            active_tour: observable,\n            is_dialog_open: observable,\n            is_file_supported: observable,\n            is_info_panel_visible: observable,\n            is_preview_on_popup: observable,\n            is_tour_dialog_visible: observable,\n            is_web_socket_intialised: observable,\n            tutorials_combined_content: observable,\n            onCloseDialog: action.bound,\n            onCloseTour: action.bound,\n            onTourEnd: action.bound,\n            setActiveTab: action.bound,\n            setActiveTabTutorial: action.bound,\n            setWebSocketState: action.bound,\n            setFAQSearchValue: action.bound,\n            faq_title: observable,\n            setFaqTitle: action.bound,\n            setFileLoaded: action.bound,\n            setInfoPanelVisibility: action.bound,\n            setIsFileSupported: action.bound,\n            setPreviewOnDialog: action.bound,\n            setPreviewOnPopup: action.bound,\n            setActiveTour: action.bound,\n            setTourDialogVisibility: action.bound,\n            setOpenSettings: action.bound,\n            resetTutorialTabContent: action.bound,\n            filterTuotrialTab: action.bound,\n            show_toast: observable,\n            show_mobile_tour_dialog: observable,\n            showVideoDialog: action.bound,\n            strategy_save_type: observable,\n            toast_message: observable,\n            guide_tab_content: observable,\n            faq_tab_content: observable,\n            quick_strategy_tab_content: observable,\n            video_tab_content: observable,\n            setStrategySaveType: action.bound,\n            setShowMobileTourDialog: action.bound,\n            is_chart_modal_visible: observable,\n            is_trading_view_modal_visible: observable,\n            bot_builder_symbol: observable,\n        });\n        this.root_store = root_store;\n        this.core = core;\n\n        const getUserGuideContent = [...user_guide_content()].map(\n            item => `${item.search_id}# ${item.content?.toLowerCase()}`\n        );\n\n        const getVideoContent = [...guide_content()].map(item => `${item.search_id}# ${item.content?.toLowerCase()}`);\n\n        const getFaqContent = faq_content().map(item => {\n            return `${item.search_id}# ${item.title?.toLowerCase()} ${item.description\n                .map(inner_item => {\n                    const itemWithoutHTML = DOMPurify.sanitize(inner_item.content, {\n                        ALLOWED_TAGS: [], //kept empty to remove all tags\n                    });\n                    return itemWithoutHTML?.toLowerCase();\n                })\n                .join(' ')}`;\n        });\n\n        const getQSDescriptionContent = (strategy: any) => {\n            if (!strategy) return [];\n            const content: string[] = [];\n            strategy().forEach((item: TDescriptionItem) => {\n                if (item?.type !== 'media') {\n                    item.content?.forEach((text: string) => content.push(text));\n                }\n            });\n            return content;\n        };\n\n        const getQuickStrategyContent = quick_strategy_content().map(item => {\n            const qs_card_content = item.content.join(' ')?.toLowerCase();\n            let qs_description_content = getQSDescriptionContent(strategy_description?.[item.qs_name]);\n            qs_description_content = qs_description_content.join(' ')?.toLowerCase();\n            return `${item.search_id}# ${item.type?.toLowerCase()} ${qs_description_content + qs_card_content}`;\n        });\n\n        this.combined_search = [\n            ...getUserGuideContent,\n            ...getVideoContent,\n            ...getFaqContent,\n            ...getQuickStrategyContent,\n        ];\n\n        reaction(\n            () => this.is_preview_on_popup,\n            async is_preview_on_popup => {\n                if (is_preview_on_popup) {\n                    this.setPreviewOnPopup(false);\n                }\n            }\n        );\n        this.initInfoPanel();\n    }\n\n    active_tab = 0;\n    active_tab_tutorials = 0;\n    active_tour_step_number = 0;\n    dialog_options: TDialogOptions = {};\n    faq_search_value = '';\n    getFileArray = [];\n    has_file_loaded = false;\n    has_mobile_preview_loaded = false;\n    active_tour = '';\n    is_dialog_open = false;\n    is_file_supported = false;\n    is_info_panel_visible = false;\n    is_preview_on_popup = false;\n    is_tour_dialog_visible = false;\n    show_toast = false;\n    show_mobile_tour_dialog = false;\n    strategy_save_type = 'unsaved';\n    toast_message = '';\n    is_web_socket_intialised = true;\n    search_param = '';\n    guide_tab_content = user_guide_content;\n    video_tab_content = guide_content;\n    faq_tab_content = faq_content;\n    quick_strategy_tab_content = quick_strategy_content;\n    filtered_tab_list = [];\n    is_chart_modal_visible = false;\n    is_trading_view_modal_visible = false;\n    faq_title = '';\n\n    setFaqTitle = (faq_title: string) => {\n        this.faq_title = faq_title;\n    };\n\n    resetTutorialTabContent = () => {\n        this.guide_tab_content = user_guide_content;\n        this.video_tab_content = guide_content;\n        this.faq_tab_content = faq_content;\n        this.quick_strategy_tab_content = quick_strategy_content;\n    };\n\n    filterTuotrialTab = (search_param: string) => {\n        this.search_param = search_param;\n        const foundItems = this.combined_search.filter(item => {\n            return item.includes(search_param?.toLowerCase());\n        });\n\n        const filtered_user_guide: [] = [];\n        const filter_video_guide: [] = [];\n        const filtered_faq_content: [] = [];\n        const filtered_quick_strategy_content: [] = [];\n\n        const filtered_tutorial_content = foundItems.map(item => {\n            const identifier = item.split('#')[0];\n            const index: string = identifier.split('-')[1];\n            if (identifier.includes(USER_GUIDE)) {\n                filtered_user_guide.push(user_guide_content()[Number(index)]);\n                return user_guide_content()[Number(index)];\n            } else if (identifier.includes(VIDEOS)) {\n                filter_video_guide.push(guide_content()[Number(index)]);\n                return guide_content()[Number(index)];\n            } else if (identifier.includes('faq')) {\n                filtered_faq_content.push(faq_content()[Number(index)]);\n                return faq_content()[Number(index)];\n            }\n            filtered_quick_strategy_content.push(quick_strategy_content()[Number(index)]);\n            return quick_strategy_content()[Number(index)];\n        });\n\n        this.guide_tab_content = () => filtered_user_guide;\n        this.video_tab_content = () => filter_video_guide;\n        this.faq_tab_content = () => filtered_faq_content;\n        this.quick_strategy_tab_content = () => filtered_quick_strategy_content;\n\n        return filtered_tutorial_content;\n    };\n\n    get is_dark_mode() {\n        const {\n            app: {\n                core: {\n                    ui: { is_dark_mode_on },\n                },\n            },\n        } = this.root_store;\n        return is_dark_mode_on;\n    }\n\n    setBotBuilderSymbol = (bot_builder_symbol: string | null) => {\n        this.bot_builder_symbol = bot_builder_symbol;\n\n        // Update chart symbol when bot builder symbol changes\n        const { chart_store } = this.root_store;\n        if (chart_store && bot_builder_symbol) {\n            chart_store.onSymbolChange(bot_builder_symbol);\n        }\n    };\n\n    setShowMobileTourDialog = (show_mobile_tour_dialog: boolean) => {\n        this.show_mobile_tour_dialog = show_mobile_tour_dialog;\n    };\n\n    setWebSocketState = (is_web_socket_intialised: boolean) => {\n        this.is_web_socket_intialised = is_web_socket_intialised;\n    };\n\n    setOpenSettings = (toast_message: NOTIFICATION_TYPE) => {\n        this.toast_message = toast_message;\n        botNotification(notification_message()[toast_message]);\n    };\n\n    setChartModalVisibility = () => {\n        this.is_chart_modal_visible = !this.is_chart_modal_visible;\n    };\n\n    setTradingViewModalVisibility = () => {\n        this.is_trading_view_modal_visible = !this.is_trading_view_modal_visible;\n    };\n\n    setIsFileSupported = (is_file_supported: boolean) => {\n        this.is_file_supported = is_file_supported;\n    };\n\n    initInfoPanel() {\n        if (!localStorage.getItem('dbot_should_show_info')) this.is_info_panel_visible = true;\n    }\n\n    setTourActiveStep = (active_tour_step_number: number) => {\n        this.active_tour_step_number = active_tour_step_number;\n    };\n\n    setPreviewOnDialog = (has_mobile_preview_loaded: boolean) => {\n        this.has_mobile_preview_loaded = has_mobile_preview_loaded;\n        const {\n            load_modal: { onLoadModalClose },\n        } = this.root_store;\n        onLoadModalClose();\n    };\n\n    setStrategySaveType = (strategy_save_type: string) => {\n        this.strategy_save_type = strategy_save_type;\n    };\n\n    setPreviewOnPopup = (is_preview_on_popup: boolean): void => {\n        this.is_preview_on_popup = is_preview_on_popup;\n    };\n\n    setTourDialogVisibility = (is_tour_dialog_visible: boolean): void => {\n        this.is_tour_dialog_visible = is_tour_dialog_visible;\n    };\n\n    setActiveTour = (active_tour: string): void => {\n        this.active_tour = active_tour;\n    };\n\n    setFileLoaded = (has_file_loaded: boolean): void => {\n        this.has_file_loaded = has_file_loaded;\n        const el_ref = document.getElementById('load-strategy__blockly-container');\n        if (!el_ref) {\n            // eslint-disable-next-line no-console\n            console.warn('Could not find preview workspace element.');\n        }\n    };\n\n    onCloseDialog = (): void => {\n        this.is_dialog_open = false;\n    };\n\n    setActiveTab = (active_tab: number): void => {\n        this.active_tab = active_tab;\n        localStorage.setItem('active_tab', active_tab.toString());\n    };\n\n    setActiveTabTutorial = (active_tab_tutorials: number): void => {\n        this.active_tab_tutorials = active_tab_tutorials;\n    };\n\n    setFAQSearchValue = (faq_search_value: string): void => {\n        this.faq_search_value = faq_search_value;\n    };\n\n    showVideoDialog = (dialog_option: TDialogOptions): void => {\n        const { url, type = '' } = dialog_option;\n        const dialog_type = ['google', 'url'];\n        this.faq_search_value = '';\n        this.setActiveTabTutorial(0);\n        this.resetTutorialTabContent();\n        if (dialog_type.includes(type)) {\n            if (type === 'url') {\n                this.dialog_options = {\n                    url,\n                };\n            }\n            this.is_dialog_open = true;\n        } else {\n            this.is_dialog_open = false;\n        }\n    };\n\n    setInfoPanelVisibility = (is_info_panel_visible: boolean): void => {\n        this.is_info_panel_visible = is_info_panel_visible;\n    };\n\n    onZoomInOutClick = (is_zoom_in: boolean): void => {\n        const workspace = window.Blockly.getMainWorkspace();\n        const metrics = workspace.getMetrics();\n        const addition = is_zoom_in ? 1 : -1;\n\n        workspace.zoom(metrics.viewWidth / 2, metrics.viewHeight / 2, addition);\n    };\n\n    onCloseTour = (): void => {\n        setTourSettings(new Date().getTime(), `${tour_type.key}_token`);\n        this.setActiveTour('');\n    };\n    setTourEnd = (param: TTourType): void => {\n        const { key } = param;\n        if (this.core.ui.is_mobile) this.setTourDialogVisibility(true);\n        setTourSettings(new Date().getTime(), `${key}_token`);\n    };\n\n    onTourEnd = (step: number, is_tour_active: boolean): void => {\n        if (step === 8) {\n            this.onCloseTour();\n            this.setTourEnd(tour_type);\n            this.setActiveTour('');\n        }\n        if (!is_tour_active && step === 3) {\n            this.onCloseTour();\n            this.setTourEnd(tour_type);\n            this.setActiveTour('');\n        }\n    };\n}\n",
            "size_bytes": 15144
        },
        "src/pages/endpoint/index.tsx": {
            "content": "import React from 'react';\nimport { useFormik } from 'formik';\nimport { getAppId, getDefaultAppIdAndUrl, getSocketURL } from '@/components/shared';\nimport { Button, Input, Text } from '@deriv-com/ui';\nimport { LocalStorageConstants } from '@deriv-com/utils';\nimport './endpoint.scss';\nconst Endpoint = () => {\n    const formik = useFormik({\n        initialValues: {\n            appId: localStorage.getItem(LocalStorageConstants.configAppId) ?? getAppId(),\n            serverUrl: localStorage.getItem(LocalStorageConstants.configServerURL) ?? getSocketURL(),\n        },\n        onSubmit: values => {\n            localStorage.setItem(LocalStorageConstants.configServerURL, values.serverUrl);\n            localStorage.setItem(LocalStorageConstants.configAppId, values.appId.toString());\n            formik.resetForm({ values });\n        },\n        validate: values => {\n            const errors: { [key: string]: string } = {};\n            if (!values.serverUrl) {\n                errors.serverUrl = 'This field is required';\n            }\n            if (!values.appId) {\n                errors.appId = 'This field is required';\n            } else if (!/^(0|[1-9]\\d*)(\\.\\d+)?$/.test(values.appId.toString())) {\n                errors.appId = 'Please enter a valid app ID';\n            }\n            return errors;\n        },\n    });\n\n    return (\n        <div className='endpoint'>\n            <Text weight='bold' className='endpoint__title'>\n                Change API endpoint\n            </Text>\n            <form onSubmit={formik.handleSubmit} className='endpoint__form'>\n                <Input\n                    data-testid='dt_endpoint_server_url_input'\n                    label='Server'\n                    name='serverUrl'\n                    message={formik.errors.serverUrl as string}\n                    onBlur={formik.handleBlur}\n                    onChange={formik.handleChange}\n                    value={formik.values.serverUrl}\n                />\n                <Input\n                    data-testid='dt_endpoint_app_id_input'\n                    label='OAuth App ID'\n                    name='appId'\n                    message={formik.errors.appId as string}\n                    onBlur={formik.handleBlur}\n                    onChange={formik.handleChange}\n                    value={formik.values.appId}\n                />\n                <div>\n                    <Button className='endpoint__button' disabled={!formik.dirty || !formik.isValid} type='submit'>\n                        Submit\n                    </Button>\n                    <Button\n                        className='endpoint__button'\n                        color='black'\n                        onClick={() => {\n                            const { server_url, app_id } = getDefaultAppIdAndUrl();\n                            localStorage.setItem(LocalStorageConstants.configServerURL, server_url);\n                            localStorage.setItem(LocalStorageConstants.configAppId, app_id.toString());\n\n                            formik.resetForm({\n                                values: {\n                                    appId: app_id,\n                                    serverUrl: server_url,\n                                },\n                            });\n                            window.location.reload();\n                        }}\n                        variant='outlined'\n                        type='button'\n                    >\n                        Reset to original settings\n                    </Button>\n                </div>\n            </form>\n        </div>\n    );\n};\n\nexport default Endpoint;\n",
            "size_bytes": 3620
        },
        "src/components/route-prompt-dialog/index.ts": {
            "content": "import RoutePromptDialog from './route-prompt-dialog';\n\nexport default RoutePromptDialog;\n",
            "size_bytes": 90
        },
        "src/constants/z-indexes.ts": {
            "content": "export const popover_zindex = Object.freeze({\n    QUICK_STRATEGY: 99999,\n    TOOLBAR: 100,\n    TRANSACTION: 10,\n    SUMMARY_TOOLTIPS: 5,\n    RUN_PANEL: 6,\n});\n",
            "size_bytes": 159
        },
        "src/components/page-error-container/index.ts": {
            "content": "import PageErrorContainer from './page-error-container';\n\nexport default PageErrorContainer;\n",
            "size_bytes": 93
        },
        "src/components/shared_ui/contract-card/contract-card-items/multiplier-card-body.jsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport {\n    getCancellationPrice,\n    getLimitOrderAmount,\n    getTotalProfit,\n    isCryptocurrency,\n    isValidToCancel,\n    isValidToSell,\n} from '@/components/shared';\nimport ArrowIndicator from '../../arrow-indicator';\nimport Money from '../../money';\nimport ContractCardItem from './contract-card-item';\nimport ToggleCardDialog from './toggle-card-dialog';\n\nconst MultiplierCardBody = ({\n    contract_info,\n    contract_update,\n    currency,\n    getCardLabels,\n    has_progress_slider,\n    progress_slider,\n    is_mobile,\n    is_sold,\n    should_show_cancellation_warning,\n    toggleCancellationWarning,\n    ...toggle_card_dialog_props\n}) => {\n    const { buy_price, bid_price, limit_order } = contract_info;\n    const { take_profit, stop_loss } = getLimitOrderAmount(contract_update || limit_order);\n    const cancellation_price = getCancellationPrice(contract_info);\n    const is_valid_to_cancel = isValidToCancel(contract_info);\n    const is_valid_to_sell = isValidToSell(contract_info);\n    const total_profit = getTotalProfit(contract_info);\n    const { CONTRACT_COST, CONTRACT_VALUE, DEAL_CANCEL_FEE, STAKE, STOP_LOSS, TAKE_PROFIT, TOTAL_PROFIT_LOSS } =\n        getCardLabels();\n\n    return (\n        <React.Fragment>\n            <div\n                className={classNames({\n                    'dc-contract-card-items-wrapper--mobile': is_mobile,\n                    'dc-contract-card-items-wrapper': !is_mobile,\n                    'dc-contract-card-items-wrapper--has-progress-slider': has_progress_slider && !is_sold,\n                })}\n            >\n                <ContractCardItem header={CONTRACT_COST} className='dc-contract-card__stake'>\n                    <Money amount={buy_price - cancellation_price} currency={currency} />\n                </ContractCardItem>\n                <ContractCardItem header={CONTRACT_VALUE} className='dc-contract-card__current-stake'>\n                    <div\n                        className={classNames({\n                            'dc-contract-card--profit': total_profit > 0,\n                            'dc-contract-card--loss': total_profit < 0,\n                        })}\n                    >\n                        <Money amount={bid_price} currency={currency} />\n                    </div>\n                    {!is_sold && (\n                        <ArrowIndicator className='dc-contract-card__indicative--movement' value={total_profit} />\n                    )}\n                </ContractCardItem>\n                <ContractCardItem\n                    header={DEAL_CANCEL_FEE}\n                    className={classNames('dc-contract-card__deal-cancel-fee', {\n                        'dc-contract-card__deal-cancel-fee__disabled': !cancellation_price,\n                    })}\n                >\n                    {cancellation_price ? (\n                        <Money amount={cancellation_price} currency={currency} />\n                    ) : (\n                        <React.Fragment>-</React.Fragment>\n                    )}\n                </ContractCardItem>\n                <ContractCardItem header={STAKE} className='dc-contract-card__buy-price'>\n                    <Money amount={buy_price} currency={currency} />\n                </ContractCardItem>\n                {has_progress_slider && is_mobile && !is_sold && (\n                    <ContractCardItem className='dc-contract-card__date-expiry'>{progress_slider}</ContractCardItem>\n                )}\n                <div className='dc-contract-card__limit-order-info'>\n                    <ContractCardItem header={TAKE_PROFIT} className='dc-contract-card__take-profit'>\n                        {take_profit ? <Money amount={take_profit} currency={currency} /> : <strong>-</strong>}\n                    </ContractCardItem>\n                    <ContractCardItem header={STOP_LOSS} className='dc-contract-card__stop-loss'>\n                        {stop_loss ? (\n                            <React.Fragment>\n                                <strong>-</strong>\n                                <Money amount={stop_loss} currency={currency} />\n                            </React.Fragment>\n                        ) : (\n                            <strong>-</strong>\n                        )}\n                    </ContractCardItem>\n                    {(is_valid_to_sell || is_valid_to_cancel) && (\n                        <ToggleCardDialog\n                            contract_id={contract_info.contract_id}\n                            getCardLabels={getCardLabels}\n                            is_valid_to_cancel={is_valid_to_cancel}\n                            should_show_cancellation_warning={should_show_cancellation_warning}\n                            toggleCancellationWarning={toggleCancellationWarning}\n                            {...toggle_card_dialog_props}\n                        />\n                    )}\n                </div>\n            </div>\n            <ContractCardItem\n                className='dc-contract-card-item__total-profit-loss'\n                header={TOTAL_PROFIT_LOSS}\n                is_crypto={isCryptocurrency(currency)}\n                is_loss={total_profit < 0}\n                is_won={total_profit > 0}\n            >\n                <Money amount={Math.abs(total_profit)} currency={currency} />\n                {!is_sold && <ArrowIndicator className='dc-contract-card__indicative--movement' value={total_profit} />}\n            </ContractCardItem>\n        </React.Fragment>\n    );\n};\n\nMultiplierCardBody.propTypes = {\n    addToast: PropTypes.func,\n    contract_info: PropTypes.object,\n    contract_update: PropTypes.object,\n    currency: PropTypes.string,\n    current_focus: PropTypes.string,\n    error_message_alignment: PropTypes.string,\n    getCardLabels: PropTypes.func,\n    getContractById: PropTypes.func,\n    is_mobile: PropTypes.bool,\n    is_sold: PropTypes.bool,\n    onMouseLeave: PropTypes.func,\n    progress_slider: PropTypes.node,\n    removeToast: PropTypes.func,\n    setCurrentFocus: PropTypes.func,\n    should_show_cancellation_warning: PropTypes.bool,\n    toggleCancellationWarning: PropTypes.func,\n    totalProfit: PropTypes.number.isRequired,\n    has_progress_slider: PropTypes.bool,\n};\n\nexport default React.memo(MultiplierCardBody);\n",
            "size_bytes": 6320
        },
        "src/pages/dashboard/announcements/announcement-components.tsx": {
            "content": "import React from 'react';\nimport Text from '@/components/shared_ui/text';\nimport { Icon } from '@/utils/tmp/dummy';\nimport { LabelPairedCircleInfoCaptionBoldIcon } from '@deriv/quill-icons';\n\nexport const IconAnnounce = ({ announce }: { announce: boolean }) => (\n    <>\n        <LabelPairedCircleInfoCaptionBoldIcon fill='var(--text-info-blue)' width='24' height='26' />\n        {announce && <div className='notification__icon--indicator' />}\n    </>\n);\n\nexport const TitleAnnounce = ({ title, announce }: { title: string; announce: boolean }) => (\n    <Text\n        size='xs'\n        line_height='l'\n        weight={announce ? 'bold' : 'normal'}\n        styles={!announce ? { color: 'var(--text-general)' } : {}}\n    >\n        {title}\n    </Text>\n);\n\nexport const MessageAnnounce = ({ message, date, announce }: { message: string; date: string; announce: boolean }) => (\n    <>\n        <Text\n            size='xs'\n            line_height='m'\n            weight={announce ? 'normal' : 'lighter'}\n            styles={!announce ? { color: 'var(--text-general)' } : {}}\n        >\n            {message}\n        </Text>\n        <Text size='xxs' line_height='xl' styles={{ color: 'var(--text-primary)' }}>\n            {date}\n        </Text>\n    </>\n);\n\nexport const IconAnnounceModal = ({ announce_id }: { announce_id: string }) => {\n    switch (announce_id) {\n        case 'MOVING_STRATEGIES_ANNOUNCE': {\n            return <Icon icon='IcMigrateStrategy' className='category-type' style={{ height: 100, width: 140 }} />;\n        }\n        case 'BLOCKLY_ANNOUNCE': {\n            return <Icon icon='IcUpgradeBlockly' className='category-type' style={{ height: 120, width: 120 }} />;\n        }\n        case 'ACCUMULATOR_ANNOUNCE': {\n            return <Icon icon='IcTradetypeAccu' className='category-type' style={{ height: 80, width: 80 }} />;\n        }\n        default:\n            return null;\n    }\n};\n",
            "size_bytes": 1899
        },
        "src/components/shared_ui/arrow-indicator/index.ts": {
            "content": "import ArrowIndicator from './arrow-indicator';\n\nexport default ArrowIndicator;\n",
            "size_bytes": 80
        },
        "src/components/error-component/__tests__/error-component.spec.tsx": {
            "content": "import { render, screen } from '@testing-library/react';\nimport ErrorComponent from '../error-component';\n\ndescribe('<ErrorComponent/>', () => {\n    it('should render PageError component', () => {\n        render(<ErrorComponent header='Error' message='Error message' />);\n        expect(screen.getByText('Error message')).toBeInTheDocument();\n    });\n});\n",
            "size_bytes": 355
        },
        "src/external/bot-skeleton/scratch/accumulators-proposal-handler.js": {
            "content": "import { api_base } from '../services/api';\nimport DBotStore from './dbot-store';\n\nexport const DEFAULT_PROPOSAL_REQUEST = {\n    amount: undefined,\n    basis: 'stake',\n    contract_type: 'ACCU',\n    currency: undefined,\n    underlying_symbol: undefined,\n    growth_rate: undefined,\n    proposal: 1,\n    subscribe: 1,\n};\n\nexport const forgetAccumulatorsProposalRequest = async instance => {\n    if (instance && !instance.is_bot_running) {\n        await api_base?.api?.send({ forget_all: 'proposal' });\n        instance.subscription_id_for_accumulators = null;\n        instance.is_proposal_requested_for_accumulators = false;\n        window.Blockly.accumulators_request = {};\n    }\n};\n\nexport const handleProposalRequestForAccumulators = instance => {\n    const top_parent_block = instance?.getTopParent();\n    const market_block = top_parent_block?.getChildByType('trade_definition_market');\n    const underlying_symbol = market_block?.getFieldValue('SYMBOL_LIST');\n    const currency = DBotStore.instance.client.currency;\n    const growth_rate = instance?.getFieldValue('GROWTHRATE_LIST') || 0.01;\n    const amount = instance?.childBlocks_?.[0]?.getField('NUM')?.getValue() || 0;\n    const proposal_request = {\n        ...DEFAULT_PROPOSAL_REQUEST,\n        amount,\n        currency,\n        underlying_symbol,\n        growth_rate,\n    };\n    window.Blockly.accumulators_request = proposal_request;\n};\n\nexport const requestProposalForQS = (input_values, ws) => {\n    const { amount, currency, symbol, growth_rate, limit_order } = input_values;\n    const { take_profit } = limit_order;\n\n    const proposal_request = {\n        ...DEFAULT_PROPOSAL_REQUEST,\n        amount,\n        currency,\n        underlying_symbol: symbol,\n        growth_rate,\n        subscribe: undefined,\n        limit_order: {\n            take_profit,\n        },\n    };\n\n    return ws\n        ?.send(proposal_request)\n        .then(response => {\n            if (response.error) {\n                return Promise.reject(response.error);\n            }\n            return response;\n        })\n        .catch(error => {\n            throw error;\n        });\n};\n",
            "size_bytes": 2123
        },
        "src/components/shared_ui/progress-slider-mobile/progress-ticks-mobile.tsx": {
            "content": "import Text from '../text';\nimport TickProgress from '../tick-progress';\nimport { TGetCardLables } from '../types';\n\ntype TProgressTicksMobileProps = {\n    current_tick?: number | null;\n    ticks_count: number;\n    getCardLabels: TGetCardLables;\n};\n\nconst ProgressTicksMobile = ({ current_tick, getCardLabels, ticks_count }: TProgressTicksMobileProps) => (\n    <div className='dc-progress-slider__ticks'>\n        <Text styles={{ lineHeight: '18px' }} size='xxs' className='dc-progress-slider__ticks-caption'>\n            {getCardLabels().TICK} {current_tick}\n        </Text>\n        <TickProgress columns={5} rows={ticks_count > 5 ? 2 : 1} size={ticks_count} value={current_tick} />\n    </div>\n);\n\nexport default ProgressTicksMobile;\n",
            "size_bytes": 734
        },
        "src/external/bot-skeleton/services/api/api-helpers.js": {
            "content": "import AccountLimits from './account-limits';\nimport ActiveSymbols from './active-symbols';\nimport ContractsFor from './contracts-for';\nimport TradingTimes from './trading-times';\n\nclass ApiHelpers {\n    static singleton = null;\n\n    constructor(api_helpers_store) {\n        this.trading_times = new TradingTimes(api_helpers_store);\n        this.contracts_for = new ContractsFor(api_helpers_store);\n        this.active_symbols = new ActiveSymbols(this.trading_times);\n        this.account_limits = new AccountLimits(api_helpers_store);\n    }\n\n    static disposeInstance() {\n        this.singleton = null;\n    }\n\n    static setInstance(api_helpers_store) {\n        if (!this.singleton) {\n            this.singleton = new ApiHelpers(api_helpers_store);\n        }\n\n        return this.instance;\n    }\n\n    static get instance() {\n        return this.singleton;\n    }\n}\n\nexport default ApiHelpers;\n",
            "size_bytes": 894
        },
        "src/components/layout/header/common/non-eu-accounts.tsx": {
            "content": "import React from 'react';\nimport clsx from 'clsx';\nimport { localize } from '@deriv-com/translations';\nimport { AccountSwitcher as UIAccountSwitcher } from '@deriv-com/ui';\nimport { TNonEUAccounts } from './types';\n\nconst NonEUAccounts = ({\n    modifiedCRAccountList,\n    modifiedMFAccountList,\n    switchAccount,\n    isVirtual,\n    tabs_labels,\n    is_low_risk_country,\n}: TNonEUAccounts & { residence?: string }) => {\n    if (!is_low_risk_country && modifiedCRAccountList && modifiedCRAccountList?.length === 0) {\n        return null;\n    }\n\n    const account_switcher_title_non_eu =\n        modifiedMFAccountList?.length === 0 ? localize('Deriv accounts') : localize('Non-Eu Deriv account');\n\n    const sortedCRAccountList = [...modifiedCRAccountList].sort((a, b) => {\n        // Remove commas from balance strings before converting to numbers\n        const balanceA = Number(a.balance.toString().replace(/,/g, ''));\n        const balanceB = Number(b.balance.toString().replace(/,/g, ''));\n        return balanceB - balanceA;\n    });\n\n    return (\n        <>\n            <UIAccountSwitcher.AccountsPanel\n                isOpen\n                title={account_switcher_title_non_eu}\n                className='account-switcher-panel'\n                style={{ maxHeight: '220px' }}\n                key={!isVirtual ? tabs_labels.demo.toLowerCase() : tabs_labels?.real.toLowerCase()}\n            >\n                {sortedCRAccountList.map(account => (\n                    <span\n                        className={clsx('account-switcher__item', {\n                            'account-switcher__item--disabled': account.is_disabled,\n                        })}\n                        key={account.loginid}\n                    >\n                        <UIAccountSwitcher.AccountsItem\n                            account={account}\n                            onSelectAccount={() => {\n                                if (!account.is_disabled) switchAccount(account.loginid);\n                            }}\n                        />\n                    </span>\n                ))}\n            </UIAccountSwitcher.AccountsPanel>\n        </>\n    );\n};\n\nexport default NonEUAccounts;\n",
            "size_bytes": 2177
        },
        "src/components/trade-type-confirmation-modal/index.ts": {
            "content": "export { default } from './trade-type-confirmation-modal';\n",
            "size_bytes": 59
        },
        "src/utils/help-content/help-strings/math_arithmetic.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize('This block performs arithmetic operations between two numbers.'),\n        localize('Available operations:'),\n        localize('- Addition'),\n        localize('- Subtraction'),\n        localize('- Multiplication'),\n        localize('- Division'),\n        localize('- Raise the first number to the power of the second number'),\n    ],\n};\n",
            "size_bytes": 442
        },
        "src/external/indicators/index.js": {
            "content": "export * from './indicators/bollinger-bands';\nexport * from './indicators/exponential-moving-average';\nexport * from './indicators/macd';\nexport * from './indicators/relative-strength-index';\nexport * from './indicators/simple-moving-average';\n",
            "size_bytes": 244
        },
        "src/utils/help-content/help-strings/trade_definition_multiplier.tsx": {
            "content": "import StaticUrl from '@/components/shared_ui/static-url';\nimport { Localize, localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize('Use this block when you want to use multipliers as your trade type.'),\n        localize('Click the multiplier drop-down menu and choose the multiplier value you want to trade with.'),\n        localize('Your potential profit will be multiplied by the multiplier value youve chosen.'),\n        <Localize\n            key={0}\n            i18n_default_text='To learn more about multipliers, please go to the <0>Multipliers</0> page.'\n            components={[<StaticUrl key={0} className='link' href='trade-types/multiplier' />]}\n        />,\n    ],\n};\n",
            "size_bytes": 725
        },
        "src/public-path.ts": {
            "content": "export const getUrlBase = (path = '') => {\n    const l = window.location;\n\n    if (!/^\\/(br_)/.test(l.pathname)) return path;\n\n    const get_path = path.startsWith('/') ? path : `/${path}`;\n\n    return `/${l.pathname.split('/')[1]}${get_path}`;\n};\n\nexport function setBotPublicPath(path: string) {\n    window.__webpack_public_path__ = '';\n    window.__webpack_public_path__ = path; // eslint-disable-line no-global-assign\n}\n\nexport const getImageLocation = (image_name: string) => `assets/images/${image_name}`;\n\ndeclare global {\n    interface Window {\n        Survicate?: {\n            track: (attribute: string, value: string) => void;\n        };\n    }\n}\n\nconst setSurvicateUserAttributes = (country: string, type: string, creationDate: string) => {\n    if (window.Survicate) {\n        if (country) window.Survicate.track('userCountry', country);\n        if (type) window.Survicate.track('accountType', type);\n        if (creationDate) window.Survicate.track('accountCreationDate', creationDate);\n    }\n};\n\nlet initSurvicateCalled = false;\nconst setSurvicateCalledValue = (value: boolean) => {\n    initSurvicateCalled = value;\n};\n\nconst loadSurvicateScript = (callback: () => void) => {\n    const script = document.createElement('script');\n    script.id = 'dbot-survicate';\n    script.async = true;\n    script.src = 'https://survey.survicate.com/workspaces/83b651f6b3eca1ab4551d95760fe5deb/web_surveys.js';\n    script.onload = callback;\n\n    const firstScript = document.getElementsByTagName('script')[0];\n    if (firstScript?.parentNode) {\n        firstScript.parentNode.insertBefore(script, firstScript);\n    } else {\n        document.body.appendChild(script);\n    }\n};\n\nconst initSurvicate = () => {\n    if (initSurvicateCalled) return;\n    setSurvicateCalledValue(true);\n    const active_loginid = localStorage.getItem('active_loginid');\n    const client_accounts = JSON.parse(localStorage.getItem('accountsList') as string) || undefined;\n    const setAttributesIfAvailable = () => {\n        if (active_loginid && client_accounts) {\n            const { residence, account_type, created_at } = client_accounts[active_loginid] || {};\n            setSurvicateUserAttributes(residence, account_type, created_at);\n        }\n    };\n\n    if (document.getElementById('dbot-survicate')) {\n        const survicateBox = document.getElementById('survicate-box');\n        if (survicateBox) {\n            survicateBox.style.display = 'block';\n        }\n        setAttributesIfAvailable();\n    } else {\n        loadSurvicateScript(setAttributesIfAvailable);\n    }\n};\n\nexport { initSurvicate, setSurvicateCalledValue };\n\nsetBotPublicPath(getUrlBase('/'));\n",
            "size_bytes": 2646
        },
        "src/components/shared/utils/dom/index.ts": { "content": "export * from './position';\n", "size_bytes": 28 },
        "src/external/bot-skeleton/scratch/blocks/Advanced/List/lists_getSublist.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.lists_getSublist = {\n    init() {\n        this.WHERE_OPTIONS_1 = [\n            [localize('get sub-list from #'), 'FROM_START'],\n            [localize('get sub-list from # from end'), 'FROM_END'],\n            [localize('get sub-list from first'), 'FIRST'],\n        ];\n        this.WHERE_OPTIONS_2 = [\n            [localize('#'), 'FROM_START'],\n            [localize('# from end'), 'FROM_END'],\n            [localize('last'), 'LAST'],\n        ];\n\n        this.appendValueInput('LIST').appendField(localize('in list'));\n        this.appendDummyInput('AT1');\n        this.appendDummyInput('AT2');\n\n        // eslint-disable-next-line no-underscore-dangle\n        const block_color =\n            window.Blockly.Colours.Base.colour ||\n            window.Blockly.Colours.Base.colourSecondary ||\n            window.Blockly.Colours.Base.colourTertiary;\n        this.setColour(block_color);\n\n        this.setOutput(true, null);\n        this.setOutputShape(window.Blockly.OUTPUT_SHAPE_ROUND);\n        this.setInputsInline(true);\n        this.setTooltip(\n            localize('This block creates a list of items from an existing list, using specific item positions.')\n        );\n        this.updateAt(1, true);\n        this.updateAt(2, true);\n    },\n    meta() {\n        return {\n            display_name: localize('Get sub-list'),\n            description: localize(\n                'This block creates a list of items from an existing list, using specific item positions.'\n            ),\n            category: window.Blockly.Categories.List,\n        };\n    },\n    mutationToDom() {\n        const container = document.createElement('mutation');\n        const isAt1 = this.getInput('AT1').type === window.Blockly.INPUT_VALUE;\n        const isAt2 = this.getInput('AT2').type === window.Blockly.INPUT_VALUE;\n\n        container.setAttribute('at1', isAt1);\n        container.setAttribute('at2', isAt2);\n\n        return container;\n    },\n    domToMutation(xmlElement) {\n        const isAt1 = xmlElement.getAttribute('at1') === 'true';\n        const isAt2 = xmlElement.getAttribute('at2') === 'true';\n        this.updateAt(1, isAt1);\n        this.updateAt(2, isAt2);\n    },\n    updateAt(n, isAt) {\n        this.removeInput(`AT${n}`);\n\n        if (isAt) {\n            this.appendValueInput(`AT${n}`).setCheck('Number');\n        } else {\n            this.appendDummyInput(`AT${n}`);\n        }\n\n        const menu = new window.Blockly.FieldDropdown(this[`WHERE_OPTIONS_${n}`], value => {\n            const newAt = ['FROM_START', 'FROM_END'].includes(value);\n            if (newAt !== isAt) {\n                this.updateAt(n, newAt);\n                this.setFieldValue(value, `WHERE${n}`);\n                return null;\n            }\n            return undefined;\n        });\n\n        this.getInput(`AT${n}`).appendField(menu, `WHERE${n}`);\n\n        if (n === 1) {\n            this.moveInputBefore('AT1', 'AT2');\n        }\n\n        this.initSvg();\n        this.renderEfficiently();\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.lists_getSublist = block => {\n    const list =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'LIST',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_MEMBER\n        ) || '[]';\n    const where1 = block.getFieldValue('WHERE1');\n    const where2 = block.getFieldValue('WHERE2');\n\n    let at1, at2, code;\n\n    if (where1 === 'FIRST' && where2 === 'LAST') {\n        code = `${list}.slice(0)`;\n    } else if (list.match(/^\\w+$/) || (where1 !== 'FROM_END' && where2 === 'FROM_START')) {\n        if (where1 === 'FROM_START') {\n            at1 = window.Blockly.JavaScript.javascriptGenerator.getAdjusted(block, 'AT1');\n        } else if (where1 === 'FROM_END') {\n            at1 = window.Blockly.JavaScript.javascriptGenerator.getAdjusted(\n                block,\n                'AT1',\n                1,\n                false,\n                window.Blockly.JavaScript.javascriptGenerator.ORDER_SUBTRACTION\n            );\n            at1 = `${list}.length - ${at1}`;\n        } else if (where1 === 'FIRST') {\n            at1 = '0';\n        }\n\n        if (where2 === 'FROM_START') {\n            at2 = window.Blockly.JavaScript.javascriptGenerator.getAdjusted(block, 'AT2', 1);\n        } else if (where2 === 'FROM_END') {\n            at2 = window.Blockly.JavaScript.javascriptGenerator.getAdjusted(\n                block,\n                'AT2',\n                0,\n                false,\n                window.Blockly.JavaScript.javascriptGenerator.ORDER_SUBTRACTION\n            );\n            at2 = `${list}.length - ${at2}`;\n        } else if (where2 === 'LAST') {\n            at2 = `${list}.length`;\n        }\n\n        code = `${list}.slice(${at1}, ${at2})`;\n    } else {\n        at1 = window.Blockly.JavaScript.javascriptGenerator.getAdjusted(block, 'AT1');\n        at2 = window.Blockly.JavaScript.javascriptGenerator.getAdjusted(block, 'AT2');\n        const where_pascal_case = {\n            FROM_START: 'FromStart',\n            FROM_END: 'FromEnd',\n            FIRST: 'First',\n            LAST: 'Last',\n        };\n\n        const getIndex = (list_name, where, opt_at) => {\n            if (where === 'FIRST') {\n                return '0';\n            } else if (where === 'FROM_END') {\n                return `${list_name}.length - 1 - ${opt_at}`;\n            } else if (where === 'LAST') {\n                return `${list_name}.length - 1`;\n            }\n            return `${opt_at}`;\n        };\n\n        const has_at1 = where1 === 'FROM_END' || where1 === 'FROM_START';\n        const has_at2 = where2 === 'FROM_END' || where2 === 'FROM_START';\n\n        // eslint-disable-next-line no-underscore-dangle\n        const function_name = window.Blockly.JavaScript.javascriptGenerator.provideFunction_(\n            `subsequence${where_pascal_case[where1]}${where_pascal_case[where2]}`,\n            [\n                // eslint-disable-next-line no-underscore-dangle\n                `function ${window.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(\n                    sequence${has_at1 ? ', at1' : ''}${has_at2 ? ', at2' : ''}\n                ) {\n                    var start = ${getIndex('sequence', where1, 'at1')};\n                    var end = ${getIndex('sequence', where2, 'at2')} + 1;\n\n                    return sequence.slice(start, end);\n                }`,\n            ]\n        );\n\n        code = `${function_name}(${list}${has_at1 ? `, ${at1}` : ''}${has_at2 ? `, ${at2}` : ''})`;\n    }\n\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_FUNCTION_CALL];\n};\n",
            "size_bytes": 6768
        },
        "src/external/bot-skeleton/scratch/blocks/Text/text.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../utils';\n\nwindow.Blockly.Blocks.text = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1',\n            args0: [\n                {\n                    type: 'field_input',\n                    name: 'TEXT',\n                },\n            ],\n            inputsInline: true,\n            output: 'String',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Enter some text here'),\n            category: window.Blockly.Categories.Text,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    meta() {\n        return {\n            display_name: localize('Text'),\n            description: localize('A  block that can contain text.'),\n        };\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.text = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const code = window.Blockly.JavaScript.javascriptGenerator.quote_(block.getFieldValue('TEXT'));\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC];\n};\n",
            "size_bytes": 1402
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Indicators/rsia_statement.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.rsia_statement = {\n    protected_statements: ['STATEMENT'],\n    required_child_blocks: ['input_list', 'period'],\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to Relative Strength Index Array {{ dummy }}', {\n                variable: '%1',\n                dummy: '%2',\n            }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: 'rsia',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STATEMENT',\n                    check: null,\n                },\n            ],\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Calculates Relative Strength Index (RSI) list from a list of values with a period'),\n            previousStatement: null,\n            nextStatement: null,\n            category: window.Blockly.Categories.Indicators,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    meta() {\n        return {\n            display_name: localize('Relative Strength Index Array (RSIA)'),\n            description: localize(\n                'Similar to RSI, this block gives you a list of values for each entry in the input list.'\n            ),\n        };\n    },\n    onchange: window.Blockly.Blocks.bb_statement.onchange,\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.rsia_statement = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = window.Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        window.Blockly.Variables.CATEGORY_NAME\n    );\n    const input = block.childValueToCode('input_list', 'INPUT_LIST');\n    const period = block.childValueToCode('period', 'PERIOD');\n    const code = `${var_name} = Bot.rsia(${input}, ${period});\\n`;\n\n    return code;\n};\n",
            "size_bytes": 2403
        },
        "src/app/types.ts": {
            "content": "export type Account = {\n    loginid: string;\n    token: string;\n    currency?: string;\n};\n\nexport type AccountsList = {\n    [key: string]: string;\n};\n\nexport type ClientAccounts = {\n    [key: string]: Account;\n};\n\nexport type ActiveAccount = {\n    currency?: string;\n    loginid: string;\n    token: string;\n};\n\nexport type LoginInfo = {\n    currency?: string;\n    loginid: string;\n    token: string;\n};\n\nexport type AuthorizeResponse = {\n    authorize?: {\n        account_list: Array<{\n            loginid: string;\n        }>;\n    };\n    error?: unknown;\n};\n\nexport type ApiInstance = {\n    authorize: (token: string) => Promise<AuthorizeResponse>;\n    disconnect: () => void;\n};\n\nexport type LoginInfoItem = {\n    token: string;\n    loginid: string;\n};\n\nexport type LocalStorageToken = {\n    loginInfo: LoginInfoItem[];\n    paramsToDelete: string[];\n};\n",
            "size_bytes": 854
        },
        "rsbuild.config.ts": {
            "content": "import { defineConfig } from '@rsbuild/core';\nimport { pluginReact } from '@rsbuild/plugin-react';\nimport { pluginSass } from '@rsbuild/plugin-sass';\n\nconst path = require('path');\n\nexport default defineConfig({\n    plugins: [\n        pluginSass({\n            sassLoaderOptions: {\n                sourceMap: true,\n                sassOptions: {\n                    // includePaths: [path.resolve(__dirname, 'src')],\n                },\n                // additionalData: `@use \"${path.resolve(__dirname, 'src/components/shared/styles')}\" as *;`,\n            },\n            exclude: /node_modules/,\n        }),\n        pluginReact(),\n    ],\n    source: {\n        entry: {\n            index: './src/main.tsx',\n        },\n        define: {\n            'process.env': {\n                TRANSLATIONS_CDN_URL: JSON.stringify(process.env.TRANSLATIONS_CDN_URL),\n                R2_PROJECT_NAME: JSON.stringify(process.env.R2_PROJECT_NAME),\n                CROWDIN_BRANCH_NAME: JSON.stringify(process.env.CROWDIN_BRANCH_NAME),\n                TRACKJS_TOKEN: JSON.stringify(process.env.TRACKJS_TOKEN),\n                APP_ENV: JSON.stringify(process.env.APP_ENV),\n                REF_NAME: JSON.stringify(process.env.REF_NAME),\n                REMOTE_CONFIG_URL: JSON.stringify(process.env.REMOTE_CONFIG_URL),\n                GD_CLIENT_ID: JSON.stringify(process.env.GD_CLIENT_ID),\n                GD_APP_ID: JSON.stringify(process.env.GD_APP_ID),\n                GD_API_KEY: JSON.stringify(process.env.GD_API_KEY),\n                DATADOG_SESSION_REPLAY_SAMPLE_RATE: JSON.stringify(process.env.DATADOG_SESSION_REPLAY_SAMPLE_RATE),\n                DATADOG_SESSION_SAMPLE_RATE: JSON.stringify(process.env.DATADOG_SESSION_SAMPLE_RATE),\n                DATADOG_APPLICATION_ID: JSON.stringify(process.env.DATADOG_APPLICATION_ID),\n                DATADOG_CLIENT_TOKEN: JSON.stringify(process.env.DATADOG_CLIENT_TOKEN),\n                RUDDERSTACK_KEY: JSON.stringify(process.env.RUDDERSTACK_KEY),\n                GROWTHBOOK_CLIENT_KEY: JSON.stringify(process.env.GROWTHBOOK_CLIENT_KEY),\n                GROWTHBOOK_DECRYPTION_KEY: JSON.stringify(process.env.GROWTHBOOK_DECRYPTION_KEY),\n            },\n        },\n    },\n    resolve: {\n        alias: {\n            react: path.resolve('./node_modules/react'),\n            'react-dom': path.resolve('./node_modules/react-dom'),\n            '@/external': path.resolve(__dirname, './src/external'),\n            '@/components': path.resolve(__dirname, './src/components'),\n            '@/hooks': path.resolve(__dirname, './src/hooks'),\n            '@/utils': path.resolve(__dirname, './src/utils'),\n            '@/constants': path.resolve(__dirname, './src/constants'),\n            '@/stores': path.resolve(__dirname, './src/stores'),\n        },\n    },\n    output: {\n        copy: [\n            {\n                from: 'node_modules/@deriv-com/derivatives-charts/dist/*',\n                to: 'js/smartcharts/[name][ext]',\n                globOptions: {\n                    ignore: ['**/*.LICENSE.txt'],\n                },\n            },\n            { from: 'node_modules/@deriv-com/derivatives-charts/dist/chart/assets/*', to: 'assets/[name][ext]' },\n            {\n                from: 'node_modules/@deriv-com/derivatives-charts/dist/chart/assets/fonts/*',\n                to: 'assets/fonts/[name][ext]',\n            },\n            {\n                from: 'node_modules/@deriv-com/derivatives-charts/dist/chart/assets/shaders/*',\n                to: 'assets/shaders/[name][ext]',\n            },\n            { from: path.join(__dirname, 'public') },\n        ],\n    },\n    html: {\n        template: './index.html',\n    },\n    server: {\n        port: 5000,\n        host: '0.0.0.0',\n        compress: true,\n        allowedHosts: 'all',\n    },\n    dev: {\n        hmr: true,\n    },\n    performance: {\n        // Configure Rsbuild's native bundle analyzer\n        bundleAnalyze:\n            process.env.BUNDLE_ANALYZE === 'true'\n                ? {\n                      analyzerMode: 'server',\n                      analyzerHost: 'localhost',\n                      analyzerPort: 8888,\n                      openAnalyzer: true,\n                      generateStatsFile: true,\n                      statsFilename: 'stats.json',\n                  }\n                : undefined,\n    },\n    tools: {\n        rspack: {\n            plugins: [],\n            resolve: {},\n            module: {\n                rules: [\n                    {\n                        test: /\\.xml$/,\n                        exclude: /node_modules/,\n                        use: 'raw-loader',\n                    },\n                ],\n            },\n        },\n    },\n});\n",
            "size_bytes": 4665
        },
        "src/analytics/rudderstack-bot-builder.ts": {
            "content": "import { Analytics, TEvents } from '@deriv-com/analytics';\nimport { ACTION, form_name } from './constants';\n\nexport const rudderStackSendSwitchLoadStrategyTabEvent = ({ load_strategy_tab }: TEvents['ce_bot_form']) => {\n    Analytics.trackEvent('ce_bot_form', {\n        action: ACTION.SWITCH_LOAD_STRATEGY_TAB,\n        form_name,\n        load_strategy_tab,\n        subform_name: 'load_strategy',\n        subpage_name: 'bot_builder',\n    });\n};\n",
            "size_bytes": 443
        },
        "src/components/shared_ui/div100vh-container/div100vh-container.tsx": {
            "content": "/* eslint @typescript-eslint/triple-slash-reference: \"off\" */\n/// <reference path=\"../../../@types/react-div-100vh/react-div-100vh-config.d.ts\" />\nimport React from 'react';\nimport Div100vh from 'react-div-100vh';\n\n/* Div100vh is workaround for getting accurate height of 100vh from browsers on mobile,\n    because using normal css vh is not returning correct screen height */\n/* To adjust max-height using calculation when using height: auto (or no rvh units), pass style props and use rvh unit instead vh,\n        e.g - style={{ maxHeight: calc(100rvh - 100px )}}\n    */\n/* To adjust height using calculation, pass style props and use rvh unit instead vh,\n    e.g - style={{ height: calc(100rvh - 100px )}}\n*/\n/* To manually remove rvh calculation and revert to default browser calculation use is_disabled */\n/* To bypass usage of component altogether, use is_bypassed */\n\ntype TDiv100vhContainer = {\n    height_offset?: string;\n    is_bypassed?: boolean;\n    is_disabled?: boolean;\n    max_height_offset?: string;\n    className?: string;\n    max_autoheight_offset?: string;\n    id?: string;\n} & React.ComponentProps<'div'>;\n\nconst Div100vhContainer = ({\n    children,\n    className,\n    is_bypassed = false,\n    is_disabled = false,\n    id,\n    height_offset,\n    max_autoheight_offset,\n}: React.PropsWithChildren<TDiv100vhContainer>) => {\n    const height_rule = height_offset ? `calc(100rvh - ${height_offset})` : 'calc(100rvh)';\n    const height_style = {\n        height: max_autoheight_offset ? '' : height_rule,\n        maxHeight: max_autoheight_offset ? `calc(100rvh - ${max_autoheight_offset})` : '',\n    };\n    React.useEffect(() => {\n        // forcing resize event to make Div100vh re-render when height_offset has changed:\n        window.dispatchEvent(new Event('resize'));\n    }, [height_offset]);\n    if (is_bypassed) return children as JSX.Element;\n    return (\n        <Div100vh id={id} className={className} style={is_disabled ? {} : height_style} data-testid='dt_div_100_vh'>\n            {children}\n        </Div100vh>\n    );\n};\n\nexport default Div100vhContainer;\n",
            "size_bytes": 2084
        },
        "src/pages/bot-builder/bot-builder.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { observer } from 'mobx-react-lite';\nimport { botNotification } from '@/components/bot-notification/bot-notification';\nimport { notification_message } from '@/components/bot-notification/bot-notification-utils';\nimport { useStore } from '@/hooks/useStore';\nimport { localize } from '@deriv-com/translations';\nimport { useDevice } from '@deriv-com/ui';\nimport { TBlocklyEvents } from 'Types';\nimport LoadModal from '../../components/load-modal';\nimport SaveModal from '../dashboard/bot-list/save-modal';\nimport BotBuilderTourHandler from '../tutorials/dbot-tours/bot-builder-tour';\nimport QuickStrategy1 from './quick-strategy';\nimport WorkspaceWrapper from './workspace-wrapper';\n\nconst BotBuilder = observer(() => {\n    const { dashboard, app, run_panel, toolbar, quick_strategy, blockly_store } = useStore();\n    const { active_tab, active_tour, is_preview_on_popup } = dashboard;\n    const { is_open } = quick_strategy;\n    const { is_running } = run_panel;\n    const { is_loading } = blockly_store;\n    const is_blockly_listener_registered = React.useRef(false);\n    const is_blockly_delete_listener_registered = React.useRef(false);\n    const { isDesktop } = useDevice();\n    const { onMount, onUnmount } = app;\n    const el_ref = React.useRef<HTMLInputElement | null>(null);\n\n    // TODO: fix\n    // const isMounted = useIsMounted();\n    // const { data: remote_config_data } = useRemoteConfig(isMounted());\n    let deleted_block_id: null | string = null;\n\n    React.useEffect(() => {\n        onMount();\n        return () => onUnmount();\n    }, [onMount, onUnmount]);\n\n    React.useEffect(() => {\n        const workspace = window.Blockly?.derivWorkspace;\n        if (workspace && is_running && !is_blockly_listener_registered.current) {\n            is_blockly_listener_registered.current = true;\n            workspace.addChangeListener(handleBlockChangeOnBotRun);\n        } else {\n            removeBlockChangeListener();\n        }\n\n        return () => {\n            if (workspace && is_blockly_listener_registered.current) {\n                removeBlockChangeListener();\n            }\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [is_running]);\n\n    const handleBlockChangeOnBotRun = (e: Event) => {\n        const { is_reset_button_clicked } = toolbar;\n        if (e.type !== 'selected' && !is_reset_button_clicked) {\n            botNotification(notification_message().workspace_change);\n            removeBlockChangeListener();\n        } else if (is_reset_button_clicked) {\n            removeBlockChangeListener();\n        }\n    };\n\n    const removeBlockChangeListener = () => {\n        is_blockly_listener_registered.current = false;\n        window.Blockly?.derivWorkspace?.removeChangeListener(handleBlockChangeOnBotRun);\n    };\n    React.useEffect(() => {\n        const workspace = window.Blockly?.derivWorkspace;\n        if (workspace && !is_blockly_delete_listener_registered.current) {\n            is_blockly_delete_listener_registered.current = true;\n            workspace.addChangeListener(handleBlockDelete);\n        }\n\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [is_loading]);\n\n    const handleBlockDelete = (e: TBlocklyEvents) => {\n        const { is_reset_button_clicked, setResetButtonState } = toolbar;\n        if (e.type === 'undo') {\n            deleted_block_id = null;\n            return;\n        }\n        if (e.type === 'delete' && !is_reset_button_clicked) {\n            deleted_block_id = e.blockId;\n        }\n        if (e.type === 'selected' && deleted_block_id === e.oldElementId) {\n            handleBlockDeleteNotification();\n            deleted_block_id = null;\n        }\n        if (\n            e.type === 'change' &&\n            e.name === 'AMOUNT_LIMITS' &&\n            e.newValue === '(min: 0.35 - max: 50000)' &&\n            is_reset_button_clicked\n        ) {\n            setResetButtonState(false);\n        }\n    };\n\n    const handleBlockDeleteNotification = () => {\n        botNotification(notification_message().block_delete, {\n            label: localize('Undo'),\n            onClick: closeToast => {\n                window.Blockly.derivWorkspace.undo();\n                closeToast?.();\n            },\n        });\n    };\n\n    return (\n        <>\n            <div\n                className={classNames('bot-builder', {\n                    'bot-builder--active': active_tab === 1 && !is_preview_on_popup,\n                    'bot-builder--inactive': is_preview_on_popup,\n                    'bot-builder--tour-active': active_tour,\n                })}\n            >\n                <div id='scratch_div' ref={el_ref}>\n                    <WorkspaceWrapper />\n                </div>\n            </div>\n            {active_tab === 1 && <BotBuilderTourHandler is_mobile={!isDesktop} />}\n            {/* removed this outside from toolbar becuase it needs to loaded seperately without dependency */}\n            <LoadModal />\n            <SaveModal />\n            {is_open && <QuickStrategy1 />}\n        </>\n    );\n});\n\nexport default BotBuilder;\n",
            "size_bytes": 5123
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Indicators/smaa_statement.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.smaa_statement = {\n    protected_statements: ['STATEMENT'],\n    required_child_blocks: ['input_list', 'period'],\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to Simple Moving Average Array {{ dummy }}', {\n                variable: '%1',\n                dummy: '%2',\n            }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: 'smaa',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STATEMENT',\n                    check: null,\n                },\n            ],\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Calculates Simple Moving Average line from a list with a period'),\n            previousStatement: null,\n            nextStatement: null,\n            category: window.Blockly.Categories.Indicators,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Simple Moving Average Array (SMAA)'),\n            description: localize(\n                'Similar to SMA, this block gives you the entire SMA line containing a list of all values for a given period.'\n            ),\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    onchange: window.Blockly.Blocks.bb_statement.onchange,\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.smaa_statement = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = window.Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        window.Blockly.Variables.CATEGORY_NAME\n    );\n    const input = block.childValueToCode('input_list', 'INPUT_LIST');\n    const period = block.childValueToCode('period', 'PERIOD');\n    const code = `${var_name} = Bot.smaa(${input}, ${period});\\n`;\n\n    return code;\n};\n",
            "size_bytes": 2402
        },
        "src/components/shared_ui/desktop-wrapper/index.ts": {
            "content": "import DesktopWrapper from './desktop-wrapper';\nimport './desktop-wrapper.scss';\n\nexport default DesktopWrapper;\n",
            "size_bytes": 113
        },
        "src/external/bot-skeleton/scratch/blocks/Advanced/Functions/procedures_ifreturn.js": {
            "content": "import { localize } from '@deriv-com/translations';\n\n/**\n * Block for conditionally returning a value from a procedure.\n * @this window.Blockly.Block\n */\nwindow.Blockly.Blocks.procedures_ifreturn = {\n    init() {\n        this.hasReturnValue = true;\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('if {{ condition }} return {{ value }}', { condition: '%1', value: '%2' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'CONDITION',\n                },\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                },\n            ],\n            inputsInline: true,\n            colour: window.Blockly.Colours.Special2.colour,\n            colourSecondary: window.Blockly.Colours.Special2.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Special2.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Prematurely returns a value within a function'),\n            category: window.Blockly.Categories.Functions,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Conditional return'),\n            description: localize(\n                'This block returns a value when a condition is true. Use this block within either of the function blocks above.'\n            ),\n        };\n    },\n    /**\n     * Create XML to represent whether this block has a return value.\n     * @return {!Element} XML storage element.\n     * @this window.Blockly.Block\n     */\n    mutationToDom() {\n        const container = document.createElement('mutation');\n        container.setAttribute('value', Number(this.hasReturnValue));\n        return container;\n    },\n    /**\n     * Parse XML to restore whether this block has a return value.\n     * @param {!Element} xmlElement XML storage element.\n     * @this window.Blockly.Block\n     */\n    domToMutation(xmlElement) {\n        const value = xmlElement.getAttribute('value');\n        this.hasReturnValue = value === '1';\n\n        if (!this.hasReturnValue) {\n            this.removeInput('VALUE');\n            this.appendDummyInput('VALUE').appendField(localize('return'));\n            this.initSvg();\n            this.renderEfficiently();\n        }\n    },\n    /**\n     * Called whenever anything on the workspace changes.\n     * Add warning if this flow block is not nested inside a loop.\n     * @param {!window.Blockly.Events.Abstract} e Change event.\n     * @this window.Blockly.Block\n     */\n    onchange(/* e */) {\n        if (!this.workspace.isDragging || this.workspace.isDragging()) {\n            return; // Don't change state at the start of a drag.\n        }\n\n        let legal = false;\n\n        // Is the block nested in a procedure?\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        let block = this;\n        do {\n            if (this.FUNCTION_TYPES.indexOf(block.type) !== -1) {\n                legal = true;\n                break;\n            }\n            block = block.getSurroundParent();\n        } while (block);\n\n        if (legal) {\n            const rerender = () => {\n                this.initSvg();\n                this.renderEfficiently();\n            };\n\n            // If needed, toggle whether this block has a return value.\n            if (block.type === 'procedures_defnoreturn' && this.hasReturnValue) {\n                this.removeInput('VALUE');\n                this.appendDummyInput('VALUE').appendField(localize('return'));\n                rerender();\n                this.hasReturnValue = false;\n            } else if (block.type === 'procedures_defreturn' && !this.hasReturnValue) {\n                this.removeInput('VALUE');\n                this.appendValueInput('VALUE').appendField(localize('return'));\n                rerender();\n                this.hasReturnValue = true;\n            }\n\n            if (!window.Blockly.derivWorkspace.isFlyoutVisible) {\n                this.setDisabled(false);\n            }\n        } else if (!window.Blockly.derivWorkspace.isFlyoutVisible && !this.getInheritedDisabled()) {\n            this.setDisabled(true);\n        }\n    },\n    /**\n     * List of block types that are functions and thus do not need warnings.\n     * To add a new function type add this to your code:\n     * window.Blockly.Blocks['procedures_ifreturn'].FUNCTION_TYPES.push('custom_func');\n     */\n    FUNCTION_TYPES: ['procedures_defnoreturn', 'procedures_defreturn'],\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.procedures_ifreturn = block => {\n    const condition =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'CONDITION',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_NONE\n        ) || 'false';\n\n    let branch;\n    if (block.hasReturnValue) {\n        const value =\n            window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n                block,\n                'VALUE',\n                window.Blockly.JavaScript.javascriptGenerator.ORDER_NONE\n            ) || 'null';\n        branch = `return ${value};\\n`;\n    } else {\n        branch = 'return;\\n';\n    }\n\n    const code = `\n    if (${condition}) {\n        ${branch}\n    }\\n`;\n    return code;\n};\n",
            "size_bytes": 5329
        },
        "src/pages/chart/chart-modal/chart-modal.tsx": {
            "content": "import { Suspense } from 'react';\nimport { observer } from 'mobx-react-lite';\nimport { Loader, useDevice } from '@deriv-com/ui';\nimport ChartModalDesktop from './chart-modal-desktop';\n\nexport const ChartModal = observer(() => {\n    const { isDesktop } = useDevice();\n    return <Suspense fallback={<Loader />}>{isDesktop && <ChartModalDesktop />}</Suspense>;\n});\n\nexport default ChartModal;\n",
            "size_bytes": 391
        },
        "analysis-tool/Benanalysistool-final-main/components/ui/progress.tsx": {
            "content": "'use client'\n\nimport * as React from 'react'\nimport * as ProgressPrimitive from '@radix-ui/react-progress'\n\nimport { cn } from '@/lib/utils'\n\nfunction Progress({\n  className,\n  value,\n  ...props\n}: React.ComponentProps<typeof ProgressPrimitive.Root>) {\n  return (\n    <ProgressPrimitive.Root\n      data-slot=\"progress\"\n      className={cn(\n        'bg-primary/20 relative h-2 w-full overflow-hidden rounded-full',\n        className,\n      )}\n      {...props}\n    >\n      <ProgressPrimitive.Indicator\n        data-slot=\"progress-indicator\"\n        className=\"bg-primary h-full w-full flex-1 transition-all\"\n        style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n      />\n    </ProgressPrimitive.Root>\n  )\n}\n\nexport { Progress }\n",
            "size_bytes": 741
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Indicators/index.js": {
            "content": "import './bb_statement';\nimport './bba_statement';\nimport './ema_statement';\nimport './emaa_statement';\nimport './rsi_statement';\nimport './rsia_statement';\nimport './sma_statement';\nimport './smaa_statement';\nimport './macda_statement';\nimport './Parts';\n",
            "size_bytes": 256
        },
        "src/components/sso-loader/sso-loader.tsx": {
            "content": "import { getImageLocation } from '@/public-path';\nimport { localize } from '@deriv-com/translations';\n\nconst SSOLoader = () => {\n    return (\n        <div className='sso-loader'>\n            <div className='sso-loader__content'>\n                <img src={getImageLocation('sso_loader.gif')} width={234} height={234} alt='loader' />\n                <h3 className='callback__title'>{localize('Getting your account ready')}</h3>\n            </div>\n        </div>\n    );\n};\n\nexport default SSOLoader;\n",
            "size_bytes": 497
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Trade Definition/trade_definition_restartonerror.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { excludeOptionFromContextMenu, modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.trade_definition_restartonerror = {\n    init() {\n        this.jsonInit({\n            message0: localize('Restart last trade on error (bot ignores the unsuccessful trade): {{ checkbox }}', {\n                checkbox: '%1',\n            }),\n            args0: [\n                {\n                    type: 'field_checkbox',\n                    name: 'RESTARTONERROR',\n                    checked: true,\n                    class: 'blocklyCheckbox',\n                },\n            ],\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setNextStatement(false);\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange(/* event */) {\n        if (!this.workspace || window.Blockly.derivWorkspace.isFlyoutVisible || this.workspace.isDragging()) {\n            return;\n        }\n\n        this.enforceLimitations();\n    },\n    customContextMenu(menu) {\n        const menu_items = [localize('Enable Block'), localize('Disable Block')];\n        excludeOptionFromContextMenu(menu, menu_items);\n        modifyContextMenu(menu);\n    },\n    enforceLimitations: window.Blockly.Blocks.trade_definition_market.enforceLimitations,\n    required_inputs: ['RESTARTONERROR'],\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.trade_definition_restartonerror = () => {};\n",
            "size_bytes": 1687
        },
        "src/external/bot-skeleton/scratch/blocks/Logic/logic_boolean.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../utils';\n\nwindow.Blockly.Blocks.logic_boolean = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1',\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'BOOL',\n                    options: [\n                        [localize('true'), 'TRUE'],\n                        [localize('false'), 'FALSE'],\n                    ],\n                },\n            ],\n            inputsInline: true,\n            output: 'Boolean',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns either True or False'),\n            category: window.Blockly.Categories.Logic,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('True-False'),\n            description: localize('This is a single block that returns a boolean value, either true or false.'),\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.logic_boolean = block => {\n    const code = block.getFieldValue('BOOL') === 'TRUE' ? 'true' : 'false';\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC];\n};\n",
            "size_bytes": 1565
        },
        "src/components/contract-card-loading/index.ts": {
            "content": "import ContractCardLoader from './contract-card-loading';\n\nexport default ContractCardLoader;\n",
            "size_bytes": 94
        },
        "analysis-tool/Benanalysistool-final-main/lib/deriv-websocket.ts": {
            "content": "// Deriv WebSocket client with auto-reconnect and connection logging\nexport class DerivWebSocket {\n  private ws: WebSocket | null = null\n  private reconnectAttempts = 0\n  private maxReconnectAttempts = 10\n  private reconnectDelay = 1000\n  private isIntentionallyClosed = false\n  private listeners: Map<string, Set<(data: any) => void>> = new Map()\n  private connectionStatusListeners: Set<(status: \"connected\" | \"disconnected\" | \"reconnecting\") => void> = new Set()\n  private connectionLogs: ConnectionLog[] = []\n\n  constructor(private appId = \"1089\") {}\n\n  connect(): Promise<void> {\n    return new Promise((resolve, reject) => {\n      try {\n        this.isIntentionallyClosed = false\n        const url = `wss://ws.derivws.com/websockets/v3?app_id=${this.appId}`\n        this.logConnection(\"info\", \"Connecting to Deriv WebSocket API\")\n        this.ws = new WebSocket(url)\n\n        this.ws.onopen = () => {\n          this.logConnection(\"info\", \"WebSocket Manager initialized\")\n          this.reconnectAttempts = 0\n          this.reconnectDelay = 1000\n          this.notifyConnectionStatus(\"connected\")\n          resolve()\n        }\n\n        this.ws.onmessage = (event) => {\n          try {\n            const data = JSON.parse(event.data)\n            this.handleMessage(data)\n          } catch (error) {\n            this.logConnection(\"error\", `Failed to parse message: ${error}`)\n          }\n        }\n\n        this.ws.onerror = (error) => {\n          this.logConnection(\"error\", `WebSocket error occurred`)\n          reject(error)\n        }\n\n        this.ws.onclose = () => {\n          this.logConnection(\"info\", \"WebSocket connection closed\")\n          this.notifyConnectionStatus(\"disconnected\")\n\n          if (!this.isIntentionallyClosed) {\n            this.attemptReconnect()\n          }\n        }\n      } catch (error) {\n        this.logConnection(\"error\", `Connection failed: ${error}`)\n        reject(error)\n      }\n    })\n  }\n\n  private attemptReconnect() {\n    if (this.reconnectAttempts >= this.maxReconnectAttempts) {\n      this.logConnection(\"error\", \"Max reconnection attempts reached\")\n      setTimeout(() => {\n        this.reconnectAttempts = 0\n        this.logConnection(\"info\", \"Resetting reconnection attempts, will try again\")\n        this.attemptReconnect()\n      }, 60000) // Wait 1 minute before resetting\n      return\n    }\n\n    this.reconnectAttempts++\n    this.notifyConnectionStatus(\"reconnecting\")\n\n    const delay = Math.min(this.reconnectDelay * Math.pow(2, this.reconnectAttempts - 1), 30000)\n    this.logConnection(\n      \"info\",\n      `Reconnecting in ${delay}ms (attempt ${this.reconnectAttempts}/${this.maxReconnectAttempts})`,\n    )\n\n    setTimeout(() => {\n      this.connect().catch((error) => {\n        this.logConnection(\"error\", `Reconnection failed: ${error}`)\n      })\n    }, delay)\n  }\n\n  private handleMessage(data: any) {\n    const msgType = data.msg_type\n    const listeners = this.listeners.get(msgType)\n\n    if (listeners) {\n      listeners.forEach((callback) => callback(data))\n    }\n\n    const wildcardListeners = this.listeners.get(\"*\")\n    if (wildcardListeners) {\n      wildcardListeners.forEach((callback) => callback(data))\n    }\n  }\n\n  send(message: any): void {\n    if (this.ws && this.ws.readyState === WebSocket.OPEN) {\n      this.ws.send(JSON.stringify(message))\n      this.logConnection(\n        \"info\",\n        `Sent: ${message.ticks ? `Subscribe to ${message.ticks}` : JSON.stringify(message).substring(0, 50)}`,\n      )\n    } else {\n      this.logConnection(\"error\", \"Cannot send message: WebSocket not connected\")\n    }\n  }\n\n  subscribe(msgType: string, callback: (data: any) => void): () => void {\n    if (!this.listeners.has(msgType)) {\n      this.listeners.set(msgType, new Set())\n    }\n\n    this.listeners.get(msgType)!.add(callback)\n\n    return () => {\n      const listeners = this.listeners.get(msgType)\n      if (listeners) {\n        listeners.delete(callback)\n      }\n    }\n  }\n\n  onConnectionStatus(callback: (status: \"connected\" | \"disconnected\" | \"reconnecting\") => void): () => void {\n    this.connectionStatusListeners.add(callback)\n    return () => {\n      this.connectionStatusListeners.delete(callback)\n    }\n  }\n\n  private notifyConnectionStatus(status: \"connected\" | \"disconnected\" | \"reconnecting\") {\n    this.connectionStatusListeners.forEach((callback) => callback(status))\n  }\n\n  subscribeTicks(symbol: string): void {\n    if (!this.isConnected()) {\n      this.logConnection(\"error\", \"Cannot subscribe to ticks: not connected\")\n      return\n    }\n    this.send({\n      ticks: symbol,\n      subscribe: 1,\n    })\n    this.logConnection(\"info\", `Subscribed to ticks for ${symbol}`)\n  }\n\n  unsubscribeTicks(): void {\n    if (!this.isConnected()) {\n      this.logConnection(\"warning\", \"Cannot unsubscribe: not connected\")\n      return\n    }\n    this.send({\n      forget_all: \"ticks\",\n    })\n    this.logConnection(\"info\", \"Unsubscribed from all ticks\")\n  }\n\n  getActiveSymbols(): void {\n    this.send({\n      active_symbols: \"brief\",\n      product_type: \"basic\",\n    })\n    this.logConnection(\"info\", \"Requested active symbols\")\n  }\n\n  disconnect(): void {\n    this.isIntentionallyClosed = true\n    if (this.ws) {\n      this.ws.close()\n      this.ws = null\n      this.logConnection(\"info\", \"Disconnected from WebSocket\")\n    }\n  }\n\n  isConnected(): boolean {\n    return this.ws !== null && this.ws.readyState === WebSocket.OPEN\n  }\n\n  getConnectionLogs(): ConnectionLog[] {\n    return [...this.connectionLogs]\n  }\n\n  private logConnection(type: \"info\" | \"error\" | \"warning\", message: string) {\n    const log: ConnectionLog = {\n      type,\n      message,\n      timestamp: new Date(),\n    }\n    this.connectionLogs.push(log)\n\n    if (this.connectionLogs.length > 100) {\n      this.connectionLogs.shift()\n    }\n\n    const logListeners = this.listeners.get(\"connection_log\")\n    if (logListeners) {\n      logListeners.forEach((callback) => callback(log))\n    }\n  }\n}\n\nexport interface DerivSymbol {\n  symbol: string\n  display_name: string\n  market: string\n  market_display_name: string\n  submarket: string\n  submarket_display_name: string\n  pip_size?: number\n}\n\nexport interface ConnectionLog {\n  type: \"info\" | \"error\" | \"warning\"\n  message: string\n  timestamp: Date\n}\n",
            "size_bytes": 6248
        },
        "src/components/shared/utils/number/index.ts": {
            "content": "export * from './number_util';\n",
            "size_bytes": 31
        },
        "__mocks__/translation.mock.js": {
            "content": "const Localize = ({ i18n_default_text, values }) => {\n    // Replace placeholders in the default text with actual values\n    const localizedText = i18n_default_text.replace(/\\{\\{(\\w+)\\}\\}/g, (match, key) => values[key] || match);\n\n    return localizedText || null;\n};\n\n// Mock for useTranslations hook\nconst useTranslations = () => ({\n    localize: jest.fn((text, args) => {\n        return text.replace(/{{(.*?)}}/g, (_, match) => args[match.trim()]);\n    }),\n    currentLang: 'EN',\n});\n\nconst localize = jest.fn(text => text);\n\nconst getAllowedLanguages = jest.fn(() => ({ EN: 'English', VI: 'Ting Vit' }));\n\nconst initializeI18n = jest.fn(() => {});\n\nexport { getAllowedLanguages, initializeI18n, Localize, localize, useTranslations };\n",
            "size_bytes": 744
        },
        "src/components/shared/utils/login/login.ts": {
            "content": "import { website_name } from '@/utils/site-config';\nimport { generateSignupURL } from '../config';\nimport { domain_app_ids, getAppId, getCurrentProductionDomain } from '../config/config';\nimport { CookieStorage, isStorageSupported, LocalStore } from '../storage/storage';\nimport { urlForCurrentDomain } from '../url';\nimport { deriv_urls } from '../url/constants';\n\nexport const redirectToLogin = (is_logged_in: boolean, language: string, has_params = true, redirect_delay = 0) => {\n    if (!is_logged_in && isStorageSupported(sessionStorage)) {\n        const l = window.location;\n        const redirect_url = has_params ? window.location.href : `${l.protocol}//${l.host}${l.pathname}`;\n        sessionStorage.setItem('redirect_url', redirect_url);\n        setTimeout(() => {\n            const new_href = loginUrl({ language });\n            window.location.href = new_href;\n        }, redirect_delay);\n    }\n};\n\nexport const redirectToSignUp = () => {\n    window.open(generateSignupURL());\n};\n\ntype TLoginUrl = {\n    language: string;\n};\n\nexport const loginUrl = ({ language }: TLoginUrl) => {\n    const server_url = LocalStore.get('config.server_url');\n    const signup_device_cookie = new (CookieStorage as any)('signup_device');\n    const signup_device = signup_device_cookie.get('signup_device');\n    const date_first_contact_cookie = new (CookieStorage as any)('date_first_contact');\n    const date_first_contact = date_first_contact_cookie.get('date_first_contact');\n    const marketing_queries = `${signup_device ? `&signup_device=${signup_device}` : ''}${\n        date_first_contact ? `&date_first_contact=${date_first_contact}` : ''\n    }`;\n    const getOAuthUrl = () => {\n        const current_domain = getCurrentProductionDomain();\n        let oauth_domain = deriv_urls.DERIV_HOST_NAME;\n\n        if (current_domain) {\n            // Extract domain suffix (e.g., 'deriv.me' from 'dbot.deriv.me')\n            const domain_suffix = current_domain.replace(/^[^.]+\\./, '');\n            oauth_domain = domain_suffix;\n        }\n\n        const url = `https://oauth.${oauth_domain}/oauth2/authorize?app_id=${getAppId()}&l=${language}${marketing_queries}&brand=${website_name.toLowerCase()}`;\n        return url;\n    };\n\n    if (server_url && /qa/.test(server_url)) {\n        return `https://${server_url}/oauth2/authorize?app_id=${getAppId()}&l=${language}${marketing_queries}&brand=${website_name.toLowerCase()}`;\n    }\n\n    if (getAppId() === domain_app_ids[window.location.hostname as keyof typeof domain_app_ids]) {\n        return getOAuthUrl();\n    }\n    return urlForCurrentDomain(getOAuthUrl());\n};\n",
            "size_bytes": 2608
        },
        "src/external/bot-skeleton/scratch/blocks/Advanced/List/lists_isEmpty.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.lists_isEmpty = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('list {{ input_list }} is empty', { input_list: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                    check: ['Array'],\n                },\n            ],\n            inputsInline: true,\n            output: 'Boolean',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Checks if a given list is empty'),\n            category: window.Blockly.Categories.List,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Is list empty?'),\n            description: localize(\n                'This block checks if a given list is empty. It returns True if the list is empty, False if otherwise.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            VALUE: null,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.lists_isEmpty = block => {\n    const list =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'VALUE',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_MEMBER\n        ) || '[]';\n    const isVariable = block.workspace.getAllVariables().findIndex(variable => variable.name === list) !== -1;\n\n    const code = isVariable ? `!${list} || !${list}.length` : `!${list}.length`;\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_LOGICAL_NOT];\n};\n",
            "size_bytes": 2006
        },
        "src/components/shared/utils/helpers/start-date.ts": {
            "content": "import moment from 'moment';\nimport { ContractsFor } from '@deriv/api-types';\nimport { toMoment } from '../date';\n\ntype TConfig = {\n    text: string;\n    value: number;\n    sessions: {\n        open: moment.Moment;\n        close: moment.Moment;\n    }[];\n}[];\n\nexport const buildForwardStartingConfig = (\n    contract: ContractsFor['available'][number],\n    forward_starting_dates?: TConfig\n) => {\n    const forward_starting_config: TConfig = [];\n\n    // forward_starting_options field may not be available in API response anymore\n    if (contract.forward_starting_options && contract.forward_starting_options.length) {\n        contract.forward_starting_options.forEach(option => {\n            const duplicated_option = forward_starting_config.find(opt => opt.value === parseInt(option.date ?? ''));\n            const current_session = { open: toMoment(option.open), close: toMoment(option.close) };\n            if (duplicated_option) {\n                duplicated_option.sessions.push(current_session);\n            } else {\n                forward_starting_config.push({\n                    text: toMoment(option.date).format('ddd - DD MMM, YYYY'),\n                    value: parseInt(option.date ?? ''),\n                    sessions: [current_session],\n                });\n            }\n        });\n    }\n\n    return forward_starting_config.length ? forward_starting_config : forward_starting_dates;\n};\n",
            "size_bytes": 1402
        },
        "src/constants/quick-strategies/oscars_grind.ts": {
            "content": "import { getImageLocation } from '../../public-path';\nimport { localize } from '@deriv-com/translations';\nimport { TDescriptionItem } from '../../pages/bot-builder/quick-strategy/types';\n\nexport const OSCARS_GRIND = (): TDescriptionItem[] => [\n    {\n        type: 'subtitle',\n        content: [localize('Exploring the Oscars Grind strategy in Deriv Bot')],\n        expanded: true,\n        no_collapsible: false,\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                'The Oscars Grind strategy is designed to potentially gain a modest yet steady profit in each trading session. This strategy splits trades into sessions and has three principles.'\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('Key parameters')],\n    },\n    {\n        type: 'text',\n        content: [localize('These are the trade parameters used for Oscars Grind strategy in Deriv Bot.')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                '<strong>Initial stake:</strong> The starting trade amount. Stake is reverted to this amount when a session completes.'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                '<strong>Profit threshold:</strong> The bot will stop trading if your total profit exceeds this amount.'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                '<strong>Loss threshold:</strong> The bot will stop trading if your total loss exceeds this amount.'\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('An example of Oscars Grind strategy')],\n    },\n    {\n        type: 'media',\n        src: getImageLocation('oscars_grind.png'),\n        alt: localize('An example of Oscars Grind strategy'),\n    },\n    {\n        type: 'text',\n        content: [\n            localize('<strong>Principle 1: Strategy aims to potentially make one unit of profit per session</strong>'),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                'The table above demonstrates this principle by showing that when a successful trade occurs and meets the target of one unit of potential profit which is 1 USD in this example, the session ends. If trading continues, a new session will begin.'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                '<strong>Principle 2: The stake only increases when a loss trade is followed by a successful trade</strong>'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                \"The table illustrates this principle in the second session. After a trade resulting in loss in round 4 followed by a successful trade in round 5, the stake will increase to 2 USD for round 6. This is in line with the strategy's rule of raising the stake only after a loss is followed by a successful trade.\"\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                '<strong>Principle 3: The stake adjusts to the gap size between current loss and the target profit for the session</strong>'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                'In round 7, the stake is adjusted downwards from 2 USD to 1 USD, to meet the target profit of 1 USD.'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize('The stake adjustment: target session profit (1 USD) - current session profit (0 USD) = 1 USD'),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                'The second session concludes upon reaching the aim of one unit of potential profit per session, equivalent to 1 USD. If trading continues, a new session will commence again.'\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('Profit and loss thresholds')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                'With Deriv Bot, traders can set the profit and loss thresholds to secure potential profits and limit potential losses. This means that the trading bot will automatically stop when either the profit or loss threshold is reached. This is a form of risk management that can potentially boost successful trades whilst limiting the impact of loss. For example, if a trader sets the profit threshold at 100 USD and the strategy exceeds 100 USD of profit from all trades, then the bot will stop running.'\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('Summary')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                \"The Oscar's Grind strategy provides a disciplined approach for incremental gains through systematic stake progression. When integrated into Deriv Bot with proper risk management like profit or loss thresholds, it offers traders a potentially powerful automated trading technique. However, traders should first thoroughly assess their risk tolerance and first try trading on a demo account in order to familiarise with the strategy before trading with real funds.\"\n            ),\n        ],\n    },\n    {\n        type: 'text_italic',\n        content: [localize('<strong>Disclaimer:</strong>')],\n    },\n    {\n        type: 'text_italic',\n        content: [\n            localize(\n                'Please be aware that while we may use rounded figures for illustration, a stake of a specific amount does not guarantee an exact amount in successful trades. For example, a 1 USD stake does not necessarily equate to a 1 USD profit in successful trades.'\n            ),\n        ],\n    },\n    {\n        type: 'text_italic',\n        content: [\n            localize(\n                'Trading inherently involves risks, and actual profits can fluctuate due to various factors, including market volatility and other unforeseen variables. As such, exercise caution and conduct thorough research before engaging in any trading activities.'\n            ),\n        ],\n    },\n];\n",
            "size_bytes": 6280
        },
        "src/components/flyout/help-contents/flyout-img.tsx": {
            "content": "type TFlyoutImageProps = {\n    width: string;\n    url: string;\n};\n\nconst FlyoutImage = (props: TFlyoutImageProps) => {\n    const { width, url } = props;\n    const style = { width };\n\n    return (\n        <div className='flyout__item' data-testid='dt_flyout_image'>\n            <img src={url} className='flyout__image' style={style} />\n        </div>\n    );\n};\n\nexport default FlyoutImage;\n",
            "size_bytes": 389
        },
        "src/utils/help-content/help-strings/controls_if.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize('This block evaluates a statement and will perform an action only when the statement is true.'),\n        localize('Click the plus icon to extend the functionality of this block.'),\n        localize('You can also use \"Compare\" and \"Logic operation\" blocks to make test variables.'),\n    ],\n};\n",
            "size_bytes": 397
        },
        "src/pages/callback/index.ts": {
            "content": "import CallbackPage from './callback-page';\n\nexport default CallbackPage;\n",
            "size_bytes": 74
        },
        "analysis-tool/Benanalysistool-final-main/components/charts/streak-display.tsx": {
            "content": "\"use client\"\n\nimport { motion } from \"framer-motion\"\n\ninterface StreakDisplayProps {\n  streaks: { digit: number; count: number }[]\n}\n\nexport function StreakDisplay({ streaks }: StreakDisplayProps) {\n  if (streaks.length === 0) {\n    return (\n      <div className=\"text-center py-8 text-muted-foreground\">\n        No significant streaks detected (minimum 2 consecutive digits)\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n      {streaks.map((streak, index) => (\n        <motion.div\n          key={`${streak.digit}-${index}`}\n          initial={{ opacity: 0, scale: 0.9 }}\n          animate={{ opacity: 1, scale: 1 }}\n          transition={{ delay: index * 0.1 }}\n          className=\"neomorph-inset rounded-xl p-4 text-center\"\n        >\n          <div className=\"text-4xl font-bold text-primary mb-2\">{streak.digit}</div>\n          <div className=\"text-sm text-muted-foreground\">{streak.count}x streak</div>\n        </motion.div>\n      ))}\n    </div>\n  )\n}\n",
            "size_bytes": 1006
        },
        "src/utils/help-content/help-strings/index.ts": {
            "content": "export { default as after_purchase } from './after_purchase';\nexport { default as balance } from './balance';\nexport { default as before_purchase } from './before_purchase';\nexport { default as check_direction } from './check_direction';\nexport { default as console } from './console';\nexport { default as contract_check_result } from './contract_check_result';\nexport { default as controls_flow_statements } from './controls_flow_statements';\nexport { default as controls_for } from './controls_for';\nexport { default as controls_forEach } from './controls_forEach';\nexport { default as controls_if } from './controls_if';\nexport { default as controls_whileUntil } from './controls_whileUntil';\nexport { default as during_purchase } from './during_purchase';\nexport { default as epoch } from './epoch';\nexport { default as get_ohlc } from './get_ohlc';\nexport { default as is_candle_black } from './is_candle_black';\nexport { default as last_digit } from './last_digit';\nexport { default as logic_operation } from './logic_operation';\nexport { default as math_arithmetic } from './math_arithmetic';\nexport { default as math_constrain } from './math_constrain';\nexport { default as math_single } from './math_single';\nexport { default as notify_telegram } from './notify_telegram';\nexport { default as ohlc } from './ohlc';\nexport { default as ohlc_values } from './ohlc_values';\nexport { default as ohlc_values_in_list } from './ohlc_values_in_list';\nexport { default as procedures_ifreturn } from './procedures_ifreturn';\nexport { default as read_details } from './read_details';\nexport { default as read_ohlc } from './read_ohlc';\nexport { default as read_ohlc_obj } from './read_ohlc_obj';\nexport { default as sell_at_market } from './sell_at_market';\nexport { default as sell_price } from './sell_price';\nexport { default as sma_statement } from './sma_statement';\nexport { default as text_print } from './text_print';\nexport { default as text_prompt_ext } from './text_prompt_ext';\nexport { default as tick_analysis } from './tick_analysis';\nexport { default as todatetime } from './todatetime';\nexport { default as totimestamp } from './totimestamp';\nexport { default as trade_again } from './trade_again';\nexport { default as trade_definition } from './trade_definition';\nexport { default as trade_definition_multiplier } from './trade_definition_multiplier';\nexport { default as trade_definition_tradeoptions } from './trade_definition_tradeoptions';\nexport { default as variables_set } from './variables_set';\n",
            "size_bytes": 2520
        },
        "__mocks__/react-dom-server.js": {
            "content": "module.exports = {\n    renderToString: jest.fn(() => '<div>mocked HTML</div>'),\n    renderToStaticMarkup: jest.fn(() => '<Xml xmlns=`http://www.w3.org/1999/xhtml` id=`toolbox`>mocked XML</Xml>'),\n};\n",
            "size_bytes": 199
        },
        "src/external/bot-skeleton/utils/error-handling.js": {
            "content": "import { error_message_map } from './error-config';\nimport { observer } from './observer';\n\nconst onKeyDownHandleError = event => {\n    if (window.Blockly.getSelected() !== null && window.Blockly.getSelected().parentBlock_ === null) {\n        if (event.key === 'Delete' || event.key === 'Backspace') {\n            handleError('BLOCK_DELETION', observer);\n        }\n    }\n};\n\nexport const removeErrorHandlingEventListener = (type = 'keydown') => {\n    window.removeEventListener(type, onKeyDownHandleError);\n};\n\nexport const initErrorHandlingListener = (type = 'keydown') => {\n    window.addEventListener(type, onKeyDownHandleError);\n};\n\nexport const handleError = (errorCode, observer) => {\n    switch (errorCode) {\n        case 'BLOCK_DELETION':\n            if (error_message_map?.()?.[window.Blockly.getSelected().type]) {\n                observer.emit('ui.log.error', error_message_map?.()?.[window.Blockly.getSelected().type]?.default);\n            }\n            break;\n        default:\n            break;\n    }\n};\n",
            "size_bytes": 1019
        },
        "src/components/shared/utils/url/constants.ts": {
            "content": "const isBrowser = () => typeof window !== 'undefined';\n\nconst deriv_com_url = 'deriv.com';\nconst deriv_me_url = 'deriv.me';\nconst deriv_be_url = 'deriv.be';\n\nconst supported_domains = [deriv_com_url, deriv_me_url, deriv_be_url];\nconst domain_url_initial = (isBrowser() && window.location.hostname.split('app.')[1]) || '';\nconst domain_url = supported_domains.includes(domain_url_initial) ? domain_url_initial : deriv_com_url;\n\nexport const deriv_urls = Object.freeze({\n    DERIV_HOST_NAME: domain_url,\n    DERIV_COM_PRODUCTION: `https://${domain_url}`,\n    DERIV_COM_PRODUCTION_EU: `https://eu.${domain_url}`,\n    DERIV_COM_STAGING: `https://staging.${domain_url}`,\n    DERIV_APP_PRODUCTION: `https://app.${domain_url}`,\n    DERIV_APP_STAGING: `https://staging-app.${domain_url}`,\n    SMARTTRADER_PRODUCTION: `https://smarttrader.${domain_url}`,\n    SMARTTRADER_STAGING: `https://staging-smarttrader.${domain_url}`,\n    BINARYBOT_PRODUCTION: `https://bot.${domain_url}`,\n    BINARYBOT_STAGING: `https://staging-bot.${domain_url}`,\n});\n",
            "size_bytes": 1035
        },
        "analysis-tool/Benanalysistool-final-main/components/ui/input.tsx": {
            "content": "import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n",
            "size_bytes": 968
        },
        "src/components/shared_ui/mobile-full-page-modal/index.ts": {
            "content": "import MobileFullPageModal from './mobile-full-page-modal';\nimport './mobile-full-page-modal.scss';\n\nexport default MobileFullPageModal;\n",
            "size_bytes": 137
        },
        "src/utils/help-content/help-strings/ohlc_values.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize(\n            'This block gives you the selected candle value from a list of candles within the selected time interval. You can choose from open price, close price, high price, low price, and open time.'\n        ),\n        localize(\n            'In this example, the open prices from a list of candles are assigned to a variable called \"candle_list\".'\n        ),\n    ],\n};\n",
            "size_bytes": 477
        },
        "src/pages/dashboard/dashboard.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { observer } from 'mobx-react-lite';\nimport Text from '@/components/shared_ui/text';\nimport { useStore } from '@/hooks/useStore';\nimport { localize } from '@deriv-com/translations';\nimport { useDevice } from '@deriv-com/ui';\nimport OnboardTourHandler from '../tutorials/dbot-tours/onboarding-tour';\nimport Announcements from './announcements';\nimport Cards from './cards';\nimport InfoPanel from './info-panel';\n\ntype TMobileIconGuide = {\n    handleTabChange: (active_number: number) => void;\n};\n\nconst DashboardComponent = observer(({ handleTabChange }: TMobileIconGuide) => {\n    const { load_modal, dashboard, client } = useStore();\n    const { dashboard_strategies } = load_modal;\n    const { active_tab, active_tour } = dashboard;\n    const has_dashboard_strategies = !!dashboard_strategies?.length;\n    const { isDesktop, isTablet } = useDevice();\n\n    return (\n        <React.Fragment>\n            <div\n                className={classNames('tab__dashboard', {\n                    'tab__dashboard--tour-active': active_tour,\n                })}\n            >\n                <div className='tab__dashboard__content'>\n                    {client.is_logged_in && (\n                        <Announcements is_mobile={!isDesktop} is_tablet={isTablet} handleTabChange={handleTabChange} />\n                    )}\n                    <div className='quick-panel'>\n                        <div\n                            className={classNames('tab__dashboard__header', {\n                                'tab__dashboard__header--listed': isDesktop && has_dashboard_strategies,\n                            })}\n                        >\n                            {!has_dashboard_strategies && (\n                                <Text\n                                    className='title'\n                                    as='h2'\n                                    color='prominent'\n                                    size={isDesktop ? 'sm' : 's'}\n                                    lineHeight='xxl'\n                                    weight='bold'\n                                >\n                                    {localize('Load or build your bot')}\n                                </Text>\n                            )}\n                            <Text\n                                as='p'\n                                color='prominent'\n                                lineHeight='s'\n                                size={isDesktop ? 's' : 'xxs'}\n                                className={classNames('subtitle', { 'subtitle__has-list': has_dashboard_strategies })}\n                            >\n                                {localize(\n                                    'Import a bot from your computer or Google Drive, build it from scratch, or start with a quick strategy.'\n                                )}\n                            </Text>\n                        </div>\n                        <Cards has_dashboard_strategies={has_dashboard_strategies} is_mobile={!isDesktop} />\n                    </div>\n                </div>\n            </div>\n            <InfoPanel />\n            {active_tab === 0 && <OnboardTourHandler is_mobile={!isDesktop} />}\n        </React.Fragment>\n    );\n});\n\nexport default DashboardComponent;\n",
            "size_bytes": 3326
        },
        "src/hooks/useIntercom.ts": {
            "content": "import { useEffect, useState } from 'react';\nimport { useScript } from 'usehooks-ts';\nimport useRemoteConfig from './growthbook/useRemoteConfig';\n\nexport const useIntercom = (token: string | null) => {\n    const intercom_script = 'https://static.deriv.com/scripts/intercom/v1.0.2.js';\n    const { data } = useRemoteConfig(true);\n    const { cs_chat_intercom } = data;\n    const scriptStatus = useScript(cs_chat_intercom ? intercom_script : null);\n\n    useEffect(() => {\n        if (!cs_chat_intercom || scriptStatus !== 'ready' || !window?.DerivInterCom) return;\n\n        let intervalId: NodeJS.Timeout;\n\n        const initIntercom = () => {\n            window.DerivInterCom.initialize({\n                hideLauncher: true,\n                token,\n            });\n\n            intervalId = setInterval(() => {\n                if (window?.Intercom) {\n                    clearInterval(intervalId);\n                }\n            }, 500);\n        };\n\n        initIntercom();\n\n        return () => {\n            clearInterval(intervalId);\n        };\n    }, [cs_chat_intercom, scriptStatus, token]);\n};\n\nexport const useIsIntercomAvailable = () => {\n    const [is_ready, setIsReady] = useState(false);\n\n    useEffect(() => {\n        const TIMEOUT_DURATION = 5000;\n        const startTime = Date.now();\n\n        const checkIntercom = setInterval(() => {\n            if (typeof window.Intercom === 'function') {\n                setIsReady(true);\n                clearInterval(checkIntercom);\n            } else if (Date.now() - startTime >= TIMEOUT_DURATION) {\n                clearInterval(checkIntercom);\n            }\n        }, 100);\n\n        return () => clearInterval(checkIntercom);\n    }, []);\n\n    return is_ready;\n};\n\nexport default useIntercom;\n",
            "size_bytes": 1748
        },
        "src/external/indicators/indicators/bollinger-bands.js": {
            "content": "import { sequence } from '@/components/shared';\nimport { stddev, takeLast } from '../utils/math';\nimport { simpleMovingAverage } from './simple-moving-average';\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  type: 'SMA' | 'WMA' | 'EMA' | 'TEMA' | 'TRIMA',\n *  stdDevUp: number,\n *  stdDevDown: number,\n *  pipSize: number,\n * }\n */\nexport const bollingerBands = (data, config) => {\n    const { periods = 20, field, stdDevUp = 2, stdDevDown = 2, pipSize = 2 } = config;\n    const vals = takeLast(data, periods, field);\n    const middle = simpleMovingAverage(vals, { periods });\n    const std_dev = stddev(vals);\n    const upper = middle + std_dev * stdDevUp;\n    const lower = middle - std_dev * stdDevDown;\n\n    return [+middle.toFixed(pipSize), +upper.toFixed(pipSize), +lower.toFixed(pipSize)];\n};\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  type: 'SMA' | 'WMA' | 'EMA' | 'TEMA' | 'TRIMA',\n *  stdDevUp: number,\n *  stdDevDown: number,\n *  pipSize: number,\n * }\n */\nexport const bollingerBandsArray = (data, config) => {\n    const { periods } = config;\n    return sequence(data.length - periods + 1).map((x, i) => bollingerBands(data.slice(i, i + periods), config));\n};\n",
            "size_bytes": 1359
        },
        "src/components/shared/utils/number/number_util.ts": {
            "content": "export const cryptoMathRandom = () => {\n    const random_array = new Uint8Array(1);\n    const random_value = crypto.getRandomValues(random_array)[0];\n    return random_value / (2 ** 8 - 0.1);\n};\n",
            "size_bytes": 195
        },
        "src/components/contract-result-overlay/index.ts": {
            "content": "import ContractResultOverlay from './contract-result-overlay';\nimport './contract-result-overlay.scss';\n\nexport default ContractResultOverlay;\n",
            "size_bytes": 143
        },
        "src/components/trade-animation/contract-stage-text.tsx": {
            "content": "import React from 'react';\nimport { contract_stages } from '@/constants/contract-stage';\nimport { Localize } from '@deriv-com/translations';\n\ntype TContractStageText = {\n    contract_stage: number | undefined;\n};\n\nexport const text_contract_stages = Object.freeze({\n    NOT_RUNNING: 'Bot is not running',\n    STARTING: 'Bot is starting',\n    RUNNING: 'Bot running',\n    PURCHASE_SENT: 'Buying contract',\n    PURCHASE_RECEIVED: 'Contract bought',\n    IS_STOPPING: 'Bot is stopping',\n    CONTRACT_CLOSED: 'Contract closed',\n});\n\nconst ContractStageText: React.FC<TContractStageText> = ({ contract_stage }) => {\n    const stage = contract_stage !== undefined ? contract_stage : contract_stages.NOT_RUNNING;\n\n    switch (stage) {\n        case contract_stages.STARTING:\n            return <Localize i18n_default_text={text_contract_stages.STARTING} />;\n        case contract_stages.RUNNING:\n            return <Localize i18n_default_text={text_contract_stages.RUNNING} />;\n        case contract_stages.PURCHASE_SENT:\n            return <Localize i18n_default_text={text_contract_stages.PURCHASE_SENT} />;\n        case contract_stages.PURCHASE_RECEIVED:\n            return <Localize i18n_default_text={text_contract_stages.PURCHASE_RECEIVED} />;\n        case contract_stages.IS_STOPPING:\n            return <Localize i18n_default_text={text_contract_stages.IS_STOPPING} />;\n        case contract_stages.CONTRACT_CLOSED:\n            return <Localize i18n_default_text={text_contract_stages.CONTRACT_CLOSED} />;\n        case contract_stages.NOT_RUNNING:\n        default:\n            return <Localize i18n_default_text={text_contract_stages.NOT_RUNNING} />;\n    }\n};\n\nexport default ContractStageText;\n",
            "size_bytes": 1693
        },
        "src/external/bot-skeleton/scratch/blocks/Text/text_isEmpty.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { emptyTextValidator, modifyContextMenu } from '../../utils';\n\nwindow.Blockly.Blocks.text_isEmpty = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('text {{ input_text }} is empty', { input_text: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                    check: ['String'],\n                },\n            ],\n            output: 'Boolean',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Tests if a given text string is empty'),\n            category: window.Blockly.Categories.Text,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    meta() {\n        return {\n            display_name: localize('Text Is empty'),\n            description: localize('Tests whether a string of text is empty. Returns a boolean value (true or false).'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            VALUE: emptyTextValidator,\n        };\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.text_isEmpty = block => {\n    const text =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'VALUE',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_MEMBER\n        ) || \"''\";\n    const isVariable = block.workspace.getAllVariables().findIndex(variable => variable.name === text) !== -1;\n\n    const code = isVariable ? `!${text} || !${text}.length` : `!${text}.length`;\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_LOGICAL_NOT];\n};\n",
            "size_bytes": 1947
        },
        "src/pages/dashboard/index.tsx": {
            "content": "import { observer } from 'mobx-react-lite';\nimport { useStore } from '../../hooks/useStore';\n\nconst Dashboard = observer(() => {\n    const { ui } = useStore();\n    const { isAuthorized } = ui;\n    return (\n        <div style={{ paddingTop: '12px' }}>\n            <div>Dashboard observing from mobx store.</div>\n            <div>isAuthorized: {isAuthorized.toString()}</div>\n        </div>\n    );\n});\n\nexport default Dashboard;\n",
            "size_bytes": 427
        },
        "src/utils/bot-notifications.ts": {
            "content": "import { TNotificationMessage } from '@deriv/stores/types';\nimport { localize } from '@deriv-com/translations';\nimport { BrandConstants } from '@deriv-com/utils';\n\nconst { platforms } = BrandConstants;\n\nexport const switch_account_notification = () => ({\n    key: 'bot_switch_account',\n    header: localize('You have switched accounts.'),\n    message: localize(\n        'Our system will finish any Deriv Bot trades that are running, and Deriv Bot will not place any new trades.'\n    ),\n    type: 'warning',\n    is_persistent: true,\n});\n\nexport const journalError = (onClick: () => void): TNotificationMessage => {\n    return {\n        key: 'bot_error',\n        header: localize('The bot encountered an error while running.'),\n        action: {\n            text: localize('View in Journal'),\n            onClick,\n        },\n        type: 'danger',\n        platform: platforms.dBot,\n        is_disposable: true,\n    };\n};\n",
            "size_bytes": 920
        },
        "src/components/journal/journal-components/filter-dialog.tsx": {
            "content": "import React from 'react';\nimport { useOnClickOutside } from '@/hooks/useOnClickOutside';\nimport { TFilterDialogProps } from '../journal.types';\nimport Filters from './filters';\n\nconst FilterDialog = ({\n    toggle_ref,\n    checked_filters,\n    filters,\n    filterMessage,\n    is_filter_dialog_visible,\n    toggleFilterDialog,\n}: TFilterDialogProps) => {\n    const wrapper_ref = React.useRef<HTMLDivElement>(null);\n    const validateClickOutside = (event: React.ChangeEvent<HTMLInputElement>) =>\n        is_filter_dialog_visible && !toggle_ref.current?.contains(event.target);\n\n    useOnClickOutside(wrapper_ref, toggleFilterDialog, validateClickOutside);\n\n    return (\n        <Filters\n            wrapper_ref={wrapper_ref}\n            checked_filters={checked_filters}\n            filters={filters}\n            filterMessage={filterMessage}\n            className='filter-dialog'\n        />\n    );\n};\n\nexport default FilterDialog;\n",
            "size_bytes": 931
        },
        "src/components/trade-animation/index.ts": {
            "content": "import TradeAnimation from './trade-animation';\nimport './trade-animation.scss';\n\nexport default TradeAnimation;\n",
            "size_bytes": 113
        },
        "src/components/shared/utils/browser/browser_detect.ts": {
            "content": "declare global {\n    interface Window {\n        safari?: { pushNotification: () => void };\n        HTMLElement: HTMLElement & string;\n    }\n}\n\nexport const isSafari = () => {\n    return (\n        /constructor/i.test(window.HTMLElement) ||\n        (function (p) {\n            return p.toString() === '[object SafariRemoteNotification]';\n        })(!window.safari || (typeof window.safari !== 'undefined' && window.safari.pushNotification))\n    );\n};\n\nconst getUserBrowser = () => {\n    // We can't rely only on navigator.userAgent.index, the verification order is also important\n    if ((navigator.userAgent.indexOf('Opera') || navigator.userAgent.indexOf('OPR')) !== -1) {\n        return 'Opera';\n    } else if (navigator.userAgent.indexOf('Edg') !== -1) {\n        return 'Edge';\n    } else if (navigator.userAgent.indexOf('Chrome') !== -1) {\n        return 'Chrome';\n    } else if (navigator.userAgent.indexOf('Safari') !== -1) {\n        return 'Safari';\n    } else if (navigator.userAgent.indexOf('Firefox') !== -1) {\n        return 'Firefox';\n    }\n    return 'unknown';\n};\n\nexport const isSafariBrowser = () => getUserBrowser() === 'Safari';\n",
            "size_bytes": 1146
        },
        "src/components/shared_ui/types/common.types.ts": {
            "content": "import React from 'react';\nimport { getCardLabels } from '@/components/shared/utils/constants';\nimport { getContractTypeDisplay } from '@/constants/contract';\n\nexport type TGenericObjectType = {\n    [key: string]: React.ReactNode;\n};\nexport type TGetCardLables = () => ReturnType<typeof getCardLabels>;\n\nexport type TGetContractTypeDisplay = (\n    type: string,\n    options: TContractOptions\n) => ReturnType<typeof getContractTypeDisplay>;\n\nexport type TItem = {\n    id: string;\n    value: Array<TItem> | string;\n};\n\nexport type TTableRowItem =\n    | {\n          message?: string;\n          component?: React.ReactElement;\n      }\n    | string;\n\nexport type TRow = { [key: string]: any };\n\nexport type TPassThrough = { isTopUp: (item: TRow) => boolean };\n\nexport type TDatePickerOnChangeEvent = {\n    date?: string;\n    duration?: number | null | string;\n    target?: { name?: string; value?: number | string | moment.Moment | null };\n};\n",
            "size_bytes": 938
        },
        "src/components/shared_ui/types/index.ts": {
            "content": "import { TAccordionItem, TAccordionProps } from './accordion.types';\nimport { TDatePickerOnChangeEvent, TGetCardLables, TGetContractTypeDisplay } from './common.types';\nimport { TErrorMessages, TGetContractPath, TToastConfig } from './contract.types';\nimport { TIconProps, TIconsManifest } from './icons.types';\nimport { TMultiStepProps, TMultiStepRefProps } from './multi-step.types';\nimport { TPopoverProps } from './popover.types';\n\nexport type {\n    TAccordionItem,\n    TAccordionProps,\n    TDatePickerOnChangeEvent,\n    TErrorMessages,\n    TGetCardLables,\n    TGetContractPath,\n    TGetContractTypeDisplay,\n    TIconProps,\n    TIconsManifest,\n    TMultiStepProps,\n    TMultiStepRefProps,\n    TPopoverProps,\n    TToastConfig,\n};\n",
            "size_bytes": 733
        },
        "src/components/shared_ui/dialog/index.ts": {
            "content": "import Dialog from './dialog';\nimport './dialog.scss';\n\nexport default Dialog;\n",
            "size_bytes": 79
        },
        "src/external/bot-skeleton/services/tradeEngine/trade/Sell.js": {
            "content": "import { LogTypes } from '../../../constants/messages';\nimport { observer as globalObserver } from '../../../utils/observer';\nimport { api_base } from '../../api/api-base';\nimport { contractStatus, log } from '../utils/broadcast';\nimport { doUntilDone, recoverFromError } from '../utils/helpers';\nimport { DURING_PURCHASE } from './state/constants';\n\nexport default Engine =>\n    class Sell extends Engine {\n        isSellAtMarketAvailable() {\n            return this.contractId && !this.isSold && this.isSellAvailable && !this.isExpired;\n        }\n\n        sellAtMarket() {\n            globalObserver.emit('bot.sell');\n\n            // Prevent calling sell twice\n            if (this.store.getState().scope !== DURING_PURCHASE) {\n                return Promise.resolve();\n            }\n\n            if (!this.isSellAtMarketAvailable()) {\n                log(LogTypes.NOT_OFFERED);\n                return Promise.resolve();\n            }\n\n            let delay_index = 1;\n\n            return new Promise(resolve => {\n                const onContractSold = sell_response => {\n                    delay_index = 1;\n\n                    if (sell_response) {\n                        const { sold_for } = sell_response.sell;\n                        log(LogTypes.SELL, { sold_for });\n                    }\n\n                    contractStatus('purchase.sold');\n                    this.waitForAfter();\n                    resolve();\n                };\n\n                const contract_id = this.contractId;\n\n                const sellContractAndGetContractInfo = () => {\n                    return doUntilDone(() => api_base.api.send({ sell: contract_id, price: 0 }))\n                        .then(sell_response => {\n                            doUntilDone(() => api_base.api.send({ proposal_open_contract: 1, contract_id })).then(\n                                () => sell_response\n                            );\n                        })\n                        .catch(e => {\n                            const error = e.error;\n                            if (error.code === 'InvalidOfferings') {\n                                // \"InvalidOfferings\" may occur when user tries to sell the contract too close\n                                // to the expiry time. We shouldn't interrupt the bot but instead let the contract\n                                // finish.\n                                return Promise.resolve();\n                            }\n\n                            const sell_error = {\n                                name: error.code,\n                                message: error.message,\n                                msg_type: e.msg_type,\n                                error: { ...error.error },\n                            };\n\n                            if (error.code === 'RateLimit') {\n                                return Promise.reject(sell_error);\n                            }\n\n                            // For every other error, check whether the contract is not actually already sold.\n                            return doUntilDone(() =>\n                                api_base.api.send({\n                                    proposal_open_contract: 1,\n                                    contract_id,\n                                })\n                            ).then(proposal_open_contract_response => {\n                                const { proposal_open_contract } = proposal_open_contract_response;\n\n                                if (!proposal_open_contract.is_sold) {\n                                    return Promise.reject(sell_error);\n                                }\n\n                                // If the contract is sold at this point it means there was a race condition.\n                                // Pretend this sell request was successful and mislead the trade engine into\n                                // moving onto the next scope.\n                                return Promise.resolve({\n                                    sell: {\n                                        sold_for: proposal_open_contract.sell_price,\n                                    },\n                                });\n                            });\n                        });\n                };\n\n                const errors_to_ignore = ['NoOpenPosition', 'InvalidSellContractProposal', 'UnrecognisedRequest'];\n\n                // Restart buy/sell on error is enabled, don't recover from sell error.\n                if (!this.options.timeMachineEnabled) {\n                    // eslint-disable-next-line no-promise-executor-return\n                    return doUntilDone(sellContractAndGetContractInfo, errors_to_ignore)\n                        .then(sell_response => onContractSold(sell_response))\n                        .catch(error => error);\n                }\n\n                // If above checkbox not checked, try to recover from sell error.\n                const recoverFn = (error_code, makeDelay) => {\n                    return makeDelay().then(() => this.observer.emit('REVERT', 'during'));\n                };\n                // eslint-disable-next-line no-promise-executor-return\n                return recoverFromError(\n                    sellContractAndGetContractInfo,\n                    recoverFn,\n                    errors_to_ignore,\n                    delay_index++\n                ).then(sell_response => onContractSold(sell_response));\n            });\n        }\n    };\n",
            "size_bytes": 5441
        },
        "src/components/shared/utils/hooks/new-row-transition.tsx": {
            "content": "import React from 'react';\n\nexport const useNewRowTransition = (is_new_row: boolean) => {\n    const [in_prop, setInProp] = React.useState(!is_new_row);\n\n    React.useEffect(() => {\n        if (is_new_row) setInProp(true);\n    }, [is_new_row]);\n\n    return { in_prop };\n};\n",
            "size_bytes": 272
        },
        "src/external/bot-skeleton/scratch/blocks/Math/math_change.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../utils';\n\nwindow.Blockly.Blocks.math_change = {\n    /**\n     * Initializes the block, in most cases this calls the jsonInit function, in some\n     * cases it may add extra properties to the block object.\n     * https://developers.google.com/blockly/reference/js/window.Blockly.Block#jsonInit\n     */\n    init() {\n        this.jsonInit(this.definition());\n    },\n    /**\n     * Block definitions describe how a block looks and behaves, including the text,\n     * the colour, the shape, and what other blocks it can connect to. We've separated\n     * the block definition from the init function so we can search through it.\n     * https://developers.google.com/blockly/guides/create-custom-blocks/define-blocks\n     */\n    definition() {\n        return {\n            message0: localize('change {{ variable }} by {{ number }}', {\n                variable: '%1',\n                number: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VAR',\n                    variable: localize('item'),\n                },\n                {\n                    type: 'input_value',\n                    name: 'DELTA',\n                    check: 'Number',\n                },\n            ],\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('This block adds the given number to the selected variable'),\n            category: window.Blockly.Categories.Mathematical,\n        };\n    },\n    /**\n     * Meta returns an object with with properties that contain human readable strings,\n     * these strings are used in the flyout help content, as well as used for searching\n     * for specific blocks.\n     */\n    meta() {\n        return {\n            display_name: localize('Change variable'),\n            description: localize('This block adds the given number to the selected variable.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            DELTA: null,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.math_change = block => {\n    const variable = block.getFieldValue('VAR');\n    // eslint-disable-next-line no-underscore-dangle\n    const argument0 = window.Blockly.JavaScript.variableDB_.getName(variable, window.Blockly.Variables.CATEGORY_NAME);\n    const argument1 =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'DELTA',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_ADDITION\n        ) || '0';\n    const code = `${argument0} = (typeof ${argument0} === 'number' ? ${argument0} : 0) + ${argument1};`;\n\n    return code;\n};\n",
            "size_bytes": 3021
        },
        "src/components/load-modal/workspace-control.tsx": {
            "content": "import { observer } from 'mobx-react-lite';\nimport { useStore } from '@/hooks/useStore';\nimport { LabelPairedMinusCaptionRegularIcon, LabelPairedPlusCaptionRegularIcon } from '@deriv/quill-icons/LabelPaired';\n\ntype TWorkspaceControlProps = {\n    mockZoomInOut?: (is_zoom_in: boolean) => void;\n};\n\nconst WorkspaceControl = observer(({ mockZoomInOut }: TWorkspaceControlProps) => {\n    const { dashboard } = useStore();\n    const { onZoomInOutClick } = dashboard;\n\n    return (\n        <div className='load-strategy__preview-workspace-controls'>\n            <LabelPairedPlusCaptionRegularIcon\n                className='load-strategy__preview-workspace-icon'\n                onClick={() => {\n                    mockZoomInOut ? mockZoomInOut(true) : onZoomInOutClick(true);\n                }}\n                data-testid='zoom-in'\n                fill='var(--text-general)'\n            />\n            <LabelPairedMinusCaptionRegularIcon\n                className='load-strategy__preview-workspace-icon'\n                onClick={() => {\n                    mockZoomInOut ? mockZoomInOut(false) : onZoomInOutClick(false);\n                }}\n                data-testid='zoom-out'\n                fill='var(--text-general)'\n            />\n        </div>\n    );\n});\n\nexport default WorkspaceControl;\n",
            "size_bytes": 1294
        },
        "src/external/bot-skeleton/scratch/dbot.js": {
            "content": "import { save_types } from '../constants';\nimport { config } from '../constants/config';\nimport { api_base } from '../services/api/api-base';\nimport ApiHelpers from '../services/api/api-helpers';\nimport Interpreter from '../services/tradeEngine/utils/interpreter';\nimport { compareXml, observer as globalObserver } from '../utils';\nimport { getSavedWorkspaces, saveWorkspaceToRecent } from '../utils/local-storage';\nimport { isDbotRTL } from '../utils/workspace';\nimport main_xml from './xml/main.xml';\nimport { forgetAccumulatorsProposalRequest } from './accumulators-proposal-handler';\nimport { loadBlockly } from './blockly';\nimport DBotStore from './dbot-store';\nimport { isAllRequiredBlocksEnabled, updateDisabledBlocks, validateErrorOnBlockDelete } from './utils';\n\nclass DBot {\n    constructor() {\n        this.interpreter = null;\n        this.workspace = null;\n        this.before_run_funcs = [];\n        this.symbol = null;\n        this.is_bot_running = false;\n    }\n\n    /**\n     * Initialises the workspace and mounts it to a container element (app_contents).\n     */\n    async initWorkspace(public_path, store, api_helpers_store, is_mobile, is_dark_mode) {\n        await loadBlockly(is_dark_mode);\n        const recent_files = await getSavedWorkspaces();\n        this.interpreter = Interpreter();\n\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var that = this;\n        window.Blockly.Blocks.trade_definition_tradetype.onchange = function (event) {\n            if (!this.workspace || window.Blockly.derivWorkspace.isFlyoutVisible || this.workspace.isDragging()) {\n                return;\n            }\n\n            this.enforceLimitations();\n\n            const { name, type } = event;\n\n            if (type === window.Blockly.Events.BLOCK_CHANGE) {\n                const is_symbol_list_change = name === 'SYMBOL_LIST';\n                const is_trade_type_cat_list_change = name === 'TRADETYPECAT_LIST';\n\n                if (is_symbol_list_change || is_trade_type_cat_list_change) {\n                    const { contracts_for } = ApiHelpers?.instance ?? {};\n                    const top_parent_block = this.getTopParent();\n                    const market_block = top_parent_block.getChildByType('trade_definition_market');\n                    const market = market_block.getFieldValue('MARKET_LIST');\n                    const submarket = market_block.getFieldValue('SUBMARKET_LIST');\n                    const symbol = market_block.getFieldValue('SYMBOL_LIST');\n                    const category = this.getFieldValue('TRADETYPECAT_LIST');\n                    const trade_type = this.getFieldValue('TRADETYPE_LIST');\n                    const is_trade_type_accumulator = trade_type === 'accumulator';\n                    if (!is_trade_type_accumulator) forgetAccumulatorsProposalRequest(that);\n\n                    if (is_symbol_list_change) {\n                        contracts_for\n                            ?.getTradeTypeCategories?.(market, submarket, symbol)\n                            .then(categories => {\n                                const category_field = this.getField('TRADETYPECAT_LIST');\n                                if (category_field) {\n                                    category_field.updateOptions(categories, {\n                                        default_value: category,\n                                        should_pretend_empty: true,\n                                        event_group: event.group,\n                                    });\n                                }\n                            })\n                            .catch(error => {\n                                // Error getting trade type categories\n                                console.error('Error fetching trade type categories:', error);\n                            });\n                        that.symbol = symbol;\n                        if (\n                            !that.is_bot_running &&\n                            that.interpreter &&\n                            !this.workspace.options.readOnly &&\n                            symbol !== that.interpreter.bot.tradeEngine.symbol\n                        ) {\n                            const run_button = document.querySelector('#db-animation__run-button');\n                            if (run_button) run_button.disabled = true;\n\n                            that.interpreter.unsubscribeFromTicksService().then(async () => {\n                                await that.interpreter?.bot.tradeEngine.watchTicks(symbol);\n                            });\n                        }\n                    } else if (is_trade_type_cat_list_change && event.blockId === this.id) {\n                        contracts_for\n                            ?.getTradeTypes?.(market, submarket, symbol, category)\n                            .then(trade_types => {\n                                const trade_type_field = this.getField('TRADETYPE_LIST');\n                                if (trade_type_field) {\n                                    trade_type_field.updateOptions(trade_types, {\n                                        default_value: trade_type,\n                                        should_pretend_empty: true,\n                                        event_group: event.group,\n                                    });\n                                }\n                            })\n                            .catch(error => {\n                                // Error getting trade types\n                                console.error('Error fetching trade types:', error);\n                            });\n                    }\n                }\n            }\n        };\n\n        return new Promise((resolve, reject) => {\n            __webpack_public_path__ = public_path; // eslint-disable-line no-global-assign\n            ApiHelpers.setInstance(api_helpers_store);\n            DBotStore.setInstance(store);\n            const window_width = window.innerWidth;\n            try {\n                let workspaceScale = 0.7;\n\n                const { handleFileChange } = DBotStore.instance;\n                if (window_width < 1640) {\n                    if (is_mobile) {\n                        workspaceScale = 0.6;\n                    } else {\n                        const scratch_div_width = document.getElementById('scratch_div')?.offsetWidth;\n                        const zoom_scale = scratch_div_width / window_width / 1.5;\n                        workspaceScale = zoom_scale;\n                    }\n                }\n                const el_scratch_div = document.getElementById('scratch_div');\n                if (!el_scratch_div) {\n                    return;\n                }\n\n                this.workspace = window.Blockly.inject(el_scratch_div, {\n                    media: 'assets/media/',\n                    renderer: 'zelos',\n                    trashcan: !is_mobile,\n                    zoom: { wheel: true, startScale: workspaceScale },\n                    scrollbars: true,\n                    theme: window.Blockly.Themes.zelos_renderer,\n                });\n\n                this.workspace.RTL = isDbotRTL();\n\n                this.workspace.cached_xml = { main: main_xml };\n\n                this.workspace.addChangeListener(this.valueInputLimitationsListener.bind(this));\n                this.workspace.addChangeListener(event => updateDisabledBlocks(this.workspace, event));\n                this.workspace.addChangeListener(event => this.workspace.dispatchBlockEventEffects(event));\n                this.workspace.addChangeListener(event => {\n                    if (event.type === 'drag' && !event.isStart && !is_mobile) validateErrorOnBlockDelete();\n                    if (event.type == window.Blockly.Events.BLOCK_CHANGE) {\n                        const block = this.workspace.getBlockById(event.blockId);\n                        if (is_mobile && block && event.element == 'collapsed') {\n                            block.contextMenu = false;\n                        }\n                    }\n                });\n\n                window.Blockly.derivWorkspace = this.workspace;\n\n                const varDB = new window.Blockly.Names('window');\n                varDB.variableMap = window.Blockly.derivWorkspace.getVariableMap();\n\n                window.Blockly.JavaScript.variableDB_ = varDB;\n\n                this.addBeforeRunFunction(this.unselectBlocks.bind(this));\n                this.addBeforeRunFunction(this.disableStrayBlocks.bind(this));\n                this.addBeforeRunFunction(this.checkForErroredBlocks.bind(this));\n                this.addBeforeRunFunction(this.checkForRequiredBlocks.bind(this));\n\n                // Push main.xml to workspace and reset the undo stack.\n                this.workspace.current_strategy_id = window.Blockly.utils.idGenerator.genUid();\n\n                window.Blockly.derivWorkspace.strategy_to_load = main_xml;\n                window.Blockly.getMainWorkspace().strategy_to_load = main_xml;\n                window.Blockly.getMainWorkspace().RTL = isDbotRTL();\n\n                let file_name = config().default_file_name;\n                if (recent_files && recent_files.length) {\n                    const latest_file = recent_files[0];\n                    window.Blockly.derivWorkspace.strategy_to_load = latest_file.xml;\n                    window.Blockly.getMainWorkspace().strategy_to_load = latest_file.xml;\n                    file_name = latest_file.name;\n                    window.Blockly.derivWorkspace.current_strategy_id = latest_file.id;\n                    window.Blockly.getMainWorkspace().current_strategy_id = latest_file.id;\n                }\n\n                const event_group = `dbot-load${Date.now()}`;\n                window.Blockly.Events.setGroup(event_group);\n                window.Blockly.Xml.domToWorkspace(\n                    window.Blockly.utils.xml.textToDom(window.Blockly.derivWorkspace.strategy_to_load),\n                    this.workspace\n                );\n                const { save_modal } = DBotStore.instance;\n\n                save_modal.updateBotName(file_name);\n                this.workspace.cleanUp(0, is_mobile ? 60 : 56);\n                this.workspace.clearUndo();\n\n                window.dispatchEvent(new Event('resize'));\n                window.addEventListener('dragover', DBot.handleDragOver);\n                window.addEventListener('drop', e => DBot.handleDropOver(e, handleFileChange));\n                // disable overflow\n                el_scratch_div.parentNode.style.overflow = 'hidden';\n                resolve();\n            } catch (error) {\n                // TODO: Handle error.\n                reject(error);\n                throw error;\n            }\n        });\n    }\n\n    /** Compare stored strategy xml with currently running xml */\n    isStrategyUpdated(current_xml_dom, recent_files) {\n        if (recent_files && recent_files.length) {\n            const stored_strategy = recent_files.filter(\n                strategy => strategy?.id === this.workspace?.current_strategy_id\n            )?.[0];\n            if (stored_strategy?.xml) {\n                const stored_strategy_xml = stored_strategy?.xml;\n                const current_xml = window.Blockly.Xml.domToText(current_xml_dom);\n                const is_same_strategy = compareXml(stored_strategy_xml, current_xml);\n                if (is_same_strategy) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n\n    /** Saves the current workspace to local storage\n     * and update saved status if strategy changes  */\n    async saveRecentWorkspace() {\n        const current_xml_dom = this?.workspace ? Blockly?.Xml?.workspaceToDom(this.workspace) : null;\n        try {\n            const recent_files = await getSavedWorkspaces();\n            if (current_xml_dom && this.isStrategyUpdated(current_xml_dom, recent_files)) {\n                await saveWorkspaceToRecent(current_xml_dom, save_types.UNSAVED);\n            }\n        } catch (error) {\n            globalObserver.emit('Error', error);\n            await saveWorkspaceToRecent(current_xml_dom, save_types.UNSAVED);\n        }\n    }\n\n    /**\n     * Allows you to add a function that needs to be executed before running the bot. Each\n     * function needs to return true in order for the bot to run.\n     * @param {Function} func Function to execute which returns true/false.\n     */\n    addBeforeRunFunction(func) {\n        this.before_run_funcs.push(func);\n    }\n\n    shouldRunBot() {\n        return this.before_run_funcs.every(func => !!func());\n    }\n\n    async initializeInterpreter() {\n        if (this.interpreter) {\n            await this.interpreter.terminateSession();\n        }\n        this.interpreter = Interpreter();\n    }\n    /**\n     * Runs the bot. Does a sanity check before attempting to generate the\n     * JavaScript code that's fed to the interpreter.\n     */\n    runBot() {\n        if (api_base.is_stopping) return;\n\n        try {\n            api_base.is_stopping = false;\n            const code = this.generateCode();\n            if (!this.interpreter.bot.tradeEngine.checkTicksPromiseExists()) this.interpreter = Interpreter();\n\n            this.is_bot_running = true;\n\n            api_base.setIsRunning(true);\n            this.interpreter.run(code).catch(error => {\n                globalObserver.emit('Error', error);\n                this.stopBot();\n            });\n        } catch (error) {\n            globalObserver.emit('Error', error);\n\n            if (this.interpreter) {\n                this.stopBot();\n            }\n        }\n    }\n\n    /**\n     * Generates the code that is passed to the interpreter.\n     * @param {Object} limitations Optional limitations (legacy argument)\n     */\n    generateCode(limitations = {}) {\n        return `\n            var BinaryBotPrivateInit;\n            var BinaryBotPrivateStart;\n            var BinaryBotPrivateBeforePurchase; \n            var BinaryBotPrivateDuringPurchase;\n            var BinaryBotPrivateAfterPurchase;\n            var BinaryBotPrivateLastTickTime;\n            var BinaryBotPrivateTickAnalysisList = [];\n            var BinaryBotPrivateHasCalledTradeOptions = false;\n\n           \n            function recursiveList(list, final_list){\n                for(var i=0; i < list.length; i++){\n                    if(typeof(list[i]) === 'object'){\n                        recursiveList(list[i], final_list);\n                    }\n                    if(typeof(list[i]) == 'number'){\n                        final_list.push(list[i]);   \n                                  \n                    }\n                }\n                return final_list;\n            }\n\n            function BinaryBotPrivateRun(f, arg) {\n                if (f) return f(arg);\n                return false;\n            }\n            function BinaryBotPrivateTickAnalysis() {\n                var currentTickTime = Bot.getLastTick(true);\n                while (currentTickTime === 'MarketIsClosed') {\n                    sleep(5);\n                    currentTickTime = Bot.getLastTick(true);\n                }\n                currentTickTime = currentTickTime.epoch;\n                if (currentTickTime === BinaryBotPrivateLastTickTime) {\n                    return;\n                }\n                BinaryBotPrivateLastTickTime = currentTickTime;\n                for (var BinaryBotPrivateI = 0; BinaryBotPrivateI < BinaryBotPrivateTickAnalysisList.length; BinaryBotPrivateI++) {\n                    BinaryBotPrivateRun(BinaryBotPrivateTickAnalysisList[BinaryBotPrivateI]);\n                }\n            }\n            var BinaryBotPrivateLimitations = ${JSON.stringify(limitations)};\n            ${window.Blockly.JavaScript.javascriptGenerator.workspaceToCode(this.workspace)}\n            BinaryBotPrivateRun(BinaryBotPrivateInit);\n            while (true) {\n                BinaryBotPrivateTickAnalysis();\n                BinaryBotPrivateRun(BinaryBotPrivateStart);\n                if (!BinaryBotPrivateHasCalledTradeOptions) {\n                    sleep(1);\n                    continue;\n                }\n                while (watch('before')) {\n                    BinaryBotPrivateTickAnalysis();\n                    BinaryBotPrivateRun(BinaryBotPrivateBeforePurchase);\n                }\n                while (watch('during')) {\n                    BinaryBotPrivateTickAnalysis();\n                    BinaryBotPrivateRun(BinaryBotPrivateDuringPurchase);\n                }\n                BinaryBotPrivateTickAnalysis();\n                if (!BinaryBotPrivateRun(BinaryBotPrivateAfterPurchase)) {\n                    break;\n                }\n            }\n            \n            `;\n    }\n\n    /**\n     * Instructs the interpreter to stop the bot. If there is an active trade\n     * that trade will be completed first to reflect correct contract status in UI.\n     */\n    async stopBot() {\n        if (api_base.is_stopping) return;\n\n        api_base.setIsRunning(false);\n\n        await this.interpreter.stop();\n        this.is_bot_running = false;\n        this.interpreter = null;\n        this.interpreter = Interpreter();\n        await this.interpreter.bot.tradeEngine.watchTicks(this.symbol);\n        forgetAccumulatorsProposalRequest(this);\n    }\n\n    /**\n     * Immediately instructs the interpreter to terminate the WS connection and bot.\n     */\n    async terminateBot() {\n        if (this.interpreter) {\n            await this.interpreter.terminateSession();\n            this.interpreter = null;\n            this.interpreter = Interpreter();\n            await this.interpreter.bot.tradeEngine.watchTicks(this.symbol);\n        }\n    }\n\n    terminateConnection = () => {\n        api_base.terminate();\n    };\n\n    /**\n     * Unselects any selected block before running the bot.\n     */\n    // eslint-disable-next-line class-methods-use-this\n    unselectBlocks() {\n        if (window.Blockly.getSelected()) {\n            window.Blockly.getSelected().unselect();\n        }\n        return true;\n    }\n\n    /**\n     * Disable blocks outside of any main or independent blocks.\n     */\n    disableStrayBlocks() {\n        const top_blocks = this.workspace.getTopBlocks();\n        top_blocks.forEach(block => {\n            if (!block.isMainBlock() && !block.isIndependentBlock()) {\n                this.disableBlocksRecursively(block);\n            }\n        });\n        return true;\n    }\n\n    /**\n     * Disable blocks and their optional children.\n     */\n    disableBlocksRecursively(block) {\n        block.setDisabled(true);\n        if (block.nextConnection?.targetConnection) {\n            this.disableBlocksRecursively(block.nextConnection.targetConnection.sourceBlock_);\n        }\n    }\n\n    /**\n     * Check if there are any blocks highlighted for errors.\n     */\n    checkForErroredBlocks() {\n        // Force a check on value inputs.\n        this.valueInputLimitationsListener({}, true);\n\n        const all_blocks = this.workspace.getAllBlocks(true);\n        const error_blocks = all_blocks\n            .filter(block => block.is_error_highlighted && !block.disabled)\n            // filter out duplicated error message\n            .filter((block, index, self) => index === self.findIndex(b => b.error_message === block.error_message));\n\n        if (!error_blocks.length) {\n            return true;\n        }\n\n        this.workspace.centerOnBlock(error_blocks[0].id);\n        error_blocks.forEach(block => {\n            globalObserver.emit('ui.log.error', block.error_message);\n        });\n\n        return false;\n    }\n\n    centerAndHighlightBlock(block_id, should_animate = false) {\n        const block_to_highlight = this.workspace.getBlockById(block_id);\n\n        if (!block_to_highlight) {\n            return;\n        }\n\n        const all_blocks = this.workspace.getAllBlocks();\n\n        all_blocks.forEach(block => block.setErrorHighlighted(false));\n        if (should_animate) {\n            block_to_highlight.blink();\n        }\n        block_to_highlight.setErrorHighlighted(true);\n\n        this.workspace.centerOnBlock(block_to_highlight.id);\n    }\n\n    unHighlightAllBlocks() {\n        this.workspace?.getAllBlocks().forEach(block => block.setErrorHighlighted(false));\n    }\n\n    /**\n     * Checks whether the workspace contains all required blocks before running the strategy.\n     */\n    checkForRequiredBlocks() {\n        return isAllRequiredBlocksEnabled(this.workspace);\n    }\n\n    /**\n     * Checks all blocks in the workspace to see if they need to be highlighted\n     * in case one of their inputs is not populated, returns an empty value, or doesn't\n     * pass the custom validator.\n     * Note: The value passed to the custom validator is always a string value\n     * @param {window.Blockly.Event} event Workspace event\n     */\n    valueInputLimitationsListener(event, force_check = false) {\n        if (!force_check && (!this.workspace || this.workspace.isDragging())) {\n            return;\n        }\n\n        window.Blockly.JavaScript.javascriptGenerator.init(this.workspace);\n\n        if (force_check) {\n            window.Blockly.hideChaff(false);\n        }\n\n        const isGlobalEndDragEvent = () => event.type === window.Blockly.Events.BLOCK_DRAG && !event.isStart;\n        const isGlobalDeleteEvent = () => event.type === window.Blockly.Events.BLOCK_DELETE;\n        const isGlobalCreateEvent = () => event.type === window.Blockly.Events.BLOCK_CREATE;\n        const isClickEvent = () =>\n            event.type === window.Blockly.Events.UI && (event.element === 'click' || event.element === 'selected');\n        const isChangeEvent = b => event.type === window.Blockly.Events.BLOCK_CHANGE && event.blockId === b.id;\n        const isChangeInMyInputs = b => {\n            if (event.type === window.Blockly.Events.BLOCK_CHANGE) {\n                return b.inputList.some(input => {\n                    if (input.connection) {\n                        const target_block = input.connection.targetBlock();\n                        return target_block && event.blockId === target_block.id;\n                    }\n                    return false;\n                });\n            }\n            return false;\n        };\n        const isParentEnabledEvent = b => {\n            if (event.type === window.Blockly.Events.BLOCK_CHANGE && event.element === 'disabled') {\n                let parent_block = b.getParent();\n\n                while (parent_block !== null) {\n                    if (parent_block.id === event.blockId) {\n                        return true;\n                    }\n\n                    parent_block = parent_block.getParent();\n                }\n            }\n            return false;\n        };\n\n        this.workspace.getAllBlocks(true).forEach(block => {\n            if (\n                force_check ||\n                isGlobalEndDragEvent() ||\n                isGlobalDeleteEvent() ||\n                isGlobalCreateEvent() ||\n                isClickEvent() ||\n                isChangeEvent(block) ||\n                isChangeInMyInputs(block) ||\n                isParentEnabledEvent(block)\n            ) {\n                // Unhighlight disabled blocks and their optional children.\n                if (block.disabled) {\n                    const unhighlightRecursively = child_blocks => {\n                        child_blocks.forEach(child_block => {\n                            child_block.setErrorHighlighted(false);\n                            unhighlightRecursively(child_block.getChildren());\n                        });\n                    };\n\n                    unhighlightRecursively([block]);\n                    return;\n                }\n\n                // No required inputs, ignore this block.\n                if (!block.getRequiredValueInputs) {\n                    return;\n                }\n\n                const required_inputs_object = block.getRequiredValueInputs();\n                const required_input_names = Object.keys(required_inputs_object);\n                const should_highlight = required_input_names.some(input_name => {\n                    const is_selected = window.Blockly.getSelected() === block; // Don't highlight selected blocks.\n                    const is_disabled = block.disabled || block.getInheritedDisabled(); // Don't highlight disabled blocks.\n\n                    if (is_selected || is_disabled) {\n                        return false;\n                    }\n\n                    // Don't unhighlight collapsed blocks with highlighted descendants.\n                    if (block.isCollapsed() && block.hasErrorHighlightedDescendant()) {\n                        return true;\n                    }\n\n                    const input = block.getInput(input_name);\n\n                    if (!input && !block.domToMutation) {\n                        // Detected a non-existent required input\n                    } else if (input.connection) {\n                        const order = window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC;\n                        const value = window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n                            block,\n                            input_name,\n                            order\n                        );\n                        const inputValidatorFn = required_inputs_object[input_name];\n\n                        // If a custom validator was supplied, use this to determine whether\n                        // the block should be highlighted.\n                        if (typeof inputValidatorFn === 'function') {\n                            return !!inputValidatorFn(value);\n                        }\n\n                        // If there's no custom validator, only check if input was populated and\n                        // doesn't return an empty value.\n                        return !value;\n                    }\n\n                    return true;\n                });\n\n                if (should_highlight) {\n                    // Remove select highlight in favour of error highlight.\n                    block.removeSelect();\n                }\n\n                block.setErrorHighlighted(should_highlight, block.error_message || undefined);\n\n                // Automatically expand blocks that have been highlighted.\n                if (force_check && (block.is_error_highlighted || block.hasErrorHighlightedDescendant())) {\n                    let current_collapsed_block = block;\n                    while (current_collapsed_block) {\n                        current_collapsed_block.setCollapsed(false);\n                        current_collapsed_block = current_collapsed_block.getParent();\n                    }\n                }\n            }\n        });\n    }\n\n    /**\n     * Checks whether the workspace contains non-silent notification blocks. Returns array of names for audio files to be played.\n     */\n    getStrategySounds() {\n        const all_blocks = this.workspace.getAllBlocks();\n        const notify_blocks = all_blocks.filter(block => block.type === 'notify');\n        const strategy_sounds = [];\n\n        notify_blocks.forEach(block => {\n            const selected_sound = block.inputList[0].fieldRow[3].value_;\n\n            if (selected_sound !== 'silent') {\n                strategy_sounds.push(selected_sound);\n            }\n        });\n\n        return strategy_sounds;\n    }\n\n    static handleDragOver(event) {\n        event.stopPropagation();\n        event.preventDefault();\n        event.dataTransfer.dropEffect = 'copy'; // eslint-disable-line no-param-reassign\n    }\n\n    static handleDropOver(event, handleFileChange) {\n        const main_workspace_dom = document.getElementById('scratch_div');\n        const local_drag_zone = document.getElementById('load-strategy__local-dropzone-area');\n\n        if (main_workspace_dom.contains(event.target)) {\n            handleFileChange(event);\n        } else if (local_drag_zone && local_drag_zone.contains(event.target)) {\n            handleFileChange(event, false);\n        } else {\n            event.stopPropagation();\n            event.preventDefault();\n            event.dataTransfer.effectAllowed = 'none';\n            event.dataTransfer.dropEffect = 'none';\n        }\n    }\n}\n\nexport default new DBot();\n",
            "size_bytes": 28102
        },
        "src/hooks/network-toast-popup.tsx": {
            "content": "import { useEffect } from 'react';\nimport { botNotification } from '@/components/bot-notification/bot-notification';\nimport useNetworkStatus from '@/hooks/useNetworkStatus';\nimport { localize } from '@deriv-com/translations';\n\nconst useNetworkStatusToastError = () => {\n    const status = useNetworkStatus();\n\n    useEffect(() => {\n        if (status !== 'online') {\n            botNotification(localize('You are offline'));\n        }\n    }, [status]);\n    return null;\n};\n\nexport default useNetworkStatusToastError;\n",
            "size_bytes": 517
        },
        "src/components/page-error/page-error.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { standalone_routes } from '@/components/shared';\nimport { Button, useDevice } from '@deriv-com/ui';\nimport ButtonLink from '../button-link/button-link';\nimport DesktopWrapper from '../shared_ui/desktop-wrapper';\nimport MobileWrapper from '../shared_ui/mobile-wrapper';\nimport Text from '../shared_ui/text';\n\ntype TMessageObject = { message: string; has_html?: boolean };\n\ntype TPageErrorProps = {\n    buttonOnClick?: () => void;\n    buttonSize?: 'small' | 'medium' | 'large';\n    classNameImage?: string;\n    header: React.ReactNode;\n    image_url?: string;\n    messages: Array<TMessageObject | React.ReactNode>;\n    redirect_labels: Array<JSX.Element | string>;\n    redirect_urls?: string[];\n    setError?: (has_error: boolean, error: React.ReactNode) => void;\n    should_clear_error_on_click?: boolean;\n    should_redirect?: boolean;\n};\n\nconst PageError = ({\n    buttonOnClick,\n    buttonSize = 'large',\n    classNameImage,\n    header,\n    image_url,\n    messages,\n    redirect_labels,\n    redirect_urls,\n    should_clear_error_on_click,\n    setError,\n    should_redirect = true,\n}: TPageErrorProps) => {\n    const onClickHandler = () => {\n        if (should_clear_error_on_click) {\n            setError?.(false, null);\n            window.location.assign(standalone_routes.deriv_app);\n        } else {\n            buttonOnClick?.();\n        }\n    };\n    const { isMobile } = useDevice();\n\n    return (\n        // if image_url is passed we should split the page to two columns and left-align messages\n        <div className='dc-page-error__container'>\n            {!!image_url && (\n                <>\n                    <DesktopWrapper>\n                        <img\n                            className={classNameImage}\n                            src={image_url}\n                            alt={'404'}\n                            loading='lazy'\n                            width='607px' // width and height should be specified so it doesn't jump to the right after image loads\n                            height='366px'\n                        />\n                    </DesktopWrapper>\n                    <MobileWrapper>\n                        <img\n                            className={classNameImage}\n                            src={image_url}\n                            alt={'404'}\n                            loading='lazy'\n                            width='328px'\n                            height='200px'\n                        />\n                    </MobileWrapper>\n                </>\n            )}\n            <div\n                className={classNames('dc-page-error__box', {\n                    'dc-page-error__box--left': !!image_url,\n                })}\n            >\n                <Text as='h3' size={isMobile ? 's' : 'l'} align='center' weight='bold' lineHeight='s' color='prominent'>\n                    {header}\n                </Text>\n                <div\n                    className={classNames('dc-page-error__message-wrapper', {\n                        'dc-page-error__message-wrapper--left': !!image_url,\n                    })}\n                >\n                    <Text\n                        color='prominent'\n                        className={classNames('dc-page-error__message', {\n                            'dc-page-error__message--left': !!image_url,\n                        })}\n                    >\n                        {messages.map((message, index) =>\n                            (message as TMessageObject)?.has_html ? (\n                                <Text\n                                    as='p'\n                                    size={isMobile ? 'xxs' : 's'}\n                                    align={isMobile ? 'center' : 'left'}\n                                    lineHeight='x'\n                                    key={index}\n                                    className='dc-page-error__message-paragraph'\n                                    dangerouslySetInnerHTML={{ __html: (message as TMessageObject)?.message }}\n                                />\n                            ) : (\n                                <Text\n                                    as='p'\n                                    size={isMobile ? 'xxs' : 's'}\n                                    align={isMobile ? 'center' : 'left'}\n                                    lineHeight='x'\n                                    key={index}\n                                    className='dc-page-error__message-paragraph'\n                                >\n                                    {message as React.ReactNode}\n                                </Text>\n                            )\n                        )}\n                    </Text>\n                </div>\n                <div className='dc-page-error__btn-wrapper' data-testid='dc-page-error__btn-wrapper'>\n                    {should_redirect &&\n                        redirect_labels.length !== 0 &&\n                        redirect_urls?.map?.((url, index) => (\n                            <ButtonLink\n                                className='dc-page-error__btn'\n                                // to={url} // TODO: NEED TO FIX THIS TO REDIRECT TO THE CORRECT URL\n                                onClick={onClickHandler}\n                                size={buttonSize}\n                                key={index}\n                            >\n                                <Text\n                                    weight='bold'\n                                    size={isMobile ? 'xs' : 's'}\n                                    className='dc-page-error__btn-text dc-btn__text'\n                                >\n                                    {redirect_labels[index]}\n                                </Text>\n                            </ButtonLink>\n                        ))}\n                    {!should_redirect && (\n                        <Button\n                            type='button'\n                            className='dc-page-error__btn--no-redirect'\n                            onClick={onClickHandler}\n                            size={isMobile ? 'sm' : 'md'}\n                        >\n                            <Text\n                                weight='bold'\n                                size={isMobile ? 'xs' : 's'}\n                                className='dc-page-error__btn-text dc-btn__text'\n                            >\n                                {redirect_labels[0]}\n                            </Text>\n                        </Button>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default PageError;\n",
            "size_bytes": 6686
        },
        "src/hooks/useDevMode.ts": {
            "content": "import { useEffect } from 'react';\nimport { botNotification } from '@/components/bot-notification/bot-notification';\nimport { APP_IDS } from '@/components/shared/utils/config/config';\nimport { LocalStorageConstants } from '@deriv-com/utils';\n\nconst DEV_SERVER_URL = 'qa197.deriv.dev';\nconst DEV_APP_ID = APP_IDS.LOCALHOST; // 36300\n\nconst useDevMode = () => {\n    const switchToDevServer = () => {\n        // Show connecting notification first\n        botNotification(`Connecting to dev server: ${DEV_SERVER_URL} (Cmd+Shift+D)`, undefined, {\n            type: 'info',\n            autoClose: 2000,\n        });\n\n        // Delay localStorage change to allow snackbar to be read\n        setTimeout(() => {\n            localStorage.setItem(LocalStorageConstants.configServerURL, DEV_SERVER_URL);\n            localStorage.setItem(LocalStorageConstants.configAppId, DEV_APP_ID.toString());\n\n            // Manually reload page to apply server changes\n            window.location.reload();\n        }, 1500);\n    };\n\n    useEffect(() => {\n        const handleKeyPress = (event: KeyboardEvent) => {\n            // Check for Cmd+Shift+D on Mac or Ctrl+Shift+D on Windows/Linux\n            const isModifierPressed = event.metaKey || event.ctrlKey;\n            const isShiftPressed = event.shiftKey;\n            const isDPressed = event.code === 'KeyD';\n\n            if (isModifierPressed && isShiftPressed && isDPressed) {\n                event.preventDefault();\n                switchToDevServer();\n            }\n        };\n\n        // Add event listener\n        document.addEventListener('keydown', handleKeyPress);\n\n        // Cleanup\n        return () => {\n            document.removeEventListener('keydown', handleKeyPress);\n        };\n    }, []);\n\n    return { switchToDevServer };\n};\n\nexport default useDevMode;\n",
            "size_bytes": 1808
        },
        "src/components/shared/loaders/react-import-loader.js": {
            "content": "module.exports = function (source, map) {\n    if (/import\\s*React,/.test(source)) {\n        this.emitError(\n            new Error(\n                'Please do not use named imports for React. Use the format `import React` with the `React.` prefix.'\n            )\n        );\n    }\n\n    return this.callback(\n        null,\n        source.replace(/import(\\s*)React(\\s*)from 'react';/, \"import$1* as React$2from 'react';\"),\n        map\n    );\n};\n",
            "size_bytes": 441
        },
        "src/stores/save-modal-store.ts": {
            "content": "import localForage from 'localforage';\nimport LZString from 'lz-string';\nimport { action, makeObservable, observable } from 'mobx';\nimport { MAX_STRATEGIES } from '@/constants/bot-contents';\nimport { button_status } from '@/constants/button-status';\nimport {\n    getSavedWorkspaces,\n    observer as globalObserver,\n    save,\n    save_types,\n    saveWorkspaceToRecent,\n} from '@/external/bot-skeleton';\nimport { localize } from '@deriv-com/translations';\nimport { TStrategy } from 'Types';\nimport RootStore from './root-store';\n\ntype IOnConfirmProps = {\n    is_local: boolean;\n    save_as_collection: boolean;\n    bot_name: string;\n};\n\ninterface ISaveModalStore {\n    is_save_modal_open: boolean;\n    button_status: { [key: string]: string } | number;\n    bot_name: { [key: string]: string } | string;\n    toggleSaveModal: () => void;\n    validateBotName: (values: string) => { [key: string]: string };\n    onConfirmSave: ({ is_local, save_as_collection, bot_name }: IOnConfirmProps) => void;\n    updateBotName: (bot_name: string) => void;\n    setButtonStatus: (status: { [key: string]: string } | string | number) => void;\n}\n\nconst Blockly = window.Blockly;\n\nexport default class SaveModalStore implements ISaveModalStore {\n    root_store: RootStore;\n\n    constructor(root_store: RootStore) {\n        makeObservable(this, {\n            is_save_modal_open: observable,\n            button_status: observable,\n            bot_name: observable,\n            toggleSaveModal: action.bound,\n            validateBotName: action.bound,\n            onConfirmSave: action.bound,\n            updateBotName: action.bound,\n            onDriveConnect: action.bound,\n            setButtonStatus: action.bound,\n        });\n\n        this.root_store = root_store;\n    }\n    is_save_modal_open = false;\n    button_status = button_status.NORMAL;\n    bot_name = '';\n\n    toggleSaveModal = (): void => {\n        if (!this.is_save_modal_open) {\n            this.setButtonStatus(button_status.NORMAL);\n        }\n\n        this.is_save_modal_open = !this.is_save_modal_open;\n    };\n\n    validateBotName = (values: string): { [key: string]: string } => {\n        const errors = {};\n\n        if (values.bot_name.trim() === '') {\n            errors.bot_name = localize('Strategy name cannot be empty');\n        }\n\n        return errors;\n    };\n\n    addStrategyToWorkspace = async (\n        workspace_id: string,\n        is_local: boolean,\n        save_as_collection: boolean,\n        bot_name: string,\n        xml: string\n    ) => {\n        try {\n            const workspace = await getSavedWorkspaces();\n            const current_workspace_index = workspace.findIndex((strategy: TStrategy) => strategy.id === workspace_id);\n            const {\n                load_modal: { getSaveType },\n            } = this.root_store;\n            const local_type = is_local ? save_types.LOCAL : save_types.GOOGLE_DRIVE;\n            const save_collection = save_as_collection ? save_types.UNSAVED : local_type;\n            const type = save_collection;\n\n            const save_type = getSaveType(type)?.toLowerCase();\n\n            const workspace_structure = {\n                id: workspace_id,\n                xml: window.Blockly.Xml.domToText(xml),\n                name: bot_name,\n                timestamp: Date.now(),\n                save_type,\n            };\n\n            if (current_workspace_index >= 0) {\n                const current_workspace = workspace_structure;\n                workspace[current_workspace_index] = current_workspace;\n            } else {\n                workspace.push(workspace_structure);\n            }\n\n            workspace\n                .sort((a: TStrategy, b: TStrategy) => {\n                    return new Date(a.timestamp) - new Date(b.timestamp);\n                })\n                .reverse();\n\n            if (workspace.length > MAX_STRATEGIES) {\n                workspace.pop();\n            }\n            const { load_modal } = this.root_store;\n            const { setRecentStrategies } = load_modal;\n            localForage.setItem('saved_workspaces', LZString.compress(JSON.stringify(workspace)));\n            const updated_strategies = await getSavedWorkspaces();\n            setRecentStrategies(updated_strategies);\n            const {\n                dashboard: { setStrategySaveType },\n            } = this.root_store;\n            setStrategySaveType(save_type);\n        } catch (error) {\n            globalObserver.emit('Error', error);\n        }\n    };\n\n    onConfirmSave = async ({ is_local, save_as_collection, bot_name }: IOnConfirmProps) => {\n        const { load_modal, dashboard, google_drive } = this.root_store;\n        const { loadStrategyToBuilder, selected_strategy } = load_modal;\n        const { active_tab } = dashboard;\n        this.setButtonStatus(button_status.LOADING);\n        const { saveFile } = google_drive;\n        let xml;\n        let main_strategy = null;\n        if (active_tab === 1) {\n            xml = window.Blockly?.Xml?.workspaceToDom(window.Blockly?.derivWorkspace);\n        } else {\n            const recent_files = await getSavedWorkspaces();\n            main_strategy = recent_files.filter((strategy: TStrategy) => strategy.id === selected_strategy.id)?.[0];\n            main_strategy.name = bot_name;\n            main_strategy.save_type = is_local ? save_types.LOCAL : save_types.GOOGLE_DRIVE;\n            xml = window.Blockly.utils.xml.textToDom(main_strategy.xml);\n        }\n        xml.setAttribute('is_dbot', 'true');\n        xml.setAttribute('collection', save_as_collection ? 'true' : 'false');\n\n        if (is_local) {\n            save(bot_name, save_as_collection, xml);\n        } else {\n            await saveFile({\n                name: bot_name,\n                content: Blockly?.Xml?.domToPrettyText(xml),\n                mimeType: 'application/xml',\n            });\n            this.setButtonStatus(button_status.COMPLETED);\n        }\n\n        this.updateBotName(bot_name);\n\n        if (active_tab === 0) {\n            const workspace_id = selected_strategy.id ?? Blockly?.utils?.genUid();\n            await this.addStrategyToWorkspace(workspace_id, is_local, save_as_collection, bot_name, xml);\n            if (main_strategy) await loadStrategyToBuilder(main_strategy);\n        } else {\n            await saveWorkspaceToRecent(xml, is_local ? save_types.LOCAL : save_types.GOOGLE_DRIVE);\n        }\n        this.toggleSaveModal();\n    };\n\n    updateBotName = (bot_name: string): void => {\n        this.bot_name = bot_name;\n    };\n\n    onDriveConnect = async () => {\n        const { google_drive } = this.root_store;\n\n        if (google_drive.is_authorised) {\n            google_drive.signOut();\n        } else {\n            google_drive.signIn();\n        }\n    };\n\n    setButtonStatus = (status: { [key: string]: string } | string | number) => {\n        this.button_status = status;\n    };\n}\n",
            "size_bytes": 6853
        },
        "src/components/button-link/index.ts": {
            "content": "import ButtonLink from './button-link';\n\nexport default ButtonLink;\n",
            "size_bytes": 68
        },
        "src/external/bot-skeleton/scratch/blocks/Advanced/Loops/controls_for.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.controls_for = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize(\n                'count with {{ variable }} from {{ start_number }} to {{ end_number }} by {{ step_size }}',\n                {\n                    variable: '%1',\n                    start_number: '%2',\n                    end_number: '%3',\n                    step_size: '%4',\n                }\n            ),\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VAR',\n                    variable: null,\n                },\n                {\n                    type: 'input_value',\n                    name: 'FROM',\n                    check: 'Number',\n                },\n                {\n                    type: 'input_value',\n                    name: 'TO',\n                    check: 'Number',\n                },\n                {\n                    type: 'input_value',\n                    name: 'BY',\n                    check: 'Number',\n                },\n            ],\n            message1: localize('do %1'),\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'DO',\n                },\n            ],\n            inputsInline: true,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize(\n                'This block uses the variable i to control the iterations. With each iteration, the value of i is determined by the items in a given list.'\n            ),\n            category: window.Blockly.Categories.Loop,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Iterate (1)'),\n            description: localize(\n                'This block uses the variable i to control the iterations. With each iteration, the value of i is determined by the items in a given list.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            FROM: null,\n            TO: null,\n            BY: null,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.controls_for = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const variable0 = window.Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VAR'),\n        window.Blockly.Variables.CATEGORY_NAME\n    );\n    const argument0 =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'FROM',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_ASSIGNMENT\n        ) || '0';\n    const argument1 =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'TO',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_ASSIGNMENT\n        ) || '0';\n    const increment =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'BY',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_ASSIGNMENT\n        ) || '1';\n\n    let branch = window.Blockly.JavaScript.javascriptGenerator.statementToCode(block, 'DO');\n    branch = window.Blockly.JavaScript.javascriptGenerator.addLoopTrap(branch, block.id);\n\n    let code = '';\n\n    if (\n        window.Blockly.isNumber(argument0) &&\n        window.Blockly.isNumber(argument1) &&\n        window.Blockly.isNumber(increment)\n    ) {\n        const up = parseFloat(argument0) <= parseFloat(argument1);\n        const operator = up ? '<=' : '>=';\n        const step = Math.abs(parseFloat(increment));\n\n        const assignment = `${variable0} = ${argument0}`;\n        const condition = `${variable0} ${operator} ${argument1}`;\n        const statement = `${variable0} ${up ? '+=' : '-='} ${step}`;\n\n        code = `\n        for (${assignment}; ${condition}; ${statement}) {\n            ${branch}\n        }\\n`;\n    } else {\n        // Cache non-trivial values to variables to prevent repeated look-ups.\n        let startVar = argument0;\n        if (!argument0.match(/^\\w+$/) && !window.Blockly.isNumber(argument0)) {\n            // eslint-disable-next-line no-underscore-dangle\n            startVar = window.Blockly.JavaScript.variableDB_.getDistinctName(\n                `${variable0}_start`,\n                window.Blockly.Variables.CATEGORY_NAME\n            );\n            code = `var ${startVar} = ${argument0};\\n`;\n        }\n\n        let endVar = argument1;\n        if (!argument1.match(/^\\w+$/) && !window.Blockly.isNumber(argument1)) {\n            // eslint-disable-next-line no-underscore-dangle\n            endVar = window.Blockly.JavaScript.variableDB_.getDistinctName(\n                `${variable0}_end`,\n                window.Blockly.Variables.CATEGORY_NAME\n            );\n            code += `var ${endVar} = ${argument1};\\n`;\n        }\n\n        // Determine loop direction at start, in case one of the bounds changes during loop execution.\n        // eslint-disable-next-line no-underscore-dangle\n        const incVar = window.Blockly.JavaScript.variableDB_.getDistinctName(\n            `${variable0}_inc`,\n            window.Blockly.Variables.CATEGORY_NAME\n        );\n        const incVal = window.Blockly.isNumber(increment) ? Math.abs(increment) : `Math.abs(${increment})`;\n\n        code += `\n        var ${incVar} = ${incVal};\n        if (${startVar} > ${endVar}) {\n            ${incVar} = -${incVar};\n        }\n        for (\n           ${variable0} = ${startVar}; \n           ${incVar} >= 0 ? ${variable0} <= ${endVar} : ${variable0} >= ${endVar};\n           ${variable0} += ${incVar}\n        ) {\n            ${branch};\n        }\\n`;\n    }\n\n    return code;\n};\n",
            "size_bytes": 6070
        },
        "src/pages/bot-builder/quick-strategy/quick-strategy.tsx": {
            "content": "import React, { useRef, useState } from 'react';\nimport { Form as FormikForm, Formik } from 'formik';\nimport { observer } from 'mobx-react-lite';\nimport * as Yup from 'yup';\nimport MobileFullPageModal from '@/components/shared_ui/mobile-full-page-modal';\nimport Modal from '@/components/shared_ui/modal';\nimport Text from '@/components/shared_ui/text';\nimport { config as qs_config } from '@/external/bot-skeleton';\nimport { useStore } from '@/hooks/useStore';\nimport { localize } from '@deriv-com/translations';\nimport { useDevice } from '@deriv-com/ui';\nimport { rudderStackSendCloseEvent } from '../../../analytics/rudderstack-common-events';\nimport DesktopFormWrapper from './form-wrappers/desktop-form-wrapper';\nimport MobileFormWrapper from './form-wrappers/mobile-form-wrapper';\nimport MobileQSFooter from './form-wrappers/mobile-qs-footer';\nimport { QsSteps } from './form-wrappers/trade-constants';\nimport LossThresholdWarningDialog from './parts/loss-threshold-warning-dialog';\nimport { STRATEGIES } from './config';\nimport Form from './form';\nimport { TConfigItem, TFormData, TFormValues } from './types';\nimport './quick-strategy.scss';\n\ntype TFormikWrapper = {\n    children: React.ReactNode;\n};\n\nconst getErrorMessage = (dir: 'MIN' | 'MAX', value: number, type = 'DEFAULT') => {\n    const errors: { [key: string]: { MIN: string; MAX: string } } = {\n        DURATION: {\n            MIN: localize('Minimum duration: {{ value }}', { value }),\n            MAX: localize('Maximum duration: {{ value }}', { value }),\n        },\n        LAST_DIGIT_PREDICTION: {\n            MIN: localize('Enter a value from {{ value }} to 9.', { value }),\n            MAX: localize('Enter a value from 0 to {{ value }}.', { value }),\n        },\n        DEFAULT: {\n            MIN: localize('The value must be equal or greater than {{ value }}', { value }),\n            MAX: localize('The value must be equal or less than {{ value }}', { value }),\n        },\n    };\n    return errors[type][dir];\n};\n\nconst FormikWrapper: React.FC<TFormikWrapper> = observer(({ children }) => {\n    const { quick_strategy } = useStore();\n    const { selected_strategy, form_data, initializeLossThresholdWarningData } = quick_strategy;\n    const config: TConfigItem[][] = STRATEGIES()[selected_strategy]?.fields;\n    const [dynamic_schema, setDynamicSchema] = useState(Yup.object().shape({}));\n    const is_mounted = useRef(true);\n\n    let initial_value: TFormData | null = null;\n\n    const getSavedValues = () => {\n        let data: TFormData | null = null;\n        try {\n            data = JSON.parse(localStorage.getItem('qs-fields') ?? '{}');\n        } catch {\n            data = null;\n        }\n        return data;\n    };\n\n    const getInitialValue = () => {\n        const data = getSavedValues();\n        initial_value = {\n            symbol: data?.symbol ?? qs_config().QUICK_STRATEGY.DEFAULT.symbol,\n            tradetype: data?.tradetype ?? '',\n            type: data?.type ?? '',\n            durationtype: data?.durationtype ?? qs_config().QUICK_STRATEGY.DEFAULT.durationtype,\n            duration: data?.duration ?? '1',\n            stake: data?.stake ?? '1',\n            loss: data?.loss ?? '',\n            profit: data?.profit ?? '',\n            size: data?.size ?? String(qs_config().QUICK_STRATEGY.DEFAULT.size),\n            unit: data?.unit ?? String(qs_config().QUICK_STRATEGY.DEFAULT.unit),\n            action: data?.action ?? 'RUN',\n            max_stake: data?.max_stake ?? 10,\n            boolean_max_stake: data?.boolean_max_stake ?? false,\n            last_digit_prediction: data?.last_digit_prediction ?? 1,\n            growth_rate: data?.growth_rate ?? '0.01',\n            tick_count: data?.tick_count ?? 0,\n            take_profit: data?.take_profit ?? 0,\n            boolean_tick_count: data?.boolean_tick_count ?? false,\n            max_payout: data?.max_payout ?? 0,\n            max_ticks: data?.max_ticks ?? 0,\n        };\n        return initial_value;\n    };\n\n    React.useEffect(() => {\n        return () => {\n            is_mounted.current = false;\n        };\n    }, []);\n\n    React.useEffect(() => {\n        initializeLossThresholdWarningData();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const updateSchema = (formikData: TFormData) => {\n        const sub_schema: Record<string, any> = {};\n        config.forEach(group => {\n            if (!group?.length) return null;\n            group.forEach(field => {\n                if (field?.validation?.length && field?.name) {\n                    if (field.validation.includes('number')) {\n                        let schema: Record<string, any> = Yup.number().typeError(localize('Must be a number'));\n                        let min = 0;\n                        let max = 10;\n                        let min_error = getErrorMessage('MIN', min);\n                        let max_error = getErrorMessage('MAX', max);\n                        let integer_error_message = '';\n                        const { current_duration_min_max } = quick_strategy;\n                        if (field.name === 'duration' && current_duration_min_max) {\n                            min = current_duration_min_max.min;\n                            max = current_duration_min_max.max;\n                            min_error = getErrorMessage('MIN', min, 'DURATION');\n                            max_error = getErrorMessage('MAX', max, 'DURATION');\n                        }\n                        const should_validate = field.should_have\n                            ? field.should_have?.every(item => {\n                                  const item_value = formikData?.[item.key]?.toString();\n                                  if (item.multiple) return item.multiple.includes(item_value);\n                                  return formikData?.[item.key] === item.value;\n                              })\n                            : true;\n                        if (should_validate && field.name === 'max_stake') {\n                            min = +form_data?.stake;\n                            if (isNaN(min)) {\n                                min = +(initial_value?.stake ?? 0);\n                            }\n                            min_error = getErrorMessage('MIN', min);\n                        }\n                        if (should_validate && field.name === 'last_digit_prediction') {\n                            min = 0;\n                            max = 9;\n                            max_error = getErrorMessage('MAX', max, 'LAST_DIGIT_PREDICTION');\n                            integer_error_message = 'Enter a value from 0 to 9.';\n                        }\n                        if (should_validate) {\n                            field.validation.forEach(validation => {\n                                if (typeof validation === 'string') {\n                                    switch (validation) {\n                                        case 'required':\n                                            schema = schema.required(localize('Field cannot be empty'));\n                                            break;\n                                        case 'min':\n                                            schema = schema.min(min, min_error);\n                                            break;\n                                        case 'max':\n                                            schema = schema.max(max, max_error);\n                                            break;\n                                        case 'ceil':\n                                            schema = schema.round('ceil');\n                                            break;\n                                        case 'floor':\n                                            schema = schema.round('floor');\n                                            break;\n                                        case 'integer':\n                                            schema = schema.integer(integer_error_message);\n                                            break;\n                                        default:\n                                            break;\n                                    }\n                                } else if (typeof validation === 'object') {\n                                    if (validation?.type) {\n                                        // Use dynamic value if available\n                                        const value = validation.getDynamicValue\n                                            ? validation.getDynamicValue(quick_strategy)\n                                            : validation.value;\n\n                                        schema = schema[validation.type](value, localize(validation.getMessage(value)));\n                                    }\n                                }\n                            });\n                        }\n                        sub_schema[field.name] = schema;\n                    }\n                }\n            });\n        });\n        if (is_mounted.current) {\n            setDynamicSchema(Yup.object().shape(sub_schema));\n        }\n    };\n\n    const handleSubmit = (form_data: TFormData) => {\n        updateSchema(form_data);\n        localStorage?.setItem('qs-fields', JSON.stringify(form_data));\n        return form_data;\n    };\n\n    return (\n        <Formik\n            initialValues={getInitialValue()}\n            validationSchema={dynamic_schema}\n            onSubmit={handleSubmit}\n            validate={values => updateSchema(values)}\n            validateOnChange={false}\n        >\n            {children}\n        </Formik>\n    );\n});\n\nconst QuickStrategy = observer(() => {\n    const { quick_strategy } = useStore();\n    const { isDesktop } = useDevice();\n    const { is_open, setFormVisibility, form_data, selected_strategy } = quick_strategy;\n\n    const active_tab_ref = useRef<HTMLDivElement>(null);\n    const [current_step, setCurrentStep] = React.useState(QsSteps.StrategySelect);\n    const [selected_trade_type, setSelectedTradeType] = React.useState('');\n\n    // Prevent body scrolling when modal is open\n    React.useEffect(() => {\n        if (is_open) {\n            document.body.style.overflow = 'hidden';\n        } else {\n            document.body.style.overflow = '';\n        }\n\n        return () => {\n            document.body.style.overflow = '';\n        };\n    }, [is_open]);\n\n    const sendRudderStackQsFormCloseData = () => {\n        const active_tab =\n            active_tab_ref.current?.querySelector('.active')?.textContent?.toLowerCase() === 'learn more'\n                ? 'learn more'\n                : 'trade parameters';\n        rudderStackSendCloseEvent({\n            subform_name: 'quick_strategy',\n            quick_strategy_tab: active_tab,\n            selected_strategy,\n            form_values: form_data as TFormValues,\n        });\n    };\n\n    const handleClose = () => {\n        sendRudderStackQsFormCloseData();\n        setFormVisibility(false);\n    };\n\n    return (\n        <FormikWrapper>\n            <FormikForm>\n                <LossThresholdWarningDialog />\n                {isDesktop ? (\n                    <Modal className='modal--strategy' is_open={is_open} width='72rem'>\n                        <DesktopFormWrapper\n                            onClickClose={handleClose}\n                            setCurrentStep={setCurrentStep}\n                            current_step={current_step}\n                            selected_trade_type={selected_trade_type}\n                            setSelectedTradeType={setSelectedTradeType}\n                        >\n                            <Form />\n                        </DesktopFormWrapper>\n                    </Modal>\n                ) : (\n                    <>\n                        <MobileFullPageModal\n                            is_modal_open={is_open}\n                            className='quick-strategy__wrapper'\n                            header={\n                                <Text size='xs' weight='bold'>\n                                    {localize(\n                                        `Step ${current_step === QsSteps.StrategyCompleted ? 2 : 1}/2: Choose your strategy`\n                                    )}\n                                </Text>\n                            }\n                            onClickClose={handleClose}\n                            height_offset='8rem'\n                        >\n                            <MobileFormWrapper\n                                setCurrentStep={setCurrentStep}\n                                current_step={current_step}\n                                selected_trade_type={selected_trade_type}\n                                setSelectedTradeType={setSelectedTradeType}\n                            >\n                                <Form />\n                            </MobileFormWrapper>\n                        </MobileFullPageModal>\n                        <MobileQSFooter setCurrentStep={setCurrentStep} current_step={current_step} />\n                    </>\n                )}\n            </FormikForm>\n        </FormikWrapper>\n    );\n});\n\nexport default QuickStrategy;\n",
            "size_bytes": 13113
        },
        "src/pages/tutorials/dbot-tours/common/tour-steps.tsx": {
            "content": "import React from 'react';\nimport { observer } from 'mobx-react-lite';\nimport Text from '@/components/shared_ui/text';\nimport { getUUID } from '@/external/bot-skeleton/services/tradeEngine/utils/helpers';\n\ntype TTourSteps = {\n    content: React.ReactElement[];\n    media?: string;\n    label: React.ReactElement;\n    step_index: number;\n    show_actions?: boolean;\n    has_localize_component?: boolean;\n};\n\nconst TourSteps = observer(\n    ({ content, media, label, step_index, has_localize_component = false, show_actions = true }: TTourSteps) => {\n        return (\n            <React.Fragment>\n                <div className='onboard'>\n                    {show_actions && (\n                        <div className='onboard__header'>\n                            <Text color='less-prominent' lineHeight='l'>\n                                {step_index}/6\n                            </Text>\n                        </div>\n                    )}\n                    <div className='onboard__steps'>\n                        <div className='onboard__label'>\n                            <Text as='p' lineHeight='l' weight='bold'>\n                                {label}\n                            </Text>\n                        </div>\n\n                        {media && (\n                            <video\n                                autoPlay={true}\n                                loop\n                                controls\n                                preload='auto'\n                                playsInline\n                                disablePictureInPicture\n                                controlsList='nodownload'\n                                style={{ width: '100%' }}\n                                src={media}\n                            />\n                        )}\n\n                        <div className='onboard__content'>\n                            <>\n                                {content.map(content_data => {\n                                    return has_localize_component ? (\n                                        content_data\n                                    ) : (\n                                        <div className='onboard__content__block' key={`onboard--${getUUID()}`}>\n                                            <Text align='left' as='p' size='xs' lineHeight='l'>\n                                                {content_data}\n                                            </Text>\n                                        </div>\n                                    );\n                                })}\n                            </>\n                        </div>\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n);\n\nexport default TourSteps;\n",
            "size_bytes": 2748
        },
        "src/external/bot-skeleton/scratch/blocks/Advanced/List/index.js": {
            "content": "import './lists_create_with';\nimport './lists_repeat';\nimport './lists_length';\nimport './lists_isEmpty';\nimport './lists_indexOf';\nimport './lists_getIndex';\nimport './lists_setIndex';\nimport './lists_getSublist';\nimport './lists_split';\nimport './lists_sort';\nimport './lists_statement';\n",
            "size_bytes": 290
        },
        "src/components/shared_ui/badge/index.ts": {
            "content": "import Badge from './badge';\nimport './badge.scss';\n\nexport default Badge;\n",
            "size_bytes": 75
        },
        "src/external/bot-skeleton/scratch/blocks/Advanced/List/lists_repeat.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { emptyTextValidator, modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.lists_repeat = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('create list with item {{ input_item }} repeated {{ number }} times', {\n                input_item: '%1',\n                number: '%2',\n            }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'ITEM',\n                },\n                {\n                    type: 'input_value',\n                    name: 'NUM',\n                },\n            ],\n            inputsInline: true,\n            output: null,\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Creates a list by repeating a given item'),\n            category: window.Blockly.Categories.List,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Repeat an item'),\n            description: localize('Creates a list with a given item repeated for a specific number of times.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            ITEM: emptyTextValidator,\n            NUM: emptyTextValidator,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.lists_repeat = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const function_name = window.Blockly.JavaScript.javascriptGenerator.provideFunction_('listsRepeat', [\n        // eslint-disable-next-line no-underscore-dangle\n        `function ${window.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(value, n) {\n            var array = [];\n            for (var i = 0; i < n; i++) {\n                array[i] = value;\n            }\n            return array;\n        }`,\n    ]);\n\n    const element =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'ITEM',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_COMMA\n        ) || 'null';\n    const repeat_count =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'NUM',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_COMMA\n        ) || '0';\n    const code = `${function_name}(${element}, ${repeat_count})`;\n\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_FUNCTION_CALL];\n};\n",
            "size_bytes": 2739
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Tools/Misc/total_profit.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../../utils';\n\nwindow.Blockly.Blocks.total_profit = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Total profit/loss'),\n            output: 'Number',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the total profit/loss'),\n            category: window.Blockly.Categories.Miscellaneous,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Total profit/loss'),\n            description: localize(\n                'This block gives you the total profit/loss of your trading strategy since your bot started running. You can reset this by clicking Clear stats on the Transaction Stats window, or by refreshing this page in your browser.'\n            ),\n        };\n    },\n    onchange(event) {\n        if (!this.workspace || window.Blockly.derivWorkspace.isFlyoutVisible || this.workspace.isDragging()) {\n            return;\n        }\n\n        if (\n            (event.type === window.Blockly.Events.BLOCK_DRAG && !event.isStart) ||\n            (event.type === window.Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id))\n        ) {\n            const input_statement = this.getRootInputTargetBlock();\n\n            if (input_statement === 'INITIALIZATION') {\n                this.unplug(true);\n            }\n        }\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.Blocks.total_profit_string = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Total Profit String'),\n            output: 'String',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the total profit in string format'),\n            category: window.Blockly.Categories.Miscellaneous,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Total Profit String'),\n            description: localize('Total Profit String Description'),\n        };\n    },\n    onchange: window.Blockly.Blocks.total_profit.onchange,\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.total_profit = () => [\n    'Bot.getTotalProfit(false)',\n    window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC,\n];\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.total_profit_string = () => [\n    'Bot.getTotalProfit(true)',\n    window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC,\n];\n",
            "size_bytes": 3016
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Indicators/Parts/input_list.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu, runIrreversibleEvents } from '../../../../utils';\n\nwindow.Blockly.Blocks.input_list = {\n    init() {\n        this.jsonInit({\n            message0: localize('Input List {{ input_list }}', { input_list: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'INPUT_LIST',\n                    check: 'Array',\n                },\n            ],\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange(event) {\n        if (!this.workspace || window.Blockly.derivWorkspace.isFlyoutVisible || this.workspace.isDragging()) {\n            return;\n        }\n\n        const setParentId = () => {\n            const surround_parent = this.getSurroundParent();\n            if (surround_parent && !this.required_parent_id && this.allowed_parents.includes(surround_parent.type)) {\n                this.required_parent_id = surround_parent.id;\n            }\n        };\n\n        if (event.type === window.Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id)) {\n            setParentId();\n        } else if (event.type === window.Blockly.Events.BLOCK_DRAG && !event.isStart) {\n            setParentId();\n\n            const surround_parent = this.getSurroundParent();\n            const has_parent = !!surround_parent;\n            const is_illegal_parent = !has_parent || surround_parent.id !== this.required_parent_id;\n\n            if (!has_parent || is_illegal_parent) {\n                runIrreversibleEvents(() => {\n                    this.unplug(true);\n\n                    // Attempt to re-connect this child to its original parent.\n                    const all_blocks = this.workspace.getAllBlocks();\n                    const parent_block = all_blocks.find(block => block.id === this.required_parent_id);\n\n                    if (parent_block) {\n                        const parent_connection = parent_block.getLastConnectionInStatement('STATEMENT');\n                        parent_connection.connect(this.previousConnection);\n                    } else {\n                        this.dispose();\n                    }\n                });\n            }\n        }\n    },\n    allowed_parents: [\n        'bb_statement',\n        'bba_statement',\n        'ema_statement',\n        'emaa_statement',\n        'macda_statement',\n        'rsi_statement',\n        'rsia_statement',\n        'sma_statement',\n        'smaa_statement',\n    ],\n    getRequiredValueInputs() {\n        return {\n            INPUT_LIST: null,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.input_list = () => {};\n",
            "size_bytes": 3024
        },
        "src/types/dbot.types.ts": {
            "content": "export type TBotSkeleton = {\n    interpreter: unknown;\n    workspace: window.Blockly.WorkspaceSvg | null;\n    before_run_funcs: (() => boolean)[];\n    initWorkspace: (\n        public_path: string,\n        store: unknown,\n        // api_helpers_store: unknown,\n        is_mobile: boolean\n    ) => Promise<void>;\n    saveRecentWorkspace: () => void;\n    addBeforeRunFunction: (func: () => void) => void;\n    shouldRunBot: () => boolean;\n    runBot: () => void;\n    generateCode: (limitations?: Record<string, unknown>) => string;\n    stopBot: () => void;\n    terminateBot: () => void;\n    terminateConnection: () => void;\n    unselectBlocks: () => boolean;\n    disableStrayBlocks: () => boolean;\n    disableBlocksRecursively: (block: window.Blockly.Block) => void;\n    checkForErroredBlocks: () => boolean;\n    centerAndHighlightBlock: (block_id: string, should_animate?: boolean) => void;\n    unHighlightAllBlocks: () => void;\n    checkForRequiredBlocks: () => boolean;\n    valueInputLimitationsListener: (event: unknown, force_check?: boolean) => void | boolean;\n    getStrategySounds: () => unknown[];\n    handleDragOver?: (event: unknown) => void;\n    handleDropOver?: (event: unknown, handleFileChange: () => void) => void;\n};\n",
            "size_bytes": 1230
        },
        "src/external/bot-skeleton/scratch/hooks/index.js": {
            "content": "import './block';\nimport './block_svg';\nimport './colours';\nimport './constant';\nimport './data_category';\nimport './field';\nimport './flyout_base';\nimport './gesture';\nimport './icon';\nimport './procedures';\nimport './trashcan';\nimport './workspace';\nimport './workspace_svg';\nimport './scratch_block_comment';\nimport './tooltip';\nimport './variable';\n",
            "size_bytes": 353
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Indicators/sma_statement.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.sma_statement = {\n    protected_statements: ['STATEMENT'],\n    required_child_blocks: ['input_list', 'period'],\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to Simple Moving Average {{ dummy }}', {\n                variable: '%1',\n                dummy: '%2',\n            }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: 'sma',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STATEMENT',\n                    check: null,\n                },\n            ],\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Calculates Simple Moving Average (SMA) from a list with a period'),\n            previousStatement: null,\n            nextStatement: null,\n            category: window.Blockly.Categories.Indicators,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    meta() {\n        return {\n            display_name: localize('Simple Moving Average (SMA)'),\n            description: localize(\n                'SMA is a frequently used indicator in technical analysis. It calculates the average market price over a specified period, and is usually used to identify market trend direction: up or down. For example, if the SMA is moving upwards, it means the market trend is up. '\n            ),\n        };\n    },\n    onchange: window.Blockly.Blocks.bb_statement.onchange,\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.sma_statement = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = window.Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        window.Blockly.Variables.CATEGORY_NAME\n    );\n    const input = block.childValueToCode('input_list', 'INPUT_LIST');\n    const period = block.childValueToCode('period', 'PERIOD');\n    const code = `${var_name} = Bot.sma(${input}, ${period});\\n`;\n\n    return code;\n};\n",
            "size_bytes": 2544
        },
        "src/external/indicators/indicators/simple-moving-average.js": {
            "content": "import { sequence } from '@/components/shared';\nimport { sum, takeLast } from '../utils/math';\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  pipSize: number,\n * }\n */\nexport const simpleMovingAverage = (data, config) => {\n    const { periods, field } = config;\n\n    if (data.length < periods) {\n        throw new Error('Periods longer than data length');\n    }\n\n    const vals = takeLast(data, periods, field);\n\n    return sum(vals) / periods;\n};\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  pipSize: number,\n * }\n */\nexport const simpleMovingAverageArray = (data, config) => {\n    const { periods, pipSize = 2 } = config;\n    return sequence(data.length - periods + 1).map(\n        (x, i) => +simpleMovingAverage(data.slice(i, i + periods), config).toFixed(pipSize)\n    );\n};\n",
            "size_bytes": 964
        },
        "src/external/bot-skeleton/services/tradeEngine/utils/broadcast.js": {
            "content": "import { config } from '../../../constants/config';\nimport { observer as globalObserver } from '../../../utils/observer';\n\nexport const contract = c => globalObserver.emit('bot.contract', c);\n\nexport const contractStatus = c => globalObserver.emit('contract.status', c);\n\nexport const info = i => globalObserver.emit('bot.info', i);\n\nexport const notify = (className, message) =>\n    globalObserver.emit('ui.log.notify', { className, message, sound: config().lists.NOTIFICATION_SOUND[0][1] });\n\nexport const log = (log_type, extra) => globalObserver.emit('ui.log.success', { log_type, extra });\n\nexport const error = message => globalObserver.emit('ui.log.error', message);\n",
            "size_bytes": 674
        },
        "src/external/bot-skeleton/utils/contract.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { config } from '../constants/config';\n\n// TODO: use-shared-functions - These functions are duplicates of trader ones, export and use these instead.\nexport const getContractTypeName = contract => {\n    const { opposites } = config();\n    let name = localize('Unknown');\n\n    Object.keys(opposites).forEach(opposites_name => {\n        const contract_type_objs = opposites[opposites_name];\n\n        contract_type_objs.forEach(contract_type_obj => {\n            const contract_type_names = Object.entries(contract_type_obj)[0]; // ['CALL', 'Rise']\n\n            if (contract_type_names[0] === contract.contract_type) {\n                // Extra check for CALL & PUT types to distinguish Rise/Fall & Higher/Lower.\n                if (['CALL', 'PUT'].includes(contract_type_names[0])) {\n                    const shortcode_suffix = contract.shortcode.split('_').slice(-2)[0];\n                    const is_risefall = /^S0P$/.test(shortcode_suffix);\n                    const req_opposite_name = is_risefall ? 'CALLPUT' : 'HIGHERLOWER';\n\n                    if (opposites_name !== req_opposite_name) {\n                        return;\n                    }\n                }\n\n                name = contract_type_names[1];\n            }\n        });\n    });\n\n    return name;\n};\n",
            "size_bytes": 1327
        },
        "src/components/shared/utils/hooks/index.ts": {
            "content": "export * from './mounted';\nexport * from './new-row-transition';\n",
            "size_bytes": 65
        },
        "analysis-tool/Benanalysistool-final-main/components/tabs/over-under-tab.tsx": {
            "content": "\"use client\"\n\nimport { useState } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { LastDigitsChart } from \"@/components/charts/last-digits-chart\"\nimport { LastDigitsLineChart } from \"@/components/charts/last-digits-line-chart\"\nimport type { Signal, AnalysisResult } from \"@/lib/analysis-engine\"\n\ninterface OverUnderTabProps {\n  analysis: AnalysisResult | null\n  signals: Signal[]\n  currentDigit: number | null\n  currentPrice: number | null\n  recentDigits: number[]\n  theme?: \"light\" | \"dark\"\n}\n\nexport function OverUnderTab({\n  analysis,\n  signals,\n  currentDigit,\n  currentPrice,\n  recentDigits,\n  theme = \"dark\",\n}: OverUnderTabProps) {\n  const [selectedDigit, setSelectedDigit] = useState<number>(4)\n\n  if (!analysis) {\n    return (\n      <div className=\"text-center py-16\">\n        <p className={theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}>Loading analysis...</p>\n      </div>\n    )\n  }\n\n  const last50Digits = recentDigits.slice(-50)\n  const last20Digits = recentDigits.slice(-20)\n  const last10Digits = recentDigits.slice(-10)\n\n  const getUnderOverRanges = (digit: number) => {\n    // 0  0 under | 19 over\n    if (digit === 0) {\n      return { underRange: [0], overRange: [1, 2, 3, 4, 5, 6, 7, 8, 9] }\n    }\n    // 1  01 under | 29 over\n    else if (digit === 1) {\n      return { underRange: [0, 1], overRange: [2, 3, 4, 5, 6, 7, 8, 9] }\n    }\n    // 2  02 under | 39 over\n    else if (digit === 2) {\n      return { underRange: [0, 1, 2], overRange: [3, 4, 5, 6, 7, 8, 9] }\n    }\n    // 3  03 under | 49 over\n    else if (digit === 3) {\n      return { underRange: [0, 1, 2, 3], overRange: [4, 5, 6, 7, 8, 9] }\n    }\n    // 4  04 under | 59 over\n    else if (digit === 4) {\n      return { underRange: [0, 1, 2, 3, 4], overRange: [5, 6, 7, 8, 9] }\n    }\n    // 5  05 under | 69 over\n    else if (digit === 5) {\n      return { underRange: [0, 1, 2, 3, 4, 5], overRange: [6, 7, 8, 9] }\n    }\n    // 6  06 under | 79 over\n    else if (digit === 6) {\n      return { underRange: [0, 1, 2, 3, 4, 5, 6], overRange: [7, 8, 9] }\n    }\n    // 7  07 under | 89 over\n    else if (digit === 7) {\n      return { underRange: [0, 1, 2, 3, 4, 5, 6, 7], overRange: [8, 9] }\n    }\n    // 8  08 under | 9 over\n    else if (digit === 8) {\n      return { underRange: [0, 1, 2, 3, 4, 5, 6, 7, 8], overRange: [9] }\n    }\n    // 9  08 under | 9 over\n    else {\n      return { underRange: [0, 1, 2, 3, 4, 5, 6, 7, 8], overRange: [9] }\n    }\n  }\n\n  const { underRange, overRange } = getUnderOverRanges(selectedDigit)\n\n  const underDigits = last50Digits.filter((d) => underRange.includes(d) && d !== selectedDigit)\n  const overDigits = last50Digits.filter((d) => overRange.includes(d) && d !== selectedDigit)\n\n  const overCount = overDigits.length\n  const underCount = underDigits.length\n  const totalValidDigits = overCount + underCount\n  const overPercent = totalValidDigits > 0 ? (overCount / totalValidDigits) * 100 : 0\n  const underPercent = totalValidDigits > 0 ? (underCount / totalValidDigits) * 100 : 0\n\n  const underInLast10 = last10Digits.filter((d) => underRange.includes(d) && d !== selectedDigit).length\n  const underInLast20 = last20Digits.filter((d) => underRange.includes(d) && d !== selectedDigit).length\n  const overInLast10 = last10Digits.filter((d) => overRange.includes(d) && d !== selectedDigit).length\n  const overInLast20 = last20Digits.filter((d) => overRange.includes(d) && d !== selectedDigit).length\n\n  const underPercentLast10 = (underInLast10 / (underInLast10 + overInLast10)) * 100 || 0\n  const underPercentLast20 = (underInLast20 / (underInLast20 + overInLast20)) * 100 || 0\n  const overPercentLast10 = (overInLast10 / (underInLast10 + overInLast10)) * 100 || 0\n  const overPercentLast20 = (overInLast20 / (underInLast20 + overInLast20)) * 100 || 0\n\n  const underIncreasing = underPercentLast10 > underPercentLast20\n  const overIncreasing = overPercentLast10 > overPercentLast20\n\n  const underDigitCounts = new Map<number, number>()\n  const overDigitCounts = new Map<number, number>()\n\n  underDigits.forEach((d) => {\n    underDigitCounts.set(d, (underDigitCounts.get(d) || 0) + 1)\n  })\n\n  overDigits.forEach((d) => {\n    overDigitCounts.set(d, (overDigitCounts.get(d) || 0) + 1)\n  })\n\n  let strongestUnder: number | null = null\n  let maxUnderCount = 0\n  underDigitCounts.forEach((count, digit) => {\n    if (count > maxUnderCount) {\n      maxUnderCount = count\n      strongestUnder = digit\n    }\n  })\n\n  let strongestOver: number | null = null\n  let maxOverCount = 0\n  overDigitCounts.forEach((count, digit) => {\n    if (count > maxOverCount) {\n      maxOverCount = count\n      strongestOver = digit\n    }\n  })\n\n  let marketStatus: \"OVER\" | \"UNDER\" | \"NEUTRAL\" = \"NEUTRAL\"\n  let hasSignal = false\n  let signalType = \"\"\n  let entryDigit: number | null = null\n\n  if (overPercent >= 60 && overIncreasing) {\n    marketStatus = \"OVER\"\n    hasSignal = true\n    signalType = \"Over\"\n    entryDigit = strongestOver\n  } else if (underPercent >= 60 && underIncreasing) {\n    marketStatus = \"UNDER\"\n    hasSignal = true\n    signalType = \"Under\"\n    entryDigit = strongestUnder\n  }\n\n  let currentStreak = 0\n  let streakType: \"Over\" | \"Under\" = \"Over\"\n  for (let i = last50Digits.length - 1; i >= 0; i--) {\n    const digit = last50Digits[i]\n    if (digit === selectedDigit) continue\n    const isOver = overRange.includes(digit)\n    if (i === last50Digits.length - 1) {\n      streakType = isOver ? \"Over\" : \"Under\"\n      currentStreak = 1\n    } else {\n      if ((isOver && streakType === \"Over\") || (!isOver && streakType === \"Under\")) {\n        currentStreak++\n      } else {\n        break\n      }\n    }\n  }\n\n  const digitBoxes = last50Digits.map((d, idx) => {\n    if (d === selectedDigit) {\n      return { label: \"C\", isOver: false, digit: d, index: idx, isCurrent: true }\n    }\n    const isOver = overRange.includes(d)\n    return {\n      label: isOver ? \"O\" : \"U\",\n      isOver,\n      digit: d,\n      index: idx,\n      isCurrent: false,\n    }\n  })\n\n  return (\n    <div className=\"space-y-6\">\n      <div\n        className={`rounded-xl p-4 sm:p-6 border ${\n          theme === \"dark\"\n            ? \"bg-gradient-to-br from-[#0f1629]/80 to-[#1a2235]/80 border-blue-500/20\"\n            : \"bg-white border-gray-200\"\n        }`}\n      >\n        <div className=\"text-center mb-6\">\n          <h2 className={`text-2xl sm:text-3xl font-bold mb-3 ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}>\n            Over/Under Analysis (Selected: {selectedDigit})\n          </h2>\n          <Badge\n            className={`text-sm px-4 py-1 ${\n              marketStatus === \"OVER\"\n                ? \"bg-emerald-500 text-white\"\n                : marketStatus === \"UNDER\"\n                  ? \"bg-blue-500 text-white\"\n                  : \"bg-slate-500 text-white\"\n            }`}\n          >\n            {marketStatus} {hasSignal && `(${overIncreasing || underIncreasing ? \"\" : \"\"})`}\n          </Badge>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 sm:gap-8 mb-6\">\n          <div className=\"space-y-3\">\n            <div className=\"text-center\">\n              <div className={`text-4xl sm:text-5xl font-bold text-blue-400 mb-2`}>{underPercent.toFixed(1)}%</div>\n              <div\n                className={`text-base sm:text-lg font-semibold ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}\n              >\n                Under ({underRange.join(\", \")}) {underIncreasing ? \"\" : \"\"}\n              </div>\n            </div>\n            <div className=\"h-6 bg-gray-800 rounded-full overflow-hidden\">\n              <div\n                className=\"h-full bg-gradient-to-r from-blue-500 to-cyan-400 rounded-full transition-all duration-500 animate-pulse-slow\"\n                style={{ width: `${underPercent}%` }}\n              />\n            </div>\n            <div className={`text-center text-sm ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>\n              Count: {underCount} | Strongest:{\" \"}\n              <span className=\"inline-block bg-blue-500 text-white px-2 py-0.5 rounded font-bold\">\n                {strongestUnder ?? \"-\"}\n              </span>\n            </div>\n          </div>\n\n          <div className=\"space-y-3\">\n            <div className=\"text-center\">\n              <div className=\"text-4xl sm:text-5xl font-bold text-emerald-400 mb-2\">{overPercent.toFixed(1)}%</div>\n              <div\n                className={`text-base sm:text-lg font-semibold ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}\n              >\n                Over ({overRange.join(\", \")}) {overIncreasing ? \"\" : \"\"}\n              </div>\n            </div>\n            <div className=\"h-6 bg-gray-800 rounded-full overflow-hidden\">\n              <div\n                className=\"h-full bg-gradient-to-r from-emerald-500 to-green-400 rounded-full transition-all duration-500 animate-pulse-slow\"\n                style={{ width: `${overPercent}%` }}\n              />\n            </div>\n            <div className={`text-center text-sm ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>\n              Count: {overCount} | Strongest:{\" \"}\n              <span className=\"inline-block bg-emerald-500 text-white px-2 py-0.5 rounded font-bold\">\n                {strongestOver ?? \"-\"}\n              </span>\n            </div>\n          </div>\n        </div>\n\n        {hasSignal && (\n          <div className=\"text-center mb-6\">\n            <Button\n              size=\"lg\"\n              className={`text-base sm:text-lg font-bold px-6 sm:px-8 py-4 sm:py-6 ${\n                signalType === \"Over\"\n                  ? \"bg-gradient-to-r from-emerald-500 to-green-500 hover:from-emerald-600 hover:to-green-600 shadow-[0_0_30px_rgba(16,185,129,0.5)]\"\n                  : \"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 shadow-[0_0_30px_rgba(59,130,246,0.5)]\"\n              } text-white animate-pulse`}\n            >\n              TRADE NOW {signalType.toUpperCase()}\n            </Button>\n          </div>\n        )}\n\n        <div className=\"text-center\">\n          <div\n            className={`text-base sm:text-lg font-semibold mb-2 ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}\n          >\n            Entry Conditions:\n          </div>\n          <div className={`text-sm sm:text-base font-medium ${theme === \"dark\" ? \"text-cyan-400\" : \"text-cyan-700\"}`}>\n            {hasSignal\n              ? `Enter ${signalType} when digit ${entryDigit ?? \"-\"} appears (highest in ${signalType} range)`\n              : \"Wait for market to show clear direction (55%+ and increasing)\"}\n          </div>\n          {hasSignal && (\n            <div className={`mt-2 text-xs sm:text-sm ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>\n              Market Power: {signalType === \"Over\" ? overPercent.toFixed(1) : underPercent.toFixed(1)}% - Strong{\" \"}\n              {signalType} bias detected and increasing\n            </div>\n          )}\n        </div>\n      </div>\n\n      {last20Digits.length > 0 && (\n        <div\n          className={`rounded-xl p-6 border ${\n            theme === \"dark\"\n              ? \"bg-gradient-to-br from-[#0f1629]/80 to-[#1a2235]/80 border-blue-500/20\"\n              : \"bg-white border-gray-200\"\n          }`}\n        >\n          <h3 className={`text-xl font-bold mb-4 text-center ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}>\n            Last 20 Digits\n          </h3>\n          <LastDigitsChart digits={last20Digits} />\n        </div>\n      )}\n\n      {last20Digits.length >= 10 && (\n        <div\n          className={`rounded-xl p-6 border ${\n            theme === \"dark\"\n              ? \"bg-gradient-to-br from-[#0f1629]/80 to-[#1a2235]/80 border-blue-500/20\"\n              : \"bg-white border-gray-200\"\n          }`}\n        >\n          <h3 className={`text-xl font-bold mb-4 text-center ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}>\n            Digits Line Chart\n          </h3>\n          <LastDigitsLineChart digits={last20Digits.slice(-10)} />\n        </div>\n      )}\n\n      <div\n        className={`rounded-xl p-6 border ${\n          theme === \"dark\"\n            ? \"bg-gradient-to-br from-[#0f1629]/80 to-[#1a2235]/80 border-blue-500/20\"\n            : \"bg-white border-gray-200\"\n        }`}\n      >\n        <h3 className={`text-xl font-bold mb-4 text-center ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}>\n          Select Digit for Over/Under Analysis\n        </h3>\n\n        <div className=\"flex gap-2 justify-center mb-6 flex-wrap\">\n          {[0, 1, 2, 3, 4, 5, 6, 7, 8, 9].map((digit) => (\n            <Button\n              key={digit}\n              onClick={() => setSelectedDigit(digit)}\n              variant=\"outline\"\n              className={`w-12 h-12 font-bold text-lg transition-all ${\n                selectedDigit === digit\n                  ? \"bg-amber-500 text-white border-amber-400 shadow-[0_0_20px_rgba(245,158,11,0.6)] scale-110\"\n                  : theme === \"dark\"\n                    ? \"bg-gray-700 text-white border-gray-600 hover:bg-gray-600\"\n                    : \"bg-gray-200 text-gray-900 border-gray-300 hover:bg-gray-300\"\n              }`}\n            >\n              {digit}\n            </Button>\n          ))}\n        </div>\n\n        <div className=\"space-y-4 mb-6\">\n          <div className=\"space-y-2\">\n            <div className=\"flex justify-between items-center\">\n              <span className={`font-semibold ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}>\n                Over ({overRange.join(\", \")})\n              </span>\n              <span className=\"text-emerald-400 font-bold text-xl\">{overPercent.toFixed(1)}%</span>\n            </div>\n            <div className=\"h-6 bg-gray-800 rounded-full overflow-hidden\">\n              <div\n                className=\"h-full bg-gradient-to-r from-emerald-500 to-green-400 rounded-full transition-all duration-500 flex items-center justify-end pr-2 animate-pulse-slow\"\n                style={{ width: `${overPercent}%` }}\n              >\n                <span className=\"text-white text-xs font-bold\">{overCount}</span>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"space-y-2\">\n            <div className=\"flex justify-between items-center\">\n              <span className={`font-semibold ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}>\n                Under ({underRange.join(\", \")})\n              </span>\n              <span className=\"text-blue-400 font-bold text-xl\">{underPercent.toFixed(1)}%</span>\n            </div>\n            <div className=\"h-6 bg-gray-800 rounded-full overflow-hidden\">\n              <div\n                className=\"h-full bg-gradient-to-r from-blue-500 to-cyan-400 rounded-full transition-all duration-500 flex items-center justify-end pr-2 animate-pulse-slow\"\n                style={{ width: `${underPercent}%` }}\n              >\n                <span className=\"text-white text-xs font-bold\">{underCount}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"text-center mb-6\">\n          <div className={`text-lg font-semibold ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>\n            Current Streak:\n          </div>\n          <div\n            className={`text-3xl font-bold ${streakType === \"Over\" ? \"text-emerald-400\" : \"text-blue-400\"} animate-pulse`}\n          >\n            {currentStreak}x {streakType}\n          </div>\n        </div>\n\n        <div className=\"space-y-3\">\n          <h4 className={`text-lg font-semibold text-center ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}>\n            Last 50 Digits (U = Under, O = Over, C = Current Digit {selectedDigit})\n          </h4>\n          <div className=\"flex flex-wrap gap-1 justify-center\">\n            {digitBoxes.map((box, idx) => (\n              <div\n                key={idx}\n                className={`w-8 h-8 sm:w-10 sm:h-10 rounded flex items-center justify-center font-bold text-sm transition-all ${\n                  box.isCurrent\n                    ? \"bg-orange-500 text-white shadow-[0_0_15px_rgba(249,115,22,0.6)] scale-110\"\n                    : box.isOver\n                      ? \"bg-green-500 text-white\"\n                      : \"bg-red-500 text-white\"\n                }`}\n                title={`Digit: ${box.digit}`}\n              >\n                {box.label}\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n",
            "size_bytes": 16577
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Trade Definition/multiplier_stop_loss.js": {
            "content": "import { getCurrencyDisplayCode } from '@/components/shared';\nimport { localize } from '@deriv-com/translations';\nimport { config } from '../../../../constants/config';\nimport { modifyContextMenu, setCurrency } from '../../../utils';\n\nconst description = localize(\n    'Your contract is closed automatically when your loss is more than or equals to this amount. This block can only be used with the multipliers trade type.'\n);\n\nwindow.Blockly.Blocks.multiplier_stop_loss = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Stop Loss: {{ currency }} {{ stop_loss }}', {\n                currency: '%1',\n                stop_loss: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_label',\n                    name: 'CURRENCY_LIST',\n                    text: getCurrencyDisplayCode(config().lists.CURRENCY[0]),\n                },\n                {\n                    type: 'input_value',\n                    name: 'AMOUNT',\n                    check: 'Number',\n                },\n            ],\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: description,\n            category: window.Blockly.Categories.Trade_Definition,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    meta() {\n        return {\n            display_name: localize('Stop loss (Multiplier)'),\n            description,\n        };\n    },\n    onchange(event) {\n        if (!this.workspace || window.Blockly.derivWorkspace.isFlyoutVisible || this.workspace.isDragging()) {\n            return;\n        }\n        if (\n            (event.type === window.Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id)) ||\n            (event.type === window.Blockly.Events.BLOCK_DRAG && !event.isStart) ||\n            (event.type === window.Blockly.Events.BLOCK_CHANGE && !event.isStart)\n        ) {\n            setCurrency(this);\n        }\n    },\n    restricted_parents: ['trade_definition_multiplier'],\n    getRequiredValueInputs() {\n        const field_input = this.getInput('AMOUNT');\n        if (field_input.connection.targetBlock()) {\n            return {\n                AMOUNT: input => {\n                    const input_number = Number(input);\n                    this.error_message = localize('Stop loss must be a positive number.');\n                    return !isNaN(input_number) && input_number <= 0;\n                },\n            };\n        }\n        return {};\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.multiplier_stop_loss = () => {};\n",
            "size_bytes": 2840
        },
        "src/components/shared_ui/types/popover.types.ts": {
            "content": "import React from 'react';\nimport { PopoverPosition } from 'react-tiny-popover';\n\nexport type TPopoverProps = {\n    alignment: PopoverPosition;\n    className?: string;\n    classNameBubble?: string;\n    classNameTarget?: string;\n    classNameTargetIcon?: string;\n    counter?: number;\n    disable_message_icon?: boolean;\n    disable_target_icon?: boolean;\n    has_error?: boolean;\n    icon?: 'info' | 'question' | 'dot' | 'counter';\n    id?: string;\n    is_bubble_hover_enabled?: boolean;\n    is_open?: boolean;\n    relative_render?: boolean;\n    margin?: number;\n    message: React.ReactNode;\n    onBubbleOpen?: () => void;\n    onBubbleClose?: () => void;\n    onClick?: React.MouseEventHandler<HTMLDivElement>;\n    should_disable_pointer_events?: boolean;\n    should_show_cursor?: boolean;\n    zIndex?: string;\n    data_testid?: string;\n    arrow_styles?: React.CSSProperties;\n};\n",
            "size_bytes": 880
        },
        "src/components/shared_ui/wallet-icon/index.ts": {
            "content": "import WalletIcon from './wallet-icon';\n\nexport { WalletIcon };\n",
            "size_bytes": 64
        },
        "src/utils/xml-dom-quick-strategy.ts": {
            "content": "export const addDynamicBlockToDOM = (\n    name_block: string,\n    strategy_value: string,\n    trade_type_cat: string,\n    strategy_dom: HTMLElement\n) => {\n    if (trade_type_cat === 'digits' || trade_type_cat === 'highlowticks') {\n        const block = document.createElement('value');\n        block.setAttribute('name', name_block);\n        block.setAttribute('strategy_value', strategy_value);\n\n        const shadow_block = document.createElement('shadow');\n        shadow_block.setAttribute('type', 'math_number_positive');\n        shadow_block.setAttribute('id', 'p0O]7-M{ZORlORxGuIEb');\n\n        const field_block = document.createElement('field');\n        field_block.setAttribute('name', 'NUM');\n        field_block.textContent = '0';\n\n        shadow_block.appendChild(field_block);\n        block.appendChild(shadow_block);\n\n        const amount_block = strategy_dom.querySelector('value[name=\"AMOUNT\"]');\n        if (amount_block) {\n            const parent_node = amount_block.parentNode;\n            if (parent_node) {\n                parent_node.insertBefore(block, amount_block.nextSibling);\n            }\n        }\n    }\n    if (name_block === 'PREDICTION' && strategy_dom) {\n        const mutation_element = strategy_dom.querySelector('block[type=\"trade_definition_tradeoptions\"] > mutation');\n        if (mutation_element) {\n            mutation_element.setAttribute('has_prediction', 'true');\n        }\n    }\n};\n",
            "size_bytes": 1428
        },
        "src/components/layout/header/menu-items/menu-items.tsx": {
            "content": "import React, { useEffect, useState } from 'react';\nimport { observer } from 'mobx-react-lite';\nimport { useFirebaseCountriesConfig } from '@/hooks/firebase/useFirebaseCountriesConfig';\nimport { useStore } from '@/hooks/useStore';\nimport { handleTraderHubRedirect } from '@/utils/traders-hub-redirect';\nimport { useTranslations } from '@deriv-com/translations';\nimport { MenuItem, Text, useDevice } from '@deriv-com/ui';\nimport { MenuItems as items, TRADERS_HUB_LINK_CONFIG } from '../header-config';\nimport './menu-items.scss';\n\nexport const MenuItems = observer(() => {\n    const { localize } = useTranslations();\n    const { isDesktop } = useDevice();\n    const store = useStore();\n\n    if (!store) return null;\n\n    const client = store.client ?? {};\n    const is_logged_in = client.is_logged_in ?? false;\n    const getCurrency = client.getCurrency;\n    const currency = getCurrency?.();\n\n    // Check if the account is a demo account\n    // Use the URL parameter to determine if it's a demo account, as this will update when the account changes\n    const urlParams = new URLSearchParams(window.location.search);\n    const account_param = urlParams.get('account');\n    const is_virtual = client.is_virtual || account_param === 'demo' || false;\n\n    // Use handleTraderHubRedirect for all links\n    const getModifiedHref = (originalHref: string) => {\n        const redirect_url = new URL(originalHref);\n\n        if (is_virtual) {\n            // For demo accounts, set the account parameter to 'demo'\n            redirect_url.searchParams.set('account', 'demo');\n        } else if (currency) {\n            // For real accounts, set the account parameter to the currency\n            redirect_url.searchParams.set('account', currency);\n        }\n\n        return redirect_url.toString();\n    };\n\n    // Use all menu items (no filtering for wallet accounts)\n    const filtered_items = items;\n\n    // TODO : need to add the skeleton loader when growthbook is not loaded\n    return (\n        <>\n            {is_logged_in &&\n                (isDesktop\n                    ? filtered_items.map(({ as, href, icon, label }) => (\n                          <MenuItem\n                              as={as}\n                              className='app-header__menu'\n                              href={getModifiedHref(href)}\n                              key={label}\n                              leftComponent={icon}\n                          >\n                              <Text>{localize(label)}</Text>\n                          </MenuItem>\n                      ))\n                    : // For mobile, show the first available item after filtering\n                      filtered_items.length > 0 && (\n                          <MenuItem\n                              as={filtered_items[0].as}\n                              className='flex gap-2 p-5'\n                              href={getModifiedHref(filtered_items[0].href)}\n                              key={filtered_items[0].label}\n                              leftComponent={filtered_items[0].icon}\n                          >\n                              <Text>{localize(filtered_items[0].label)}</Text>\n                          </MenuItem>\n                      ))}\n        </>\n    );\n});\n\nexport const TradershubLink = observer(() => {\n    const store = useStore();\n    const { hubEnabledCountryList } = useFirebaseCountriesConfig();\n\n    const [redirect_url_str, setRedirectUrlStr] = useState<null | string>(null);\n\n    useEffect(() => {\n        const redirectParams = {\n            product_type: 'tradershub' as const,\n            has_wallet: false,\n            is_virtual: store?.client?.is_virtual,\n            residence: store?.client?.residence,\n            hubEnabledCountryList,\n        };\n        setRedirectUrlStr(handleTraderHubRedirect(redirectParams));\n    }, [store?.client?.is_virtual, store?.client?.residence, hubEnabledCountryList]);\n\n    if (!store) return null;\n\n    const client = store.client ?? {};\n    const getCurrency = client.getCurrency;\n    const currency = getCurrency?.();\n\n    // Check if the account is a demo account\n    // Use the URL parameter to determine if it's a demo account, as this will update when the account changes\n    const urlParams = new URLSearchParams(window.location.search);\n    const account_param = urlParams.get('account');\n    const is_virtual = client.is_virtual || account_param === 'demo' || false;\n\n    // Use the handleTraderHubRedirect function with the is_virtual flag\n\n    // If the redirect_url_str is null, use the default URL with appropriate parameters\n    let href = redirect_url_str;\n    if (redirect_url_str) {\n        // If we have a redirect_url_str, we still need to add the account parameter\n        try {\n            const redirect_url = new URL(redirect_url_str);\n            if (is_virtual) {\n                // For demo accounts, set the account parameter to 'demo'\n                redirect_url.searchParams.set('account', 'demo');\n            } else if (currency) {\n                // For real accounts, set the account parameter to the currency\n                redirect_url.searchParams.set('account', currency);\n            }\n            href = redirect_url.toString();\n        } catch (error) {\n            console.error('Error parsing redirect URL:', error);\n        }\n    }\n\n    return (\n        <MenuItem\n            as='a'\n            className='app-header__menu'\n            href={href ?? undefined}\n            key={TRADERS_HUB_LINK_CONFIG.label}\n            leftComponent={TRADERS_HUB_LINK_CONFIG.icon}\n        >\n            <Text>{TRADERS_HUB_LINK_CONFIG.label}</Text>\n        </MenuItem>\n    );\n});\n\n// Create a namespace for MenuItems to include TradershubLink\ntype MenuItemsType = typeof MenuItems & {\n    TradershubLink: typeof TradershubLink;\n};\n\n// Assign TradershubLink to MenuItems\n(MenuItems as MenuItemsType).TradershubLink = TradershubLink;\n\nexport default MenuItems as MenuItemsType;\n",
            "size_bytes": 5944
        },
        "src/components/page-error/index.ts": {
            "content": "import PageError from './page-error';\nimport './page-error.scss';\n\nexport default PageError;\n",
            "size_bytes": 93
        },
        "analysis-tool/Benanalysistool-final-main/components/last-digits-chart.tsx": {
            "content": "\"use client\"\n\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from \"recharts\"\n\ninterface LastDigitsChartProps {\n  digits: number[]\n  count?: number\n  title?: string\n  theme?: \"light\" | \"dark\"\n}\n\nconst uniqueDigitColors = [\n  \"#a855f7\", // purple\n  \"#3b82f6\", // blue\n  \"#06b6d4\", // cyan\n  \"#14b8a6\", // teal\n  \"#10b981\", // emerald\n  \"#84cc16\", // lime\n  \"#f59e0b\", // amber\n  \"#f97316\", // orange\n  \"#ef4444\", // red\n  \"#ec4899\", // pink\n]\n\nexport function LastDigitsChart({\n  digits,\n  count = 20,\n  title = \"Last 20 Digits\",\n  theme = \"dark\",\n}: LastDigitsChartProps) {\n  const displayDigits = digits.slice(-count)\n\n  const data = displayDigits.map((digit, index) => ({\n    index: index + 1,\n    digit,\n    fill: uniqueDigitColors[digit],\n  }))\n\n  return (\n    <div\n      className={`rounded-xl p-6 border ${\n        theme === \"dark\"\n          ? \"bg-gradient-to-br from-[#0f1629]/80 to-[#1a2235]/80 border-blue-500/20 shadow-[0_0_30px_rgba(59,130,246,0.2)]\"\n          : \"bg-white border-gray-200 shadow-lg\"\n      }`}\n    >\n      <h3 className={`text-lg font-bold mb-4 ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}>{title}</h3>\n      <ResponsiveContainer width=\"100%\" height={200}>\n        <BarChart data={data}>\n          <CartesianGrid strokeDasharray=\"3 3\" stroke={theme === \"dark\" ? \"#374151\" : \"#e5e7eb\"} />\n          <XAxis\n            dataKey=\"index\"\n            stroke={theme === \"dark\" ? \"#9ca3af\" : \"#6b7280\"}\n            tick={{ fill: theme === \"dark\" ? \"#9ca3af\" : \"#6b7280\" }}\n          />\n          <YAxis\n            domain={[0, 9]}\n            stroke={theme === \"dark\" ? \"#9ca3af\" : \"#6b7280\"}\n            tick={{ fill: theme === \"dark\" ? \"#9ca3af\" : \"#6b7280\" }}\n          />\n          <Tooltip\n            contentStyle={{\n              backgroundColor: theme === \"dark\" ? \"#1f2937\" : \"#ffffff\",\n              border: `1px solid ${theme === \"dark\" ? \"#374151\" : \"#e5e7eb\"}`,\n              borderRadius: \"8px\",\n              color: theme === \"dark\" ? \"#ffffff\" : \"#000000\",\n            }}\n          />\n          <Bar dataKey=\"digit\" radius={[8, 8, 0, 0]} />\n        </BarChart>\n      </ResponsiveContainer>\n    </div>\n  )\n}\n",
            "size_bytes": 2188
        },
        "src/components/shared_ui/money/index.ts": {
            "content": "import Money from './money';\nimport './money.scss';\n\nexport default Money;\n",
            "size_bytes": 75
        },
        "src/constants/contract.ts": {
            "content": "import { getTotalProfit, TContractStore } from '@/components/shared';\nimport { TContractOptions } from '@/components/shared';\nimport { localize } from '@deriv-com/translations';\n\nexport type TContract = {\n    name: string;\n    position: string;\n};\n\nexport type TContractType =\n    | 'ACCU'\n    | 'ASIANU'\n    | 'ASIAND'\n    | 'CALL'\n    | 'PUT'\n    | 'CALLE'\n    | 'PUTE'\n    | 'CALLSPREAD'\n    | 'PUTSPREAD'\n    | 'DIGITMATCH'\n    | 'DIGITDIFF'\n    | 'DIGITEVEN'\n    | 'DIGITODD'\n    | 'DIGITOVER'\n    | 'DIGITUNDER'\n    | 'EXPIRYMISS'\n    | 'EXPIRYRANGE'\n    | 'LBFLOATCALL'\n    | 'LBFLOATPUT'\n    | 'LBHIGHLOW'\n    | 'MULTUP'\n    | 'MULTDOWN'\n    | 'ONETOUCH'\n    | 'NOTOUCH'\n    | 'RANGE'\n    | 'UPORDOWN'\n    | 'RESETCALL'\n    | 'RESETPUT'\n    | 'RUNHIGH'\n    | 'RUNLOW'\n    | 'TICKHIGH'\n    | 'TICKLOW';\n\ntype TSupportedContracts = {\n    [key in TContractType]: TContract;\n};\n\nexport const getSupportedContracts = (is_high_low: TContractOptions): TSupportedContracts => ({\n    ACCU: {\n        name: localize('Accumulators'),\n        position: 'top',\n    },\n    ASIANU: {\n        name: localize('Asian Up'),\n        position: 'top',\n    },\n    ASIAND: {\n        name: localize('Asian Down'),\n        position: 'bottom',\n    },\n    CALL: {\n        name: is_high_low.isHighLow ? localize('Higher') : localize('Rise'),\n        position: 'top',\n    },\n    PUT: {\n        name: is_high_low.isHighLow ? localize('Lower') : localize('Fall'),\n        position: 'bottom',\n    },\n    CALLE: {\n        name: localize('Rise'),\n        position: 'top',\n    },\n    PUTE: {\n        name: localize('Fall'),\n        position: 'bottom',\n    },\n    CALLSPREAD: {\n        name: localize('Spread Up'),\n        position: 'top',\n    },\n    PUTSPREAD: {\n        name: localize('Spread Down'),\n        position: 'bottom',\n    },\n    DIGITMATCH: {\n        name: localize('Matches'),\n        position: 'top',\n    },\n    DIGITDIFF: {\n        name: localize('Differs'),\n        position: 'bottom',\n    },\n    DIGITEVEN: {\n        name: localize('Even'),\n        position: 'top',\n    },\n    DIGITODD: {\n        name: localize('Odd'),\n        position: 'bottom',\n    },\n    DIGITOVER: {\n        name: localize('Over'),\n        position: 'top',\n    },\n    DIGITUNDER: {\n        name: localize('Under'),\n        position: 'bottom',\n    },\n    EXPIRYMISS: {\n        name: localize('Ends Outside'),\n        position: 'top',\n    },\n    EXPIRYRANGE: {\n        name: localize('Ends Between'),\n        position: 'bottom',\n    },\n    LBFLOATCALL: {\n        name: localize('Close-to-Low'),\n        position: 'top',\n    },\n    LBFLOATPUT: {\n        name: localize('High-to-Close'),\n        position: 'top',\n    },\n    LBHIGHLOW: {\n        name: localize('High-to-Low'),\n        position: 'top',\n    },\n    MULTUP: {\n        name: localize('Up'),\n        position: 'top',\n    },\n    MULTDOWN: {\n        name: localize('Down'),\n        position: 'bottom',\n    },\n    ONETOUCH: {\n        name: localize('Touch'),\n        position: 'top',\n    },\n    NOTOUCH: {\n        name: localize('No Touch'),\n        position: 'bottom',\n    },\n    RANGE: {\n        name: localize('Stays Between'),\n        position: 'top',\n    },\n    UPORDOWN: {\n        name: localize('Goes Outside'),\n        position: 'bottom',\n    },\n    RESETCALL: {\n        name: localize('Reset Call'),\n        position: 'top',\n    },\n    RESETPUT: {\n        name: localize('Reset Put'),\n        position: 'bottom',\n    },\n    RUNHIGH: {\n        name: localize('Only Ups'),\n        position: 'top',\n    },\n    RUNLOW: {\n        name: localize('Only Downs'),\n        position: 'bottom',\n    },\n    TICKHIGH: {\n        name: localize('High Tick'),\n        position: 'top',\n    },\n    TICKLOW: {\n        name: localize('Low Tick'),\n        position: 'bottom',\n    },\n});\n\nexport const getContractConfig = (is_high_low: boolean) => ({\n    ...getSupportedContracts(is_high_low),\n});\n\nexport const getContractTypeDisplay = (type: TContractType, is_high_low = false) =>\n    getContractConfig(is_high_low)[type]\n        ? getContractConfig(is_high_low)[type.toUpperCase() as TContractType].name\n        : '';\n\nexport type TValidationRuleIndex =\n    | 'has_contract_update_stop_loss'\n    | 'contract_update_stop_loss'\n    | 'has_contract_update_take_profit'\n    | 'contract_update_take_profit';\n\ntype ValidationRuleFunc = (value: number, options: any, contract_store: TContractStore) => boolean;\n\ntype ValidationConditionFunc = (contract_store: TContractStore) => boolean;\n\ntype Rule =\n    | [\n          'req',\n          {\n              condition: ValidationConditionFunc;\n              message: string;\n          },\n      ]\n    | [\n          'custom',\n          {\n              func: ValidationRuleFunc;\n              message: string;\n          },\n      ];\n\ntype Rules = {\n    rules: Rule[];\n};\n\ntype Triggers = {\n    trigger: string;\n};\n\nexport type TValidationRules = {\n    has_contract_update_stop_loss: Triggers;\n    has_contract_update_take_profit: Triggers;\n    contract_update_stop_loss: Rules;\n    contract_update_take_profit: Rules;\n};\n\nexport const getValidationRules = (): TValidationRules => ({\n    has_contract_update_stop_loss: {\n        trigger: 'contract_update_stop_loss',\n    },\n    has_contract_update_take_profit: {\n        trigger: 'contract_update_take_profit',\n    },\n    contract_update_stop_loss: {\n        rules: [\n            [\n                'req',\n                {\n                    condition: contract_store => !contract_store.contract_update_stop_loss,\n                    message: localize('Please enter a stop loss amount.'),\n                },\n            ],\n            [\n                'custom',\n                {\n                    func: (value: number, options, contract_store) => {\n                        const profit = getTotalProfit(contract_store.contract_info);\n                        return !(profit < 0 && -value > profit);\n                    },\n                    message: localize(\"Please enter a stop loss amount that's higher than the current potential loss.\"),\n                },\n            ],\n            [\n                'custom',\n                {\n                    func: (value, options, contract_store) => {\n                        const stake = contract_store?.contract_info?.buy_price || 0;\n                        return value < stake + 1;\n                    },\n                    message: localize('Invalid stop loss. Stop loss cannot be more than stake.'),\n                },\n            ],\n        ],\n    },\n    contract_update_take_profit: {\n        rules: [\n            [\n                'req',\n                {\n                    condition: contract_store => !contract_store.contract_update_take_profit,\n                    message: localize('Please enter a take profit amount.'),\n                },\n            ],\n            [\n                'custom',\n                {\n                    func: (value, options, contract_store) => {\n                        const profit = getTotalProfit(contract_store.contract_info);\n                        return !(profit > 0 && +value < profit);\n                    },\n                    message: localize(\n                        \"Please enter a take profit amount that's higher than the current potential profit.\"\n                    ),\n                },\n            ],\n        ],\n    },\n});\n",
            "size_bytes": 7331
        },
        "src/pages/bot-builder/quick-strategy/localize_html.tsx": {
            "content": "import React from 'react';\nimport { Localize, localize } from '@deriv-com/translations';\n\nexport const LocalizeHTMLForSellConditions = additional_data => {\n    const { max_payout, max_ticks } = additional_data ?? {\n        max_payout: 0,\n        max_ticks: 0,\n    };\n\n    return (\n        <div className='sell_conditions'>\n            <div className='sell_conditions__take_profit'>\n                <span>\n                    <strong>{localize('Take Profit: ')}</strong>\n                </span>\n                <span>{localize('The position closes once its profit exceeds the take-profit amount')}</span>\n            </div>\n            <div className='sell_conditions__tick_count'>\n                <span>\n                    <strong>{localize('Tick Count: ')}</strong>\n                </span>\n                <span>{localize('The holding period measured in ticks before the position is sold')}</span>\n            </div>\n            <div>\n                <Localize\n                    i18n_default_text='The position closes when the input condition is met or upon reaching the maximum payout of {{ max_payout }} or maximum tick of {{ max_ticks }}, whichever occurs first.'\n                    values={{\n                        max_payout,\n                        max_ticks,\n                    }}\n                />\n            </div>\n        </div>\n    );\n};\n",
            "size_bytes": 1358
        },
        "src/components/shared/utils/validator/index.ts": {
            "content": "import Errors from './errors';\nimport Validator, { template } from './validator';\n\nexport { Errors, template, Validator };\n",
            "size_bytes": 123
        },
        "src/pages/bot-builder/quick-strategy/form-wrappers/trade-constants.ts": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { STRATEGIES } from '../config';\n\nexport enum QsSteps {\n    StrategySelect,\n    StrategyVerified,\n    StrategyCompleted,\n}\n\ntype TTradeTypesItemsIndex = {\n    [key: string]: number;\n};\n\nexport const TRADE_TYPE_INDEX: TTradeTypesItemsIndex = Object.freeze({\n    ALL: 0,\n    // MULTIPLIERS: 2,\n    ACCUMULATORS: 1,\n    OPTIONS: 2,\n});\n\n// export const TRADE_TYPES = [localize('All'), localize('Accumulators'), localize('Options'), localize('Multipliers')];\nexport const TRADE_TYPES = [localize('All'), localize('Accumulators'), localize('Options')];\n\nexport type TTStrategyTradeAssociation = {\n    name: string;\n    display_name: string;\n    id: number;\n    parent: Array<string>;\n};\n\nexport type TStrategyTradeAssociations = Array<TTStrategyTradeAssociation>;\n\nexport const STRATEGY_TRADE_ASSOCIATIONS: TStrategyTradeAssociations = [\n    {\n        name: 'MARTINGALE',\n        display_name: STRATEGIES().MARTINGALE.label,\n        id: 0,\n        parent: [localize('Options')],\n    },\n    {\n        name: 'D_ALEMBERT',\n        display_name: STRATEGIES().D_ALEMBERT.label,\n        id: 1,\n        parent: [localize('Options')],\n    },\n    {\n        name: 'REVERSE_MARTINGALE',\n        display_name: STRATEGIES().REVERSE_MARTINGALE.label,\n        id: 2,\n        parent: [localize('Options')],\n    },\n    {\n        name: 'REVERSE_D_ALEMBERT',\n        display_name: STRATEGIES().REVERSE_D_ALEMBERT.label,\n        id: 3,\n        parent: [localize('Options')],\n    },\n    {\n        name: 'OSCARS_GRIND',\n        display_name: STRATEGIES().OSCARS_GRIND.label,\n        id: 4,\n        parent: [localize('Options')],\n    },\n    {\n        name: 'STRATEGY_1_3_2_6',\n        display_name: STRATEGIES().STRATEGY_1_3_2_6.label,\n        id: 5,\n        parent: [localize('Options')],\n    },\n    {\n        name: 'ACCUMULATORS_MARTINGALE',\n        display_name: STRATEGIES().ACCUMULATORS_MARTINGALE.label,\n        id: 6,\n        parent: [localize('Accumulators')],\n    },\n    {\n        name: 'ACCUMULATORS_MARTINGALE_ON_STAT_RESET',\n        display_name: STRATEGIES().ACCUMULATORS_MARTINGALE_ON_STAT_RESET.label,\n        id: 7,\n        parent: [localize('Accumulators')],\n    },\n    {\n        name: 'ACCUMULATORS_DALEMBERT',\n        display_name: STRATEGIES().ACCUMULATORS_DALEMBERT.label,\n        id: 8,\n        parent: [localize('Accumulators')],\n    },\n    {\n        name: 'ACCUMULATORS_DALEMBERT_ON_STAT_RESET',\n        display_name: STRATEGIES().ACCUMULATORS_DALEMBERT_ON_STAT_RESET.label,\n        id: 9,\n        parent: [localize('Accumulators')],\n    },\n    {\n        name: 'ACCUMULATORS_REVERSE_MARTINGALE',\n        display_name: STRATEGIES().ACCUMULATORS_REVERSE_MARTINGALE.label,\n        id: 10,\n        parent: [localize('Accumulators')],\n    },\n    {\n        name: 'ACCUMULATORS_REVERSE_MARTINGALE_ON_STAT_RESET',\n        display_name: STRATEGIES().ACCUMULATORS_REVERSE_MARTINGALE_ON_STAT_RESET.label,\n        id: 11,\n        parent: [localize('Accumulators')],\n    },\n    {\n        name: 'ACCUMULATORS_REVERSE_DALEMBERT',\n        display_name: STRATEGIES().ACCUMULATORS_REVERSE_DALEMBERT.label,\n        id: 12,\n        parent: [localize('Accumulators')],\n    },\n    {\n        name: 'ACCUMULATORS_REVERSE_DALEMBERT_ON_STAT_RESET',\n        display_name: STRATEGIES().ACCUMULATORS_REVERSE_DALEMBERT_ON_STAT_RESET.label,\n        id: 13,\n        parent: [localize('Accumulators')],\n    },\n];\n",
            "size_bytes": 3435
        },
        "analysis-tool/Benanalysistool-final-main/components/last-40-digits.tsx": {
            "content": "\"use client\"\n\ninterface Last40DigitsProps {\n  digits: number[]\n  theme?: \"light\" | \"dark\"\n  mode?: \"even-odd\" | \"rise-fall\"\n}\n\nexport function Last40Digits({ digits, theme = \"dark\", mode = \"even-odd\" }: Last40DigitsProps) {\n  const last40 = digits.slice(-40)\n\n  // Split into two rows of 20\n  const row1 = last40.slice(0, 20)\n  const row2 = last40.slice(20, 40)\n\n  const renderDigit = (digit: number, index: number, prevDigit?: number) => {\n    if (mode === \"rise-fall\") {\n      const isRise = prevDigit !== undefined && digit > prevDigit\n      const label = prevDigit === undefined ? \"-\" : isRise ? \"R\" : \"F\"\n      const bgColor = prevDigit === undefined ? \"bg-gray-500\" : isRise ? \"bg-cyan-500\" : \"bg-pink-500\"\n\n      return (\n        <div\n          key={index}\n          className={`w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 rounded-lg flex items-center justify-center shadow-lg transition-transform hover:scale-110 ${bgColor}`}\n        >\n          <span className=\"text-sm sm:text-lg md:text-xl font-bold text-white\">{label}</span>\n        </div>\n      )\n    } else {\n      // Even/Odd mode\n      const isEven = digit % 2 === 0\n      return (\n        <div\n          key={index}\n          className={`w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 rounded-lg flex items-center justify-center shadow-lg transition-transform hover:scale-110 ${\n            isEven ? \"bg-cyan-500\" : \"bg-pink-500\"\n          }`}\n        >\n          <span className=\"text-sm sm:text-lg md:text-xl font-bold text-white\">{isEven ? \"E\" : \"O\"}</span>\n        </div>\n      )\n    }\n  }\n\n  return (\n    <div className=\"space-y-3\">\n      <div className=\"flex items-center justify-center gap-1 sm:gap-2 flex-wrap\">\n        {row1.map((digit, index) => renderDigit(digit, index, index > 0 ? row1[index - 1] : undefined))}\n      </div>\n      {row2.length > 0 && (\n        <div className=\"flex items-center justify-center gap-1 sm:gap-2 flex-wrap\">\n          {row2.map((digit, index) =>\n            renderDigit(digit, index + 20, index === 0 ? row1[row1.length - 1] : row2[index - 1]),\n          )}\n        </div>\n      )}\n    </div>\n  )\n}\n",
            "size_bytes": 2098
        },
        "src/pages/endpoint/__tests__/endpoint.spec.tsx": {
            "content": "import { render, screen } from '@testing-library/react';\nimport userEvent from '@testing-library/user-event';\nimport Endpoint from '..';\n\nconst mockReload = jest.fn();\nObject.defineProperty(window, 'location', {\n    value: { reload: mockReload },\n    writable: true,\n});\n\ndescribe('<Endpoint />', () => {\n    it('should render the endpoint component', () => {\n        render(<Endpoint />);\n\n        expect(screen.getByText('Change API endpoint')).toBeInTheDocument();\n        expect(screen.getByText('Server')).toBeInTheDocument();\n        expect(screen.getByText('OAuth App ID')).toBeInTheDocument();\n        expect(screen.getByRole('button', { name: 'Submit' })).toBeInTheDocument();\n        expect(screen.getByRole('button', { name: 'Reset to original settings' })).toBeInTheDocument();\n    });\n\n    it('should handle form submission', async () => {\n        render(<Endpoint />);\n\n        const serverUrlInput = screen.getByTestId('dt_endpoint_server_url_input');\n        const appIdInput = screen.getByTestId('dt_endpoint_app_id_input');\n        const submitButton = screen.getByRole('button', { name: 'Submit' });\n\n        await userEvent.clear(serverUrlInput);\n        await userEvent.type(serverUrlInput, 'qa10.deriv.dev');\n        await userEvent.clear(appIdInput);\n        await userEvent.type(appIdInput, '123');\n        await userEvent.click(submitButton);\n\n        expect(localStorage.getItem('config.server_url') ?? '').toBe('qa10.deriv.dev');\n        expect(localStorage.getItem('config.app_id') ?? '').toBe('123');\n    });\n\n    it('should call getServerInfo and reset the inputs when user clicks on the reset button', async () => {\n        render(<Endpoint />);\n\n        const serverUrlInput = screen.getByTestId('dt_endpoint_server_url_input');\n        const appIdInput = screen.getByTestId('dt_endpoint_app_id_input');\n        const resetButton = screen.getByRole('button', { name: 'Reset to original settings' });\n\n        await userEvent.type(serverUrlInput, 'qa10.deriv.dev');\n        await userEvent.type(appIdInput, '123');\n        await userEvent.click(resetButton);\n\n        expect(localStorage.getItem('config.server_url') ?? '').toBe('demov2.derivws.com');\n        expect(localStorage.getItem('config.app_id') ?? '').toBe('65555');\n    });\n});\n",
            "size_bytes": 2270
        },
        "src/pages/bot-builder/quick-strategy/selects/trade-type.tsx": {
            "content": "import React from 'react';\nimport { Field, FieldProps, useFormikContext } from 'formik';\nimport Autocomplete from '@/components/shared_ui/autocomplete';\nimport { TItem } from '@/components/shared_ui/dropdown-list';\nimport Text from '@/components/shared_ui/text';\nimport { TradeTypeIcon } from '@/components/trade-type/trade-type-icon';\nimport { ApiHelpers } from '@/external/bot-skeleton';\nimport { useStore } from '@/hooks/useStore';\nimport { TApiHelpersInstance, TFormData, TTradeType } from '../types';\nimport { V2_QS_STRATEGIES } from '../utils';\n\ntype TTradeTypeOption = {\n    trade_type: TTradeType;\n};\n\nconst TradeTypeOption: React.FC<TTradeTypeOption> = ({ trade_type: { value, icon, text } }: TTradeTypeOption) => {\n    return (\n        <div key={value} className='qs__select__option'>\n            {icon?.length\n                ? icon.map((ic, idx) => (\n                      <TradeTypeIcon type={ic} className='qs__select__option__icon' key={`${ic}id-${idx}`} size='sm' />\n                  ))\n                : null}\n            <Text className='qs__select__option__text' size='xs' color='prominent'>\n                {text}\n            </Text>\n        </div>\n    );\n};\n\nconst TradeTypeSelect: React.FC = () => {\n    const [trade_types, setTradeTypes] = React.useState<TTradeType[]>([]);\n    const { setFieldValue, values, validateForm } = useFormikContext<TFormData>();\n    const { quick_strategy } = useStore();\n    const { setValue, selected_strategy } = quick_strategy;\n    const is_strategy_accumulator = V2_QS_STRATEGIES.includes(selected_strategy);\n\n    React.useEffect(() => {\n        if (values?.symbol) {\n            const selected = values?.tradetype;\n            const is_symbol_accumulator = is_strategy_accumulator ? 'ACCU' : '';\n\n            const { contracts_for } = (ApiHelpers?.instance as unknown as TApiHelpersInstance) ?? {};\n            const getTradeTypes = async () => {\n                const trade_types = await contracts_for?.getTradeTypesForQuickStrategy?.(\n                    values?.symbol,\n                    is_symbol_accumulator\n                );\n                const has_selected = trade_types?.some(trade_type => trade_type.value === selected);\n                if (!has_selected && trade_types?.[0]?.value !== selected) {\n                    setFieldValue?.('tradetype', trade_types?.[0].value || '');\n                    setValue('tradetype', trade_types?.[0].value);\n                }\n                setTradeTypes(trade_types);\n            };\n            getTradeTypes();\n            validateForm();\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [values?.symbol]);\n\n    const trade_type_dropdown_options = React.useMemo(\n        () =>\n            trade_types.map(trade_type => ({\n                component: <TradeTypeOption key={trade_type.text} trade_type={trade_type} />,\n                ...trade_type,\n            })),\n        [trade_types]\n    );\n\n    return (\n        <div className='qs__form__field qs__form__field__input qs__form__field__group-icons'>\n            <Field name='tradetype' key='tradetype' id='tradetype'>\n                {({ field }: FieldProps) => {\n                    const selected_trade_type = trade_type_dropdown_options?.find(\n                        trade_type => trade_type.value === field.value\n                    );\n                    const is_accumulator = is_strategy_accumulator ? 'Buy' : selected_trade_type?.text;\n                    return (\n                        <Autocomplete\n                            {...field}\n                            readOnly\n                            inputMode='none'\n                            data-testid='dt_qs_tradetype'\n                            autoComplete='off'\n                            className='qs__autocomplete'\n                            value={is_accumulator || ''}\n                            list_items={trade_type_dropdown_options}\n                            onItemSelection={(item: TItem) => {\n                                const value = (item as TTradeType)?.value;\n                                const text = (item as TTradeType)?.text;\n                                if (value && text) {\n                                    setFieldValue?.('tradetype', value);\n                                    setValue('tradetype', value);\n                                }\n                            }}\n                            leading_icon={\n                                <Text>\n                                    <TradeTypeIcon type={selected_trade_type?.icon?.[0] || 'CALL'} size='sm' />\n                                    <TradeTypeIcon type={selected_trade_type?.icon?.[1] || 'PUT'} size='sm' />\n                                </Text>\n                            }\n                        />\n                    );\n                }}\n            </Field>\n        </div>\n    );\n};\n\nexport default TradeTypeSelect;\n",
            "size_bytes": 4908
        },
        "src/external/bot-skeleton/scratch/blocks/Logic/logic_operation.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../utils';\n\nwindow.Blockly.Blocks.logic_operation = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2 %3',\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'A',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'OP',\n                    options: [\n                        [localize('and'), 'AND'],\n                        [localize('or'), 'OR'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'B',\n                },\n            ],\n            inputsInline: true,\n            output: 'Boolean',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Performs selected logic operation'),\n            category: window.Blockly.Categories.Logic,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    meta() {\n        return {\n            display_name: localize('Logic operation'),\n            description: localize('This block performs the \"AND\" or the \"OR\" logic operation.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            A: null,\n            B: null,\n        };\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.logic_operation = block => {\n    const selectedOperator = block.getFieldValue('OP');\n\n    let operator, order;\n\n    if (selectedOperator === 'AND') {\n        operator = '&&';\n        order = window.Blockly.JavaScript.javascriptGenerator.ORDER_LOGICAL_AND;\n    } else if (selectedOperator === 'OR') {\n        operator = '||';\n        order = window.Blockly.JavaScript.javascriptGenerator.ORDER_LOGICAL_OR;\n    }\n\n    const argument0 =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'A',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC\n        ) || 'false';\n    const argument1 =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'B',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC\n        ) || 'false';\n\n    const code = `${argument0} ${operator} ${argument1}`;\n    return [code, order];\n};\n",
            "size_bytes": 2634
        },
        "src/components/layout/header/common/types.tsx": {
            "content": "import useActiveAccount from '@/hooks/api/account/useActiveAccount';\nimport { useApiBase } from '@/hooks/useApiBase';\n\nexport type TModifiedAccount = ReturnType<typeof useApiBase>['accountList'][number] & {\n    balance: string;\n    currencyLabel: string;\n    icon: React.ReactNode;\n    isVirtual: boolean;\n    isActive: boolean;\n    loginid: number;\n    currency: string;\n};\nexport type TAccountSwitcherProps = {\n    isVirtual?: boolean;\n    switchAccount: (loginId: number) => void;\n    modifiedCRAccountList?: TModifiedAccount[];\n    modifiedMFAccountList?: TModifiedAccount[];\n    modifiedVRTCRAccountList?: TModifiedAccount[];\n    activeLoginId?: string;\n    client?: any;\n};\n\nexport type TAccountSwitcher = {\n    activeAccount: ReturnType<typeof useActiveAccount>['data'];\n};\n\nexport type TDemoAccounts = {\n    tabs_labels: {\n        demo: string;\n    };\n    modifiedVRTCRAccountList?: TModifiedAccount[];\n    switchAccount: (loginId: number) => void;\n    isVirtual: boolean;\n    activeLoginId?: string;\n};\n\nexport type TNoNonEuAccounts = {\n    isVirtual: boolean;\n    tabs_labels: {\n        demo: string;\n        real: string;\n    };\n    is_low_risk_country: boolean;\n    residence?: string;\n};\n\nexport type TEuAccounts = TNoNonEuAccounts & {\n    modifiedMFAccountList: TModifiedAccount[];\n    switchAccount: (loginId: number) => void;\n    isVirtual?: boolean;\n    is_low_risk_country?: boolean;\n};\n\nexport type TNonEUAccounts = TNoNonEuAccounts & {\n    isVirtual?: boolean;\n    modifiedCRAccountList: TModifiedAccount[];\n    modifiedMFAccountList?: TModifiedAccount[];\n    switchAccount: (loginId: number) => void;\n    residence?: string;\n};\n",
            "size_bytes": 1649
        },
        "analysis-tool/Benanalysistool-final-main/components/tabs/differs-tab.tsx": {
            "content": "\"use client\"\n\nimport { Badge } from \"@/components/ui/badge\"\nimport type { Signal, AnalysisResult } from \"@/lib/analysis-engine\"\n\ninterface DiffersTabProps {\n  analysis: AnalysisResult | null\n  signals: Signal[]\n  recentDigits: number[]\n  theme?: \"light\" | \"dark\"\n}\n\nexport function DiffersTab({ analysis, signals, recentDigits, theme = \"dark\" }: DiffersTabProps) {\n  const differsSignal = signals?.find((s) => s.type === \"differs\")\n\n  if (!analysis) {\n    return (\n      <div className=\"text-center py-16\">\n        <p className={theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}>Loading analysis...</p>\n      </div>\n    )\n  }\n\n  const sorted = [...analysis.digitFrequencies].sort((a, b) => a.count - b.count)\n  const least3 = sorted.slice(0, 3)\n\n  // Find most constant digit in last 30 ticks\n  const last30 = recentDigits.slice(-30)\n  const counts30 = new Map<number, number>()\n  last30.forEach((d) => counts30.set(d, (counts30.get(d) || 0) + 1))\n  const mostConstant = Array.from(counts30.entries()).sort((a, b) => b[1] - a[1])[0]\n\n  return (\n    <div className=\"space-y-6\">\n      <div\n        className={`rounded-xl p-8 border ${\n          theme === \"dark\"\n            ? \"bg-gradient-to-br from-[#0f1629]/80 to-[#1a2235]/80 border-blue-500/20 shadow-[0_0_30px_rgba(59,130,246,0.2)]\"\n            : \"bg-white border-gray-200 shadow-lg\"\n        }`}\n      >\n        <h2 className={`text-3xl font-bold mb-6 text-center ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}>\n          Differs Analysis\n        </h2>\n\n        {/* Only show least appearing digits */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n          {least3.map((freq, index) => (\n            <div\n              key={freq.digit}\n              className={`text-center rounded-lg p-6 border ${\n                index === 0\n                  ? theme === \"dark\"\n                    ? \"bg-red-500/10 border-red-500/30 shadow-[0_0_15px_rgba(239,68,68,0.3)]\"\n                    : \"bg-red-50 border-red-200\"\n                  : index === 1\n                    ? theme === \"dark\"\n                      ? \"bg-orange-500/10 border-orange-500/30\"\n                      : \"bg-orange-50 border-orange-200\"\n                    : theme === \"dark\"\n                      ? \"bg-yellow-500/10 border-yellow-500/30\"\n                      : \"bg-yellow-50 border-yellow-200\"\n              }`}\n            >\n              <div className={`text-sm mb-2 ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>\n                {index === 0 ? \"Least Appearing\" : index === 1 ? \"2nd Least\" : \"3rd Least\"}\n              </div>\n              <div\n                className={`text-6xl font-bold mb-2 ${\n                  index === 0\n                    ? theme === \"dark\"\n                      ? \"text-red-400\"\n                      : \"text-red-600\"\n                    : index === 1\n                      ? theme === \"dark\"\n                        ? \"text-orange-400\"\n                        : \"text-orange-600\"\n                      : theme === \"dark\"\n                        ? \"text-yellow-400\"\n                        : \"text-yellow-600\"\n                }`}\n              >\n                {freq.digit}\n              </div>\n              <div\n                className={`text-xl font-bold ${\n                  index === 0\n                    ? theme === \"dark\"\n                      ? \"text-red-400\"\n                      : \"text-red-600\"\n                    : index === 1\n                      ? theme === \"dark\"\n                        ? \"text-orange-400\"\n                        : \"text-orange-600\"\n                      : theme === \"dark\"\n                        ? \"text-yellow-400\"\n                        : \"text-yellow-600\"\n                }`}\n              >\n                {freq.percentage.toFixed(1)}%\n              </div>\n              <div className={`text-sm mt-2 ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>\n                Appeared {freq.count} times\n              </div>\n            </div>\n          ))}\n        </div>\n\n        {mostConstant && (\n          <div\n            className={`rounded-xl p-6 border ${\n              theme === \"dark\"\n                ? \"bg-purple-500/10 border-purple-500/30 shadow-[0_0_15px_rgba(168,85,247,0.2)]\"\n                : \"bg-purple-50 border-purple-200\"\n            }`}\n          >\n            <h3 className={`text-lg font-bold mb-4 text-center ${theme === \"dark\" ? \"text-white\" : \"text-gray-900\"}`}>\n              Most Constant in Last 30 Ticks\n            </h3>\n            <div className=\"text-center\">\n              <div className={`text-6xl font-bold mb-2 ${theme === \"dark\" ? \"text-purple-400\" : \"text-purple-600\"}`}>\n                {mostConstant[0]}\n              </div>\n              <div className={`text-lg ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>\n                Appeared {mostConstant[1]} times in last 30 ticks\n              </div>\n            </div>\n          </div>\n        )}\n\n        {differsSignal && (\n          <div\n            className={`rounded-xl p-6 border mt-6 ${\n              theme === \"dark\"\n                ? \"bg-blue-500/10 border-blue-500/30 shadow-[0_0_15px_rgba(59,130,246,0.2)]\"\n                : \"bg-blue-50 border-blue-200\"\n            }`}\n          >\n            <Badge\n              className={`text-lg px-4 py-2 mb-4 ${\n                differsSignal.status === \"TRADE NOW\"\n                  ? theme === \"dark\"\n                    ? \"bg-green-500/20 text-green-400 border-green-500/30\"\n                    : \"bg-green-100 text-green-700 border-green-300\"\n                  : theme === \"dark\"\n                    ? \"bg-gray-500/20 text-gray-400 border-gray-500/30\"\n                    : \"bg-gray-100 text-gray-600 border-gray-300\"\n              }`}\n            >\n              {differsSignal.status}\n            </Badge>\n            <div className={`text-xl font-medium mb-2 ${theme === \"dark\" ? \"text-cyan-400\" : \"text-cyan-600\"}`}>\n              {differsSignal.recommendation}\n            </div>\n            <div className={`text-base ${theme === \"dark\" ? \"text-gray-400\" : \"text-gray-600\"}`}>\n              {differsSignal.entryCondition}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n",
            "size_bytes": 6214
        },
        "src/external/bot-skeleton/scratch/blocks/Text/text_trim.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { emptyTextValidator, modifyContextMenu } from '../../utils';\n\nwindow.Blockly.Blocks.text_trim = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('trim spaces from {{ side }} of {{ input_text }}', { side: '%1', input_text: '%2' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'MODE',\n                    options: [\n                        [localize('both sides'), 'BOTH'],\n                        [localize('left side'), 'LEFT'],\n                        [localize('right side'), 'RIGHT'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'TEXT',\n                },\n            ],\n            output: 'String',\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Trims spaces'),\n            category: window.Blockly.Categories.Text,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    meta() {\n        return {\n            display_name: localize('Trim spaces'),\n            description: localize('Trims the spaces within a given string or text.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            TEXT: emptyTextValidator,\n        };\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.text_trim = block => {\n    const operators = {\n        LEFT: \".replace(/^[\\\\s\\\\xa0]+/, '')\",\n        RIGHT: \".replace(/[\\\\s\\\\xa0]+$/, '')\",\n        BOTH: '.trim()',\n    };\n\n    const operator = operators[block.getFieldValue('MODE')];\n    const text =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'TEXT',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_MEMBER\n        ) || \"''\";\n\n    const code = `${text}${operator}`;\n    return [code, window.Blockly.JavaScript.javascriptGenerator.ORDER_FUNCTION_CALL];\n};\n",
            "size_bytes": 2269
        },
        "src/utils/blockly-url-param-handler.ts": {
            "content": "import { getModalState, resetUrlParamProcessing } from './trade-type-modal-handler';\nimport { getTradeTypeFromCurrentUrl } from './url-trade-type-handler';\n\n// Named constants for timeouts\nconst FIELD_POPULATION_DELAY = 500;\n\n// Store URL trade type to apply after field options are populated\nlet pendingUrlTradeType: { tradeTypeCategory: string; tradeType: string; isValid: boolean } | null = null;\n\n// Flag to prevent automatic URL parameter application\nlet preventAutoUrlApplication = false;\n\n/**\n * Enables automatic URL parameter application (called after user confirms)\n */\nexport const enableUrlParameterApplication = () => {\n    preventAutoUrlApplication = false;\n};\n\n/**\n * Disables automatic URL parameter application (prevents auto-changes)\n */\nexport const disableUrlParameterApplication = () => {\n    preventAutoUrlApplication = true;\n};\n\n/**\n * Sets the pending URL trade type to be applied when field options are available\n */\nexport const setTradeTypeFromUrl = () => {\n    try {\n        const tradeTypeFromUrl = getTradeTypeFromCurrentUrl();\n\n        // Enhanced validation\n        if (!tradeTypeFromUrl) {\n            return false;\n        }\n\n        if (!tradeTypeFromUrl.isValid) {\n            return false;\n        }\n\n        // Validate required properties\n        if (!tradeTypeFromUrl.tradeTypeCategory || !tradeTypeFromUrl.tradeType) {\n            return false;\n        }\n\n        pendingUrlTradeType = tradeTypeFromUrl;\n        return true;\n    } catch (error) {\n        pendingUrlTradeType = null;\n        return false;\n    }\n};\n\n/**\n * Applies the pending URL trade type if available and field options are populated\n * This should be called from the field update callbacks in DBot\n */\nexport const applyPendingUrlTradeType = (tradeTypeBlock: any): boolean => {\n    // Check if automatic URL application is disabled\n    if (preventAutoUrlApplication) {\n        return false;\n    }\n\n    // Enhanced validation checks\n    if (!pendingUrlTradeType) {\n        return false;\n    }\n\n    if (!tradeTypeBlock) {\n        return false;\n    }\n\n    // Validate pendingUrlTradeType structure\n    if (!pendingUrlTradeType.tradeTypeCategory || !pendingUrlTradeType.tradeType) {\n        pendingUrlTradeType = null; // Clear invalid data\n        return false;\n    }\n    try {\n        // Disable events temporarily to prevent interference\n        const originalGroup = window.Blockly.Events.getGroup();\n        window.Blockly.Events.setGroup('URL_PARAM_UPDATE');\n\n        // Get current category value\n        const currentCategory = tradeTypeBlock.getFieldValue('TRADETYPECAT_LIST');\n\n        // Set the category if it's different\n        if (currentCategory !== pendingUrlTradeType.tradeTypeCategory) {\n            tradeTypeBlock.setFieldValue(pendingUrlTradeType.tradeTypeCategory, 'TRADETYPECAT_LIST');\n\n            // Fire change event for category to trigger trade type options update\n            const categoryChangeEvent = new window.Blockly.Events.BlockChange(\n                tradeTypeBlock,\n                'field',\n                'TRADETYPECAT_LIST',\n                currentCategory,\n                pendingUrlTradeType.tradeTypeCategory\n            );\n            window.Blockly.Events.fire(categoryChangeEvent);\n        }\n\n        // Set a timeout to apply the trade type after the category change has populated the trade type options\n        setTimeout(() => {\n            try {\n                // Re-check if pendingUrlTradeType is still valid (might have been cleared)\n                if (!pendingUrlTradeType) {\n                    window.Blockly.Events.setGroup(originalGroup);\n                    return;\n                }\n\n                // Get current trade type value\n                const currentTradeType = tradeTypeBlock.getFieldValue('TRADETYPE_LIST');\n\n                // Set the trade type if it's different\n                if (currentTradeType !== pendingUrlTradeType.tradeType) {\n                    tradeTypeBlock.setFieldValue(pendingUrlTradeType.tradeType, 'TRADETYPE_LIST');\n\n                    // Fire change event for trade type\n                    const tradeTypeChangeEvent = new window.Blockly.Events.BlockChange(\n                        tradeTypeBlock,\n                        'field',\n                        'TRADETYPE_LIST',\n                        currentTradeType,\n                        pendingUrlTradeType.tradeType\n                    );\n                    window.Blockly.Events.fire(tradeTypeChangeEvent);\n\n                    // Force workspace to re-render\n                    const workspace = window.Blockly?.derivWorkspace;\n                    if (workspace) {\n                        workspace.render();\n                    }\n                }\n\n                // Clear the pending trade type\n                pendingUrlTradeType = null;\n\n                // Restore original event group\n                window.Blockly.Events.setGroup(originalGroup);\n            } catch (error) {\n                console.warn('Failed to apply trade type changes to Blockly workspace:', error);\n                // Restore original event group on error\n                window.Blockly.Events.setGroup(originalGroup);\n            }\n        }, FIELD_POPULATION_DELAY); // Delay to ensure field options are fully populated\n\n        return true;\n    } catch (error) {\n        console.warn('Failed to apply pending URL trade type:', error);\n        // Clear the pending trade type on error to prevent infinite retries\n        pendingUrlTradeType = null;\n        return false;\n    }\n};\n\n/**\n * Updates the trade type blocks in the Blockly workspace based on URL parameters\n * This function should be called after the workspace is initialized and blocks are loaded\n */\nexport const updateTradeTypeFromUrlParams = (): boolean => {\n    try {\n        const workspace = window.Blockly?.derivWorkspace;\n        if (!workspace) {\n            return false;\n        }\n\n        // Find the trade definition block\n        const tradeDefinitionBlocks = workspace\n            .getAllBlocks()\n            .filter((block: any) => block.type === 'trade_definition');\n\n        if (tradeDefinitionBlocks.length === 0) {\n            return false;\n        }\n\n        // Get the first trade definition block (there should only be one)\n        const tradeDefinitionBlock = tradeDefinitionBlocks[0];\n\n        // Find the trade type block within the trade definition\n        const tradeTypeBlock = tradeDefinitionBlock.getChildByType('trade_definition_tradetype');\n\n        if (!tradeTypeBlock) {\n            return false;\n        }\n\n        // Try to apply pending URL trade type if available\n        return applyPendingUrlTradeType(tradeTypeBlock);\n    } catch (error) {\n        console.warn('Failed to update trade type from URL params:', error);\n        return false;\n    }\n};\n\n/**\n * Checks if URL parameters should override the current trade type\n * This can be used to determine if we should apply URL parameters over saved workspace data\n */\nexport const shouldApplyUrlTradeType = (): boolean => {\n    const tradeTypeFromUrl = getTradeTypeFromCurrentUrl();\n    return Boolean(tradeTypeFromUrl && tradeTypeFromUrl.isValid);\n};\n\n/**\n * Gets the trade type information from URL for logging/debugging purposes\n */\nexport const getUrlTradeTypeInfo = () => {\n    return getTradeTypeFromCurrentUrl();\n};\n\n/**\n * Gets the current trade type from the Blockly workspace\n * @returns Object with current trade type category and trade type, or null if not found\n */\nexport const getCurrentTradeTypeFromWorkspace = (): { tradeTypeCategory: string; tradeType: string } | null => {\n    try {\n        const workspace = window.Blockly?.derivWorkspace;\n        if (!workspace) {\n            return null;\n        }\n\n        // Find the trade definition block\n        const tradeDefinitionBlocks = workspace\n            .getAllBlocks()\n            .filter((block: any) => block.type === 'trade_definition');\n\n        if (tradeDefinitionBlocks.length === 0) {\n            return null;\n        }\n\n        // Get the first trade definition block\n        const tradeDefinitionBlock = tradeDefinitionBlocks[0];\n\n        // Find the trade type block within the trade definition\n        const tradeTypeBlock = tradeDefinitionBlock.getChildByType('trade_definition_tradetype');\n\n        if (!tradeTypeBlock) {\n            return null;\n        }\n\n        // Get current values from the fields using the correct Blockly API\n        const currentCategory = tradeTypeBlock.getFieldValue('TRADETYPECAT_LIST');\n        const currentTradeType = tradeTypeBlock.getFieldValue('TRADETYPE_LIST');\n\n        // Validate field values\n        if (\n            typeof currentCategory !== 'string' ||\n            typeof currentTradeType !== 'string' ||\n            currentCategory.trim() === '' ||\n            currentTradeType.trim() === ''\n        ) {\n            return null;\n        }\n\n        return {\n            tradeTypeCategory: currentCategory.trim(),\n            tradeType: currentTradeType.trim(),\n        };\n    } catch (error) {\n        console.warn('Failed to get current trade type from workspace:', error);\n        return null;\n    }\n};\n\n/**\n * Removes the trade_type parameter from the current URL\n */\nexport const removeTradeTypeFromUrl = (): void => {\n    try {\n        const url = new URL(window.location.href);\n        url.searchParams.delete('trade_type');\n\n        // Update the URL without reloading the page\n        window.history.replaceState({}, '', url.toString());\n\n        // Reset URL parameter processing flag when URL parameter is removed\n        resetUrlParamProcessing();\n\n        // Re-enable URL parameter application for future parameters\n        enableUrlParameterApplication();\n    } catch (error) {\n        console.warn('Failed to remove trade type from URL:', error);\n    }\n};\n\n// Store the listener function reference for cleanup\nlet tradeTypeChangeListener: ((event: any) => void) | null = null;\n\n/**\n * Sets up a listener for manual trade type changes to remove URL parameters\n * This should be called after the workspace is initialized\n * @returns cleanup function to remove the listener\n */\nexport const setupTradeTypeChangeListener = (): (() => void) | null => {\n    try {\n        const workspace = window.Blockly?.derivWorkspace;\n        if (!workspace) {\n            return null;\n        }\n\n        // Remove existing listener if any\n        if (tradeTypeChangeListener) {\n            workspace.removeChangeListener(tradeTypeChangeListener);\n        }\n\n        // Create new listener function\n        tradeTypeChangeListener = (event: any) => {\n            // Check if this is a field change event for trade type fields\n            if (\n                event.type === 'change' &&\n                event.element === 'field' &&\n                (event.name === 'TRADETYPECAT_LIST' || event.name === 'TRADETYPE_LIST')\n            ) {\n                // Check if there's a trade_type parameter in the URL\n                const urlParams = new URLSearchParams(window.location.search);\n                const tradeTypeParam = urlParams.get('trade_type');\n\n                // Only remove URL parameter if it exists AND the modal is not currently open\n                // (i.e., it's a genuine manual user change, not when modal is pending)\n                const modalState = getModalState();\n                if (tradeTypeParam && !modalState.isVisible) return;\n            }\n        };\n\n        // Add the listener\n        workspace.addChangeListener(tradeTypeChangeListener);\n\n        // Return cleanup function\n        return () => {\n            if (workspace && tradeTypeChangeListener) {\n                workspace.removeChangeListener(tradeTypeChangeListener);\n                tradeTypeChangeListener = null;\n            }\n        };\n    } catch (error) {\n        console.warn('Failed to setup trade type change listener:', error);\n        return null;\n    }\n};\n\n/**\n * Removes the trade type change listener (cleanup function)\n */\nexport const cleanupTradeTypeChangeListener = (): void => {\n    try {\n        const workspace = window.Blockly?.derivWorkspace;\n        if (workspace && tradeTypeChangeListener) {\n            workspace.removeChangeListener(tradeTypeChangeListener);\n            tradeTypeChangeListener = null;\n        }\n    } catch (error) {\n        console.warn('Failed to cleanup trade type change listener:', error);\n    }\n};\n",
            "size_bytes": 12367
        },
        "src/utils/help-content/help-strings/math_constrain.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize('This block constrains a given number within a set range.'),\n        localize(\n            'In case if the given number is less than the lower boundary of the range, the block returns the lower boundary value. Similarly, if the given number is greater than the higher boundary, the block will return the higher boundary value. In case if the given value is between boundaries, the block will return the given value unchanged.'\n        ),\n        localize(\n            'In the below example the block returns the value of 10 as the given value (5) is less than the lower boundary (10)'\n        ),\n    ],\n};\n",
            "size_bytes": 711
        },
        "src/constants/quick-strategies/reverse_dalembert.ts": {
            "content": "import { getImageLocation } from '../../public-path';\nimport { localize } from '@deriv-com/translations';\nimport { TDescriptionItem } from '../../pages/bot-builder/quick-strategy/types';\n\nexport const REVERSE_D_ALEMBERT = (): TDescriptionItem[] => [\n    {\n        type: 'subtitle',\n        content: [localize('Exploring the Reverse DAlembert strategy in Deriv Bot')],\n        expanded: true,\n        no_collapsible: false,\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                \"The Reverse D'Alembert strategy involves increasing your stake after a successful trade and reducing it after a losing trade by a predetermined number of units.\"\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('Key parameters')],\n    },\n    {\n        type: 'text',\n        content: [localize('These are the trade parameters used in Deriv Bot with Reverse DAlembert strategy.')],\n    },\n    {\n        type: 'text',\n        content: [localize('<strong>Initial stake:</strong> The starting trade amount. ')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                '<strong>Unit:</strong> The number of units that are added in the event of successful trades or the number of units removed in the event of losing trades. For example, if the unit is set at 2, the stake increases or decreases by two times the initial stake of 1 USD, meaning it changes by 2 USD.'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                '<strong>Profit threshold:</strong> The bot will stop trading if your total profit exceeds this amount.'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                '<strong>Loss threshold:</strong> The bot will stop trading if your total loss exceeds this amount.'\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('An example of Reverse DAlembert strategy')],\n    },\n    {\n        type: 'media',\n        src: getImageLocation('reverse_dalembert.svg'),\n        alt: localize('An example of Reverse DAlembert strategy'),\n    },\n    {\n        type: 'text',\n        content: [\n            localize('1. Start with the initial stake. Lets say 1 USD.'),\n            localize('2. Select your unit. In this example, it is 2 units or 2 USD.'),\n            localize(\n                '3. For trades that result in a profit, the stake for the next trade will be increased by 2 USD. Deriv Bot will continue to add 2 USD for every successful trade. See A1.'\n            ),\n            localize(\n                '4. For trades that result in a loss, there are two outcomes.  If it was traded at the initial stake, the next trade will remain at the same amount as the strategy trades minimally at the initial stake, see A2. If it was traded with a higher amount, the stake for the next trade would be reduced by 2 USD, see A3.'\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('Profit and loss thresholds')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                'With Deriv Bot, traders can set the profit and loss thresholds to secure potential profits and limit potential losses. This means that the trading bot will automatically stop when either the profit or loss threshold is reached. This is a form of risk management that can potentially boost successful trades whilst limiting the impact of loss. For example, if a trader sets the profit threshold at 100 USD and the strategy exceeds 100 USD of profit from all trades, then the bot will stop running.'\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('Summary')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                \"Effective trading with the D'Alembert system requires careful consideration of its stake progression and risk management. Traders can automate this approach using Deriv Bot, setting profit and loss thresholds to ensure balanced and controlled trading. However, it is crucial for traders to assess their risk appetite, test strategies on a demo account, and align with their own trading style before transitioning to real money trading. This optimization process helps strike a balance between potential gains and losses while managing risk prudently.\"\n            ),\n        ],\n    },\n    {\n        type: 'text_italic',\n        content: [localize('<strong>Disclaimer:</strong>')],\n    },\n    {\n        type: 'text_italic',\n        content: [\n            localize(\n                'Please be aware that while we may use rounded figures for illustration, a stake of a specific amount does not guarantee an exact amount in successful trades. For example, a 1 USD stake does not necessarily equate to a 1 USD  profit in successful trades.'\n            ),\n        ],\n    },\n    {\n        type: 'text_italic',\n        content: [\n            localize(\n                'Trading inherently involves risks, and actual profits can fluctuate due to various factors, including market volatility and other unforeseen variables. As such, exercise caution and conduct thorough research before engaging in any trading activities.'\n            ),\n        ],\n    },\n];\n",
            "size_bytes": 5364
        },
        "src/utils/help-content/help-strings/math_single.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize('This block performs the following operations to a given number'),\n        localize('Available operations are:'),\n        localize('- Square root'),\n        localize('- Absolute'),\n        localize('- Negation'),\n        localize('- Natural log'),\n        localize('- Eulers number (2.71) to the power of a given number'),\n        localize('- 10 to the power of a given number'),\n    ],\n};\n",
            "size_bytes": 498
        },
        "src/stores/app-store.ts": {
            "content": "import { action, makeObservable, reaction } from 'mobx';\nimport { api_base, ApiHelpers, DBot, runIrreversibleEvents } from '@/external/bot-skeleton';\nimport { setCurrency } from '@/external/bot-skeleton/scratch/utils';\nimport { TApiHelpersStore } from '@/types/stores.types';\nimport RootStore from './root-store';\n\nexport default class AppStore {\n    root_store: RootStore;\n    core: RootStore['core'];\n    dbot_store: RootStore | null;\n    api_helpers_store: TApiHelpersStore | null;\n    timer: ReturnType<typeof setInterval> | null;\n    disposeReloadOnLanguageChangeReaction: unknown;\n    disposeCurrencyReaction: unknown;\n    disposeSwitchAccountListener: unknown;\n\n    disposeResidenceChangeReaction: unknown;\n\n    constructor(root_store: RootStore, core: RootStore['core']) {\n        makeObservable(this, {\n            onMount: action,\n            onUnmount: action,\n            registerCurrencyReaction: action,\n            registerOnAccountSwitch: action,\n\n            registerResidenceChangeReaction: action,\n            setDBotEngineStores: action,\n            onClickOutsideBlockly: action,\n        });\n\n        this.root_store = root_store;\n        this.core = core;\n        this.dbot_store = null;\n        this.api_helpers_store = null;\n        this.timer = null;\n    }\n\n    onMount = async () => {\n        const { blockly_store, run_panel } = this.root_store;\n        const { ui } = this.core;\n\n        let timer_counter = 1;\n\n        this.timer = setInterval(() => {\n            if (window.sendRequestsStatistic) {\n                window.sendRequestsStatistic(false);\n                performance.clearMeasures();\n                if (timer_counter === 6 || run_panel?.is_running) {\n                    if (this.timer) clearInterval(this.timer);\n                } else {\n                    timer_counter++;\n                }\n            }\n        }, 10000);\n\n        if (!this.dbot_store) return;\n\n        blockly_store.setLoading(true);\n        await DBot.initWorkspace('/', this.dbot_store, this.api_helpers_store, ui.is_mobile, false);\n\n        blockly_store.setContainerSize();\n        blockly_store.setLoading(false);\n\n        this.registerCurrencyReaction.call(this);\n        this.registerOnAccountSwitch.call(this);\n\n        this.registerResidenceChangeReaction.call(this);\n\n        window.addEventListener('click', this.onClickOutsideBlockly);\n\n        blockly_store.getCachedActiveTab();\n    };\n\n    onUnmount = () => {\n        DBot.terminateBot();\n        DBot.terminateConnection();\n        if (window.Blockly?.derivWorkspace) {\n            clearInterval(window.Blockly?.derivWorkspace.save_workspace_interval);\n            window.Blockly.derivWorkspace?.dispose();\n        }\n        if (typeof this.disposeReloadOnLanguageChangeReaction === 'function') {\n            this.disposeReloadOnLanguageChangeReaction();\n        }\n        if (typeof this.disposeCurrencyReaction === 'function') {\n            this.disposeCurrencyReaction();\n        }\n        if (typeof this.disposeSwitchAccountListener === 'function') {\n            this.disposeSwitchAccountListener();\n        }\n\n        if (typeof this.disposeResidenceChangeReaction === 'function') {\n            this.disposeResidenceChangeReaction();\n        }\n\n        window.removeEventListener('click', this.onClickOutsideBlockly);\n\n        // Ensure account switch is re-enabled.\n        // TODO: fix\n        const { ui } = this.core;\n\n        ui.setAccountSwitcherDisabledMessage();\n        ui.setPromptHandler(false);\n\n        if (this.timer) clearInterval(this.timer);\n        performance.clearMeasures();\n    };\n\n    registerCurrencyReaction = () => {\n        // Syncs all trade options blocks' currency with the client's active currency.\n        this.disposeCurrencyReaction = reaction(\n            () => this.core.client.currency,\n            () => {\n                if (!window.Blockly?.derivWorkspace) return;\n\n                const trade_options_blocks = window.Blockly?.derivWorkspace\n                    .getAllBlocks()\n                    .filter(\n                        b =>\n                            b.type === 'trade_definition_tradeoptions' ||\n                            b.type === 'trade_definition_multiplier' ||\n                            b.type === 'trade_definition_accumulator' ||\n                            (b.isDescendantOf('trade_definition_multiplier') && b.category_ === 'trade_parameters')\n                    );\n\n                trade_options_blocks.forEach(trade_options_block => setCurrency(trade_options_block));\n            }\n        );\n    };\n\n    registerOnAccountSwitch = () => {\n        this.disposeSwitchAccountListener = reaction(\n            () => this.root_store.common?.is_socket_opened,\n            is_socket_opened => {\n                if (!is_socket_opened) return;\n                this.api_helpers_store = {\n                    server_time: this.root_store.common.server_time,\n                    ws: api_base.api,\n                };\n\n                if (!ApiHelpers?.instance) {\n                    ApiHelpers.setInstance(this.api_helpers_store);\n                }\n\n                this.showDigitalOptionsMaltainvestError();\n\n                const active_symbols = ApiHelpers?.instance?.active_symbols;\n                const contracts_for = ApiHelpers?.instance?.contracts_for;\n\n                if (ApiHelpers?.instance && active_symbols && contracts_for) {\n                    if (window.Blockly?.derivWorkspace) {\n                        active_symbols?.retrieveActiveSymbols(true).then(() => {\n                            contracts_for.disposeCache();\n                            window.Blockly?.derivWorkspace\n                                .getAllBlocks()\n                                .filter(block => block.type === 'trade_definition_market')\n                                .forEach(block => {\n                                    runIrreversibleEvents(() => {\n                                        const fake_create_event = new window.Blockly.Events.BlockCreate(block);\n                                        window.Blockly.Events.fire(fake_create_event);\n                                    });\n                                });\n                        });\n                    }\n                    DBot.initializeInterpreter();\n                }\n            }\n        );\n    };\n\n    registerResidenceChangeReaction = () => {\n        // Country code no longer available from removed get_settings API\n        // Previously set up residence change reaction here\n    };\n\n    setDBotEngineStores = () => {\n        const { flyout, toolbar, save_modal, dashboard, load_modal, run_panel, blockly_store, summary_card } =\n            this.root_store;\n        const { client, common } = this.core;\n        const { handleFileChange } = load_modal;\n        const { setLoading } = blockly_store;\n        const { setContractUpdateConfig } = summary_card;\n        const {\n            ui: { is_mobile },\n        } = this.core;\n\n        this.dbot_store = {\n            client,\n            flyout,\n            toolbar,\n            save_modal,\n            dashboard,\n            load_modal,\n            run_panel,\n            setLoading,\n            setContractUpdateConfig,\n            handleFileChange,\n            is_mobile,\n            common,\n        };\n\n        this.api_helpers_store = {\n            server_time: this.core.common.server_time,\n            ws: api_base.api,\n        };\n    };\n\n    onClickOutsideBlockly = (event: Event) => {\n        if (document.querySelector('.injectionDiv')) {\n            const path = event.path || (event.composedPath && event.composedPath());\n            const is_click_outside_blockly = !path.some(\n                (el: Element) => el.classList && el.classList.contains('injectionDiv')\n            );\n\n            if (is_click_outside_blockly) {\n                window.Blockly?.hideChaff(/* allowToolbox */ false);\n            }\n        }\n    };\n}\n",
            "size_bytes": 7920
        },
        "src/components/load-modal/load-modal.tsx": {
            "content": "import React from 'react';\nimport { observer } from 'mobx-react-lite';\nimport { tabs_title } from '@/constants/load-modal';\nimport { useStore } from '@/hooks/useStore';\nimport { localize } from '@deriv-com/translations';\nimport { useDevice } from '@deriv-com/ui';\nimport { rudderStackSendSwitchLoadStrategyTabEvent } from '../../analytics/rudderstack-bot-builder';\nimport { rudderStackSendCloseEvent } from '../../analytics/rudderstack-common-events';\nimport { LOAD_MODAL_TABS } from '../../analytics/utils';\nimport MobileFullPageModal from '../shared_ui/mobile-full-page-modal';\nimport Modal from '../shared_ui/modal';\nimport Tabs from '../shared_ui/tabs';\nimport GoogleDrive from './google-drive';\nimport Local from './local';\nimport LocalFooter from './local-footer';\nimport Recent from './recent';\nimport RecentFooter from './recent-footer';\n\nconst LoadModal: React.FC = observer(() => {\n    const { load_modal, dashboard } = useStore();\n    const {\n        active_index,\n        is_load_modal_open,\n        loaded_local_file,\n        onEntered,\n        recent_strategies,\n        setActiveTabIndex,\n        toggleLoadModal,\n        tab_name,\n    } = load_modal;\n    const { setPreviewOnPopup } = dashboard;\n    const { isDesktop } = useDevice();\n    const header_text = localize('Load strategy');\n\n    const handleTabItemClick = (active_index: number) => {\n        setActiveTabIndex(active_index);\n        rudderStackSendSwitchLoadStrategyTabEvent({\n            load_strategy_tab: LOAD_MODAL_TABS[active_index + (!isDesktop ? 1 : 0)],\n        });\n    };\n\n    if (!isDesktop) {\n        return (\n            <MobileFullPageModal\n                is_modal_open={is_load_modal_open}\n                className='load-strategy__wrapper'\n                header={header_text}\n                onClickClose={() => {\n                    setPreviewOnPopup(false);\n                    toggleLoadModal();\n                    rudderStackSendCloseEvent({\n                        subform_name: 'load_strategy',\n                        load_strategy_tab: LOAD_MODAL_TABS[active_index + 1],\n                    });\n                }}\n                height_offset='80px'\n                page_overlay\n            >\n                <Tabs active_index={active_index} onTabItemClick={handleTabItemClick} top>\n                    <div label={localize('Local')}>\n                        <Local />\n                    </div>\n                    <div label='Google Drive'>\n                        <GoogleDrive />\n                    </div>\n                </Tabs>\n            </MobileFullPageModal>\n        );\n    }\n\n    const is_file_loaded = !!loaded_local_file && tab_name === tabs_title.TAB_LOCAL;\n    const has_recent_strategies = recent_strategies.length > 0 && tab_name === tabs_title.TAB_RECENT;\n\n    return (\n        <Modal\n            title={header_text}\n            className='load-strategy'\n            width='1000px'\n            height='80vh'\n            is_open={is_load_modal_open}\n            toggleModal={() => {\n                toggleLoadModal();\n                rudderStackSendCloseEvent({\n                    subform_name: 'load_strategy',\n                    load_strategy_tab: LOAD_MODAL_TABS[active_index + (!isDesktop ? 1 : 0)],\n                });\n            }}\n            onEntered={onEntered}\n            elements_to_ignore={[document.querySelector('.injectionDiv')]}\n        >\n            <Modal.Body>\n                <Tabs active_index={active_index} onTabItemClick={handleTabItemClick} top header_fit_content>\n                    <div label={localize('Recent')}>\n                        <Recent />\n                    </div>\n                    <div label={localize('Local')}>\n                        <Local />\n                    </div>\n                    <div label='Google Drive'>\n                        <GoogleDrive />\n                    </div>\n                </Tabs>\n            </Modal.Body>\n            {has_recent_strategies && (\n                <Modal.Footer has_separator>\n                    <RecentFooter />\n                </Modal.Footer>\n            )}\n            {is_file_loaded && (\n                <Modal.Footer has_separator>\n                    <LocalFooter />\n                </Modal.Footer>\n            )}\n        </Modal>\n    );\n});\n\nexport default LoadModal;\n",
            "size_bytes": 4295
        },
        "src/external/bot-skeleton/services/api/appId.js": {
            "content": "import { getAppId, getSocketURL } from '@/components/shared';\nimport { website_name } from '@/utils/site-config';\nimport DerivAPIBasic from '@deriv/deriv-api/dist/DerivAPIBasic';\nimport { getInitialLanguage } from '@deriv-com/translations';\nimport APIMiddleware from './api-middleware';\n\nexport const generateDerivApiInstance = () => {\n    const cleanedServer = getSocketURL().replace(/[^a-zA-Z0-9.]/g, '');\n    const cleanedAppId = getAppId()?.replace?.(/[^a-zA-Z0-9]/g, '') ?? getAppId();\n    const socket_url = `wss://${cleanedServer}/websockets/v3?app_id=${cleanedAppId}&l=${getInitialLanguage()}&brand=${website_name.toLowerCase()}`;\n    const deriv_socket = new WebSocket(socket_url);\n    const deriv_api = new DerivAPIBasic({\n        connection: deriv_socket,\n        middleware: new APIMiddleware({}),\n    });\n    return deriv_api;\n};\n\nexport const getLoginId = () => {\n    const login_id = localStorage.getItem('active_loginid');\n    if (login_id && login_id !== 'null') return login_id;\n    return null;\n};\n\nexport const V2GetActiveToken = () => {\n    const token = localStorage.getItem('session_token');\n    if (token && token !== 'null') return token;\n    return null;\n};\n\nexport const V2GetActiveClientId = () => {\n    const token = V2GetActiveToken();\n\n    if (!token) return null;\n    const account_list = JSON.parse(localStorage.getItem('accountsList'));\n    if (account_list && account_list !== 'null') {\n        const active_clientId = Object.keys(account_list).find(key => account_list[key] === token);\n        return active_clientId;\n    }\n    return null;\n};\n\nexport const getToken = () => {\n    const active_loginid = getLoginId();\n    const client_accounts = JSON.parse(localStorage.getItem('accountsList')) ?? undefined;\n    const active_account = (client_accounts && client_accounts[active_loginid]) || {};\n    return {\n        token: active_account ?? undefined,\n        account_id: active_loginid ?? undefined,\n    };\n};\n",
            "size_bytes": 1948
        },
        "src/external/bot-skeleton/services/tradeEngine/trade/OpenContract.js": {
            "content": "import { getRoundedNumber } from '@/components/shared';\nimport { api_base } from '../../api/api-base';\nimport { contract as broadcastContract, contractStatus } from '../utils/broadcast';\nimport { openContractReceived, sell } from './state/actions';\n\nexport default Engine =>\n    class OpenContract extends Engine {\n        observeOpenContract() {\n            if (!api_base.api) return;\n            const subscription = api_base.api.onMessage().subscribe(({ data }) => {\n                if (data.msg_type === 'proposal_open_contract') {\n                    const contract = data.proposal_open_contract;\n\n                    if (!contract || !this.expectedContractId(contract?.contract_id)) {\n                        return;\n                    }\n\n                    this.setContractFlags(contract);\n\n                    this.data.contract = contract;\n\n                    broadcastContract({ accountID: api_base.account_info.loginid, ...contract });\n\n                    if (this.isSold) {\n                        this.contractId = '';\n                        clearTimeout(this.transaction_recovery_timeout);\n                        this.updateTotals(contract);\n                        contractStatus({\n                            id: 'contract.sold',\n                            data: contract.transaction_ids.sell,\n                            contract,\n                        });\n\n                        if (this.afterPromise) {\n                            this.afterPromise();\n                        }\n\n                        this.store.dispatch(sell());\n                    } else {\n                        this.store.dispatch(openContractReceived());\n                    }\n                }\n            });\n            api_base.pushSubscription(subscription);\n        }\n\n        waitForAfter() {\n            return new Promise(resolve => {\n                this.afterPromise = resolve;\n            });\n        }\n\n        setContractFlags(contract) {\n            const { is_expired, is_valid_to_sell, is_sold, entry_tick } = contract;\n\n            this.isSold = Boolean(is_sold);\n            this.isSellAvailable = !this.isSold && Boolean(is_valid_to_sell);\n            this.isExpired = Boolean(is_expired);\n            this.hasEntryTick = Boolean(entry_tick);\n        }\n\n        expectedContractId(contractId) {\n            return this.contractId && contractId === this.contractId;\n        }\n\n        getSellPrice() {\n            const { bid_price: bidPrice, buy_price: buyPrice, currency } = this.data.contract;\n            return getRoundedNumber(Number(bidPrice) - Number(buyPrice), currency);\n        }\n    };\n",
            "size_bytes": 2622
        },
        "src/components/draggable/draggable-utils.ts": {
            "content": "export enum DRAGGABLE_CONSTANTS {\n    MOVE = 'move',\n    TOP = 'top',\n    RIGHT = 'right',\n    BOTTOM = 'bottom',\n    LEFT = 'left',\n    TOP_RIGHT = 'top-right',\n    BOTTOM_RIGHT = 'bottom-right',\n    BOTTOM_LEFT = 'bottom-left',\n    TOP_LEFT = 'top-left',\n    BODY_REF = 'body',\n}\nexport const SAFETY_MARGIN = 5;\nexport const EXTRA_BOTTOM_RIGHT_SAFETY_MARGIN = 2;\n\nexport type TCalculateWidth = {\n    prevWidth: number;\n    leftOffset: number;\n    boundaryRect: DOMRect | undefined;\n    initialSelfRight: number;\n    resize_direction: string;\n    newWidth: number;\n    minWidth: number;\n    clientX: number;\n    self: DOMRect | undefined;\n};\n\nexport type TCalculateHeight = {\n    prevHeight: number;\n    topOffset: number;\n    boundaryRect: DOMRect | undefined;\n    initialSelfBottom: number;\n    resize_direction: string;\n    newHeight: number;\n    minHeight: number;\n    clientY: number;\n    self: DOMRect | undefined;\n};\n\nexport type TCalculateZindex = {\n    setZIndex: (zIndex: number) => void;\n};\n\nexport type TDraggableProps = {\n    children: React.ReactNode;\n    boundary?: string;\n    initialValues?: {\n        width: number;\n        height: number;\n        xAxis: number;\n        yAxis: number;\n    };\n    minWidth?: number;\n    minHeight?: number;\n    enableResizing?: boolean;\n    enableDragging?: boolean;\n    header?: string;\n    onClose?: () => void;\n};\n\nexport const calculateZindex = ({ setZIndex }: TCalculateZindex) => {\n    const draggableModals = document.getElementsByClassName('draggable');\n    if (!draggableModals.length) return;\n    const maxZIndex = Array.from(draggableModals).reduce(\n        (maxZ, modal) => Math.max(maxZ, parseInt(window.getComputedStyle(modal).zIndex) || 0),\n        0\n    );\n    const newZIndex = maxZIndex + 3;\n    setZIndex(newZIndex);\n};\n\nexport const calculateWidth = ({\n    prevWidth,\n    leftOffset,\n    boundaryRect,\n    initialSelfRight,\n    resize_direction,\n    newWidth,\n    minWidth,\n    clientX,\n    self,\n}: TCalculateWidth) => {\n    const leftBoundary = boundaryRect?.left ?? 0;\n    const boundaryWidth = boundaryRect?.width ?? 0;\n    const leftLimit = leftBoundary + leftOffset + SAFETY_MARGIN;\n    const selfLeft = self?.left ?? 0;\n\n    const rightLimit = leftBoundary + boundaryWidth - (SAFETY_MARGIN + EXTRA_BOTTOM_RIGHT_SAFETY_MARGIN);\n    const calculatedPreviousWidth = rightLimit - leftLimit - (rightLimit - initialSelfRight);\n\n    if (resize_direction.includes(DRAGGABLE_CONSTANTS.LEFT)) {\n        if (newWidth >= minWidth && clientX > leftLimit) return newWidth;\n        if (clientX < leftLimit + SAFETY_MARGIN * 2) return calculatedPreviousWidth - SAFETY_MARGIN * 2;\n        return prevWidth;\n    }\n    if (resize_direction.includes(DRAGGABLE_CONSTANTS.RIGHT)) {\n        if (newWidth >= minWidth && clientX < rightLimit) return newWidth;\n        if (clientX > rightLimit) return rightLimit - selfLeft;\n        return prevWidth;\n    }\n    return prevWidth;\n};\n\nexport const calculateHeight = ({\n    prevHeight,\n    topOffset,\n    boundaryRect,\n    initialSelfBottom,\n    resize_direction,\n    newHeight,\n    minHeight,\n    clientY,\n    self,\n}: TCalculateHeight) => {\n    const topBoundary = boundaryRect?.top ?? 0;\n    const boundaryHeight = boundaryRect?.height ?? 0;\n    const topLimit = topBoundary + topOffset + SAFETY_MARGIN;\n    const selfTop = self?.top ?? 0;\n\n    const bottomLimit = topBoundary + boundaryHeight - (SAFETY_MARGIN + EXTRA_BOTTOM_RIGHT_SAFETY_MARGIN);\n    const calculatedPreviousHeight = bottomLimit - topLimit - (bottomLimit - initialSelfBottom);\n\n    if (resize_direction.includes(DRAGGABLE_CONSTANTS.TOP)) {\n        if (newHeight >= minHeight && clientY > topLimit) return newHeight;\n        if (clientY < topLimit + SAFETY_MARGIN * 2) return calculatedPreviousHeight - SAFETY_MARGIN * 2;\n        return prevHeight;\n    }\n    if (resize_direction.includes(DRAGGABLE_CONSTANTS.BOTTOM)) {\n        if (newHeight >= minHeight && clientY < bottomLimit) return newHeight;\n        if (clientY > bottomLimit) return bottomLimit - selfTop;\n        return prevHeight;\n    }\n    return prevHeight;\n};\n",
            "size_bytes": 4093
        },
        "src/hooks/useEventListener.ts": {
            "content": "import { RefObject, useEffect, useRef } from 'react';\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect';\n\n// MediaQueryList Event based useEventListener interface\nfunction useEventListener<K extends keyof MediaQueryListEventMap>(\n    eventName: K,\n    handler: (event: MediaQueryListEventMap[K]) => void,\n    element: RefObject<MediaQueryList>,\n    options?: boolean | AddEventListenerOptions\n): void;\n\n// Window Event based useEventListener interface\nfunction useEventListener<K extends keyof WindowEventMap>(\n    eventName: K,\n    handler: (event: WindowEventMap[K]) => void,\n    element?: undefined,\n    options?: boolean | AddEventListenerOptions\n): void;\n\n// Element Event based useEventListener interface\nfunction useEventListener<K extends keyof HTMLElementEventMap, T extends HTMLElement = HTMLDivElement>(\n    eventName: K,\n    handler: (event: HTMLElementEventMap[K]) => void,\n    element: RefObject<T>,\n    options?: boolean | AddEventListenerOptions\n): void;\n\n// Document Event based useEventListener interface\nfunction useEventListener<K extends keyof DocumentEventMap>(\n    eventName: K,\n    handler: (event: DocumentEventMap[K]) => void,\n    element: RefObject<Document>,\n    options?: boolean | AddEventListenerOptions\n): void;\n\nfunction useEventListener<\n    KW extends keyof WindowEventMap,\n    KH extends keyof HTMLElementEventMap,\n    KM extends keyof MediaQueryListEventMap,\n    T extends HTMLElement | MediaQueryList | void = void,\n>(\n    eventName: KW | KH | KM,\n    handler: (event: WindowEventMap[KW] | HTMLElementEventMap[KH] | MediaQueryListEventMap[KM] | Event) => void,\n    element?: RefObject<T>,\n    options?: boolean | AddEventListenerOptions\n) {\n    // Create a ref that stores handler\n    const savedHandler = useRef(handler);\n\n    useIsomorphicLayoutEffect(() => {\n        savedHandler.current = handler;\n    }, [handler]);\n\n    useEffect(() => {\n        let targetElement: T | Window, listener: typeof handler;\n        const setListener = () => {\n            targetElement = element?.current ?? window;\n            listener = event => savedHandler.current(event);\n            // Define the listening target\n\n            if (!targetElement?.addEventListener) return;\n\n            // Create event listener that calls handler function stored in ref\n\n            targetElement.addEventListener(eventName, listener, options);\n        };\n\n        setListener();\n\n        // Remove event listener on cleanup\n        return () => {\n            targetElement?.removeEventListener(eventName, listener, options);\n        };\n    }, [eventName, element, options]);\n}\n\nexport default useEventListener;\n",
            "size_bytes": 2642
        },
        "src/stores/client-store.ts": {
            "content": "import { action, computed, makeObservable, observable } from 'mobx';\nimport { isEmptyObject } from '@/components/shared';\nimport { isMultipliersOnly, isOptionsBlocked } from '@/components/shared/common/utility';\nimport { removeCookies } from '@/components/shared/utils/storage/storage';\nimport { observer } from '@/external/bot-skeleton';\nimport {\n    authData$,\n    setAccountList,\n    setAuthData,\n    setIsAuthorized,\n} from '@/external/bot-skeleton/services/api/observables/connection-status-stream';\nimport type { TAuthData } from '@/types/api-types';\nimport { getSessionToken, removeSessionToken, setSessionToken } from '@/utils/session-token-utils';\nimport type { Balance } from '@deriv/api-types';\nimport { Analytics } from '@deriv-com/analytics';\nimport type RootStore from './root-store';\n\nexport default class ClientStore {\n    loginid = '';\n    account_list: TAuthData['account_list'] = [];\n    balance = '0';\n    currency = 'AUD';\n    is_logged_in = false;\n\n    accounts: Record<string, TAuthData['account_list'][number]> = {};\n    all_accounts_balance: Balance | null = null;\n    is_logging_out = false;\n    show_logout_success_modal = false;\n\n    private authDataSubscription: { unsubscribe: () => void } | null = null;\n    private root_store: RootStore;\n\n    // TODO: fix with self exclusion\n\n    removeTokenFromUrl() {\n        const url = new URL(window.location.href);\n        if (url.searchParams.has('token')) {\n            url.searchParams.delete('token');\n            window.history.replaceState({}, document.title, url.toString());\n        }\n    }\n\n    storeSessionToken(token: string) {\n        if (token) {\n            setSessionToken(token);\n        }\n    }\n\n    getSessionToken(): string | null {\n        return getSessionToken();\n    }\n\n    clearSessionToken() {\n        removeSessionToken();\n    }\n\n    onAuthorizeEvent = (data: {\n        account_list?: TAuthData['account_list'];\n        current_account?: { loginid: string; currency: string; is_virtual: number; balance?: number };\n    }) => {\n        if (data?.account_list) {\n            this.setAccountList(data.account_list);\n        }\n\n        // Update current account details from new API structure\n        if (data?.current_account) {\n            this.setLoginId(data.current_account.loginid);\n            this.setCurrency(data.current_account.currency);\n            this.setIsLoggedIn(true);\n\n            if (typeof data.current_account.balance === 'number') {\n                this.setBalance(data.current_account.balance.toString());\n            }\n        }\n    };\n\n    constructor(root_store: RootStore) {\n        this.root_store = root_store;\n        // Subscribe to auth data changes\n        this.authDataSubscription = authData$.subscribe(() => {});\n\n        observer.register('api.authorize', this.onAuthorizeEvent);\n\n        makeObservable(this, {\n            accounts: observable,\n            account_list: observable,\n\n            all_accounts_balance: observable,\n            balance: observable,\n            currency: observable,\n\n            is_logged_in: observable,\n            loginid: observable,\n            is_logging_out: observable,\n            show_logout_success_modal: observable,\n            active_accounts: computed,\n            is_bot_allowed: computed,\n\n            is_eu_or_multipliers_only: computed,\n            is_low_risk: computed,\n            is_multipliers_only: computed,\n            is_options_blocked: computed,\n            is_virtual: computed,\n\n            residence: computed,\n\n            logout: action,\n            onAuthorizeEvent: action,\n            setAccountList: action,\n\n            setAllAccountsBalance: action,\n            setBalance: action,\n            setCurrency: action,\n            setIsLoggedIn: action,\n            setIsLoggingOut: action,\n            setLoginId: action,\n            setShowLogoutSuccessModal: action,\n\n            is_trading_experience_incomplete: computed,\n            is_cr_account: computed,\n            account_open_date: computed,\n        });\n    }\n\n    get active_accounts() {\n        return this.accounts instanceof Object\n            ? Object.values(this.accounts).filter(account => !account.is_disabled)\n            : [];\n    }\n\n    get is_bot_allowed() {\n        return this.isBotAllowed();\n    }\n    get is_trading_experience_incomplete() {\n        return false;\n    }\n\n    get is_low_risk() {\n        return false;\n    }\n\n    get residence() {\n        return '';\n    }\n\n    get is_options_blocked() {\n        return isOptionsBlocked(this.residence);\n    }\n\n    get is_multipliers_only() {\n        return isMultipliersOnly(this.residence);\n    }\n\n    get is_eu_or_multipliers_only() {\n        // Always return false - EU restrictions now handled by backend\n        return false;\n    }\n\n    get is_virtual() {\n        return !isEmptyObject(this.accounts) && this.accounts[this.loginid] && !!this.accounts[this.loginid].is_virtual;\n    }\n\n    get all_loginids() {\n        return !isEmptyObject(this.accounts) ? Object.keys(this.accounts) : [];\n    }\n\n    get virtual_account_loginid() {\n        return this.all_loginids.find(loginid => !!this.accounts[loginid].is_virtual);\n    }\n\n    get is_cr_account() {\n        return this.loginid?.startsWith('CR');\n    }\n\n    get should_hide_header() {\n        return false;\n    }\n\n    get account_open_date() {\n        if (isEmptyObject(this.accounts) || !this.accounts[this.loginid]) return undefined;\n        return Object.keys(this.accounts[this.loginid]).includes('created_at')\n            ? this.accounts[this.loginid].created_at\n            : undefined;\n    }\n\n    isBotAllowed = () => {\n        return this.is_virtual ? this.is_eu_or_multipliers_only : !this.is_options_blocked;\n    };\n\n    setLoginId = (loginid: string) => {\n        this.loginid = loginid;\n    };\n\n    setAccountList = (account_list?: TAuthData['account_list']) => {\n        this.accounts = {};\n        account_list?.forEach(account => {\n            this.accounts[account.loginid] = account;\n        });\n        if (account_list) this.account_list = account_list;\n    };\n\n    setBalance = (balance: string) => {\n        this.balance = balance;\n    };\n\n    setCurrency = (currency: string) => {\n        this.currency = currency;\n    };\n\n    setIsLoggedIn = (is_logged_in: boolean) => {\n        this.is_logged_in = is_logged_in;\n    };\n\n    getCurrency = () => {\n        const clientAccounts = JSON.parse(localStorage.getItem('clientAccounts') ?? '{}');\n        return clientAccounts[this.loginid]?.currency ?? '';\n    };\n\n    getToken = () => {\n        const accountList = JSON.parse(localStorage.getItem('accountsList') ?? '{}');\n        return accountList[this.loginid] ?? '';\n    };\n\n    setAllAccountsBalance = (all_accounts_balance: Balance | undefined) => {\n        this.all_accounts_balance = all_accounts_balance ?? null;\n    };\n\n    setIsLoggingOut = (is_logging_out: boolean) => {\n        this.is_logging_out = is_logging_out;\n    };\n\n    setShowLogoutSuccessModal = (show_logout_success_modal: boolean) => {\n        this.show_logout_success_modal = show_logout_success_modal;\n    };\n\n    logout = async () => {\n        // reset all the states\n        this.account_list = [];\n\n        this.accounts = {};\n        this.is_logged_in = false;\n        this.loginid = '';\n        this.balance = '0';\n        this.currency = 'USD';\n\n        this.all_accounts_balance = null;\n\n        localStorage.removeItem('active_loginid');\n        localStorage.removeItem('accountsList');\n        removeSessionToken(); // Also clears from cookies\n        localStorage.removeItem('authToken');\n        localStorage.removeItem('clientAccounts');\n        removeCookies('client_information');\n\n        setIsAuthorized(false);\n        setAccountList([]);\n        setAuthData(null);\n\n        this.setIsLoggingOut(false);\n\n        Analytics.reset();\n\n        // disable livechat\n        window.LC_API?.close_chat?.();\n        window.LiveChatWidget?.call('hide');\n\n        // shutdown and initialize intercom\n        if (window.Intercom) {\n            window.Intercom('shutdown');\n            window.DerivInterCom.initialize({\n                hideLauncher: true,\n                token: null,\n            });\n        }\n\n        // Show logout success modal after logout is complete\n        this.setShowLogoutSuccessModal(true);\n    };\n\n    destroy() {\n        this.authDataSubscription?.unsubscribe();\n        observer.unregister('api.authorize', this.onAuthorizeEvent);\n    }\n}\n",
            "size_bytes": 8456
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Indicators/Parts/period.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../../utils';\n\nwindow.Blockly.Blocks.period = {\n    init() {\n        this.jsonInit({\n            message0: localize('Period {{ input_period }}', { input_period: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'PERIOD',\n                    check: null,\n                },\n            ],\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange: window.Blockly.Blocks.input_list.onchange,\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    allowed_parents: [\n        'bb_statement',\n        'bba_statement',\n        'ema_statement',\n        'emaa_statement',\n        'macda_statement',\n        'rsi_statement',\n        'rsia_statement',\n        'sma_statement',\n        'smaa_statement',\n    ],\n    getRequiredValueInputs() {\n        return {\n            PERIOD: null,\n        };\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.period = () => {};\n",
            "size_bytes": 1360
        },
        "src/pages/bot-builder/quick-strategy/inputs/qs-toggle-switch.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { Field, useFormikContext } from 'formik';\nimport Popover from '@/components/shared_ui/popover';\nimport Text from '@/components/shared_ui/text';\nimport ToggleSwitch from '@/components/shared_ui/toggle-switch';\nimport { localize } from '@deriv-com/translations';\nimport { TFormData } from '../types';\n\ntype TQSToggleSwitch = {\n    name: string;\n    label: string;\n    description?: string;\n    attached?: boolean;\n    isEnabledToggleSwitch: boolean;\n    setIsEnabledToggleSwitch: () => void;\n};\n\nconst QSToggleSwitch: React.FC<TQSToggleSwitch> = ({\n    name,\n    label,\n    description,\n    attached = false,\n    isEnabledToggleSwitch,\n    setIsEnabledToggleSwitch,\n}) => {\n    const { values, setFieldValue } = useFormikContext<TFormData>();\n\n    const handleChange = async () => {\n        setIsEnabledToggleSwitch();\n        await setFieldValue(name, !values?.[name], true);\n        await setFieldValue('max_stake', values?.max_stake, true);\n    };\n\n    return (\n        <Field name={name}>\n            {() => {\n                return (\n                    <div\n                        className={classNames('qs__form__field qs__form__field__input', {\n                            'no-border-bottom-radius': attached,\n                        })}\n                    >\n                        <div className='qs__checkbox'>\n                            <div className='qs__checkbox__container'>\n                                <label className='dc-checkbox'>\n                                    <Text size='xs' className='dc-checkbox__label'>\n                                        {label}\n                                    </Text>\n                                    <Text size='xs'>{localize('(optional)')}</Text>\n                                </label>\n                                <span>\n                                    <Popover\n                                        classNameTargetIcon='qs__checkbox__info'\n                                        message={description}\n                                        zIndex='9999'\n                                        alignment='top'\n                                        icon='info'\n                                    />\n                                </span>\n                                <ToggleSwitch\n                                    id='dt_mobile_drawer_theme_toggler'\n                                    handleToggle={handleChange}\n                                    is_enabled={isEnabledToggleSwitch}\n                                    data-testid='qs-toggle-switch'\n                                />\n                            </div>\n                        </div>\n                    </div>\n                );\n            }}\n        </Field>\n    );\n};\n\nexport default QSToggleSwitch;\n",
            "size_bytes": 2838
        },
        "src/external/bot-skeleton/scratch/blocks/Advanced/List/lists_setIndex.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.lists_setIndex = {\n    init() {\n        this.MODE_OPTIONS = [\n            [localize('set'), 'SET'],\n            [localize('insert at'), 'INSERT'],\n        ];\n        this.WHERE_OPTIONS = [\n            [localize('#'), 'FROM_START'],\n            [localize('# from end'), 'FROM_END'],\n            [localize('first'), 'FIRST'],\n            [localize('last'), 'LAST'],\n            [localize('random'), 'RANDOM'],\n        ];\n\n        this.appendValueInput('LIST').setCheck('Array').appendField(localize('in list'));\n        this.appendDummyInput().appendField(new window.Blockly.FieldDropdown(this.MODE_OPTIONS), 'MODE');\n        this.appendDummyInput('AT');\n        this.appendValueInput('TO').appendField(localize('as'));\n\n        const block_color =\n            window.Blockly.Colours.Base.colour ||\n            window.Blockly.Colours.Base.colourSecondary ||\n            window.Blockly.Colours.Base.colourTertiary;\n        this.setColour(block_color);\n\n        this.setPreviousStatement(true, null);\n        this.setNextStatement(true, null);\n        this.setTooltip(\n            localize(\n                'This block replaces a specific item in a list with another given item. It can also insert the new item in the list at a specific position.'\n            )\n        );\n        this.updateAt(true);\n    },\n    meta() {\n        return {\n            display_name: localize('Set list item'),\n            description: localize(\n                'This block replaces a specific item in a list with another given item. It can also insert the new item in the list at a specific position.'\n            ),\n            category: window.Blockly.Categories.List,\n        };\n    },\n    mutationToDom() {\n        const container = document.createElement('mutation');\n        const isAt = this.getInput('AT').type === window.Blockly.INPUT_VALUE;\n\n        container.setAttribute('at', isAt);\n        return container;\n    },\n    domToMutation(xmlElement) {\n        const isAt = xmlElement.getAttribute('at') !== 'false';\n        this.updateAt(isAt);\n    },\n    updateAt(isAt) {\n        this.removeInput('AT', true);\n\n        if (isAt) {\n            this.appendValueInput('AT').setCheck('Number');\n        } else {\n            this.appendDummyInput('AT');\n        }\n\n        const menu = new window.Blockly.FieldDropdown(this.WHERE_OPTIONS, value => {\n            const newAt = ['FROM_START', 'FROM_END'].includes(value);\n            if (newAt !== isAt) {\n                this.updateAt(newAt);\n                this.setFieldValue(value, 'WHERE');\n                return null;\n            }\n            return undefined;\n        });\n\n        this.moveInputBefore('AT', 'TO');\n        this.getInput('AT').appendField(menu, 'WHERE');\n        this.initSvg();\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n};\n\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.lists_setIndex = block => {\n    const mode = block.getFieldValue('MODE') || 'SET';\n    const where = block.getFieldValue('WHERE') || 'FIRST';\n    const value =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'TO',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_ASSIGNMENT\n        ) || 'null';\n\n    let list =\n        window.Blockly.JavaScript.javascriptGenerator.valueToCode(\n            block,\n            'LIST',\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_MEMBER\n        ) || '[]';\n\n    const cacheList = () => {\n        if (list.match(/^\\w+$/)) {\n            return '';\n        }\n\n        // eslint-disable-next-line no-underscore-dangle\n        const listVar = window.Blockly.JavaScript.variableDB_.getDistinctName(\n            'tmpList',\n            window.Blockly.Variables.CATEGORY_NAME\n        );\n        const code = `var ${listVar} = ${list};\\n`;\n\n        list = listVar;\n        return code;\n    };\n\n    let code;\n\n    if (where === 'FIRST') {\n        if (mode === 'SET') {\n            code = `${list}[0] = ${value};\\n`;\n        } else if (mode === 'INSERT') {\n            code = `${list}.unshift(${value});\\n`;\n        }\n    } else if (where === 'LAST') {\n        if (mode === 'SET') {\n            code = cacheList();\n            code += `${list}[${list}.length - 1] = ${value};\\n`;\n        } else if (mode === 'INSERT') {\n            code = `${list}.push(${value});\\n`;\n        }\n    } else if (where === 'FROM_START') {\n        const at = window.Blockly.JavaScript.javascriptGenerator.getAdjusted(block, 'AT');\n        if (mode === 'SET') {\n            code = `${list}[${at}] = ${value};\\n`;\n        } else if (mode === 'INSERT') {\n            code = `${list}.splice(${at}, 0, ${value});\\n`;\n        }\n    } else if (where === 'FROM_END') {\n        const at = window.Blockly.JavaScript.javascriptGenerator.getAdjusted(\n            block,\n            'AT',\n            1,\n            false,\n            window.Blockly.JavaScript.javascriptGenerator.ORDER_SUBTRACTION\n        );\n        code = cacheList();\n        if (mode === 'SET') {\n            code = `${list}[${list}.length - ${at}] = ${value};\\n`;\n        } else if (mode === 'INSERT') {\n            code = `${list}.splice(${list}.length - ${at}, 0, ${value});\\n`;\n        }\n    } else if (where === 'RANDOM') {\n        code = cacheList();\n\n        // eslint-disable-next-line no-underscore-dangle\n        const xVar = window.Blockly.JavaScript.variableDB_.getDistinctName(\n            'tmpX',\n            window.Blockly.Variables.CATEGORY_NAME\n        );\n\n        code += `var ${xVar} = Math.floor(Math.random() * ${list}.length);\\n`;\n\n        if (mode === 'SET') {\n            code += `${list}[${xVar}] = ${value};\\n`;\n        } else if (mode === 'INSERT') {\n            code += `${list}.splice(${xVar}, 0, ${value});\\n`;\n        }\n    }\n\n    return code;\n};\n",
            "size_bytes": 5916
        },
        "src/components/layout/header/mobile-menu/__tests__/menu-content.spec.tsx": {
            "content": "import { BrowserRouter } from 'react-router-dom';\nimport { mockStore, StoreProvider } from '@/hooks/useStore';\nimport { mock_ws } from '@/utils/mock';\nimport { useDevice } from '@deriv-com/ui';\nimport { render, screen } from '@testing-library/react';\nimport MenuContent from '../menu-content';\n\njest.mock('@deriv-com/ui', () => ({\n    ...jest.requireActual('@deriv-com/ui'),\n    useDevice: jest.fn(() => ({ isDesktop: false })),\n}));\n\ndescribe('MenuContent Component', () => {\n    const mock_store = mockStore(mock_ws as any);\n\n    // Mock client as logged in to show Hub link\n    mock_store.client.is_logged_in = true;\n\n    const wrapper = ({ children }: { children: React.ReactNode }) => (\n        <BrowserRouter>\n            <StoreProvider mockStore={mock_store}>{children}</StoreProvider>\n        </BrowserRouter>\n    );\n\n    beforeEach(() => {\n        Object.defineProperty(window, 'matchMedia', {\n            value: jest.fn(),\n            writable: true,\n        });\n    });\n\n    it('renders MenuItem components correctly', () => {\n        render(<MenuContent />, { wrapper });\n        expect(screen.getByText(/Reports/)).toBeInTheDocument();\n        expect(screen.getByText(/Dark theme/)).toBeInTheDocument();\n    });\n\n    it('adjusts text size for mobile devices', () => {\n        render(<MenuContent />, { wrapper });\n        const text = screen.getByText(/Reports/);\n        expect(text).toHaveClass('derivs-text__size--md');\n    });\n\n    it('adjusts text size for desktop devices', () => {\n        (useDevice as jest.Mock).mockReturnValue({ isDesktop: true });\n        render(<MenuContent />, { wrapper });\n        const text = screen.getByText(/Reports/);\n        expect(text).toHaveClass('derivs-text__size--sm');\n    });\n});\n",
            "size_bytes": 1739
        },
        "src/components/shared_ui/tabs/index.ts": {
            "content": "import Tabs from './tabs';\nimport './tabs.scss';\n\nexport default Tabs;\n",
            "size_bytes": 71
        },
        "src/components/shared/utils/contract/trade-url-params-config.ts": {
            "content": "import { ActiveSymbols } from '@deriv/api-types';\nimport { TTextValueStrings, TTradeTypesCategories } from '../constants/contract';\nimport { standalone_routes } from '../routes';\n\ntype TGetTradeURLParamsArgs = {\n    active_symbols?: ActiveSymbols;\n    contract_types_list?: TTradeTypesCategories;\n};\n\ntype TTradeUrlParams = {\n    contractType?: string;\n    chartType?: string;\n    granularity?: number;\n    symbol?: string;\n};\n\ntype TTradeURLParamsConfig = {\n    [key: string]: TTextValueStrings[];\n};\n\nconst TRADE_URL_PARAMS = {\n    CHART_TYPE: 'chart_type',\n    INTERVAL: 'interval',\n    SYMBOL: 'symbol',\n    TRADE_TYPE: 'trade_type',\n};\n\nconst tradeURLParamsConfig: TTradeURLParamsConfig = {\n    chartType: [\n        { text: 'area', value: 'line' },\n        { text: 'candle', value: 'candles' },\n        { text: 'hollow', value: 'hollow' },\n        { text: 'ohlc', value: 'ohlc' },\n    ],\n    interval: [\n        { text: '1t', value: '0' },\n        { text: '1m', value: '60' },\n        { text: '2m', value: '120' },\n        { text: '3m', value: '180' },\n        { text: '5m', value: '300' },\n        { text: '10m', value: '600' },\n        { text: '15m', value: '900' },\n        { text: '30m', value: '1800' },\n        { text: '1h', value: '3600' },\n        { text: '2h', value: '7200' },\n        { text: '4h', value: '14400' },\n        { text: '8h', value: '28800' },\n        { text: '1d', value: '86400' },\n    ],\n};\n\nconst getParamTextByValue = (value: number | string, key: string) =>\n    tradeURLParamsConfig[key].find(interval => interval.value === value.toString())?.text ?? '';\n\nexport const getTradeURLParams = ({ active_symbols = [], contract_types_list = {} }: TGetTradeURLParamsArgs = {}) => {\n    const searchParams = new URLSearchParams(window.location.search);\n    const result: TTradeUrlParams & { showModal?: boolean } = {};\n    if (searchParams.toString()) {\n        const { chart_type, interval, trade_type, symbol } = [...searchParams.entries()].reduce<{\n            [key: string]: string;\n        }>((acc, [key, value]) => ({ ...acc, [key]: value }), {});\n        const validInterval = tradeURLParamsConfig.interval.find(item => item.text === interval);\n        const validChartType = tradeURLParamsConfig.chartType.find(item => item.text === chart_type);\n        const chartTypeParam = Number(validInterval?.value) === 0 ? 'line' : validChartType?.value;\n        const isSymbolValid = active_symbols.some(\n            item => (item as any).underlying_symbol === symbol || item.symbol === symbol\n        );\n        const contractList = Object.keys(contract_types_list).reduce<string[]>((acc, key) => {\n            const categories: TTradeTypesCategories['Ups & Downs']['categories'] =\n                contract_types_list[key]?.categories || [];\n            return [...acc, ...categories.map(contract => (contract as TTextValueStrings).value)];\n        }, []);\n        const isTradeTypeValid = contractList.includes(trade_type ?? '');\n\n        if (validInterval) result.granularity = Number(validInterval.value);\n        if (validChartType) result.chartType = chartTypeParam;\n        if (isSymbolValid) result.symbol = symbol;\n        if (isTradeTypeValid) result.contractType = trade_type;\n        if (\n            (!isSymbolValid && symbol && active_symbols.length) ||\n            (!isTradeTypeValid && trade_type && contractList.length)\n        )\n            result.showModal = true;\n    }\n    return result;\n};\n\nexport const setTradeURLParams = ({ contractType, symbol, chartType, granularity }: TTradeUrlParams) => {\n    const searchParams = new URLSearchParams(window.location.search);\n    chartType && searchParams.set(TRADE_URL_PARAMS.CHART_TYPE, getParamTextByValue(chartType, 'chartType'));\n    !isNaN(Number(granularity)) &&\n        searchParams.set(\n            TRADE_URL_PARAMS.INTERVAL,\n            getParamTextByValue(Number(granularity), TRADE_URL_PARAMS.INTERVAL)\n        );\n    symbol && searchParams.set(TRADE_URL_PARAMS.SYMBOL, symbol);\n    contractType && searchParams.set(TRADE_URL_PARAMS.TRADE_TYPE, contractType);\n    if (searchParams.toString() && window.location.pathname === standalone_routes.trade) {\n        const newQuery = `${window.location.pathname}?${searchParams.toString()}`;\n        window.history.replaceState({}, document.title, newQuery);\n    }\n};\n",
            "size_bytes": 4311
        },
        "src/global.d.ts": {
            "content": "declare global {\n    interface Window {\n        __webpack_public_path__: string;\n        Analytics: unknown;\n        DD_RUM: object | undefined;\n        GrowthbookFeatures: { [key: string]: boolean };\n        LC_API: {\n            on_chat_ended: VoidFunction;\n            open_chat_window: VoidFunction;\n            close_chat: VoidFunction;\n        };\n        LiveChatWidget: {\n            call: (key: string, value?: object | string) => void;\n            init: () => void;\n            on: (\n                key: string,\n                callback: (data: { state: { availability: string; visibility: string } }) => void\n            ) => void;\n        };\n        dataLayer: {\n            push: (event: { [key: string]: boolean | number | string; event: string }) => void;\n        };\n        DerivInterCom: {\n            initialize: (config: IntercomConfig) => void;\n        };\n        Intercom: any;\n    }\n}\n\nexport {};\n",
            "size_bytes": 919
        },
        "src/utils/url-redirect-utils.ts": {
            "content": "/**\n * Generate URL with redirect parameter back to current page and account_type if available\n * @param baseUrl - The base URL to add parameters to\n * @returns URL with redirect parameter to current page and account_type parameter (excluding query params)\n */\nexport const generateUrlWithRedirect = (baseUrl: string): string => {\n    try {\n        // Use origin + pathname to exclude query parameters\n        const currentUrl = window.location.origin + window.location.pathname;\n        const url = new URL(baseUrl);\n\n        // Always add redirect parameter\n        url.searchParams.set('redirect', currentUrl);\n\n        // Add account_type parameter if it exists in localStorage\n        const accountType = localStorage.getItem('account_type');\n        if (accountType) {\n            url.searchParams.set('account_type', accountType);\n        }\n\n        return url.toString();\n    } catch (error) {\n        console.error('Error generating URL with redirect:', error);\n        // Fallback to base URL\n        return baseUrl;\n    }\n};\n",
            "size_bytes": 1036
        },
        "src/external/bot-skeleton/scratch/blocks/Logic/logic_null.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { modifyContextMenu } from '../../utils';\n\nwindow.Blockly.Blocks.logic_null = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            inputsInline: true,\n            message0: 'null',\n            output: null,\n            outputShape: window.Blockly.OUTPUT_SHAPE_ROUND,\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block assigns a null value to an item or statement.'),\n            category: window.Blockly.Categories.Logic,\n        };\n    },\n    customContextMenu(menu) {\n        modifyContextMenu(menu);\n    },\n    meta() {\n        return {\n            display_name: localize('Null'),\n            description: localize('This block assigns a null value to an item or statement.'),\n        };\n    },\n};\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.logic_null = () => [\n    'null',\n    window.Blockly.JavaScript.javascriptGenerator.ORDER_ATOMIC,\n];\n",
            "size_bytes": 1166
        },
        "src/components/contract-card-loading/contract-card-running-bot.tsx": {
            "content": "import Text from '@/components/shared_ui/text';\nimport { LabelPairedLoaderMdBoldIcon } from '@deriv/quill-icons/LabelPaired';\nimport { localize } from '@deriv-com/translations';\nimport './contract-card-loading.scss';\n\nexport const message_running_bot = localize('Your bot is running and waiting for a signal to buy a contract.');\n\nconst ContractCardRunningBot = () => (\n    <div className='db-contract-card-running-loader'>\n        <LabelPairedLoaderMdBoldIcon id='rotate-icon' fontSize={16} fill='var(--text-general)' />\n        <Text\n            color='less-prominent'\n            lineHeight='xs'\n            size='xs'\n            weight='bold'\n            align='center'\n            className='dc-contract-card-message'\n        >\n            {message_running_bot}\n        </Text>\n    </div>\n);\n\nexport default ContractCardRunningBot;\n",
            "size_bytes": 837
        },
        "src/pages/tutorials/quick-strategy-content/quick-strategy-guides.tsx": {
            "content": "import React from 'react';\nimport Text from '@/components/shared_ui/text';\nimport { useStore } from '@/hooks/useStore';\nimport { localize } from '@deriv-com/translations';\nimport { useDevice } from '@deriv-com/ui';\nimport QuickStrategyGuidesDetail from './quick-strategy-guides-details';\nimport './index.scss';\n\nconst QuickStrategyGuides = () => {\n    const { isDesktop } = useDevice();\n    const { dashboard } = useStore();\n    const { quick_strategy_tab_content } = dashboard;\n    const [tutorial_selected_strategy, setTutorialSelectedStrategy] = React.useState('');\n\n    return (\n        <div className='tutorials-quick-strategy'>\n            {tutorial_selected_strategy === '' && quick_strategy_tab_content().length > 0 && (\n                <Text\n                    className='tutorials-quick-strategy__title'\n                    weight='bold'\n                    color='prominent'\n                    lineHeight='s'\n                    size={isDesktop ? 's' : 'xs'}\n                    as='div'\n                >\n                    {localize('Quick strategy guides')}\n                </Text>\n            )}\n            <QuickStrategyGuidesDetail\n                tutorial_selected_strategy={tutorial_selected_strategy}\n                setTutorialSelectedStrategy={setTutorialSelectedStrategy}\n                quick_strategy_tab_content={quick_strategy_tab_content()}\n            />\n        </div>\n    );\n};\n\nexport default QuickStrategyGuides;\n",
            "size_bytes": 1450
        },
        "src/components/shared_ui/modal/index.ts": {
            "content": "import Modal from './modal';\nimport './modal.scss';\n\nexport default Modal;\n",
            "size_bytes": 75
        },
        "src/components/shared_ui/checkbox/index.ts": {
            "content": "import Checkbox from './checkbox';\nimport './checkbox.scss';\n\nexport default Checkbox;\n",
            "size_bytes": 87
        },
        "src/components/draggable/index.ts": {
            "content": "import Draggable from './draggable';\nimport './draggable.scss';\n\nexport default Draggable;\n",
            "size_bytes": 91
        },
        "src/external/bot-skeleton/scratch/blocks/Binary/Trade Definition/trade_definition_restartbuysell.js": {
            "content": "import { localize } from '@deriv-com/translations';\nimport { excludeOptionFromContextMenu, modifyContextMenu } from '../../../utils';\n\nwindow.Blockly.Blocks.trade_definition_restartbuysell = {\n    init() {\n        this.jsonInit({\n            message0: localize('Restart buy/sell on error (disable for better performance): {{ checkbox }}', {\n                checkbox: '%1',\n            }),\n            args0: [\n                {\n                    type: 'field_checkbox',\n                    name: 'TIME_MACHINE_ENABLED',\n                    checked: false,\n                    class: 'blocklyCheckbox',\n                },\n            ],\n            colour: window.Blockly.Colours.Base.colour,\n            colourSecondary: window.Blockly.Colours.Base.colourSecondary,\n            colourTertiary: window.Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n        this.setOnChange(() => {\n            const next_block = this?.getNextBlock();\n            if (next_block?.type !== 'trade_definition_restartonerror') {\n                next_block?.unplug(true);\n            }\n        });\n    },\n    onchange(/* event */) {\n        if (!this.workspace || window.Blockly.derivWorkspace.isFlyoutVisible || this.workspace.isDragging()) {\n            return;\n        }\n\n        this.enforceLimitations();\n    },\n    customContextMenu(menu) {\n        const menu_items = [localize('Enable Block'), localize('Disable Block')];\n        excludeOptionFromContextMenu(menu, menu_items);\n        modifyContextMenu(menu);\n    },\n    enforceLimitations: window.Blockly.Blocks.trade_definition_market.enforceLimitations,\n    required_inputs: ['TIME_MACHINE_ENABLED'],\n};\nwindow.Blockly.JavaScript.javascriptGenerator.forBlock.trade_definition_restartbuysell = () => {};\n",
            "size_bytes": 1883
        },
        "src/utils/help-content/help-strings/epoch.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize('\"Seconds Since Epoch\" block returns the number of seconds since January 1st, 1970.'),\n        localize('Example:'),\n        localize('1551661986 seconds since Jan 01 1970 (UTC) translates to 03/04/2019 @ 1:13am (UTC).'),\n        localize('You might need it when you want to repeat an actions after certain amount of time.'),\n        localize('The example below restarts trading after 30 or more seconds after 1 minute candle was started.'),\n    ],\n};\n",
            "size_bytes": 557
        },
        "src/pages/dashboard/announcements/utils/accumulator-helper-functions.ts": {
            "content": "import { load, save_types } from '@/external/bot-skeleton';\nimport { ANNOUNCEMENTS, BUTTON_ACTION_TYPE, TAnnouncement, TAnnouncementItem } from '../config';\n\nexport const handleOnConfirmAccumulator = () => {\n    import(/* webpackChunkName: `[request]` */ '@/external/bot-skeleton/scratch/xml/main.xml')\n        .then(strategy_xml => {\n            const strategy_dom = Blockly.utils.xml.textToDom(strategy_xml.default);\n            const modifyFieldDropdownValues = (name: string, value: string) => {\n                const name_list = `${name.toUpperCase()}_LIST`;\n                const el_blocks = strategy_dom?.querySelectorAll(`field[name=\"${name_list}\"]`);\n\n                el_blocks?.forEach((el_block: HTMLElement) => {\n                    el_block.textContent = value;\n                });\n            };\n            modifyFieldDropdownValues('tradetypecat', 'accumulator');\n\n            const { derivWorkspace: workspace } = Blockly;\n\n            load({\n                block_string: Blockly.Xml.domToText(strategy_dom),\n                file_name: 'Strategy with accumulator trade type',\n                workspace,\n                from: save_types.UNSAVED,\n                drop_event: null,\n                strategy_id: null,\n                showIncompatibleStrategyDialog: null,\n            });\n        })\n        .catch(error => {\n            /* eslint-disable no-console */\n            console.error('Failed to load strategy XML:', error);\n        });\n};\n\nexport const performButtonAction = (\n    item: TAnnouncementItem,\n    modalButtonAction: (announce_id: string, announcement: TAnnouncement) => void,\n    handleRedirect: (url: string) => void\n) => {\n    switch (item.buttonAction) {\n        case BUTTON_ACTION_TYPE.MODAL_BUTTON_ACTION: {\n            return modalButtonAction(item.id, ANNOUNCEMENTS[item.id]);\n        }\n        case BUTTON_ACTION_TYPE.REDIRECT_BUTTON_ACTION: {\n            const urlRedirect = ANNOUNCEMENTS[item.id].url_redirect;\n            if (urlRedirect) {\n                return handleRedirect(urlRedirect);\n            }\n            return false;\n        }\n        default:\n            return false;\n    }\n};\n",
            "size_bytes": 2144
        },
        "src/utils/help-content/help-strings/controls_flow_statements.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize(\n            'This block is used to either terminate or continue a loop, and can be placed anywhere within a loop block.'\n        ),\n        localize('Examples:'),\n        localize(\n            '1. In the below example the loop is terminated in case \"x\" is \"False\" even though only one iteration is complete'\n        ),\n        localize(\n            '2. In the below example the loop jumps to the next iteration without executing below block in case if \"x\" is \"False\"'\n        ),\n    ],\n};\n",
            "size_bytes": 595
        },
        "src/utils/help-content/help-strings/text_prompt_ext.ts": {
            "content": "import { localize } from '@deriv-com/translations';\n\nexport default {\n    text: () => [\n        localize(\n            'This block displays a dialog box that uses a customised message to prompt for an input. The input can be either a string of text or a number and can be assigned to a variable. When the dialog box is displayed, your strategy is paused and will only resume after you enter a response and click \"OK\".'\n        ),\n    ],\n};\n",
            "size_bytes": 439
        },
        "analysis-tool/Benanalysistool-final-main/components/ai-prediction-panel.tsx": {
            "content": "\"use client\"\n\nimport { motion } from \"framer-motion\"\nimport type { PredictionResult } from \"@/lib/ai-predictor\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, Cell } from \"recharts\"\nimport { Brain } from \"lucide-react\"\n\ninterface AIPredictionPanelProps {\n  prediction: PredictionResult | null\n}\n\nexport function AIPredictionPanel({ prediction }: AIPredictionPanelProps) {\n  if (!prediction) {\n    return (\n      <Card className=\"neomorph\">\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Brain className=\"h-5 w-5 text-primary\" />\n            AI Predictions\n          </CardTitle>\n          <CardDescription>Waiting for sufficient data...</CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"text-center py-8 text-muted-foreground\">Collecting tick data for AI analysis...</div>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  const chartData = prediction.predictions.map((p) => ({\n    digit: p.digit.toString(),\n    probability: p.probability,\n    isTop: p.digit === prediction.topPrediction.digit,\n    isSecond: p.digit === prediction.secondPrediction.digit,\n  }))\n\n  const getBarColor = (entry: any) => {\n    if (entry.isTop) return \"hsl(var(--success))\"\n    if (entry.isSecond) return \"hsl(var(--accent))\"\n    return \"hsl(var(--muted))\"\n  }\n\n  return (\n    <Card className=\"neomorph\">\n      <CardHeader>\n        <CardTitle className=\"flex items-center gap-2\">\n          <Brain className=\"h-5 w-5 text-primary\" />\n          AI Predictions\n        </CardTitle>\n        <CardDescription>Statistical pattern analysis & probability distribution</CardDescription>\n      </CardHeader>\n      <CardContent className=\"space-y-6\">\n        {/* Top Predictions */}\n        <div className=\"grid grid-cols-2 gap-4\">\n          <motion.div\n            initial={{ scale: 0.9, opacity: 0 }}\n            animate={{ scale: 1, opacity: 1 }}\n            className=\"neomorph-inset rounded-xl p-6 text-center\"\n          >\n            <div className=\"text-sm text-muted-foreground mb-2\">Top Prediction</div>\n            <div className=\"text-5xl font-bold text-success mb-2\">{prediction.topPrediction.digit}</div>\n            <div className=\"text-lg font-semibold text-foreground\">\n              {prediction.topPrediction.confidence.toFixed(1)}%\n            </div>\n          </motion.div>\n          <motion.div\n            initial={{ scale: 0.9, opacity: 0 }}\n            animate={{ scale: 1, opacity: 1 }}\n            transition={{ delay: 0.1 }}\n            className=\"neomorph-inset rounded-xl p-6 text-center\"\n          >\n            <div className=\"text-sm text-muted-foreground mb-2\">Second Best</div>\n            <div className=\"text-5xl font-bold text-accent mb-2\">{prediction.secondPrediction.digit}</div>\n            <div className=\"text-lg font-semibold text-foreground\">\n              {prediction.secondPrediction.confidence.toFixed(1)}%\n            </div>\n          </motion.div>\n        </div>\n\n        {/* Explanation */}\n        <div className=\"glass rounded-xl p-4\">\n          <div className=\"text-sm font-medium text-muted-foreground mb-2\">Analysis</div>\n          <p className=\"text-sm text-foreground leading-relaxed\">{prediction.explanation}</p>\n        </div>\n\n        {/* Probability Distribution Chart */}\n        <div>\n          <div className=\"text-sm font-medium text-muted-foreground mb-3\">Probability Distribution</div>\n          <ResponsiveContainer width=\"100%\" height={250}>\n            <BarChart data={chartData}>\n              <CartesianGrid strokeDasharray=\"3 3\" stroke=\"hsl(var(--border))\" />\n              <XAxis dataKey=\"digit\" stroke=\"hsl(var(--muted-foreground))\" />\n              <YAxis stroke=\"hsl(var(--muted-foreground))\" />\n              <Tooltip\n                contentStyle={{\n                  backgroundColor: \"hsl(var(--card))\",\n                  border: \"1px solid hsl(var(--border))\",\n                  borderRadius: \"0.5rem\",\n                }}\n                labelStyle={{ color: \"hsl(var(--foreground))\" }}\n                formatter={(value: any) => [`${value.toFixed(2)}%`, \"Probability\"]}\n              />\n              <Bar dataKey=\"probability\" radius={[8, 8, 0, 0]}>\n                {chartData.map((entry, index) => (\n                  <Cell key={`cell-${index}`} fill={getBarColor(entry)} />\n                ))}\n              </Bar>\n            </BarChart>\n          </ResponsiveContainer>\n        </div>\n\n        {/* Legend */}\n        <div className=\"flex items-center gap-4 text-xs text-muted-foreground flex-wrap\">\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-3 h-3 rounded bg-success\" />\n            <span>Top Prediction</span>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-3 h-3 rounded bg-accent\" />\n            <span>Second Best</span>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-3 h-3 rounded bg-muted\" />\n            <span>Other Digits</span>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n",
            "size_bytes": 5219
        },
        "src/components/data-list/data-list-cell.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { isTurbosContract, isVanillaContract } from '../shared';\nimport { TPassThrough, TRow } from '../types/common.types';\n\nexport type TColIndex =\n    | 'type'\n    | 'reference'\n    | 'currency'\n    | 'purchase'\n    | 'payout'\n    | 'profit'\n    | 'indicative'\n    | 'id'\n    | 'multiplier'\n    | 'buy_price'\n    | 'cancellation'\n    | 'limit_order'\n    | 'bid_price'\n    | 'action';\n\nexport type TRenderCellContent = {\n    cell_value: string;\n    is_footer?: boolean;\n    passthrough?: TPassThrough;\n    row_obj: TRow;\n    is_turbos?: boolean;\n    is_vanilla?: boolean;\n};\nexport type THeaderProps = {\n    title?: React.ReactNode;\n    is_vanilla?: boolean;\n};\n\nexport type TDataListCell = {\n    className?: string;\n    column?: {\n        key?: string;\n        title?: string;\n        col_index?: TColIndex;\n        renderCellContent?: (props: TRenderCellContent) => React.ReactNode;\n        renderHeader?: (prop: renderHeaderType) => React.ReactNode;\n    };\n    is_footer?: boolean;\n    passthrough?: TPassThrough;\n    row?: TRow;\n};\n\ntype renderHeaderType = { title?: string; is_vanilla?: boolean };\n\nconst DataListCell = ({ className, column, is_footer, passthrough, row }: TDataListCell) => {\n    if (!column) return null;\n    const { col_index, title } = column;\n    const cell_value = row?.[col_index as TColIndex];\n    const is_turbos = isTurbosContract(row?.contract_info?.contract_type);\n    const is_vanilla = isVanillaContract(row?.contract_info?.contract_type);\n\n    return (\n        <div className={classNames(className, column.col_index)}>\n            {!is_footer && (\n                <div className={classNames(`${column.col_index}__row-title`, 'data-list__row-title')}>\n                    {column.renderHeader ? column.renderHeader({ title, is_vanilla }) : title}\n                </div>\n            )}\n            <div className='data-list__row-content'>\n                {column.renderCellContent\n                    ? column.renderCellContent({\n                          cell_value,\n                          is_footer,\n                          passthrough,\n                          row_obj: row as TRow,\n                          is_vanilla,\n                          is_turbos,\n                      })\n                    : cell_value}\n            </div>\n        </div>\n    );\n};\n\nexport default React.memo(DataListCell);\n",
            "size_bytes": 2412
        },
        "src/pages/dashboard/announcements/index.ts": {
            "content": "import Announcements from './announcements';\n\nexport default Announcements;\n",
            "size_bytes": 76
        },
        "src/components/flyout/flyout.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { observer } from 'mobx-react-lite';\nimport { useStore } from '@/hooks/useStore';\nimport { browserOptimizer } from '@/utils/browser-performance-optimizer';\nimport { clickRateLimiter } from '@/utils/click-rate-limiter';\nimport GTM from '@/utils/gtm';\nimport { help_content_config } from '@/utils/help-content/help-content.config';\nimport { LabelPairedCircleExclamationCaptionFillIcon } from '@deriv/quill-icons';\nimport { localize } from '@deriv-com/translations';\nimport { getPlatformSettings } from '../shared';\nimport Input from '../shared_ui/input';\nimport Text from '../shared_ui/text';\nimport ThemedScrollbars from '../shared_ui/themed-scrollbars';\nimport FlyoutBlockGroup from './flyout-block-group';\nimport HelpBase from './help-contents';\n\ntype TSearchResult = {\n    search_term: string;\n    total_result: number;\n};\n\nconst SearchResult = ({ search_term, total_result }: TSearchResult) => (\n    <div className='flyout__search-header'>\n        <Text weight='bold' className='flyout__search-header-text'>\n            {localize('Results for \"{{ search_term }}\"', {\n                search_term,\n                interpolation: { escapeValue: false },\n            })}\n        </Text>\n        <Text weight='bold' color='profit-success' className='flyout__search-header-text'>\n            {`${total_result} ${total_result > 1 ? localize('results') : localize('result')}`}\n        </Text>\n    </div>\n);\n\ntype TFlyoutContent = {\n    flyout_content: Element[];\n    active_helper: string;\n    setHelpContent: (node: Element) => void;\n    initFlyoutHelp: (node: Element, block_type: string) => void;\n    is_empty: boolean;\n    is_search_flyout: boolean;\n    selected_category: Element;\n    first_get_variable_block_index: number;\n};\n\nconst FlyoutContent = (props: TFlyoutContent) => {\n    const flyout_ref = React.useRef();\n    const {\n        flyout_content,\n        active_helper,\n        setHelpContent,\n        initFlyoutHelp,\n        is_empty,\n        is_search_flyout,\n        selected_category,\n        first_get_variable_block_index,\n    } = props;\n\n    return (\n        <div\n            ref={flyout_ref}\n            className={classNames('flyout__content', { 'flyout__normal-content': !is_search_flyout })}\n        >\n            <ThemedScrollbars className='flyout__content-scrollbar'>\n                {selected_category?.getAttribute('id') === 'indicators' && (\n                    <div className='flyout__content-disclaimer'>\n                        <span className='flyout__content-disclaimer-icon'>\n                            <LabelPairedCircleExclamationCaptionFillIcon\n                                className='flyout__content-disclaimer__warning-icon'\n                                height='24px'\n                                width='24px'\n                                fill='var(--text-general)'\n                            />\n                        </span>\n                        <span className='flyout__content-disclaimer-text'>\n                            {localize(\n                                'Indicators on the chart tab are for indicative purposes only and may vary slightly from the ones on the {{platform_name_dbot}} workspace.',\n                                { platform_name_dbot: getPlatformSettings('dbot').name }\n                            )}\n                        </span>\n                    </div>\n                )}\n                {is_empty ? (\n                    <div className='flyout__search-empty'>\n                        <Text as='h2' weight='bold' lineHeight='xs'>\n                            {localize('No results found')}\n                        </Text>\n                    </div>\n                ) : (\n                    flyout_content.map((node, index) => {\n                        const tag_name = node.tagName.toUpperCase();\n                        switch (tag_name) {\n                            case window.Blockly.Xml.NODE_BLOCK: {\n                                const block_type = (node.getAttribute('type') || '') as string;\n\n                                return (\n                                    <FlyoutBlockGroup\n                                        key={`${node.getAttribute(\n                                            'type'\n                                        )}${window?.Blockly?.utils?.idGenerator?.genUid()}`}\n                                        id={`flyout__item-workspace--${index}`}\n                                        block_node={node}\n                                        should_hide_display_name={\n                                            block_type === 'variables_get'\n                                                ? index !== first_get_variable_block_index\n                                                : false\n                                        }\n                                        onInfoClick={\n                                            help_content_config(window.__webpack_public_path__)[block_type] &&\n                                            (is_search_flyout\n                                                ? () => setHelpContent(node)\n                                                : () => initFlyoutHelp(node, block_type))\n                                        }\n                                        is_active={active_helper === block_type}\n                                    />\n                                );\n                            }\n                            case window.Blockly.Xml.NODE_LABEL: {\n                                return (\n                                    <div\n                                        key={`${node.getAttribute('text')}${index}`}\n                                        className='flyout__item-label-bold'\n                                    >\n                                        {node.getAttribute('text')}\n                                    </div>\n                                );\n                            }\n                            case window.Blockly.Xml.NODE_INPUT: {\n                                return (\n                                    <Input\n                                        key={`${node.getAttribute('name')}${index}`}\n                                        className={`${node.getAttribute('className')}`}\n                                        type={`${node.getAttribute('type')}`}\n                                        name={`${node.getAttribute('name')}`}\n                                        placeholder={`${node.getAttribute('placeholder')}`}\n                                        autoComplete='off'\n                                    />\n                                );\n                            }\n                            case window.Blockly.Xml.NODE_BUTTON: {\n                                const callback_key = node.getAttribute('callbackKey');\n                                const callback_id = node.getAttribute('id') as string;\n\n                                return (\n                                    <button\n                                        id={callback_id}\n                                        key={`${callback_key}${index}`}\n                                        className={classNames(\n                                            'dc-btn',\n                                            'dc-btn-effect',\n                                            'dc-btn--primary',\n                                            `${node.getAttribute('className')}`\n                                        )}\n                                        onClick={button => {\n                                            // Safari-specific rate limiting and operation queuing with reduced lag\n                                            if (browserOptimizer.isSafariBrowser() && !clickRateLimiter.canClick()) {\n                                                console.warn('Flyout button click rate limit exceeded');\n                                                return;\n                                            }\n\n                                            const executeButtonCallback = () => {\n                                                const workspace = window.Blockly.derivWorkspace;\n                                                const button_cb = workspace.getButtonCallback(callback_key);\n                                                const callback = button_cb;\n\n                                                // Workaround for not having a flyout workspace.\n                                                // eslint-disable-next-line no-underscore-dangle\n                                                button.targetWorkspace_ = workspace;\n                                                button.getTargetWorkspace = () => {\n                                                    // eslint-disable-next-line no-underscore-dangle\n                                                    return button.targetWorkspace_;\n                                                };\n\n                                                callback?.(button);\n                                            };\n\n                                            // Only queue operations for Safari/Firefox, execute directly for Chrome\n                                            if (browserOptimizer.needsPerformanceOptimization()) {\n                                                const operationId = `flyout-button-${callback_key}-${callback_id}`;\n                                                browserOptimizer.queueOperation(operationId, executeButtonCallback);\n                                            } else {\n                                                executeButtonCallback();\n                                            }\n                                        }}\n                                    >\n                                        {node.getAttribute('text')}\n                                    </button>\n                                );\n                            }\n                            default:\n                                return null;\n                        }\n                    })\n                )}\n            </ThemedScrollbars>\n        </div>\n    );\n};\n\nconst Flyout = observer(() => {\n    const { flyout, flyout_help } = useStore();\n    const { active_helper, initFlyoutHelp, setHelpContent } = flyout_help;\n    const {\n        flyout_content,\n        flyout_width,\n        is_help_content,\n        is_search_flyout,\n        is_visible,\n        onMount,\n        onUnmount,\n        search_term,\n        selected_category,\n        first_get_variable_block_index,\n    } = flyout;\n\n    React.useEffect(() => {\n        onMount();\n        return () => onUnmount();\n    }, [onMount, onUnmount]);\n\n    if (is_visible && is_search_flyout) {\n        GTM?.pushDataLayer?.({ event: 'dbot_search_results', value: true });\n    }\n\n    const total_result = Object.keys(flyout_content).length;\n    const is_empty = total_result === 0;\n    const is_loading = selected_category && flyout_content.length === 0 && !is_search_flyout;\n\n    return (\n        is_visible && (\n            <div\n                id='gtm-search-results'\n                className={classNames('flyout', {\n                    flyout__search: is_search_flyout,\n                    flyout__help: is_help_content,\n                    flyout__normal: !is_help_content && !is_search_flyout,\n                })}\n                style={{ width: `${flyout_width}px` }}\n            >\n                {is_search_flyout && !is_help_content && (\n                    <SearchResult search_term={search_term} total_result={total_result} />\n                )}\n                {is_help_content ? (\n                    <HelpBase />\n                ) : is_loading ? (\n                    <div className='flyout__loading'>\n                        <Text as='h2' weight='bold' lineHeight='xs'>\n                            {localize('Loading...')}\n                        </Text>\n                    </div>\n                ) : (\n                    <FlyoutContent\n                        is_empty={is_empty}\n                        flyout_content={flyout_content}\n                        active_helper={active_helper}\n                        setHelpContent={setHelpContent}\n                        initFlyoutHelp={initFlyoutHelp}\n                        is_search_flyout={is_search_flyout}\n                        selected_category={selected_category}\n                        first_get_variable_block_index={first_get_variable_block_index}\n                    />\n                )}\n            </div>\n        )\n    );\n});\n\nexport default Flyout;\n",
            "size_bytes": 12633
        },
        "src/components/shared_ui/input-field/increment-buttons.tsx": {
            "content": "import React from 'react';\nimport classNames from 'classnames';\nimport { Icon } from '@/utils/tmp/dummy';\nimport Button from '../button';\n\nexport type TButtonType = 'button' | 'submit' | 'reset';\n\ntype IncrementButtonsProps = {\n    decrementValue: (\n        ev?: React.MouseEvent<HTMLButtonElement> | React.TouchEvent<HTMLButtonElement>,\n        long_press_step?: number\n    ) => void;\n    id?: string;\n    incrementValue: (\n        ev?: React.MouseEvent<HTMLButtonElement> | React.TouchEvent<HTMLButtonElement>,\n        long_press_step?: number\n    ) => void;\n    onLongPressEnd: () => void;\n    is_incrementable_on_long_press?: boolean;\n    max_is_disabled: number | boolean;\n    min_is_disabled: number | boolean;\n    type?: TButtonType;\n};\n\nconst IncrementButtons = ({\n    decrementValue,\n    id,\n    incrementValue,\n    max_is_disabled,\n    min_is_disabled,\n    is_incrementable_on_long_press,\n    onLongPressEnd,\n    type,\n}: IncrementButtonsProps) => {\n    const interval_ref = React.useRef<ReturnType<typeof setInterval>>();\n    const timeout_ref = React.useRef<ReturnType<typeof setTimeout>>();\n    const is_long_press_ref = React.useRef(false);\n\n    const handleButtonPress =\n        (\n            onChange: (\n                e: React.TouchEvent<HTMLButtonElement> | React.MouseEvent<HTMLButtonElement>,\n                step: number\n            ) => void\n        ) =>\n        (ev: React.TouchEvent<HTMLButtonElement> | React.MouseEvent<HTMLButtonElement>) => {\n            timeout_ref.current = setTimeout(() => {\n                is_long_press_ref.current = true;\n                let step = 1;\n                onChange(ev, step);\n                interval_ref.current = setInterval(() => {\n                    onChange(ev, ++step);\n                }, 50);\n            }, 300);\n        };\n\n    const handleButtonRelease = () => {\n        clearInterval(interval_ref.current);\n        clearTimeout(timeout_ref.current);\n\n        if (onLongPressEnd && is_long_press_ref.current) onLongPressEnd();\n\n        is_long_press_ref.current = false;\n    };\n\n    const getPressEvents = (\n        onChange: (e: React.TouchEvent<HTMLButtonElement> | React.MouseEvent<HTMLButtonElement>, step: number) => void\n    ) => {\n        if (!is_incrementable_on_long_press) return {};\n        return {\n            onContextMenu: (e: React.TouchEvent<HTMLButtonElement> | React.MouseEvent<HTMLButtonElement>) =>\n                e.preventDefault(),\n            onTouchStart: handleButtonPress(onChange),\n            onTouchEnd: handleButtonRelease,\n            onMouseDown: handleButtonPress(onChange),\n            onMouseUp: handleButtonRelease,\n        };\n    };\n\n    return (\n        <React.Fragment>\n            <Button\n                id={`${id}_add`}\n                className={classNames('dc-input-wrapper__button dc-input-wrapper__button--increment', {\n                    'dc-input-wrapper__button--disabled': !!max_is_disabled,\n                })}\n                disabled={!!max_is_disabled}\n                onClick={incrementValue}\n                tabIndex={-1}\n                aria-label={'Increment value'}\n                type={type}\n                {...getPressEvents(incrementValue)}\n            >\n                <Icon\n                    icon='IcAdd'\n                    className={'dc-input-wrapper__icon dc-input-wrapper__icon--plus'}\n                    color={max_is_disabled ? 'disabled' : undefined}\n                />\n            </Button>\n            <Button\n                id={`${id}_sub`}\n                className={classNames('dc-input-wrapper__button dc-input-wrapper__button--decrement', {\n                    'dc-input-wrapper__button--disabled': !!min_is_disabled,\n                })}\n                disabled={!!min_is_disabled}\n                onClick={decrementValue}\n                tabIndex={-1}\n                aria-label={'Decrement value'}\n                type={type}\n                {...getPressEvents(decrementValue)}\n            >\n                <Icon\n                    icon='IcMinus'\n                    className={'dc-input-wrapper__icon dc-input-wrapper__icon--minus'}\n                    color={min_is_disabled ? 'disabled' : undefined}\n                />\n            </Button>\n        </React.Fragment>\n    );\n};\n\nexport default IncrementButtons;\n",
            "size_bytes": 4283
        },
        "src/components/layout/footer/ChangeTheme.tsx": {
            "content": "import { observer } from 'mobx-react-lite';\nimport useThemeSwitcher from '@/hooks/useThemeSwitcher';\nimport { LegacyThemeDarkIcon, LegacyThemeLightIcon } from '@deriv/quill-icons/Legacy';\nimport { useTranslations } from '@deriv-com/translations';\nimport { Tooltip } from '@deriv-com/ui';\n\nconst ChangeTheme = observer(() => {\n    const { is_dark_mode_on, toggleTheme } = useThemeSwitcher();\n    const { localize } = useTranslations();\n\n    return (\n        <Tooltip\n            as='button'\n            className='app-footer__icon'\n            tooltipContent={localize('Change theme')}\n            onClick={toggleTheme}\n        >\n            {!is_dark_mode_on ? <LegacyThemeLightIcon iconSize='xs' /> : <LegacyThemeDarkIcon iconSize='xs' />}\n        </Tooltip>\n    );\n});\n\nexport default ChangeTheme;\n",
            "size_bytes": 800
        }
    },
    "version": 2
}
